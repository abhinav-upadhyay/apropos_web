<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
RADIO(9)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RADIO(9)</td>
<td class="head-vol" align="center">
Kernel Developer's Manual</td>
<td class="head-rtitle" align="right">
RADIO(9)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">radio</b> &#8212; <span class="desc">interface between low and high level radio drivers</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The radio device driver is divided into a high level, hardware independent layer, and a low level hardware dependent layer. The interface between these is the <b class="var">radio_hw_if</b> structure.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
struct radio_hw_if { 
	int	(*open)(void *, int, int, struct lwp *); 
	int	(*close)(void *, int, int, struct lwp *); 
	int     (*get_info)(void *, struct radio_info *); 
	int     (*set_info)(void *, struct radio_info *); 
	int     (*search)(void *, int); 
};</pre>
<p>
The high level radio driver attaches to the low level driver when the latter calls <b class="var">radio_attach_mi</b>. This call should be<p>
<pre style="margin-left: 0.00ex;" class="lit display">
    void 
    radio_attach_mi(rhwp, hdlp, dev) 
	struct radio_hw_if *rhwp; 
	void *hdlp; 
	struct device *dev;</pre>
<p>
The <b class="var">radio_hw_if</b> struct is as shown above. The <b class="var">hdlp</b> argument is a handle to some low level data structure. It is sent as the first argument to all the functions in <b class="var">radio_hw_if</b> when the high level driver calls them. <b class="var">dev</b> is the device struct for the hardware device.<p>
The fields of <b class="var">radio_hw_if</b> are described in some more detail below.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
int open (void *, int flags, int fmt, struct lwp *p); 
  Optional. 
  Is called when the radio device is opened. 
  Returns 0 on success, otherwise an error code. 
 
int close (void *, int flags, int fmt, struct lwp *p); 
  Optional. 
  Is called when the radio device is closed. 
  Returns 0 on success, otherwise an error code. 
 
int get_info (void *, struct radio_info *); 
  Fill the radio_info struct. 
  Returns 0 on success, otherwise an error code. 
 
int set_info (void *, struct radio_info *); 
  Set values from the radio_info struct. 
  Returns 0 on success, otherwise an error code. 
 
int search (void *, int); 
  Returns 0 on success, otherwise an error code.</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/radio">radio(4)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 20, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

