<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
PANIC(9)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
PANIC(9)</td>
<td class="head-vol" align="center">
Kernel Developer's Manual</td>
<td class="head-rtitle" align="right">
PANIC(9)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">panic</b> &#8212; <span class="desc">bring down system on fatal error</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">sys/systm.h</a>&gt;</b><p>
<i class="ftype">void</i><br>
<b class="fname">vpanic</b>(<i class="farg" style="white-space:nowrap;">const char *fmt</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">panic</b>(<i class="farg" style="white-space:nowrap;">const char *fmt</i>, <i class="farg" style="white-space:nowrap;">...</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">panic</b>() and <b class="fname">vpanic</b>() functions terminate the <span class="unix">NetBSD</span> system. The message <i class="farg">fmt</i> is a <a class="link-man" href="../html3/printf.html">printf(3)</a> style format string which is printed to the console and saved in the variable <b class="var">panicstr</b> for later retrieval via core dump inspection. A newline character is added at the end automatically, and is thus not needed in the format string.<p>
If a kernel debugger is installed, control is passed to it after the message is printed. If the kernel debugger is <a class="link-man" href="../html4/ddb.html">ddb(4)</a>, control may be passed to it, depending on the value of <span class="emph">ddb.onpanic</span>. See <a class="link-man" href="../html4/options.html">options(4)</a> for more details on setting <span class="emph">ddb.onpanic</span>. If control is not passed through to <a class="link-man" href="../html4/ddb.html">ddb(4)</a>, a <a class="link-man" href="../html4/ddb.html">ddb(4)</a>-specific function is used to print the kernel stack trace, and then control returns to <b class="fname">panic</b>().<p>
If control remains in <b class="fname">panic</b>(), an attempt is made to save an image of system memory on the configured dump device.<p>
If during the process of handling the panic, <b class="fname">panic</b>() is called again (from the filesystem synchronization routines, for example), the system is rebooted immediately without synchronizing any filesystems.<p>
<b class="fname">panic</b>() is meant to be used in situations where something unexpected has happened and it is difficult to recover the system to a stable state, or in situations where proceeding might make things worse, leading to data corruption and/or loss. It is not meant to be used in scenarios where the system could easily ignore and/or isolate the condition/subsystem and proceed.<p>
In general developers should try to reduce the number of <b class="fname">panic</b>() calls in the kernel to improve stability.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">panic</b>() function never returns.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/sysctl.html">sysctl(3)</a>, <a class="link-man" href="../html4/ddb.html">ddb(4)</a>, <a class="link-man" href="../html4/ipkdb.html">ipkdb(4)</a>, <a class="link-man" href="../html4/options.html">options(4)</a>, <a class="link-man" href="../html8/savecore.html">savecore(8)</a>, <a class="link-man" href="../html8/swapctl.html">swapctl(8)</a>, <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
September 29, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

