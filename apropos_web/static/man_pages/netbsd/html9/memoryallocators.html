<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MEMORYALLOCATORS(9)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MEMORYALLOCATORS(9)</td>
<td class="head-vol" align="center">
Kernel Developer's Manual</td>
<td class="head-rtitle" align="right">
MEMORYALLOCATORS(9)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">memoryallocators</b> &#8212; <span class="desc">introduction to kernel memory allocators</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <span class="unix">NetBSD</span> kernel provides several memory allocators, each with different characteristics and purpose. This document summarizes the main differences between them.<div class="subsection">
<h2 id="x546865204b6d656d20416c6c6f6361746f72">The Kmem Allocator</h2> The kmem allocator is modelled after an interface of similar name implemented in Solaris. This is main general purpose allocator in the kernel.<p>
It is implemented on-top of the <a class="link-man" href="../9/vmem">vmem(9)</a> resource allocator (beyond the scope of this document), meaning it will be using <a class="link-man" href="../9/pool_cache">pool_cache(9)</a> internally to speed-up common (small) sized allocations.<p>
It requires no setup, but cannot be used from interrupt context.<p>
See <a class="link-man" href="../9/kmem">kmem(9)</a> for more details.</div>
<div class="subsection">
<h2 id="x54686520506f6f6c20416c6c6f6361746f72">The Pool Allocator</h2> The <a class="link-man" href="../9/pool">pool(9)</a> allocator is a fixed-size memory allocator. It requires setup (to initialize a memory pool) and is interrupt-safe.<p>
See <a class="link-man" href="../9/pool">pool(9)</a> for more details.</div>
<div class="subsection">
<h2 id="x54686520506f6f6c20436163686520416c6c6f6361746f72">The Pool Cache Allocator</h2> The pool cache allocator works on-top of the <a class="link-man" href="../9/pool">pool(9)</a> allocator, also allowing fixed-size allocation only, requires setup, and is interrupt-safe.<p>
The pool cache allocator is expected to be faster than other allocators, including the &#8220;normal&#8221; pool allocator.<p>
In the future this allocator is expected to have a per-CPU cache.<p>
See <a class="link-man" href="../9/pool_cache">pool_cache(9)</a> for more details.</div>
<div class="subsection">
<h2 id="x5468652055564d204b65726e656c204d656d6f727920416c6c6f6361746f72">The UVM Kernel Memory Allocator</h2> This is a low-level memory allocator interface. It allows variable-sized allocations in multiples of <span class="define">PAGE_SIZE</span>, and can be used to allocate both wired and pageable kernel memory.<p>
See <a class="link-man" href="../9/uvm">uvm(9)</a> for more details.</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../9/intro">intro(9)</a>, <a class="link-man" href="../9/kmem">kmem(9)</a>, <a class="link-man" href="../9/pool">pool(9)</a>, <a class="link-man" href="../9/pool_cache">pool_cache(9)</a>, <a class="link-man" href="../9/uvm">uvm(9)</a>, <a class="link-man" href="../9/vmem">vmem(9)</a></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Elad Efrat</span> &#60;<a class="link-mail" href="mailto:elad@NetBSD.org">elad@NetBSD.org</a>&#62; <span class="author">YAMAMOTO Takashi</span> &#60;<a class="link-mail" href="mailto:yamt@NetBSD.org">yamt@NetBSD.org</a>&#62;</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 3, 2009</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

