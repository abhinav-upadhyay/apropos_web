<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
HZ(9)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
HZ(9)</td>
<td class="head-vol" align="center">
Kernel Developer's Manual</td>
<td class="head-rtitle" align="right">
HZ(9)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">hz</b>, <b class="name">tick</b>, <b class="name">tickadj</b>, <b class="name">stathz</b>, <b class="name">profhz</b> &#8212; <span class="desc">system time model</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/kernel.h</a>&gt;</b><p>
<br>
<span class="type">extern int hz;</span><br>
<span class="type">extern int tick;</span><br>
<span class="type">extern int tickadj;</span><br>
<span class="type">extern int stathz;</span><br>
<span class="type">extern int profhz;</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The essential clock handling routines in <span class="unix">NetBSD</span> are written to operate with two timers that run independently of each other. The main clock, running <b class="var">hz</b> times per second, is used to keep track of real time.<p>
In another words, <b class="var">hz</b> specifies the number of times the <a class="link-man" href="../html9/hardclock.html">hardclock(9)</a> timer ticks per second. Normally <a class="link-man" href="../html9/hardclock.html">hardclock(9)</a> increments time by <b class="var">tick</b> each time it is called. If the system clock has drifted, <a class="link-man" href="../html2/adjtime.html">adjtime(2)</a> may be used to skew this increment based on the rate of <b class="var">tickadj</b>.<p>
The second timer is used to gather timing statistics. It also handles kernel and user profiling. If the second timer is programmable, it is randomized to avoid aliasing between the two clocks. The mean frequency of the second timer is <b class="var">stathz</b>. If a separate clock is not available, <b class="var">stathz</b> is set to <b class="var">hz</b>.<p>
If profiling is enabled, the clock normally used to drive <b class="var">stathz</b> may be run at a higher rate <b class="var">profhz</b>, which is required to be a multiple of <b class="var">stathz</b>. This will give higher resolution profiling information.<p>
These system variables are also available as <span class="emph">struct clockinfo</span> from <a class="link-man" href="../html3/sysctl.html">sysctl(3)</a> and <span class="symb">kern.clockrate</span> from <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a>. The <b class="var">hz</b> is hardware-dependent; it can be overridden (if the machine dependent code supports this) by defining <span class="define">HZ</span> in the kernel configuration file (see <a class="link-man" href="../html4/options.html">options(4)</a>). Only override the default value if you really know what you are doing.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/adjtime.html">adjtime(2)</a>, <a class="link-man" href="../html9/callout.html">callout(9)</a>, <a class="link-man" href="../html9/hardclock.html">hardclock(9)</a>, <a class="link-man" href="../html9/microtime.html">microtime(9)</a>, <a class="link-man" href="../html9/time_second.html">time_second(9)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
March 25, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

