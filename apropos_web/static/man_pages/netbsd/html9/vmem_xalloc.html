<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
VMEM(9)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
VMEM(9)</td>
<td class="head-vol" align="center">
Kernel Developer's Manual</td>
<td class="head-rtitle" align="right">
VMEM(9)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">vmem</b> &#8212; <span class="desc">virtual memory allocator</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/vmem.h</a>&gt;</b><p>
<i class="ftype">vmem_t *</i><br>
<b class="fname">vmem_create</b>(<i class="farg" style="white-space:nowrap;">const char *name</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t base</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t size</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t quantum</i>, <i class="farg" style="white-space:nowrap;">int (*allocfn)(void *, vmem_size_t, vm_flag_t, vmem_addr_t *)</i>, <i class="farg" style="white-space:nowrap;">void (*freefn)(void *, vmem_addr_t, vmem_size_t)</i>, <i class="farg" style="white-space:nowrap;">void *arg</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t qcache_max</i>, <i class="farg" style="white-space:nowrap;">vm_flag_t flags</i>, <i class="farg" style="white-space:nowrap;">int ipl</i>);<p>
<i class="ftype">vmem_t *</i><br>
<b class="fname">vmem_xcreate</b>(<i class="farg" style="white-space:nowrap;">const char *name</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t base</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t size</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t quantum</i>, <i class="farg" style="white-space:nowrap;">int (*allocfn)(void *, vmem_size_t, vmem_size_t *, vm_flag_t, vmem_addr_t *)</i>, <i class="farg" style="white-space:nowrap;">void (*freefn)(void *, vmem_addr_t, vmem_size_t)</i>, <i class="farg" style="white-space:nowrap;">void *arg</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t qcache_max</i>, <i class="farg" style="white-space:nowrap;">vm_flag_t flags</i>, <i class="farg" style="white-space:nowrap;">int ipl</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">vmem_add</b>(<i class="farg" style="white-space:nowrap;">vmem_t *vm</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t addr</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t size</i>, <i class="farg" style="white-space:nowrap;">vm_flag_t flags</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t *addrp</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">vmem_xalloc</b>(<i class="farg" style="white-space:nowrap;">vmem_t *vm</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t size</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t align</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t phase</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t nocross</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t minaddr</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t maxaddr</i>, <i class="farg" style="white-space:nowrap;">vm_flag_t flags</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t *addrp</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">vmem_xfree</b>(<i class="farg" style="white-space:nowrap;">vmem_t *vm</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t addr</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t size</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">vmem_alloc</b>(<i class="farg" style="white-space:nowrap;">vmem_t *vm</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t size</i>, <i class="farg" style="white-space:nowrap;">vm_flag_t flags</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t *addrp</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">vmem_free</b>(<i class="farg" style="white-space:nowrap;">vmem_t *vm</i>, <i class="farg" style="white-space:nowrap;">vmem_addr_t addr</i>, <i class="farg" style="white-space:nowrap;">vmem_size_t size</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">vmem_destroy</b>(<i class="farg" style="white-space:nowrap;">vmem_t *vm</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">vmem</b> is a general purpose resource allocator. Despite its name, it can be used for arbitrary resources other than virtual memory.<p>
<b class="fname">vmem_create</b>() creates a new vmem arena.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">name</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The string to describe the vmem.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">base</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The start address of the initial span. Pass <span class="define">0</span> if no initial span is required.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">size</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The size of the initial span. Pass <span class="define">0</span> if no initial span is required.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">quantum</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The smallest unit of allocation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">allocfn</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The callback function used to import spans from the backend arena. Set both <i class="farg">allocfn</i> and <i class="farg">freefn</i> to <span class="define">NULL</span> to disable automatic imports. <b class="name">vmem</b> calls <b class="fname">(*allocfn)</b>(<i class="farg">arg</i>, <i class="farg">size</i>, <i class="farg">flags</i>, <i class="farg">&amp;addrp</i>); to import a span of size at least <i class="farg">size</i>. <i class="farg">allocfn</i> should accept the same <i class="farg">flags</i> as <b class="fname">vmem_alloc</b>(). <i class="farg">allocfn</i> must return <span class="define">ENOMEM</span> to indicate failure, or 0 on success. If <i class="farg">allocfn</i> succeeds, it must write the starting address of the imported span to <i class="farg">addrp</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">freefn</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The callback function used to free spans to the backend arena. <i class="farg">freefn</i> may be <span class="define">NULL</span> even if <i class="farg">allocfn</i> is not <span class="define">NULL</span>. <b class="name">vmem</b> calls <b class="fname">(*freefn)</b>(<i class="farg">arg</i>, <i class="farg">addr</i>, <i class="farg">size</i>) to return to <i class="farg">arg</i> a span of size <i class="farg">size</i>, starting at <i class="farg">addr</i>, that was previously allocated by <i class="farg">allocfn</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">arg</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The backend arena. <i class="farg">arg</i> may be <span class="define">NULL</span>. <b class="name">vmem</b> passes <i class="farg">arg</i> as the first argument of <i class="farg">allocfn</i> and <i class="farg">freefn</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">qcache_max</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The largest size of allocations which can be served by quantum cache. It is merely a hint and can be ignored.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">flags</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Either of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_SLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Can sleep until enough resources are available.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_NOSLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Don't sleep. Immediately return <span class="define">NULL</span> if there are not enough resources available.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">ipl</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Interrupt level to be blocked for allocating from vmem.</dd>
</dl>
<p>
<b class="fname">vmem_xcreate</b>() creates a new vmem arena.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">name</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The string to describe the vmem.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">base</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The start address of the initial span. Pass <span class="define">0</span> if no initial span is required.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">size</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The size of the initial span. Pass <span class="define">0</span> if no initial span is required.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">quantum</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The smallest unit of allocation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">allocfn</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The callback function used to import spans from the backend arena. Set both <i class="farg">allocfn</i> and <i class="farg">freefn</i> to <span class="define">NULL</span> to disable automatic imports. <b class="name">vmem</b> calls <b class="fname">(*allocfn)</b>(<i class="farg">arg</i>, <i class="farg">size</i>, <i class="farg">&amp;actualsize</i>, <i class="farg">flags</i>, <i class="farg">&amp;addrp</i>); to import a span of size at least <i class="farg">size</i>. <i class="farg">allocfn</i> should accept the same <i class="farg">flags</i> as <b class="fname">vmem_alloc</b>(). <i class="farg">allocfn</i> must return <span class="define">ENOMEM</span> to indicate failure, or 0 on success. If <i class="farg">allocfn</i> succeeds, it must write the actual size of the allocation to <i class="farg">actualsize</i> and the starting address of the imported span to <i class="farg">addrp</i>. The actual size will always be greater than or equal to the requested size.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">freefn</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The callback function used to free spans to the backend arena. <i class="farg">freefn</i> may be <span class="define">NULL</span> even if <i class="farg">allocfn</i> is not <span class="define">NULL</span>. <b class="name">vmem</b> calls <b class="fname">(*freefn)</b>(<i class="farg">arg</i>, <i class="farg">addr</i>, <i class="farg">size</i>) to return to <i class="farg">arg</i> a span of size <i class="farg">size</i>, starting at <i class="farg">addr</i>, that was previously allocated by <i class="farg">allocfn</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">arg</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The backend arena. <i class="farg">arg</i> may be <span class="define">NULL</span>. <b class="name">vmem</b> passes <i class="farg">arg</i> as the first argument of <i class="farg">allocfn</i> and <i class="farg">freefn</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">qcache_max</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The largest size of allocations which can be served by quantum cache. It is merely a hint and can be ignored.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">flags</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Either of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_SLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Can sleep until enough resources are available.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_NOSLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Don't sleep. Immediately return <span class="define">NULL</span> if there are not enough resources available.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">ipl</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Interrupt level to be blocked for allocating from vmem.</dd>
</dl>
<p>
<b class="fname">vmem_add</b>() adds a span of size <i class="farg">size</i> starting at <i class="farg">addr</i> to the arena. Returns 0 on success, <span class="define">ENOMEM</span> on failure. <i class="farg">flags</i> should be one of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_SLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Can sleep until enough resources are available.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_NOSLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Don't sleep. Immediately return <span class="define">ENOMEM</span> if there are not enough resources available.</dd>
</dl>
<p>
<b class="fname">vmem_xalloc</b>() allocates a resource from the arena.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">vm</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The arena which we allocate from.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">size</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Specify the size of the allocation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">align</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
If zero, don't care about the alignment of the allocation. Otherwise, request a resource segment starting at offset <i class="farg">phase</i> from an <i class="farg">align</i> aligned boundary.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">phase</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
See the above description of <i class="farg">align</i>. If <i class="farg">align</i> is zero, <i class="farg">phase</i> should be zero. Otherwise, <i class="farg">phase</i> should be smaller than <i class="farg">align</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">nocross</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Request a resource which doesn't cross <i class="farg">nocross</i> aligned boundary.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">minaddr</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Specify the minimum address which can be allocated, or <span class="define">VMEM_ADDR_MIN</span> if the caller does not care.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">maxaddr</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Specify the maximum address which can be allocated, or <span class="define">VMEM_ADDR_MAX</span> if the caller does not care.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">flags</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
A bitwise OR of an allocation strategy and a sleep flag.<p>
The allocation strategy is one of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_BESTFIT</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Prefer space efficiency.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_INSTANTFIT</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Prefer performance.</dd>
</dl>
<p>
The sleep flag should be one of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_SLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Can sleep until enough resources are available.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_NOSLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Don't sleep. Immediately return <span class="define">ENOMEM</span> if there are not enough resources available.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">addrp</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
On success, if <i class="farg">addrp</i> is not <span class="define">NULL</span>, <b class="fname">vmem_xalloc</b>() overwrites it with the start address of the allocated span.</dd>
</dl>
<p>
<b class="fname">vmem_xfree</b>() frees resource allocated by <b class="fname">vmem_xalloc</b>() to the arena.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">vm</i></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The arena which we free to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">addr</i></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The resource being freed. It must be the one returned by <b class="fname">vmem_xalloc</b>(). Notably, it must not be the one from <b class="fname">vmem_alloc</b>(). Otherwise, the behaviour is undefined.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">size</i></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The size of the resource being freed. It must be the same as the <i class="farg">size</i> argument used for <b class="fname">vmem_xalloc</b>().</dd>
</dl>
<p>
<b class="fname">vmem_alloc</b>() allocates a resource from the arena.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">vm</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The arena which we allocate from.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">size</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Specify the size of the allocation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">flags</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
A bitwise OR of an allocation strategy and a sleep flag.<p>
The allocation strategy is one of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_BESTFIT</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Prefer space efficiency.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_INSTANTFIT</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Prefer performance.</dd>
</dl>
<p>
The sleep flag should be one of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_SLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Can sleep until enough resources are available.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">VM_NOSLEEP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Don't sleep. Immediately return <span class="define">ENOMEM</span> if there are not enough resources available.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">addrp</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
On success, if <i class="farg">addrp</i> is not <span class="define">NULL</span>, <b class="fname">vmem_alloc</b>() overwrites it with the start address of the allocated span.</dd>
</dl>
<p>
<b class="fname">vmem_free</b>() frees resource allocated by <b class="fname">vmem_alloc</b>() to the arena.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">vm</i></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The arena which we free to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">addr</i></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The resource being freed. It must be the one returned by <b class="fname">vmem_alloc</b>(). Notably, it must not be the one from <b class="fname">vmem_xalloc</b>(). Otherwise, the behaviour is undefined.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">size</i></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The size of the resource being freed. It must be the same as the <i class="farg">size</i> argument used for <b class="fname">vmem_alloc</b>().</dd>
</dl>
<p>
<b class="fname">vmem_destroy</b>() destroys a vmem arena.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">vm</i></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
The vmem arena being destroyed. The caller should ensure that no one will use it anymore.</dd>
</dl>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">vmem_create</b>() return a pointer to the newly allocated vmem_t. Otherwise, it returns <span class="define">NULL</span>.<p>
On success, <b class="fname">vmem_xalloc</b>() and <b class="fname">vmem_alloc</b>() return 0. Otherwise, <span class="define">ENOMEM</span> is returned.</div>
<div class="section">
<h1 id="x434f4445205245464552454e434553">CODE REFERENCES</h1> The <b class="name">vmem</b> subsystem is implemented within the file <i class="file">sys/kern/subr_vmem.c</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../9/intro">intro(9)</a>, <a class="link-man" href="../9/kmem">kmem(9)</a>, <a class="link-man" href="../9/memoryallocators">memoryallocators(9)</a>, <a class="link-man" href="../9/uvm">uvm(9)</a><p>
<span class="ref"><span class="ref-auth">Jeff Bonwick</span> and <span class="ref-auth">Jonathan Adams</span>, <span class="ref-title">Magazines and Vmem: Extending the Slab Allocator to Many CPUs and Arbitrary Resources</span>, <i class="ref-jrnl">2001 USENIX Annual Technical Conference</i>, <span class="ref-date">2001</span>.</span></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> This implementation of <b class="name">vmem</b> was written by <span class="author">YAMAMOTO Takashi</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> <b class="name">vmem</b> relies on <a class="link-man" href="../9/malloc">malloc(9)</a>, <a class="link-man" href="../9/pool">pool(9)</a>, and <a class="link-man" href="../9/RUN_ONCE">RUN_ONCE(9)</a>, so it cannot be used as early during system bootstrap as <a class="link-man" href="../9/extent">extent(9)</a>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 29, 2013</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

