<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
RTADVD.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RTADVD.CONF(5)</td>
<td class="head-vol" align="center">
File Formats Manual</td>
<td class="head-rtitle" align="right">
RTADVD.CONF(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rtadvd.conf</b> &#8212; <span class="desc">config file for router advertisement daemon</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This file describes how the router advertisement packets must be constructed for each of the interfaces.<p>
As described in <a class="link-man" href="../8/rtadvd">rtadvd(8)</a>, you do not have to set this configuration file up at all, unless you need some special configurations. You may even omit the file as a whole. In such cases, the <b class="name">rtadvd</b> daemon will automatically configure itself using default values specified in the specification.<p>
It obeys the famous <a class="link-man" href="../5/capfile">capfile(5)</a> file format. Each line in the file describes a network interface. Fields are separated by a colon (&#8216;:&#8217;), and each field contains one capability description. Lines may be concatenated by the &#8216;&#92;&#8217; character. The comment marker is the &#8216;#&#8217; character.</div>
<div class="section">
<h1 id="x4341504142494c4954494553">CAPABILITIES</h1> Capabilities describe the value to be filled into ICMPv6 router advertisement messages and to control <a class="link-man" href="../8/rtadvd">rtadvd(8)</a> behavior. Therefore, you are encouraged to read IETF neighbor discovery documents if you would like to modify the sample configuration file.<p>
Note that almost all items have default values. If you omit an item, the default value of the item will be used.<p>
There are two items which control the interval of sending router advertisements. These items can be omitted, then <b class="name">rtadvd</b> will use the default values.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">maxinterval</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) The maximum time allowed between sending unsolicited multicast router advertisements (unit: seconds). The default value is 600. Its value must be no less than 4 seconds and no greater than 1800 seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">mininterval</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) The minimum time allowed between sending unsolicited multicast router advertisements (unit: seconds). The default value is the one third of value of <b class="flag">maxinterval</b>. Its value must be no less than 3 seconds and no greater than .75 * the value of <b class="flag">maxinterval</b>.</dd>
</dl>
<p>
The following items are for ICMPv6 router advertisement message header. These items can be omitted, then <b class="name">rtadvd</b> will use the default values.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">chlim</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) The value for Cur Hop Limit field. The default value is 64.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">raflags</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(str or num) A 8-bit flags field in router advertisement message header. This field can be specified either as a case-sensitive string or as an integer. A sting consists of characters each of which corresponds to a particular flag bit(s). An integer should be the logical OR of all enabled bits. Bit 7 (<code class="lit">'m' or 0x80</code>) means Managed address configuration flag bit, and Bit 6 (<code class="lit">'o' or 0x40</code>) means Other stateful configuration flag bit. Bit 4 (<code class="lit">0x10</code>) and Bit 3 (<code class="lit">0x08</code>) are used to encode router preference. Bits 01 (or 'h') means high, 00 means medium, and 11 (or 'l') means low. Bits 10 is reserved, and must not be specified. There is no character to specify the medium preference explicitly. The default value of the entire flag is 0 (or a null string,) which means no additional configuration methods, and the medium router preference.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rltime</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) Router lifetime field (unit: seconds). The value must be either zero or between the value of <b class="flag">maxinterval</b> and 9000. When <b class="name">rtadvd</b> runs on a host, this value must explicitly set 0 on all the advertising interfaces as described in <a class="link-man" href="../8/rtadvd">rtadvd(8)</a>. The default value is 1800.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rtime</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) Reachable time field (unit: milliseconds). The default value is 0, which means unspecified by this router.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">retrans</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) Retrans Timer field (unit: milliseconds). The default value is 0, which means unspecified by this router.</dd>
</dl>
<p>
The following items are for ICMPv6 prefix information option, which will be attached to router advertisement header. These items can be omitted, then <b class="name">rtadvd</b> will automatically get appropriate prefixes from the kernel's routing table, and advertise the prefixes with the default parameters, unless the <b class="flag">noifprefix</b> flag is specified. Keywords other than <b class="flag">clockskew</b> and <b class="flag">noifprefix</b> can be augmented with a number, like &#8220;<code class="lit">prefix2</code>&#8221;, to specify multiple prefixes.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">noifprefix</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(bool) Specified whether <b class="name">rtadvd</b> should gather prefix information from the interface if no <b class="flag">addr</b> is specified. If no <b class="flag">addr</b> is given, and <b class="flag">noifprefix</b> is set, <b class="name">rtadvd</b> will send RA packets with no prefix information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">clockskew</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) Time skew to adjust link propagation delays and clock skews between routers on the link (unit: seconds). This value is used in consistency check for locally-configured and advertised prefix lifetimes, and has its meaning when the local router configures a prefix on the link with a lifetime that decrements in real time. If the value is 0, it means the consistency check will be skipped for such prefixes. The default value is 0.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">prefixlen</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) Prefix length field. The default value is 64.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pinfoflags</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(str or num) A 8-bit flags field in prefix information option. This field can be specified either as a case-sensitive string or as an integer. A sting consists of characters each of which corresponds to a particular flag bit(s). An integer should be the logical OR of all enabled bits. Bit 7 (<code class="lit">'l' or 0x80</code>) means On-link flag bit, and Bit 6 (<code class="lit">'a' or 0x40</code>) means Autonomous address-configuration flag bit. The default value is "la" or 0xc0, i.e., both bits are set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">addr</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(str) The address filled into Prefix field. Since &#8220;:&#8221; is used for <a class="link-man" href="../5/capfile">capfile(5)</a> file format as well as IPv6 numeric address, the field MUST be quoted by doublequote character.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">vltime</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) Valid lifetime field (unit: seconds). The default value is 2592000 (30 days).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">vltimedecr</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(bool) This item means the advertised valid lifetime will decrement in real time, which is disabled by default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pltime</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) Preferred lifetime field (unit: seconds). The default value is 604800 (7 days).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pltimedecr</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(bool) This item means the advertised preferred lifetime will decrement in real time, which is disabled by default.</dd>
</dl>
<p>
The following item is for ICMPv6 MTU option, which will be attached to router advertisement header. This item can be omitted, then <b class="name">rtadvd</b> will use the default value.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">mtu</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num or str) MTU (maximum transmission unit) field. If 0 is specified, it means that the option will not be included. The default value is 0. If the special string &#8220;auto&#8221; is specified for this item, MTU option will be included and its value will be set to the interface MTU automatically.</dd>
</dl>
<p>
The following item controls ICMPv6 source link-layer address option, which will be attached to router advertisement header. As noted above, you can just omit the item, then <b class="name">rtadvd</b> will use the default value.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">nolladdr</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(bool) By default (if <b class="flag">nolladdr</b> is not specified), <a class="link-man" href="../8/rtadvd">rtadvd(8)</a> will try to get link-layer address for the interface from the kernel, and attach that in source link-layer address option. If this capability exists, <a class="link-man" href="../8/rtadvd">rtadvd(8)</a> will not attach source link-layer address option to router advertisement packets.</dd>
</dl>
<p>
The following items are for ICMPv6 route information option, which will be attached to router advertisement header. These items are optional. Each items can be augmented with number, like &#8220;<code class="lit">rtplen2</code>&#8221;, to specify multiple routes.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rtprefix</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(str) The prefix filled into the Prefix field of route information option. Since &#8220;:&#8221; is used for <a class="link-man" href="../5/capfile">capfile(5)</a> file format as well as IPv6 numeric address, the field MUST be quoted by doublequote character.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rtplen</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) Prefix length field in route information option. The default value is 64.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rtflags</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(str or num) A 8-bit flags field in route information option. Currently only the preference values are defined. The notation is same as that of the raflags field. Bit 4 (<code class="lit">0x10</code>) and Bit 3 (<code class="lit">0x08</code>) are used to encode the route preference for the route. The default value is 0x00, i.e. medium preference.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rtltime</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(num) route lifetime field in route information option. (unit: seconds). Since the specification does not define the default value of this item, the value for this item should be specified by hand. However, <b class="name">rtadvd</b> allows this item to be unspecified, and uses the router lifetime as the default value in such a case, just for compatibility with an old version of the program.</dd>
</dl>
<p>
In the above list, each keyword beginning with &#8220;<code class="lit">rt</code>&#8221; could be replaced with the one beginning with &#8220;<code class="lit">rtr</code>&#8221; for backward compatibility reason. For example, <b class="flag">rtrplen</b> is accepted instead of <b class="flag">rtplen</b>. However, keywords that start with &#8220;<code class="lit">rtr</code>&#8221; have basically been obsoleted, and should not be used any more.<p>
The following items are for ICMPv6 Recursive DNS Server Option and DNS Search List Option (RFC 6106), which will be attached to router advertisement header. These items are optional.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rdnss</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(str) The IPv6 address of one or more recursive DNS servers. The argument must be inside double quotes. Multiple DNS servers can be specified in a comma-separated string. If different lifetimes are needed for different servers, separate entries can be given by using <b class="flag">rdnss</b>, <b class="flag">rdnss0</b>, <b class="flag">rdnss1</b>, <b class="flag">rdnss2 ...</b> options with corresponding <b class="flag">rdnssltime</b>, <b class="flag">rdnssltime0</b>, <b class="flag">rdnssltime1</b>, <b class="flag">rdnssltime2 ...</b> entries. Note that the maximum number of servers depends on the receiver side. See also the <a class="link-man" href="../5/resolv.conf">resolv.conf(5)</a> manual page for the resolver implementation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">rdnssltime</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The lifetime of the <b class="flag">rdnss</b> DNS server entries. The default value is 3/2 of the interval time.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">dnssl</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(str) One or more domain names in a comma-separated string. These domain names will be used when making DNS queries on a non-fully-qualified domain name. If different lifetimes are needed for different domains, separate entries can be given by using <b class="flag">dnssl</b>, <b class="flag">dnssl0</b>, <b class="flag">dnssl1</b>, <b class="flag">dnssl2 ...</b> options with corresponding <b class="flag">dnsslltime</b>, <b class="flag">dnsslltime0</b>, <b class="flag">dnsslltime1</b>, <b class="flag">dnsslltime2 ...</b> entries. Note that the maximum number of names depends on the receiver side. See also the <a class="link-man" href="../5/resolv.conf">resolv.conf(5)</a> manual page for the resolver implementation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">dnsslltime</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The lifetime of the <b class="flag">dnssl</b> DNS search list entries. The default value is 3/2 of the interval time.</dd>
</dl>
<p>
You can also refer one line from another by using <b class="flag">tc</b> capability. See <a class="link-man" href="../5/capfile">capfile(5)</a> for details on the capability.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> As presented above, all of the advertised parameters have default values defined in specifications, and hence you usually do not have to set them by hand, unless you need special non-default values. It can cause interoperability problem if you use an ill-configured parameter.<p>
To override a configuration parameter, you can specify the parameter alone. With the following configuration, <a class="link-man" href="../8/rtadvd">rtadvd(8)</a> overrides the router lifetime parameter for the <code class="lit">ne0</code> interface.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
ne0:\ 
	:rltime#0:</pre>
<p>
The following example manually configures prefixes advertised from the <code class="lit">ef0</code> interface. The configuration must be used with the <b class="flag">&#45;s</b> option to <a class="link-man" href="../8/rtadvd">rtadvd(8)</a>.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
ef0:\ 
	:addr="2001:db8:ffff:1000::":prefixlen#64:</pre>
<p>
The following example configures the <code class="lit">wlan0</code> interface and adds two DNS servers and a DNS domain search options using the default option lifetime values.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
wlan0:\ 
	:addr="2001:db8:ffff:1000::":prefixlen#64:\ 
	:rdnss="2001:db8:ffff::10,2001:db8:ffff::2:43":\ 
	:dnssl="example.com":</pre>
<p>
The following example presents the default values in an explicit manner. The configuration is provided just for reference purposes; YOU DO NOT NEED TO HAVE IT AT ALL.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
default:\ 
	:chlim#64:raflags#0:rltime#1800:rtime#0:retrans#0:\ 
	:pinfoflags="la":vltime#2592000:pltime#604800:mtu#0: 
ef0:\ 
	:addr="2001:db8:ffff:1000::":prefixlen#64:tc=default:</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/capfile">capfile(5)</a>, <a class="link-man" href="../8/rtadvd">rtadvd(8)</a>, <a class="link-man" href="../8/rtsol">rtsol(8)</a><p>
Thomas Narten, Erik Nordmark and W. A. Simpson, &#8220;Neighbor Discovery for IP version 6 (IPv6)&#8221;, RFC 2461<p>
Richard Draves, &#8220;Default Router Preferences and More-Specific Routes&#8221;, RFC 4191<p>
J. Jeong, S. Park, L. Beloeil, S. Madanapalli &#8220;IPv6 Router Advertisement Options for DNS Configuration&#8221;, RFC 6106</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <a class="link-man" href="../8/rtadvd">rtadvd(8)</a> and the configuration file <b class="name">rtadvd.conf</b> first appeared in WIDE Hydrangea IPv6 protocol stack kit.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 11, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

