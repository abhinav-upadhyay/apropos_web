<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
MASTER(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MASTER(5)</td>
<td class="head-vol" align="center">
File Formats Manual</td>
<td class="head-rtitle" align="right">
MASTER(5)</td>
</tr>
</tbody>
</table>
<br>
<div class="section">
<h1>NAME</h1> master &#45; Postfix master process configuration file format</div>
<div class="section">
<h1>DESCRIPTION</h1><br>
The Postfix mail system is implemented by small number of (mostly) client commands that are invoked by users, and by a larger number of services that run in the background.<div style="height: 1.00em;">
&#160;</div>
Postfix services are implemented by daemon processes. These run in the background under control of the  <b>master</b>(8) process.  The master.cf configuration file defines how a client program connects to a service, and what daemon program runs when a service is requested.  Most daemon processes are short-lived and terminate voluntarily after serving  <b>max_use</b> clients, or after inactivity for  <b>max_idle</b> or more units of time.<div style="height: 1.00em;">
&#160;</div>
All daemons specified here must speak a Postfix-internal protocol. In order to execute non-Postfix software use the  <b>local</b>(8), <b>pipe</b>(8) or <b>spawn</b>(8) services, or run the server under control by  <b>inetd</b>(8) or equivalent.<p>
After changing master.cf you must execute "<b>postfix reload</b>" to reload the configuration.</div>
<div class="section">
<h1>SYNTAX</h1><br>
The general format of the master.cf file is as follows:<dl>
<dt>
&#8226;</dt>
<dd>
Empty lines and whitespace-only lines are ignored, as are lines whose first non-whitespace character is a `#'.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
A logical line starts with non-whitespace text. A line that starts with whitespace continues a logical line.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Each logical line defines a single Postfix service. Each service is identified by its name and type as described below.  When multiple lines specify the same service name and type, only the last one is remembered.  Otherwise, the order of master.cf service definitions does not matter.</dd>
</dl>
<p>
Each logical line consists of eight fields separated by whitespace.  These are described below in the order as they appear in the master.cf file.<div style="height: 1.00em;">
&#160;</div>
Where applicable a field of "-" requests that the built-in default value be used. For boolean fields specify "y" or "n" to override the default value.<dl>
<dt>
<b>Service name</b></dt>
<dd>
The service name syntax depends on the service type as described next.</dd>
</dl>
<dl>
<dt>
<b>Service type</b></dt>
<dd>
Specify one of the following service types:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>inet</b></dt>
<dd>
The service listens on a TCP/IP socket and is accessible via the network.<div style="height: 1.00em;">
&#160;</div>
The service name is specified as <i>host:port</i>, denoting the host and port on which new connections should be accepted. The host part (and colon) may be omitted.  Either host or port may be given in symbolic form (host or service name) or in numeric form (IP address or port number). Host information may be enclosed inside "[]"; this form is necessary only with IPv6 addresses.<div style="height: 1.00em;">
&#160;</div>
Examples: a service named <b>127.0.0.1:smtp</b> or <b>::1:smtp</b> receives mail via the loopback interface only; and a service named  <b>10025</b> accepts connections on TCP port 10025 via all interfaces configured with the  <b>inet_interfaces</b> parameter.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
Note: with Postfix version 2.2 and later specify " <b>inet_interfaces = loopback-only</b>" in main.cf, instead of hard-coding loopback IP address information in master.cf or in main.cf.</dd>
</dl>
<dl>
<dt>
<b>unix</b></dt>
<dd>
The service listens on a UNIX-domain socket and is accessible for local clients only.<div style="height: 1.00em;">
&#160;</div>
The service name is a pathname relative to the Postfix queue directory (pathname controlled with the  <b>queue_directory</b> configuration parameter in main.cf).<div style="height: 1.00em;">
&#160;</div>
On Solaris 8 and earlier systems the <b>unix</b> type is implemented with streams sockets.</dd>
</dl>
<dl>
<dt>
<b>fifo</b></dt>
<dd>
The service listens on a FIFO (named pipe) and is accessible for local clients only.<div style="height: 1.00em;">
&#160;</div>
The service name is a pathname relative to the Postfix queue directory (pathname controlled with the  <b>queue_directory</b> configuration parameter in main.cf).</dd>
</dl>
<dl>
<dt>
<b>pass</b></dt>
<dd>
The service listens on a UNIX-domain socket, and is accessible to local clients only. It receives one open connection (file descriptor passing) per connection request.<div style="height: 1.00em;">
&#160;</div>
The service name is a pathname relative to the Postfix queue directory (pathname controlled with the  <b>queue_directory</b> configuration parameter in main.cf).<div style="height: 1.00em;">
&#160;</div>
On Solaris 8 and earlier systems the <b>pass</b> type is implemented with streams sockets.<div style="height: 1.00em;">
&#160;</div>
This feature is available as of Postfix version 2.5.</dd>
</dl>
</div>
<dl>
<dt>
<b>Private (default: y)</b></dt>
<dd>
Whether or not access is restricted to the mail system. Internet (type  <b>inet</b>) services can't be private.</dd>
</dl>
<dl>
<dt>
<b>Unprivileged (default: y)</b></dt>
<dd>
Whether the service runs with root privileges or as the owner of the Postfix system (the owner name is controlled by the  <b>mail_owner</b> configuration variable in the main.cf file).<div style="height: 1.00em;">
&#160;</div>
The <b>local</b>(8), <b>pipe</b>(8), <b>spawn</b>(8), and  <b>virtual</b>(8) daemons require privileges.</dd>
</dl>
<dl>
<dt>
<b>Chroot (default: y)</b></dt>
<dd>
Whether or not the service runs chrooted to the mail queue directory (pathname is controlled by the  <b>queue_directory</b> configuration variable in the main.cf file).<div style="height: 1.00em;">
&#160;</div>
Chroot should not be used with the <b>local</b>(8),  <b>pipe</b>(8), <b>spawn</b>(8), and <b>virtual</b>(8) daemons. Although the  <b>proxymap</b>(8) server can run chrooted, doing so defeats most of the purpose of having that service in the first place.<div style="height: 1.00em;">
&#160;</div>
The files in the examples/chroot-setup subdirectory of the Postfix source archive show set up a Postfix chroot environment on a variety of systems. See also BASIC_CONFIGURATION_README for issues related to running daemons chrooted.</dd>
</dl>
<dl>
<dt>
<b>Wake up time (default: 0)</b></dt>
<dd>
Automatically wake up the named service after the specified number of seconds. The wake up is implemented by connecting to the service and sending a wake up request.  A ? at the end of the wake-up time field requests that no wake up events be sent before the first time a service is used. Specify 0 for no automatic wake up.<div style="height: 1.00em;">
&#160;</div>
The <b>pickup</b>(8), <b>qmgr</b>(8) and <b>flush</b>(8) daemons require a wake up timer.</dd>
</dl>
<dl>
<dt>
<b>Process limit (default: $default_process_limit)</b></dt>
<dd>
The maximum number of processes that may execute this service simultaneously. Specify 0 for no process count limit.<div style="height: 1.00em;">
&#160;</div>
NOTE: Some Postfix services must be configured as a single-process service (for example,  <b>qmgr</b>(8)) and some services must be configured with no process limit (for example,  <b>cleanup</b>(8)).  These limits must not be changed.</dd>
</dl>
<dl>
<dt>
<b>Command name + arguments</b></dt>
<dd>
The command to be executed.  Characters that are special to the shell such as "&gt;" or "|" have no special meaning here, and quotes cannot be used to protect arguments containing whitespace.<div style="height: 1.00em;">
&#160;</div>
The command name is relative to the Postfix daemon directory (pathname is controlled by the  <b>daemon_directory</b> configuration variable).<div style="height: 1.00em;">
&#160;</div>
The command argument syntax for specific commands is specified in the respective daemon manual page.<div style="height: 1.00em;">
&#160;</div>
The following command-line options have the same effect for all daemon programs:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>-D</b></dt>
<dd>
Run the daemon under control by the command specified with the  <b>debugger_command</b> variable in the main.cf configuration file.  See DEBUG_README for hints and tips.</dd>
</dl>
<dl>
<dt>
<b>-o </b><i>name</i>=<i>value</i></dt>
<dd>
Override the named main.cf configuration parameter. The parameter value can refer to other parameters as  <i>$name</i> etc., just like in main.cf.  See  <b>postconf</b>(5) for syntax.<div style="height: 1.00em;">
&#160;</div>
NOTE 1: do not specify whitespace around the "=" or in parameter values. To specify a parameter value that contains whitespace, use commas instead of spaces, or specify the value in main.cf. Example:<div style="height: 1.00em;">
&#160;</div>
<br>
/etc/postfix/master.cf:<br>
    submission inet .... smtpd<br>
        -o smtpd_mumble=$submission_mumble<div style="height: 1.00em;">
&#160;</div>
<br>
/etc/postfix/main.cf<br>
    submission_mumble = text with whitespace...<br>
<div style="height: 1.00em;">
&#160;</div>
NOTE 2: Over-zealous use of parameter overrides makes the Postfix configuration hard to understand and maintain.  At a certain point, it might be easier to configure multiple instances of Postfix, instead of configuring multiple personalities via master.cf.</dd>
</dl>
<dl>
<dt>
<b>-v</b></dt>
<dd>
Increase the verbose logging level. Specify multiple <b>-v</b> options to make a Postfix daemon process increasingly verbose.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1><br>
master(8), process manager<br>
postconf(5), configuration parameters</div>
<div class="section">
<h1>README FILES</h1><br>
Use "<b>postconf readme_directory</b>" or " <b>postconf html_directory</b>" to locate this information.<br>
BASIC_CONFIGURATION_README, basic configuration<br>
DEBUG_README, Postfix debugging</div>
<div class="section">
<h1>LICENSE</h1><br>
The Secure Mailer license must be distributed with this software.</div>
<div class="section">
<h1>AUTHOR(S)</h1><br>
Initial version by<br>
Magnus Baeck<br>
Lund Institute of Technology<br>
Sweden<p>
<br>
Wietse Venema<br>
IBM T.J. Watson Research<br>
P.O. Box 704<br>
Yorktown Heights, NY 10598, USA</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
</td>
<td class="foot-os" align="right">
</td>
</tr>
</table>
</div>
</body>
</html>

