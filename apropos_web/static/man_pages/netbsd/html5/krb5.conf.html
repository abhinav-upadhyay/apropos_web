<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
KRB5.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
KRB5.CONF(5)</td>
<td class="head-vol" align="center">
File Formats Manual</td>
<td class="head-rtitle" align="right">
KRB5.CONF(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">krb5.conf</b> &#8212; <span class="desc">configuration file for Kerberos 5</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">krb5/krb5.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">krb5.conf</b> file specifies several configuration parameters for the Kerberos 5 library, as well as for some programs.<p>
The file consists of one or more sections, containing a number of bindings. The value of each binding can be either a string or a list of other bindings. The grammar looks like:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
file: 
	/* empty */ 
	sections 
 
sections: 
	section sections 
	section 
 
section: 
	'[' section_name ']' bindings 
 
section_name: 
	STRING 
 
bindings: 
	binding bindings 
	binding 
 
binding: 
	name '=' STRING 
	name '=' '{' bindings '}' 
 
name: 
	STRING 
</pre>
<code class="lit">STRINGs</code> consists of one or more non-whitespace characters.<p>
STRINGs that are specified later in this man-page uses the following notation.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
boolean</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
values can be either yes/true or no/false.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
time</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
values can be a list of year, month, day, hour, min, second. Example: 1 month 2 days 30 min. If no unit is given, seconds is assumed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
etypes</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
valid encryption types are: des-cbc-crc, des-cbc-md4, des-cbc-md5, des3-cbc-sha1, arcfour-hmac-md5, aes128-cts-hmac-sha1-96, and aes256-cts-hmac-sha1-96 .</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
address</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
an address can be either a IPv4 or a IPv6 address.</dd>
</dl>
<p>
Currently recognised sections and bindings are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[appdefaults]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Specifies the default values to be used for Kerberos applications. You can specify defaults per application, realm, or a combination of these. The preference order is:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
<b class="var">application</b> <b class="var">realm</b> <b class="var">option</b></li>
<li class="list-enum" style="margin-top: 0.00em;">
<b class="var">application</b> <b class="var">option</b></li>
<li class="list-enum" style="margin-top: 0.00em;">
<b class="var">realm</b> <b class="var">option</b></li>
<li class="list-enum" style="margin-top: 0.00em;">
<b class="var">option</b></li>
</ol>
<p>
The supported options are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">forwardable =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
When obtaining initial credentials, make the credentials forwardable.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">proxiable =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
When obtaining initial credentials, make the credentials proxiable.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">no-addresses =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
When obtaining initial credentials, request them for an empty set of addresses, making the tickets valid from any address.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">ticket_lifetime =</code> <b class="var">time</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Default ticket lifetime.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">renew_lifetime =</code> <b class="var">time</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Default renewable ticket lifetime.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">encrypt =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use encryption, when available.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">forward =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Forward credentials to remote host (for <a class="link-man" href="../1/rsh">rsh(1)</a>, <a class="link-man" href="../1/telnet">telnet(1)</a>, etc).</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[libdefaults]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_realm =</code> <b class="var">REALM</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Default realm to use, this is also known as your &#8220;local realm&#8221;. The default is the result of <b class="fname">krb5_get_host_realm</b>(<i class="farg">local hostname</i>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">allow_weak_crypto =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
is weaks crypto algorithms allowed to be used, among others, DES is considered weak.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">clockskew =</code> <b class="var">time</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Maximum time differential (in seconds) allowed when comparing times. Default is 300 seconds (five minutes).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">kdc_timeout =</code> <b class="var">time</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Maximum time to wait for a reply from the kdc, default is 3 seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">v4_name_convert</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">v4_instance_resolve</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
These are described in the <a class="link-man" href="../3/krb5_425_conv_principal">krb5_425_conv_principal(3)</a> manual page.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">capath = {</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">destination-realm</b> <code class="lit">=</code> <b class="var">next-hop-realm</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
...</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">}</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
</dl>
This is deprecated, see the <code class="lit">capaths</code> section below.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_cc_type =</code> <b class="var">cctype</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
sets the default credentials type.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_cc_name =</code> <b class="var">ccname</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
the default credentials cache name. If you want to change the type only use <code class="lit">default_cc_type</code>. The string can contain variables that are expanded on runtime. Only support variable now is <code class="lit">%{uid}</code> that expands to the current user id.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_etypes =</code> <b class="var">etypes ...</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A list of default encryption types to use. (Default: all enctypes if allow_weak_crypto = TRUE, else all enctypes except single DES enctypes.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_as_etypes =</code> <b class="var">etypes ...</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A list of default encryption types to use in AS requests.  (Default: the value of default_etypes.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_tgs_etypes =</code> <b class="var">etypes ...</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A list of default encryption types to use in TGS requests.  (Default: the value of default_etypes.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_etypes_des =</code> <b class="var">etypes ...</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A list of default encryption types to use when requesting a DES credential.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_keytab_name =</code> <b class="var">keytab</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The keytab to use if no other is specified, default is &#8220;FILE:/etc/krb5.keytab&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">dns_lookup_kdc =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use DNS SRV records to lookup KDC services location.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">dns_lookup_realm =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use DNS TXT records to lookup domain to realm mappings.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">kdc_timesync =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Try to keep track of the time differential between the local machine and the KDC, and then compensate for that when issuing requests.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">max_retries =</code> <b class="var">number</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The max number of times to try to contact each KDC.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">large_msg_size =</code> <b class="var">number</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The threshold where protocols with tiny maximum message sizes are not considered usable to send messages to the KDC.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">ticket_lifetime =</code> <b class="var">time</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Default ticket lifetime.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">renew_lifetime =</code> <b class="var">time</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Default renewable ticket lifetime.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">forwardable =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
When obtaining initial credentials, make the credentials forwardable. This option is also valid in the [realms] section.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">proxiable =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
When obtaining initial credentials, make the credentials proxiable. This option is also valid in the [realms] section.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">verify_ap_req_nofail =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If enabled, failure to verify credentials against a local key is a fatal error. The application has to be able to read the corresponding service key for this to work. Some applications, like <a class="link-man" href="../1/su">su(1)</a>, enable this option unconditionally.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">warn_pwexpire =</code> <b class="var">time</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
How soon to warn for expiring password. Default is seven days.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">http_proxy =</code> <b class="var">proxy-spec</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A HTTP-proxy to use when talking to the KDC via HTTP.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">dns_proxy =</code> <b class="var">proxy-spec</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Enable using DNS via HTTP.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">extra_addresses =</code> <b class="var">address ...</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A list of addresses to get tickets for along with all local addresses.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">time_format =</code> <b class="var">string</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
How to print time strings in logs, this string is passed to <a class="link-man" href="../3/strftime">strftime(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">date_format =</code> <b class="var">string</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
How to print date strings in logs, this string is passed to <a class="link-man" href="../3/strftime">strftime(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">log_utc =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Write log-entries using UTC instead of your local time zone.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">scan_interfaces =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Scan all network interfaces for addresses, as opposed to simply using the address associated with the system's host name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">fcache_version =</code> <b class="var">int</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use file credential cache format version specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">krb4_get_tickets =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Also get Kerberos 4 tickets in <b class="name">kinit</b>, <b class="name">login</b>, and other programs. This option is also valid in the [realms] section.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">fcc-mit-ticketflags =</code> <b class="var">boolean</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use MIT compatible format for file credential cache. It's the field ticketflags that is stored in reverse bit order for older than Heimdal 0.7. Setting this flag to <span class="define">TRUE</span> make it store the MIT way, this is default for Heimdal 0.7.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">check-rd-req-server</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If set to "ignore", the framework will ignore any the server input to <a class="link-man" href="../3,/krb5_rd_req">krb5_rd_req(3,)</a> this is very useful when the GSS-API server input the wrong server name into the gss_accept_sec_context call.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[domain_realm]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
This is a list of mappings from DNS domain to Kerberos realm. Each binding in this section looks like:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">domain = realm</code></div>
</blockquote>
<p>
The domain can be either a full name of a host or a trailing component, in the latter case the domain-string should start with a period. The trailing component only matches hosts that are in the same domain, ie &#8220;.example.com&#8221; matches &#8220;foo.example.com&#8221;, but not &#8220;foo.test.example.com&#8221;.<p>
The realm may be the token `dns_locate', in which case the actual realm will be determined using DNS (independently of the setting of the `dns_lookup_realm' option).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[realms]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">REALM</b> <code class="lit">= {</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">kdc =</code> <b class="var">[service/]host[:port]</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Specifies a list of kdcs for this realm. If the optional <b class="var">port</b> is absent, the default value for the &#8220;kerberos/udp&#8221; &#8220;kerberos/tcp&#8221;, and &#8220;http/tcp&#8221; port (depending on service) will be used. The kdcs will be used in the order that they are specified.<p>
The optional <b class="var">service</b> specifies over what medium the kdc should be contacted. Possible services are &#8220;udp&#8221;, &#8220;tcp&#8221;, and &#8220;http&#8221;. Http can also be written as &#8220;http://&#8221;. Default service is &#8220;udp&#8221; and &#8220;tcp&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">admin_server =</code> <b class="var">host[:port]</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Specifies the admin server for this realm, where all the modifications to the database are performed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">kpasswd_server =</code> <b class="var">host[:port]</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Points to the server where all the password changes are performed. If there is no such entry, the kpasswd port on the admin_server host will be tried.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">krb524_server =</code> <b class="var">host[:port]</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Points to the server that does 524 conversions. If it is not mentioned, the krb524 port on the kdcs will be tried.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">v4_instance_convert</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">v4_name_convert</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_domain</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
See <a class="link-man" href="../3/krb5_425_conv_principal">krb5_425_conv_principal(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">tgs_require_subkey</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
a boolan variable that defaults to false. Old DCE secd (pre 1.1) might need this to be true.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">}</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[capaths]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">client-realm</b> <code class="lit">= {</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">server-realm</b> <code class="lit">=</code> <b class="var">hop-realm ...</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
This serves two purposes. First the first listed <b class="var">hop-realm</b> tells a client which realm it should contact in order to ultimately obtain credentials for a service in the <b class="var">server-realm</b>. Secondly, it tells the KDC (and other servers) which realms are allowed in a multi-hop traversal from <b class="var">client-realm</b> to <b class="var">server-realm</b>. Except for the client case, the order of the realms are not important.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">}</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[logging]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">entity</b> <code class="lit">=</code> <b class="var">destination</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Specifies that <b class="var">entity</b> should use the specified <code class="lit">destination</code> for logging. See the <a class="link-man" href="../3/krb5_openlog">krb5_openlog(3)</a> manual page for a list of defined destinations.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[kdc]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">database</code> <code class="lit">= {</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">dbname</code> <code class="lit">=</code> <b class="var">DATABASENAME</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use this database for this realm. See the info documetation how to configure different database backends.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">realm</code> <code class="lit">=</code> <b class="var">REALM</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Specifies the realm that will be stored in this database. It realm isn't set, it will used as the default database, there can only be one entry that doesn't have a <code class="lit">realm</code> stanza.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">mkey_file</code> <code class="lit">=</code> <i class="file">FILENAME</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use this keytab file for the master key of this database. If not specified <b class="var">DATABASENAME</b>.mkey will be used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">acl_file</code> <code class="lit">= PA FILENAME</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use this file for the ACL list of this database.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">log_file</code> <code class="lit">=</code> <i class="file">FILENAME</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Use this file as the log of changes performed to the database. This file is used by <b class="name">ipropd-master</b> for propagating changes to slaves.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">}</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">max-request =</code> <b class="var">SIZE</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Maximum size of a kdc request.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">require-preauth =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If set pre-authentication is required. Since krb4 requests are not pre-authenticated they will be rejected.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">ports =</code> <b class="var">list of ports</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
List of ports the kdc should listen to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">addresses =</code> <b class="var">list of interfaces</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
List of addresses the kdc should bind to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">enable-kerberos4 =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Turn on Kerberos 4 support.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">v4-realm =</code> <b class="var">REALM</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
To what realm v4 requests should be mapped.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">enable-524 =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Should the Kerberos 524 converting facility be turned on. Default is the same as <b class="var">enable-kerberos4</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">enable-http =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Should the kdc answer kdc-requests over http.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">enable-kaserver =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If this kdc should emulate the AFS kaserver.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">tgt-use-strongest-session-key =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If this is TRUE then the KDC will prefer the strongest key from the client's AS-REQ or TGS-REQ enctype list for the ticket session key that is supported by the KDC and the target principal when the target principal is a krbtgt principal.  Else it will prefer the first key from the client's AS-REQ enctype list that is also supported by the KDC and the target principal.  Defaults to FALSE.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">svc-use-strongest-session-key =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Like tgt-use-strongest-session-key, but applies to the session key enctype of tickets for services other than krbtgt principals. Defaults to FALSE.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">preauth-use-strongest-session-key =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If TRUE then select the strongest possible enctype from the client's AS-REQ for PA-ETYPE-INFO2 (i.e., for password-based pre-authentication). Else pick the first supported enctype from the client's AS-REQ.  Defaults to FALSE.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">use-strongest-server-key =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If TRUE then the KDC picks, for the ticket encrypted part's key, the first supported enctype from the target service principal's hdb entry's current keyset. Else the KDC picks the first supported enctype from the target service principal's hdb entry's current keyset.  Defaults to TRUE.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">check-ticket-addresses =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Verify the addresses in the tickets used in tgs requests.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">allow-null-ticket-addresses =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Allow address-less tickets.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">allow-anonymous =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If the kdc is allowed to hand out anonymous tickets.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">encode_as_rep_as_tgs_rep =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Encode as-rep as tgs-rep tobe compatible with mistakes older DCE secd did.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">kdc_warn_pwexpire =</code> <b class="var">TIME</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The time before expiration that the user should be warned that her password is about to expire.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">logging =</code> <b class="var">Logging</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
What type of logging the kdc should use, see also [logging]/kdc.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">use_2b = {</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">principal</b> <code class="lit">=</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
boolean value if the 524 daemon should return AFS 2b tokens for <i class="farg">principal</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
...</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">}</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">hdb-ldap-structural-object</code> <b class="var">structural object</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If the LDAP backend is used for storing principals, this is the structural object that will be used when creating and when reading objects. The default value is account .</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">hdb-ldap-create-base</code> <b class="var">creation dn</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
is the dn that will be appended to the principal when creating entries. Default value is the search dn.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">enable-digest =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Should the kdc answer digest requests. The default is FALSE.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">digests_allowed =</code> <b class="var">list of digests</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Specifies the digests the kdc will reply to. The default is <code class="lit">ntlm-v2</code>.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[kadmin]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">require-preauth =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If pre-authentication is required to talk to the kadmin server.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">password_lifetime =</code> <b class="var">time</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
If a principal already have its password set for expiration, this is the time it will be valid for after a change.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">default_keys =</code> <b class="var">keytypes...</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
For each entry in <b class="var">default_keys</b> try to parse it as a sequence of <b class="var">etype:salttype:salt</b> syntax of this if something like:<p>
[(des|des3|etype):](pw-salt|afs3-salt)[:string]<p>
If <i class="arg">etype</i> is omitted it means everything, and if string is omitted it means the default salt string (for that principal and encryption type). Additional special values of keytypes are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">v5</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The Kerberos 5 salt <b class="var">pw-salt</b></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">v4</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The Kerberos 4 salt <b class="var">des:pw-salt:</b></dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">use_v4_salt =</code> <b class="var">BOOL</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
When true, this is the same as<p>
<b class="var">default_keys =</b> <b class="var">des3:pw-salt</b> <b class="var">v4</b><p>
and is only left for backwards compatibility.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">[password_quality]</code></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Check the Password quality assurance in the info documentation for more information.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">check_library =</code> <b class="var">library-name</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Library name that contains the password check_function</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">check_function =</code> <b class="var">function-name</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Function name for checking passwords in check_library</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">policy_libraries =</code> <b class="var">library1 ... libraryN</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
List of libraries that can do password policy checks</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">policies =</code> <b class="var">policy1 ... policyN</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
List of policy names to apply to the password. Builtin policies are among other minimum-length, character-class, external-check.</dd>
</dl>
</dd>
</dl>
</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1> <span class="env">KRB5_CONFIG</span> points to the configuration file to read.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/etc/krb5.conf</i></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
configuration file for Kerberos 5.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1><pre style="margin-left: 5.00ex;" class="lit display">
[libdefaults] 
	default_realm = FOO.SE 
[domain_realm] 
	.foo.se = FOO.SE 
	.bar.se = FOO.SE 
[realms] 
	FOO.SE = { 
		kdc = kerberos.foo.se 
		v4_name_convert = { 
			rcmd = host 
		} 
		v4_instance_convert = { 
			xyz = xyz.bar.se 
		} 
		default_domain = foo.se 
	} 
[logging] 
	kdc = FILE:/var/heimdal/kdc.log 
	kdc = SYSLOG:INFO 
	default = SYSLOG:INFO:USER</pre>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> Since <b class="name">krb5.conf</b> is read and parsed by the krb5 library, there is not a lot of opportunities for programs to report parsing errors in any useful format. To help overcome this problem, there is a program <b class="name">verify_krb5_conf</b> that reads <b class="name">krb5.conf</b> and tries to emit useful diagnostics from parsing errors. Note that this program does not have any way of knowing what options are actually used and thus cannot warn about unknown or misspelled ones.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/kinit">kinit(1)</a>, <a class="link-man" href="../3/krb5_425_conv_principal">krb5_425_conv_principal(3)</a>, <a class="link-man" href="../3/krb5_openlog">krb5_openlog(3)</a>, <a class="link-man" href="../3/strftime">strftime(3)</a>, <a class="link-man" href="../8/verify_krb5_conf">verify_krb5_conf(8)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 4, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

