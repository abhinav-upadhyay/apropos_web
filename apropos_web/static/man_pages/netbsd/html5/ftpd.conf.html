<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
FTPD.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
FTPD.CONF(5)</td>
<td class="head-vol" align="center">
File Formats Manual</td>
<td class="head-rtitle" align="right">
FTPD.CONF(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ftpd.conf</b> &#8212; <span class="desc"><a class="link-man" href="../8/ftpd">ftpd(8)</a> configuration file</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">ftpd.conf</b> file specifies various configuration options for <a class="link-man" href="../8/ftpd">ftpd(8)</a> that apply once a user has authenticated their connection.<p>
<b class="name">ftpd.conf</b> consists of a series of lines, each of which may contain a configuration directive, a comment, or a blank line. Directives that appear later in the file override settings by previous directives. This allows &#8216;wildcard&#8217; entries to define defaults, and then have class-specific overrides.<p>
A directive line has the format:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">command class [arguments]</code></div>
</blockquote>
<p>
A &#8220;&#92;&#8221; is the escape character; it can be used to escape the meaning of the comment character, or if it is the last character on a line, extends a configuration directive across multiple lines. A &#8220;#&#8221; is the comment character, and all characters from it to the end of line are ignored (unless it is escaped with the escape character).<p>
Each authenticated user is a member of a <span class="emph">class</span>, which is determined by <a class="link-man" href="../5/ftpusers">ftpusers(5)</a>. <span class="emph">class</span> is used to determine which <b class="name">ftpd.conf</b> entries apply to the user. The following special classes exist when parsing entries in <b class="name">ftpd.conf</b>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">all</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Matches any class.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">none</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Matches no class.</dd>
</dl>
<p>
Each class has a type, which may be one of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">GUEST</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Guests (as per the &#8220;anonymous&#8221; and &#8220;ftp&#8221; logins). A <a class="link-man" href="../2/chroot">chroot(2)</a> is performed after login.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">CHROOT</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<a class="link-man" href="../2/chroot">chroot(2)</a>ed users (as per <a class="link-man" href="../5/ftpchroot">ftpchroot(5)</a>). A <a class="link-man" href="../2/chroot">chroot(2)</a> is performed after login.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">REAL</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Normal users.</dd>
</dl>
<p>
The <a class="link-man" href="../8/ftpd">ftpd(8)</a> <span class="symb">STAT</span> command will return the class settings for the current user as defined by <b class="name">ftpd.conf</b>, unless the <span class="symb">private</span> directive is set for the class.<p>
Each configuration line may be one of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">advertize</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">host</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the address to advertise in the response to the <span class="symb">PASV</span> and <span class="symb">LPSV</span> commands to the address for <i class="arg">host</i> (which may be either a host name or IP address). This may be useful in some firewall configurations, although many ftp clients may not work if the address being advertised is different to the address that they've connected to. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">host</i> not is specified, disable this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">checkportcmd</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">off</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Check the <span class="symb">PORT</span> command for validity. The <span class="symb">PORT</span> command will fail if the IP address specified does not match the FTP command connection, or if the remote TCP port number is less than <span class="define">IPPORT_RESERVED</span>. It is <span class="emph">strongly</span> encouraged that this option be used, especially for sites concerned with potential security problems with FTP bounce attacks. If <i class="arg">class</i> is &#8220;none&#8221; or <span class="symb">off</span> is specified, disable this feature, otherwise enable it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">chroot</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">pathformat</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">pathformat</i> is not specified or <i class="arg">class</i> is &#8220;none&#8221;, use the default behavior (see below). Otherwise, <i class="arg">pathformat</i> is parsed to create a directory to create as the root directory with <a class="link-man" href="../2/chroot">chroot(2)</a> into upon login.<p>
<i class="arg">pathformat</i> can contain the following escape strings:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">Escape</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<span class="symb">Description</span></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%c</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Class name.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%d</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Home directory of user.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%u</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
User name.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%%</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A &#8220;%&#8221; character.</dd>
</dl>
<p>
The default root directory is:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">CHROOT</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The user's home directory.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">GUEST</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If <b class="flag">&#45;a</b> <i class="arg">anondir</i> is specified, use <i class="arg">anondir</i>, otherwise the home directory of the &#8216;ftp&#8217; user.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">REAL</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
By default no <a class="link-man" href="../2/chroot">chroot(2)</a> is performed.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">classtype</span> <i class="arg">class</i> <i class="arg">type</i></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the class type of <i class="arg">class</i> to <i class="arg">type</i> (see above).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">conversion</span> <i class="arg">class</i> <i class="arg">suffix</i> &#91;<span class="opt"><i class="arg">type disable command</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Define an automatic in-line file conversion. If a file to retrieve ends in <i class="arg">suffix</i>, and a real file (sans <i class="arg">suffix</i>) exists, then the output of <i class="arg">command</i> is returned instead of the contents of the file.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">suffix</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The suffix to initiate the conversion.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">type</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
A list of valid file types for the conversion. Valid types are: &#8216;f&#8217; (file), and &#8216;d&#8217; (directory).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">disable</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The name of file that will prevent conversion if it exists. A file name of &#8220;<i class="file">.</i>&#8221; will prevent this disabling action (i.e., the conversion is always permitted.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">command</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The command to run for the conversion. The first word should be the full path name of the command, as <a class="link-man" href="../3/execv">execv(3)</a> is used to execute the command. All instances of the word &#8220;%s&#8221; in <i class="arg">command</i> are replaced with the requested file (sans <i class="arg">suffix</i>).</dd>
</dl>
<p>
Conversion directives specified later in the file override earlier conversions with the same suffix.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">denyquick</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">off</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Enforce <a class="link-man" href="../5/ftpusers">ftpusers(5)</a> rules after the <span class="symb">USER</span> command is received, rather than after the <span class="symb">PASS</span> command is received. Whilst enabling this feature may allow information leakage about available accounts (for example, if you allow some users of a <span class="symb">REAL</span> or <span class="symb">CHROOT</span> class but not others), it is useful in preventing a denied user (such as &#8216;root&#8217;) from entering their password across an insecure connection. This option is <span class="emph">strongly</span> recommended for servers which run an anonymous-only service. If <i class="arg">class</i> is &#8220;none&#8221; or <span class="symb">off</span> is specified, disable this feature, otherwise enable it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">display</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">file</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">file</i> is not specified or <i class="arg">class</i> is &#8220;none&#8221;, disable this. Otherwise, each time the user enters a new directory, check if <i class="arg">file</i> exists, and if so, display its contents to the user. Escape sequences are supported; refer to <i class="link-sec"><a class="link-sec" href="#x446973706c61792066696c65206573636170652073657175656e636573">Display file escape sequences</a></i> in <a class="link-man" href="../8/ftpd">ftpd(8)</a> for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">hidesymlinks</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">off</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">class</i> is &#8220;none&#8221; or <span class="symb">off</span> is specified, disable this feature. Otherwise, the <span class="symb">LIST</span> command lists symbolic links as the file or directory the link references (&#8220;<code class="lit">ls -LlA</code>&#8221;). Servers which run an anonymous service may wish to enable this feature for <span class="symb">GUEST</span> users, so that symbolic links do not leak names in directories that are not searchable by <span class="symb">GUEST</span> users.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">homedir</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">pathformat</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">pathformat</i> is not specified or <i class="arg">class</i> is &#8220;none&#8221;, use the default behavior (see below). Otherwise, <i class="arg">pathformat</i> is parsed to create a directory to change into upon login, and to use as the &#8216;home&#8217; directory of the user for tilde expansion in pathnames, etc. <i class="arg">pathformat</i> is parsed as per the <span class="symb">chroot</span> directive.<p>
The default home directory is the home directory of the user for <span class="symb">REAL</span> users, and <i class="file">/</i> for <span class="symb">GUEST</span> and <span class="symb">CHROOT</span> users.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">limit</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">count</i> &#91;<span class="opt"><i class="arg">file</i></span>&#93;</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Limit the maximum number of concurrent connections for <i class="arg">class</i> to <i class="arg">count</i>, with &#8216;&#45;1&#8217; meaning unlimited connections. If the limit is exceeded and <i class="arg">file</i> is specified, display its contents to the user. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">count</i> is not specified, disable this. If <i class="arg">file</i> is a relative path, it will be searched for in <i class="file">/etc</i> (which can be overridden with <b class="flag">&#45;c</b> <i class="arg">confdir</i>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">maxfilesize</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">size</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the maximum size of an uploaded file to <i class="arg">size</i>, with &#8216;&#45;1&#8217; meaning unlimited connections. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">size</i> is not specified, disable this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">maxtimeout</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">time</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the maximum timeout period that a client may request, defaulting to two hours. This cannot be less than 30 seconds, or the value for <span class="symb">timeout</span>. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">time</i> is not specified, use the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">mmapsize</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">size</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the size of the sliding window to map a file using <a class="link-man" href="../2/mmap">mmap(2)</a>. If zero, <a class="link-man" href="../8/ftpd">ftpd(8)</a> will use <a class="link-man" href="../2/read">read(2)</a> instead. The default is zero. This option affects only binary transfers. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">size</i> is not specified, use the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">modify</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">off</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">class</i> is &#8220;none&#8221; or <span class="symb">off</span> is specified, disable the following commands: <span class="symb">CHMOD</span>, <span class="symb">DELE</span>, <span class="symb">MKD</span>, <span class="symb">RMD</span>, <span class="symb">RNFR</span>, and <span class="symb">UMASK</span>. Otherwise, enable them.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">motd</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">file</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">file</i> is not specified or <i class="arg">class</i> is &#8220;none&#8221;, disable this. Otherwise, use <i class="arg">file</i> as the message of the day file to display after login. Escape sequences are supported; refer to <i class="link-sec"><a class="link-sec" href="#x446973706c61792066696c65206573636170652073657175656e636573">Display file escape sequences</a></i> in <a class="link-man" href="../8/ftpd">ftpd(8)</a> for more information. If <i class="arg">file</i> is a relative path, it will be searched for in <i class="file">/etc</i> (which can be overridden with <b class="flag">&#45;c</b> <i class="arg">confdir</i>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">notify</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">fileglob</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">fileglob</i> is not specified or <i class="arg">class</i> is &#8220;none&#8221;, disable this. Otherwise, each time the user enters a new directory, notify the user of any files matching <i class="arg">fileglob</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">passive</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">off</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">class</i> is &#8220;none&#8221; or <span class="symb">off</span> is specified, prevent passive (<span class="symb">PASV</span>, <span class="symb">LPSV</span>, and <span class="symb">EPSV</span>) connections. Otherwise, enable them.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">portrange</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">min</i> <i class="arg">max</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the range of port number which will be used for the passive data port. <i class="arg">max</i> must be greater than <i class="arg">min</i>, and both numbers must be be between <span class="define">IPPORT_RESERVED</span> (1024) and 65535. If <i class="arg">class</i> is &#8220;none&#8221; or no arguments are specified, disable this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">private</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">off</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">class</i> is &#8220;none&#8221; or <span class="symb">off</span> is specified, do not display class information in the output of the <span class="symb">STAT</span> command. Otherwise, display the information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">rateget</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">rate</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the maximum get (<span class="symb">RETR</span>) transfer rate throttle for <i class="arg">class</i> to <i class="arg">rate</i> bytes per second. If <i class="arg">rate</i> is 0, the throttle is disabled. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">rate</i> is not specified, disable this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">rateput</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">rate</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the maximum put (<span class="symb">STOR</span>) transfer rate throttle for <i class="arg">class</i> to <i class="arg">rate</i> bytes per second. If <i class="arg">rate</i> is 0, the throttle is disabled. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">rate</i> is not specified, disable this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">readsize</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">size</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the size of the read buffer to <a class="link-man" href="../2/read">read(2)</a> a file. The default is the file system block size. This option affects only binary transfers. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">size</i> is not specified, use the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">recvbufsize</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">size</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the size of the socket receive buffer. The default is zero and the system default value will be used. This option affects only passive transfers. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">size</i> is not specified, use the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">sanenames</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">off</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">class</i> is &#8220;none&#8221; or <span class="symb">off</span> is specified, allow uploaded file names to contain any characters valid for a file name. Otherwise, only permit file names which don't start with a &#8216;.&#8217; and only comprise of characters from the set &#8220;[-+,._A-Za-z0-9]&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">sendbufsize</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">size</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the size of the socket send buffer. The default is zero and the system default value will be used. This option affects only binary transfers. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">size</i> is not specified, use the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">sendlowat</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">size</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the low water mark of socket send buffer. The default is zero and system default value will be used. This option affects only for binary transfer. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">size</i> is not specified, use the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">template</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">refclass</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Define <i class="arg">refclass</i> as the &#8216;template&#8217; for <i class="arg">class</i>; any reference to <i class="arg">refclass</i> in following directives will also apply to members of <i class="arg">class</i>. This is useful to define a template class so that other classes which are to share common attributes can be easily defined without unnecessary duplication. There can be only one template defined at a time. If <i class="arg">refclass</i> is not specified, disable the template for <i class="arg">class</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">timeout</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">time</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the inactivity timeout period. (the default is fifteen minutes). This cannot be less than 30 seconds, or greater than the value for <span class="symb">maxtimeout</span>. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">time</i> is not specified, use the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">umask</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">umaskval</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the umask to <i class="arg">umaskval</i>. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">umaskval</i> is not specified, set to the default of <code class="lit">027</code>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">upload</span> <i class="arg">class</i> &#91;<span class="opt"><span class="symb">off</span></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <i class="arg">class</i> is &#8220;none&#8221; or <span class="symb">off</span> is specified, disable the following commands: <span class="symb">APPE</span>, <span class="symb">STOR</span>, and <span class="symb">STOU</span>, as well as the modify commands: <span class="symb">CHMOD</span>, <span class="symb">DELE</span>, <span class="symb">MKD</span>, <span class="symb">RMD</span>, <span class="symb">RNFR</span>, and <span class="symb">UMASK</span>. Otherwise, enable them.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">writesize</span> <i class="arg">class</i> &#91;<span class="opt"><i class="arg">size</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Limit the number of bytes to <a class="link-man" href="../2/write">write(2)</a> at a time. The default is zero, which means all the data available as a result of <a class="link-man" href="../2/mmap">mmap(2)</a> or <a class="link-man" href="../2/read">read(2)</a> will be written at a time. This option affects only binary transfers. If <i class="arg">class</i> is &#8220;none&#8221; or <i class="arg">size</i> is not specified, use the default.</dd>
</dl>
<div class="subsection">
<h2 id="x4e756d6572696320617267756d656e74207375666669782070617273696e67">Numeric argument suffix parsing</h2> Where command arguments are numeric, a decimal number is expected. Two or more numbers may be separated by an &#8220;x&#8221; to indicate a product. Each number may have one of the following optional suffixes:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
b</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Block; multiply by 512</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
k</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Kibi; multiply by 1024 (1 KiB)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
m</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Mebi; multiply by 1048576 (1 MiB)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
g</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Gibi; multiply by 1073741824 (1 GiB)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
t</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Tebi; multiply by 1099511627776 (1 TiB)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
w</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Word; multiply by the number of bytes in an integer</dd>
</dl>
<p>
See <a class="link-man" href="../3/strsuftoll">strsuftoll(3)</a> for more information.</div>
</div>
<div class="section">
<h1 id="x44454641554c5453">DEFAULTS</h1> The following defaults are used:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
checkportcmd  all 
classtype     chroot CHROOT 
classtype     guest  GUEST 
classtype     real   REAL 
display       none 
limit         all    &#45;1     # unlimited connections 
maxtimeout    all    7200   # 2 hours 
modify        all 
motd          all    motd 
notify        none 
passive       all 
timeout       all    900    # 15 minutes 
umask         all    027 
upload        all 
modify        guest  off 
umask         guest  0707</pre>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ftpd.conf</i></dt>
<dd class="list-tag" style="margin-left: 34.00ex;">
This file.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/share/examples/ftpd/ftpd.conf</i></dt>
<dd class="list-tag" style="margin-left: 34.00ex;">
A sample <b class="name">ftpd.conf</b> file.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/strsuftoll">strsuftoll(3)</a>, <a class="link-man" href="../5/ftpchroot">ftpchroot(5)</a>, <a class="link-man" href="../5/ftpusers">ftpusers(5)</a>, <a class="link-man" href="../8/ftpd">ftpd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">ftpd.conf</b> functionality was implemented in <span class="unix">NetBSD&#160;1.3</span> and later releases by Luke Mewburn, based on work by Simon Burge.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 13, 2007</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

