<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
NTP_KEYS(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
NTP_KEYS(5)</td>
<td class="head-vol" align="center">
File</td>
<td class="head-rtitle" align="right">
NTP_KEYS(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ntp.keys</b> &#8212; <span class="desc">NTP symmetric key file format<div style="height: 1.00em;">
&#160;</div>
</span></div>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ntp.keys</b> &#8212; <span class="desc">NTP symmetric key file format</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <span class="symb">/etc/ntp.keys</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This document describes the format of an NTP symmetric key file. For a description of the use of this type of file, see the &#8220;Authentication Support&#8221; section of the <a class="link-man" href="../html5/ntp.conf.html">ntp.conf(5)</a> page.<p>
<a class="link-man" href="../html8/ntpd.html">ntpd(8)</a> reads its keys from a file specified using the <b class="flag">&#45;k</b> command line option or the <b class="cmd">keys</b> statement in the configuration file. While key number 0 is fixed by the NTP standard (as 56 zero bits) and may not be changed, one or more keys numbered between 1 and 65534 may be arbitrarily set in the keys file.<p>
The key file uses the same comment conventions as the configuration file. Key entries use a fixed format of the form<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<i class="arg">keyno type key</i></div>
</blockquote>
<p>
where <i class="arg">keyno</i> is a positive integer (between 1 and 65534), <i class="arg">type</i> is the message digest algorithm, and <i class="arg">key</i> is the key itself.<p>
The <i class="arg">key</i> may be given in a format controlled by the <i class="arg">type</i> field. The <i class="arg">type</i> <code class="lit">MD5</code> is always supported. If <code class="lit">ntpd</code> was built with the OpenSSL library then any digest library supported by that library may be specified. However, if compliance with FIPS 140&#45;2 is required the <i class="arg">type</i> must be either <code class="lit">SHA</code> or <code class="lit">SHA1</code>.<p>
What follows are some key types, and corresponding formats:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">MD5</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The key is 1 to 16 printable characters terminated by an EOL, whitespace, or a <code class="lit">#</code> (which is the "start of comment" character).<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">SHA</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">SHA1</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">RMD160</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The key is a hex&#45;encoded ASCII string of 40 characters, which is truncated as necessary.</dd>
</dl>
<p>
Note that the keys used by the <a class="link-man" href="../html8/ntpq.html">ntpq(8)</a> and <a class="link-man" href="../html8/ntpdc.html">ntpdc(8)</a> programs are checked against passwords requested by the programs and entered by hand, so it is generally appropriate to specify these keys in ASCII format.</div>
<div class="section">
<h1 id="x4f5054494f4e53">OPTIONS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;&#45;help</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Display usage information and exit.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;&#45;more&#45;help</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Pass the extended usage information through a pager.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;&#45;version</b> &#91;<span class="opt">&#123;<i class="arg">v|c|n</i>&#125;</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Output version of program and exit.  The default mode is `v', a simple version.  The `c' mode will print copyright information and `n' will print the full copyright notice.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4f5054494f4e2050524553455453">OPTION PRESETS</h1> Any option that is not marked as  <i>not presettable</i> may be preset by loading values from environment variables named:<br>
  <b>NTP_KEYS_&lt;option&#45;name&gt;</b> or <b>NTP_KEYS</b> cvt_prog='/usr/local/gnu/share/autogen/texi2mdoc' cvt_prog=`cd &#768;dirname "$cvt_prog"&#768; &gt;/dev/null &amp;&amp; pwd<br>
         `/`basename "$cvt_prog"` cd $tmp_dir test &#45;x "$cvt_prog" || die "'$cvt_prog' is not executable" {<br>
    list='synopsis description options option&#45;presets'<br>
    for f in $list ; do cat $f ; echo ; done<br>
    rm &#45;f $list name<br>
    list='implementation&#45;notes environment files examples exit&#45;status errors<br>
        compatibility see&#45;also conforming&#45;to history authors copyright bugs<br>
        notes'<br>
    for f in $list ; do cat $f ; echo ; done &gt; .end&#45;doc<br>
    rm &#45;f $list<br>
    list=`ls &#45;1 *`' .end&#45;doc'<br>
    for f in $list ; do cat $f ; echo ; done<br>
    rm &#45;f $list } 1&gt;.doc 2&gt;/dev/null sed &#45;f .cmds .doc | /usr/local/gnu/bin/grep &#45;E &#45;v '^[ 	]*$' | $cvt_prog</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1> See  <b>OPTION PRESETS</b> for configuration environment variables.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ntp.keys</i></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
the default name of the configuration file</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> One of the following exit values will be returned:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
0  (EXIT_SUCCESS)</dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Successful program execution.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
1  (EXIT_FAILURE)</dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
The operation failed or the command syntax was not valid.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
70  (EX_SOFTWARE)</dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
libopts had an internal operational error.  Please report it to autogen&#45;users@lists.sourceforge.net.  Thank you.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/ntp.conf.html">ntp.conf(5)</a>, <a class="link-man" href="../html8/ntpd.html">ntpd(8)</a>, <a class="link-man" href="../html8/ntpdate.html">ntpdate(8)</a>, <a class="link-man" href="../html8/ntpdc.html">ntpdc(8)</a>, <a class="link-man" href="../html1/sntp.html">sntp(1)</a></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The University of Delaware</div>
<div class="section">
<h1 id="x434f50595249474854">COPYRIGHT</h1> Copyright (C) 1970&#45;2013 The University of Delaware all rights reserved. This program is released under the terms of the NTP license, &lt;http://ntp.org/license&gt;.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Please send bug reports to: http://bugs.ntp.org, bugs@ntp.org</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> This document corresponds to version 4.2.7p404 of NTP. This document was derived from FreeBSD.<p>
This manual page was <i>AutoGen</i>&#45;erated from the <b>ntp.keys</b> option definitions.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 24 2013</td>
<td class="foot-os" align="right">
SunOS 5.10</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

