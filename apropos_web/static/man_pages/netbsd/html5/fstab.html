<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
FSTAB(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
FSTAB(5)</td>
<td class="head-vol" align="center">
File Formats Manual</td>
<td class="head-rtitle" align="right">
FSTAB(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">fstab</b> &#8212; <span class="desc">file system table for devices, types, and mount points</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">fstab.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The file <b class="name">fstab</b> contains descriptive information about the various file systems. <b class="name">fstab</b> is only read by programs, and not written; it is the duty of the system administrator to properly create and maintain this file. Each file system is described on a separate line; fields on each line are separated by tabs or spaces. Lines beginning with &#8220;#&#8221; are comments. The order of records in <b class="name">fstab</b> is important because <a class="link-man" href="../8/fsck">fsck(8)</a>, <a class="link-man" href="../8/mount">mount(8)</a>, and <a class="link-man" href="../8/umount">umount(8)</a> sequentially iterate through <b class="name">fstab</b> doing their respective tasks.<p>
Each configuration line/record in <b class="name">fstab</b> has the format:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">fs_spec fs_file fs_vfstype fs_mntops fs_freq fs_passno</code></div>
</blockquote>
<p>
The first field, (<i class="farg">fs_spec</i>), describes the block special device or remote file system to be mounted. For file systems of type <span class="emph">ffs</span>, the special file name is the block special file name, and not the character special file name. If a program needs the character special file name, the program must create it by appending a &#8220;r&#8221; after the last &#8220;/&#8221; in the special file name.<p>
If the first field is of the form &#8220;NAME=&lt;value&gt;&#8221; then all the <a class="link-man" href="../4/dk">dk(4)</a> wedge partitions are searched for one that has a wedge name equal to <i class="arg">&lt;value&gt;</i> and the device corresponding to it is selected.<p>
The second field, (<i class="farg">fs_file</i>), describes the mount point for the file system. For swap and dump partitions, this field should be specified as &#8220;none&#8221;.<p>
The third field, (<i class="farg">fs_vfstype</i>), describes the type of the file system. The system currently supports these file systems:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">adosfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
an AmigaDOS file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">cd9660</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
an ISO 9660 CD-ROM file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">ext2fs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
an implementation of the Linux &#8220;Second Extended File-system&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">fdesc</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
an implementation of <i class="file">/dev/fd</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">ffs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a local <span class="unix">UNIX</span> file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">filecore</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a file system for RISC&#160;OS.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">kernfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
various and sundry kernel statistics.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">lfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a log-structured file-system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">mfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a local memory-based <span class="unix">UNIX</span> file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">msdos</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
an MS-DOS &#8220;FAT file system&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">nfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a Sun Microsystems compatible &#8220;Network File System&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">ntfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a file system used by Windows NT. Still experimental.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">null</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a loop-back file system, allowing parts of the system to be viewed elsewhere.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">overlay</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a demonstration of layered file systems.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">portal</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a general file system interface, currently supports TCP and FS mounts.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">procfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a local file system of process information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">ptyfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a pseudo-terminal device file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">smbfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a shared resource from an SMB/CIFS file server.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">swap</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a disk partition to be used for swapping and paging.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">tmpfs</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
an efficient memory file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">umap</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a user and group re-mapping file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">union</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a translucent file system.</dd>
</dl>
<p>
The fourth field, (<i class="farg">fs_mntops</i>), describes the mount options associated with the file system. It is formatted as a comma separated list of options. It contains at least the type of mount (see <i class="farg">fs_type</i> below) plus any additional options appropriate to the file system type.<p>
The option &#8220;auto&#8221; can be used in the &#8220;noauto&#8221; form to cause a file system not to be mounted automatically (with &#8220;mount -a&#8221; , or system boot time).<p>
If the options &#8220;userquota&#8221; and/or &#8220;groupquota&#8221; are specified, the file system is automatically processed by the <a class="link-man" href="../8/quotacheck">quotacheck(8)</a> command, and legacy user and/or group disk quotas are enabled with <a class="link-man" href="../8/quotaon">quotaon(8)</a>. By default, file system quotas are maintained in files named <i class="file">quota.user</i> and <i class="file">quota.group</i> which are located at the root of the associated file system. These defaults may be overridden by putting an equal sign and an alternative absolute pathname following the quota option. Thus, if the user quota file for <i class="file">/tmp</i> is stored in <i class="file">/var/quotas/tmp.user</i>, this location can be specified as:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
userquota=/var/quotas/tmp.user</pre>
<p>
It is recommended to turn on the new, in-file system quota with <a class="link-man" href="../8/tunefs">tunefs(8)</a> or at <a class="link-man" href="../8/newfs">newfs(8)</a> time, and to not use the &#8220;userquota&#8221; or &#8220;groupquota&#8221; options. Migration of limits to the new in-file system quota can be handled via <a class="link-man" href="../8/quotadump">quotadump(8)</a> and <a class="link-man" href="../8/quotarestore">quotarestore(8)</a>.<p>
The option &#8220;rump&#8221; is used to mount the file system using a <a class="link-man" href="../3/rump">rump(3)</a> userspace server instead of the kernel server.<p>
The type of the mount is extracted from the <i class="farg">fs_mntops</i> field and stored separately in the <i class="farg">fs_type</i> field (it is not deleted from the <i class="farg">fs_mntops</i> field). If <i class="farg">fs_type</i> is &#8220;rw&#8221; or &#8220;ro&#8221; then the file system whose name is given in the <i class="farg">fs_file</i> field is normally mounted read-write or read-only on the specified special file. If <i class="farg">fs_type</i> is &#8220;sw&#8221; or &#8220;dp&#8221; then the special file is made available as a piece of swap or dump space by the <a class="link-man" href="../8/swapctl">swapctl(8)</a> command towards the beginning of the system reboot procedure. See <a class="link-man" href="../8/swapctl">swapctl(8)</a> for more information on configuring swap and dump devices. The fields other than <i class="farg">fs_spec</i> and <i class="farg">fs_type</i> are unused. If <i class="farg">fs_type</i> is specified as &#8220;xx&#8221; the entry is ignored. This is useful to show disk partitions which are currently unused.<p>
The fifth field, (<i class="farg">fs_freq</i>), is used for these file systems by the <a class="link-man" href="../8/dump">dump(8)</a> command to determine which file systems need to be dumped. If the fifth field is not present, a value of zero is returned and <a class="link-man" href="../8/dump">dump(8)</a> will assume that the file system does not need to be dumped.<p>
The sixth field, (<i class="farg">fs_passno</i>), is used by the <a class="link-man" href="../8/fsck">fsck(8)</a> program to determine the order in which file system checks are done at reboot time. The root file system should be specified with a <i class="farg">fs_passno</i> of 1, and other file systems should have a <i class="farg">fs_passno</i> of 2. Filesystems within a drive will be checked sequentially, but file systems on different drives will be checked at the same time to use parallelism available in the hardware. If the sixth field is not present or zero, a value of zero is returned and <a class="link-man" href="../8/fsck">fsck(8)</a> will assume that the file system does not need to be checked.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
#define	FSTAB_RW	"rw"	/* read-write device */ 
#define	FSTAB_RQ	"rq"	/* read/write with quotas */ 
#define	FSTAB_RO	"ro"	/* read-only device */ 
#define	FSTAB_SW	"sw"	/* swap device */ 
#define	FSTAB_DP	"dp"	/* dump device */ 
#define	FSTAB_XX	"xx"	/* ignore totally */ 
 
struct fstab { 
	char	*fs_spec;	/* block special device name */ 
	char	*fs_file;	/* file system path prefix */ 
	char	*fs_vfstype;	/* type of file system */ 
	char	*fs_mntops;	/* comma separated mount options */ 
	char	*fs_type;	/* rw, ro, sw, or xx */ 
	int	fs_freq;	/* dump frequency, in days */ 
	int	fs_passno;	/* pass number on parallel fsck */ 
};</pre>
<p>
The proper way to read records from <i class="file">fstab</i> is to use the routines <a class="link-man" href="../3/getfsent">getfsent(3)</a>, <a class="link-man" href="../3/getfsspec">getfsspec(3)</a>, and <a class="link-man" href="../3/getfsfile">getfsfile(3)</a>.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/etc/fstab</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The location of <b class="name">fstab</b> configuration file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/usr/share/examples/fstab/</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Some useful configuration examples.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> To use &#8220;NAME&#8221; on a non-GPT disk, use:<p>
<pre style="margin-left: 0.00ex;" class="lit display">
NAME=sb2k5Root/a        /       ffs     rw,log           1 1 
NAME=sb2k5Root/b        none    swap    sw,dp            0 0</pre>
For a <a class="link-man" href="../8/gpt">gpt(8)</a> disk, use:<p>
<pre style="margin-left: 0.00ex;" class="lit display">
NAME=firstpartition     /       ffs     rw,log           1 1 
NAME=secondpartition    none    swap    sw,dp            0 0</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/getfsent">getfsent(3)</a>, <a class="link-man" href="../3/getfsspecname">getfsspecname(3)</a>, <a class="link-man" href="../8/mount">mount(8)</a>, <a class="link-man" href="../8/swapctl">swapctl(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">fstab</b> file format appeared in <span class="unix">4.0BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 12, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

