<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
DAILY(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DAILY(5)</td>
<td class="head-vol" align="center">
File Formats Manual</td>
<td class="head-rtitle" align="right">
DAILY(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">daily</b>, <b class="name">daily.conf</b> &#8212; <span class="desc">daily maintenance</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <i class="file">/etc/daily</i> script is run, by default, every night on a <span class="unix">NetBSD</span> system. The <i class="file">/etc/daily.conf</i> file specifies which of the standard <b class="name">daily</b> services are performed.<p>
The variables described below can be set to &#8220;YES&#8221; or &#8220;NO&#8221; in the <i class="file">/etc/daily.conf</i> file. Most default to &#8220;YES&#8221;, but not all. Check the <i class="file">/etc/defaults/daily.conf</i> file if you are in doubt. (Note that you should never edit <i class="file">/etc/defaults/daily.conf</i> directly, as it is often replaced during system upgrades.)<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">find_core</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs <a class="link-man" href="../html1/find.html">find(1)</a> over the entire local filesystem, looking for core files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">run_msgs</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs <a class="link-man" href="../html1/msgs.html">msgs(1)</a> with the <b class="flag">&#45;c</b> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">expire_news</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs the <i class="file">/etc/expire.news</i> script.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">purge_accounting</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This ages accounting files in <i class="file">/var/account</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">run_calendar</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs <a class="link-man" href="../html1/calendar.html">calendar(1)</a> with the <b class="flag">&#45;a</b> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">check_disks</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This uses the <a class="link-man" href="../html1/df.html">df(1)</a> and <a class="link-man" href="../html8/dump.html">dump(8)</a> to give disk status, and also reports failed <a class="link-man" href="../html4/raid.html">raid(4)</a> components.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">show_remote_fs</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
In check_disks, show remote file systems, which are not reported on by default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">check_mailq</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs <a class="link-man" href="../html1/mailq.html">mailq(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">check_network</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs <a class="link-man" href="../html1/netstat.html">netstat(1)</a> with the <b class="flag">&#45;i</b> argument, and also checks the <a class="link-man" href="../html8/rwhod.html">rwhod(8)</a> database, and runs <a class="link-man" href="../html1/ruptime.html">ruptime(1)</a> if there are hosts in <i class="file">/var/rwho</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">full_netstat</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
By default, <span class="symb">check_network</span> outputs a summarized version of the <a class="link-man" href="../html1/netstat.html">netstat(1)</a> report. If a full version of the output run with the <b class="flag">&#45;inv</b> options is desired, set this variable.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">run_fsck</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs <a class="link-man" href="../html8/fsck.html">fsck(8)</a> with the <b class="flag">&#45;n</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">run_rdist</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs <a class="link-man" href="../html1/rdist.html">rdist(1)</a> with <i class="file">/etc/Distfile</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">run_security</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
This runs the <i class="file">/etc/security</i> script looking for possible security problems with the system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">run_skeyaudit</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
Runs the <a class="link-man" href="../html1/skeyaudit.html">skeyaudit(1)</a> program to check the S/Key database and informs users of S/Keys that are about to expire.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">run_makemandb</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
If the <i class="file">/etc/man.conf</i> file exists, runs the <a class="link-man" href="../html8/makemandb.html">makemandb(8)</a> utility to update the <i class="file">man.db</i> database for use by <a class="link-man" href="../html1/apropos.html">apropos(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">fetch_pkg_vulnerabilities</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
Refreshes the local database of package vulnerabilities. See the settings in <a class="link-man" href="../html5/security.conf.html">security.conf(5)</a> for details on the actual package checks.</dd>
</dl>
<p>
The variables described below can be set to modify the tests:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">find_core_ignore_fstypes</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
Lists filesystem types to ignore during the <span class="symb">find_core</span> phase. Prefixing the type with a &#8216;!&#8217; inverts the match. For example, &#8216;<code class="lit">procfs !local</code>&#8217; will ignore &#8216;<code class="lit">procfs</code>&#8217; type filesystems and filesystems that are not &#8216;<code class="lit">local</code>&#8217;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">find_core_ignore_paths</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
Lists paths to ignore during the <span class="symb">find_core</span> phase. For example, &#8216;<code class="lit"><i class="file">/export</i></code>&#8217; will not descend into any directories under the &#8216;<code class="lit"><i class="file">/export</i></code>&#8217; hierarchy. This, on a file server, allows to skip user data while still scanning system files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">run_fsck_flags</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
Extra options to be passed to <a class="link-man" href="../html8/fsck.html">fsck(8)</a> if <span class="symb">run_fsck</span> is enabled.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">send_empty_security</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
If set, the report generated by the <span class="symb">run_security</span> phase will always be sent, even if it is empty.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">pkgdb_dir</span></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
<span class="emph">DEPRECATED</span>. Please set <span class="define">PKGDB_DIR</span> in <a class="link-man" href="../html5/pkg_install.conf.html">pkg_install.conf(5)</a> instead.<p>
If defined, points to the location of the packages database. Defaults to <i class="file">/var/db/pkg</i>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/daily</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
daily maintenance script</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/daily.conf</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
daily maintenance configuration</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/defaults/daily.conf</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
default settings, overridden by <i class="file">/etc/daily.conf</i></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/daily.local</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
local site additions to <i class="file">/etc/daily</i></dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/monthly.html">monthly(5)</a>, <a class="link-man" href="../html5/security.conf.html">security.conf(5)</a>, <a class="link-man" href="../html5/weekly.html">weekly(5)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <i class="file">/etc/daily.conf</i> file appeared in <span class="unix">NetBSD&#160;1.3</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 30, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

