<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ALIASES(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ALIASES(5)</td>
<td class="head-vol" align="center">
File Formats Manual</td>
<td class="head-rtitle" align="right">
ALIASES(5)</td>
</tr>
</tbody>
</table>
<br>
<div class="section">
<h1>NAME</h1> aliases &#45; Postfix local alias database format</div>
<div class="section">
<h1>SYNOPSIS</h1><br>
<b>newaliases</b></div>
<div class="section">
<h1>DESCRIPTION</h1><br>
The <b>aliases</b>(5) table provides a system-wide mechanism to redirect mail for local recipients. The redirections are processed by the Postfix  <b>local</b>(8) delivery agent.<div style="height: 1.00em;">
&#160;</div>
Normally, the <b>aliases</b>(5) table is specified as a text file that serves as input to the  <b>postalias</b>(1) command. The result, an indexed file in  <b>dbm</b> or <b>db</b> format, is used for fast lookup by the mail system. Execute the command  <b>newaliases</b> in order to rebuild the indexed file after changing the Postfix alias database.<div style="height: 1.00em;">
&#160;</div>
When the table is provided via other means such as NIS, LDAP or SQL, the same lookups are done as for ordinary indexed files.<div style="height: 1.00em;">
&#160;</div>
Alternatively, the table can be provided as a regular-expression map where patterns are given as regular expressions. In this case, the lookups are done in a slightly different way as described below under "REGULAR EXPRESSION TABLES".<div style="height: 1.00em;">
&#160;</div>
Users can control delivery of their own mail by setting up  <b>.forward</b> files in their home directory. Lines in per-user  <b>.forward</b> files have the same syntax as the right-hand side of  <b>aliases</b>(5) entries.<div style="height: 1.00em;">
&#160;</div>
The format of the alias database input file is as follows:<dl>
<dt>
&#8226;</dt>
<dd>
An alias definition has the form<div style="height: 1.00em;">
&#160;</div>
<br>
     <i>name</i>: <i>value1</i>, <i>value2</i>, <i>...</i><br>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Empty lines and whitespace-only lines are ignored, as are lines whose first non-whitespace character is a `#'.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
A logical line starts with non-whitespace text. A line that starts with whitespace continues a logical line.</dd>
</dl>
<p>
The <i>name</i> is a local address (no domain part). Use double quotes when the name contains any special characters such as whitespace, `#', `:', or `@'. The  <i>name</i> is folded to lowercase, in order to make database lookups case insensitive.<p>
In addition, when an alias exists for <b>owner-</b><i>name</i>, delivery diagnostics are directed to that address, instead of to the originator of the message. This is typically used to direct delivery errors to the maintainer of a mailing list, who is in a better position to deal with mailing list delivery problems than the originator of the undelivered mail.<p>
The <i>value</i> contains one or more of the following:<dl>
<dt>
<i>address</i></dt>
<dd>
Mail is forwarded to <i>address</i>, which is compatible with the RFC 822 standard.</dd>
</dl>
<dl>
<dt>
<i>/file/name</i></dt>
<dd>
Mail is appended to <i>/file/name</i>. See <b>local</b>(8) for details of delivery to file. Delivery is not limited to regular files.  For example, to dispose of unwanted mail, deflect it to  <b>/dev/null</b>.</dd>
</dl>
<dl>
<dt>
|<i>command</i></dt>
<dd>
Mail is piped into <i>command</i>. Commands that contain special characters, such as whitespace, should be enclosed between double quotes. See  <b>local</b>(8) for details of delivery to command.<div style="height: 1.00em;">
&#160;</div>
When the command fails, a limited amount of command output is mailed back to the sender.  The file  <b>/usr/include/sysexits.h</b> defines the expected exit status codes. For example, use  <b>"|exit 67"</b> to simulate a "user unknown" error, and  <b>"|exit 0"</b> to implement an expensive black hole.</dd>
</dl>
<dl>
<dt>
<b>:include:</b><i>/file/name</i></dt>
<dd>
Mail is sent to the destinations listed in the named file. Lines in  <b>:include:</b> files have the same syntax as the right-hand side of alias entries.<div style="height: 1.00em;">
&#160;</div>
A destination can be any destination that is described in this manual page. However, delivery to "| <i>command</i>" and  <i>/file/name</i> is disallowed by default. To enable, edit the  <b>allow_mail_to_commands</b> and <b>allow_mail_to_files</b> configuration parameters.</dd>
</dl>
</div>
<div class="section">
<h1>ADDRESS EXTENSION</h1><br>
When alias database search fails, and the recipient localpart contains the optional recipient delimiter (e.g.,  <i>user+foo</i>), the search is repeated for the unextended address (e.g.,  <i>user</i>).<div style="height: 1.00em;">
&#160;</div>
The <b>propagate_unmatched_extensions</b> parameter controls whether an unmatched address extension ( <i>+foo</i>) is propagated to the result of table lookup.</div>
<div class="section">
<h1>CASE FOLDING</h1><br>
The local(8) delivery agent always folds the search string to lowercase before database lookup.</div>
<div class="section">
<h1>REGULAR EXPRESSION TABLES</h1><br>
This section describes how the table lookups change when the table is given in the form of regular expressions. For a description of regular expression lookup table syntax, see  <b>regexp_table</b>(5) or  <b>pcre_table</b>(5). NOTE: these formats do not use ":" at the end of a pattern.<div style="height: 1.00em;">
&#160;</div>
Each regular expression is applied to the entire search string. Thus, a search string  <i>user+foo</i> is not broken up into  <i>user</i> and <i>foo</i>.<div style="height: 1.00em;">
&#160;</div>
Regular expressions are applied in the order as specified in the table, until a regular expression is found that matches the search string.<div style="height: 1.00em;">
&#160;</div>
Lookup results are the same as with indexed file lookups. For security reasons there is no support for  <b>$1</b>,  <b>$2</b> etc. substring interpolation.</div>
<div class="section">
<h1>SECURITY</h1><br>
The <b>local</b>(8) delivery agent disallows regular expression substitution of $1 etc. in  <b>alias_maps</b>, because that would open a security hole.<div style="height: 1.00em;">
&#160;</div>
The <b>local</b>(8) delivery agent will silently ignore requests to use the  <b>proxymap</b>(8) server within  <b>alias_maps</b>. Instead it will open the table directly. Before Postfix version 2.2, the  <b>local</b>(8) delivery agent will terminate with a fatal error.</div>
<div class="section">
<h1>CONFIGURATION PARAMETERS</h1><br>
The following <b>main.cf</b> parameters are especially relevant. The text below provides only a parameter summary. See  <b>postconf</b>(5) for more details including examples.<dl>
<dt>
<b>alias_database</b></dt>
<dd>
List of alias databases that are updated by the  <b>newaliases</b>(1) command.</dd>
</dl>
<dl>
<dt>
<b>alias_maps</b></dt>
<dd>
List of alias databases queried by the <b>local</b>(8) delivery agent.</dd>
</dl>
<dl>
<dt>
<b>allow_mail_to_commands</b></dt>
<dd>
Restrict the usage of mail delivery to external command.</dd>
</dl>
<dl>
<dt>
<b>allow_mail_to_files</b></dt>
<dd>
Restrict the usage of mail delivery to external file.</dd>
</dl>
<dl>
<dt>
<b>expand_owner_alias</b></dt>
<dd>
When delivering to an alias that has an <b>owner-</b> companion alias, set the envelope sender address to the right-hand side of the owner alias, instead using of the left-hand side address.</dd>
</dl>
<dl>
<dt>
<b>propagate_unmatched_extensions</b></dt>
<dd>
A list of address rewriting or forwarding mechanisms that propagate an address extension from the original address to the result. Specify zero or more of  <b>canonical</b>,  <b>virtual</b>, <b>alias</b>, <b>forward</b>, <b>include</b>, or  <b>generic</b>.</dd>
</dl>
<dl>
<dt>
<b>owner_request_special</b></dt>
<dd>
Give special treatment to <b>owner-</b><i>listname</i> and  <i>listname</i><b>-request</b> addresses.</dd>
</dl>
<dl>
<dt>
<b>recipient_delimiter</b></dt>
<dd>
Delimiter that separates recipients from address extensions.</dd>
</dl>
<p>
Available in Postfix version 2.3 and later:<dl>
<dt>
<b>frozen_delivered_to</b></dt>
<dd>
Update the local(8) delivery agent's Delivered-To: address (see prepend_delivered_header) only once, at the start of a delivery; do not update the Delivered-To: address while expanding aliases or .forward files.</dd>
</dl>
</div>
<div class="section">
<h1>STANDARDS</h1><br>
RFC 822 (ARPA Internet Text Messages)</div>
<div class="section">
<h1>SEE ALSO</h1><br>
local(8), local delivery agent<br>
newaliases(1), create/update alias database<br>
postalias(1), create/update alias database<br>
postconf(5), configuration parameters</div>
<div class="section">
<h1>README FILES</h1><br>
Use "<b>postconf readme_directory</b>" or " <b>postconf_directory</b>" to locate this information.<br>
DATABASE_README, Postfix lookup table overview</div>
<div class="section">
<h1>LICENSE</h1><br>
The Secure Mailer license must be distributed with this software.</div>
<div class="section">
<h1>AUTHOR(S)</h1><br>
Wietse Venema<br>
IBM T.J. Watson Research<br>
P.O. Box 704<br>
Yorktown Heights, NY 10598, USA</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
</td>
<td class="foot-os" align="right">
</td>
</tr>
</table>
</div>
</body>
<>

