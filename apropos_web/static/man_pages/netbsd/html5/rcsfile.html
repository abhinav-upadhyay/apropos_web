<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RCSFILE(5)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RCSFILE(5)</td>
<td class="head-vol" align="center">
File Formats Manual</td>
<td class="head-rtitle" align="right">
RCSFILE(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> rcsfile &#45; format of RCS file</div>
<div class="section">
<h1>DESCRIPTION</h1> An RCS file's contents are described by the grammar below.<p>
The text is free format: space, backspace, tab, newline, vertical tab, form feed, and carriage return (collectively, <i>white space</i>) have no significance except in strings. However, white space cannot appear within an id, num, or sym, and an RCS file must end with a newline.<p>
Strings are enclosed by <b>@</b>. If a string contains a <b>@</b>, it must be doubled; otherwise, strings can contain arbitrary binary data.<p>
The meta syntax uses the following conventions: `|' (bar) separates alternatives; `{' and `}' enclose optional phrases; `{' and `}*' enclose phrases that can be repeated zero or more times; `{' and '}+' enclose phrases that must appear at least once and can be repeated; Terminal symbols are in <b>boldface</b>; nonterminal symbols are in <i>italics</i>.<p>
<br>
<i>rcstext</i>	::=	<i>admin</i> {<i>delta</i>}* <i>desc</i> {<i>deltatext</i>}*<p>
<i>admin</i>	::=	<b>head</b>	{<i>num</i>}<b>;</b><br>
		{ <b>branch</b>	{<i>num</i>}<b>;</b> }<br>
		<b>access</b>	{<i>id</i>}*<b>;</b><br>
		<b>symbols</b>	{<i>sym</i> <b>:</b> <i>num</i>}*<b>;</b><br>
		<b>locks</b>	{<i>id</i> <b>:</b> <i>num</i>}*<b>;</b>  {<b>strict  ;</b>}<br>
		{ <b>comment</b>	{<i>string</i>}<b>;</b> }<br>
		{ <b>expand</b>	{<i>string</i>}<b>;</b> }<br>
		{ <i>newphrase</i> }*<p>
<i>delta</i>	::=	<i>num</i><br>
		<b>date</b>	<i>num</i><b>;</b><br>
		<b>author</b>	<i>id</i><b>;</b><br>
		<b>state</b>	{<i>id</i>}<b>;</b><br>
		<b>branches</b>	{<i>num</i>}*<b>;</b><br>
		<b>next</b>	{<i>num</i>}<b>;</b><br>
		{ <i>newphrase</i> }*<p>
<i>desc</i>	::=	<b>desc</b>	<i>string</i><p>
<i>deltatext</i>	::=	<i>num</i><br>
		<b>log</b>	<i>string</i><br>
		{ <i>newphrase</i> }*<br>
		<b>text</b>	<i>string</i><p>
<i>num</i>	::=	{<i>digit</i> | <b>.</b>}+<p>
<i>digit</i>	::=	<b>0</b> | <b>1</b> | <b>2</b> | <b>3</b> | <b>4</b> | <b>5</b> | <b>6</b> | <b>7</b> | <b>8</b> | <b>9</b><p>
<i>id</i>	::=	{<i>num</i>} <i>idchar</i> {<i>idchar</i> | <i>num</i>}*<p>
<i>sym</i>	::=	{<i>digit</i>}* <i>idchar</i> {<i>idchar</i> | <i>digit</i>}*<p>
<i>idchar</i>	::=	any visible graphic character except <i>special</i><p>
<i>special</i>	::=	<b>$</b> | <b>,</b> | <b>.</b> | <b>:</b> | <b>;</b> | <b>@</b><p>
<i>string</i>	::=	<b>@</b>{any character, with <b>@</b> doubled}*<b>@</b><p>
<i>newphrase</i>	::=	<i>id</i> <i>word</i>* <b>;</b><p>
<i>word</i>	::=	<i>id</i> | <i>num</i> | <i>string</i> | <b>:</b><br>
<p>
Identifiers are case sensitive.  Keywords are in lower case only. The sets of keywords and identifiers can overlap. In most environments RCS uses the ISO 8859/1 encoding: visible graphic characters are codes 041&#45;176 and 240&#45;377, and white space characters are codes 010&#45;015 and 040.<p>
Dates, which appear after the <b>date</b> keyword, are of the form  <i>Y</i><b>.</b><i>mm</i><b>.</b><i>dd</i><b>.</b><i>hh</i><b>.</b><i>mm</i><b>.</b><i>ss</i>, where <i>Y</i> is the year, <i>mm</i> the month (01&#45;12), <i>dd</i> the day (01&#45;31), <i>hh</i> the hour (00&#45;23), <i>mm</i> the minute (00&#45;59), and <i>ss</i> the second (00&#45;60). <i>Y</i> contains just the last two digits of the year for years from 1900 through 1999, and all the digits of years thereafter. Dates use the Gregorian calendar; times use UTC.<p>
The <i>newphrase</i> productions in the grammar are reserved for future extensions to the format of RCS files. No <i>newphrase</i> will begin with any keyword already in use.<p>
The <i>delta</i> nodes form a tree.  All nodes whose numbers consist of a single pair (e.g., 2.3, 2.1, 1.3, etc.) are on the trunk, and are linked through the <b>next</b> field in order of decreasing numbers. The <b>head</b> field in the <i>admin</i> node points to the head of that sequence (i.e., contains the highest pair). The <b>branch</b> node in the admin node indicates the default branch (or revision) for most RCS operations. If empty, the default branch is the highest branch on the trunk.<p>
All <i>delta</i> nodes whose numbers consist of 2<i>n</i> fields (<i>n</i>&#8805;2) (e.g., 3.1.1.1, 2.1.2.2, etc.) are linked as follows. All nodes whose first 2<i>n</i>&#45;1 number fields are identical are linked through the <b>next</b> field in order of increasing numbers. For each such sequence, the <i>delta</i> node whose number is identical to the first 2<i>n</i>&#45;2 number fields of the deltas on that sequence is called the branchpoint. The <b>branches</b> field of a node contains a list of the numbers of the first nodes of all sequences for which it is a branchpoint. This list is ordered in increasing numbers.<p>
The following diagram shows an example of an RCS file's organization.<p>
<br>
                           Head<br>
                             |<br>
                             |<br>
                             v                        /                          ---------                   /      / &#160;         / &#160;     |       |      / &#160;        /       /   &#160;       /   &#160;    |  2.1  |     /   &#160;      /        /     &#160;     /     &#160;   |       |    /     &#160;    /         /1.2.1.3&#160;   /1.3.1.1&#160;  |       |   /1.2.2.2&#160;  /1.2.2.1.1.1---------    ---------   ---------   ---------   -------------<br>
    ^            ^           |           ^             ^<br>
    |            |           |           |             |<br>
    |            |           v           |             |<br>
   / &#160;          |       ---------      / &#160;           |<br>
  /   &#160;         |       &#160; 1.3  /     /   &#160;          |<br>
 /     &#160;        ---------&#160;    /     /     &#45;----------<br>
/1.2.1.1&#160;                 &#160;  /     /1.2.2.1---------                   &#160;/      ---------<br>
    ^                        |           ^<br>
    |                        |           |<br>
    |                        v           |<br>
    |                    ---------       |<br>
    |                    &#160; 1.2  /       |<br>
    ----------------------&#160;    /---------<br>
                           &#160;  /<br>
                            &#160;/<br>
                             |<br>
                             |<br>
                             v<br>
                         ---------<br>
                         &#160; 1.1  /<br>
                          &#160;    /<br>
                           &#160;  /<br>
                            &#160;/<p>
<br>
</div>
<div class="section">
<h1>IDENTIFICATION</h1> Author: Walter F. Tichy, Purdue University, West Lafayette, IN, 47907.<div style="height: 0.00em;">
&#160;</div>
Manual Page Revision: ; Release Date: .<div style="height: 0.00em;">
&#160;</div>
Copyright &#169; 1982, 1988, 1989 Walter F. Tichy.<div style="height: 0.00em;">
&#160;</div>
Copyright &#169; 1990, 1991, 1992, 1993, 1994, 1995 Paul Eggert.</div>
<div class="section">
<h1>SEE ALSO</h1> rcsintro(1), ci(1), co(1), ident(1), rcs(1), rcsclean(1), rcsdiff(1), rcsmerge(1), rlog(1)<div style="height: 0.00em;">
&#160;</div>
Walter F. Tichy, RCS--A System for Version Control, <i>Software--Practice &amp; Experience</i> <b>15</b>, 7 (July 1985), 637-654.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
GNU</td>
<td class="foot-os" align="right">
</td>
</tr>
</table>
</div>
</body>
</html>

