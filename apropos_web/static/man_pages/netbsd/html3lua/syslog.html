<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
SYSLOG(3lua)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SYSLOG(3lua)</td>
<td class="head-vol" align="center">
3lua</td>
<td class="head-rtitle" align="right">
SYSLOG(3lua)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">syslog</b> &#8212; <span class="desc">access <a class="link-man" href="../3/syslog">syslog(3)</a> functionality from Lua</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">local syslog = require 'syslog'</b><p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.openlog(ident, logopt, facility)</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.syslog(priority, message)</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.closelog()</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">oldmask = syslog.setlogmask(maskpri)</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">syslog</b> Lua binding provides access to the <a class="link-man" href="../3/syslog">syslog(3)</a> funcionality.<p>
<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.openlog(ident, logopt, facility)</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The syslog.openlog() function provides for more specialized processing of the messages sent by syslog.syslog(). The parameter <i class="arg">ident</i> is a string that will be prepended to every message. The <i class="arg">logopt</i> argument is a bit field specifying logging options, which is formed by adding one or more of the following values:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_CONS</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
If <b class="fname">syslog.syslog</b>() cannot pass the message to syslogd(8) it will attempt to write the message to the console (``/dev/console'').<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_NDELAY</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Open the connection to syslogd(8) immediately. Normally the open is delayed until the first message is logged. Useful for programs that need to manage the order in which file descriptors are allocated.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_PERROR</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Write the message to standard error output as well to the system log.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_PID</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Log the process id with each message: useful for identifying instantiations of daemons. (This PID is placed within brackets between the ident and the message.)</dd>
</dl>
<p>
The facility parameter encodes a default facility to be assigned to all messages that do not have an explicit facility encoded:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_AUTH</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The authorization system: login(1), su(1), getty(8), etc.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_AUTHPRIV</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The same as LOG_AUTH, but logged to a file readable only by selected individuals.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_CRON</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The cron daemon: cron(8).<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_DAEMON</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
System daemons, such as routed(8), that are not provided for explicitly by other facilities.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_FTP</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The file transfer protocol daemon: ftpd(8).<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_KERN</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Messages generated by the kernel. These cannot be generated by any user processes.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_LPR</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The line printer spooling system: lpr(1), lpc(8), lpd(8), etc.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_MAIL</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The mail system.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_NEWS</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The network news system.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_SYSLOG</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Messages generated internally by syslogd(8).<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_USER</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Messages generated by random user processes. This is the default facility identifier if none is specified.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_UUCP</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The uucp system.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_LOCAL0</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Reserved for local use. Similarly for syslog.LOG_LOCAL1 through syslog.LOG_LOCAL7</dd>
</dl>
<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.syslog(priority, message)</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The <b class="fname">syslog</b>() function writes <i class="arg">message</i> to the system message logger. The message is then written to the system console, log files, logged-in users, or forwarded to other machines as appropriate (see syslogd(8)).<p>
The <i class="arg">message</i> is tagged with <i class="arg">priority</i>. Priorities are encoded as a <i class="arg">facility</i> and a <i class="arg">level</i>. The facility describes the part of the system generating the message. The level is selected from the following ordered (high to low) list:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_EMERG</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
A panic condition. This is normally broadcast to all users.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_ALERT</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
A condition that should be corrected immediately, such as a corrupted system database.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_CRIT</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Critical conditions, e.g., hard device errors.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_ERR</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Errors.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_WARNING</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Warning messages.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_NOTICE</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Conditions that are not error conditions, but should possibly be handled specially.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_INFO</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Informational messages.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.LOG_DEBUG</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Messages that contain information normally of use only when debugging a program.</dd>
</dl>
<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">syslog.closelog()</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The <b class="fname">syslog.closelog</b>() function can be used to close the log file.<p>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">oldmask = syslog.setlogmask(maskpri)</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The <b class="fname">setlogmask</b>() function sets the log priority mask to maskpri and returns the previous mask. Calls to <b class="fname">syslog</b>() with a priority not set in maskpri are rejected.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/lua">lua(1)</a>, <a class="link-man" href="../1/luac">luac(1)</a>, <a class="link-man" href="../3/syslog">syslog(3)</a>, <a class="link-man" href="../3lua/intro">intro(3lua)</a>, <a class="link-man" href="../8/syslogd">syslogd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">syslog</b> Lua binding manual appeared in <span class="unix">NetBSD&#160;7.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span>The <b class="name">syslog</b> Lua binding was written by <span class="author">Marc Balmer</span> &#60;<a class="link-mail" href="mailto:mbalmer@NetBSD.org">mbalmer@NetBSD.org</a>&#62;.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 7, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

