<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RAND48(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RAND48(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
RAND48(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">drand48</b>, <b class="name">erand48</b>, <b class="name">lrand48</b>, <b class="name">nrand48</b>, <b class="name">mrand48</b>, <b class="name">jrand48</b>, <b class="name">srand48</b>, <b class="name">seed48</b>, <b class="name">lcong48</b> &#8212; <span class="desc">pseudo-random number generators and initialization routines</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">stdlib.h</a>&gt;</b><p>
<i class="ftype">double</i><br>
<b class="fname">drand48</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">double</i><br>
<b class="fname">erand48</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<p>
<i class="ftype">long</i><br>
<b class="fname">lrand48</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">long</i><br>
<b class="fname">nrand48</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<p>
<i class="ftype">long</i><br>
<b class="fname">mrand48</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">long</i><br>
<b class="fname">jrand48</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">srand48</b>(<i class="farg" style="white-space:nowrap;">long seed</i>);<p>
<i class="ftype">unsigned short *</i><br>
<b class="fname">seed48</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">lcong48</b>(<i class="farg" style="white-space:nowrap;">unsigned short p[7]</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">rand48</b>() family of functions generates pseudo-random numbers using a linear congruential algorithm working on integers 48 bits in size. The particular formula employed is r(n+1) = (a * r(n) + c) mod m where the default values are for the multiplicand a = 0x5deece66d = 25214903917 and the addend c = 0xb = 11. The modulus is always fixed at m = 2 ** 48. r(n) is called the seed of the random number generator.<p>
For all the six generator routines described next, the first computational step is to perform a single iteration of the algorithm.<p>
<b class="fname">drand48</b>() and <b class="fname">erand48</b>() return values of type double. The full 48 bits of r(n+1) are loaded into the mantissa of the returned value, with the exponent set such that the values produced lie in the interval [0.0, 1.0).<p>
<b class="fname">lrand48</b>() and <b class="fname">nrand48</b>() return values of type long in the range [0, 2**31-1]. The high-order (31) bits of r(n+1) are loaded into the lower bits of the returned value, with the topmost (sign) bit set to zero.<p>
<b class="fname">mrand48</b>() and <b class="fname">jrand48</b>() return values of type long in the range [-2**31, 2**31-1]. The high-order (32) bits of r(n+1) are loaded into the returned value.<p>
<b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">mrand48</b>() use an internal buffer to store r(n). For these functions the initial value of r(0) = 0x1234abcd330e = 20017429951246.<p>
On the other hand, <b class="fname">erand48</b>(), <b class="fname">nrand48</b>(), and <b class="fname">jrand48</b>() use a user-supplied buffer to store the seed r(n), which consists of an array of 3 shorts, where the zeroth member holds the least significant bits.<p>
All functions share the same multiplicand and addend.<p>
<b class="fname">srand48</b>() is used to initialize the internal buffer r(n) of <b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">mrand48</b>() such that the 32 bits of the seed value are copied into the upper 32 bits of r(n), with the lower 16 bits of r(n) arbitrarily being set to 0x330e. Additionally, the constant multiplicand and addend of the algorithm are reset to the default values given above.<p>
<b class="fname">seed48</b>() also initializes the internal buffer r(n) of <b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">mrand48</b>(), but here all 48 bits of the seed can be specified in an array of 3 shorts, where the zeroth member specifies the lowest bits. Again, the constant multiplicand and addend of the algorithm are reset to the default values given above. <b class="fname">seed48</b>() returns a pointer to an array of 3 shorts which contains the old seed. This array is statically allocated, thus its contents are lost after each new call to <b class="fname">seed48</b>().<p>
Finally, <b class="fname">lcong48</b>() allows full control over the multiplicand and addend used in <b class="fname">drand48</b>(), <b class="fname">erand48</b>(), <b class="fname">lrand48</b>(), <b class="fname">nrand48</b>(), <b class="fname">mrand48</b>(), and <b class="fname">jrand48</b>(), and the seed used in <b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">mrand48</b>(). An array of 7 shorts is passed as parameter; the first three shorts are used to initialize the seed; the second three are used to initialize the multiplicand; and the last short is used to initialize the addend. It is thus not possible to use values greater than 0xffff as the addend.<p>
Note that all three methods of seeding the random number generator always also set the multiplicand and addend for any of the six generator calls.<p>
For a more powerful random number generator, see <a class="link-man" href="../3/random">random(3)</a>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/rand">rand(3)</a>, <a class="link-man" href="../3/random">random(3)</a></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> Martin Birgmeier</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 8, 1993</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

