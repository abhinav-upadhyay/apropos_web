<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ELF_ERRMSG(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ELF_ERRMSG(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
ELF_ERRMSG(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">elf_errmsg</b>, <b class="name">elf_errno</b> &#8212; <span class="desc">ELF library error message handling</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">ELF Access Library (libelf, &#45;lelf)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">libelf.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">elf_errno</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">const char *</i><br>
<b class="fname">elf_errmsg</b>(<i class="farg" style="white-space:nowrap;">int error</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> When an error occurs during an ELF library API call, the library encodes the error using an error number and stores the error number internally for retrieval by the application at a later point of time. Error numbers may contain an OS supplied error code in addition to an ELF API specific error code. An error number value of zero indicates no error.<p>
Function <b class="fname">elf_errno</b>() is used to retrieve the last error recorded by the ELF library. Invoking this function has the side-effect of resetting the ELF library's recorded error number to zero.<p>
The function <b class="fname">elf_errmsg</b>() returns a null-terminated string with a human readable description of the error specified in argument <i class="arg">error</i>. A zero value for argument <i class="arg">error</i> retrieves the most recent error encountered by the ELF library. An argument value of -1 behaves identically, except that it guarantees a non-NULL return from <b class="fname">elf_errmsg</b>().</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Function <b class="fname">elf_errno</b>() returns a non-zero value encoding the last error encountered by the ELF library, or zero if no error was encountered.<p>
Function <b class="fname">elf_errmsg</b>() returns a pointer to library local storage for non-zero values of argument <i class="arg">error</i>. With a zero argument, the function will return a NULL pointer if no error had been encountered by the library, or will return a pointer to library local storage containing an appropriate message otherwise.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Clearing the ELF library's recorded error number can be accomplished by invoking <b class="fname">elf_errno</b>() and discarding its return value.<p>
<pre style="margin-left: 5.00ex;" class="lit display">
/* clear error */ 
(void) elf_errno();</pre>
<p>
Retrieving a human-readable description of the current error number can be done with the following snippet:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
int err; 
const char *errmsg; 
... 
err = elf_errno(); 
if (err != 0) 
	errmsg = elf_errmsg(err);</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/elf">elf(3)</a>, <a class="link-man" href="../3/gelf">gelf(3)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Function <b class="fname">elf_errmsg</b>() is not localized.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 11, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

