<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
NAME(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
NAME(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
NAME(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">krb5_checksum</b>, <b class="name">krb5_checksum_disable</b>, <b class="name">krb5_checksum_is_collision_proof</b>, <b class="name">krb5_checksum_is_keyed</b>, <b class="name">krb5_checksumsize</b>, <b class="name">krb5_cksumtype_valid</b>, <b class="name">krb5_copy_checksum</b>, <b class="name">krb5_create_checksum</b>, <b class="name">krb5_crypto_get_checksum_type</b> <b class="name">krb5_free_checksum</b>, <b class="name">krb5_free_checksum_contents</b>, <b class="name">krb5_hmac</b>, <b class="name">krb5_verify_checksum</b> &#8212; <span class="desc">creates, handles and verifies checksums</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> Kerberos 5 Library (libkrb5, -lkrb5)</div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">krb5/krb5.h</a>&gt;</b><p>
<code class="lit">typedef Checksum krb5_checksum;</code><br>
<i class="ftype">void</i><br>
<b class="fname">krb5_checksum_disable</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_cksumtype type</i>);<p>
<i class="ftype">krb5_boolean</i><br>
<b class="fname">krb5_checksum_is_collision_proof</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_cksumtype type</i>);<p>
<i class="ftype">krb5_boolean</i><br>
<b class="fname">krb5_checksum_is_keyed</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_cksumtype type</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_cksumtype_valid</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_cksumtype ctype</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_checksumsize</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_cksumtype type</i>, <i class="farg">size_t *size</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_create_checksum</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">krb5_key_usage usage</i>, <i class="farg">int type</i>, <i class="farg">void *data</i>, <i class="farg">size_t len</i>, <i class="farg">Checksum *result</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_verify_checksum</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">krb5_key_usage usage</i>, <i class="farg">void *data</i>, <i class="farg">size_t len</i>, <i class="farg">Checksum *cksum</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_crypto_get_checksum_type</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">krb5_cksumtype *type</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">krb5_free_checksum</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_checksum *cksum</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">krb5_free_checksum_contents</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_checksum *cksum</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_hmac</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_cksumtype cktype</i>, <i class="farg">const void *data</i>, <i class="farg">size_t len</i>, <i class="farg">unsigned usage</i>, <i class="farg">krb5_keyblock *key</i>, <i class="farg">Checksum *result</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_copy_checksum</b>(<i class="farg">krb5_context context</i>, <i class="farg">const krb5_checksum *old</i>, <i class="farg">krb5_checksum **new</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <code class="lit">krb5_checksum</code> structure holds a Kerberos checksum. There is no component inside <code class="lit">krb5_checksum</code> that is directly referable.<p>
The functions are used to create and verify checksums. <b class="fname">krb5_create_checksum</b>() creates a checksum of the specified data, and puts it in <i class="farg">result</i>. If <i class="farg">crypto</i> is <span class="define">NULL</span>, <i class="farg">usage_or_type</i> specifies the checksum type to use; it must not be keyed. Otherwise <i class="farg">crypto</i> is an encryption context created by <b class="fname">krb5_crypto_init</b>(), and <i class="farg">usage_or_type</i> specifies a key-usage.<p>
<b class="fname">krb5_verify_checksum</b>() verifies the <i class="farg">checksum</i> against the provided data.<p>
<b class="fname">krb5_checksum_is_collision_proof</b>() returns true is the specified checksum is collision proof (that it's very unlikely that two strings has the same hash value, and that it's hard to find two strings that has the same hash). Examples of collision proof checksums are MD5, and SHA1, while CRC32 is not.<p>
<b class="fname">krb5_checksum_is_keyed</b>() returns true if the specified checksum type is keyed (that the hash value is a function of both the data, and a separate key). Examples of keyed hash algorithms are HMAC-SHA1-DES3, and RSA-MD5-DES. The &#8220;plain&#8221; hash functions MD5, and SHA1 are not keyed.<p>
<b class="fname">krb5_crypto_get_checksum_type</b>() returns the checksum type that will be used when creating a checksum for the given <i class="farg">crypto</i> context. This function is useful in combination with <b class="fname">krb5_checksumsize</b>() when you want to know the size a checksum will use when you create it.<p>
<b class="fname">krb5_cksumtype_valid</b>() returns 0 or an error if the checksumtype is implemented and not currently disabled in this kerberos library.<p>
<b class="fname">krb5_checksumsize</b>() returns the size of the outdata of checksum function.<p>
<b class="fname">krb5_copy_checksum</b>() returns a copy of the checksum <b class="fname">krb5_free_checksum</b>() should use used to free the <i class="farg">new</i> checksum.<p>
<b class="fname">krb5_free_checksum</b>() free the checksum and the content of the checksum.<p>
<b class="fname">krb5_free_checksum_contents</b>() frees the content of checksum in <i class="farg">cksum</i>.<p>
<b class="fname">krb5_hmac</b>() calculates the HMAC over <i class="farg">data</i> (with length <i class="farg">len</i>) using the keyusage <i class="farg">usage</i> and keyblock <i class="farg">key</i>. Note that keyusage is not always used in checksums.<p>
<b class="name">krb5_checksum_disable</b> globally disables the checksum type.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/krb5_crypto_init">krb5_crypto_init(3)</a>, <a class="link-man" href="../3/krb5_c_encrypt">krb5_c_encrypt(3)</a>, <a class="link-man" href="../3/krb5_encrypt">krb5_encrypt(3)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 12, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

