<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
CURSES_SCREEN(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
CURSES_SCREEN(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
CURSES_SCREEN(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">curses_screen</b>, <b class="name">newterm</b>, <b class="name">set_term</b>, <b class="name">delscreen</b>, <b class="name">endwin</b>, <b class="name">initscr</b>, <b class="name">isendwin</b>, <b class="name">resizeterm</b>, <b class="name">setterm</b> &#8212; <span class="desc">curses terminal and screen routines</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Curses Library (libcurses, &#45;lcurses)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">curses.h</a>&gt;</b><p>
<i class="ftype">SCREEN *</i><br>
<b class="fname">newterm</b>(<i class="farg" style="white-space:nowrap;">char *type</i>, <i class="farg" style="white-space:nowrap;">FILE *outfd</i>, <i class="farg" style="white-space:nowrap;">FILE *infd</i>);<p>
<i class="ftype">SCREEN *</i><br>
<b class="fname">set_term</b>(<i class="farg" style="white-space:nowrap;">SCREEN *screen</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">delscreen</b>(<i class="farg" style="white-space:nowrap;">SCREEN *screen</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">endwin</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">WINDOW *</i><br>
<b class="fname">initscr</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">bool</i><br>
<b class="fname">isendwin</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">resizeterm</b>(<i class="farg" style="white-space:nowrap;">int lines</i>, <i class="farg" style="white-space:nowrap;">int cols</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">setterm</b>(<i class="farg" style="white-space:nowrap;">char *name</i>);<p>
<b class="var">extern int LINES</b>;<p>
<b class="var">extern int COLS</b>;</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions initialize terminals and screens.<p>
The <b class="fname">newterm</b>() function initialises the curses data structures and pointers ready for use by curses. The <i class="farg">type</i> argument points to a <a class="link-man" href="../html5/terminfo.html">terminfo(5)</a> entry, or it may be <span class="define">NULL</span> in which case the TERM environment variable is used. The <i class="farg">outfd</i> and <i class="farg">infd</i> are the output and input file descriptors for the terminal. The <b class="fname">newterm</b>() function must only be called once  per terminal.<p>
The <b class="fname">set_term</b>() function can be used to switch between the screens defined by calling <b class="fname">newterm</b>(), a pointer to the previous screen structure that was in use will be returned on success.<p>
Calling <b class="fname">delscreen</b>() will destroy the given screen and free all allocated resources.<p>
Calling <b class="fname">endwin</b>() will end the curses session and restore the saved terminal settings.<p>
The curses session must be initialised by calling <b class="fname">initscr</b>() which saves the current terminal state and sets up the terminal and internal data structures to support the curses application. This function call must be, with few exceptions, the first Curses library call made. The exception to this rule is the <b class="fname">newterm</b>() call which may be called prior to <b class="fname">initscr</b>(). The size of the curses screen is determined by checking the <a class="link-man" href="../html4/tty.html">tty(4)</a> size and then the <a class="link-man" href="../html5/terminfo.html">terminfo(5)</a> entries for the terminal type. If the environment variables <b class="var">LINES</b> or <b class="var">COLS</b> are set, then these will be used instead.<p>
When either <b class="fname">newterm</b>() or <b class="fname">initscr</b>() are called, the Curses library sets up signal handlers for <span class="define">SIGTSTP</span> and <span class="define">SIGWINCH</span>. If a signal handler is already installed for <span class="define">SIGWINCH</span>, this will also be called when the Curses library handler is called.<p>
The <b class="fname">isendwin</b>() function can be used to determine whether or not a refresh of the screen has occurred since the last call to <b class="fname">endwin</b>().<p>
The size of the screen may be changed  by calling <b class="fname">resizeterm</b>() with the updated number of lines and columns. This will resize the curses internal data structures to accommodate the changed terminal geometry. The <span class="define">curscr</span> and <span class="define">stdscr</span> windows and any of their subwindows will be resized to fit the new screen size. The application must redraw the screen after a call to <b class="fname">resizeterm</b>().<p>
The <b class="fname">setterm</b>() function sets the terminal type for the current screen to the one passed, initialising all the curses internal data structures with information related to the named terminal. The <i class="farg">name</i> argument must be a valid name or alias in the <a class="link-man" href="../html5/terminfo.html">terminfo(5)</a> database for this function to succeed.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Functions returning pointers will return <span class="define">NULL</span> if an error is detected. The functions that return an int will return one of the following values:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">OK</span></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The function completed successfully.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">ERR</span></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
An error occurred in the function.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/curses_window.html">curses_window(3)</a>, <a class="link-man" href="../html4/tty.html">tty(4)</a>, <a class="link-man" href="../html5/terminfo.html">terminfo(5)</a>, <a class="link-man" href="../html7/signal.html">signal(7)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <span class="unix">NetBSD</span> Curses library complies with the X/Open Curses specification, part of the Single Unix Specification.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The Curses package appeared in <span class="unix">4.0BSD</span>. The <b class="fname">resizeterm</b>() function is a <span class="emph">ncurses</span> extension to the Curses library and was added in <span class="unix">NetBSD&#160;1.6</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 5, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

