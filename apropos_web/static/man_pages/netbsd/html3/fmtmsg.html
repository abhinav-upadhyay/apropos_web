<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
FMTMSG(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
FMTMSG(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
FMTMSG(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">fmtmsg</b> &#8212; <span class="desc">format and display a message</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">fmtmsg.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">fmtmsg</b>(<i class="farg" style="white-space:nowrap;">long classification</i>, <i class="farg" style="white-space:nowrap;">const char *label</i>, <i class="farg" style="white-space:nowrap;">int severity</i>, <i class="farg" style="white-space:nowrap;">const char *text</i>, <i class="farg" style="white-space:nowrap;">const char *action</i>, <i class="farg" style="white-space:nowrap;">const char *tag</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">fmtmsg</b>() function can be used to display messages in the specified format. Messages may be written either to standard error, to the console, or both.<p>
A formatted message consists of up to five components specified in <i class="farg">label</i>, <i class="farg">severity</i>, <i class="farg">text</i>, <i class="farg">action</i> and <i class="farg">tag</i>. Further information such as the origin of the message, the recoverability from the condition causing the message and where to display the message is specified in <i class="farg">classification</i>.<div class="subsection">
<h2 id="x436c617373696669636174696f6e">Classification</h2> The <i class="farg">classification</i> argument consists of a major classification and several sub-classifications. It has no effect on the content of the message displayed. With the exception of the display sub-classification, only a single identifier may be specified for each (sub-)classification. The following classifications are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">Major classifications</span></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The source of the condition. Available identifiers are: <span class="define">MM_HARD</span> (hardware), <span class="define">MM_SOFT</span> (software), and <span class="define">MM_FIRM</span> (firmware).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">Message source sub-classifications</span></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The type of software detecting the condition. Available identifiers are: <span class="define">MM_APPL</span> (application), <span class="define">MM_UTIL</span> (utility), and <span class="define">MM_OPSYS</span> (operating system).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">Display sub-classifications</span></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The displays the formatted messages is to be written to. Available identifiers are: <span class="define">MM_PRINT</span> (standard error stream) and <span class="define">MM_CONSOLE</span> (system console).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">Status sub-classifications</span></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The capability of the calling software to recover from the condition. Available identifiers are: <span class="define">MM_RECOVER</span> (recoverable) and <span class="define">MM_NRECOV</span> (non-recoverable).</dd>
</dl>
<p>
If no <i class="farg">classification</i> is to be supplied, <span class="define">MM_NULLMC</span> must be specified.</div>
<div class="subsection">
<h2 id="x4c6162656c">Label</h2> The <i class="farg">label</i> argument identifies the source of the message. It consists of two fields separated by a colon (:). The first field is up to 10 characters, the second is up to 14 characters.<p>
If no <i class="farg">label</i> is to be supplied, <span class="define">MM_NULLLBL</span> must be specified.</div>
<div class="subsection">
<h2 id="x5365766572697479">Severity</h2> The seriousness of the condition causing the message. The following <i class="farg">severity</i> levels are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">MM_HALT</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The software has encountered a severe fault and is halting.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">MM_ERROR</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The software has encountered a fault.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">MM_WARNING</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The software has encountered an unusual non-fault condition.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">MM_INFO</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The software informs about a non-error condition.</dd>
</dl>
<p>
If no <i class="farg">severity</i> level is to be supplied, <span class="define">MM_NOSEV</span> must be specified.</div>
<div class="subsection">
<h2 id="x54657874">Text</h2> The description of the condition the software encountered. The character string is not limited to a specific size.<p>
If no <i class="farg">text</i> is to be supplied, <span class="define">MM_NOTXT</span> must be specified.</div>
<div class="subsection">
<h2 id="x416374696f6e">Action</h2> The first step to be taken to recover from the condition the software encountered; it will be preceded by the prefix &#8220;TO FIX:&#8221;. The character string is not limited to a specific size.<p>
If no <i class="farg">action</i> is to be supplied, <span class="define">MM_NOACT</span> must be specified.</div>
<div class="subsection">
<h2 id="x546167">Tag</h2> The on-line documentation which provides further information about the condition and the message, such as &#8220;<a class="link-man" href="../3/fmtmsg">fmtmsg(3)</a>&#8221;. The character string is not limited to a specific size.<p>
If no <i class="farg">tag</i> is to be supplied, <span class="define">MM_NOTAG</span> must be specified.<p>
Further effect on the formatting of the message as displayed on the standard error stream (but not on the system console!) may be taken by setting the <span class="env">MSGVERB</span> environment variable, which selects the subset of message components to be printed. It consists of a colon-separated list of the optional keywords <i class="farg">label</i>, <i class="farg">severity</i>, <i class="farg">text</i>, <i class="farg">action</i>, and <i class="farg">tag</i>, which correspond to the arguments to <b class="fname">fmtmsg</b>() with the same names. If <span class="env">MSGVERB</span> is either not set or malformed (containing empty or unknown keywords), its content is ignored an all message components will be selected.<p>
Note that displaying a message on the system console may fail due to inappropriate privileges or a non-permissive file mode of the console device.</div>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">fmtmsg</b>() function returns one of the following values:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">MM_OK</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The function succeeded.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">MM_NOTOK</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The function failed completely.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">MM_NOMSG</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The function was unable to generate a message on standard error, but otherwise succeeded.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">MM_NOCOM</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The function was unable to generate a message on the console, but otherwise succeeded.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/printf">printf(3)</a>, <a class="link-man" href="../3/syslog">syslog(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">fmtmsg</b>() function conforms to X/Open System Interfaces and Headers Issue&#160;5 (&#8220;XSH5&#8221;).</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 11, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

