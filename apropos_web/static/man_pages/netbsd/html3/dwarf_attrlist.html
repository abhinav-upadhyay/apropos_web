<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
DWARF_ATTRLIST(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DWARF_ATTRLIST(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
DWARF_ATTRLIST(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dwarf_attrlist</b> &#8212; <span class="desc">retrieve DWARF attribute descriptors</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">DWARF Access Library (libdwarf, &#45;ldwarf)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">libdwarf.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">dwarf_attrlist</b>(<i class="farg">Dwarf_Die die</i>, <i class="farg">Dwarf_Attribute **attrbuf</i>, <i class="farg">Dwarf_Signed *attrcount</i>, <i class="farg">Dwarf_Error *err</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Function <b class="fname">dwarf_attrlist</b>() retrieves the DWARF attribute descriptors associated with a debugging information entry descriptor in argument <i class="arg">die</i>. The descriptors are returned as an array of values of the opaque type <span class="type">Dwarf_Attribute</span>. The data associated with each returned attribute descriptor may be queried using the form query functions in the <a class="link-man" href="../3/dwarf">dwarf(3)</a> API set.<p>
Argument <i class="arg">attrbuf</i> points to a location that will hold a pointer to the returned array of DWARF attribute descriptors. Argument <i class="arg">attrcount</i> points to a location that will hold the number of descriptors in the returned array.<p>
If argument <i class="arg">err</i> is non-NULL, it is used to return an error descriptor in case of an error.<div class="subsection">
<h2 id="x4d656d6f7279204d616e6167656d656e74">Memory Management</h2> In the current implementation, the memory allocated for each DWARF attribute descriptor and for the returned array of descriptors is managed by the library and the application does not need to explicitly free the returned pointers. However, for compatibility with other implementations of the <a class="link-man" href="../3/dwarf">dwarf(3)</a> API, the application is permitted to pass the pointers returned by to the <b class="fname">dwarf_dealloc</b>() function.</div>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Function <b class="fname">dwarf_attrlist</b>() returns <span class="define">DW_DLV_OK on success.</span><p>
If the debugging information entry descriptor denoted by argument <i class="arg">die</i> does not contain any attribute, the function returns <span class="define">DW_DLV_NO_ENTRY</span> and sets argument <i class="arg">err</i>. For other errors, it returns <span class="define">DW_DLV_ERROR</span> and sets argument <i class="arg">err</i>.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> To retrieve the attribute list for a DWARF debugging information entry use:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
Dwarf_Die dw_die; 
Dwarf_Error dw_e; 
Dwarf_Unsigned dw_count; 
Dwarf_Attribute *dw_attributes; 
int error, i; 
 
... variable dw_die contains a reference to the DIE of interest ... 
 
/* Retrieve the attribute list from the DIE. */ 
if ((error = dwarf_attrlist(dw_die, &amp;dw_attributes, &amp;dw_count, 
	&amp;dw_e)) != DW_DLV_OK) 
	errx(EXIT_FAILURE, "dwarf_attrlist: %s", dwarf_errmsg(dw_e)); 
 
/* Process the attribute list. */ 
for (i = 0; i &lt; dw_count; ++i) { 
	/* Use the returned pointers in dw_attributes[i] here. */ 
}</pre>
</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> Function <b class="fname">dwarf_diename</b>() can fail with the following errors:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">DW_DLE_ARGUMENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
Arguments <i class="arg">die</i>, <i class="arg">attrbuf</i>, or <i class="arg">attrcount</i> were NULL.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">DW_DLE_NO_ENTRY</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
Argument <i class="arg">die</i> had no attributes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">DW_DLE_MEMORY</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
An out of memory condition was encountered during the execution of the function.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/dwarf">dwarf(3)</a>, <a class="link-man" href="../3/dwarf_attr">dwarf_attr(3)</a>, <a class="link-man" href="../3/dwarf_dealloc">dwarf_dealloc(3)</a>, <a class="link-man" href="../3/dwarf_hasattr">dwarf_hasattr(3)</a>, <a class="link-man" href="../3/dwarf_hasform">dwarf_hasform(3)</a>, <a class="link-man" href="../3/dwarf_whatattr">dwarf_whatattr(3)</a>, <a class="link-man" href="../3/dwarf_whatform">dwarf_whatform(3)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 9, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

