<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
GELF_XLATETOF(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
GELF_XLATETOF(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
GELF_XLATETOF(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">elf32_xlate</b>, <b class="name">elf64_xlate</b>, <b class="name">gelf_xlate</b> &#8212; <span class="desc">translate data between files and memory</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">ELF Access Library (libelf, &#45;lelf)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">libelf.h</a>&gt;</b><p>
<i class="ftype">Elf_Data *</i><br>
<b class="fname">elf32_xlatetof</b>(<i class="farg" style="white-space:nowrap;">Elf_Data *dst</i>, <i class="farg" style="white-space:nowrap;">Elf_Data *src</i>, <i class="farg" style="white-space:nowrap;">unsigned int encode</i>);<p>
<i class="ftype">Elf_Data *</i><br>
<b class="fname">elf32_xlatetom</b>(<i class="farg" style="white-space:nowrap;">Elf_Data *dst</i>, <i class="farg" style="white-space:nowrap;">Elf_Data *src</i>, <i class="farg" style="white-space:nowrap;">unsigned int encode</i>);<p>
<i class="ftype">Elf_Data *</i><br>
<b class="fname">elf64_xlatetof</b>(<i class="farg" style="white-space:nowrap;">Elf_Data *dst</i>, <i class="farg" style="white-space:nowrap;">Elf_Data *src</i>, <i class="farg" style="white-space:nowrap;">unsigned int encode</i>);<p>
<i class="ftype">Elf_Data *</i><br>
<b class="fname">elf64_xlatetom</b>(<i class="farg" style="white-space:nowrap;">Elf_Data *dst</i>, <i class="farg" style="white-space:nowrap;">Elf_Data *src</i>, <i class="farg" style="white-space:nowrap;">unsigned int encode</i>);<p>
<b class="includes">#include &lt;<a class="link-includes">gelf.h</a>&gt;</b><p>
<i class="ftype">Elf_Data *</i><br>
<b class="fname">gelf_xlatetof</b>(<i class="farg">Elf *elf</i>, <i class="farg">Elf_Data *dst</i>, <i class="farg">Elf_Data *src</i>, <i class="farg">unsigned int encode</i>);<p>
<i class="ftype">Elf_Data *</i><br>
<b class="fname">gelf_xlatetom</b>(<i class="farg">Elf *elf</i>, <i class="farg">Elf_Data *dst</i>, <i class="farg">Elf_Data *src</i>, <i class="farg">unsigned int encode</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions translate between the file and memory representations of ELF data structures. The in-memory representation of an ELF data structure would confirm to the byte ordering and data alignment restrictions dictated by the host processor. A file representation of the same data structure could use a non-native byte ordering and in addition may be laid out differently with the file.<p>
Functions <b class="fname">elf32_xlatetom</b>(), <b class="fname">elf64_xlatetom</b>(), and <b class="fname">gelf_xlatetom</b>() translate data from file representations to native, in-memory representations. Functions <b class="fname">elf32_xlatetof</b>(), <b class="fname">elf64_xlatetof</b>(), and <b class="fname">gelf_xlatetof</b>() translate data from in-memory representations to file representations.<p>
Argument <i class="arg">src</i> denotes an <span class="type">Elf_Data</span> descriptor describing the source to be translated. The following elements of the descriptor need to be set before invoking these functions:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-hang">
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_buf</b></dt>
<dd class="list-hang">
Set to a valid pointer value denoting the beginning of the data area to be translated.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_size</b></dt>
<dd class="list-hang">
Set to the total size in bytes of the source data area to be translated.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_type</b></dt>
<dd class="list-hang">
Set to the type of the source data being translated. This value is one of the values defined in the <span class="type">Elf_Type</span> enumeration. The <span class="type">Elf_Type</span> enumeration is described in <a class="link-man" href="../3/elf">elf(3)</a>.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_version</b></dt>
<dd class="list-hang">
Set to the version number of the ELF data structures being translated. Currently only version <span class="define">EV_CURRENT</span> is supported.</dd>
</dl>
<p>
Argument <i class="arg">dst</i> describes the destination buffer. The following elements of the <span class="type">Elf_Data</span> descriptor need to be set before invoking these functions:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-hang">
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_buf</b></dt>
<dd class="list-hang">
Set to a valid pointer value that denotes the start of the destination buffer that will hold translated data. This value may be the same as that of the source buffer, in which case an in-place conversion will be attempted.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_size</b></dt>
<dd class="list-hang">
Set to the size of the destination buffer in bytes. This value will be modified if the function call succeeds.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_version</b></dt>
<dd class="list-hang">
Set to the desired version number of the destination. Currently only version <span class="define">EV_CURRENT</span> is supported.</dd>
</dl>
<p>
These translations routines allow the source and destination buffers to coincide, in which case an in-place translation will be done if the destination is large enough to hold the translated data. Other kinds of overlap between the source and destination buffers are not permitted.<p>
On successful completion of the translation request the following fields of the <i class="arg">dst</i> descriptor would be modified:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-hang">
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_size</b></dt>
<dd class="list-hang">
Set to the size in bytes of the translated data.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
<b class="var">d_type</b></dt>
<dd class="list-hang">
Set to the <b class="var">d_type</b> value of the source data descriptor.</dd>
</dl>
<p>
Argument <i class="arg">encode</i> specifies the encoding in which the file objects are represented. It must be one of:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-hang">
<dt class="list-hang" style="margin-top: 1.00em;">
<span class="define">ELFDATANONE</span></dt>
<dd class="list-hang">
File objects use the library's native byte ordering.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
<span class="define">ELFDATA2LSB</span></dt>
<dd class="list-hang">
File objects use a little-endian ordering.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
<span class="define">ELFDATA2MSB</span></dt>
<dd class="list-hang">
File objects use a big-endian ordering.</dd>
</dl>
<p>
The functions <b class="fname">gelf_xlatetof</b>() and <b class="fname">gelf_xlatetom</b>() select the appropriate 32 or 64 bit translations based on the class of argument <i class="arg">elf</i>.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> These functions return argument <i class="arg">dst</i> if successful, or NULL in case of an error.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> TODO</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> These functions may fail with the following errors:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_ARGUMENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
One of arguments <i class="arg">src</i>, <i class="arg">dst</i> or <i class="arg">elf</i> was NULL.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_ARGUMENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Arguments <i class="arg">src</i> and <i class="arg">dst</i> were equal.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_ARGUMENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The desired encoding parameter was not one of <span class="define">ELFDATANONE</span>, <span class="define">ELFDATA2LSB</span> or <span class="define">ELFDATA2MSB</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_ARGUMENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The <i class="arg">d_type</i> field of argument <i class="arg">src</i> specified an unsupported type.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_DATA</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The <i class="arg">src</i> argument specified a buffer size that was not an integral multiple of its underlying type.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_DATA</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The <i class="arg">dst</i> argument specified a buffer size that was too small.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_DATA</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Argument <i class="arg">dst</i> specified a destination buffer that overlaps with the source buffer.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_DATA</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The destination buffer for a conversion to memory had an alignment inappropriate for the underlying ELF type.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_DATA</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The source buffer for a conversion to file had an alignment inappropriate for the underlying ELF type.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_UNIMPL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The version numbers for arguments <i class="arg">dst</i> and <i class="arg">src</i> were not identical.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_UNIMPL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The argument <i class="arg">src</i> requested conversion for a type which is not currently supported.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELF_E_VERSION</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Argument <i class="arg">src</i> specified an unsupported version number.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/elf">elf(3)</a>, <a class="link-man" href="../3/elf_getdata">elf_getdata(3)</a>, <a class="link-man" href="../3/gelf">gelf(3)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 24, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

