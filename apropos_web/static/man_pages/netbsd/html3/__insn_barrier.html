<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
__INSN_BARRIER(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
__INSN_BARRIER(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
__INSN_BARRIER(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">__insn_barrier</b> &#8212; <span class="desc">compiler reorder barrier</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/cdefs.h</a>&gt;</b><p>
<i class="ftype">void</i><br>
<b class="fname">__insn_barrier</b>();</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">__insn_barrier</b>() macro prevents GCC from moving code across the barrier. In other words, the compiler is not allowed to reorder read and write commands below the barrier with the code preceding the barrier. Like with the <span class="emph">volatile</span> type qualifier, <b class="fname">__insn_barrier</b>() may be necessary in some corner cases to prevent the compiler from misoptimizing.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/gcc">gcc(1)</a>, <a class="link-man" href="../3/cdefs">cdefs(3)</a>, <a class="link-man" href="../9/mb">mb(9)</a><p>
<span class="ref"><span class="ref-auth">Paul E. McKenney</span>, <span class="ref-title">Memory Barriers: a Hardware View for Software Hackers</span>, <a class="link-ref" href="http://www.rdrop.com/users/paulmck/scalability/paper/whymb.2010.06.07c.pdf">http://www.rdrop.com/users/paulmck/scalability/paper/whymb.2010.06.07c.pdf</a>, <span class="ref-date">June 7, 2010</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">__insn_barrier</b>() macro first appeared in <span class="unix">NetBSD&#160;2.0</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 2, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

