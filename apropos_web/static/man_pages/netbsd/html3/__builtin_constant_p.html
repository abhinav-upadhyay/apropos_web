<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
__BUILTIN_CONSTANT_P(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
__BUILTIN_CONSTANT_P(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
__BUILTIN_CONSTANT_P(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">__builtin_constant_p</b> &#8212; <span class="desc">GNU extension to determine compile time constants</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <i class="ftype">int</i><br>
<b class="fname">__builtin_constant_p</b>(<i class="farg" style="white-space:nowrap;">value</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">__builtin_constant_p</b>() is a GNU extension for determining whether a value is known to be constant at compile time. The function is closely related to the concept of &#8220;constant folding&#8221; used by modern optimizing compilers.<p>
If the <i class="farg">value</i> is known to be a compile-time constant, a value 1 is returned. If <b class="fname">__builtin_constant_p</b>() returns 0, the <i class="farg">value</i> is not a compile-time constant in the sense that <a class="link-man" href="../html1/gcc.html">gcc(1)</a> was unable to determine whether the value is constant or not.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> A typical example of the use of <b class="fname">__builtin_constant_p</b>() involves a situation where it may be desirable to fold the computation if it involves a constant, but a function call is needed otherwise. For instance, <a class="link-man" href="../html3/bswap16.html">bswap16(3)</a> is defined in <span class="unix">NetBSD</span> as:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
#define bswap16(x) \ 
        (__builtin_constant_p((x)) ? \ 
         __byte_swap_u16_constant(x) : __BYTE_SWAP_U16_VARIABLE(x))</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/gcc.html">gcc(1)</a>, <a class="link-man" href="../html3/__builtin_object_size.html">__builtin_object_size(3)</a>, <a class="link-man" href="../html3/__builtin_return_address.html">__builtin_return_address(3)</a></div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> This is a non-standard, compiler-specific extension.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 19, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

