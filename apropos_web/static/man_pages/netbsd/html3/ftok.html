<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
FTOK(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
FTOK(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
FTOK(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ftok</b> &#8212; <span class="desc">create IPC identifier from path name</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">sys/ipc.h</a>&gt;</b><p>
<i class="ftype">key_t</i><br>
<b class="fname">ftok</b>(<i class="farg" style="white-space:nowrap;">const char *path</i>, <i class="farg" style="white-space:nowrap;">int id</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">ftok</b>() function attempts to create a unique key suitable for use with the <a class="link-man" href="../2/msgget">msgget(2)</a>, <a class="link-man" href="../2/semget">semget(2)</a> and <a class="link-man" href="../2/shmget">shmget(2)</a> functions given the <i class="farg">path</i> of an existing file and a user-selectable <i class="farg">id</i>.<p>
The specified <i class="farg">path</i> must specify an existing file that is accessible to the calling process or the call will fail. Also, note that links to files will return the same key, given the same <i class="farg">id</i>.<p>
Only the 8 least significant bits of <i class="farg">id</i> are used in the key generation; the rest of the bits are ignored.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">ftok</b>() function will return ((key_t)-1) if <i class="farg">path</i> does not exist or if it cannot be accessed by the calling process.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/msgget">msgget(2)</a>, <a class="link-man" href="../2/semget">semget(2)</a>, <a class="link-man" href="../2/shmget">shmget(2)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">ftok</b>() function conforms to IEEE Std 1003.1 (&#8220;POSIX.1&#8221;).</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">ftok</b>() function originated with System V and is typically used by programs that use the System V IPC routines.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Thorsten Lockert</span> &#60;<a class="link-mail" href="mailto:tholo@sigmasoft.com">tholo@sigmasoft.com</a>&#62;</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The returned key is computed based on the device and inode of the specified <i class="farg">path</i> in combination with the given <i class="farg">id</i>. Thus it is quite possible for the routine to return duplicate keys given that those fields are not 8- and 16-bit quantities like they were on System V based systems where this library routine's ancestor were originally created.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 27, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

