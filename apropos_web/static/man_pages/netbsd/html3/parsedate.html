<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
PARSEDATE(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
PARSEDATE(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
PARSEDATE(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">parsedate</b> &#8212; <span class="desc">date parsing function</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">System Utilities Library (libutil, &#45;lutil)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">util.h</a>&gt;</b><p>
<i class="ftype">time_t</i><br>
<b class="fname">parsedate</b>(<i class="farg" style="white-space:nowrap;">const char *datestr</i>, <i class="farg" style="white-space:nowrap;">const time_t *time</i>, <i class="farg" style="white-space:nowrap;">const int *tzoff</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">parsedate</b>() function parses a datetime from <i class="arg">datestr</i> described in English relative to an optional <i class="arg">time</i> point, and an optional timezone offset (in minutes behind/west of UTC) specified in <i class="arg">tzoff</i>. If <i class="arg">time</i> is <span class="define">NULL</span> then the current time is used. If <i class="arg">tzoff</i> is <span class="define">NULL</span>, then the current time zone is used.<p>
The <i class="arg">datestr</i> is a sequence of white-space separated items. The white-space is optional the concatenated items are not ambiguous. An empty <i class="arg">datestr</i> is equivalent to midnight today (the beginning of this day).<p>
The following words have the indicated numeric meanings: <span class="define">last =</span> &#45;1, <span class="define">this =</span> 0, <span class="define">first, next, or one =</span> 1, <span class="define">second</span> is unused so that it is not confused with &#8220;seconds&#8221;, <span class="define">two =</span> 2, <span class="define">third or three =</span> 3, <span class="define">fourth or four =</span> 4, <span class="define">fifth or five =</span> 5, <span class="define">sixth or six =</span> 6, <span class="define">seventh or seven =</span> 7, <span class="define">eighth or eight =</span> 8, <span class="define">ninth or nine =</span> 9, <span class="define">tenth or ten =</span> 10, <span class="define">eleventh or eleven =</span> 11, <span class="define">twelfth or twelve =</span> 12.<p>
The following words are recognized in English only: <span class="define">AM</span>, <span class="define">PM</span>, <span class="define">a.m.</span>, <span class="define">p.m.</span><p>
The months: <span class="define">january</span>, <span class="define">february</span>, <span class="define">march</span>, <span class="define">april</span>, <span class="define">may</span>, <span class="define">june</span>, <span class="define">july</span>, <span class="define">august</span>, <span class="define">september</span>, <span class="define">sept</span>, <span class="define">october</span>, <span class="define">november</span>, <span class="define">december</span>,<p>
The days of the week: <span class="define">sunday</span>, <span class="define">monday</span>, <span class="define">tuesday</span>, <span class="define">tues</span>, <span class="define">wednesday</span>, <span class="define">wednes</span>, <span class="define">thursday</span>, <span class="define">thur</span>, <span class="define">thurs</span>, <span class="define">friday</span>, <span class="define">saturday</span>.<p>
Time units: <span class="define">year</span>, <span class="define">month</span>, <span class="define">fortnight</span>, <span class="define">week</span>, <span class="define">day</span>, <span class="define">hour</span>, <span class="define">minute</span>, <span class="define">min</span>, <span class="define">second</span>, <span class="define">sec</span>, <span class="define">tomorrow</span>, <span class="define">yesterday</span>.<p>
Timezone names: <span class="define">gmt</span>, <span class="define">ut</span>, <span class="define">utc</span>, <span class="define">wet</span>, <span class="define">bst</span>, <span class="define">wat</span>, <span class="define">at</span>, <span class="define">ast</span>, <span class="define">adt</span>, <span class="define">est</span>, <span class="define">edt</span>, <span class="define">cst</span>, <span class="define">cdt</span>, <span class="define">mst</span>, <span class="define">mdt</span>, <span class="define">pst</span>, <span class="define">pdt</span>, <span class="define">yst</span>, <span class="define">ydt</span>, <span class="define">hst</span>, <span class="define">hdt</span>, <span class="define">cat</span>, <span class="define">ahst</span>, <span class="define">nt</span>, <span class="define">idlw</span>, <span class="define">cet</span>, <span class="define">met</span>, <span class="define">mewt</span>, <span class="define">mest</span>, <span class="define">swt</span>, <span class="define">sst</span>, <span class="define">fwt</span>, <span class="define">fst</span>, <span class="define">eet</span>, <span class="define">bt</span>, <span class="define">zp4</span>, <span class="define">zp5</span>, <span class="define">zp6</span>, <span class="define">wast</span>, <span class="define">wadt</span>, <span class="define">cct</span>, <span class="define">jst</span>, <span class="define">east</span>, <span class="define">eadt</span>, <span class="define">gst</span>, <span class="define">nzt</span>, <span class="define">nzst</span>, <span class="define">nzdt</span>, <span class="define">idle</span>.<p>
A variety of unambiguous dates are recognized:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
9/10/69</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
For years between 69-99 we assume 1900+ and for years between 0-68 we assume 2000+.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2006-11-17</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
An ISO-8601 date.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
69-09-10</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The year in an ISO-8601 date is always taken literally, so this is the year 69, not 2069.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
10/1/2000</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
October 10, 2000; the common US format.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
20 Jun 1994</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
23jun2001</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
1-sep-06</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Other common abbreviations.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
1/11</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The year can be omitted. This is the US month/day format.</dd>
</dl>
<p>
As well as times:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
10:01</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
10:12pm</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
12:11:01.000012</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
12:21-0500</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
</dd>
</dl>
<p>
Relative items are also supported:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
-1 month</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
last friday</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
one week ago</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
this thursday</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
next sunday</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
+2 years</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
</dd>
</dl>
<p>
Seconds since epoch (also known as UNIX time) are also supported:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
@735275209</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Tue Apr 20 03:06:49 UTC 1993</dd>
</dl>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">parsedate</b>() returns the number of seconds passed since the Epoch, or <span class="define">&#45;1</span> if the date could not be parsed properly. A non-error result of <span class="define">&#45;1</span> can be distinguished from an error by setting <b class="var">errno</b> to <span class="define">0</span> before calling <b class="fname">parsedate</b>(), and checking the value of <b class="var">errno</b> afterwards.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/date">date(1)</a>, <a class="link-man" href="../2/errno">errno(2)</a>, <a class="link-man" href="../8/eeprom">eeprom(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The parser used in <b class="fname">parsedate</b>() was originally written by Steven M. Bellovin while at the University of North Carolina at Chapel Hill. It was later tweaked by a couple of people on Usenet. Completely overhauled by Rich $alz and Jim Berets in August, 1990.<p>
The <b class="fname">parsedate</b>() function first appeared in <span class="unix">NetBSD&#160;4.0</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 1.00ex;">
The <b class="fname">parsedate</b>() function is not re-entrant or thread-safe.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2</dt>
<dd class="list-tag" style="margin-left: 1.00ex;">
The <b class="fname">parsedate</b>() function cannot compute days before the unix epoch (19700101).</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
3</dt>
<dd class="list-tag" style="margin-left: 1.00ex;">
The <b class="fname">parsedate</b>() function assumes years less than 0 mean - <i class="farg">year</i>, years less than 70 mean 2000 + <i class="farg">year</i>, years less than 100 mean 1900 + <i class="farg">year</i>.</dd>
</dl>
</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 8, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

