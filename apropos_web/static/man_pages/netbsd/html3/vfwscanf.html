<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
WSCANF(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
WSCANF(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
WSCANF(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">wscanf</b>, <b class="name">fwscanf</b>, <b class="name">swscanf</b>, <b class="name">vwscanf</b>, <b class="name">vswscanf</b>, <b class="name">vfwscanf</b> &#8212; <span class="desc">wide character input format conversion</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">stdio.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">wchar.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">wscanf</b>(<i class="farg" style="white-space:nowrap;">const wchar_t * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">fwscanf</b>(<i class="farg" style="white-space:nowrap;">FILE * restrict stream</i>, <i class="farg" style="white-space:nowrap;">const wchar_t * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">swscanf</b>(<i class="farg" style="white-space:nowrap;">const wchar_t * restrict str</i>, <i class="farg" style="white-space:nowrap;">const wchar_t * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<b class="includes">#include &lt;<a class="link-includes">stdarg.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">vwscanf</b>(<i class="farg" style="white-space:nowrap;">const wchar_t * restrict format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">vswscanf</b>(<i class="farg" style="white-space:nowrap;">const wchar_t * restrict str</i>, <i class="farg" style="white-space:nowrap;">const wchar_t * restrict format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">vfwscanf</b>(<i class="farg" style="white-space:nowrap;">FILE * restrict stream</i>, <i class="farg" style="white-space:nowrap;">const wchar_t * restrict format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">wscanf</b>() family of functions scans input according to a <i class="farg">format</i> as described below. This format may contain <span class="emph">conversion specifiers</span>; the results from such conversions, if any, are stored through the <span class="emph">pointer</span> arguments. The <b class="fname">wscanf</b>() function reads input from the standard input stream <span class="define">stdin</span>, <b class="fname">fwscanf</b>() reads input from the stream pointer <i class="farg">stream</i>, and <b class="fname">swscanf</b>() reads its input from the wide-character string pointed to by <i class="farg">str</i>. The <b class="fname">vfwscanf</b>() function is analogous to <a class="link-man" href="../3/vfwprintf">vfwprintf(3)</a> and reads input from the stream pointer <i class="farg">stream</i> using a variable argument list of pointers (see <a class="link-man" href="../3/stdarg">stdarg(3)</a>). The <b class="fname">vwscanf</b>() function scans a variable argument list from the standard input and the <b class="fname">vswscanf</b>() function scans it from a wide-character string; these are analogous to the <b class="fname">vwprintf</b>() and <b class="fname">vswprintf</b>() functions respectively. Each successive <span class="emph">pointer</span> argument must correspond properly with each successive conversion specifier (but see the <b class="flag">*</b> conversion below). All conversions are introduced by the <b class="flag">%</b> (percent sign) character. The <i class="farg">format</i> string may also contain other characters. White space (such as blanks, tabs, or newlines) in the <i class="farg">format</i> string match any amount of white space, including none, in the input. Everything else matches only itself. Scanning stops when an input character does not match such a format character. Scanning also stops when an input conversion cannot be made (see below).</div>
<div class="section">
<h1 id="x434f4e56455253494f4e53">CONVERSIONS</h1> Following the <b class="flag">%</b> character introducing a conversion there may be a number of <span class="emph">flag</span> characters, as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">*</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Suppresses assignment. The conversion that follows occurs as usual, but no pointer is used; the result of the conversion is simply discarded.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">hh</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">char</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">h</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">short int</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">l</b> (ell)</dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">long int</span> (rather than <span class="type">int</span>), that the conversion will be one of <b class="flag">a</b>, <b class="flag">e</b>, <b class="flag">f</b>, or <b class="flag">g</b> and the next pointer is a pointer to <span class="type">double</span> (rather than <span class="type">float</span>), or that the conversion will be one of <b class="flag">c</b> or <b class="flag">s</b> and the next pointer is a pointer to an array of <span class="type">wchar_t</span> (rather than <span class="type">char</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ll</b> (ell ell)</dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">long long int</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">L</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Indicates that the conversion will be one of <b class="flag">a</b>, <b class="flag">e</b>, <b class="flag">f</b>, or <b class="flag">g</b> and the next pointer is a pointer to <span class="type">long double</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">j</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">intmax_t</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">t</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">ptrdiff_t</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">z</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">size_t</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">q</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
(deprecated.) Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">long long int</span> (rather than <span class="type">int</span>).</dd>
</dl>
<p>
In addition to these flags, there may be an optional maximum field width, expressed as a decimal integer, between the <b class="flag">%</b> and the conversion. If no width is given, a default of &#8220;infinity&#8221; is used (with one exception, below); otherwise at most this many characters are scanned in processing the conversion. Before conversion begins, most conversions skip white space; this white space is not counted against the field width.<p>
The following conversions are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">%</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a literal &#8216;<code class="lit">%</code>&#8217;. That is, &#8220;<code class="lit">%%</code>&#8221; in the format string matches a single input &#8216;<code class="lit">%</code>&#8217; character. No conversion is done, and assignment does not occur.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">d</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed decimal integer; the next pointer must be a pointer to <span class="type">int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">i</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed integer; the next pointer must be a pointer to <span class="type">int</span>. The integer is read in base 16 if it begins with &#8216;<code class="lit">0x</code>&#8217; or &#8216;<code class="lit">0X</code>&#8217;, in base 8 if it begins with &#8216;<code class="lit">0</code>&#8217;, and in base 10 otherwise. Only characters that correspond to the base are used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">o</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an octal integer; the next pointer must be a pointer to <span class="type">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">u</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed decimal integer; the next pointer must be a pointer to <span class="type">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">x</b>, <b class="flag">X</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed hexadecimal integer; the next pointer must be a pointer to <span class="type">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">a</b>, <b class="flag">A</b>, <b class="flag">e</b>, <b class="flag">E</b>, <b class="flag">f</b>, <b class="flag">F</b>, <b class="flag">g</b>, <b class="flag">G</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a floating-point number in the style of <a class="link-man" href="../3/wcstod">wcstod(3)</a>. The next pointer must be a pointer to <span class="type">float</span> (unless <b class="flag">l</b> or <b class="flag">L</b> is specified.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">s</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a sequence of non-white-space wide characters; the next pointer must be a pointer to <span class="type">char</span>, and the array must be large enough to accept the multibyte representation of all the sequence and the terminating <span class="define">NUL</span> character. The input string stops at white space or at the maximum field width, whichever occurs first.<p>
If an <b class="flag">l</b> qualifier is present, the next pointer must be a pointer to <span class="type">wchar_t</span>, into which the input will be placed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">S</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The same as <b class="flag">ls</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">c</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a sequence of <span class="emph">width</span> count wide characters (default 1); the next pointer must be a pointer to <span class="type">char</span>, and there must be enough room for the multibyte representation of all the characters (no terminating <span class="define">NUL</span> is added). The usual skip of leading white space is suppressed. To skip white space first, use an explicit space in the format.<p>
If an <b class="flag">l</b> qualifier is present, the next pointer must be a pointer to <span class="type">wchar_t</span>, into which the input will be placed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">C</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The same as <b class="flag">lc</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">[</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a nonempty sequence of characters from the specified set of accepted characters; the next pointer must be a pointer to <span class="type">char</span>, and there must be enough room for the multibyte representation of all the characters in the string, plus a terminating <span class="define">NUL</span> character. The usual skip of leading white space is suppressed. The string is to be made up of characters in (or not in) a particular set; the set is defined by the characters between the open bracket <b class="flag">[</b> character and a close bracket <b class="flag">]</b> character. The set <span class="emph">excludes</span> those characters if the first character after the open bracket is a circumflex <b class="flag">^</b>. To include a close bracket in the set, make it the first character after the open bracket or the circumflex; any other position will end the set. To include a hyphen in the set, make it the last character before the final close bracket; some implementations of <b class="fname">wscanf</b>() use &#8220;<code class="lit">A-Z</code>&#8221; to represent the range of characters between &#8216;<code class="lit">A</code>&#8217; and &#8216;<code class="lit">Z</code>&#8217;. The string ends with the appearance of a character not in the (or, with a circumflex, in) set or when the field width runs out.<p>
If an <b class="flag">l</b> qualifier is present, the next pointer must be a pointer to <span class="type">wchar_t</span>, into which the input will be placed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">p</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a pointer value (as printed by &#8216;<code class="lit">%p</code>&#8217; in <a class="link-man" href="../3/wprintf">wprintf(3)</a>); the next pointer must be a pointer to <span class="type">void</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">n</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Nothing is expected; instead, the number of characters consumed thus far from the input is stored through the next pointer, which must be a pointer to <span class="type">int</span>. This is <span class="emph">not</span> a conversion, although it can be suppressed with the <b class="flag">*</b> flag.</dd>
</dl>
<p>
The decimal point character is defined in the program's locale (category <span class="define">LC_NUMERIC</span>).<p>
For backwards compatibility, a &#8220;conversion&#8221; of &#8216;<code class="lit">%&#92;0</code>&#8217; causes an immediate return of <span class="define">EOF</span>.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> These functions return the number of input items assigned, which can be fewer than provided for, or even zero, in the event of a matching failure. Zero indicates that, while there was input available, no conversions were assigned; typically this is due to an invalid input character, such as an alphabetic character for a &#8216;<code class="lit">%d</code>&#8217; conversion. The value <span class="define">EOF</span> is returned if an input failure occurs before any conversion such as an end-of-file occurs. If an error or end-of-file occurs after conversion has begun, the number of conversions which were successfully completed is returned.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/fgetwc">fgetwc(3)</a>, <a class="link-man" href="../3/scanf">scanf(3)</a>, <a class="link-man" href="../3/wcrtomb">wcrtomb(3)</a>, <a class="link-man" href="../3/wcstod">wcstod(3)</a>, <a class="link-man" href="../3/wcstol">wcstol(3)</a>, <a class="link-man" href="../3/wcstoul">wcstoul(3)</a>, <a class="link-man" href="../3/wprintf">wprintf(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">fwscanf</b>(), <b class="fname">wscanf</b>(), <b class="fname">swscanf</b>(), <b class="fname">vfwscanf</b>(), <b class="fname">vwscanf</b>() and <b class="fname">vswscanf</b>() functions conform to ISO/IEC 9899:1999 (&#8220;ISO&#160;C99&#8221;).</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> In addition to the bugs documented in <a class="link-man" href="../3/scanf">scanf(3)</a>, <b class="fname">wscanf</b>() does not support the &#8220;<code class="lit">A-Z</code>&#8221; notation for specifying character ranges with the character class conversion (&#8216;<b class="flag">%[</b>&#8217;).</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 5, 2003</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

