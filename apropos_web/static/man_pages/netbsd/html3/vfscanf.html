<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
SCANF(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SCANF(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
SCANF(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">scanf</b>, <b class="name">fscanf</b>, <b class="name">sscanf</b>, <b class="name">vscanf</b>, <b class="name">vsscanf</b>, <b class="name">vfscanf</b> &#8212; <span class="desc">input format conversion</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">stdio.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">scanf</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">fscanf</b>(<i class="farg" style="white-space:nowrap;">FILE * restrict stream</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">sscanf</b>(<i class="farg" style="white-space:nowrap;">const char * restrict str</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<b class="includes">#include &lt;<a class="link-includes">stdarg.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">vscanf</b>(<i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">vsscanf</b>(<i class="farg" style="white-space:nowrap;">const char * restrict str</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">vfscanf</b>(<i class="farg" style="white-space:nowrap;">FILE * restrict stream</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">scanf</b>() family of functions scans input according to a <i class="farg">format</i> as described below. This format may contain <span class="emph">conversion specifiers</span>; the results from such conversions, if any, are stored through the <span class="emph">pointer</span> arguments.<p>
The <b class="fname">scanf</b>() function reads input from the standard input stream <span class="emph">stdin</span>, <b class="fname">fscanf</b>() reads input from the stream pointer <i class="farg">stream</i>, and <b class="fname">sscanf</b>() reads its input from the character string pointed to by <i class="farg">str</i>. The <b class="fname">vfscanf</b>() function is analogous to <a class="link-man" href="../3/vfprintf">vfprintf(3)</a> and reads input from the stream pointer <i class="farg">stream</i> using a variable argument list of pointers (see <a class="link-man" href="../3/stdarg">stdarg(3)</a>). The <b class="fname">vscanf</b>() function scans a variable argument list from the standard input and the <b class="fname">vsscanf</b>() function scans it from a string; these are analogous to the <b class="fname">vprintf</b>() and <b class="fname">vsprintf</b>() functions respectively.<p>
Each successive <span class="emph">pointer</span> argument must correspond properly with each successive conversion specifier (but see `suppression' below). All conversions are introduced by the <b class="flag">%</b> (percent sign) character. The <i class="farg">format</i> string may also contain other characters. White space (such as blanks, tabs, or newlines) in the <i class="farg">format</i> string match any amount of white space, including none, in the input. Everything else matches only itself. Scanning stops when an input character does not match such a format character. Scanning also stops when an input conversion cannot be made (see below).</div>
<div class="section">
<h1 id="x434f4e56455253494f4e53">CONVERSIONS</h1> Following the <b class="flag">%</b> character introducing a conversion there may be a number of <span class="emph">flag</span> characters, as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">*</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Suppresses assignment. The conversion that follows occurs as usual, but no pointer is used; the result of the conversion is simply discarded.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">h</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="emph">short int</span> (rather than <span class="emph">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">hh</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="emph">char</span> (rather than <span class="emph">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">j</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to an <span class="emph">intmax_t</span> (rather than <span class="emph">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates either that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="emph">long int</span> (rather than <span class="emph">int</span>), or that the conversion will be one of <b class="flag">efg</b> and the next pointer is a pointer to <span class="emph">double</span> (rather than <span class="emph">float</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ll</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="emph">long long int</span> (rather than <span class="emph">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">q</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="emph">quad_t</span> (rather than <span class="emph">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">t</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="emph">ptrdiff_t</span> (rather than <span class="emph">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">z</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="emph">size_t</span> (rather than <span class="emph">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">L</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Indicates that the conversion will be <b class="flag">efg</b> and the next pointer is a pointer to <span class="emph">long double</span>.</dd>
</dl>
<p>
In addition to these flags, there may be an optional maximum field width, expressed as a decimal integer, between the <b class="flag">%</b> and the conversion. If no width is given, a default of `infinity' is used (with one exception, below); otherwise at most this many characters are scanned in processing the conversion. Before conversion begins, most conversions skip white space; this white space is not counted against the field width.<p>
The following conversions are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">%</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a literal `%'. That is, `%%' in the format string matches a single input `%' character. No conversion is done, and assignment does not occur.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">d</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed decimal integer; the next pointer must be a pointer to <span class="emph">int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">D</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">ld</b>; this exists only for backwards compatibility.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">i</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed integer; the next pointer must be a pointer to <span class="emph">int</span>. The integer is read in base 16 if it begins with &#8216;<code class="lit">0x</code>&#8217; or &#8216;<code class="lit">0X</code>&#8217;, in base 8 if it begins with &#8216;<code class="lit">0</code>&#8217;, and in base 10 otherwise. Only characters that correspond to the base are used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">o</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an octal integer; the next pointer must be a pointer to <span class="emph">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">O</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">lo</b>; this exists for backwards compatibility.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">u</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed decimal integer; the next pointer must be a pointer to <span class="emph">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">x</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed hexadecimal integer; the next pointer must be a pointer to <span class="emph">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">X</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">x</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">f</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed floating-point number; the next pointer must be a pointer to <span class="emph">float</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">e</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">f</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">g</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">f</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">E</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">f</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">G</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">f</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">s</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a sequence of non-white-space characters; the next pointer must be a pointer to <span class="emph">char</span>, and the array must be large enough to accept all the sequence and the terminating <span class="define">NUL</span> character. The input string stops at white space or at the maximum field width, whichever occurs first.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">c</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a sequence of <span class="emph">width</span> count characters (default 1); the next pointer must be a pointer to <span class="emph">char</span>, and there must be enough room for all the characters (no terminating <span class="define">NUL</span> is added). The usual skip of leading white space is suppressed. To skip white space first, use an explicit space in the format.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">[</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a nonempty sequence of characters from the specified set of accepted characters; the next pointer must be a pointer to <span class="emph">char</span>, and there must be enough room for all the characters in the string, plus a terminating <span class="define">NUL</span> character. The usual skip of leading white space is suppressed. The string is to be made up of characters in (or not in) a particular set; the set is defined by the characters between the open bracket <b class="flag">[</b> character and a close bracket <b class="flag">]</b> character. The set <span class="emph">excludes</span> those characters if the first character after the open bracket is a circumflex <b class="flag">^</b>. To include a close bracket in the set, make it the first character after the open bracket or the circumflex; any other position will end the set. The hyphen character <b class="flag">-</b> is also special; when placed between two other characters, it adds all intervening characters to the set. To include a hyphen, make it the last character before the final close bracket. For instance, &#8216;<code class="lit">[^]0-9-]</code>&#8217; means the set `everything except close bracket, zero through nine, and hyphen'. The string ends with the appearance of a character not in the (or, with a circumflex, in) set or when the field width runs out.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">p</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a pointer value (as printed by &#8216;<code class="lit">%p</code>&#8217; in <a class="link-man" href="../3/printf">printf(3)</a>); the next pointer must be a pointer to <span class="emph">void</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">n</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Nothing is expected; instead, the number of characters consumed thus far from the input is stored through the next pointer, which must be a pointer to <span class="emph">int</span>. This is <span class="emph">not</span> a conversion, although it can be suppressed with the <b class="flag">*</b> flag.</dd>
</dl>
<p>
For backwards compatibility, other conversion characters (except &#8216;<code class="lit">&#92;0</code>&#8217;) are taken as if they were &#8216;<code class="lit">%d</code>&#8217; or, if uppercase, &#8216;<code class="lit">%ld</code>&#8217;, and a `conversion' of &#8216;<code class="lit">%&#92;0</code>&#8217; causes an immediate return of <span class="define">EOF</span>.<p>
The format string specifier macros described in <a class="link-man" href="../3/inttypes">inttypes(3)</a> should be used for the standard &#8220;C99&#8221; fixed-size integers documented in <a class="link-man" href="../3/stdint">stdint(3)</a>.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> These functions return the number of input items assigned, which can be fewer than provided for, or even zero, in the event of a matching failure. Zero indicates that, while there was input available, no conversions were assigned; typically this is due to an invalid input character, such as an alphabetic character for a &#8216;<code class="lit">%d</code>&#8217; conversion. The value <span class="define">EOF</span> is returned if an input failure occurs before any conversion such as an end-of-file occurs. If an error or end-of-file occurs after conversion has begun, the number of conversions which were successfully completed is returned.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/getc">getc(3)</a>, <a class="link-man" href="../3/inttypes">inttypes(3)</a>, <a class="link-man" href="../3/printf">printf(3)</a>, <a class="link-man" href="../3/strtod">strtod(3)</a>, <a class="link-man" href="../3/strtol">strtol(3)</a>, <a class="link-man" href="../3/strtoul">strtoul(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The functions <b class="fname">fscanf</b>(), <b class="fname">scanf</b>(), and <b class="fname">sscanf</b>() conform to ISO/IEC 9899:1990 (&#8220;ISO&#160;C90&#8221;). The <b class="flag">%j</b>, <b class="flag">%t</b> and <b class="flag">%z</b> conversion format modifiers conform to ISO/IEC 9899:1999 (&#8220;ISO&#160;C99&#8221;). The <b class="fname">vfscanf</b>(), <b class="fname">vscanf</b>() and <b class="fname">vsscanf</b>() functions conform to ISO/IEC 9899:1999 (&#8220;ISO&#160;C99&#8221;).</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The functions <b class="fname">vscanf</b>(), <b class="fname">vsscanf</b>() and <b class="fname">vfscanf</b>() appeared in <span class="unix">4.4BSD</span> or even <span class="unix">4.3BSD</span>.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> All of the backwards compatibility formats will be removed in the future.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Numerical strings are truncated to 512 characters; for example, <b class="flag">%f</b> and <b class="flag">%d</b> are implicitly <b class="flag">%512f</b> and <b class="flag">%512d</b>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
March 21, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

