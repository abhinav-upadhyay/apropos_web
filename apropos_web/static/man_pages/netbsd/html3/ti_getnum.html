<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
TERMINFO(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
TERMINFO(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
TERMINFO(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">setupterm</b>, <b class="name">set_curterm</b>, <b class="name">del_curterm</b>, <b class="name">termname</b>, <b class="name">longname</b>, <b class="name">tigetflag</b>, <b class="name">tigetnum</b>, <b class="name">tigetstr</b>, <b class="name">tparm</b>, <b class="name">tputs</b>, <b class="name">putp</b> &#8212; <span class="desc">terminal independent operation routines</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Terminal Information Library (libterminfo, &#45;lterminfo)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">term.h</a>&gt;</b><p>
<span class="type">char PC</span>;<br>
<span class="type">short ospeed</span>;<br>
<span class="type">TERMINAL *cur_term</span>;<p>
<i class="ftype">int</i><br>
<b class="fname">setupterm</b>(<i class="farg" style="white-space:nowrap;">const char *name</i>, <i class="farg" style="white-space:nowrap;">int fildes</i>, <i class="farg" style="white-space:nowrap;">int *errret</i>);<p>
<i class="ftype">TERMINAL *</i><br>
<b class="fname">set_curterm</b>(<i class="farg" style="white-space:nowrap;">TERMINAL *nterm</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">del_curterm</b>(<i class="farg" style="white-space:nowrap;">TERMINAL *oterm</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">termname</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">longname</b>(<i class="farg" style="white-space:nowrap;">void</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">tigetnum</b>(<i class="farg" style="white-space:nowrap;">const char *id</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">tigetflag</b>(<i class="farg" style="white-space:nowrap;">const char *id</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">tigetstr</b>(<i class="farg" style="white-space:nowrap;">const char *id</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">tparm</b>(<i class="farg" style="white-space:nowrap;">const char *cm</i>, <i class="farg" style="white-space:nowrap;">long p1</i>, <i class="farg" style="white-space:nowrap;">long p2</i>, <i class="farg" style="white-space:nowrap;">long p3</i>, <i class="farg" style="white-space:nowrap;">long p4</i>, <i class="farg" style="white-space:nowrap;">long p5</i>, <i class="farg" style="white-space:nowrap;">long p6</i>, <i class="farg" style="white-space:nowrap;">long p7</i>, <i class="farg" style="white-space:nowrap;">long p8</i>, <i class="farg" style="white-space:nowrap;">long p9</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">tputs</b>(<i class="farg" style="white-space:nowrap;">const char *cp</i>, <i class="farg" style="white-space:nowrap;">int affcnt</i>, <i class="farg" style="white-space:nowrap;">int (*outc)(int)</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">putp</b>(<i class="farg" style="white-space:nowrap;">const char *cp</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">ti_setupterm</b>(<i class="farg" style="white-space:nowrap;">TERMINAL **</i>, <i class="farg" style="white-space:nowrap;">const char *name</i>, <i class="farg" style="white-space:nowrap;">int fildes</i>, <i class="farg" style="white-space:nowrap;">int *error</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">ti_getflag</b>(<i class="farg" style="white-space:nowrap;">const TERMINAL *</i>, <i class="farg" style="white-space:nowrap;">const char *id</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">ti_getnum</b>(<i class="farg" style="white-space:nowrap;">const TERMINAL *</i>, <i class="farg" style="white-space:nowrap;">const char *id</i>);<p>
<i class="ftype">const char *</i><br>
<b class="fname">ti_getstr</b>(<i class="farg" style="white-space:nowrap;">const TERMINAL *</i>, <i class="farg" style="white-space:nowrap;">const char *id</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">tiparm</b>(<i class="farg" style="white-space:nowrap;">const char *cm</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">ti_tiparm</b>(<i class="farg" style="white-space:nowrap;">TERMINAL *</i>, <i class="farg" style="white-space:nowrap;">const char *cm</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">ti_puts</b>(<i class="farg" style="white-space:nowrap;">const TERMINAL *term</i>, <i class="farg" style="white-space:nowrap;">const char *str</i>, <i class="farg" style="white-space:nowrap;">int affcnt</i>, <i class="farg" style="white-space:nowrap;">int (*outc)(int, void *)</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">ti_putp</b>(<i class="farg" style="white-space:nowrap;">const TERMINAL *term</i>, <i class="farg" style="white-space:nowrap;">const char *str</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions extract and use capabilities from a terminal capability database, usually <i class="file">/usr/share/misc/terminfo</i>, the format of which is described in <a class="link-man" href="../5/terminfo">terminfo(5)</a>. These are low level routines; see <a class="link-man" href="../3/curses">curses(3)</a> for a higher level package.<p>
The <b class="fname">setupterm</b>() function extracts the entry for terminal <i class="farg">name</i> and then calls <b class="fname">set_curterm</b>() to set <b class="var">cur_term</b> to it. If <i class="farg">name</i> is <span class="define">NULL</span> then it is replaced by the environment variable <span class="env">TERM</span>. The <b class="fname">setupterm</b>() function returns 0 on success and &#45;1 on error. <b class="var">errret</b> is set to &#45;1 if the <b class="name">terminfo</b> database could not be opened, 0 if the terminal could not be found in the database, and 1 if all went well.<p>
The <b class="fname">set_curterm</b>() function sets the variable <b class="var">cur_term</b> to <b class="var">nterm</b> and makes all of the <b class="name">terminfo</b> boolean, numeric and string variables use the values from <b class="var">nterm</b>. The global variables <b class="var">PC</b> and <b class="var">ospeed</b> are then set. The old value of <b class="var">cur_term</b> is returned. The <b class="fname">del_curterm</b>() function frees space pointed to by <b class="var">oterm</b>.<p>
The <b class="fname">termname</b>() function returns the name of <b class="var">cur_term</b>. The <b class="fname">longname</b>() function returns the description of <b class="var">cur_term</b>.<p>
The <b class="fname">tigetflag</b>() function gets the boolean value of capability <b class="var">id</b>, returning &#45;1 if it is not a valid capability. The <b class="fname">tigetnum</b>() function gets the numeric value of the capability <b class="var">id</b>, returning &#45;2 if it is not a valid capability. The <b class="fname">tigetstr</b>() function returns the string value of the capability <b class="var">id</b>, returning (char *)-1 if it is not a valid capability.<p>
The <b class="fname">tparm</b>() function returns a string decoded from <b class="var">cm</b> with the parameters <b class="var">p1</b> ... <b class="var">p9</b> applied. Some capabilities require string parameters and only platforms that can fit a <span class="type">char *</span> pointer inside a <span class="type">long</span> can use them. For platforms which don't support this, <span class="define">NULL</span> is returned and <b class="var">errno</b> is set to <span class="errno">ENOTSUPP</span>. The string encoding and parameter application is described in <a class="link-man" href="../5/terminfo">terminfo(5)</a>.<p>
The <b class="fname">tputs</b>() function applies padding information to the string <b class="var">cp</b>; <b class="var">affcnt</b> gives the number of lines affected by the operation, or 1 if this is not applicable; <b class="var">outc</b> is a function which is called by each character in turn. The external variable <b class="var">ospeed</b> controls how many padding characters are sent in relation to the terminal speed. The <b class="fname">putp</b>() function calls tputs(str, 1, putchar). The output from <b class="fname">putp</b>() always goes to stdout.<div class="subsection">
<h2 id="x4e657442534420457874656e73696f6e7320546f205465726d696e666f">NetBSD Extensions To Terminfo</h2> The <b class="fname">tiparm</b>() function allows variadic parameters instead of 9 fixed longs. Numeric parameters must be passed as <span class="type">int</span>. String parameters must be passed as <span class="type">char *</span> and works on all platforms, unlike <b class="fname">tparm</b>().<p>
The <b class="fname">ti_*</b>() functions correspond to the standard <b class="fname">t*</b>() functions but take an additional <i class="ftype">TERMINAL *</i> parameter so that the terminal can be specified instead of assuming <b class="var">cur_term</b>. These functions use private variables to the <i class="ftype">TERMINAL</i> instead of the global variables, such as <b class="var">PC</b> and <b class="var">ospeed</b>.</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/ex">ex(1)</a>, <a class="link-man" href="../3/curses">curses(3)</a>, <a class="link-man" href="../5/terminfo">terminfo(5)</a></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Roy Marples</span> &#60;<a class="link-mail" href="mailto:roy@NetBSD.org">roy@NetBSD.org</a>&#62;</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 25, 2013</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

