<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
SSL_CTX_add_session(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SSL_CTX_add_session(3)</td>
<td class="head-vol" align="center">
OpenSSL</td>
<td class="head-rtitle" align="right">
SSL_CTX_add_session(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> SSL_CTX_add_session, SSL_add_session, SSL_CTX_remove_session, SSL_remove_session &#45; manipulate session cache</div>
<div class="section">
<h1>LIBRARY</h1> libcrypto, -lcrypto</div>
<div class="section">
<h1>SYNOPSIS</h1><br>
 #include &lt;openssl/ssl.h&gt;<br>
<br>
 int SSL_CTX_add_session(SSL_CTX *ctx, SSL_SESSION *c);<br>
 int SSL_add_session(SSL_CTX *ctx, SSL_SESSION *c);<br>
<br>
 int SSL_CTX_remove_session(SSL_CTX *ctx, SSL_SESSION *c);<br>
 int SSL_remove_session(SSL_CTX *ctx, SSL_SESSION *c);<br>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <i>SSL_CTX_add_session()</i> adds the session <b>c</b> to the context <b>ctx</b>. The reference count for session  <b>c</b> is incremented by 1. If a session with the same session id already exists, the old session is removed by calling  <i>SSL_SESSION_free</i>(3).<p>
<i>SSL_CTX_remove_session()</i> removes the session <b>c</b> from the context <b>ctx</b>.  <i>SSL_SESSION_free</i>(3) is called once for <b>c</b>.<p>
<i>SSL_add_session()</i> and <i>SSL_remove_session()</i> are synonyms for their SSL_CTX_*() counterparts.</div>
<div class="section">
<h1>NOTES</h1> When adding a new session to the internal session cache, it is examined whether a session with the same session id already exists. In this case it is assumed that both sessions are identical. If the same session is stored in a different SSL_SESSION object, The old session is removed and replaced by the new session. If the session is actually identical (the SSL_SESSION object is identical),  <i>SSL_CTX_add_session()</i> is a no-op, and the return value is 0.<p>
If a server SSL_CTX is configured with the SSL_SESS_CACHE_NO_INTERNAL_STORE flag then the internal cache will not be populated automatically by new sessions negotiated by the SSL/TLS implementation, even though the internal cache will be searched automatically for session-resume requests (the latter can be suppressed by SSL_SESS_CACHE_NO_INTERNAL_LOOKUP). So the application can use  <i>SSL_CTX_add_session()</i> directly to have full control over the sessions that can be resumed if desired.</div>
<div class="section">
<h1>RETURN VALUES</h1> The following values are returned by all functions:<dl>
<dt>
0</dt>
<dd>
<br>
 The operation failed. In case of the add operation, it was tried to add<br>
 the same (identical) session twice. In case of the remove operation, the<br>
 session was not found in the cache.<br>
</dd>
</dl>
<dl>
<dt>
1</dt>
<dd>
<br>
 The operation succeeded.<br>
</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>ssl</i>(3),  <i>SSL_CTX_set_session_cache_mode</i>(3),  <i>SSL_SESSION_free</i>(3)</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
2014-08-10</td>
<td class="foot-os" align="right">
1.0.1n</td>
</tr>
</table>
</div>
</body>
</html>

