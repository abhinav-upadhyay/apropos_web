<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
KRB5_GET_IN_TKT(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
KRB5_GET_IN_TKT(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
KRB5_GET_IN_TKT(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">krb5_get_in_tkt</b>, <b class="name">krb5_get_in_cred</b>, <b class="name">krb5_get_in_tkt_with_password</b>, <b class="name">krb5_get_in_tkt_with_keytab</b>, <b class="name">krb5_get_in_tkt_with_skey</b>, <b class="name">krb5_free_kdc_rep</b>, <b class="name">krb5_password_key_proc</b> &#8212; <span class="desc">deprecated initial authentication functions</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> Kerberos 5 Library (libkrb5, -lkrb5)</div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">krb5/krb5.h</a>&gt;</b><p>
<br>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_get_in_tkt</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_flags options</i>, <i class="farg">const krb5_addresses *addrs</i>, <i class="farg">const krb5_enctype *etypes</i>, <i class="farg">const krb5_preauthtype *ptypes</i>, <i class="farg">krb5_key_proc key_proc</i>, <i class="farg">krb5_const_pointer keyseed</i>, <i class="farg">krb5_decrypt_proc decrypt_proc</i>, <i class="farg">krb5_const_pointer decryptarg</i>, <i class="farg">krb5_creds *creds</i>, <i class="farg">krb5_ccache ccache</i>, <i class="farg">krb5_kdc_rep *ret_as_reply</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_get_in_cred</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_flags options</i>, <i class="farg">const krb5_addresses *addrs</i>, <i class="farg">const krb5_enctype *etypes</i>, <i class="farg">const krb5_preauthtype *ptypes</i>, <i class="farg">const krb5_preauthdata *preauth</i>, <i class="farg">krb5_key_proc key_proc</i>, <i class="farg">krb5_const_pointer keyseed</i>, <i class="farg">krb5_decrypt_proc decrypt_proc</i>, <i class="farg">krb5_const_pointer decryptarg</i>, <i class="farg">krb5_creds *creds</i>, <i class="farg">krb5_kdc_rep *ret_as_reply</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_get_in_tkt_with_password</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_flags options</i>, <i class="farg">krb5_addresses *addrs</i>, <i class="farg">const krb5_enctype *etypes</i>, <i class="farg">const krb5_preauthtype *pre_auth_types</i>, <i class="farg">const char *password</i>, <i class="farg">krb5_ccache ccache</i>, <i class="farg">krb5_creds *creds</i>, <i class="farg">krb5_kdc_rep *ret_as_reply</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_get_in_tkt_with_keytab</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_flags options</i>, <i class="farg">krb5_addresses *addrs</i>, <i class="farg">const krb5_enctype *etypes</i>, <i class="farg">const krb5_preauthtype *pre_auth_types</i>, <i class="farg">krb5_keytab keytab</i>, <i class="farg">krb5_ccache ccache</i>, <i class="farg">krb5_creds *creds</i>, <i class="farg">krb5_kdc_rep *ret_as_reply</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_get_in_tkt_with_skey</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_flags options</i>, <i class="farg">krb5_addresses *addrs</i>, <i class="farg">const krb5_enctype *etypes</i>, <i class="farg">const krb5_preauthtype *pre_auth_types</i>, <i class="farg">const krb5_keyblock *key</i>, <i class="farg">krb5_ccache ccache</i>, <i class="farg">krb5_creds *creds</i>, <i class="farg">krb5_kdc_rep *ret_as_reply</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_free_kdc_rep</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_kdc_rep *rep</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_password_key_proc</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_enctype type</i>, <i class="farg">krb5_salt salt</i>, <i class="farg">krb5_const_pointer keyseed</i>, <i class="farg">krb5_keyblock **key</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="emph" style="display:inline;margin-left: 1.00ex;">
All the functions in this manual page are deprecated in the MIT implementation, and will soon be deprecated in Heimdal too, don't use them.</div>
<p>
Getting initial credential ticket for a principal. <b class="name">krb5_get_in_cred</b> is the function all other krb5_get_in function uses to fetch tickets. The other krb5_get_in function are more specialized and therefor somewhat easier to use.<p>
If your need is only to verify a user and password, consider using <a class="link-man" href="../3/krb5_verify_user">krb5_verify_user(3)</a> instead, it have a much simpler interface.<p>
<b class="name">krb5_get_in_tkt</b> and <b class="name">krb5_get_in_cred</b> fetches initial credential, queries after key using the <i class="farg">key_proc</i> argument. The differences between the two function is that <b class="name">krb5_get_in_tkt</b> stores the credential in a <code class="lit">krb5_creds</code> while <b class="name">krb5_get_in_cred</b> stores the credential in a <code class="lit">krb5_ccache</code>.<p>
<b class="name">krb5_get_in_tkt_with_password</b>, <b class="name">krb5_get_in_tkt_with_keytab</b>, and <b class="name">krb5_get_in_tkt_with_skey</b> does the same work as <b class="name">krb5_get_in_cred</b> but are more specialized.<p>
<b class="name">krb5_get_in_tkt_with_password</b> uses the clients password to authenticate. If the password argument is <span class="define">NULL</span> the user user queried with the default password query function.<p>
<b class="name">krb5_get_in_tkt_with_keytab</b> searches the given keytab for a service entry for the client principal. If the keytab is <span class="define">NULL</span> the default keytab is used.<p>
<b class="name">krb5_get_in_tkt_with_skey</b> uses a key to get the initial credential.<p>
There are some common arguments to the krb5_get_in functions, these are:<p>
<i class="farg">options</i> are the <span class="define">KDC_OPT</span> flags.<p>
<i class="farg">etypes</i> is a <span class="define">NULL</span> terminated array of encryption types that the client approves.<p>
<i class="farg">addrs</i> a list of the addresses that the initial ticket. If it is <span class="define">NULL</span> the list will be generated by the library.<p>
<i class="farg">pre_auth_types</i> a <span class="define">NULL</span> terminated array of pre-authentication types. If <i class="farg">pre_auth_types</i> is <span class="define">NULL</span> the function will try without pre-authentication and return those pre-authentication that the KDC returned.<p>
<i class="farg">ret_as_reply</i> will (if not <span class="define">NULL</span>) be filled in with the response of the KDC and should be free with <b class="fname">krb5_free_kdc_rep</b>().<p>
<i class="farg">key_proc</i> is a pointer to a function that should return a key salted appropriately. Using <span class="define">NULL</span> will use the default password query function.<p>
<i class="farg">decrypt_proc</i> Using <span class="define">NULL</span> will use the default decryption function.<p>
<i class="farg">decryptarg</i> will be passed to the decryption function <i class="farg">decrypt_proc</i>.<p>
<i class="farg">creds</i> creds should be filled in with the template for a credential that should be requested. The client and server elements of the creds structure must be filled in. Upon return of the function it will be contain the content of the requested credential (<i class="farg">krb5_get_in_cred</i>), or it will be freed with <a class="link-man" href="../3/krb5_free_creds">krb5_free_creds(3)</a> (all the other krb5_get_in functions).<p>
<i class="farg">ccache</i> will store the credential in the credential cache <i class="farg">ccache</i>. The credential cache will not be initialized, thats up the the caller.<p>
<b class="name">krb5_password_key_proc</b> is a library function that is suitable using as the <i class="farg">krb5_key_proc</i> argument to <b class="name">krb5_get_in_cred</b> or <b class="name">krb5_get_in_tkt</b>. <i class="farg">keyseed</i> should be a pointer to a <span class="define">NUL</span> terminated string or <span class="define">NULL</span>. <b class="name">krb5_password_key_proc</b> will query the user for the pass on the console if the password isn't given as the argument <i class="farg">keyseed</i>.<p>
<b class="fname">krb5_free_kdc_rep</b>() frees the content of <i class="farg">rep</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/krb5">krb5(3)</a>, <a class="link-man" href="../3/krb5_verify_user">krb5_verify_user(3)</a>, <a class="link-man" href="../5/krb5.conf">krb5.conf(5)</a>, <a class="link-man" href="../8/kerberos">kerberos(8)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 31, 2003</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

