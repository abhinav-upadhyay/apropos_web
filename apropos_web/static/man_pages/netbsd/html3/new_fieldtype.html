<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
FORMS(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
FORMS(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
FORMS(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">free_fieldtype</b>, <b class="name">link_fieldtype</b>, <b class="name">new_fieldtype</b>, <b class="name">set_fieldtype_arg</b>, <b class="name">set_fieldtype_choice</b> &#8212; <span class="desc">form library</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Curses Form Library (libform, &#45;lform)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">form.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">free_fieldtype</b>(<i class="farg" style="white-space:nowrap;">FIELDTYPE *fieldtype</i>);<p>
<i class="ftype">FIELDTYPE *</i><br>
<b class="fname">link_fieldtype</b>(<i class="farg" style="white-space:nowrap;">FIELDTYPE *type1</i>, <i class="farg" style="white-space:nowrap;">FIELDTYPE *type2</i>);<p>
<i class="ftype">FIELDTYPE *</i><br>
<b class="fname">new_fieldtype</b>(<i class="farg">int (*field_check)(FIELD *, char *)</i>, <i class="farg">int (*char_check)(int, char *)</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">set_fieldtype_arg</b>(<i class="farg">FIELDTYPE *fieldtype</i>, <i class="farg">char * (*make_args)(va_list *)</i>, <i class="farg">char * (*copy_args)(char *)</i>, <i class="farg">void (*free_args)(char *)</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">set_fieldtype_choice</b>(<i class="farg">FIELDTYPE *fieldtype</i>, <i class="farg">int (*next_choice)(FIELD *, char *)</i>, <i class="farg">int (*prev_choice)(FIELD *, char *)</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The function <b class="fname">free_fieldtype</b>() frees the storage associated with the field type and destroys it. The function <b class="fname">link_fieldtype</b>() links together the two given field types to produce a new field type. A new field type can be created by calling <b class="fname">new_fieldtype</b>() which requires pointers to two functions which perform validation, the <i class="farg">field_check</i> function must validate the field contents and return <span class="define">TRUE</span> if they are acceptable and <span class="define">FALSE</span> if they are not. The <i class="farg">char_check</i> validates the character input into the field, this function will be called for each character entered, if the character can be entered into the field then <i class="farg">char_check</i> must return <span class="define">TRUE</span>. Neither <i class="farg">field_check</i> nor <i class="farg">char_check</i> may be <span class="define">NULL</span>. The functions for handling the field type arguments can be defined by using the <b class="fname">set_fieldtype_arg</b>() function, the <i class="farg">make_args</i> function is used to create new arguments for the fieldtype, the <i class="farg">copy_args</i> is used to copy the fieldtype arguments to a new arguments structure and <i class="farg">free_args</i> is used to destroy the fieldtype arguments and release any associated storage, none of these function pointers may be <span class="define">NULL</span>. The field type choice functions can be set by calling <b class="fname">set_fieldtype_choice</b>(), the <i class="farg">next_choice</i> and <i class="farg">prev_choice</i> specify the next and previous choice functions for the field type. These functions must perform the necessary actions to select the next or previous choice for the field, updating the field buffer if necessary. The choice functions must return <span class="define">TRUE</span> if the function succeeded and <span class="define">FALSE</span> otherwise.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Functions returning pointers will return <span class="define">NULL</span> if an error is detected. The functions that return an int will return one of the following error values:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_OK</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The function was successful.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_BAD_ARGUMENT</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The function was passed a bad argument.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_CONNECTED</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The field is connected to a form.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/curses">curses(3)</a>, <a class="link-man" href="../3/forms">forms(3)</a></div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> The header <b class="includes">&lt;<a class="link-includes">form.h</a>&gt;</b> automatically includes both <b class="includes">&lt;<a class="link-includes">curses.h</a>&gt;</b> and <b class="includes">&lt;<a class="link-includes">eti.h</a>&gt;</b>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 1, 2001</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

