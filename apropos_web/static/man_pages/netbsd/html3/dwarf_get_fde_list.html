<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
DWARF_GET_FDE_LIST(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DWARF_GET_FDE_LIST(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
DWARF_GET_FDE_LIST(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dwarf_get_fde_list</b> &#8212; <span class="desc">retrieve frame information</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">DWARF Access Library (libdwarf, &#45;ldwarf)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">libdwarf.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">dwarf_get_fde_list</b>(<i class="farg">Dwarf_Debug dbg</i>, <i class="farg">Dwarf_Cie **cie_list</i>, <i class="farg">Dwarf_Signed *cie_count</i>, <i class="farg">Dwarf_Fde **fde_list</i>, <i class="farg">Dwarf_Signed *fde_count</i>, <i class="farg">Dwarf_Error *err</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">dwarf_get_fde_list_eh</b>(<i class="farg">Dwarf_Debug dbg</i>, <i class="farg">Dwarf_Cie **cie_list</i>, <i class="farg">Dwarf_Signed *cie_count</i>, <i class="farg">Dwarf_Fde **fde_list</i>, <i class="farg">Dwarf_Signed *fde_count</i>, <i class="farg">Dwarf_Error *err</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions retrieve frame related information for the specified DWARF debug context.<p>
Function <b class="fname">dwarf_get_fde_list</b>() retrieves frame information from the DWARF section named &#8220;.debug_frame&#8221;. For objects containing GNU style C++ exception handling information, the function <b class="fname">dwarf_get_fde_list_eh</b>() retrieves frame information from the section named &#8220;.eh_frame&#8221;.<p>
Frame information is returned using opaque descriptors of type <span class="type">Dwarf_Cie</span> and <span class="type">Dwarf_Fde</span>. Applications need to use the other frame related functions in the DWARF(3) API set to retrieve the information contained in these descriptors.<p>
Argument <i class="arg">dbg</i> should reference a DWARF debug context allocated using <a class="link-man" href="../html3/dwarf_init.html">dwarf_init(3)</a>.<p>
Argument <i class="arg">cie_list</i> should point to a location that will be set to a pointer to an array of <span class="type">Dwarf_Cie</span> descriptors.<p>
Argument <i class="arg">cie_count</i> should point to a location that will be set to the number of <span class="type">Dwarf_Cie</span> descriptors returned.<p>
Argument <i class="arg">fde_list</i> should point to a location that will be set to a pointer to an array of <span class="type">Dwarf_Fde</span> descriptors.<p>
Argument <i class="arg">fde_count</i> should point to a location that will be set to the number of <span class="type">Dwarf_Fde</span> descriptors returned.<p>
If argument <i class="arg">err</i> is not NULL, it will be used to store error information in case of an error.<div class="subsection">
<h2 id="x4d656d6f7279204d616e6167656d656e74">Memory Management</h2> The memory areas used for the arrays returned in arguments <i class="arg">cie_list</i> and <i class="arg">fde_list</i> are owned by the <span class="lib">DWARF Access Library (libdwarf, &#45;ldwarf)</span>. Application code should not attempt to directly free these areas. Portable applications should instead use the <a class="link-man" href="../html3/dwarf_fde_cie_list_dealloc.html">dwarf_fde_cie_list_dealloc(3)</a> function to indicate that these memory areas may be freed.</div>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> On success, these functions returns <span class="define">DW_DLV_OK</span>. They return <span class="define">DW_DLV_NO_ENTRY</span> if there is no frame information associated with the given DWARF debug context. In case of an error, they return <span class="define">DW_DLV_ERROR</span> and set the argument <i class="arg">err</i>.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> These functions may fail with the following errors:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">DW_DLE_ARGUMENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
One of the arguments <b class="var">dbg</b>, <b class="var">cie_list</b>, <b class="var">cie_count</b>, <b class="var">fde_list</b> or <b class="var">fde_count</b> was NULL.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">DW_DLE_NO_ENTRY</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
There is no frame information associated with the giving DWARF debug context.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c45">EXAMPLE</h1> To obtain frame information from the &#8220;.debug_frame&#8221; section, use:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
Dwarf_Debug dbg; 
Dwarf_Cie *cie_list, cie; 
Dwarf_Fde *fde_list, fde; 
Dwarf_Off fde_offset, cie_offset; 
Dwarf_Unsigned func_len, fde_length, fde_instlen; 
Dwarf_Signed cie_count, fde_count, cie_index; 
Dwarf_Addr low_pc; 
Dwarf_Ptr fde_addr, fde_inst, cie_inst; 
Dwarf_Error de; 
int i; 
 
if (dwarf_get_fde_list(dbg, &amp;cie_list, &amp;cie_count, 
    &amp;fde_list, &amp;fde_count, &amp;de) != DW_DLV_OK) { 
	errx(EXIT_FAILURE, "dwarf_get_fde_list failed: %s", 
	    dwarf_errmsg(de)); 
} 
 
for (i = 0; i &lt; fde_count; i++) { 
	if (dwarf_get_fde_n(fde_list, i, &amp;fde, &amp;de) != DW_DLV_OK) { 
		warnx("dwarf_get_fde_n failed: %s", 
		    dwarf_errmsg(de)); 
		continue; 
	} 
	if (dwarf_get_cie_of_fde(fde, &amp;cie, &amp;de) != DW_DLV_OK) { 
		warnx("dwarf_get_fde_n failed: %s", 
		    dwarf_errmsg(de)); 
		continue; 
	} 
	if (dwarf_get_fde_range(fde, &amp;low_pc, &amp;func_len, &amp;fde_addr, 
	    &amp;fde_length, &amp;cie_offset, &amp;cie_index, &amp;fde_offset, 
	    &amp;de) != DW_DLV_OK) { 
		warnx("dwarf_get_fde_range failed: %s", 
		    dwarf_errmsg(de)); 
		continue; 
	} 
	if (dwarf_get_fde_instr_bytes(fde, &amp;fde_inst, &amp;fde_instlen, 
	    &amp;de) != DW_DLV_OK) { 
		warnx("dwarf_get_fde_instr_bytes failed: %s", 
		    dwarf_errmsg(de)); 
		continue; 
	} 
 
	/* ... Use the retrieved frame information ... */ 
} 
 
/* Indicate that the returned arrays may be freed. */ 
dwarf_fde_cie_list_dealloc(dbg, cie_list, cie_count, fde_list, 
    fde_count);</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/dwarf.html">dwarf(3)</a>, <a class="link-man" href="../html3/dwarf_get_cie_index.html">dwarf_get_cie_index(3)</a>, <a class="link-man" href="../html3/dwarf_get_cie_of_fde.html">dwarf_get_cie_of_fde(3)</a>, <a class="link-man" href="../html3/dwarf_get_fde_at_pc.html">dwarf_get_fde_at_pc(3)</a>, <a class="link-man" href="../html3/dwarf_get_fde_instr_bytes.html">dwarf_get_fde_instr_bytes(3)</a>, <a class="link-man" href="../html3/dwarf_get_fde_n.html">dwarf_get_fde_n(3)</a>, <a class="link-man" href="../html3/dwarf_get_fde_range.html">dwarf_get_fde_range(3)</a>, <a class="link-man" href="../html3/dwarf_fde_cie_list_dealloc.html">dwarf_fde_cie_list_dealloc(3)</a>, <a class="link-man" href="../html3/dwarf_set_frame_cfa_value.html">dwarf_set_frame_cfa_value(3)</a>, <a class="link-man" href="../html3/dwarf_set_frame_rule_table_size.html">dwarf_set_frame_rule_table_size(3)</a>, <a class="link-man" href="../html3/dwarf_set_frame_rule_initial_value.html">dwarf_set_frame_rule_initial_value(3)</a>, <a class="link-man" href="../html3/dwarf_set_frame_same_value.html">dwarf_set_frame_same_value(3)</a>, <a class="link-man" href="../html3/dwarf_set_frame_undefined_value.html">dwarf_set_frame_undefined_value(3)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 9, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

