<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
QSORT(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
QSORT(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
QSORT(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">qsort</b>, <b class="name">heapsort</b>, <b class="name">mergesort</b> &#8212; <span class="desc">sort functions</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">stdlib.h</a>&gt;</b><p>
<i class="ftype">void</i><br>
<b class="fname">qsort</b>(<i class="farg" style="white-space:nowrap;">void *base</i>, <i class="farg" style="white-space:nowrap;">size_t nmemb</i>, <i class="farg" style="white-space:nowrap;">size_t size</i>, <i class="farg" style="white-space:nowrap;">int (*compar)(const void *, const void *)</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">heapsort</b>(<i class="farg" style="white-space:nowrap;">void *base</i>, <i class="farg" style="white-space:nowrap;">size_t nmemb</i>, <i class="farg" style="white-space:nowrap;">size_t size</i>, <i class="farg" style="white-space:nowrap;">int (*compar)(const void *, const void *)</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">mergesort</b>(<i class="farg" style="white-space:nowrap;">void *base</i>, <i class="farg" style="white-space:nowrap;">size_t nmemb</i>, <i class="farg" style="white-space:nowrap;">size_t size</i>, <i class="farg" style="white-space:nowrap;">int (*compar)(const void *, const void *)</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">qsort</b>() function is a modified partition-exchange sort, or quicksort. The <b class="fname">heapsort</b>() function is a modified selection sort. The <b class="fname">mergesort</b>() function is a modified merge sort with exponential search intended for sorting data with pre-existing order.<p>
The <b class="fname">qsort</b>() and <b class="fname">heapsort</b>() functions sort an array of <i class="farg">nmemb</i> objects, the initial member of which is pointed to by <i class="farg">base</i>. The size of each object is specified by <i class="farg">size</i>. <b class="fname">mergesort</b>() behaves similarly, but <span class="emph">requires</span> that <i class="farg">size</i> be greater than &#8220;sizeof(void *) / 2&#8221;.<p>
The contents of the array <i class="farg">base</i> are sorted in ascending order according to a comparison function pointed to by <i class="farg">compar</i>, which requires two arguments pointing to the objects being compared.<p>
The comparison function must return an integer less than, equal to, or greater than zero if the first argument is considered to be respectively less than, equal to, or greater than the second.<p>
The functions <b class="fname">qsort</b>() and <b class="fname">heapsort</b>() are <span class="emph">not</span> stable, that is, if two members compare as equal, their order in the sorted array is undefined. The function <b class="fname">mergesort</b>() is stable.<p>
The <b class="fname">qsort</b>() function is an implementation of C.A.R. Hoare's ``quicksort'' algorithm, a variant of partition-exchange sorting; in particular, see D.E. Knuth's Algorithm Q. <b class="fname">qsort</b>() takes O N lg N average time. This implementation uses median selection to avoid its O N**2 worst-case behavior.<p>
The <b class="fname">heapsort</b>() function is an implementation of J.W.J. William's ``heapsort'' algorithm, a variant of selection sorting; in particular, see D.E. Knuth's Algorithm H. <b class="fname">heapsort</b>() takes O N lg N worst-case time. Its <span class="emph">only</span> advantage over <b class="fname">qsort</b>() is that it uses almost no additional memory; while <b class="fname">qsort</b>() does not allocate memory, it is implemented using recursion.<p>
The function <b class="fname">mergesort</b>() requires additional memory of size <i class="farg">nmemb *</i> <i class="farg">size</i> bytes; it should be used only when space is not at a premium. <b class="fname">mergesort</b>() is optimized for data with pre-existing order; its worst case time is O N lg N; its best case is O N.<p>
Normally, <b class="fname">qsort</b>() is faster than <b class="fname">mergesort</b>() is faster than <b class="fname">heapsort</b>(). Memory availability and pre-existing order in the data can make this untrue.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">qsort</b>() function returns no value.<p>
Upon successful completion, <b class="fname">heapsort</b>() and <b class="fname">mergesort</b>() return 0. Otherwise, they return &#45;1 and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x434f4d5041544942494c495459">COMPATIBILITY</h1> Previous versions of <b class="fname">qsort</b>() did not permit the comparison routine itself to call <b class="fname">qsort</b>(). This is no longer true.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">heapsort</b>() function succeeds unless:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">size</i> argument is zero, or, the <i class="farg">size</i> argument to <b class="fname">mergesort</b>() is less than &#8220;sizeof(void *) / 2&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOMEM</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<b class="fname">heapsort</b>() or <b class="fname">mergesort</b>() were unable to allocate memory.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/sort">sort(1)</a>, <a class="link-man" href="../3/radixsort">radixsort(3)</a><p>
<span class="ref"><span class="ref-auth">Hoare, C.A.R.</span>, <span class="ref-title">Quicksort</span>, <i class="ref-jrnl">The Computer Journal</i>, <span class="ref-vol">5:1</span>, <span class="ref-page">pp. 10-15</span>, <span class="ref-date">1962</span>.</span><p>
<span class="ref"><span class="ref-auth">Williams, J.W.J</span>, <span class="ref-title">Heapsort</span>, <i class="ref-jrnl">Communications of the ACM</i>, <span class="ref-vol">7:1</span>, <span class="ref-page">pp. 347-348</span>, <span class="ref-date">1964</span>.</span><p>
<span class="ref"><span class="ref-auth">Knuth, D.E.</span>, <span class="ref-title">Sorting and Searching</span>, <i class="ref-book">The Art of Computer Programming</i>, <span class="ref-vol">Vol. 3</span>, <span class="ref-page">pp. 114-123, 145-149</span>, <span class="ref-date">1968</span>.</span><p>
<span class="ref"><span class="ref-auth">McIlroy, P.M.</span>, <span class="ref-title">Optimistic Sorting and Information Theoretic Complexity</span>, <i class="ref-jrnl">Proceedings of the Fourth Annual ACM-SIAM Symposium on Discrete Algorithms</i>, <span class="ref-page">pp. 467-474</span>, <span class="ref-date">1993</span>.</span><p>
<span class="ref"><span class="ref-auth">Bentley, J.L. and McIlroy, M.D.</span>, <span class="ref-title">Engineering a Sort Function</span>, <i class="ref-jrnl">Software-Practice and Experience</i>, <span class="ref-vol">Vol. 23</span>, <span class="ref-page">pp. 1249-1265</span>, <span class="ref-date">1993</span>.</span></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">qsort</b>() function conforms to ANSI X3.159-1989 (&#8220;ANSI&#160;C89&#8221;).</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 4, 1993</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

