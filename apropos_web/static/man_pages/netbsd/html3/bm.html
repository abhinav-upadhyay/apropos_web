<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
BM(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
BM(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
BM(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">bm_comp</b>, <b class="name">bm_exec</b>, <b class="name">bm_free</b> &#8212; <span class="desc">Boyer-Moore string search</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">bm.h</a>&gt;</b><p>
<i class="ftype">bm_pat *</i><br>
<b class="fname">bm_comp</b>(<i class="farg" style="white-space:nowrap;">u_char *pattern</i>, <i class="farg" style="white-space:nowrap;">size_t patlen</i>, <i class="farg" style="white-space:nowrap;">u_char freq[256]</i>);<p>
<i class="ftype">u_char *</i><br>
<b class="fname">bm_exec</b>(<i class="farg" style="white-space:nowrap;">bm_pat *pdesc</i>, <i class="farg" style="white-space:nowrap;">u_char *text</i>, <i class="farg" style="white-space:nowrap;">size_t len</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">bm_free</b>(<i class="farg" style="white-space:nowrap;">bm_pat *pdesc</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These routines implement an efficient mechanism to find an occurrence of a byte string within another byte string.<p>
<b class="fname">bm_comp</b>() evaluates the <i class="farg">patlen</i> bytes starting at <i class="farg">pattern</i>, and returns a pointer to a structure describing them. The bytes referenced by <i class="farg">pattern</i> may be of any value.<p>
The search takes advantage of the frequency distribution of the bytes in the text to be searched. If specified, <i class="farg">freq</i> should be an array of 256 values, with higher values indicating that the corresponding character occurs more frequently. (A less than optimal frequency distribution can only result in less than optimal performance, not incorrect results.) If <i class="farg">freq</i> is <span class="define">NULL</span>, a system default table is used.<p>
<b class="fname">bm_exec</b>() returns a pointer to the leftmost occurrence of the string given to <b class="fname">bm_comp</b>() within <i class="farg">text</i>, or <span class="define">NULL</span> if none occurs. The number of bytes in <i class="farg">text</i> must be specified by <i class="farg">len</i>.<p>
Space allocated for the returned description is discarded by calling <b class="fname">bm_free</b>() with the returned description as an argument.<p>
The asymptotic speed of <b class="fname">bm_exec</b>() is O(len/patlen).</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/regexp">regexp(3)</a>, <a class="link-man" href="../3/strstr">strstr(3)</a><p>
<span class="ref"><span class="ref-auth">Hume and Sunday</span>, <span class="ref-title">Fast String Searching</span>, <i class="ref-jrnl">Software Practice and Experience</i>, <span class="ref-vol">Vol. 21, 11</span>, <span class="ref-page">pp. 1221-48</span>, <span class="ref-date">November 1991</span>.</span></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 8, 2001</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

