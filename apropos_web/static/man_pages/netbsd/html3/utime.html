<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
UTIME(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
UTIME(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
UTIME(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">utime</b> &#8212; <span class="desc">set file times</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">utime.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">utime</b>(<i class="farg" style="white-space:nowrap;">const char *file</i>, <i class="farg" style="white-space:nowrap;">const struct utimbuf *timep</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="symb" style="display:inline;margin-left: 1.00ex;">
This interface is obsoleted by <a class="link-man" href="../2/utimes">utimes(2)</a>.</div>
<p>
The <b class="fname">utime</b>() function sets the access and modification times of the named file.<p>
If <i class="farg">timep</i> is <span class="define">NULL</span>, the access and modification times are set to the current time. The calling process must be the owner of the file or have permission to write the file.<p>
If <i class="farg">timep</i> is non-<span class="define">NULL</span>, <i class="farg">time</i> is assumed to be a pointer to a utimbuf structure, as defined in <b class="includes">&lt;<a class="link-includes">utime.h</a>&gt;</b>:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
struct utimbuf { 
	time_t actime;          /* Access time */ 
	time_t modtime;         /* Modification time */ 
};</pre>
<p>
The access time is set to the value of the actime member, and the modification time is set to the value of the modtime member. The times are measured in seconds since 0 hours, 0 minutes, 0 seconds, January 1, 1970 Coordinated Universal Time (UTC). The calling process must be the owner of the file or be the super-user.<p>
In either case, the inode-change-time of the file is set to the current time.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Upon successful completion, a value of 0 is returned. Otherwise, a value of &#45;1 is returned and <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">utime</b>() will fail if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EACCES</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Search permission is denied for a component of the path prefix; or the <i class="farg">times</i> argument is <span class="define">NULL</span> and the effective user ID of the process does not match the owner of the file, and is not the super-user, and write access is denied.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EFAULT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">file</i> or <i class="farg">times</i> points outside the process's allocated address space.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The pathname contains a character with the high-order bit set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EIO</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
An I/O error occurred while reading or writing the affected inode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELOOP</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Too many symbolic links were encountered in translating the pathname.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENAMETOOLONG</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
A component of a pathname exceeded &#123;<span class="define">NAME_MAX</span>&#125; characters, or an entire path name exceeded &#123;<span class="define">PATH_MAX</span>&#125; characters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The named file does not exist.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOTDIR</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
A component of the path prefix is not a directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EPERM</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">times</i> argument is not <span class="define">NULL</span> and the calling process's effective user ID does not match the owner of the file and is not the super-user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EROFS</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The file system containing the file is mounted read-only.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/stat">stat(2)</a>, <a class="link-man" href="../2/utimes">utimes(2)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">utime</b>() function conforms to IEEE Std 1003.1-1990 (&#8220;POSIX.1&#8221;). It was however marked as legacy in the IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) revision of the standard.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="fname">utime</b>() function appeared in Version&#160;7 AT&amp;T UNIX.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 29, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

