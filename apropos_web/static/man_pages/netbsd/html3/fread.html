<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
FREAD(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
FREAD(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
FREAD(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">fread</b>, <b class="name">fwrite</b> &#8212; <span class="desc">binary stream input/output</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">stdio.h</a>&gt;</b><p>
<i class="ftype">size_t</i><br>
<b class="fname">fread</b>(<i class="farg" style="white-space:nowrap;">void * restrict ptr</i>, <i class="farg" style="white-space:nowrap;">size_t size</i>, <i class="farg" style="white-space:nowrap;">size_t nmemb</i>, <i class="farg" style="white-space:nowrap;">FILE * restrict stream</i>);<p>
<i class="ftype">size_t</i><br>
<b class="fname">fwrite</b>(<i class="farg" style="white-space:nowrap;">const void * restrict ptr</i>, <i class="farg" style="white-space:nowrap;">size_t size</i>, <i class="farg" style="white-space:nowrap;">size_t nmemb</i>, <i class="farg" style="white-space:nowrap;">FILE * restrict stream</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The function <b class="fname">fread</b>() reads <i class="farg">nmemb</i> objects, each <i class="farg">size</i> bytes long, from the stream pointed to by <i class="farg">stream</i>, storing them at the location given by <i class="farg">ptr</i>.<p>
The function <b class="fname">fwrite</b>() writes <i class="farg">nmemb</i> objects, each <i class="farg">size</i> bytes long, to the stream pointed to by <i class="farg">stream</i>, obtaining them from the location given by <i class="farg">ptr</i>.<p>
Mixing <b class="fname">fread</b>() and <b class="fname">fwrite</b>() calls without setting the file position explicitly using <a class="link-man" href="../3/fsetpos">fsetpos(3)</a> between read and write or write and read operations will lead to unexpected results because of buffering the file pointer not being set to the expected position after each operation completes. This behavior is allowed by ANSI C for efficiency and it will not be changed.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The functions <b class="fname">fread</b>() and <b class="fname">fwrite</b>() advance the file position indicator for the stream by the number of bytes read or written. They return the number of objects read or written. If <i class="farg">size</i> or <i class="farg">nmemb</i> is 0, the functions return 0 and the state of <i class="farg">stream</i> remains unchanged. If an error occurs, or the end-of-file is reached, the return value is a short object count (or zero).<p>
The function <b class="fname">fread</b>() does not distinguish between end-of-file and error, and callers must use <a class="link-man" href="../3/feof">feof(3)</a> and <a class="link-man" href="../3/ferror">ferror(3)</a> to determine which occurred. The function <b class="fname">fwrite</b>() returns a value less than <i class="farg">nmemb</i> only if a write error has occurred.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/read">read(2)</a>, <a class="link-man" href="../2/write">write(2)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The functions <b class="fname">fread</b>() and <b class="fname">fwrite</b>() conform to ANSI X3.159-1989 (&#8220;ANSI&#160;C89&#8221;).</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
September 11, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

