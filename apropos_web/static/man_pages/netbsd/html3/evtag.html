<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
evtag(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
evtag(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
evtag(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> evtag &#45;<p>
Helper functions for reading and writing tagged data onto buffers.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1> #include &lt;event2/tag.h&gt;<div style="height: 0.00em;">
&#160;</div>
#include &lt;event2/event-config.h&gt;<div style="height: 0.00em;">
&#160;</div>
#include &lt;event2/util.h&gt;<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>Functions</h2><br>
int <b>evtag_consume</b> (struct <b>evbuffer</b> *evbuf)<div style="height: 0.00em;">
&#160;</div>
void <b>evtag_encode_int</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t number)<div style="height: 0.00em;">
&#160;</div>
<i>Encode an integer and store it in an evbuffer. </i> void  <b>evtag_encode_int64</b> (struct <b>evbuffer</b> *evbuf, ev_uint64_t number)<div style="height: 0.00em;">
&#160;</div>
void <b>evtag_init</b> (void)<div style="height: 0.00em;">
&#160;</div>
void <b>evtag_marshal</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t tag, const void *data, ev_uint32_t len)<div style="height: 0.00em;">
&#160;</div>
void <b>evtag_marshal_buffer</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t tag, struct <b>evbuffer</b> *data)<div style="height: 0.00em;">
&#160;</div>
void <b>evtag_marshal_int</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t tag, ev_uint32_t integer)<div style="height: 0.00em;">
&#160;</div>
void <b>evtag_marshal_int64</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t tag, ev_uint64_t integer)<div style="height: 0.00em;">
&#160;</div>
void <b>evtag_marshal_string</b> (struct <b>evbuffer</b> *buf, ev_uint32_t tag, const char *string)<div style="height: 0.00em;">
&#160;</div>
void <b>evtag_marshal_timeval</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t tag, struct timeval *tv)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_payload_length</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t *plength)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_peek</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t *ptag)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_peek_length</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t *plength)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_unmarshal</b> (struct <b>evbuffer</b> *src, ev_uint32_t *ptag, struct <b>evbuffer</b> *dst)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_unmarshal_fixed</b> (struct <b>evbuffer</b> *src, ev_uint32_t need_tag, void *data, size_t len)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_unmarshal_header</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t *ptag)<div style="height: 0.00em;">
&#160;</div>
<i>Unmarshals the header and returns the length of the payload. </i> int  <b>evtag_unmarshal_int</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t need_tag, ev_uint32_t *pinteger)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_unmarshal_int64</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t need_tag, ev_uint64_t *pinteger)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_unmarshal_string</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t need_tag, char **pstring)<div style="height: 0.00em;">
&#160;</div>
int <b>evtag_unmarshal_timeval</b> (struct <b>evbuffer</b> *evbuf, ev_uint32_t need_tag, struct timeval *ptv)<div style="height: 0.00em;">
&#160;</div>
<br>
</div>
</div>
<div class="section">
<h1>Detailed Description</h1> Helper functions for reading and writing tagged data onto buffers.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>Function Documentation</h1><div class="subsection">
<h2>void evtag_encode_int (struct <b>evbuffer</b> *evbuf, ev_uint32_tnumber)</h2> Encode an integer and store it in an evbuffer. We encode integers by nybbles; the first nibble contains the number of significant nibbles - 1; this allows us to encode up to 64-bit integers. This function is byte-order independent.<p>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>evbuf</i> evbuffer to store the encoded number<div style="height: 0.00em;">
&#160;</div>
<i>number</i> a 32-bit integer</div>
<p>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>int evtag_unmarshal_header (struct <b>evbuffer</b> *evbuf, ev_uint32_t *ptag)</h2> Unmarshals the header and returns the length of the payload.<p>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>evbuf</i> the buffer from which to unmarshal data<div style="height: 0.00em;">
&#160;</div>
<i>ptag</i> a pointer in which the tag id is being stored</div>
<p>
<b>Returns:</b><div style="margin-left: 4.00ex;">
-1 on failure or the number of bytes in the remaining payload.</div>
<p>
<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>Author</h1> Generated automatically by Doxygen for libevent from the source code.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
Tue Jan 27 2015</td>
<td class="foot-os" align="right">
libevent</td>
</tr>
</table>
</div>
</body>
</html>

