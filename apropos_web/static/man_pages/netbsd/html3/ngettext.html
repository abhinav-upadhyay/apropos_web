<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
GETTEXT(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
GETTEXT(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
GETTEXT(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">gettext</b>, <b class="name">dgettext</b>, <b class="name">ngettext</b>, <b class="name">dngettext</b>, <b class="name">textdomain</b>, <b class="name">bindtextdomain</b>, <b class="name">bind_textdomain_codeset</b>, <b class="name">dcgettext</b>, <b class="name">dcngettext</b> &#8212; <span class="desc">message handling functions</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Internationalized Message Handling Library (libintl, &#45;lintl)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">libintl.h</a>&gt;</b><p>
<i class="ftype">char *</i><br>
<b class="fname">gettext</b>(<i class="farg" style="white-space:nowrap;">const char *msgid</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">dgettext</b>(<i class="farg" style="white-space:nowrap;">const char *domainname</i>, <i class="farg" style="white-space:nowrap;">const char *msgid</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">ngettext</b>(<i class="farg" style="white-space:nowrap;">const char *msgid1</i>, <i class="farg" style="white-space:nowrap;">const char *msgid2</i>, <i class="farg" style="white-space:nowrap;">unsigned long int n</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">dngettext</b>(<i class="farg" style="white-space:nowrap;">const char *domainname</i>, <i class="farg" style="white-space:nowrap;">const char *msgid1</i>, <i class="farg" style="white-space:nowrap;">const char *msgid2</i>, <i class="farg" style="white-space:nowrap;">unsigned long int n</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">textdomain</b>(<i class="farg" style="white-space:nowrap;">const char *domainname</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">bindtextdomain</b>(<i class="farg" style="white-space:nowrap;">const char *domainname</i>, <i class="farg" style="white-space:nowrap;">const char *dirname</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">bind_textdomain_codeset</b>(<i class="farg" style="white-space:nowrap;">const char *domainname</i>, <i class="farg" style="white-space:nowrap;">const char *codeset</i>);<p>
<b class="includes">#include &lt;<a class="link-includes">libintl.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">locale.h</a>&gt;</b><p>
<i class="ftype">char *</i><br>
<b class="fname">dcgettext</b>(<i class="farg" style="white-space:nowrap;">const char *domainname</i>, <i class="farg" style="white-space:nowrap;">const char *msgid</i>, <i class="farg" style="white-space:nowrap;">int category</i>);<p>
<i class="ftype">char *</i><br>
<b class="fname">dcngettext</b>(<i class="farg" style="white-space:nowrap;">const char *domainname</i>, <i class="farg" style="white-space:nowrap;">const char *msgid1</i>, <i class="farg" style="white-space:nowrap;">const char *msgid2</i>, <i class="farg" style="white-space:nowrap;">unsigned long int n</i>, <i class="farg" style="white-space:nowrap;">int category</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">gettext</b>(), <b class="fname">dgettext</b>(), and <b class="fname">dcgettext</b>() functions attempt to retrieve a target string based on the specified <i class="farg">msgid</i> argument within the context of a specific domain and the current locale. The length of strings returned by <b class="fname">gettext</b>(), <b class="fname">dgettext</b>(), and <b class="fname">dcgettext</b>() is undetermined until the function is called. The <i class="farg">msgid</i> argument is a nul-terminated string.<p>
The <b class="fname">ngettext</b>(), <b class="fname">dngettext</b>(), and <b class="fname">dcngettext</b>() functions are equivalent to <b class="fname">gettext</b>(), <b class="fname">dgettext</b>(), and <b class="fname">dcgettext</b>(), respectively, except for the handling of plural forms. The <b class="fname">ngettext</b>(), <b class="fname">dngettext</b>(), and <b class="fname">dcngettext</b>() functions search for the message string using the <i class="farg">msgid1</i> argument as the key, using the argument <i class="farg">n</i> to determine the plural form. If no message catalogs are found, <i class="farg">msgid1</i> is returned if <i class="farg">n</i> <code class="lit">== 1</code>, otherwise <i class="farg">msgid2</i> is returned.<p>
The <span class="define">LANGUAGE</span> environment variable is examined first to determine the message catalogs to be used. The value of the <span class="define">LANGUAGE</span> environment variable is a list of locale names separated by colon (:) character. If the <span class="define">LANGUAGE</span> environment variable is defined, each locale name is tried in the specified order and if a message catalog containing the requested message is found, the message is returned. If the <span class="define">LANGUAGE</span> environment variable is defined but failed to locate a message catalog, the <i class="farg">msgid</i> string will be returned.<p>
If the <span class="define">LANGUAGE</span> environment variable is not defined, <span class="define">LC_ALL</span>, <span class="define">LC_xxx</span>, and <span class="define">LANG</span> environment variables are examined to locate the message catalog, following the convention used by the <a class="link-man" href="../3/setlocale">setlocale(3)</a> function.<p>
The pathname used to locate the message catalog is <i class="file">dirname/locale/category/domainname.mo</i>, where dirname is the directory specified by <b class="fname">bindtextdomain</b>(), locale is a locale name determined by the definition of environment variables, <i class="farg">category</i> is <span class="define">LC_MESSAGES</span> if <b class="fname">gettext</b>(), <b class="fname">ngettext</b>(), <b class="fname">dgettext</b>(), or <b class="fname">dngettext</b>() is called, otherwise <span class="define">LC_xxx</span> where the name is the same as the locale category name specified by the <i class="farg">category</i> argument of <b class="fname">dcgettext</b>() or <b class="fname">dcngettext</b>(). <i class="farg">domainname</i> is the name of the domain specified by <b class="fname">textdomain</b>() or the <i class="farg">domainname</i> argument of <b class="fname">dgettext</b>(), <b class="fname">dngettext</b>(), <b class="fname">dcgettext</b>(), or <b class="fname">dcngettext</b>().<p>
For <b class="fname">gettext</b>() and <b class="fname">ngettext</b>(), the domain used is set by the last valid call to <b class="fname">textdomain</b>(). If a valid call to <b class="fname">textdomain</b>() has not been made, the default domain (called messages) is used.<p>
For <b class="fname">dgettext</b>(), <b class="fname">dngettext</b>(), <b class="fname">dcgettext</b>(), and <b class="fname">dcngettext</b>(), the domain used is specified by the <i class="farg">domainname</i> argument. The <i class="farg">domainname</i> argument is equivalent in syntax and meaning to the <i class="farg">domainname</i> argument to <b class="fname">textdomain</b>(), except that the selection of the domain is valid only for the duration of the <b class="fname">dgettext</b>(), <b class="fname">dngettext</b>(), <b class="fname">dcgettext</b>(), or <b class="fname">dcngettext</b>() function call.<p>
The <b class="fname">dcgettext</b>() and <b class="fname">dcngettext</b>() functions require additional argument <i class="farg">category</i> for retrieving message string for other than <span class="define">LC_MESSAGES</span> category. Available value for the <i class="farg">category</i> argument are <span class="define">LC_CTYPE</span>, <span class="define">LC_COLLATE</span>, <span class="define">LC_MESSAGES</span>, <span class="define">LC_MONETARY</span>, <span class="define">LC_NUMERIC</span>, and <span class="define">LC_TIME</span>. The call of <b class="fname">dcgettext</b>(<i class="farg">domainname</i>, <i class="farg">msgid</i>, <i class="farg">LC_MESSAGES</i>) is equivalent to <b class="fname">dgettext</b>(<i class="farg">domainname</i>, <i class="farg">msgid</i>). Note that <span class="define">LC_ALL</span> must not be used.<p>
The <b class="fname">textdomain</b>() function sets or queries the name of the current domain of the active <span class="define">LC_MESSAGES</span> locale category. The <i class="farg">domainname</i> argument is a nul-terminated string that can contain only the characters allowed in legal filenames.<p>
The <i class="farg">domainname</i> argument is the unique name of a domain on the system. If there are multiple versions of the same domain on one system, namespace collisions can be avoided by using <b class="fname">bindtextdomain</b>(). If <b class="fname">textdomain</b>() is not called, a default domain is selected. The setting of domain made by the last valid call to <b class="fname">textdomain</b>() remains valid across subsequent calls to <a class="link-man" href="../3/setlocale">setlocale(3)</a>, and <b class="fname">gettext</b>().<p>
The <i class="farg">domainname</i> argument is applied to the currently active LC_MESSAGES locale.<p>
The current setting of the domain can be queried without affecting the current state of the domain by calling <b class="fname">textdomain</b>() with <i class="farg">domainname</i> set to the <span class="define">NULL</span> pointer. Calling <b class="fname">textdomain</b>() with a <i class="farg">domainname</i> argument of a <span class="define">NULL</span> string sets the domain to the default domain (messages).<p>
The <b class="fname">bindtextdomain</b>() function binds the path predicate for a message domain <i class="farg">domainname</i> to the value contained in dirname. If <i class="farg">domainname</i> is a non-empty string and has not been bound previously, <b class="fname">bindtextdomain</b>() binds <i class="farg">domainname</i> with <i class="farg">dirname</i>.<p>
If <i class="farg">domainname</i> is a non-empty string and has been bound previously, <b class="fname">bindtextdomain</b>() replaces the old binding with dirname. The dirname argument can be an absolute pathname being resolved when <b class="fname">gettext</b>(), <b class="fname">ngettext</b>(), <b class="fname">dgettext</b>(), <b class="fname">dngettext</b>(), <b class="fname">dcgettext</b>(), or <b class="fname">dcngettext</b>() are called. If <i class="farg">domainname</i> is a <span class="define">NULL</span> pointer or an empty string, <b class="fname">bindtextdomain</b>() returns a <span class="define">NULL</span> pointer. If <b class="fname">bindtextdomain</b>() is not called, implementation-defined default directory is used.<p>
The <b class="fname">bind_textdomain_codeset</b>() function can be used to specify the output <i class="farg">codeset</i> for message catalogs for domain <i class="farg">domainname</i>. The <i class="farg">codeset</i> argument must be a valid codeset name which can be used for the <a class="link-man" href="../3/iconv_open">iconv_open(3)</a> function.<p>
If the <i class="farg">codeset</i> argument is the <span class="define">NULL</span> pointer, <b class="fname">bind_textdomain_codeset</b>() returns the currently selected <i class="farg">codeset</i> for the domain with the name <i class="farg">domainname</i>. It returns a <span class="define">NULL</span> pointer if no <i class="farg">codeset</i> has yet been selected.<p>
The <b class="fname">bind_textdomain_codeset</b>() function can be used several times. If used multiple times, with the same <i class="farg">domainname</i> argument, the later call overrides the settings made by the earlier one.<p>
The <b class="fname">bind_textdomain_codeset</b>() function returns a pointer to a string containing the name of the selected <i class="farg">codeset</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/setlocale">setlocale(3)</a>, <a class="link-man" href="../7/nls">nls(7)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The functions are implemented by Citrus project, based on the documentations for GNU gettext.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> <b class="fname">bind_textdomain_codeset</b>() does not work at this moment (it always fails).</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 10, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

