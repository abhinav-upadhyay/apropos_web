<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MQ_UNLINK(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MQ_UNLINK(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
MQ_UNLINK(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">mq_unlink</b> &#8212; <span class="desc">remove a message queue (REALTIME)</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">POSIX Real&#45;time Library (librt, &#45;lrt)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">mqueue.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">mq_unlink</b>(<i class="farg" style="white-space:nowrap;">const char *name</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">mq_unlink</b>() function removes the message queue named by the pathname <i class="farg">name</i>. After a successful call to <b class="fname">mq_unlink</b>() with <i class="farg">name</i>, a call to <a class="link-man" href="../3/mq_open">mq_open(3)</a> with <i class="farg">name</i> fails if the flag <span class="define">O_CREAT</span> is not set in <i class="farg">flags</i>. If one or more processes have the message queue open when <b class="fname">mq_unlink</b>() is called, destruction of the message queue will be postponed until all references to the message queue have been closed.<p>
Calls to <a class="link-man" href="../3/mq_open">mq_open(3)</a> to recreate the message queue may fail until the message queue is actually removed. However, the <b class="fname">mq_unlink</b>() call need not block until all references have been closed; it may return immediately.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Upon successful completion, the function returns a value of zero. Otherwise, the named message queue will be unchanged by this function call, and the function returns a value of &#45;1 and sets the global variable <b class="var">errno</b> to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">mq_unlink</b>() function fails if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EACCES</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Permission is denied to unlink the named message queue.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENAMETOOLONG</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The length of the name argument exceeds &#123;<span class="define">PATH_MAX</span>&#125; or a pathname component is longer than &#123;<span class="define">NAME_MAX</span>&#125;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The named message queue does not exist.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/mq">mq(3)</a>, <a class="link-man" href="../3/mq_open">mq_open(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> This function conforms to the IEEE Std 1003.1-2001 (&#8220;POSIX.1&#8221;) standard.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">mq_unlink</b>() function first appeared in <span class="unix">NetBSD&#160;5.0</span>.</div>
<div class="section">
<h1 id="x434f50595249474854">COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at <a class="link-ext" href="http://www.opengroup.org/unix/online">http://www.opengroup.org/unix/online</a>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 7, 2009</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

