<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MENUS(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MENUS(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
MENUS(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">menus</b> &#8212; <span class="desc">menu library</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Curses Menu Library (libmenu, &#45;lmenu)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">menu.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">menus</b> library provides a terminal independent menu system using the <a class="link-man" href="../3/curses">curses(3)</a> library. Before using the <b class="name">menus</b> functions the terminal must be set up by <a class="link-man" href="../3/curses">curses(3)</a> using the <b class="fname">initscr</b>() function or similar. Programs using <b class="name">menus</b> functions must be linked with the <a class="link-man" href="../3/curses">curses(3)</a> library.<p>
The <b class="name">menus</b> library provides facilities for defining menu items, placing a menu on the terminal screen, assign pre- and post-change operations and setting the attributes of both the menu and its items.<div class="subsection">
<h2 id="x446566696e696e672064656661756c74206174747269627574657320666f72206d656e757320616e64206974656d73">Defining default attributes for menus and items</h2> The <b class="name">menus</b> library allows any settable attribute or option of both the menu and item objects to be defined such that any new menu or item automatically inherits the value as default. Setting the default value will not affect any item or menu that has already been created but will be applied to subsequent objects. To set the default attribute or option the set routine is passed a NULL pointer in the item or menu parameter when calling the set routine. The current default value can be retrieved by calling the get routine with a NULL pointer for the item or menu parameter.<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
function name</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
manual page name</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
current_item</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_current">menu_item_current(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
free_item</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_new">menu_item_new(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
free_menu</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_new">menu_new(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_count</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_items">menu_items(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_description</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_name">menu_item_name(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_index</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_current">menu_item_current(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_init</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_hook">menu_hook(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_name</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_name">menu_item_name(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_opts</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_opts">menu_item_opts(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_opts_off</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_opts">menu_item_opts(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_opts_on</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_opts">menu_item_opts(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_selected</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_value">menu_item_value(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_term</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_hook">menu_hook(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_userptr</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_userptr">menu_item_userptr(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_value</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_value">menu_item_value(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item_visible</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_visible">menu_item_visible(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_back</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_driver</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_driver">menu_driver(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_fore</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_format</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_format">menu_format(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_grey</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_init</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_hook">menu_hook(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_items</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_items">menu_items(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_mark</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_mark">menu_mark(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_opts</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_opts">menu_opts(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_opts_off</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_opts">menu_opts(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_opts_on</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_opts">menu_opts(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_pad</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_pattern</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_pattern">menu_pattern(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_sub</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_win">menu_win(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_term</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_hook">menu_hook(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_unmark</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_mark">menu_mark(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
menu_userptr</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_userptr">menu_userptr(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
men_win</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_win">menu_win(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
new_item</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_new">menu_item_new(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
new_menu</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_new">menu_new(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
pos_menu_cursor</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_cursor">menu_cursor(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
post_menu</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_post">menu_post(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
scale_menu</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_win">menu_win(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_current_item</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_current">menu_item_current(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_item_init</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_hook">menu_hook(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_item_opts</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_opts">menu_item_opts(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_item_term</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_hook">menu_hook(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_item_userptr</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_userptr">menu_item_userptr(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_item_value</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_value">menu_item_value(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_back</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_fore</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_format</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_format">menu_format(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_grey</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_init</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_hook">menu_hook(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_items</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_items">menu_items(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_mark</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_mark">menu_mark(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_opts</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_opts">menu_opts(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_pad</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_pattern</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_pattern">menu_pattern(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_sub</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_win">menu_win(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_term</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_hook">menu_hook(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_unmark</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_mark">menu_mark(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_userptr</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_userptr">menu_userptr(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_menu_win</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_win">menu_win(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
set_top_row</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_current">menu_item_current(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
top_row</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_item_current">menu_item_current(3)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
unpost_menu</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<a class="link-man" href="../3/menu_post">menu_post(3)</a></dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Any function returning a string pointer will return NULL if an error occurs. Functions returning an integer will return one of the following:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_OK</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The function was successful.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_SYSTEM_ERROR</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
There was a system error during the call.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_BAD_ARGUMENT</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
One or more of the arguments passed to the function was incorrect.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_POSTED</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The menu is already posted.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_CONNECTED</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
An item was already connected to a menu.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_BAD_STATE</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The function was called from within an initialization or termination routine.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_NO_ROOM</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The menu does not fit within the subwindow.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_NOT_POSTED</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The menu is not posted.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_UNKNOWN_COMMAND</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The menu driver does not recognize the request passed to it.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_NO_MATCH</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The character search failed to find a match.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_NOT_SELECTABLE</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The item could not be selected.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_NOT_CONNECTED</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The item is not connected to a menu.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="errno">E_REQUEST_DENIED</span></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The menu driver could not process the request.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/curses">curses(3)</a>, <a class="link-man" href="../3/menu_attributes">menu_attributes(3)</a>, <a class="link-man" href="../3/menu_cursor">menu_cursor(3)</a>, <a class="link-man" href="../3/menu_driver">menu_driver(3)</a>, <a class="link-man" href="../3/menu_format">menu_format(3)</a>, <a class="link-man" href="../3/menu_hook">menu_hook(3)</a>, <a class="link-man" href="../3/menu_item_current">menu_item_current(3)</a>, <a class="link-man" href="../3/menu_item_name">menu_item_name(3)</a>, <a class="link-man" href="../3/menu_item_new">menu_item_new(3)</a>, <a class="link-man" href="../3/menu_item_opts">menu_item_opts(3)</a>, <a class="link-man" href="../3/menu_item_userptr">menu_item_userptr(3)</a>, <a class="link-man" href="../3/menu_item_value">menu_item_value(3)</a>, <a class="link-man" href="../3/menu_item_visible">menu_item_visible(3)</a>, <a class="link-man" href="../3/menu_items">menu_items(3)</a>, <a class="link-man" href="../3/menu_mark">menu_mark(3)</a>, <a class="link-man" href="../3/menu_new">menu_new(3)</a>, <a class="link-man" href="../3/menu_opts">menu_opts(3)</a>, <a class="link-man" href="../3/menu_pattern">menu_pattern(3)</a>, <a class="link-man" href="../3/menu_post">menu_post(3)</a>, <a class="link-man" href="../3/menu_userptr">menu_userptr(3)</a>, <a class="link-man" href="../3/menu_win">menu_win(3)</a></div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> This implementation of the menus library does depart in behaviour subtly from the original AT &amp; T implementation. Some of the more notable departures are:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
unmark</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The original implementation did not have a marker for an unmarked field the mark was only displayed next to a field when it had been marked using the REQ_TOGGLE_ITEM. In this implementation a separate marker can be used to indicate an unmarked item. This can be set using set_menu_unmark function. There is no requirement for the mark and unmark strings to be the same length. Room will be left for the longest of the two. The unmark string is optional, if it is not set then menus defaults to the old behaviour.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
item marking</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
In the original implementation the current item was considered selected and hence had the mark string displayed next to it. This implementation does not do this because the Author considers the effect too confusing. Especially in the case of a multiple selection menu because there was no way to tell if the current item is selected or not without shifting off of it. Since the current item is displayed using the foreground attribute it was deemed unnecessary to also display the mark string against the current item.</dd>
</dl>
<p>
The option O_RADIO and the function <b class="fname">item_selected</b>() are <span class="unix">NetBSD</span> extensions and must not be used in portable code.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
September 10, 1999</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

