<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
REXEC(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
REXEC(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
REXEC(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rexec</b> &#8212; <span class="desc">return stream to a remote command</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Compatibility Library (libcompat, &#45;lcompat)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <i class="ftype">int</i><br>
<b class="fname">rexec</b>(<i class="farg" style="white-space:nowrap;">char **ahost</i>, <i class="farg" style="white-space:nowrap;">int inport</i>, <i class="farg" style="white-space:nowrap;">char *user</i>, <i class="farg" style="white-space:nowrap;">char *passwd</i>, <i class="farg" style="white-space:nowrap;">char *cmd</i>, <i class="farg" style="white-space:nowrap;">int *fd2p</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="symb" style="display:inline;margin-left: 1.00ex;">
This interface is obsoleted by <a class="link-man" href="../3/rcmd">rcmd(3)</a>. It is available from the compatibility library, libcompat.</div>
<p>
The <b class="fname">rexec</b>() function looks up the host <i class="farg">*ahost</i> using <a class="link-man" href="../3/gethostbyname">gethostbyname(3)</a>, returning &#45;1 if the host does not exist. Otherwise <i class="farg">*ahost</i> is set to the standard name of the host. If a username and password are both specified, then these are used to authenticate to the foreign host; otherwise the environment and then the user's <i class="file">.netrc</i> file in his home directory are searched for appropriate information. If all this fails, the user is prompted for the information.<p>
The port <i class="farg">inport</i> specifies which well-known DARPA Internet port to use for the connection; the call &#8216;<code class="lit">getservbyname(*qexec*q, *qtcp*q)</code>&#8217; (see <a class="link-man" href="../3/getservent">getservent(3)</a>) will return a pointer to a structure, which contains the necessary port. The protocol for connection is described in detail in <a class="link-man" href="../8/rexecd">rexecd(8)</a>.<p>
If the connection succeeds, a socket in the Internet domain of type <span class="define">SOCK_STREAM</span> is returned to the caller, and given to the remote command as <span class="emph">stdin</span> and <span class="emph">stdout</span>. If <i class="farg">fd2p</i> is non-zero, then an auxiliary channel to a control process will be set up, and a descriptor for it will be placed in <i class="farg">*fd2p</i>. The control process will return diagnostic output from the command (unit 2) on this channel, and will also accept bytes on this channel as being <span class="unix">UNIX</span> signal numbers, to be forwarded to the process group of the command. The diagnostic information returned does not include remote authorization failure, as the secondary connection is set up after authorization has been verified. If <i class="farg">fd2p</i> is 0, then the <span class="emph">stderr</span> (unit 2 of the remote command) will be made the same as the <span class="emph">stdout</span> and no provision is made for sending arbitrary signals to the remote process, although you may be able to get its attention by using out-of-band data.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/rcmd">rcmd(3)</a>, <a class="link-man" href="../8/rexecd">rexecd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">rexec</b>() function appeared in <span class="unix">4.2BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 4, 1993</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

