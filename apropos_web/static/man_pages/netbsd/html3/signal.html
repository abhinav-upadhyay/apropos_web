<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
SIGNAL(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SIGNAL(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
SIGNAL(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">signal</b> &#8212; <span class="desc">simplified software signal facilities</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">signal.h</a>&gt;</b><p>
<i class="ftype">void (*</i><br>
<b class="fname">signal</b>(<i class="farg" style="white-space:nowrap;">int sig</i>, <i class="farg" style="white-space:nowrap;">void (*func)(int)))(int</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This <b class="fname">signal</b>() facility is a simplified interface to the more general <a class="link-man" href="../2/sigaction">sigaction(2)</a> facility.<p>
Signals allow the manipulation of a process from outside its domain as well as allowing the process to manipulate itself or copies of itself (children). There are two general types of signals: those that cause termination of a process and those that do not. Signals which cause termination of a program might result from an irrecoverable error or might be the result of a user at a terminal typing the `interrupt' character. Signals are used when a process is stopped because it wishes to access its control terminal while in the background (see <a class="link-man" href="../4/tty">tty(4)</a>). Signals are optionally generated when a process resumes after being stopped, when the status of child processes changes, or when input is ready at the control terminal. Most signals result in the termination of the process receiving them if no action is taken; some signals instead cause the process receiving them to be stopped, or are simply discarded if the process has not requested otherwise. Except for the <span class="define">SIGKILL</span> and <span class="define">SIGSTOP</span> signals, the <b class="fname">signal</b>() function allows for a signal to be caught, to be ignored, or to generate an interrupt. See <a class="link-man" href="../7/signal">signal(7)</a> for comprehensive list of supported signals.<p>
The <i class="farg">func</i> procedure allows a user to choose the action upon receipt of a signal. To set the default action of the signal to occur as listed above, <i class="farg">func</i> should be <span class="define">SIG_DFL</span>. A <span class="define">SIG_DFL</span> resets the default action. To ignore the signal <i class="farg">func</i> should be <span class="define">SIG_IGN</span>. This will cause subsequent instances of the signal to be ignored and pending instances to be discarded. If <span class="define">SIG_IGN</span> is not used, further occurrences of the signal are automatically blocked and <i class="farg">func</i> is called.<p>
The handled signal is unblocked when the function returns and the process continues from where it left off when the signal occurred.<div class="symb" style="display:inline;margin-left: 1.00ex;">
Unlike previous signal facilities, the handler func() remains installed after a signal has been delivered.</div>
<p>
For some system calls, if a signal is caught while the call is executing and the call is prematurely terminated, the call is automatically restarted. (The handler is installed using the <span class="define">SA_RESTART</span> flag with <a class="link-man" href="../2/sigaction">sigaction(2)</a>). The affected system calls include <a class="link-man" href="../2/read">read(2)</a>, <a class="link-man" href="../2/write">write(2)</a>, <a class="link-man" href="../2/sendto">sendto(2)</a>, <a class="link-man" href="../2/recvfrom">recvfrom(2)</a>, <a class="link-man" href="../2/sendmsg">sendmsg(2)</a> and <a class="link-man" href="../2/recvmsg">recvmsg(2)</a> on a communications channel or a low speed device and during a <a class="link-man" href="../2/ioctl">ioctl(2)</a> or <a class="link-man" href="../2/wait">wait(2)</a>. However, calls that have already committed are not restarted, but instead return a partial success (for example, a short read count).<p>
When a process which has installed signal handlers forks, the child process inherits the signals. All caught signals may be reset to their default action by a call to the <a class="link-man" href="../2/execve">execve(2)</a> function; ignored signals remain ignored.<p>
Only functions that are async-signal-safe can safely be used in signal handlers, see <a class="link-man" href="../7/signal">signal(7)</a> for a complete list.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The previous action is returned on a successful call. Otherwise, <span class="define">SIG_ERR</span> is returned and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">signal</b>() will fail and no action will take place if one of the following occur:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Specified <span class="emph">sig</span> is not a valid signal number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
An attempt is made to ignore or supply a handler for <span class="define">SIGKILL</span> or <span class="define">SIGSTOP</span>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/kill">kill(1)</a>, <a class="link-man" href="../2/kill">kill(2)</a>, <a class="link-man" href="../2/ptrace">ptrace(2)</a>, <a class="link-man" href="../2/sigaction">sigaction(2)</a>, <a class="link-man" href="../2/sigaltstack">sigaltstack(2)</a>, <a class="link-man" href="../2/sigprocmask">sigprocmask(2)</a>, <a class="link-man" href="../2/sigsuspend">sigsuspend(2)</a>, <a class="link-man" href="../3/psignal">psignal(3)</a>, <a class="link-man" href="../3/setjmp">setjmp(3)</a>, <a class="link-man" href="../3/strsignal">strsignal(3)</a>, <a class="link-man" href="../4/tty">tty(4)</a>, <a class="link-man" href="../7/signal">signal(7)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> This <b class="fname">signal</b>() facility appeared in <span class="unix">4.0BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 11, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

