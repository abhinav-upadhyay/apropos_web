<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
DSA_generate_parameters(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DSA_generate_parameters(3)</td>
<td class="head-vol" align="center">
OpenSSL</td>
<td class="head-rtitle" align="right">
DSA_generate_parameters(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> DSA_generate_parameters &#45; generate DSA parameters</div>
<div class="section">
<h1>LIBRARY</h1> libcrypto, -lcrypto</div>
<div class="section">
<h1>SYNOPSIS</h1><br>
 #include &lt;openssl/dsa.h&gt;<br>
<br>
 DSA *DSA_generate_parameters(int bits, unsigned char *seed,<br>
                int seed_len, int *counter_ret, unsigned long *h_ret,<br>
                void (*callback)(int, int, void *), void *cb_arg);<br>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <i>DSA_generate_parameters()</i> generates primes p and q and a generator g for use in the DSA.<p>
<b>bits</b> is the length of the prime to be generated; the DSS allows a maximum of 1024 bits.<p>
If <b>seed</b> is <b>NULL</b> or <b>seed_len</b> &lt; 20, the primes will be generated at random. Otherwise, the seed is used to generate them. If the given seed does not yield a prime q, a new random seed is chosen and placed at  <b>seed</b>.<p>
<i>DSA_generate_parameters()</i> places the iteration count in * <b>counter_ret</b> and a counter used for finding a generator in * <b>h_ret</b>, unless these are <b>NULL</b>.<p>
A callback function may be used to provide feedback about the progress of the key generation. If  <b>callback</b> is not <b>NULL</b>, it will be called as follows:<dl>
<dt>
&#8226;</dt>
<dd>
When a candidate for q is generated, <b>callback(0, m++, cb_arg)</b> is called (m is 0 for the first candidate).</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
When a candidate for q has passed a test by trial division,  <b>callback(1, &#45;1, cb_arg)</b> is called. While a candidate for q is tested by Miller-Rabin primality tests,  <b>callback(1, i, cb_arg)</b> is called in the outer loop (once for each witness that confirms that the candidate may be prime); i is the loop counter (starting at 0).</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
When a prime q has been found, <b>callback(2, 0, cb_arg)</b> and  <b>callback(3, 0, cb_arg)</b> are called.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Before a candidate for p (other than the first) is generated and tested,  <b>callback(0, counter, cb_arg)</b> is called.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
When a candidate for p has passed the test by trial division,  <b>callback(1, &#45;1, cb_arg)</b> is called. While it is tested by the Miller-Rabin primality test,  <b>callback(1, i, cb_arg)</b> is called in the outer loop (once for each witness that confirms that the candidate may be prime). i is the loop counter (starting at 0).</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
When p has been found, <b>callback(2, 1, cb_arg)</b> is called.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
When the generator has been found, <b>callback(3, 1, cb_arg)</b> is called.</dd>
</dl>
</div>
<div class="section">
<h1>RETURN VALUE</h1>  <i>DSA_generate_parameters()</i> returns a pointer to the DSA structure, or  <b>NULL</b> if the parameter generation fails. The error codes can be obtained by  <i>ERR_get_error</i>(3).</div>
<div class="section">
<h1>BUGS</h1> Seed lengths &gt; 20 are not supported.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>openssl_dsa</i>(3), <i>ERR_get_error</i>(3), <i>openssl_rand</i>(3),  <i>DSA_free</i>(3)</div>
<div class="section">
<h1>HISTORY</h1>  <i>DSA_generate_parameters()</i> appeared in SSLeay 0.8. The <b>cb_arg</b> argument was added in SSLeay 0.9.0. In versions up to OpenSSL 0.9.4,  <b>callback(1, ...)</b> was called in the inner loop of the Miller-Rabin test whenever it reached the squaring step (the parameters to  <b>callback</b> did not reveal how many witnesses had been tested); since OpenSSL 0.9.5,  <b>callback(1, ...)</b> is called as in  <i>BN_is_prime</i>(3), i.e. once for each witness.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
2009-07-19</td>
<td class="foot-os" align="right">
1.0.1n</td>
</tr>
</table>
</div>
</body>
</html>

