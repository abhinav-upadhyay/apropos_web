<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
KRB5_ENCRYPT(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
KRB5_ENCRYPT(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
KRB5_ENCRYPT(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">krb5_crypto_getblocksize</b>, <b class="name">krb5_crypto_getconfoundersize</b> <b class="name">krb5_crypto_getenctype</b>, <b class="name">krb5_crypto_getpadsize</b>, <b class="name">krb5_crypto_overhead</b>, <b class="name">krb5_decrypt</b>, <b class="name">krb5_decrypt_EncryptedData</b>, <b class="name">krb5_decrypt_ivec</b>, <b class="name">krb5_decrypt_ticket</b>, <b class="name">krb5_encrypt</b>, <b class="name">krb5_encrypt_EncryptedData</b>, <b class="name">krb5_encrypt_ivec</b>, <b class="name">krb5_enctype_disable</b>, <b class="name">krb5_enctype_keysize</b>, <b class="name">krb5_enctype_to_string</b>, <b class="name">krb5_enctype_valid</b>, <b class="name">krb5_get_wrapped_length</b>, <b class="name">krb5_string_to_enctype</b> &#8212; <span class="desc">encrypt and decrypt data, set and get encryption type parameters</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> Kerberos 5 Library (libkrb5, -lkrb5)</div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">krb5/krb5.h</a>&gt;</b><p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_encrypt</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">unsigned usage</i>, <i class="farg">void *data</i>, <i class="farg">size_t len</i>, <i class="farg">krb5_data *result</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_encrypt_EncryptedData</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">unsigned usage</i>, <i class="farg">void *data</i>, <i class="farg">size_t len</i>, <i class="farg">int kvno</i>, <i class="farg">EncryptedData *result</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_encrypt_ivec</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">unsigned usage</i>, <i class="farg">void *data</i>, <i class="farg">size_t len</i>, <i class="farg">krb5_data *result</i>, <i class="farg">void *ivec</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_decrypt</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">unsigned usage</i>, <i class="farg">void *data</i>, <i class="farg">size_t len</i>, <i class="farg">krb5_data *result</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_decrypt_EncryptedData</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">unsigned usage</i>, <i class="farg">EncryptedData *e</i>, <i class="farg">krb5_data *result</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_decrypt_ivec</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">unsigned usage</i>, <i class="farg">void *data</i>, <i class="farg">size_t len</i>, <i class="farg">krb5_data *result</i>, <i class="farg">void *ivec</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_decrypt_ticket</b>(<i class="farg">krb5_context context</i>, <i class="farg">Ticket *ticket</i>, <i class="farg">krb5_keyblock *key</i>, <i class="farg">EncTicketPart *out</i>, <i class="farg">krb5_flags flags</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_crypto_getblocksize</b>(<i class="farg">krb5_context context</i>, <i class="farg">size_t *blocksize</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_crypto_getenctype</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">krb5_enctype *enctype</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_crypto_getpadsize</b>(<i class="farg">krb5_context context</i>, <i class="farg">size_t</i>, <i class="farg">*padsize"</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_crypto_getconfoundersize</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">size_t</i>, <i class="farg">*confoundersize"</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_enctype_keysize</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_enctype type</i>, <i class="farg">size_t *keysize</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_crypto_overhead</b>(<i class="farg">krb5_context context</i>, <i class="farg">size_t</i>, <i class="farg">*padsize"</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_string_to_enctype</b>(<i class="farg">krb5_context context</i>, <i class="farg">const char *string</i>, <i class="farg">krb5_enctype *etype</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_enctype_to_string</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_enctype etype</i>, <i class="farg">char **string</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_enctype_valid</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_enctype etype</i>);<p>
<i class="ftype">void</i><br>
<b class="fname">krb5_enctype_disable</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_enctype etype</i>);<p>
<i class="ftype">size_t</i><br>
<b class="fname">krb5_get_wrapped_length</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_crypto crypto</i>, <i class="farg">size_t data_len</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions are used to encrypt and decrypt data.<p>
<b class="fname">krb5_encrypt_ivec</b>() puts the encrypted version of <i class="farg">data</i> (of size <i class="farg">len</i>) in <i class="farg">result</i>. If the encryption type supports using derived keys, <i class="farg">usage</i> should be the appropriate key-usage. <i class="farg">ivec</i> is a pointer to a initial IV, it is modified to the end IV at the end of the round. Ivec should be the size of If <span class="define">NULL</span> is passed in, the default IV is used. <b class="fname">krb5_encrypt</b>() does the same as <b class="fname">krb5_encrypt_ivec</b>() but with <i class="farg">ivec</i> being <span class="define">NULL</span>. <b class="fname">krb5_encrypt_EncryptedData</b>() does the same as <b class="fname">krb5_encrypt</b>(), but it puts the encrypted data in a <i class="farg">EncryptedData</i> structure instead. If <i class="farg">kvno</i> is not zero, it will be put in the (optional) <i class="farg">kvno</i> field in the <i class="farg">EncryptedData</i>.<p>
<b class="fname">krb5_decrypt_ivec</b>(), <b class="fname">krb5_decrypt</b>(), and <b class="fname">krb5_decrypt_EncryptedData</b>() works similarly.<p>
<b class="fname">krb5_decrypt_ticket</b>() decrypts the encrypted part of <i class="farg">ticket</i> with <i class="farg">key</i>. <b class="fname">krb5_decrypt_ticket</b>() also verifies the timestamp in the ticket, invalid flag and if the KDC haven't verified the transited path, the transit path.<p>
<b class="fname">krb5_enctype_keysize</b>(), <b class="fname">krb5_crypto_getconfoundersize</b>(), <b class="fname">krb5_crypto_getblocksize</b>(), <b class="fname">krb5_crypto_getenctype</b>(), <b class="fname">krb5_crypto_getpadsize</b>(), <b class="fname">krb5_crypto_overhead</b>() all returns various (sometimes) useful information from a crypto context. <b class="fname">krb5_crypto_overhead</b>() is the combination of krb5_crypto_getconfoundersize, krb5_crypto_getblocksize and krb5_crypto_getpadsize and return the maximum overhead size.<p>
<b class="fname">krb5_enctype_to_string</b>() converts a encryption type number to a string that can be printable and stored. The strings returned should be freed with <a class="link-man" href="../html3/free.html">free(3)</a>.<p>
<b class="fname">krb5_string_to_enctype</b>() converts a encryption type strings to a encryption type number that can use used for other Kerberos crypto functions.<p>
<b class="fname">krb5_enctype_valid</b>() returns 0 if the encrypt is supported and not disabled, otherwise and error code is returned.<p>
<b class="fname">krb5_enctype_disable</b>() (globally, for all contextes) disables the <i class="farg">enctype</i>.<p>
<b class="fname">krb5_get_wrapped_length</b>() returns the size of an encrypted packet by <i class="farg">crypto</i> of length <i class="farg">data_len</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/krb5_create_checksum.html">krb5_create_checksum(3)</a>, <a class="link-man" href="../html3/krb5_crypto_init.html">krb5_crypto_init(3)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
March 20, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

