<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
KRB5_SET_DEFAULT_REALM(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
KRB5_SET_DEFAULT_REALM(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
KRB5_SET_DEFAULT_REALM(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">krb5_copy_host_realm</b>, <b class="name">krb5_free_host_realm</b>, <b class="name">krb5_get_default_realm</b>, <b class="name">krb5_get_default_realms</b>, <b class="name">krb5_get_host_realm</b>, <b class="name">krb5_set_default_realm</b> &#8212; <span class="desc">default and host realm read and manipulation routines</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> Kerberos 5 Library (libkrb5, -lkrb5)</div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">krb5/krb5.h</a>&gt;</b><p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_copy_host_realm</b>(<i class="farg">krb5_context context</i>, <i class="farg">const krb5_realm *from</i>, <i class="farg">krb5_realm **to</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_free_host_realm</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_realm *realmlist</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_get_default_realm</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_realm *realm</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_get_default_realms</b>(<i class="farg">krb5_context context</i>, <i class="farg">krb5_realm **realm</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_get_host_realm</b>(<i class="farg">krb5_context context</i>, <i class="farg">const char *host</i>, <i class="farg">krb5_realm **realms</i>);<p>
<i class="ftype">krb5_error_code</i><br>
<b class="fname">krb5_set_default_realm</b>(<i class="farg">krb5_context context</i>, <i class="farg">const char *realm</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">krb5_copy_host_realm</b>() copies the list of realms from <i class="farg">from</i> to <i class="farg">to</i>. <i class="farg">to</i> should be freed by the caller using <i class="farg">krb5_free_host_realm</i>.<p>
<b class="fname">krb5_free_host_realm</b>() frees all memory allocated by <i class="farg">realmlist</i>.<p>
<b class="fname">krb5_get_default_realm</b>() returns the first default realm for this host. The realm returned should be freed with <b class="fname">free</b>().<p>
<b class="fname">krb5_get_default_realms</b>() returns a <span class="define">NULL</span> terminated list of default realms for this context. Realms returned by <b class="fname">krb5_get_default_realms</b>() should be freed with <b class="fname">krb5_free_host_realm</b>().<p>
<b class="fname">krb5_get_host_realm</b>() returns a <span class="define">NULL</span> terminated list of realms for <i class="farg">host</i> by looking up the information in the <code class="lit">[domain_realm]</code> in <i class="file">krb5.conf</i> or in <code class="lit">DNS</code>. If the mapping in <code class="lit">[domain_realm]</code> results in the string <code class="lit">dns_locate</code>, DNS is used to lookup the realm.<p>
When using <code class="lit">DNS</code> to a resolve the domain for the host a.b.c, <b class="fname">krb5_get_host_realm</b>() looks for a <span class="define">TXT</span> resource record named <code class="lit">_kerberos.a.b.c</code>, and if not found, it strips off the first component and tries a again (_kerberos.b.c) until it reaches the root.<p>
If there is no configuration or DNS information found, <b class="fname">krb5_get_host_realm</b>() assumes it can use the domain part of the <i class="farg">host</i> to form a realm. Caller must free <i class="farg">realmlist</i> with <b class="fname">krb5_free_host_realm</b>().<p>
<b class="fname">krb5_set_default_realm</b>() sets the default realm for the <i class="farg">context</i>. If <span class="define">NULL</span> is used as a <i class="farg">realm</i>, the <code class="lit">[libdefaults]default_realm</code> stanza in <i class="file">krb5.conf</i> is used. If there is no such stanza in the configuration file, the <b class="fname">krb5_get_host_realm</b>() function is used to form a default realm.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/free">free(3)</a>, <a class="link-man" href="../5/krb5.conf">krb5.conf(5)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 24, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

