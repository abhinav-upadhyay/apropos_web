<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
INET_NET(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
INET_NET(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
INET_NET(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">inet_net_ntop</b>, <b class="name">inet_net_pton</b> &#8212; <span class="desc">Internet network number manipulation routines</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/socket.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">netinet/in.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">arpa/inet.h</a>&gt;</b><p>
<i class="ftype">char *</i><br>
<b class="fname">inet_net_ntop</b>(<i class="farg" style="white-space:nowrap;">int af</i>, <i class="farg" style="white-space:nowrap;">const void *src</i>, <i class="farg" style="white-space:nowrap;">int bits</i>, <i class="farg" style="white-space:nowrap;">char *dst</i>, <i class="farg" style="white-space:nowrap;">size_t size</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">inet_net_pton</b>(<i class="farg" style="white-space:nowrap;">int af</i>, <i class="farg" style="white-space:nowrap;">const char *src</i>, <i class="farg" style="white-space:nowrap;">void *dst</i>, <i class="farg" style="white-space:nowrap;">size_t size</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">inet_net_ntop</b>() function converts an Internet network number from network format (usually a <span class="type">struct in_addr</span> or some other binary form, in network byte order) to CIDR presentation format (suitable for external display purposes). The <i class="farg">bits</i> argument is the number of bits in <i class="farg">src</i> that are the network number. It returns <span class="define">NULL</span> if an error occurs (in which case <b class="var">errno</b> will have been set), or it returns a pointer to the destination string.<p>
The <b class="fname">inet_net_pton</b>() function converts a presentation format Internet network number (that is, printable form as held in a character string) to network format (usually a <span class="type">struct in_addr</span> or some other internal binary representation, in network byte order). It returns the number of bits (either computed based on the class, or specified with /CIDR), or &#45;1 if a failure occurred (in which case <b class="var">errno</b> will have been set).<p>
The currently supported values for <i class="farg">af</i> are <span class="define">AF_INET</span> and <span class="define">AF_INET6</span>. The <i class="farg">size</i> argument is the size of the result buffer <i class="farg">dst</i>.</div>
<div class="section">
<h1 id="x4e4554574f524b204e554d42455253202849502056455253494f4e203429">NETWORK NUMBERS (IP VERSION 4)</h1> Internet network numbers may be specified in one of the following forms:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
a.b.c.d/bits 
a.b.c.d 
a.b.c 
a.b 
a</pre>
<p>
When four parts are specified, each is interpreted as a byte of data and assigned, from left to right, to the four bytes of an Internet network number. Note that when an Internet network number is viewed as a 32-bit integer quantity on a system that uses little-endian byte order (such as the Intel 386, 486, and Pentium processors) the bytes referred to above appear as &#8220;<code class="lit">d.c.b.a</code>&#8221;. That is, little-endian bytes are ordered from right to left.<p>
When a three part number is specified, the last part is interpreted as a 16-bit quantity and placed in the rightmost two bytes of the Internet network number. This makes the three part number format convenient for specifying Class B network numbers as &#8220;<code class="lit">128.net.host</code>&#8221;.<p>
When a two part number is supplied, the last part is interpreted as a 24-bit quantity and placed in the rightmost three bytes of the Internet network number. This makes the two part number format convenient for specifying Class A network numbers as &#8220;<code class="lit">net.host</code>&#8221;.<p>
When only one part is given, the value is stored directly in the Internet network number without any byte rearrangement.<p>
All numbers supplied as &#8220;parts&#8221; in a &#8216;<code class="lit">.</code>&#8217; notation may be decimal, octal, or hexadecimal, as specified in the C language (i.e., a leading 0x or 0X implies hexadecimal; otherwise, a leading 0 implies octal; otherwise, the number is interpreted as decimal).</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">inet_net_ntop</b>() and <b class="fname">inet_net_pton</b>() functions may fail with<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EAFNOSUPPORT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The value of <i class="farg">af</i> was not <span class="define">AF_INET</span> or <span class="define">AF_INET6</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EMSGSIZE</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The conversion of <i class="farg">src</i> overflows <i class="farg">size</i> of <i class="farg">dst</i>.</dd>
</dl>
<p>
The <b class="fname">inet_net_ntop</b>() function may fail with<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">bits</i> argument contains an invalid number of bits for the requested address family.</dd>
</dl>
<p>
The <b class="fname">inet_net_pton</b>() function may fail with<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">src</i> was not a valid Internet network number.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/byteorder">byteorder(3)</a>, <a class="link-man" href="../3/inet">inet(3)</a>, <a class="link-man" href="../5/networks">networks(5)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">inet_net_ntop</b>() and <b class="fname">inet_net_pton</b>() functions appeared in BIND 4.9.4 and thence <span class="unix">NetBSD&#160;1.3</span>. Support for <span class="define">AF_INET6</span> appeared in <span class="unix">NetBSD&#160;1.6</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 20, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

