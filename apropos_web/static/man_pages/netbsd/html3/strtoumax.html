<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
STRTOUL(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
STRTOUL(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
STRTOUL(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">strtoul</b>, <b class="name">strtoull</b>, <b class="name">strtoumax</b>, <b class="name">strtouq</b> &#8212; <span class="desc">convert a string to an unsigned long, unsigned long long, uintmax_t or uquad_t integer</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">stdlib.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">limits.h</a>&gt;</b><p>
<i class="ftype">unsigned long int</i><br>
<b class="fname">strtoul</b>(<i class="farg" style="white-space:nowrap;">const char * restrict nptr</i>, <i class="farg" style="white-space:nowrap;">char ** restrict endptr</i>, <i class="farg" style="white-space:nowrap;">int base</i>);<p>
<i class="ftype">unsigned long long int</i><br>
<b class="fname">strtoull</b>(<i class="farg" style="white-space:nowrap;">const char * restrict nptr</i>, <i class="farg" style="white-space:nowrap;">char ** restrict endptr</i>, <i class="farg" style="white-space:nowrap;">int base</i>);<p>
<br>
<b class="includes">#include &lt;<a class="link-includes">inttypes.h</a>&gt;</b><p>
<i class="ftype">uintmax_t</i><br>
<b class="fname">strtoumax</b>(<i class="farg" style="white-space:nowrap;">const char * restrict nptr</i>, <i class="farg" style="white-space:nowrap;">char ** restrict endptr</i>, <i class="farg" style="white-space:nowrap;">int base</i>);<p>
<br>
<b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">stdlib.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">limits.h</a>&gt;</b><p>
<i class="ftype">u_quad_t</i><br>
<b class="fname">strtouq</b>(<i class="farg" style="white-space:nowrap;">const char * restrict nptr</i>, <i class="farg" style="white-space:nowrap;">char ** restrict endptr</i>, <i class="farg" style="white-space:nowrap;">int base</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">strtoul</b>() function converts the string in <i class="farg">nptr</i> to an <i class="ftype">unsigned long int</i> value. The <b class="fname">strtoull</b>() function converts the string in <i class="farg">nptr</i> to an <i class="ftype">unsigned long long int</i> value. The <b class="fname">strtoumax</b>() function converts the string in <i class="farg">nptr</i> to an <i class="ftype">uintmax_t</i> value. The <b class="fname">strtouq</b>() function converts the string in <i class="farg">nptr</i> to a <i class="ftype">u_quad_t</i> value.<p>
The conversion is done according to the given <i class="farg">base</i>, which must be between 2 and 36 inclusive, or be the special value 0.<p>
The string may begin with an arbitrary amount of white space (as determined by <a class="link-man" href="../3/isspace">isspace(3)</a>) followed by a single optional &#8216;<code class="lit">+</code>&#8217; or &#8216;<code class="lit">-</code>&#8217; sign. If <i class="farg">base</i> is zero or 16, the string may then include a &#8216;<code class="lit">0x</code>&#8217; prefix, and the number will be read in base 16; otherwise, a zero <i class="farg">base</i> is taken as 10 (decimal) unless the next character is &#8216;<code class="lit">0</code>&#8217;, in which case it is taken as 8 (octal).<p>
The remainder of the string is converted to an appropriate value in the obvious manner, stopping at the end of the string or at the first character that does not produce a valid digit in the given base. (In bases above 10, the letter &#8216;<code class="lit">A</code>&#8217; in either upper or lower case represents 10, &#8216;<code class="lit">B</code>&#8217; represents 11, and so forth, with &#8216;<code class="lit">Z</code>&#8217; representing 35.)<p>
If <i class="farg">endptr</i> is non-nil, the functions store the address of the first invalid character in <i class="farg">*endptr</i>. If there were no digits at all, however, the functions store the original value of <i class="farg">nptr</i> in <i class="farg">*endptr</i>. (Thus, if <i class="farg">*nptr</i> is not &#8216;<code class="lit">&#92;0</code>&#8217; but <i class="farg">**endptr</i> is &#8216;<code class="lit">&#92;0</code>&#8217; on return, the entire string was valid.)</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">strtoul</b>() function returns either the result of the conversion or, if there was a leading minus sign, the negation of the result of the conversion, unless the original (non-negated) value would overflow; in the latter case, <b class="fname">strtoul</b>() returns <span class="define">ULONG_MAX</span>, <b class="fname">strtoull</b>() returns <span class="define">ULLONG_MAX</span>, <b class="fname">strtoumax</b>() returns <span class="define">UINTMAX_MAX</span>, <b class="fname">strtouq</b>() returns <span class="define">UQUAD_MAX</span>, and the global variable <b class="var">errno</b> is set to <span class="errno">ERANGE</span>.<p>
There is no way to determine if <b class="fname">strtoul</b>() has processed a negative number (and returned an unsigned value) short of examining the string in <i class="farg">nptr</i> directly. If the <i class="farg">base</i> argument is not supported then <b class="var">errno</b> is set to <span class="errno">EINVAL</span> and the functions return 0.<p>
If no error occurs, <b class="var">errno</b> is left unchanged. This behavior (which is unlike most library functions) is guaranteed by the pertinent standards.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Because the return value of <b class="fname">strtoul</b>() cannot be used unambiguously to detect an error, <b class="var">errno</b> is left unchanged after a successful call. To ensure that a string is a valid number (i.e., in range and containing no trailing characters), clear <b class="var">errno</b> beforehand explicitly, then check it afterwards:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
char *ep; 
unsigned long ulval; 
 
... 
 
errno = 0; 
ulval = strtoul(buf, &amp;ep, 10); 
if (buf[0] == '&#92;0' || *ep != '&#92;0') 
	goto not_a_number; 
if (errno == ERANGE &amp;&amp; ulval == ULONG_MAX) 
	goto out_of_range;</pre>
<p>
This example will accept &#8220;12&#8221; but not &#8220;12foo&#8221; or &#8220;12&#92;n&#8221;. If trailing whitespace is acceptable, further checks must be done on <b class="var">*ep</b>; alternately, use <a class="link-man" href="../3/sscanf">sscanf(3)</a>.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="arg">base</i> is not between 2 and 36 and does not contain the special value 0.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ERANGE</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The given string was out of range; the value converted has been clamped.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/atof">atof(3)</a>, <a class="link-man" href="../3/atoi">atoi(3)</a>, <a class="link-man" href="../3/atol">atol(3)</a>, <a class="link-man" href="../3/atoll">atoll(3)</a>, <a class="link-man" href="../3/strtod">strtod(3)</a>, <a class="link-man" href="../3/strtoi">strtoi(3)</a>, <a class="link-man" href="../3/strtoimax">strtoimax(3)</a>, <a class="link-man" href="../3/strtol">strtol(3)</a>, <a class="link-man" href="../3/strtoll">strtoll(3)</a>, <a class="link-man" href="../3/strtou">strtou(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">strtoul</b>() function conforms to ANSI X3.159-1989 (&#8220;ANSI&#160;C89&#8221;). The <b class="fname">strtoull</b>() and <b class="fname">strtoumax</b>() functions conform to ISO/IEC 9899:1999 (&#8220;ISO&#160;C99&#8221;).<p>
The <b class="fname">strtouq</b>() function is a <span class="unix">BSD</span> legacy function equivalent to <b class="fname">strtoull</b>() and should not be used in a new code.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Ignores the current locale.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 30, 2015</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

