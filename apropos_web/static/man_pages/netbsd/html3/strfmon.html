<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
STRFMON(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
STRFMON(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
STRFMON(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">strfmon</b> &#8212; <span class="desc">convert monetary value to string</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">monetary.h</a>&gt;</b><p>
<i class="ftype">ssize_t</i><br>
<b class="fname">strfmon</b>(<i class="farg" style="white-space:nowrap;">char * restrict s</i>, <i class="farg" style="white-space:nowrap;">size_t maxsize</i>, <i class="farg" style="white-space:nowrap;">const char * restrict format</i>, <i class="farg" style="white-space:nowrap;">...</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">strfmon</b>() function places characters into the array pointed to by <i class="farg">s</i> as controlled by the string pointed to by <i class="farg">format</i>. No more than <i class="farg">maxsize</i> bytes are placed into the array.<p>
The format string is composed of zero or more directives: ordinary characters (not <b class="flag">%</b>), which are copied unchanged to the output stream; and conversion specifications, each of which results in fetching zero or more subsequent arguments. Each conversion specification is introduced by the <b class="flag">%</b> character. After the <b class="flag">%</b>, the following appear in sequence:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
Zero or more of the following flags:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">=</b><i class="arg">f</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A &#8216;<b class="flag">=</b>&#8217; character followed by another character <i class="arg">f</i> which is used as the numeric fill character.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">^</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Do not use grouping characters, regardless of the current locale default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">+</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Represent positive values by prefixing them with a positive sign, and negative values by prefixing them with a negative sign. This is the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">(</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Enclose negative values in parentheses.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">!</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Do not include a currency symbol in the output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Left justify the result. Only valid when a field width is specified.</dd>
</dl>
</li>
<li class="list-bul" style="margin-top: 1.00em;">
An optional minimum field width as a decimal number. By default, there is no minimum width.</li>
<li class="list-bul" style="margin-top: 1.00em;">
A &#8216;<b class="flag">#</b>&#8217; sign followed by a decimal number specifying the maximum expected number of digits after the radix character.</li>
<li class="list-bul" style="margin-top: 1.00em;">
A &#8216;<b class="flag">.</b>&#8217; character followed by a decimal number specifying the number of digits after the radix character.</li>
<li class="list-bul" style="margin-top: 1.00em;">
One of the following conversion specifiers:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">i</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The <span class="type">double</span> argument is formatted as an international monetary amount.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">n</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The <span class="type">double</span> argument is formatted as a national monetary amount.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">%</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A &#8216;<code class="lit">%</code>&#8217; character is written.</dd>
</dl>
</li>
</ul>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> If the total number of resulting bytes including the terminating <span class="define">NULL</span> byte is not more than <i class="farg">maxsize</i>, <b class="fname">strfmon</b>() returns the number of bytes placed into the array pointed to by <i class="farg">s</i>, not including the terminating <span class="define">NULL</span> byte. Otherwise, &#45;1 is returned, the contents of the array are indeterminate, and <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">strfmon</b>() function will fail if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">E2BIG</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Conversion stopped due to lack of space in the buffer.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The format string is invalid.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOMEM</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Not enough memory for temporary buffers.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/localeconv.html">localeconv(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">strfmon</b>() function conforms to IEEE Std 1003.1-2001 (&#8220;POSIX.1&#8221;).</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span>The <b class="fname">strfmon</b>() function was implemented by <span class="author">Alexey Zelkin</span> &#60;<a class="link-mail" href="mailto:phantom@FreeBSD.org">phantom@FreeBSD.org</a>&#62;.<p>
This manual page was written by <span class="author">Jeroen Ruigrok van der Werven</span> &#60;<a class="link-mail" href="mailto:asmodai@FreeBSD.org">asmodai@FreeBSD.org</a>&#62; based on the standard's text.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The <b class="fname">strfmon</b>() function does not correctly handle multibyte characters in the <i class="farg">format</i> argument.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 12, 2002</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

