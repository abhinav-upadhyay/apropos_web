<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
KVM_GETFILES(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
KVM_GETFILES(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
KVM_GETFILES(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">kvm_getfiles</b> &#8212; <span class="desc">survey open files</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Kernel Data Access Library (libkvm, &#45;lkvm)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">kvm.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">sys/kinfo.h</a>&gt;</b><p>
<b class="macro">#define _KERNEL</b><p>
<b class="includes">#include &lt;<a class="link-includes">sys/file.h</a>&gt;</b><p>
<b class="macro">#undef _KERNEL</b><p>
<i class="ftype">char *</i><br>
<b class="fname">kvm_getfiles</b>(<i class="farg" style="white-space:nowrap;">kvm_t *kd</i>, <i class="farg" style="white-space:nowrap;">int op</i>, <i class="farg" style="white-space:nowrap;">int arg</i>, <i class="farg" style="white-space:nowrap;">int *cnt</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">kvm_getfiles</b>() returns a (sub-)set of the open files in the kernel indicated by <i class="farg">kd</i>. The <i class="farg">op</i> and <i class="farg">arg</i> arguments constitute a predicate which limits the set of files returned. No predicates are currently defined.<p>
The number of processes found is returned in the reference parameter <i class="farg">cnt</i>. The files are returned as a contiguous array of file structures, preceded by the address of the first file entry in the kernel. This memory is owned by kvm and is not guaranteed to be persistent across subsequent kvm library calls. Data should be copied out if it needs to be saved.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">kvm_getfiles</b>() will return <span class="define">NULL</span> on failure.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/kvm.html">kvm(3)</a>, <a class="link-man" href="../html3/kvm_close.html">kvm_close(3)</a>, <a class="link-man" href="../html3/kvm_geterr.html">kvm_geterr(3)</a>, <a class="link-man" href="../html3/kvm_nlist.html">kvm_nlist(3)</a>, <a class="link-man" href="../html3/kvm_open.html">kvm_open(3)</a>, <a class="link-man" href="../html3/kvm_openfiles.html">kvm_openfiles(3)</a>, <a class="link-man" href="../html3/kvm_read.html">kvm_read(3)</a>, <a class="link-man" href="../html3/kvm_write.html">kvm_write(3)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> This routine does not belong in the kvm interface.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 19, 1994</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

