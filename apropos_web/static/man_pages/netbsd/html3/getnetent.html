<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
GETNETENT(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
GETNETENT(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
GETNETENT(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">getnetent</b>, <b class="name">getnetbyaddr</b>, <b class="name">getnetbyname</b>, <b class="name">setnetent</b>, <b class="name">endnetent</b> &#8212; <span class="desc">get network entry</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">netdb.h</a>&gt;</b><p>
<i class="ftype">struct netent *</i><br>
<b class="fname">getnetent</b>();<p>
<i class="ftype">struct netent *</i><br>
<b class="fname">getnetbyname</b>(<i class="farg" style="white-space:nowrap;">const char *name</i>);<p>
<i class="ftype">struct netent *</i><br>
<b class="fname">getnetbyaddr</b>(<i class="farg" style="white-space:nowrap;">uint32_t net</i>, <i class="farg" style="white-space:nowrap;">int type</i>);<p>
<b class="fname">setnetent</b>(<i class="farg" style="white-space:nowrap;">int stayopen</i>);<p>
<b class="fname">endnetent</b>();</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">getnetent</b>(), <b class="fname">getnetbyname</b>(), and <b class="fname">getnetbyaddr</b>() functions each return a pointer to an object with the following structure containing the broken-out fields of a line in the network data base as described in <a class="link-man" href="../5/networks">networks(5)</a>.<p>
<pre style="margin-left: 5.00ex;" class="lit display">
struct	netent { 
	char		*n_name;	/* official name of net */ 
	char		**n_aliases;	/* alias list */ 
	int		n_addrtype;	/* net number type */ 
	uint32_t	n_net;		/* net number */ 
};</pre>
<p>
The members of this structure are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">n_name</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The official name of the network.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">n_aliases</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
A zero terminated list of alternative names for the network.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">n_addrtype</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The type of the network number returned; currently only AF_INET.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">n_net</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The network number.  Network numbers are returned in machine byte order.</dd>
</dl>
<p>
The <b class="fname">getnetent</b>() function reads the next line of the file, opening the file if necessary.<p>
The <b class="fname">setnetent</b>() function opens and rewinds the file.  If the <i class="farg">stayopen</i> flag is non-zero, the net data base will not be closed after each call to <b class="fname">getnetbyname</b>() or <b class="fname">getnetbyaddr</b>().<p>
The <b class="fname">endnetent</b>() function closes the file.<p>
The <b class="fname">getnetbyname</b>() function and <b class="fname">getnetbyaddr</b>() sequentially search from the beginning of the file until a matching net name or net address and type is found, or until <span class="define">EOF</span> is encountered. Network numbers are supplied in host order.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/networks</i></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> Null pointer (0) returned on <span class="define">EOF</span> or error.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/networks">networks(5)</a>, <a class="link-man" href="../5/nsswitch.conf">nsswitch.conf(5)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">getnetent</b>(), <b class="fname">getnetbyaddr</b>(), <b class="fname">getnetbyname</b>(), <b class="fname">setnetent</b>(), and <b class="fname">endnetent</b>() functions appeared in <span class="unix">4.2BSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The data space used by these functions is static; if future use requires the data, it should be copied before any subsequent calls to these functions overwrite it. Only Internet network numbers are currently understood. Expecting network numbers to fit in no more than 32 bits is probably naive.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 8, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

