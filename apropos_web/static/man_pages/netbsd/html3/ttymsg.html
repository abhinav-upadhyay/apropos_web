<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
TTYMSG(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
TTYMSG(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
TTYMSG(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ttymsg</b> &#8212; <span class="desc">ttymsg utility function</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">System Utilities Library (libutil, &#45;lutil)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">util.h</a>&gt;</b><p>
<i class="ftype">char *</i><br>
<b class="fname">ttymsg</b>(<i class="farg" style="white-space:nowrap;">struct iovec *iov</i>, <i class="farg" style="white-space:nowrap;">int iovlen</i>, <i class="farg" style="white-space:nowrap;">const char *tty</i>, <i class="farg" style="white-space:nowrap;">int tmout</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">ttymsg</b>() function is used by programs such as <a class="link-man" href="../8/talkd">talkd(8)</a>, <a class="link-man" href="../8/syslogd">syslogd(8)</a>, <a class="link-man" href="../1/wall">wall(1)</a>, etc., to display the contents of a uio structure on a terminal. <b class="fname">ttymsg</b>() forks and finishes in the child if the write would block after waiting up to <i class="farg">tmout</i> seconds.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">ttymsg</b>() returns a pointer to an error string on unexpected error; the string is not newline-terminated. Various "normal" errors are ignored (exclusive-use, lack of permission, etc.).</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/writev">writev(2)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> <b class="name">ttymsg</b> could grow some flags and a username/uid who is the expected owner of the tty. If the flags say so then the owner should be checked against the tty owner, and the message should not be sent if there is a mismatch. Also another flag could say check against group writable, and don't send a message.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 15, 2013</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

