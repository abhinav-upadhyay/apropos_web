<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
SIGEVENT(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SIGEVENT(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
SIGEVENT(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sigevent</b> &#8212; <span class="desc">signal event structure</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/signal.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The IEEE Std 1003.1-2004 (&#8220;POSIX.1&#8221;) standard extends traditional UNIX signal semantics by providing facilities for realtime signal generation and delivery.<p>
<div class="symb" style="display:inline;margin-left: 1.00ex;">
Please note that this manual describes an interface that is not yet fully functional in <span class="unix">NetBSD</span>: neither realtime signals nor SIGEV_THREAD are currently supported.</div>
<p>
Realtime functions that can generate realtime signals include:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 3.00ex;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
Completion of asynchronous I/O; see <a class="link-man" href="../3/aio">aio(3)</a>.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Expiration of per-process timers; see <a class="link-man" href="../2/timer_create">timer_create(2)</a>.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Arrival of a message to an empty message queue; see <a class="link-man" href="../3/mq_notify">mq_notify(3)</a>.</li>
</ol>
<p>
The <b class="includes">&lt;<a class="link-includes">sys/signal.h</a>&gt;</b> header, included by <b class="includes">&lt;<a class="link-includes">signal.h</a>&gt;</b>, defines a <b class="var">sigevent</b> structure, which is the cornerstone in asynchronous delivery of realtime signals. This structure is defined as:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
struct sigevent { 
	int		  sigev_notify; 
	int		  sigev_signo; 
	union sigval	  sigev_value; 
	void		(*sigev_notify_function)(union sigval); 
	void		 *sigev_notify_attributes; 
};</pre>
<p>
The included union is further defined in <b class="includes">&lt;<a class="link-includes">siginfo.h</a>&gt;</b> as:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
typedef union sigval { 
	int	 sival_int; 
	void	*sival_ptr; 
} sigval_t;</pre>
<p>
The <b class="var">sigev_notify</b> integer defines the action taken when a notification such as timer expiration occurs. The possiblue values are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 2.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SIGEV_NONE</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
This constant specifies a &#8220;null&#8221; handler: when a notification arrives, nothing happens.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SIGEV_SIGNAL</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
The <span class="define">SIGEV_SIGNAL</span> constant specifies that notifications are delivered by signals. When a notification arrives, the kernel sends the signal specified in <b class="var">sigev_signo</b>.<p>
In the signal handler the &#8216;si_value&#8217; of <b class="var">siginfo_t</b> is set to the value specified by the <b class="var">sigev_value</b>. In another words, the <b class="var">sigev_value</b> member is an application-defined value to be passed to a particular signal handler at the time of signal delivery. Depending whether the specified value is an integer or a pointer, the delivered value can be either <b class="var">sigval_intr</b> or <b class="var">sigval_ptr</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SIGEV_THREAD</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
This constant specifies a thread-driven notification mechanism. When a notification occurs, the kernel creates a new thread that starts executing the function specified in the function pointer <b class="var">sigev_notify_function</b>. The single argument passed to the function is specified in <b class="var">sigev_value</b>.<p>
If <b class="var">sigev_notify_attributes</b> is not <span class="define">NULL</span>, the provided attribute specifies the behavior of the thread; see <a class="link-man" href="../3/pthread_attr">pthread_attr(3)</a>. (Note that although a pointer to void is specified for <b class="var">sigev_notify_attributes</b>, the type is <b class="var">pthread_attr_t</b> in practice.)<p>
The threads are created as detached, or in an unspecified way if <a class="link-man" href="../3/pthread_attr_setdetachstate">pthread_attr_setdetachstate(3)</a> is used with <b class="var">sigev_notify_attributes</b> to set <span class="define">PTHREAD_CREATE_JOINABLE</span>. It is not valid to call <a class="link-man" href="../3/pthread_join">pthread_join(3)</a> in either case. Hence, it is impossible to determine the lifetime of the created thread. This in turn means that it is neither possible to recover the memory nor the address of the memory possibly dedicated as thread stack via <b class="fname">pthread_attr_setstack</b>() or <b class="fname">pthread_attr_setstackaddr</b>().</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/siginfo">siginfo(2)</a>, <a class="link-man" href="../2/timer_create">timer_create(2)</a>, <a class="link-man" href="../3/aio">aio(3)</a>, <a class="link-man" href="../3/mq">mq(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="var">sigevent</b> structure first appeared in <span class="unix">NetBSD&#160;1.6</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 24, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

