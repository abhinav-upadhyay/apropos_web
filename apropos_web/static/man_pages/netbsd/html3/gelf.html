<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
GELF(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
GELF(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
GELF(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">GElf</b> &#8212; <span class="desc">class-independent API for ELF manipulation</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">ELF Access Library (libelf, &#45;lelf)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">gelf.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This manual page describes a class independent API for manipulating ELF objects. This API allows an application to operate on ELF descriptors without needing to the know the ELF class of the descriptor.<p>
The GElf API may be used alongside the ELF API without restriction.<div class="subsection">
<h2 id="x47456c6620446174612053747275637475726573">GElf Data Structures</h2> The GElf API defines the following class-independent data structures:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Addr</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A representation of ELF addresses.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Dyn</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A class-independent representation of ELF <span class="symb">.dynamic</span> section entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Ehdr</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A class-independent representation of an ELF Executable Header.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Half</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
An unsigned 16 bit quantity.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Off</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A class-independent representation of a ELF offset.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Phdr</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A class-independent representation of an ELF Program Header Table entry.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Rel</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A class-independent representation of an ELF relocation entry.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Rela</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A class-independent representation of an ELF relocation entry with addend.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Shdr</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A class-independent representation of an ELF Section Header Table entry.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Sword</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A signed 32 bit quantity.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Sxword</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A signed 64 bit quantity.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Sym</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
A class-independent representation of an ELF symbol table entry.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Word</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
An unsigned 32 bit quantity.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="type">GElf_Xword</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
An unsigned 64 bit quantity.</dd>
</dl>
<p>
These data structures are sized to be compatible with the corresponding 64 bit ELF structures, and have the same internal structure as their 64 bit class-dependent counterparts. Class-dependent ELF structures are described in <a class="link-man" href="../5/elf">elf(5)</a>.</div>
<div class="subsection">
<h2 id="x47456c662050726f6772616d6d696e67204d6f64656c">GElf Programming Model</h2> GElf functions always return a <span class="emph">copy</span> of the underlying (class-dependent) ELF data structure. The programming model with GElf is as follows:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
An application will retrieve data from an ELF descriptor using a <b class="fname">gelf_get_*</b>() function. This will copy out data into a private <span class="type">GElf_*</span> data structure.</li>
<li class="list-enum" style="margin-top: 1.00em;">
The application will work with its private copy of the GElf structure.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Once done, the application copies the new values back to the underlying ELF data structure using the <b class="fname">gelf_update_*</b>() functions.</li>
<li class="list-enum" style="margin-top: 1.00em;">
The application will then use the <b class="fname">elf_flag*</b>() APIs to indicate to the ELF library that an ELF data structure is dirty.</li>
</ol>
<p>
When updating an underlying 32 bit ELF data structure, the GElf routines will signal an error if a GElf value is out of range for the underlying ELF data type.</div>
<div class="subsection">
<h2 id="x4e616d65737061636520757365">Namespace use</h2> The GElf interface uses the following symbols:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
GElf_*</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Class-independent data types.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
gelf_*</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
For functions defined in the API set.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x47456c662050726f6772616d6d696e672041504973">GElf Programming APIs</h2> This section provides an overview of the GElf programming APIs. Further information is provided in the manual page of each function listed here.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
Allocating ELF Data Structures</dt>
<dd class="list-tag" style="margin-left: 31.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_newehdr</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Allocate a new ELF Executable Header.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_newphdr</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Allocate a new ELF Program Header Table.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
Data Translation</dt>
<dd class="list-tag" style="margin-left: 31.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_xlatetof</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Translate the native representation of an ELF data structure to its file representation.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_xlatetom</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Translate from the file representation of an ELF data structure to a native representation.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
Retrieving ELF Data</dt>
<dd class="list-tag" style="margin-left: 31.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_getdyn</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieve an ELF <span class="symb">.dynamic</span> table entry.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_getehdr</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieve an ELF Executable Header from the underlying ELF descriptor.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_getphdr</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieve an ELF Program Header Table entry from the underlying ELF descriptor.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_getrel</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieve an ELF relocation entry.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_getrela</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieve an ELF relocation entry with addend.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_getshdr</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieve an ELF Section Header Table entry from the underlying ELF descriptor.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_getsym</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieve an ELF symbol table entry.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
Queries</dt>
<dd class="list-tag" style="margin-left: 31.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_checksum</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieves the ELF checksum for an ELF descriptor.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_fsize</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieves the size of the file representation of an ELF type.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_getclass</b>()</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Retrieves the ELF class of an ELF descriptor.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
Updating ELF Data</dt>
<dd class="list-tag" style="margin-left: 31.00ex;">
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_update_dyn</b>()</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Copy back an ELF <span class="symb">.dynamic</span> Table entry.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_update_phdr</b>()</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Copy back an ELF Program Header Table entry.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_update_rel</b>()</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Copy back an ELF relocation entry.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_update_rela</b>()</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Copy back an ELF relocation with addend entry.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_update_shdr</b>()</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Copy back an ELF Section Header Table entry.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">gelf_update_sym</b>()</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Copy back an ELF symbol table entry.</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/elf">elf(3)</a>, <a class="link-man" href="../5/elf">elf(5)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The GELF(3) API first appeared in System V Release 4. This implementation of the API first appeared in <span class="unix">FreeBSD&#160;7.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The GElf API was implemented by <span class="author">Joseph Koshy</span> &#60;jkoshy@FreeBSD.org&#62;.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
September 1, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

