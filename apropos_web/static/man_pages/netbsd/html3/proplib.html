<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
PROPLIB(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
PROPLIB(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
PROPLIB(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">proplib</b> &#8212; <span class="desc">property container object library</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Property Container Object Library (libprop, &#45;lprop)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">prop/proplib.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">proplib</b> library provides an abstract interface for creating and manipulating property lists. Property lists have object types for boolean values, opaque data, numbers, and strings. Structure is provided by the array and dictionary collection types.<p>
Property lists can be passed across protection boundaries by translating them to an external representation. This external representation is an XML document whose format is described by the following DTD:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
<a class="link-ext" href="http://www.apple.com/DTDs/PropertyList-1.0.dtd">http://www.apple.com/DTDs/PropertyList-1.0.dtd</a></pre>
<p>
Property container objects are reference counted. When an object is created, its reference count is set to 1. Any code that keeps a reference to an object, including the collection types (arrays and dictionaries), must &#8220;retain&#8221; the object (increment its reference count). When that reference is dropped, the object must be &#8220;released&#8221; (reference count decremented). When an object's reference count drops to 0, it is automatically freed.<p>
The rules for managing reference counts are very simple:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
If you create an object and do not explicitly maintain a reference to it, you must release it.</li>
<li class="list-bul" style="margin-top: 1.00em;">
If you get a reference to an object from other code and wish to maintain a reference to it, you must retain the object. You are responsible for releasing the object once you drop that reference.</li>
<li class="list-bul" style="margin-top: 1.00em;">
You must never release an object unless you create it or retain it.</li>
</ul>
<p>
Object collections may be iterated by creating a special iterator object. Iterator objects are special; they may not be retained, and they are released using an iterator-specific release function.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/prop_array">prop_array(3)</a>, <a class="link-man" href="../3/prop_bool">prop_bool(3)</a>, <a class="link-man" href="../3/prop_data">prop_data(3)</a>, <a class="link-man" href="../3/prop_dictionary">prop_dictionary(3)</a>, <a class="link-man" href="../3/prop_dictionary_util">prop_dictionary_util(3)</a>, <a class="link-man" href="../3/prop_number">prop_number(3)</a>, <a class="link-man" href="../3/prop_object">prop_object(3)</a>, <a class="link-man" href="../3/prop_send_ioctl">prop_send_ioctl(3)</a>, <a class="link-man" href="../3/prop_send_syscall">prop_send_syscall(3)</a>, <a class="link-man" href="../3/prop_string">prop_string(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">proplib</b> property container object library first appeared in <span class="unix">NetBSD&#160;4.0</span>.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> <b class="name">proplib</b> does not have a &#8216;date&#8217; object type, and thus will not parse &#8216;date&#8217; elements from an Apple XML property list.<p>
The <b class="name">proplib</b> &#8216;number&#8217; object type differs from the Apple XML property list format in the following ways:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
The external representation is in base 16, not base 10. <b class="name">proplib</b> is able to parse base 8, base 10, and base 16 &#8216;integer&#8217; elements.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Internally, integers are always stored as unsigned numbers (uint64_t). Therefore, the external representation will never be negative.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Because floating point numbers are not supported, &#8216;real&#8217; elements from an Apple XML property list will not be parsed.</li>
</ul>
<p>
In order to facilitate use of <b class="name">proplib</b> in kernel, standalone, and user space environments, the <b class="name">proplib</b> parser is not a real XML parser. It is hard-coded to parse only the property list external representation.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 17, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

