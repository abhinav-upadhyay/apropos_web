<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
PCAP_SETNONBLOCK(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
PCAP_SETNONBLOCK(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
PCAP_SETNONBLOCK(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> pcap_setnonblock, pcap_getnonblock &#45; set or get the state of non-blocking mode on a capture device</div>
<div class="section">
<h1>SYNOPSIS</h1><br>
#include &lt;pcap/pcap.h&gt;<p>
<br>
char errbuf[PCAP_ERRBUF_SIZE];<p>
<br>
int pcap_setnonblock(pcap_t *p, int nonblock, char *errbuf);<br>
int pcap_getnonblock(pcap_t *p, char *errbuf);<br>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>pcap_setnonblock()</b> puts a capture handle into ``non-blocking'' mode, or takes it out of ``non-blocking'' mode, depending on whether the <i>nonblock</i> argument is non-zero or zero.  It has no effect on ``savefiles''. If there is an error, &#45;1 is returned and <i>errbuf</i> is filled in with an appropriate error message; otherwise, 0 is returned. In ``non-blocking'' mode, an attempt to read from the capture descriptor with <b>pcap_dispatch()</b> will, if no packets are currently available to be read, return 0 immediately rather than blocking waiting for packets to arrive. <b>pcap_loop()</b> and <b>pcap_next()</b> will not work in ``non-blocking'' mode.<p>
When first activated with <b>pcap_activate()</b> or opened with <b>pcap_open_live() ,</b> a capture handle is not in ``non-blocking mode''; a call to <b>pcap_setnonblock()</b> is required in order to put it into ``non-blocking'' mode.</div>
<div class="section">
<h1>RETURN VALUE</h1> <b>pcap_getnonblock()</b> returns the current ``non-blocking'' state of the capture descriptor; it always returns 0 on ``savefiles''. If there is an error, &#45;1 is returned and <i>errbuf</i> is filled in with an appropriate error message.<p>
<i>errbuf</i> is assumed to be able to hold at least <b>PCAP_ERRBUF_SIZE</b> chars.</div>
<div class="section">
<h1>SEE ALSO</h1> pcap(3), pcap_loop(3), pcap_next_ex(3), pcap_geterr(3)</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
5 April 2008</td>
<td class="foot-os" align="right">
</td>
</tr>
</table>
</div>
</body>
</html>

