<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
EXEC(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
EXEC(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
EXEC(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">execl</b>, <b class="name">execlp</b>, <b class="name">execle</b>, <b class="name">exect</b>, <b class="name">execv</b>, <b class="name">execvp</b> &#8212; <span class="desc">execute a file</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">unistd.h</a>&gt;</b><p>
<span class="type">extern char **environ;</span><p>
<i class="ftype">int</i><br>
<b class="fname">execl</b>(<i class="farg" style="white-space:nowrap;">const char *path</i>, <i class="farg" style="white-space:nowrap;">const char *arg</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">execlp</b>(<i class="farg" style="white-space:nowrap;">const char *file</i>, <i class="farg" style="white-space:nowrap;">const char *arg</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">execlpe</b>(<i class="farg" style="white-space:nowrap;">const char *path</i>, <i class="farg" style="white-space:nowrap;">const char *arg</i>, <i class="farg" style="white-space:nowrap;">...</i>, <i class="farg" style="white-space:nowrap;">char *const envp[]</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">execle</b>(<i class="farg" style="white-space:nowrap;">const char *path</i>, <i class="farg" style="white-space:nowrap;">const char *arg</i>, <i class="farg" style="white-space:nowrap;">...</i>, <i class="farg" style="white-space:nowrap;">char *const envp[]</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">exect</b>(<i class="farg" style="white-space:nowrap;">const char *path</i>, <i class="farg" style="white-space:nowrap;">char *const argv[]</i>, <i class="farg" style="white-space:nowrap;">char *const envp[]</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">execv</b>(<i class="farg" style="white-space:nowrap;">const char *path</i>, <i class="farg" style="white-space:nowrap;">char *const argv[]</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">execvp</b>(<i class="farg" style="white-space:nowrap;">const char *file</i>, <i class="farg" style="white-space:nowrap;">char *const argv[]</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">execvpe</b>(<i class="farg" style="white-space:nowrap;">const char *file</i>, <i class="farg" style="white-space:nowrap;">char *const argv[]</i>, <i class="farg" style="white-space:nowrap;">char *const envp[]</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">exec</b>() family of functions replaces the current process image with a new process image. The functions described in this manual page are front-ends for the function <a class="link-man" href="../2/execve">execve(2)</a>. (See the manual page for <a class="link-man" href="../2/execve">execve(2)</a> for detailed information about the replacement of the current process. The <a class="link-man" href="../7/script">script(7)</a> manual page provides detailed information about the execution of interpreter scripts.)<p>
The initial argument for these functions is the pathname of a file which is to be executed.<p>
The <i class="farg">const char *arg</i> and subsequent ellipses in the <b class="fname">execl</b>(), <b class="fname">execlp</b>(), <b class="fname">execlpe</b>(), and <b class="fname">execle</b>() functions can be thought of as <span class="emph">arg0</span>, <span class="emph">arg1</span>, ..., <span class="emph">argn</span>. Together they describe a list of one or more pointers to NUL-terminated strings that represent the argument list available to the executed program. The first argument, by convention, should point to the file name associated with the file being executed. The list of arguments <span class="emph">must</span> be terminated by a <span class="define">NULL</span> pointer.<p>
The <b class="fname">exect</b>(), <b class="fname">execv</b>(), <b class="fname">execvp</b>(), and <b class="fname">execvpe</b>() functions provide an array of pointers to NUL-terminated strings that represent the argument list available to the new program. The first argument, by convention, should point to the file name associated with the file being executed. The array of pointers <span class="symb">must</span> be terminated by a <span class="define">NULL</span> pointer.<p>
The <b class="fname">execle</b>(), <b class="fname">execlpe</b>(), <b class="fname">exect</b>(), and <b class="fname">execvpe</b>() functions also specify the environment of the executed process by following the <span class="define">NULL</span> pointer that terminates the list of arguments in the parameter list or the pointer to the argv array with an additional parameter. This additional parameter is an array of pointers to NUL-terminated strings and <span class="emph">must</span> be terminated by a <span class="define">NULL</span> pointer. The other functions take the environment for the new process image from the external variable <b class="var">environ</b> in the current process.<p>
Some of these functions have special semantics.<p>
The functions <b class="fname">execlp</b>(), <b class="fname">execlpe</b>(), <b class="fname">execvp</b>(), and <b class="fname">execvpe</b>() will duplicate the actions of the shell in searching for an executable file if the specified file name does not contain a slash &#8220;<code class="lit">/</code>&#8221; character. The search path is the path specified in the environment by the <span class="env">PATH</span> variable. If this variable isn't specified, <b class="var">_PATH_DEFPATH</b> from <b class="includes">&lt;<a class="link-includes">paths.h</a>&gt;</b> is used instead, its value being: <i class="file">/usr/bin:/bin:/usr/pkg/bin:/usr/local/bin</i>. In addition, certain errors are treated specially.<p>
If permission is denied for a file (the attempted <a class="link-man" href="../2/execve">execve(2)</a> returned <span class="errno">EACCES</span>), these functions will continue searching the rest of the search path. If no other file is found, however, they will return with the global variable <b class="var">errno</b> set to <span class="errno">EACCES</span>.<p>
If the header of a file isn't recognized (the attempted <a class="link-man" href="../2/execve">execve(2)</a> returned <span class="errno">ENOEXEC</span>), these functions will execute the shell with the path of the file as its first argument. (If this attempt fails, no further searching is done.)<p>
If the file is currently busy (the attempted <a class="link-man" href="../2/execve">execve(2)</a> returned <span class="errno">ETXTBUSY</span>), these functions will sleep for several seconds, periodically re-attempting to execute the file.<p>
The function <b class="fname">exect</b>() executes a file with the program tracing facilities enabled (see <a class="link-man" href="../2/ptrace">ptrace(2)</a>).</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> If any of the <b class="fname">exec</b>() functions returns, an error will have occurred. The return value is &#45;1, and the global variable <b class="var">errno</b> will be set to indicate the error.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/bin/sh</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The shell.</dd>
</dl>
</div>
<div class="section">
<h1 id="x434f4d5041544942494c495459">COMPATIBILITY</h1> Historically, the default path for the <b class="fname">execlp</b>() <b class="fname">execlpe</b>(), <b class="fname">execvp</b>(), and <b class="fname">execvpe</b>() functions was &#8220;<i class="file">:/bin:/usr/bin</i>&#8221;. This was changed to improve security and behaviour.<p>
The behavior of <b class="fname">execlp</b>(), <b class="fname">execlpe</b>(), <b class="fname">execvp</b>(), and <b class="fname">execvpe</b>() when errors occur while attempting to execute the file is historic practice, but has not traditionally been documented and is not specified by the POSIX standard.<p>
Traditionally, the functions <b class="fname">execlp</b>(), <b class="fname">execlpe</b>(), <b class="fname">execvp</b>(), and <b class="fname">execvpe</b>() ignored all errors except for the ones described above and <span class="errno">ENOMEM</span> and <span class="errno">E2BIG</span>, upon which they returned. They now return if any error other than the ones described above occurs.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">execl</b>(), <b class="fname">execle</b>(), <b class="fname">execlp</b>(), <b class="fname">execlpe</b>(), <b class="fname">execvp</b>(), and <b class="fname">execvpe</b>() may fail and set <b class="var">errno</b> for any of the errors specified for the library functions <a class="link-man" href="../2/execve">execve(2)</a> and <a class="link-man" href="../3/malloc">malloc(3)</a>.<p>
<b class="fname">exect</b>() and <b class="fname">execv</b>() may fail and set <b class="var">errno</b> for any of the errors specified for the library function <a class="link-man" href="../2/execve">execve(2)</a>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/sh">sh(1)</a>, <a class="link-man" href="../2/execve">execve(2)</a>, <a class="link-man" href="../2/fork">fork(2)</a>, <a class="link-man" href="../2/ptrace">ptrace(2)</a>, <a class="link-man" href="../7/environ">environ(7)</a>, <a class="link-man" href="../7/script">script(7)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <b class="fname">execl</b>(), <b class="fname">execv</b>(), <b class="fname">execle</b>(), <b class="fname">execlp</b>(), and <b class="fname">execvp</b>() conform to IEEE Std 1003.1-1990 (&#8220;POSIX.1&#8221;).<p>
The <b class="fname">execlpe</b>() function appeared first in QNX and the <b class="fname">execvpe</b>() function exists on both and QNX.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
September 26, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

