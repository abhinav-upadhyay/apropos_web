<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
DWARF_NEXT_CU_HEADER(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DWARF_NEXT_CU_HEADER(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
DWARF_NEXT_CU_HEADER(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dwarf_next_cu_header</b>, <b class="name">dwarf_next_cu_header_b</b> &#8212; <span class="desc">step through compilation units in a DWARF debug context</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">DWARF Access Library (libdwarf, &#45;ldwarf)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">libdwarf.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">dwarf_next_cu_header</b>(<i class="farg">Dwarf_Debug dbg</i>, <i class="farg">Dwarf_Unsigned *cu_length</i>, <i class="farg">Dwarf_Half *cu_version</i>, <i class="farg">Dwarf_Off *cu_abbrev_offset</i>, <i class="farg">Dwarf_Half *cu_pointer_size</i>, <i class="farg">Dwarf_Unsigned *cu_next_offset</i>, <i class="farg">Dwarf_Error *err</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">dwarf_next_cu_header_b</b>(<i class="farg">Dwarf_Debug dbg</i>, <i class="farg">Dwarf_Unsigned *cu_length</i>, <i class="farg">Dwarf_Half *cu_version</i>, <i class="farg">Dwarf_Off *cu_abbrev_offset</i>, <i class="farg">Dwarf_Half *cu_pointer_size</i>, <i class="farg">Dwarf_Half *cu_offset_size</i>, <i class="farg">Dwarf_Half *cu_extension_size</i>, <i class="farg">Dwarf_Unsigned *cu_next_offset</i>, <i class="farg">Dwarf_Error *err</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions are used to step through compilation unit contexts associated with a DWARF debug context, optionally returning information about the unit.<p>
Function <b class="fname">dwarf_next_cu_header_b</b>() is the API recommended for new application code. Argument <i class="arg">dbg</i> should reference a DWARF debug context allocated using <a class="link-man" href="../3/dwarf_init">dwarf_init(3)</a>. Argument <i class="arg">cu_length</i> should point to a location that will be set to the length of the compilation unit. Argument <i class="arg">cu_version</i> should point to a location that will be set to the version number for the compilation unit. Argument <i class="arg">cu_abbrev_offset</i> should point to a location that will be set to the starting offset (in the &#8220;.debug_abbrev&#8221; section) of the set of debugging information entry abbreviations associated with this compilation unit. Argument <i class="arg">cu_pointer_size</i> should point to a location that will be set to the size in bytes of an address for the machine architecture of the underlying object being debugged. Argument <i class="arg">cu_offset_size</i> should point to a location that will be set to the size in bytes for a DWARF offset in the compilation unit. Argument <i class="arg">cu_extension_size</i> is only needed for processing MIPS/IRIX objects that use a non-standard DWARF format. It should point to a location that will be set to 4 for normal objects and to 0 for non-standard ones. Argument <i class="arg">cu_next_offset</i> should point to a location that will be set to the offset of the next compilation unit header in the &#8220;.debug_info&#8221; section. Argument <i class="arg">err</i> should point to a location that will hold an error descriptor in case of an error.<p>
Function <b class="fname">dwarf_next_cu_header</b>() is less general than <b class="fname">dwarf_next_cu_header_b</b>(), and is deprecated for use by new application code. Argument <i class="arg">dbg</i> should reference a DWARF debug context allocated using <a class="link-man" href="../3/dwarf_init">dwarf_init(3)</a>. Argument <i class="arg">cu_length</i> should point to a location that will be set to the length of the compilation unit. Argument <i class="arg">cu_version</i> should point to a location that will be set to the version number for the compilation unit. Argument <i class="arg">cu_abbrev_offset</i> should point to a location that will be set to the starting offset in the &#8220;.debug_abbrev&#8221; section of the set of debugging information entry abbreviations associated with this compilation unit. Argument <i class="arg">cu_pointer_size</i> should point to a location that will be set to the size of an address in bytes for the machine architecture of the underlying debugging object. Argument <i class="arg">cu_next_offset</i> should point to a location that will be set to the offset of the next compilation unit. Argument <i class="arg">err</i> should point to a location that will hold an error descriptor in case of an error.<p>
A value of NULL may be used for any of the arguments <i class="arg">cu_length</i>, <i class="arg">cu_version</i>, <i class="arg">cu_abbrev_offset</i>, <i class="arg">cu_pointer_size</i>, <i class="arg">cu_offset_size</i>, <i class="arg">cu_extension_size</i>, <i class="arg">cu_next_offset</i> and <i class="arg">err</i> if the caller is not interested in the respective value.<div class="subsection">
<h2 id="x497465726174696e67205468726f75676820436f6d70696c6174696f6e20556e69747320696e206120446562756720436f6e74657874">Iterating Through Compilation Units in a Debug Context</h2> The first call to functions <b class="fname">dwarf_next_cu_header_b</b>() and <b class="fname">dwarf_next_cu_header</b>() for a given debug context will return information about the first compilation unit in the debug context. Subsequent calls to these functions will iterate through the remaining compilation units in the debug context. On stepping past the last compilation unit in the debug context, functions <b class="fname">dwarf_next_cu_header</b>() and <b class="fname">dwarf_next_cu_header_b</b>() return <span class="define">DW_DLV_NO_ENTRY</span> and reset their internal state. The next call to these functions will restart from the first compilation unit in the debug context.</div>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> On success, these functions return <span class="define">DW_DLV_OK</span>. In case of an error, they return <span class="define">DW_DLV_ERROR</span> and set argument <i class="arg">err</i>. When there are no more compilation units left to traverse, they return <span class="define">DW_DLV_NO_ENTRY</span>.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> These functions can fail with the following error:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">DW_DLE_ARGUMENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
Argument <b class="var">dbg</b> was NULL.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/dwarf">dwarf(3)</a>, <a class="link-man" href="../3/dwarf_get_cu_die_offset_given_cu_header_offset">dwarf_get_cu_die_offset_given_cu_header_offset(3)</a>, <a class="link-man" href="../3/dwarf_init">dwarf_init(3)</a>, <a class="link-man" href="../3/dwarf_siblingof">dwarf_siblingof(3)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 24, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

