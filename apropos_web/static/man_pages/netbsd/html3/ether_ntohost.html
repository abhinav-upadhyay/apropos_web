<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
ETHERS(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ETHERS(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
ETHERS(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ether_ntoa</b>, <b class="name">ether_aton</b>, <b class="name">ether_ntohost</b>, <b class="name">ether_hostton</b>, <b class="name">ether_line</b>, &#8212; <span class="desc">get ethers entry</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">sys/socket.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">net/if.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">net/if_ether.h</a>&gt;</b><p>
<i class="ftype">char *</i><br>
<b class="fname">ether_ntoa</b>(<i class="farg" style="white-space:nowrap;">const struct ether_addr *e</i>);<p>
<i class="ftype">struct ether_addr *</i><br>
<b class="fname">ether_aton</b>(<i class="farg" style="white-space:nowrap;">const char *s</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">ether_ntohost</b>(<i class="farg" style="white-space:nowrap;">char *hostname</i>, <i class="farg" style="white-space:nowrap;">const struct ether_addr *e</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">ether_hostton</b>(<i class="farg" style="white-space:nowrap;">const char *hostname</i>, <i class="farg" style="white-space:nowrap;">struct ether_addr *e</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">ether_line</b>(<i class="farg" style="white-space:nowrap;">const char *line</i>, <i class="farg" style="white-space:nowrap;">struct ether_addr *e</i>, <i class="farg" style="white-space:nowrap;">char *hostname</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Ethernet addresses are represented by the following structure:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
struct ether_addr { 
        u_char  ether_addr_octet[6]; 
};</pre>
<p>
The <b class="fname">ether_ntoa</b>() function converts this structure into an ASCII string of the form ``xx:xx:xx:xx:xx:xx'', consisting of 6 hexadecimal numbers separated by colons.  It returns a pointer to a static buffer that is reused for each call. The <b class="fname">ether_aton</b>() converts an ASCII string of the same form and to a structure containing the 6 octets of the address.  It returns a pointer to a static structure that is reused for each call.<p>
The <b class="fname">ether_ntohost</b>() and <b class="fname">ether_hostton</b>() functions interrogate the data base mapping host names to Ethernet addresses, <i class="file">/etc/ethers</i>. The <b class="fname">ether_ntohost</b>() function looks up the given Ethernet address and writes the associated host name into the character buffer passed. The <b class="fname">ether_hostton</b>() function looks up the given host name and writes the associated Ethernet address into the structure passed.  Both functions return zero if they find the requested host name or address, and -1 if not. Each call reads <i class="file">/etc/ethers</i> from the beginning; if a + appears alone on a line in the file, then <b class="fname">ether_hostton</b>() will consult the <i class="file">ethers.byname</i> YP map, and <b class="fname">ether_ntohost</b>() will consult the <i class="file">ethers.byaddr</i> YP map.<p>
The <b class="fname">ether_line</b>() function parses a line from the <i class="file">/etc/ethers</i> file and fills in the passed ``struct ether_addr'' and character buffer with the Ethernet address and host name on the line.  It returns zero if the line was successfully parsed and -1 if not.<p>
The <i class="farg">hostname</i> buffer for <b class="fname">ether_line</b>() and <b class="fname">ether_ntohost</b>() should be at least <span class="define">MAXHOSTNAMELEN</span> + 1 characters long, to prevent a buffer overflow during parsing.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ethers</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/ethers">ethers(5)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">ether_ntoa</b>(), <b class="fname">ether_aton</b>(), <b class="fname">ether_ntohost</b>(), <b class="fname">ether_hostton</b>(), and <b class="fname">ether_line</b>() functions were adopted from SunOS and appeared in <span class="unix">NetBSD&#160;1.0</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The data space used by these functions is static; if future use requires the data, it should be copied before any subsequent calls to these functions overwrite it.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 2, 1997</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

