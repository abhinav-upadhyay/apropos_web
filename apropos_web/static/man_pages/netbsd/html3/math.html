<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MATH(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MATH(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
MATH(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">math</b> &#8212; <span class="desc">introduction to mathematical library functions</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Math Library (libm, &#45;lm)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">math.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions constitute the C <span class="lib">Math Library (libm, &#45;lm)</span>. Declarations for these functions may be obtained from the include file <b class="includes">&lt;<a class="link-includes">math.h</a>&gt;</b>.<div class="subsection">
<h2 id="x4c697374206f662046756e6374696f6e73">List of Functions</h2><table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 9.00ex;">
<col style="width: 9.00ex;">
<col style="min-width: 27.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Name</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Man page</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Description</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Error Bound</span> (<span class="define">ULP</span>s)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
acos</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/acos">acos(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
inverse trigonometric function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
acosh</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/acosh">acosh(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
inverse hyperbolic function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
asin</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/asin">asin(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
inverse trigonometric function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
asinh</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/asinh">asinh(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
inverse hyperbolic function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
atan</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/atan">atan(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
inverse trigonometric function</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
atanh</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/atanh">atanh(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
inverse hyperbolic function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
atan2</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/atan2">atan2(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
inverse trigonometric function</td>
<td class="list-col" style="margin-top: 1.00em;">
2</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
cbrt</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/sqrt">sqrt(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
cube root</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
ceil</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/ceil">ceil(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
integer no less than</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
copysign</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/copysign">copysign(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
copy sign bit</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
cos</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/cos">cos(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
trigonometric function</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
cosh</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/cosh">cosh(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
hyperbolic function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
erf</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/erf">erf(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
error function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
erfc</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/erf">erf(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
complementary error function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
exp</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/exp">exp(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
exponential</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
expm1</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/exp">exp(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
exp(x)&#45;1</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
fabs</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/fabs">fabs(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
absolute value</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
finite</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/finite">finite(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
test for finity</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
floor</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/floor">floor(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
integer no greater than</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
fmod</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/fmod">fmod(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
remainder</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
hypot</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/hypot">hypot(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
Euclidean distance</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
ilogb</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/ilogb">ilogb(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
exponent extraction</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
isinf</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/isinf">isinf(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
test for infinity</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
isnan</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/isnan">isnan(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
test for not-a-number</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
j0</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/j0">j0(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
Bessel function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
j1</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/j0">j0(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
Bessel function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
jn</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/j0">j0(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
Bessel function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
lgamma</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/lgamma">lgamma(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
log gamma function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
log</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/log">log(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
natural logarithm</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
log10</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/log">log(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
logarithm to base 10</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
log1p</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/log">log(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
log(1+x)</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
nan</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/nan">nan(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
return quiet NaN</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
nextafter</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/nextafter">nextafter(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
next representable number</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
pow</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/pow">pow(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
exponential x**y</td>
<td class="list-col" style="margin-top: 1.00em;">
60&#45;500</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
remainder</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/remainder">remainder(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
remainder</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
rint</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/rint">rint(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
round to nearest integer</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
scalbn</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/scalbn">scalbn(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
exponent adjustment</td>
<td class="list-col" style="margin-top: 1.00em;">
0</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
sin</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/sin">sin(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
trigonometric function</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
sinh</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/sinh">sinh(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
hyperbolic function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
sqrt</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/sqrt">sqrt(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
square root</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
tan</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/tan">tan(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
trigonometric function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
tanh</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/tanh">tanh(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
hyperbolic function</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
trunc</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/trunc">trunc(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
nearest integral value</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
y0</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/j0">j0(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
Bessel function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
y1</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/j0">j0(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
Bessel function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
yn</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../3/j0">j0(3)</a></td>
<td class="list-col" style="margin-top: 1.00em;">
Bessel function</td>
<td class="list-col" style="margin-top: 1.00em;">
???</td>
</tr>
</tbody>
</table>
</div>
<div class="subsection">
<h2 id="x4c697374206f6620446566696e65642056616c756573">List of Defined Values</h2><table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 12.00ex;">
<col style="width: 24.00ex;">
<col style="min-width: 13.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Name</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Value</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Description</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_E</td>
<td class="list-col" style="margin-top: 1.00em;">
2.7182818284590452354</td>
<td class="list-col" style="margin-top: 1.00em;">
e</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_LOG2E</td>
<td class="list-col" style="margin-top: 1.00em;">
1.4426950408889634074</td>
<td class="list-col" style="margin-top: 1.00em;">
log 2e</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_LOG10E</td>
<td class="list-col" style="margin-top: 1.00em;">
0.43429448190325182765</td>
<td class="list-col" style="margin-top: 1.00em;">
log 10e</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_LN2</td>
<td class="list-col" style="margin-top: 1.00em;">
0.69314718055994530942</td>
<td class="list-col" style="margin-top: 1.00em;">
log e2</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_LN10</td>
<td class="list-col" style="margin-top: 1.00em;">
2.30258509299404568402</td>
<td class="list-col" style="margin-top: 1.00em;">
log e10</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_PI</td>
<td class="list-col" style="margin-top: 1.00em;">
3.14159265358979323846</td>
<td class="list-col" style="margin-top: 1.00em;">
pi</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_PI_2</td>
<td class="list-col" style="margin-top: 1.00em;">
1.57079632679489661923</td>
<td class="list-col" style="margin-top: 1.00em;">
pi/2</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_PI_4</td>
<td class="list-col" style="margin-top: 1.00em;">
0.78539816339744830962</td>
<td class="list-col" style="margin-top: 1.00em;">
pi/4</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_1_PI</td>
<td class="list-col" style="margin-top: 1.00em;">
0.31830988618379067154</td>
<td class="list-col" style="margin-top: 1.00em;">
1/pi</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_2_PI</td>
<td class="list-col" style="margin-top: 1.00em;">
0.63661977236758134308</td>
<td class="list-col" style="margin-top: 1.00em;">
2/pi</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_2_SQRTPI</td>
<td class="list-col" style="margin-top: 1.00em;">
1.12837916709551257390</td>
<td class="list-col" style="margin-top: 1.00em;">
2/sqrt(pi)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_SQRT2</td>
<td class="list-col" style="margin-top: 1.00em;">
1.41421356237309504880</td>
<td class="list-col" style="margin-top: 1.00em;">
sqrt(2)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
M_SQRT1_2</td>
<td class="list-col" style="margin-top: 1.00em;">
0.70710678118654752440</td>
<td class="list-col" style="margin-top: 1.00em;">
1/sqrt(2)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> In 4.3 BSD, distributed from the University of California in late 1985, most of the foregoing functions come in two versions, one for the double&#45;precision "D" format in the DEC VAX&#45;11 family of computers, another for double&#45;precision arithmetic conforming to the IEEE Standard 754 for Binary Floating&#45;Point Arithmetic. The two versions behave very similarly, as should be expected from programs more accurate and robust than was the norm when UNIX was born. For instance, the programs are accurate to within the numbers of <span class="define">ULPs</span> tabulated above; an <span class="define">ULP</span> is one Unit in the Last Place. And the programs have been cured of anomalies that afflicted the older math library in which incidents like the following had been reported:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
sqrt(&#45;1.0) = 0.0 and log(&#45;1.0) = &#45;1.7e38. 
cos(1.0e&#45;11) &gt; cos(0.0) &gt; 1.0. 
pow(x,1.0) &#8800; x when x = 2.0, 3.0, 4.0, ..., 9.0. 
pow(&#45;1.0,1.0e10) trapped on Integer Overflow. 
sqrt(1.0e30) and sqrt(1.0e&#45;30) were very slow.</pre>
However the two versions do differ in ways that have to be explained, to which end the following notes are provided.<div class="subsection">
<h2 id="x444543205641585c2d313120445f666c6f6174696e675c2d706f696e74">DEC VAX&#45;11 D_floating&#45;point</h2> This is the format for which the original math library was developed, and to which this manual is still principally dedicated. It is <span class="emph">the</span> double&#45;precision format for the PDP&#45;11 and the earlier VAX&#45;11 machines; VAX&#45;11s after 1983 were provided with an optional "G" format closer to the IEEE double&#45;precision format. The earlier DEC MicroVAXs have no D format, only G double&#45;precision. (Why? Why not?)<p>
Properties of D_floating&#45;point:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-hang">
<dt class="list-hang" style="margin-top: 1.00em;">
Wordsize:</dt>
<dd class="list-hang">
64 bits, 8 bytes.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Radix:</dt>
<dd class="list-hang">
Binary.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Precision:</dt>
<dd class="list-hang">
56 significant bits, roughly like 17 significant decimals. If x and x' are consecutive positive D_floating&#45;point numbers (they differ by 1 <span class="define">ULP</span>), then<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">1.3e&#45;17 &lt; 0.5**56 &lt; (x'&#45;x)/x &#8804; 0.5**55 &lt; 2.8e&#45;17.</code></div>
</blockquote>
</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Range:</dt>
<dd class="list-hang">
<table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 20.00ex;">
<col style="min-width: 9.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Overflow threshold</td>
<td class="list-col" style="margin-top: 1.00em;">
= 2.0**127</td>
<td class="list-col" style="margin-top: 1.00em;">
= 1.7e38.</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Underflow threshold</td>
<td class="list-col" style="margin-top: 1.00em;">
= 0.5**128</td>
<td class="list-col" style="margin-top: 1.00em;">
= 2.9e&#45;39.</td>
</tr>
</tbody>
</table>
<span class="emph">NOTE: THIS RANGE IS COMPARATIVELY NARROW.</span><p>
Overflow customarily stops computation. Underflow is customarily flushed quietly to zero. <span class="emph">CAUTION</span>: It is possible to have x &#8800; y and yet x&#45;y = 0 because of underflow. Similarly x &gt; y &gt; 0 cannot prevent either x&#8727;y = 0 or y/x = 0 from happening without warning.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Zero is represented ambiguously:</dt>
<dd class="list-hang">
Although 2**55 different representations of zero are accepted by the hardware, only the obvious representation is ever produced. There is no &#45;0 on a VAX.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
infinity is not part of the VAX architecture.</dt>
<dd class="list-hang">
</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Reserved operands:</dt>
<dd class="list-hang">
of the 2**55 that the hardware recognizes, only one of them is ever produced. Any floating&#45;point operation upon a reserved operand, even a MOVF or MOVD, customarily stops computation, so they are not much used.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Exceptions:</dt>
<dd class="list-hang">
Divisions by zero and operations that overflow are invalid operations that customarily stop computation or, in earlier machines, produce reserved operands that will stop computation.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Rounding:</dt>
<dd class="list-hang">
Every rational operation  (+, &#45;, &#8727;, /) on a VAX (but not necessarily on a PDP&#45;11), if not an over/underflow nor division by zero, is rounded to within half an <span class="define">ULP</span>, and when the rounding error is exactly half an <span class="define">ULP</span> then rounding is away from 0.</dd>
</dl>
<p>
Except for its narrow range, D_floating&#45;point is one of the better computer arithmetics designed in the 1960's. Its properties are reflected fairly faithfully in the elementary functions for a VAX distributed in 4.3 BSD. They over/underflow only if their results have to lie out of range or very nearly so, and then they behave much as any rational arithmetic operation that over/underflowed would behave. Similarly, expressions like log(0) and atanh(1) behave like 1/0; and sqrt(&#45;3) and acos(3) behave like 0/0; they all produce reserved operands and/or stop computation! The situation is described in more detail in manual pages.<p>
<span class="emph">This response seems excessively punitive, so it is destined</span> <span class="emph">to be replaced at some time in the foreseeable future by a</span> <span class="emph">more flexible but still uniform scheme being developed to</span> <span class="emph">handle all floating&#45;point arithmetic exceptions neatly.</span><p>
How do the functions in 4.3 BSD's new math library for UNIX compare with their counterparts in DEC's VAX/VMS library? Some of the VMS functions are a little faster, some are a little more accurate, some are more puritanical about exceptions (like pow(0.0,0.0) and atan2(0.0,0.0)), and most occupy much more memory than their counterparts in libm. The VMS codes interpolate in large table to achieve speed and accuracy; the libm codes use tricky formulas compact enough that all of them may some day fit into a ROM.<p>
More important, DEC regards the VMS codes as proprietary and guards them zealously against unauthorized use. But the libm codes in 4.3 BSD are intended for the public domain; they may be copied freely provided their provenance is always acknowledged, and provided users assist the authors in their researches by reporting experience with the codes. Therefore no user of UNIX on a machine whose arithmetic resembles VAX D_floating&#45;point need use anything worse than the new libm.</div>
<div class="subsection">
<h2 id="x49454545205354414e444152442037353420466c6f6174696e675c2d506f696e742041726974686d65746963">IEEE STANDARD 754 Floating&#45;Point Arithmetic</h2> This standard is on its way to becoming more widely adopted than any other design for computer arithmetic. VLSI chips that conform to some version of that standard have been produced by a host of manufacturers, among them ...<table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="min-width: 21.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Intel i8087, i80287</td>
<td class="list-col" style="margin-top: 1.00em;">
National Semiconductor 32081</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
68881</td>
<td class="list-col" style="margin-top: 1.00em;">
Weitek WTL-1032, ..., -1165</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Zilog Z8070</td>
<td class="list-col" style="margin-top: 1.00em;">
Western Electric (AT&amp;T) WE32106.</td>
</tr>
</tbody>
</table>
Other implementations range from software, done thoroughly in the Apple Macintosh, through VLSI in the Hewlett&#45;Packard 9000 series, to the ELXSI 6400 running ECL at 3 Megaflops. Several other companies have adopted the formats of IEEE 754 without, alas, adhering to the standard's way of handling rounding and exceptions like over/underflow. The DEC VAX G_floating&#45;point format is very similar to the IEEE 754 Double format, so similar that the C programs for the IEEE versions of most of the elementary functions listed above could easily be converted to run on a MicroVAX, though nobody has volunteered to do that yet.<p>
The codes in 4.3 BSD's libm for machines that conform to IEEE 754 are intended primarily for the National Semiconductor 32081 and WTL 1164/65. To use these codes with the Intel or Zilog chips, or with the Apple Macintosh or ELXSI 6400, is to forego the use of better codes provided (perhaps freely) by those companies and designed by some of the authors of the codes above. Except for <b class="fname">atan</b>(), <b class="fname">cbrt</b>(), <b class="fname">erf</b>(), <b class="fname">erfc</b>(), <b class="fname">hypot</b>(), <b class="fname">j0-jn</b>(), <b class="fname">lgamma</b>(), <b class="fname">pow</b>(), and <b class="fname">y0&#45;yn</b>(), the Motorola 68881 has all the functions in libm on chip, and faster and more accurate; it, Apple, the i8087, Z8070 and WE32106 all use 64 significant bits. The main virtue of 4.3 BSD's libm codes is that they are intended for the public domain; they may be copied freely provided their provenance is always acknowledged, and provided users assist the authors in their researches by reporting experience with the codes. Therefore no user of UNIX on a machine that conforms to IEEE 754 need use anything worse than the new libm.<p>
Properties of IEEE 754 Double&#45;Precision:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-hang">
<dt class="list-hang" style="margin-top: 1.00em;">
Wordsize:</dt>
<dd class="list-hang">
64 bits, 8 bytes.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Radix:</dt>
<dd class="list-hang">
Binary.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Precision:</dt>
<dd class="list-hang">
53 significant bits, roughly like 16 significant decimals. If x and x' are consecutive positive Double&#45;Precision numbers (they differ by 1 <span class="define">ULP</span>), then<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">1.1e&#45;16 &lt; 0.5**53 &lt; (x'&#45;x)/x &#8804; 0.5**52 &lt; 2.3e&#45;16.</code></div>
</blockquote>
</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Range:</dt>
<dd class="list-hang">
<table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 20.00ex;">
<col style="min-width: 10.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Overflow threshold</td>
<td class="list-col" style="margin-top: 1.00em;">
= 2.0**1024</td>
<td class="list-col" style="margin-top: 1.00em;">
= 1.8e308</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Underflow threshold</td>
<td class="list-col" style="margin-top: 1.00em;">
= 0.5**1022</td>
<td class="list-col" style="margin-top: 1.00em;">
= 2.2e&#45;308</td>
</tr>
</tbody>
</table>
Overflow goes by default to a signed infinity. Underflow is <span class="symb">Gradual</span>, rounding to the nearest integer multiple of 0.5**1074 = 4.9e&#45;324.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Zero is represented ambiguously as +0 or &#45;0:</dt>
<dd class="list-hang">
Its sign transforms correctly through multiplication or division, and is preserved by addition of zeros with like signs; but x&#45;x yields +0 for every finite x. The only operations that reveal zero's sign are division by zero and copysign(x,&#177;0). In particular, comparison (x &gt; y, x &#8805; y, etc.) cannot be affected by the sign of zero; but if finite x = y then infinity = 1/(x&#45;y) &#8800; &#45;1/(y&#45;x) = &#45; infinity .</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
infinity is signed:</dt>
<dd class="list-hang">
it persists when added to itself or to any finite number. Its sign transforms correctly through multiplication and division, and infinity (finite)/&#177; &#8194;=&#8194;&#177;0 (nonzero)/0 = &#177; infinity. But &#8734;&#45;&#8734;, &#8734;&#8727;0 and &#8734;/&#8734; are, like 0/0 and sqrt(&#45;3), invalid operations that produce NaN.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Reserved operands:</dt>
<dd class="list-hang">
there are 2**53&#45;2 of them, all called NaN (Not A Number). Some, called Signaling NaNs, trap any floating&#45;point operation performed upon them; they are used to mark missing or uninitialized values, or nonexistent elements of arrays. The rest are Quiet NaNs; they are the default results of Invalid Operations, and propagate through subsequent arithmetic operations. If x &#8800; x then x is NaN; every other predicate (x &gt; y, x = y, x &lt; y, ...) is FALSE if NaN is involved.<p>
<span class="emph">NOTE</span>: Trichotomy is violated by NaN. Besides being FALSE, predicates that entail ordered comparison, rather than mere (in)equality, signal Invalid Operation when NaN is involved.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Rounding:</dt>
<dd class="list-hang">
Every algebraic operation (+, &#45;, &#8727;, /, &#8730;) is rounded by default to within half an <span class="define">ULP</span>, and when the rounding error is exactly half an <span class="define">ULP</span> then the rounded value's least significant bit is zero. This kind of rounding is usually the best kind, sometimes provably so; for instance, for every x = 1.0, 2.0, 3.0, 4.0, ..., 2.0**52, we find (x/3.0)&#8727;3.0 == x and (x/10.0)&#8727;10.0 == x and ... despite that both the quotients and the products have been rounded. Only rounding like IEEE 754 can do that. But no single kind of rounding can be proved best for every circumstance, so IEEE 754 provides rounding towards zero or towards +infinity or towards &#45;infinity at the programmer's option. And the same kinds of rounding are specified for Binary&#45;Decimal Conversions, at least for magnitudes between roughly 1.0e&#45;10 and 1.0e37.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
Exceptions:</dt>
<dd class="list-hang">
IEEE 754 recognizes five kinds of floating&#45;point exceptions, listed below in declining order of probable importance.<table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 18.00ex;">
<col style="min-width: 17.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Exception</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Default Result</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Invalid Operation</td>
<td class="list-col" style="margin-top: 1.00em;">
NaN, or FALSE</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Overflow</td>
<td class="list-col" style="margin-top: 1.00em;">
&#177;&#8734;</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Divide by Zero</td>
<td class="list-col" style="margin-top: 1.00em;">
&#177;&#8734; </td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Underflow</td>
<td class="list-col" style="margin-top: 1.00em;">
Gradual Underflow</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Inexact</td>
<td class="list-col" style="margin-top: 1.00em;">
Rounded value</td>
</tr>
</tbody>
</table>
<p>
<span class="emph">NOTE</span>: An Exception is not an Error unless handled badly. What makes a class of exceptions exceptional is that no single default response can be satisfactory in every instance. On the other hand, if a default response will serve most instances satisfactorily, the unsatisfactory instances cannot justify aborting computation every time the exception occurs.</dd>
</dl>
<p>
For each kind of floating&#45;point exception, IEEE 754 provides a Flag that is raised each time its exception is signaled, and stays raised until the program resets it. Programs may also test, save and restore a flag. Thus, IEEE 754 provides three ways by which programs may cope with exceptions for which the default result might be unsatisfactory:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
Test for a condition that might cause an exception later, and branch to avoid the exception.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Test a flag to see whether an exception has occurred since the program last reset its flag.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Test a result to see whether it is a value that only an exception could have produced. <span class="emph">CAUTION</span>: The only reliable ways to discover whether Underflow has occurred are to test whether products or quotients lie closer to zero than the underflow threshold, or to test the Underflow flag. (Sums and differences cannot underflow in IEEE 754; if x &#8800; y then x&#45;y is correct to full precision and certainly nonzero regardless of how tiny it may be.) Products and quotients that underflow gradually can lose accuracy gradually without vanishing, so comparing them with zero (as one might on a VAX) will not reveal the loss. Fortunately, if a gradually underflowed value is destined to be added to something bigger than the underflow threshold, as is almost always the case, digits lost to gradual underflow will not be missed because they would have been rounded off anyway. So gradual underflows are usually <span class="emph">provably</span> ignorable. The same cannot be said of underflows flushed to 0.<p>
At the option of an implementor conforming to IEEE 754, other ways to cope with exceptions may be provided:</li>
<li class="list-enum" style="margin-top: 1.00em;">
ABORT. This mechanism classifies an exception in advance as an incident to be handled by means traditionally associated with error&#45;handling statements like "ON ERROR GO TO ...". Different languages offer different forms of this statement, but most share the following characteristics:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-dash">
<li class="list-dash" style="margin-top: 1.00em;">
No means is provided to substitute a value for the offending operation's result and resume computation from what may be the middle of an expression. An exceptional result is abandoned.</li>
<li class="list-dash" style="margin-top: 1.00em;">
In a subprogram that lacks an error&#45;handling statement, an exception causes the subprogram to abort within whatever program called it, and so on back up the chain of calling subprograms until an error&#45;handling statement is encountered or the whole task is aborted and memory is dumped.</li>
</ul>
</li>
<li class="list-enum" style="margin-top: 1.00em;">
STOP. This mechanism, requiring an interactive debugging environment, is more for the programmer than the program. It classifies an exception in advance as a symptom of a programmer's error; the exception suspends execution as near as it can to the offending operation so that the programmer can look around to see how it happened. Quite often the first several exceptions turn out to be quite unexceptionable, so the programmer ought ideally to be able to resume execution after each one as if execution had not been stopped.</li>
<li class="list-enum" style="margin-top: 1.00em;">
... Other ways lie beyond the scope of this document.</li>
</ol>
<p>
The crucial problem for exception handling is the problem of Scope, and the problem's solution is understood, but not enough manpower was available to implement it fully in time to be distributed in 4.3 BSD's libm. Ideally, each elementary function should act as if it were indivisible, or atomic, in the sense that ...<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
No exception should be signaled that is not deserved by the data supplied to that function.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Any exception signaled should be identified with that function rather than with one of its subroutines.</li>
<li class="list-enum" style="margin-top: 1.00em;">
The internal behavior of an atomic function should not be disrupted when a calling program changes from one to another of the five or so ways of handling exceptions listed above, although the definition of the function may be correlated intentionally with exception handling.</li>
</ol>
<p>
Ideally, every programmer should be able <span class="emph">conveniently</span> to turn a debugged subprogram into one that appears atomic to its users. But simulating all three characteristics of an atomic function is still a tedious affair, entailing hosts of tests and saves&#45;restores; work is under way to ameliorate the inconvenience.<p>
Meanwhile, the functions in libm are only approximately atomic. They signal no inappropriate exception except possibly ...<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-ohang">
<dt class="list-ohang" style="margin-top: 1.00em;">
Over/Underflow</dt>
<dd class="list-ohang">
when a result, if properly computed, might have lain barely within range, and</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
Inexact in <b class="fname">cbrt</b>(), <b class="fname">hypot</b>(), <b class="fname">log10</b>() and <b class="fname">pow</b>()</dt>
<dd class="list-ohang">
when it happens to be exact, thanks to fortuitous cancellation of errors.</dd>
</dl>
Otherwise, ...<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-ohang">
<dt class="list-ohang" style="margin-top: 1.00em;">
Invalid Operation is signaled only when</dt>
<dd class="list-ohang">
any result but NaN would probably be misleading.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
Overflow is signaled only when</dt>
<dd class="list-ohang">
the exact result would be finite but beyond the overflow threshold.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
Divide&#45;by&#45;Zero is signaled only when</dt>
<dd class="list-ohang">
a function takes exactly infinite values at finite operands.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
Underflow is signaled only when</dt>
<dd class="list-ohang">
the exact result would be nonzero but tinier than the underflow threshold.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
Inexact is signaled only when</dt>
<dd class="list-ohang">
greater range or precision would be needed to represent the exact result.</dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> An explanation of IEEE 754 and its proposed extension p854 was published in the IEEE magazine MICRO in August 1984 under the title "A Proposed Radix&#45; and Word&#45;length&#45;independent Standard for Floating&#45;point Arithmetic" by W. J. Cody et al. The manuals for Pascal, C and BASIC on the Apple Macintosh document the features of IEEE 754 pretty well. Articles in the IEEE magazine COMPUTER vol. 14 no. 3 (Mar. 1981), and in the ACM SIGNUM Newsletter Special Issue of Oct. 1979, may be helpful although they pertain to superseded drafts of the standard.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> When signals are appropriate, they are emitted by certain operations within the codes, so a subroutine&#45;trace may be needed to identify the function with its signal in case method 5) above is in use. And the codes all take the IEEE 754 defaults for granted; this means that a decision to trap all divisions by zero could disrupt a code that would otherwise get correct results despite division by zero.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
February 23, 2007</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

