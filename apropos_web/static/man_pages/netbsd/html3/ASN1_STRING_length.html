<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ASN1_STRING_length(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ASN1_STRING_length(3)</td>
<td class="head-vol" align="center">
OpenSSL</td>
<td class="head-rtitle" align="right">
ASN1_STRING_length(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ASN1_STRING_dup, ASN1_STRING_cmp, ASN1_STRING_set, ASN1_STRING_length, ASN1_STRING_length_set, ASN1_STRING_type, ASN1_STRING_data &#45; ASN1_STRING utility functions</div>
<div class="section">
<h1>LIBRARY</h1> libcrypto, -lcrypto</div>
<div class="section">
<h1>SYNOPSIS</h1><br>
 #include &lt;openssl/asn1.h&gt;<br>
<br>
 int ASN1_STRING_length(ASN1_STRING *x);<br>
 unsigned char * ASN1_STRING_data(ASN1_STRING *x);<br>
<br>
 ASN1_STRING * ASN1_STRING_dup(ASN1_STRING *a);<br>
<br>
 int ASN1_STRING_cmp(ASN1_STRING *a, ASN1_STRING *b);<br>
<br>
 int ASN1_STRING_set(ASN1_STRING *str, const void *data, int len);<br>
<br>
 int ASN1_STRING_type(ASN1_STRING *x);<br>
<br>
 int ASN1_STRING_to_UTF8(unsigned char **out, ASN1_STRING *in);<br>
</div>
<div class="section">
<h1>DESCRIPTION</h1> These functions allow an  <b>ASN1_STRING</b> structure to be manipulated.<p>
<i>ASN1_STRING_length()</i> returns the length of the content of <b>x</b>.<p>
<i>ASN1_STRING_data()</i> returns an internal pointer to the data of <b>x</b>. Since this is an internal pointer it should  <b>not</b> be freed or modified in any way.<p>
<i>ASN1_STRING_dup()</i> returns a copy of the structure <b>a</b>.<p>
<i>ASN1_STRING_cmp()</i> compares <b>a</b> and <b>b</b> returning 0 if the two are identical. The string types and content are compared.<p>
<i>ASN1_STRING_set()</i> sets the data of string <b>str</b> to the buffer  <b>data</b> or length <b>len</b>. The supplied data is copied. If <b>len</b> is &#45;1 then the length is determined by strlen(data).<p>
<i>ASN1_STRING_type()</i> returns the type of <b>x</b>, using standard constants such as  <b>V_ASN1_OCTET_STRING</b>.<p>
<i>ASN1_STRING_to_UTF8()</i> converts the string <b>in</b> to UTF8 format, the converted data is allocated in a buffer in  <b>*out</b>. The length of  <b>out</b> is returned or a negative error code. The buffer <b>*out</b> should be free using  <i>OPENSSL_free()</i>.</div>
<div class="section">
<h1>NOTES</h1> Almost all ASN1 types in OpenSSL are represented as an  <b>ASN1_STRING</b> structure. Other types such as  <b>ASN1_OCTET_STRING</b> are simply typedefed to  <b>ASN1_STRING</b> and the functions call the <b>ASN1_STRING</b> equivalents.  <b>ASN1_STRING</b> is also used for some <b>CHOICE</b> types which consist entirely of primitive string types such as  <b>DirectoryString</b> and  <b>Time</b>.<p>
These functions should <b>not</b> be used to examine or modify <b>ASN1_INTEGER</b> or  <b>ASN1_ENUMERATED</b> types: the relevant <b>INTEGER</b> or <b>ENUMERATED</b> utility functions should be used instead.<p>
In general it cannot be assumed that the data returned by <i>ASN1_STRING_data()</i> is null terminated or does not contain embedded nulls. The actual format of the data will depend on the actual string type itself: for example for and IA5String the data will be ASCII, for a BMPString two bytes per character in big endian format, UTF8String will be in UTF8 format.<p>
Similar care should be take to ensure the data is in the correct format when calling  <i>ASN1_STRING_set()</i>.</div>
<div class="section">
<h1>RETURN VALUES</h1></div>
<div class="section">
<h1>SEE ALSO</h1>  <i>ERR_get_error</i>(3)</div>
<div class="section">
<h1>HISTORY</h1></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
2009-07-19</td>
<td class="foot-os" align="right">
1.0.1n</td>
</tr>
</table>
</div>
</body>
<>

