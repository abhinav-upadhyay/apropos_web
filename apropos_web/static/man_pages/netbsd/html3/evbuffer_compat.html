<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
evbuffer_compat(3)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
evbuffer_compat(3)</td>
<td class="head-vol" align="center">
Library Functions Manual</td>
<td class="head-rtitle" align="right">
evbuffer_compat(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> evbuffer_compat &#45;<p>
Obsolete and deprecated versions of the functions in <b>buffer.h</b>: provided only for backward compatibility.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1> #include &lt;event2/buffer_compat.h&gt;<div style="height: 0.00em;">
&#160;</div>
<div class="subsection">
<h2>Macros</h2><br>
#define <b>EVBUFFER_DATA</b>(x)   <b>evbuffer_pullup</b>((x), -1)<div style="height: 0.00em;">
&#160;</div>
<i>deprecated in favor of calling the functions directly </i> #define  <b>EVBUFFER_LENGTH</b>(x)   <b>evbuffer_get_length</b>(x)<div style="height: 0.00em;">
&#160;</div>
<i>deprecated in favor of calling the functions directly </i><br>
</div>
<div class="subsection">
<h2>Typedefs</h2><br>
typedef void(* <b>evbuffer_cb</b> )(struct <b>evbuffer</b> *buffer, size_t old_len, size_t new_len, void *arg)<div style="height: 0.00em;">
&#160;</div>
<i>Type definition for a callback that is invoked whenever data is added or removed from an evbuffer. </i><br>
</div>
<div class="subsection">
<h2>Functions</h2><br>
unsigned char * <b>evbuffer_find</b> (struct <b>evbuffer</b> *buffer, const unsigned char *what, size_t len)<div style="height: 0.00em;">
&#160;</div>
<i>Find a string within an evbuffer. </i> char *  <b>evbuffer_readline</b> (struct <b>evbuffer</b> *buffer)<div style="height: 0.00em;">
&#160;</div>
<i>Obsolete alias for evbuffer_readln(buffer, NULL, EOL_STYLE_ANY). </i> void  <b>evbuffer_setcb</b> (struct <b>evbuffer</b> *buffer, <b>evbuffer_cb</b> cb, void *cbarg)<div style="height: 0.00em;">
&#160;</div>
<i>Replace all callbacks on an evbuffer with a single new callback, or remove them. </i><br>
</div>
</div>
<div class="section">
<h1>Detailed Description</h1> Obsolete and deprecated versions of the functions in  <b>buffer.h</b>: provided only for backward compatibility.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>Typedef Documentation</h1><div class="subsection">
<h2>typedef void(* evbuffer_cb)(struct <b>evbuffer</b> *buffer, size_t old_len, size_t new_len, void *arg)</h2> Type definition for a callback that is invoked whenever data is added or removed from an evbuffer. An evbuffer may have one or more callbacks set at a time. The order in which they are executed is undefined.<p>
A callback function may add more callbacks, or remove itself from the list of callbacks, or add or remove data from the buffer. It may not remove another callback from the list.<p>
If a callback adds or removes data from the buffer or from another buffer, this can cause a recursive invocation of your callback or other callbacks. If you ask for an infinite loop, you might just get one: watch out!<p>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>buffer</i> the buffer whose size has changed<div style="height: 0.00em;">
&#160;</div>
<i>old_len</i> the previous length of the buffer<div style="height: 0.00em;">
&#160;</div>
<i>new_len</i> the current length of the buffer<div style="height: 0.00em;">
&#160;</div>
<i>arg</i> a pointer to user data</div>
<p>
<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>Function Documentation</h1><div class="subsection">
<h2>unsigned char* evbuffer_find (struct <b>evbuffer</b> *buffer, const unsigned char *what, size_tlen)</h2> Find a string within an evbuffer.<p>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>buffer</i> the evbuffer to be searched<div style="height: 0.00em;">
&#160;</div>
<i>what</i> the string to be searched for<div style="height: 0.00em;">
&#160;</div>
<i>len</i> the length of the search string</div>
<p>
<b>Returns:</b><div style="margin-left: 4.00ex;">
a pointer to the beginning of the search string, or NULL if the search failed.</div>
<p>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>char* evbuffer_readline (struct <b>evbuffer</b> *buffer)</h2> Obsolete alias for evbuffer_readln(buffer, NULL, EOL_STYLE_ANY).<p>
<b>Deprecated</b><div style="margin-left: 4.00ex;">
This function is deprecated because its behavior is not correct for almost any protocol, and also because it's wholly subsumed by <b>evbuffer_readln()</b>.</div>
<p>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>buffer</i> the evbuffer to read from</div>
<p>
<b>Returns:</b><div style="margin-left: 4.00ex;">
pointer to a single line, or NULL if an error occurred</div>
<p>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>void evbuffer_setcb (struct <b>evbuffer</b> *buffer, <b>evbuffer_cb</b>cb, void *cbarg)</h2> Replace all callbacks on an evbuffer with a single new callback, or remove them. Subsequent calls to  <b>evbuffer_setcb()</b> replace callbacks set by previous calls. Setting the callback to NULL removes any previously set callback.<p>
<b>Deprecated</b><div style="margin-left: 4.00ex;">
This function is deprecated because it clears all previous callbacks set on the evbuffer, which can cause confusing behavior if multiple parts of the code all want to add their own callbacks on a buffer. Instead, use <b>evbuffer_add()</b>, evbuffer_del(), and evbuffer_setflags() to manage your own evbuffer callbacks without interfering with callbacks set by others.</div>
<p>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>buffer</i> the evbuffer to be monitored<div style="height: 0.00em;">
&#160;</div>
<i>cb</i> the callback function to invoke when the evbuffer is modified, or NULL to remove all callbacks.<div style="height: 0.00em;">
&#160;</div>
<i>cbarg</i> an argument to be provided to the callback function</div>
<p>
<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>Author</h1> Generated automatically by Doxygen for libevent from the source code.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
Tue Jan 27 2015</td>
<td class="foot-os" align="right">
libevent</td>
</tr>
</table>
</div>
</body>
<>

