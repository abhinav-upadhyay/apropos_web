<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RADIO(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RADIO(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
RADIO(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">radio</b> &#8212; <span class="desc">device-independent radio driver layer</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">radio* at az?</b><br>
<b class="config">radio* at bktr?</b><br>
<b class="config">radio* at gtp?</b><br>
<b class="config">radio* at rt?</b><br>
<b class="config">radio* at rtii?</b><br>
<b class="config">radio* at sf2r?</b><br>
<b class="config">radio* at udsbr?</b><p>
<br>
<b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">sys/ioctl.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">sys/radioio.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">radio</b> driver provides support for various FM radio cards. It provides an uniform programming interface layer above different underlying radio hardware drivers.<p>
For radio tuner controlling there is a single device file available: <i class="file">/dev/radio</i>.<p>
The following <a class="link-man" href="../html2/ioctl.html">ioctl(2)</a> commands are supported:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RIOCSSRCH (int)</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command assumes that a signal search is required and gives direction of search to the driver &#45; 0 to search down and any non-zero value to search up.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RIOCGINFO (struct radio_info)</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RIOCSINFO (struct radio_info)</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Get or set the current hardware device information into the struct radio_info structure.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
struct radio_info { 
	int	mute; 
	int	volume; 
	int	stereo; 
	int	rfreq;	/* reference frequency */ 
	int	lock;	/* locking field strength */ 
	uint32_t	freq;	/* in kHz */ 
	uint32_t	caps;	/* card capabilities */ 
#define RADIO_CAPS_DETECT_STEREO	(1&lt;&lt;0) 
#define RADIO_CAPS_DETECT_SIGNAL	(1&lt;&lt;1) 
#define RADIO_CAPS_SET_MONO		(1&lt;&lt;2) 
#define RADIO_CAPS_HW_SEARCH		(1&lt;&lt;3) 
#define RADIO_CAPS_HW_AFC		(1&lt;&lt;4) 
#define RADIO_CAPS_REFERENCE_FREQ	(1&lt;&lt;5) 
#define RADIO_CAPS_LOCK_SENSITIVITY	(1&lt;&lt;6) 
#define RADIO_CARD_TYPE			(0xFF&lt;&lt;16) 
	uint32_t	info; 
#define RADIO_INFO_STEREO		(1&lt;&lt;0) 
#define RADIO_INFO_SIGNAL		(1&lt;&lt;1) 
};</pre>
<p>
The <b class="var">mute</b> field is a boolean.<p>
The <b class="var">volume</b> field holds the card volume information and can be at most 255.<p>
The <b class="var">stereo</b> field is a boolean.<p>
The <b class="var">rfreq</b> holds information about the card reference frequency (not all cards support this feature).<p>
The <b class="var">lock</b> field holds information about the card locking field strength during an automatic search for cards that support this feature.<p>
The <b class="var">freq</b> field is the frequency in kHz the card is tuned to.<p>
The <b class="var">caps</b> field is read-only and describes the card capabilities. The capabilities can have following values:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_CAPS_DETECT_STEREO</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The device can determine is it tuned to a stereo signal.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_CAPS_DETECT_SIGNAL</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The device can determine is it tuned or not.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_CAPS_SET_MONO</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The device capable to forcible set its output to mono.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_CAPS_HW_SEARCH</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The device can do hardware search.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_CAPS_HW_AFC</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The device has an internal hardware automatic frequency control.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_CAPS_REFERENCE_FREQ</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The device allow to change the reference frequency of a received signal.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_CAPS_LOCK_SENSITIVITY</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The device allow to change the station lock sensitivity used during search operation.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_CARD_TYPE</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Some cards have several different incarnations. This allow to determine the variant of the card. Currently not used.</dd>
</dl>
<p>
The <b class="var">info</b> field is read-only and describes the current state of the card &#45; tuned/not tuned, stereo signal/mono signal.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_INFO_STEREO</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Informs whether the device receives a stereo or mono signal.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">RADIO_INFO_SIGNAL</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Informs whether the device receives a valid signal or noise.</dd>
</dl>
</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/dev/radio</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/radioctl.html">radioctl(1)</a>, <a class="link-man" href="../html2/ioctl.html">ioctl(2)</a>, <a class="link-man" href="../html4/az.html">az(4)</a>, <a class="link-man" href="../html4/bktr.html">bktr(4)</a>, <a class="link-man" href="../html4/gtp.html">gtp(4)</a>, <a class="link-man" href="../html4/rt.html">rt(4)</a>, <a class="link-man" href="../html4/rtii.html">rtii(4)</a>, <a class="link-man" href="../html4/sf2r.html">sf2r(4)</a>, <a class="link-man" href="../html4/udsbr.html">udsbr(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">radio</b> device driver appeared in <span class="unix">OpenBSD&#160;3.0</span> and <span class="unix">NetBSD&#160;1.6</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">radio</b> driver was written by Vladimir Popov and Maxim Tsyplakov. The man page was written by Vladimir Popov.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 20, 2001</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

