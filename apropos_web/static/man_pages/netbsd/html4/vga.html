<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
VGA(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
VGA(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
VGA(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">vga</b> &#8212; <span class="desc">VGA graphics driver for wscons</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">options VGA_CONSOLE_SCREENTYPE="??x??"</b><br>
<b class="config">options VGA_CONSOLE_ATI_BROKEN_FONTSEL</b><p>
<br>
<b class="config">vga0 at isa?</b><br>
<b class="config">vga* at pci?</b><br>
<b class="config">wsdisplay* at vga? console ?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This driver handles VGA graphics hardware within the <a class="link-man" href="../4/wscons">wscons(4)</a> console framework. It doesn't provide direct device driver entry points but makes its functions available via the internal <a class="link-man" href="../4/wsdisplay">wsdisplay(4)</a> interface.<p>
The <b class="name">vga</b> driver supports text-mode hardware acceleration on the VGA hardware. Currently, the driver runs the display with a 720&#215;400 pixel resolution. The VGA text-mode accelerator divides the display into fixed-size character cells. The size of the character cells specifies the number of characters available on the screen and the resolution of the font. The wsdisplay screen &#8220;types&#8221; supported by the <b class="name">vga</b> driver are described by the number of character cells available on the screen. See below for a complete list of supported screen modes in the <b class="name">vga</b> driver.<p>
Each screen mode requires a suitable font to be loaded into the kernel by the <a class="link-man" href="../8/wsfontload">wsfontload(8)</a> utility, before the screen can be used. The size of the font and the screen mode must match for use on the 720&#215;400 display. For example, a screen mode with 80 columns and 40 rows requires a font where each character is 8 pixels wide and 10 pixels high. The <b class="name">vga</b> driver can display fonts of the original IBM type and ISO-8859-1 encoded fonts. A builtin font of 256 characters and 8&#215;16 pixels is always present on the VGA hardware.<p>
The colour VGA hardware supports the display of 16 different colours at the same time. It is possible with VGA colour systems to use fonts with 512 characters at any one time. This is due to the fact that with VGA adapters one can specify an alternate font to be used instead of bright letters (used for highlighting on the screen). As an experimental feature, the &#8220;higher half&#8221; fonts of the former <span class="unix">NetBSD</span>/i386 <b class="name">pcvt</b> driver distribution can be used too if the kernel option &#8220;WSCONS_SUPPORT_PCVTFONTS&#8221; was set at compile time. This is only useful with the &#8220;*bf&#8221; screen types; a font containing the ASCII range of characters must be available too on this screen.<p>
Currently, the following screen types are supported:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-hang">
<dt class="list-hang" style="margin-top: 1.00em;">
80x25</dt>
<dd class="list-hang">
This is the standard VGA text mode with 80 columns and 25 rows. Sixteen different colors can be displayed at the same time. Characters are 8&#215;16 pixels, and a font consists of 256 characters.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
80x25bf</dt>
<dd class="list-hang">
is a modified version of the previous. It only allows 8 colors to be displayed. In exchange, it can access two fonts at the same time, so that 512 different characters can be displayed.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
80x40</dt>
<dd class="list-hang">
A text mode with 80 columns and 40 rows. Similar to the standard mode, 16 colors and 256 characters are available. Characters are 8&#215;10 pixels. For this mode to be useful, a font of that character size must be downloaded.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
80x40bf</dt>
<dd class="list-hang">
is analogously to &#8220;80x25bf&#8221; a version with 512 displayable characters but 8 colors only.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
80x50</dt>
<dd class="list-hang">
A text mode with 80 columns and 50 rows. Similar to the standard mode, 16 colors and 256 characters are available. Characters are 8&#215;8 pixels. For this mode to be useful, a font of that character size must be downloaded.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
80x50bf</dt>
<dd class="list-hang">
is analogously to &#8220;80x25bf&#8221; a version with 512 displayable characters but 8 colors only.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
80x24</dt>
<dd class="list-hang">
is a variant of the &#8220;80x25&#8221; screen type which displays 24 lines only. It uses the standard 8x16 VGA font. This mode might be useful for applications which depend on closer DEC VT100 compatibility.</dd>
<dt class="list-hang" style="margin-top: 1.00em;">
80x24bf</dt>
<dd class="list-hang">
Analogously, like &#8220;80x24&#8221; but with 512 character slots and 8 colors.</dd>
</dl>
<p>
If you have an Ati videocard and you are experiencing problems with fonts other than 80x25, you can try to set <b class="config">options VGA_CONSOLE_ATI_BROKEN_FONTSEL</b> in you kernel configuration and see if it helps.<p>
The <b class="name">vga</b> driver supports multiple virtual screens on one physical display. The screens allocated on one display can be of different &#8220;types&#8221;. The type is determined at the time the virtual screen is created and can't be changed later. Screens are either created at kernel startup (then the default type is used) or later with help of the <a class="link-man" href="../8/wsconscfg">wsconscfg(8)</a> utility.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/isa">isa(4)</a>, <a class="link-man" href="../4/pcdisplay">pcdisplay(4)</a>, <a class="link-man" href="../4/pci">pci(4)</a>, <a class="link-man" href="../4/wscons">wscons(4)</a>, <a class="link-man" href="../8/wsconscfg">wsconscfg(8)</a>, <a class="link-man" href="../8/wsfontload">wsfontload(8)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Only a subset of the possible text modes is supported.<p>
VGA cards are supposed to emulate an MDA if a monochrome display is connected. In this case, the device will naturally not support colors at all, but offer the capability to display underlined characters instead. The &#8220;80x25bf&#8221;, &#8220;80x40bf&#8221;, &#8220;80x50bf&#8221; and &#8220;80x24bf&#8221; screen types will not be available. This mode of operation has not been tested.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 4, 2003</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

