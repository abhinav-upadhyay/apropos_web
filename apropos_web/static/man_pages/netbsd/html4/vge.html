<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
VGE(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
VGE(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
VGE(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">vge</b> &#8212; <span class="desc">VIA Networking Technologies VT6122 PCI Gigabit Ethernet adapter driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">vge* at pci? dev ? function ?</b><p>
Configuration of PHYs is also necessary.  See <a class="link-man" href="../4/mii">mii(4)</a>.</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">vge</b> driver provides support for various NICs and embedded Ethernet interfaces based on the VIA Networking Technologies VT6122 Gigabit Ethernet controller chips.<p>
The VT6122 is a 33/66Mhz 64-bit PCI device which combines a tri-speed MAC with an integrated 10/100/1000 copper PHY. (Some older cards use an external PHY.) The MAC supports TCP/IP hardware checksums (IPv4 only), TCP large send, VLAN tag insertion and stripping, as well as VLAN filtering, a 64-entry CAM filter and a 64-entry VLAN filter, 64-bit multicast hash filter, 4 separate transmit DMA queues, flow control and jumbo frames up to 16K in size. The VT6122 has a 16K receive FIFO and 48K transmit FIFO.<p>
The <b class="name">vge</b> driver takes advantage of the VT6122's checksum offload and VLAN tagging features, as well as the jumbo frame and CAM filter support. The CAM filter is used for multicast address filtering to provide 64 perfect multicast address filter support. If it is necessary for the interface to join more than 64 multicast groups, the driver will switch over to using the hash filter.<p>
The jumbo frame support can be enabled by setting the interface MTU to any value larger than the default of 1500 bytes, up to a maximum of 9000 bytes. The receive and transmit checksum offload support can be toggled on and off using the <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> utility.<p>
The <b class="name">vge</b> driver supports the following media types:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">autoselect</b></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Enable autoselection of the media type and options. The user can manually override the autoselected mode by adding media options to <a class="link-man" href="../5/rc.conf">rc.conf(5)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">10baseT/UTP</b></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Set 10Mbps operation. The <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> <b class="flag">mediaopt</b> option can also be used to select either <b class="flag">full-duplex</b> or <b class="flag">half-duplex</b> modes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">100baseTX</b></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Set 100Mbps (Fast Ethernet) operation. The <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> <b class="flag">mediaopt</b> option can also be used to select either <b class="flag">full-duplex</b> or <b class="flag">half-duplex</b> modes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">1000baseTX</b></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Set 1000baseTX operation over twisted pair. The <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> <b class="flag">mediaopt</b> option can also be used to select either <b class="flag">full-duplex</b> or <b class="flag">half-duplex</b> modes.</dd>
</dl>
<p>
The <b class="name">vge</b> driver supports the following media options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">full-duplex</b></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Force full duplex operation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">half-duplex</b></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Force half duplex operation.</dd>
</dl>
<p>
The <b class="name">vge</b> driver also supports one special link option for 1000baseTX cards:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">link0</b></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
With 1000baseTX cards, establishing a link between two ports requires that one port be configured as a master and the other a slave. With autonegotiation, the master/slave settings will be chosen automatically. However when manually selecting the link state, it is necessary to force one side of the link to be a master and the other a slave. The <b class="name">vge</b> driver configures the ports as slaves by default. Setting the <b class="flag">link0</b> flag with <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> will set a port as a master instead.</dd>
</dl>
<p>
For more information on configuring this device, see <a class="link-man" href="../8/ifconfig">ifconfig(8)</a>.</div>
<div class="section">
<h1 id="x4841524457415245">HARDWARE</h1> The <b class="name">vge</b> driver supports VIA Networking VT3119 and VT6122 based Gigabit Ethernet adapters including:<p>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
VIA Networking LAN-on-motherboard Gigabit Ethernet</li>
<li class="list-bul" style="margin-top: 0.00em;">
ZyXEL GN650-T 64-bit PCI Gigabit Ethernet NIC (ZX1701)</li>
<li class="list-bul" style="margin-top: 0.00em;">
ZyXEL GN670-T 32-bit PCI Gigabit Ethernet NIC (ZX1702)</li>
</ul>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">vge%d: couldn't map memory</b></dt>
<dd class="list-diag">
The driver failed to initialize PCI shared memory mapping. This might happen if the card is not in a bus-master slot.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">vge%d: unable to map interrupt</b></dt>
<dd class="list-diag">
A fatal initialization error has occurred.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">vge%d: watchdog timeout</b></dt>
<dd class="list-diag">
The device has stopped responding to the network, or there is a problem with the network connection (cable). Driver resets the device.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/arp">arp(4)</a>, <a class="link-man" href="../4/ciphy">ciphy(4)</a>, <a class="link-man" href="../4/mii">mii(4)</a>, <a class="link-man" href="../4/netintro">netintro(4)</a>, <a class="link-man" href="../4/ukphy">ukphy(4)</a>, <a class="link-man" href="../4/vlan">vlan(4)</a>, <a class="link-man" href="../8/ifconfig">ifconfig(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">vge</b> device driver first appeared in <span class="unix">FreeBSD&#160;5.3</span> and then in <span class="unix">NetBSD&#160;3.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span>The <b class="name">vge</b> driver was written by <span class="author">Bill Paul</span> &#60;<a class="link-mail" href="mailto:wpaul@windriver.com">wpaul@windriver.com</a>&#62;. The <span class="unix">NetBSD</span> port was done by <span class="author">Jaromir Dolecek</span> &#60;jdolecek@NetBSD.org&#62;.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> VLAN packet filtering is done in software at the moment, though using hardware VLAN tagging.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
March 5, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

