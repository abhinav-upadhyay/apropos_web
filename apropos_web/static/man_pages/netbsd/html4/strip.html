<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
STRIP(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
STRIP(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
STRIP(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">strip</b> &#8212; <span class="desc">Metricom Ricochet packet radio wireless network device</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">pseudo-device strip</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">strip</b> driver takes outbound network packets, encapsulates them using the Metricom &#8220;star mode&#8221; framing, and sends the packets out an RS-232 interface to a Metricom <span class="emph">Ricochet</span> packet radio. Packets arriving from the packet radio via the serial link are decapsulated and then passed up to the local host's networking stack.<p>
<b class="name">strip</b> is an acronym for <span class="symb">ST</span>armode <span class="symb">R</span>adio <span class="symb">IP</span>.<p>
The <b class="name">strip</b> interfaces can be created by using the <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> <b class="flag">create</b> command. Each <b class="name">strip</b> interface is a pseudo-device driver for the Metricom <span class="emph">Ricochet</span> packet radio, operating in peer-to-peer packet mode.<p>
In many ways, the <b class="name">strip</b> driver is very much like the <a class="link-man" href="../4/sl">sl(4)</a> SLIP pseudo-device driver. A <b class="name">strip</b> device is attached to a tty line with <a class="link-man" href="../8/slattach">slattach(8)</a>. Once attached, the interface is configured via <a class="link-man" href="../8/ifconfig">ifconfig(8)</a>. The major difference between the <a class="link-man" href="../4/sl">sl(4)</a> SLIP pseudo-device driver and the <b class="name">strip</b> driver is that SLIP works only between two hosts over a dedicated point-to-point connection.<p>
In contrast, <b class="name">strip</b> sends packets to a frequency-hopping packet radio, which can address packets to any peer Metricom <span class="emph">Ricochet</span> packet radio, rather than just to a single host at the other end of a point-to-point line. Thus, one <b class="name">strip</b> pseudo-device is usually sufficient for any kernel.<p>
In other respects, a <b class="name">strip</b> interface is rather like an Ethernet interface. Packets are individually addressed, and subsequent packets can be sent independently to different MAC addresses. However, the &#8220;star mode&#8221; framing and MAC addressing are not in any way compatible with Ethernet. Broadcast or multicast to more than one packet radio is not possible, due to the independent frequency-hopping operation of the packet radios. The interface flags <span class="define">IFF_POINTOPOINT</span> and <span class="define">IFF_BROADCAST</span> are not supported on the <b class="name">strip</b> interface.<p>
In other words, <b class="name">strip</b> implements a multiple-access, non-broadcast device, accessed via an RS-232 serial line, using a proprietary packet framing scheme.<p>
This version of the <b class="name">strip</b> driver maps IP addresses to Metricom <span class="emph">Ricochet</span> packet radio addresses using statically configured entries in the normal routing table. These entries map IP addresses of peer packet radios to the MAC-level addresses. The exact syntax of this mapping and an example are discussed below. The Internet Assigned Numbers Authority (IANA) has allocated an ARP type code for use with STRIP. A future version of this driver will support <a class="link-man" href="../4/arp">arp(4)</a> to obtain the IP address of reachable peer packet radios dynamically.</div>
<div class="section">
<h1 id="x4144445245535320434f4e46494755524154494f4e">ADDRESS CONFIGURATION</h1> This version of the STRIP driver requires static pre-configuration of the mapping from IP addresses to packet radio MAC addresses. The <a class="link-man" href="../8/route">route(8)</a> command should be used to bind a peer STRIP host's packet radio IP address to the peer's link-level packet radio address.<p>
Radio addresses are encoded using the hex equivalent of the packet radio's decimal ASCII address. For example, the following route command will configure a routing entry to a packet radio with a MAC address of 1234-5678, and an IP address 10.11.12.13, reachable via the <span class="emph">strip0</span> interface:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
<b class="cmd">route add -host 10.11.12.13 -link strip0:1:2:3:4:5:6:7:8</b></pre>
<p>
Generalising from this example to other IP addresses and to other 8-digit MAC addresses should be clear.</div>
<div class="section">
<h1 id="x524144494f20434f4e46494755524154494f4e">RADIO CONFIGURATION</h1> The Metricom <span class="emph">Ricochet</span> packet radios can auto-baud at speeds up to 38.4K baud. At higher speeds -- 57600 or 115200 -- the packet radio cannot autobaud. When running at high speeds, the packet radio's serial port should be manually configured to permanently run at the desired speed. Use a terminal emulator and the Hayes command <b class="cmd">ATS304=115200</b> to set the serial baudrate to the specified number (or 0 for autobaud). The command <b class="cmd">AT&amp;W</b> will then save the current packet radio state in non-volatile memory.<p>
Metricom <span class="emph">Ricochet</span> packet radios can operate in either &#8220;modem-emulation&#8221; mode or in packet mode (i.e. &#8220;star mode&#8221;). The <b class="name">strip</b> driver automatically detects if the packet radio has fallen out of &#8220;star mode&#8221;, and resets it back into &#8220;star mode&#8221;, if the baud rate was set correctly by <a class="link-man" href="../8/slattach">slattach(8)</a>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/arp">arp(4)</a>, <a class="link-man" href="../4/inet">inet(4)</a>, <a class="link-man" href="../4/sl">sl(4)</a>, <a class="link-man" href="../8/ifconfig">ifconfig(8)</a>, <a class="link-man" href="../8/route">route(8)</a>, <a class="link-man" href="../8/slattach">slattach(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> <b class="name">strip</b> was originally developed for the Linux kernel by Stuart Cheshire of Stanford's Operating Systems and Networking group, as part of Mary Baker's MosquitoNet project.<p>
This <b class="name">strip</b> driver was ported to <span class="unix">NetBSD</span> by Jonathan Stone at Stanford's Distributed Systems Group and first distributed with <span class="unix">NetBSD&#160;1.2</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Currently, <b class="name">strip</b> is IP-only. Encapsulations for AppleTalk and ARP have been defined, but are not yet implemented in this driver.<p>
<b class="name">strip</b> has not been widely tested on a variety of lower-level serial drivers.<p>
The detection and resetting of packet radios that crash out of &#8220;star mode&#8221; does not always work in this version of the driver. One workaround is to kill the <a class="link-man" href="../8/slattach">slattach(8)</a> process, <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> the <b class="name">strip</b> interface down, and then start a new slattach and rerun ifconfig to enable the interface again.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 5, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

