<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
PCKBD(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
PCKBD(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
PCKBD(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">pckbd</b> &#8212; <span class="desc">PC keyboard driver for wscons</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">pckbc* at isa?</b><br>
<b class="config">pckbd* at pckbc?</b><br>
<b class="config">wskbd* at pckbd? console ?</b><br>
<b class="config">options PCKBD_LAYOUT=XXX</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This driver supports PC/AT keyboards within the <a class="link-man" href="../4/wscons">wscons(4)</a> console framework. It doesn't provide direct device driver entry points but makes its functions available via the internal <a class="link-man" href="../4/wskbd">wskbd(4)</a> interface.<p>
The <b class="name">pckbd</b> driver supports a number of different key mappings which can be chosen from with the kernel option <code class="lit">PCKBD_LAYOUT</code> at compile time or with the utility <a class="link-man" href="../8/wsconsctl">wsconsctl(8)</a> (variable: &#8220;encoding&#8221;) at runtime. Other mappings can be used if the whole keymap is replaced by means of <a class="link-man" href="../8/wsconsctl">wsconsctl(8)</a>. The builtin mappings are at this time:<table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 17.00ex;">
<col style="width: 9.00ex;">
<col style="min-width: 8.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">option</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">wsconsctl</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">language</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_US</code></td>
<td class="list-col" style="margin-top: 1.00em;">
us</td>
<td class="list-col" style="margin-top: 1.00em;">
English/US keyboard mapping (default)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_UK</code></td>
<td class="list-col" style="margin-top: 1.00em;">
uk</td>
<td class="list-col" style="margin-top: 1.00em;">
English/UK keyboard mapping</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_BE</code></td>
<td class="list-col" style="margin-top: 1.00em;">
be</td>
<td class="list-col" style="margin-top: 1.00em;">
Belgian</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_CZ</code></td>
<td class="list-col" style="margin-top: 1.00em;">
cz</td>
<td class="list-col" style="margin-top: 1.00em;">
Czech (QWERTY)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_DK</code></td>
<td class="list-col" style="margin-top: 1.00em;">
dk</td>
<td class="list-col" style="margin-top: 1.00em;">
Danish with &#8220;dead accents&#8221;</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_NL</code></td>
<td class="list-col" style="margin-top: 1.00em;">
nl</td>
<td class="list-col" style="margin-top: 1.00em;">
Dutch</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_FI</code></td>
<td class="list-col" style="margin-top: 1.00em;">
fi</td>
<td class="list-col" style="margin-top: 1.00em;">
Finnish</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_FR</code></td>
<td class="list-col" style="margin-top: 1.00em;">
fr</td>
<td class="list-col" style="margin-top: 1.00em;">
French</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_DE</code></td>
<td class="list-col" style="margin-top: 1.00em;">
de</td>
<td class="list-col" style="margin-top: 1.00em;">
German with &#8220;dead accents&#8221;</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_GR</code></td>
<td class="list-col" style="margin-top: 1.00em;">
gr</td>
<td class="list-col" style="margin-top: 1.00em;">
Greek</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_HU</code></td>
<td class="list-col" style="margin-top: 1.00em;">
hu</td>
<td class="list-col" style="margin-top: 1.00em;">
Hungarian</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_IT</code></td>
<td class="list-col" style="margin-top: 1.00em;">
it</td>
<td class="list-col" style="margin-top: 1.00em;">
Italian</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_JP</code></td>
<td class="list-col" style="margin-top: 1.00em;">
jp</td>
<td class="list-col" style="margin-top: 1.00em;">
Japanese</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_NO</code></td>
<td class="list-col" style="margin-top: 1.00em;">
no</td>
<td class="list-col" style="margin-top: 1.00em;">
Norwegian with &#8220;dead accents&#8221;</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_PL</code></td>
<td class="list-col" style="margin-top: 1.00em;">
pl</td>
<td class="list-col" style="margin-top: 1.00em;">
Polish</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_PT</code></td>
<td class="list-col" style="margin-top: 1.00em;">
pt</td>
<td class="list-col" style="margin-top: 1.00em;">
Portuguese</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_RU</code></td>
<td class="list-col" style="margin-top: 1.00em;">
ru</td>
<td class="list-col" style="margin-top: 1.00em;">
Russian</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_ES</code></td>
<td class="list-col" style="margin-top: 1.00em;">
es</td>
<td class="list-col" style="margin-top: 1.00em;">
Spanish</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_SV</code></td>
<td class="list-col" style="margin-top: 1.00em;">
sv</td>
<td class="list-col" style="margin-top: 1.00em;">
Swedish with &#8220;dead accents&#8221;</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_SF</code></td>
<td class="list-col" style="margin-top: 1.00em;">
sf</td>
<td class="list-col" style="margin-top: 1.00em;">
Swiss French</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_SG</code></td>
<td class="list-col" style="margin-top: 1.00em;">
sg</td>
<td class="list-col" style="margin-top: 1.00em;">
Swiss German</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_UA</code></td>
<td class="list-col" style="margin-top: 1.00em;">
ua</td>
<td class="list-col" style="margin-top: 1.00em;">
Ukrainian</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_US|KB_DECLK</code></td>
<td class="list-col" style="margin-top: 1.00em;">
us.declk</td>
<td class="list-col" style="margin-top: 1.00em;">
English/US mapping for DEC</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
</td>
<td class="list-col" style="margin-top: 1.00em;">
</td>
<td class="list-col" style="margin-top: 1.00em;">
LK400-style keyboards with PC keyboard</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
</td>
<td class="list-col" style="margin-top: 1.00em;">
</td>
<td class="list-col" style="margin-top: 1.00em;">
interface (e.g., LK461)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_US|KB_DVORAK</code></td>
<td class="list-col" style="margin-top: 1.00em;">
us.dvorak</td>
<td class="list-col" style="margin-top: 1.00em;">
English/US keyboard with</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
</td>
<td class="list-col" style="margin-top: 1.00em;">
</td>
<td class="list-col" style="margin-top: 1.00em;">
&#8220;Dvorak&#8221; layout</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">KB_US|KB_COLEMAK</code></td>
<td class="list-col" style="margin-top: 1.00em;">
us.colemak</td>
<td class="list-col" style="margin-top: 1.00em;">
English/US keyboard with</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
</td>
<td class="list-col" style="margin-top: 1.00em;">
</td>
<td class="list-col" style="margin-top: 1.00em;">
&#8220;Colemak&#8221; layout</td>
</tr>
</tbody>
</table>
<p>
The <code class="lit">KB_DE</code>, <code class="lit">KB_DK</code>, <code class="lit">KB_NO</code> and <code class="lit">KB_SV</code> mappings can be used in the <code class="lit">KB_NODEAD</code> (&#8220;.nodead&#8221;) variant. This switches off the &#8220;dead accents&#8221;.<p>
The <code class="lit">KB_US</code>, <code class="lit">KB_JP</code> and <code class="lit">KB_US|KB_DVORAK</code> mappings can be modified to swap the left CTRL and the CAPS LOCK keys by the <code class="lit">KB_SWAPCTRLCAPS</code> variant bit or the &#8220;.swapctrlcaps&#8221; suffix.<p>
The <code class="lit">KB_METAESC</code> (&#8220;.metaesc&#8221;) option can be applied to any layout. If set, keys pressed together with the ALT modifier are prefixed by an ESC character. (Standard behaviour is to add 128 to the ASCII value.)<p>
Because PC keyboard hardware doesn't contain a beeper, requests for &#8220;keyboard beeps&#8221; cannot be handled directly. On alpha and i386 a helper device attached to the <a class="link-man" href="../4/pcppi">pcppi(4)</a> driver allows the use of the standard ISA speaker for this purpose. On acorn32, <a class="link-man" href="../4/vidcaudio">vidcaudio(4)</a> performs this function.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> To set a German keyboard layout without &#8220;dead accents&#8221; and sending an ESC character before the key symbol if the ALT key is pressed simultaneously, use <b class="cmd">wsconsctl</b> <b class="flag">&#45;w</b> <i class="arg">encoding=de.nodead.metaesc</i>. To set it at kernel build time, add<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="config">options PCKBD_LAYOUT="(KB_DE</b> | <b class="config">KB_NODEAD</b> | <b class="config">KB_METAESC)"</b></div>
</blockquote>
to the kernel configuration file.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/isa">isa(4)</a>, <a class="link-man" href="../4/pcppi">pcppi(4)</a>, <a class="link-man" href="../4/wskbd">wskbd(4)</a>, <a class="link-man" href="../8/wsconsctl">wsconsctl(8)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The list of builtin mappings doesn't follow any logic. It grew as people submitted what they needed.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 22, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

