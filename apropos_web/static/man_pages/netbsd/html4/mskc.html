<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
SK(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SK(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
SK(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sk</b>, <b class="name">skc</b>, <b class="name">msk</b>, <b class="name">mskc</b> &#8212; <span class="desc">SysKonnect XMAC II and Marvell GMAC based gigabit ethernet</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">skc* at pci? dev ? function ?</b><br>
<b class="config">sk* at skc?</b><br>
<b class="config">mskc* at pci? dev ? function ?</b><br>
<b class="config">msk* at mskc?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">sk</b> driver provides support for SysKonnect based gigabit ethernet adapters and Marvell based gigabit ethernet adapters, including the following:<p>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
SK-9821 SK-NET GE-T single port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9822 SK-NET GE-T dual port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9841 SK-NET GE-LX single port, single mode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9842 SK-NET GE-LX dual port, single mode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9843 SK-NET GE-SX single port, multimode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9844 SK-NET GE-SX dual port, multimode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9521 V2.0 single port, copper adapter (32-bit)</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9821 V2.0 single port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9843 V2.0 single port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
3Com 3c940 single port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Belkin Gigabit Desktop Network PCI Card, single port, copper (32-bit)</li>
<li class="list-bul" style="margin-top: 0.00em;">
D-Link DGE-530T single port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Linksys EG1032v2 single-port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Linksys EG1064v2 single-port, copper adapter</li>
</ul>
<p>
The <b class="name">msk</b> driver provides support for the Marvell Yukon-2 based Gigabit Ethernet adapters, including the following:<p>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
Marvell Yukon 88E8035, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Marvell Yukon 88E8036, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Marvell Yukon 88E8038, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Marvell Yukon 88E8050, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Marvell Yukon 88E8052, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Marvell Yukon 88E8053, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
Marvell Yukon 88E8055, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9E21 1000Base-T single port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9E22 1000Base-T dual port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9E81 1000Base-SX single port, multimode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9E82 1000Base-SX dual port, multimode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9E91 1000Base-LX single port, single mode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9E92 1000Base-LX dual port, single mode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9S21 1000Base-T single port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9S22 1000Base-T dual port, copper adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9S81 1000Base-SX single port, multimode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9S82 1000Base-SX dual port, multimode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9S91 1000Base-LX single port, single mode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9S92 1000Base-LX dual port, single mode fiber adapter</li>
<li class="list-bul" style="margin-top: 0.00em;">
SK-9E21D 1000Base-T single port, copper adapter</li>
</ul>
<p>
The SysKonnect based adapters consist of two main components: the XaQti Corp. XMAC II Gigabit MAC (<b class="name">sk</b>) and the SysKonnect GEnesis controller ASIC (<b class="name">skc</b>). The XMAC provides the Gigabit MAC and PHY support while the GEnesis provides an interface to the PCI bus, DMA support, packet buffering and arbitration. The GEnesis can control up to two XMACs simultaneously, allowing dual-port NIC configurations.<p>
The Marvell based adapters are a single integrated circuit, but are still presented as a separate MAC (<b class="name">sk</b>) and controller ASIC (<b class="name">skc</b>). At this time, there are no dual-port Marvell based NICs.<p>
The <b class="name">sk</b> driver configures dual port SysKonnect adapters such that each XMAC is treated as a separate logical network interface. Both ports can operate independently of each other and can be connected to separate networks. The SysKonnect driver software currently only uses the second port on dual port adapters for failover purposes: if the link on the primary port fails, the SysKonnect driver will automatically switch traffic onto the second port.<p>
The XaQti XMAC II supports full and half duplex operation with autonegotiation. The XMAC also supports unlimited frame sizes. Support for jumbo frames is provided via the interface MTU setting. Selecting an MTU larger than 1500 bytes with the <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> utility configures the adapter to receive and transmit jumbo frames. Using jumbo frames can greatly improve performance for certain tasks, such as file transfers and data streaming.<p>
Hardware TCP/IP checksum offloading for IPv4 is available but not supported by the driver.<p>
The following media types and options (as given to <a class="link-man" href="../8/ifconfig">ifconfig(8)</a>) are supported:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">media</b> autoselect</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Enable autoselection of the media type and options. The user can manually override the autoselected mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">media</b> 1000baseSX <b class="flag">mediaopt</b> full-duplex</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Set 1000Mbps (Gigabit Ethernet) operation on fiber and force full-duplex mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">media</b> 1000baseSX <b class="flag">mediaopt</b> half-duplex</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Set 1000Mbps (Gigabit Ethernet) operation on fiber and force half-duplex mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">media</b> 1000baseT <b class="flag">mediaopt</b> full-duplex</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Set 1000Mbps (Gigabit Ethernet) operation and force full-duplex mode.</dd>
</dl>
<p>
For more information on configuring this device, see <a class="link-man" href="../8/ifconfig">ifconfig(8)</a>. To view a list of media types and options supported by the card, try <b class="cmd">ifconfig</b> <b class="flag">&#45;m</b> &#60;<a class="link-mail" href="mailto:device">device</a>&#62;. For example, <b class="cmd">ifconfig</b> <b class="flag">&#45;m</b> <i class="arg">sk0</i>.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">sk%d: couldn't map memory</b></dt>
<dd class="list-diag">
A fatal initialization error has occurred.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">sk%d: couldn't map ports</b></dt>
<dd class="list-diag">
A fatal initialization error has occurred.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">sk%d: couldn't map interrupt</b></dt>
<dd class="list-diag">
A fatal initialization error has occurred.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">sk%d: failed to enable memory mapping!</b></dt>
<dd class="list-diag">
The driver failed to initialize PCI shared memory mapping. This might happen if the card is not in a bus-master slot.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">sk%d: no memory for jumbo buffers!</b></dt>
<dd class="list-diag">
The driver failed to allocate memory for jumbo frames during initialization.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">sk%d: watchdog timeout</b></dt>
<dd class="list-diag">
The device has stopped responding to the network, or there is a problem with the network connection (cable).</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/ifmedia">ifmedia(4)</a>, <a class="link-man" href="../4/intro">intro(4)</a>, <a class="link-man" href="../4/netintro">netintro(4)</a>, <a class="link-man" href="../4/pci">pci(4)</a>, <a class="link-man" href="../8/ifconfig">ifconfig(8)</a><p>
<span class="ref"><span class="ref-title">XaQti XMAC II datasheet</span>, <a class="link-ref" href="http://www.xaqti.com">http://www.xaqti.com</a>.</span><p>
<span class="ref"><span class="ref-title">SysKonnect GEnesis programming manual</span>, <a class="link-ref" href="http://www.syskonnect.com">http://www.syskonnect.com</a>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">sk</b> device driver first appeared in <span class="unix">FreeBSD&#160;3.0</span>. <span class="unix">OpenBSD</span> support was added in <span class="unix">OpenBSD&#160;2.6</span>. <span class="unix">NetBSD</span> support was added in <span class="unix">NetBSD&#160;2.0</span>.<p>
The <b class="name">msk</b> driver first appeared in <span class="unix">OpenBSD&#160;4.0</span>, and was ported to <span class="unix">NetBSD&#160;4.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span>The <b class="name">sk</b> driver was written by <span class="author">Bill Paul</span> &#60;<a class="link-mail" href="mailto:wpaul@ctr.columbia.edu">wpaul@ctr.columbia.edu</a>&#62;. Support for the Marvell Yukon-2 was added by <span class="author">Mark Kettenis</span> &#60;<a class="link-mail" href="mailto:kettenis@openbsd.org">kettenis@openbsd.org</a>&#62;.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> This driver is <span class="emph">experimental</span>.<p>
Support for checksum offload is unimplemented.<p>
Performance with at least some Marvell-based adapters is poor, especially on loaded PCI buses or when the adapters are behind PCI-PCI bridges. It is believed that this is because the Marvell parts have significantly less buffering than the original SysKonnect cards had.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 12, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

