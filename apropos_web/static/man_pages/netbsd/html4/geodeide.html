<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
GEODEIDE(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
GEODEIDE(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
GEODEIDE(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">geodeide</b> &#8212; <span class="desc">AMD Geode IDE disk controllers driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">geodeide* at pci? dev ? function ? flags 0x0000</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">geodeide</b> driver supports the AMD Geode CS5530A and SC1100 IDE controllers, and provides the interface with the hardware for the <a class="link-man" href="../4/ata">ata(4)</a> driver.<p>
The 0x0002 flag forces the <b class="name">geodeide</b> driver to disable DMA on chipsets for which DMA would normally be enabled. This can be used as a debugging aid, or to work around problems where the IDE controller is wired up to the system incorrectly.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/ata">ata(4)</a>, <a class="link-man" href="../4/atapi">atapi(4)</a>, <a class="link-man" href="../4/intro">intro(4)</a>, <a class="link-man" href="../4/pci">pci(4)</a>, <a class="link-man" href="../4/pciide">pciide(4)</a>, <a class="link-man" href="../4/wd">wd(4)</a>, <a class="link-man" href="../4/wdc">wdc(4)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The SC1100 controller requires 4-byte aligned data transfers and cannot handle transfers of exactly 64 kilobytes.<p>
The CS5530 multifunction chip/core's IDE section claims to be capable of UDMA mode 2 (33.3MB/s) but in practice using that mode swamps the controller so badly that <b class="name">geodeide</b> limits the UDMA negotiation to mode 1 (25MB/s) so that the other functions of this chip continue to work.<p>
The IDE DMA engine in the CS5530 can only do transfers on cache-line (16-byte) boundaries. Attempts to perform DMA on any other alignment will crash the system. This problem may also exist in the SC1100 since the CS5530 was its direct predecessor, and it is not clear that National Semiconductor fixed any bugs in it.<p>
The <b class="name">geodeide</b> driver will reject attempts to DMA to buffers not aligned to the required boundary. The <a class="link-man" href="../4/wd">wd(4)</a> disk driver will back off to PIO mode to accomplish these transfer requests, at reduced system performance.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 5, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

