<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
WSMOUSE(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
WSMOUSE(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
WSMOUSE(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">wsmouse</b> &#8212; <span class="desc">generic mouse support in wscons</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">wsmouse*   at pms? mux 0</b> (PS/2 mouse, including ``IntelliMouse''-compatible wheel mice)<br>
<b class="config">wsmouse*   at ums? mux 0</b> (USB mouse)<br>
<b class="config">wsmouse*   at uts? mux 0</b> (USB touchscreen)<br>
<b class="config">wsmouse*   at lms? mux 0</b> (Logitech bus mouse, i386 only)<br>
<b class="config">wsmouse*   at mms? mux 0</b> (Microsoft InPort mouse, i386 only)<br>
<b class="config">wsmouse0   at ams? mux 0</b> (Apple ADB mouse)<br>
<b class="config">wsmouse*	at btms? mux 0</b> (Bluetooth mouse)<br>
<b class="config">wsmouse*   at lkms? mux 0</b> (DEC VSXXX serial mice)</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">wsmouse</b> driver is an abstraction layer for mice within the <a class="link-man" href="../4/wscons">wscons(4)</a> framework. It is attached to the hardware specific mouse drivers and provides a character device interface which returns <i class="farg">struct wscons_event</i> via <a class="link-man" href="../2/read">read(2)</a>. For use with X servers, &#8220;mouse events&#8221; can be generated.<p>
The <a class="link-man" href="../8/wsconsctl">wsconsctl(8)</a> utility gives access to several configurable details that affect this driver.<div class="subsection">
<h2 id="x496f63746c73">Ioctls</h2> The following <a class="link-man" href="../2/ioctl">ioctl(2)</a> calls are provided by the <b class="name">wsmouse</b> driver or by devices which use it. Their definitions are found in <i class="file">dev/wscons/wsconsio.h</i>.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">WSMOUSEIO_GETREPEAT</span> (<code class="lit">struct wsmouse_repeat</code>)</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Retrieve the current automatic button repeating configuration. The structure returned is as follows:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
struct wsmouse_repeat { 
	unsigned long   wr_buttons; 
	unsigned int    wr_delay_first; 
	unsigned int    wr_delay_decrement; 
	unsigned int    wr_delay_minimum; 
};</pre>
<p>
The <b class="var">wr_buttons</b> field is a bit mask that specifies which buttons send press and release events periodically while they are physically held down. The least significant bit corresponds to button 0.<p>
The other three fields describe the frequency upon which these automatic events are sent. <b class="var">wr_delay_first</b> specifies the milliseconds before the first repeated event is sent. <b class="var">wr_delay_decrement</b> is used to calculate the delay between the most recently generated event and the forthcoming one: the previous delay is taken and it is decreased by the value given in this variable. <b class="var">wr_delay_minimum</b> specifies the minimum delay, in milliseconds, between two consecutive events.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">WSMOUSEIO_SETREPEAT</span> (<code class="lit">struct wsmouse_repeat</code>)</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Set the automatic button repeating configuration. See <span class="define">WSMOUSEIO_GETREPEAT</span> above for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">WSMOUSEIO_SETVERSION</span> (<code class="lit">int</code>)</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Set the wscons_event protocol version. The default is 0 for binary compatibility. The latest version is always available as <span class="define">WSMOUSE_EVENT_VERSION</span>, and is currently 1. All new code should use a call similar to the below to ensure the correct version is returned.<p>
<pre style="margin-left: 5.00ex;" class="lit display">
int ver = WSMOUSE_EVENT_VERSION; 
if (ioctl(fd, WSMOUSEIO_SETVERSION, &amp;ver) == -1) 
    err(EXIT_FAILURE, "cannot set version");</pre>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-item">
<li class="list-item" style="margin-top: 1.00em;">
<i class="file">/dev/wsmouse*</i></li>
<li class="list-item" style="margin-top: 1.00em;">
<i class="file">/usr/include/dev/wscons/wsconsio.h</i>.</li>
</ul>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/btms">btms(4)</a>, <a class="link-man" href="../4/lms">lms(4)</a>, <a class="link-man" href="../4/mms">mms(4)</a>, <a class="link-man" href="../4/pms">pms(4)</a>, <a class="link-man" href="../4/uep">uep(4)</a>, <a class="link-man" href="../4/ums">ums(4)</a>, <a class="link-man" href="../4/uts">uts(4)</a>, <a class="link-man" href="../4/wscons">wscons(4)</a>, <a class="link-man" href="../4/wsmux">wsmux(4)</a>, <a class="link-man" href="../8/moused">moused(8)</a>, <a class="link-man" href="../8/wsconsctl">wsconsctl(8)</a>, <a class="link-man" href="../8/wsmoused">wsmoused(8)</a>, <a class="link-man" href="../9/wsmouse">wsmouse(9)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 27, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

