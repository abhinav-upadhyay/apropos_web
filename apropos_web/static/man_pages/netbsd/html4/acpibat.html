<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ACPIBAT(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ACPIBAT(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
ACPIBAT(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">acpibat</b> &#8212; <span class="desc">ACPI Battery</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">acpibat* at acpi?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">acpibat</b> driver supports ACPI batteries.<p>
The battery status is made available through the <a class="link-man" href="../4/envsys">envsys(4)</a> API. The battery information can be displayed also with the <a class="link-man" href="../8/envstat">envstat(8)</a> command:<p>
<pre style="margin-left: 2.00ex;" class="lit display">
$ envstat -d acpibat0 
                Current  CritMax  WarnMax  WarnMin  CritMin Unit 
       present:      ON 
design voltage:  14.400                                        V 
       voltage:  16.267                                        V 
    design cap:  74.880                                       Wh 
 last full cap:  48.260                                       Wh 
        charge:  47.910                      5.000%   0.414%  Wh (99.27%) 
   charge rate:     N/A 
discharge rate:  16.641                                        W 
      charging:     OFF 
  charge state:  NORMAL</pre>
<p>
Depending on the battery, the unit of measurement is either watt-hour (Wh) or ampere-hour (Ah) for the capacity related information. From these the &#8220;charge&#8221; is usually the most interesting value, but it is possible to derive useful information also from the other values. For example, when <a class="link-man" href="../4/acpiacad">acpiacad(4)</a> is disconnected, the &#8220;discharge rate&#8221; gives a coarse approximation of the current power consumption. The ratio between the design capacity and the last full capacity on the other hand reveals the overall &#8220;health&#8221; of deteriorating lithium-ion batteries.</div>
<div class="section">
<h1 id="x4556454e5453">EVENTS</h1> The <b class="name">acpibat</b> driver is able to send events to <a class="link-man" href="../8/powerd">powerd(8)</a> daemon when a capacity state has been changed. The new state will be reported as the <span class="emph">fourth</span> argument to the <i class="file">/etc/powerd/scripts/sensor_battery</i> script. If a custom capacity limit was set via <a class="link-man" href="../8/envstat">envstat(8)</a>, the <b class="name">acpibat</b> driver will report a <span class="emph">user-capacity</span> event to the same script when current capacity limit has been reached.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/acpi">acpi(4)</a>, <a class="link-man" href="../4/envsys">envsys(4)</a>, <a class="link-man" href="../8/envstat">envstat(8)</a>, <a class="link-man" href="../8/powerd">powerd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">acpibat</b> driver appeared in <span class="unix">NetBSD&#160;1.6</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The ACPI specifications make a distinction between &#8220;control method batteries&#8221; and &#8220;smart batteries&#8221;. The <b class="name">acpibat</b> driver only supports control method batteries. Furthermore, <b class="name">acpibat</b> does not yet support some additional battery information introduced in the ACPI 4.0 standard.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
March 17, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

