<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ETHERIP(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ETHERIP(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
ETHERIP(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">etherip</b> &#8212; <span class="desc">EtherIP tunneling device</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">pseudo-device etherip</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">etherip</b> interface is a tunneling pseudo device for Ethernet frames. It can tunnel Ethernet traffic over IPv4 and IPv6 using the EtherIP protocol specified in RFC 3378.<p>
The only difference between an <b class="name">etherip</b> interface and a real Ethernet interface is that there is an IP tunnel instead of a wire. Therefore, to use <b class="name">etherip</b> the administrator must first create the interface and then configure protocol and addresses used for the outer header. This can be done by using <a class="link-man" href="../8/ifconfig">ifconfig(8)</a> <b class="flag">create</b> and <b class="flag">tunnel</b> subcommands, or <span class="define">SIOCIFCREATE</span> and <span class="define">SIOCSLIFPHYADDR</span> ioctls.<div class="subsection">
<h2 id="x5061636b657420666f726d6174">Packet format</h2> Ethernet frames are prepended with a EtherIP header as described by RFC 3378. The resulting EtherIP packets will be encapsulated in an outer packet, which may be either an IPv4 or IPv6 packet, with IP protocol number 97.</div>
<div class="subsection">
<h2 id="x45746865726e65742061646472657373">Ethernet address</h2> When a <b class="name">etherip</b> device is created, it is assigned an Ethernet address of the form f2:0b:a5:xx:xx:xx. This address can later be changed through a sysctl node.<p>
The sysctl node is net.link.etherip.&lt;iface&gt;. Any string of six colon-separated hexadecimal numbers will be accepted. Reading that node will provide a string representation of the current Ethernet address.</div>
<div class="subsection">
<h2 id="x5365637572697479">Security</h2> The EtherIP header of incoming packets is not checked for validity. This is because there seems to be some confusion about how such a header has to look like. For outgoing packets, the header is set up the same way as done in <span class="unix">OpenBSD</span>, <span class="unix">FreeBSD</span>, and Linux to be compatible with those systems.</div>
<div class="subsection">
<h2 id="x436f6e76657274696e672066726f6d2070726576696f757320696d706c656d656e746174696f6e">Converting from previous implementation</h2> A tunnel configured for the previous (undocumented) implementation will work with just renaming the device from gif to <b class="name">etherip</b>.</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/bridge">bridge(4)</a>, <a class="link-man" href="../4/gif">gif(4)</a>, <a class="link-man" href="../4/inet">inet(4)</a>, <a class="link-man" href="../4/inet6">inet6(4)</a>, <a class="link-man" href="../4/tap">tap(4)</a>, <a class="link-man" href="../8/ifconfig">ifconfig(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">etherip</b> device first appeared in <span class="unix">NetBSD&#160;4.0</span>, it is based on <a class="link-man" href="../4/tap">tap(4)</a>, <a class="link-man" href="../4/gif">gif(4)</a>, and the former gif-based EtherIP implementation ported from <span class="unix">OpenBSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Probably many. There is lots of code duplication between <b class="name">etherip</b>, <a class="link-man" href="../4/tap">tap(4)</a>, <a class="link-man" href="../4/gif">gif(4)</a>, and probably other tunnelling drivers which should be cleaned up.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 23, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

