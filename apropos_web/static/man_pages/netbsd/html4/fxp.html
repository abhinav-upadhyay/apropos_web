<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
FXP(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
FXP(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
FXP(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">fxp</b> &#8212; <span class="desc">Intel i8255x 10/100 Ethernet device driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">fxp* at cardbus? function ?</b><br>
<b class="config">fxp* at pci? dev ? function ?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">fxp</b> device driver supports Ethernet interfaces based on the Intel i82557, i82558, i82559, and i82550 10/100 PCI Ethernet chips.<p>
Certain versions of the i8255x support loading microcode which implements a receive interrupt mitigation function, known as &#8220;CPUSaver&#8221;. Use of this option can improve performance in some situations by reducing interrupt load on the host. This option is available on the following chip versions:<p>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
i82558 step A4 (rev 4)</li>
<li class="list-bul" style="margin-top: 0.00em;">
i82558 step B0 (rev 5)</li>
<li class="list-bul" style="margin-top: 0.00em;">
i82559 step A0 (rev 8)</li>
<li class="list-bul" style="margin-top: 0.00em;">
i82559S step A (rev 9)</li>
<li class="list-bul" style="margin-top: 0.00em;">
i82550 (rev 12)</li>
<li class="list-bul" style="margin-top: 0.00em;">
i82550 step C (rev 13)</li>
</ul>
<p>
This option is enabled by setting the &#8220;link0&#8221; option with <a class="link-man" href="../8/ifconfig">ifconfig(8)</a>.<p>
Some chipset revisions can suffer from a receiver-side lockup bug which can be mitigated by resetting the chip every sixteen seconds without traffic. Since the probe for affected chipsets generates false positives and the workaround can cause momentary loss of responsiveness, particularly noticeable when playing audio, the workaround is not enabled by default. The boot messages will indicate if any interface may have this issue. The workaround is enabled by setting the &#8220;link1&#8221; option with <a class="link-man" href="../8/ifconfig">ifconfig(8)</a>.</div>
<div class="section">
<h1 id="x4841524457415245">HARDWARE</h1> Cards supported by the <b class="name">fxp</b> driver include:<p>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
Intel EtherExpress Pro 10+</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel EtherExpress Pro 100B</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel EtherExpress Pro 100+</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel InBusiness 10/100</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel PRO/100 S</li>
</ul>
</div>
<div class="section">
<h1 id="x4d454449412053454c454354494f4e">MEDIA SELECTION</h1> Media selection is supported via MII. See <a class="link-man" href="../4/ifmedia">ifmedia(4)</a> and <a class="link-man" href="../4/mii">mii(4)</a> for more information.<p>
EtherExpress Pro 10+ boards may use a Seeq 80c24 AutoDUPLEX(tm) media interface. Boards with these chips do not support media selection, as the 80c24 has no programming interface, and no way to read link status. These boards claim a media of "manual" since they self-configure based on the configuration of the link partner (hub or switch).</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: WARNING: SCB timed out!</b></dt>
<dd class="list-diag">
The driver timed out waiting for the chip's command interface to become ready.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: too many segments, aborting</b></dt>
<dd class="list-diag">
The driver encountered a packet that included too many DMA segments, and was not able to allocate a new buffer to transmit the packet from. The packet has been dropped.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: too many segments, retrying</b></dt>
<dd class="list-diag">
The driver encountered a packet that included too many DMA segments, and allocated a new buffer to transmit the packet from.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: can't load mbuf chain, error = %d</b></dt>
<dd class="list-diag">
The driver was unable to load a transmit DMA map, and has reported the errno value.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: device timeout</b></dt>
<dd class="list-diag">
The device failed to generate a transmit complete interrupt for the last packet transmitted. The device has been reset.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: can't load rx buffer, error = %d</b></dt>
<dd class="list-diag">
The driver was unable to load the DMA map for a receive buffer, and has reported the errno value. This error is currently fatal, and will panic the system.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: fxp_mdi_read: timed out</b></dt>
<dd class="list-diag">
The MDIO failed to become ready during an MII read operation.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: fxp_mdi_write: timed out</b></dt>
<dd class="list-diag">
The MDIO failed to become ready during an MII write operation.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">fxp0: May need receiver lock-up workaround</b></dt>
<dd class="list-diag">
The interface may need to be periodically reset to workaround a receiver lock-up bug.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/cardbus">cardbus(4)</a>, <a class="link-man" href="../4/ifmedia">ifmedia(4)</a>, <a class="link-man" href="../4/intro">intro(4)</a>, <a class="link-man" href="../4/mii">mii(4)</a>, <a class="link-man" href="../4/pci">pci(4)</a>, <a class="link-man" href="../8/ifconfig">ifconfig(8)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 15, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

