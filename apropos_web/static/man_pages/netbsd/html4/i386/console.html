<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="..//static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
CONS(4) (i386)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
CONS(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual (i386)</td>
<td class="head-rtitle" align="right">
CONS(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">console</b> &#8212; <span class="desc">i386 console interface</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">options CONSDEVNAME=string</b><br>
<b class="config">options CONADDR=integer</b><br>
<b class="config">options CONSPEED=integer</b><br>
<b class="config">options CONS_OVERRIDE</b><br>
<b class="config">options CONMODE=integer</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The &#8220;console&#8221; device is used for <span class="emph">kernel printf</span> messages and accesses to the <i class="file">/dev/console</i> character special device in user mode. It is attached to a hardware interface at boot time controlled by options in the kernel configuration file, or information passed by the boot loader.<p>
Bootblocks from <span class="unix">NetBSD&#160;1.4</span> or newer select their console device from a compiled-in list, and then pass their choice of console device and console parameters to the kernel.<p>
As of <span class="unix">NetBSD&#160;1.5</span>, the <b class="cmd">consdev</b> bootblock command allows changing the console device on-the-fly.<p>
The kernel will use the same console device as the bootblock; no special kernel configuration is required.<p>
To override the bootblock's choice of console, or to use a serial kernel console with older bootblocks, you must specify kernel config-file options to override the information passed by the bootblock. The current option choices are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
- the standard PC keyboard and display</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
(with either the &#8220;pc&#8221; or the <a class="link-man" href="../../4/wscons">wscons(4)</a> driver)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
- standard PC serial ports</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
(with <a class="link-man" href="../../4/com">com(4)</a> driver)</dd>
</dl>
<p>
The available <span class="emph">kernel configuration</span> options are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-ohang">
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options CONSDEVNAME=string</b></dt>
<dd class="list-ohang">
specifies the name of the console device. Valid values are &#8220;pc&#8221; for the pc keyboard / display (default) and &#8220;com&#8221; for a serial port.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options CONADDR=integer</b></dt>
<dd class="list-ohang">
sets the base address for the serial console port (default: 0x3f8).</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options CONSPEED=integer</b></dt>
<dd class="list-ohang">
sets the baudrate for the serial console (default: 9600).</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options CONS_OVERRIDE</b></dt>
<dd class="list-ohang">
causes console information passed by the bootloader to be ignored and the settings specified by the three options above (or the defaults) to be used. Default behaviour is to use the settings from the bootloader if present, and to use option / default values only if no information was passed.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options CONMODE=integer</b></dt>
<dd class="list-ohang">
allows to specify terminal control flags. The argument is a &#8220;cflag&#8221; value, see <a class="link-man" href="../../4/termios">termios(4)</a> for details. Default is <code class="lit">(CREAD</code> | <code class="lit">CS8</code> | <code class="lit">HUPCL)</code> (8N1). This option takes always effect, because mode settings are not passed by the bootloader.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/dev/console</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/sys/arch/i386/conf/CONFIG</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> <b class="config">options CONSDEVNAME="&#92;"com&#92;"",CONADDR=0x2f8,CONSPEED=57600</b></div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../1/config">config(1)</a>, <a class="link-man" href="../../4/tty">tty(4)</a>, <a class="link-man" href="../../8/boot">boot(8)</a>, <a class="link-man" href="../../8/boot_console">boot_console(8)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The console device is chosen early in system startup regardless if the specified driver / device is present in the system configuration file. If the driver asked for by the bootloader or &#8220;<b class="config">options CONSDEVNAME</b>&#8221; is not configured into the system, a panic is caused. Because there is no console device, no explaining message will be printed. If the driver is present, but the specific device instance not, kernel printf will work, but <i class="file">/dev/console</i> becomes a dummy.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
September 6, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

