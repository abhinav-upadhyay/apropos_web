<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
GPIOIIC(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
GPIOIIC(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
GPIOIIC(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">gpioiic</b> &#8212; <span class="desc">GPIO I2C controller</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">gpioiic* at gpio? offset 0 mask 0x3 flag 0x0</b><br>
<b class="config">gpioiic* at gpio?</b><br>
<b class="config">iic* at gpioiic?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">gpioiic</b> driver allows bit-banging an I2C bus as a master using two GPIO pins. By default the first pin is used as a serial data (SDA) signal and the second as a serial clock (SCL). If the flag locator is set to 0x01, the order of the SDA and SCL signals is reversed. Both GPIO pins must be able to drive an output and the SDA pin must be also able to read an input.<p>
The pins can be specified in the kernel configuration with the <i class="arg">offset</i> and the <i class="arg">mask</i> locators. The <i class="arg">offset</i> and <i class="arg">mask</i> can also be specified when <b class="name">gpioiic</b> is attached at runtime using the <span class="define">GPIOATTACH</span> <a class="link-man" href="../2/ioctl">ioctl(2)</a> on the <a class="link-man" href="../4/gpio">gpio(4)</a> device. Each bit in the <i class="arg">mask</i> locator defines one pin; the pin number is calculated as an addition of the bit position and the <i class="arg">offset</i> locator. For example, <i class="arg">offset 17</i> and <i class="arg">mask 0x5</i> defines pin numbers 17 and 19.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/gpio">gpio(4)</a>, <a class="link-man" href="../4/iic">iic(4)</a>, <a class="link-man" href="../4/intro">intro(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">gpioiic</b> driver first appeared in <span class="unix">OpenBSD&#160;3.9</span> and <span class="unix">NetBSD&#160;5.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span>The <b class="name">gpioiic</b> driver was written by <span class="author">Alexander Yurchenko</span> &#60;<a class="link-mail" href="mailto:grange@openbsd.org">grange@openbsd.org</a>&#62; and was ported to <span class="unix">NetBSD</span> by <span class="author">Marc Balmer</span> &#60;<a class="link-mail" href="mailto:marc@msys.ch">marc@msys.ch</a>&#62;.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> A <b class="name">gpioiic</b> device can not be detached from the <a class="link-man" href="../4/gpio">gpio(4)</a> bus at runtime due to the fact that <a class="link-man" href="../4/iic">iic(4)</a> busses can not detach once attached.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 2, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

