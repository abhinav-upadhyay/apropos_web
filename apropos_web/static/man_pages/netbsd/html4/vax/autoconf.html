<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="..//static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
AUTOCONF(4) (VAX)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
AUTOCONF(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual (VAX)</td>
<td class="head-rtitle" align="right">
AUTOCONF(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">autoconf</b> &#8212; <span class="desc">diagnostics from the autoconfiguration code</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> When <span class="unix">NetBSD</span> bootstraps it probes the innards of the machine on which it is running and locates controllers, drives, and other devices. Each item found is recorded on the console. This procedure is driven by a system configuration table which is processed by <a class="link-man" href="../../1/config">config(1)</a> and compiled into each kernel.<p>
On the VAX, devices in NEXUS slots are normally noted, thus memory controllers, UNIBUS and MASSBUS adaptors.  Devices which are not supported which are found in NEXUS slots are noted also. The Q-bus on the MICROVAX is configured in the same way as the UNIBUS.<p>
MASSBUS devices are located by a very deterministic procedure since MASSBUS space is completely probe-able.  If devices exist which are not configured they will be silently ignored; if devices exist of unsupported type they will be noted.<p>
UNIBUS devices are located by probing to see if their control-status registers respond.  If not, they are silently ignored.  If the control status register responds but the device cannot be made to interrupt, a diagnostic warning will be printed on the console and the device will not be available to the system.<p>
Normally, the system uses the disk from which it was loaded as the root filesystem. If that is not possible, a generic system will pick its root device as the &#8220;best&#8221; available device (MASSBUS disks are better than SMD UNIBUS disks are better than RK07s; the device must be drive 0 to be considered). If such a system is booted with the <span class="define">RB_ASKNAME</span> option (see <a class="link-man" href="../../2/reboot">reboot(2)</a>), then the name of the root device is read from the console terminal at boot time, and any available device may be used.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">cpu type %d not configured.</b></dt>
<dd class="list-diag">
You tried to boot <span class="unix">NetBSD</span> on a CPU type which it doesn't (or at least this compiled version of <span class="unix">NetBSD</span> doesn't) understand.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">mba%d at tr%d.</b></dt>
<dd class="list-diag">
A MASSBUS adapter was found in &#8216;<code class="lit">tr%d</code>&#8217; (the NEXUS slot number). <span class="unix">NetBSD</span> will call it &#8216;<code class="lit">mba%d</code>&#8217;.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">%d mba's not configured.</b></dt>
<dd class="list-diag">
More MASSBUS adapters were found on the machine than were declared in the machine configuration; the excess MASSBUS adapters will not be accessible.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">uba%d at tr%d.</b></dt>
<dd class="list-diag">
A UNIBUS adapter was found in &#8216;<code class="lit">tr%d</code>&#8217; (the NEXUS slot number). <span class="unix">NetBSD</span> will call it &#8216;<code class="lit">uba%d</code>&#8217;.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">dr32 unsupported (at tr %d).</b></dt>
<dd class="list-diag">
A DR32 interface was found in a NEXUS, for which <span class="unix">NetBSD</span> does not have a driver.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">ci unsupported (at tr %d).</b></dt>
<dd class="list-diag">
A CI interface was found in a NEXUS, for which <span class="unix">NetBSD</span> does not have a driver.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">mcr%d at tr%d.</b></dt>
<dd class="list-diag">
A memory controller was found in &#8216;<code class="lit">tr%d</code>&#8217; (the NEXUS slot number). <span class="unix">NetBSD</span> will call it &#8216;<code class="lit">mcr%d</code>&#8217;.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">5 mcr's unsupported.</b></dt>
<dd class="list-diag">
<span class="unix">NetBSD</span> supports only 4 memory controllers per CPU.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">mpm unsupported (at tr%d).</b></dt>
<dd class="list-diag">
Multi-port memory is unsupported in the sense that <span class="unix">NetBSD</span> does not know how to poll it for ECC errors.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">%s%d at mba%d drive %d.</b></dt>
<dd class="list-diag">
A tape formatter or a disk was found on the MASSBUS; for disks &#8216;<code class="lit">%s%d</code>&#8217; will look like &#8220;<code class="lit">hp0</code>&#8221;, for tape formatters like &#8220;<code class="lit">ht1</code>&#8221;. The drive number comes from the unit plug on the drive or in the TM formatter (<span class="emph">not</span> on the tape drive; see below).</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">%s%d at %s%d slave %d.</b></dt>
<dd class="list-diag">
(For MASSBUS devices). Which would look like &#8220;<code class="lit">tu0 at ht0 slave 0</code>&#8221;, where &#8220;<code class="lit">tu0</code>&#8221; is the name for the tape device and &#8220;<code class="lit">ht0</code>&#8221; is the name for the formatter.  A tape slave was found on the tape formatter at the indicated drive number (on the front of the tape drive). <span class="unix">UNIX</span> will call the device, e.g., &#8220;<code class="lit">tu0</code>&#8221;.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">%s%d at uba%d csr %o vec %o ipl %x.</b></dt>
<dd class="list-diag">
The device &#8216;<code class="lit">%s%d</code>&#8217;, e.g. &#8220;<code class="lit">dz0</code>&#8221; was found on &#8216;<code class="lit">uba%d</code>&#8217; at control-status register address &#8216;<code class="lit">%o</code>&#8217; and with device vector &#8216;<code class="lit">%o</code>&#8217;. The device interrupted at priority level &#8216;<code class="lit">%x</code>&#8217;.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">%s%d at uba%d csr %o zero vector.</b></dt>
<dd class="list-diag">
The device did not present a valid interrupt vector, rather presented 0 (a passive release condition) to the adapter.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">%s%d at uba%d csr %o didn't interrupt.</b></dt>
<dd class="list-diag">
The device did not interrupt, likely because it is broken, hung, or not the kind of device it is advertised to be.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">%s%d at %s%d slave %d.</b></dt>
<dd class="list-diag">
(For UNIBUS devices). Which would look like &#8220;<code class="lit">up0 at sc0 slave 0</code>&#8221;, where &#8220;<code class="lit">up0</code>&#8221; is the name of a disk drive and &#8220;<code class="lit">sc0</code>&#8221; is the name of the controller.  Analogous to MASSBUS case.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../1/config">config(1)</a>, <a class="link-man" href="../../4/intro">intro(4)</a>, <a class="link-man" href="../../8/boot">boot(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">autoconf</b> feature appeared in <span class="unix">4.1BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 5, 1993</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

