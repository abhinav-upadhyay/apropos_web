<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../../style.css" type="text/css" media="all">
<title>
NP(4) (VAX)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
NP(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual (VAX)</td>
<td class="head-rtitle" align="right">
NP(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">np</b> &#8212; <span class="desc">Interlan Np100 10 Mb/s Ethernet interface</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">np0 at uba0 csr 166000 vector npintr</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> NOTE: This driver has not been ported from <span class="unix">4.4BSD</span> yet.<p>
The <b class="name">np</b> device provides access to an Interlan Np100 Ethernet interface for control functions.<p>
This interface is unusual in that it requires loading firmware into the controller before it may be used as a network link-level interface. This is accomplished by opening a character special device, and writing data to it. It is also possible to do post-mortem debugging of firmware failures by reading the local memory of the device.<p>
Multiple control processes are allowed by opening separate minor devices; secondary interfaces are specified by shifting the interface number by 4 bits.<p>
The device also responds to commands passed through the driver by the following <a class="link-man" href="../../2/ioctl">ioctl(2)</a>s:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">NPRESET</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
kills off all active network processes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">NPSTART</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
begins execution of the board at the specified address (usually <code class="lit">0x400</code>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">NPNETBOOT</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
downloads the image from a server on the network. [Contact MICOM-INTERLAN for details.]</dd>
</dl>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">np%d: Bad Maintenance command: %x!</b></dt>
<dd class="list-diag">
An invalid <a class="link-man" href="../../2/ioctl">ioctl(2)</a> was passed to the np driver.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">np%d: Panic NP100 bad buffer chain.</b></dt>
<dd class="list-diag">
An error occurred in an read or write operation causing it to run out of buffers before it finished the operation. This indicates a kernel failure rather than a device failure.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">NP100 unit %d not found!</b></dt>
<dd class="list-diag">
A failure occurred during initialization, such that the UNIBUS address expected for the board was found to be bad. Probably indicates hardware problems with the board, as do the following:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
NP100 Unit %d timed out! 
NP100 Unit %d Failed diagnostics! 
Status from CSR0: %x.</pre>
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">Panic from NP100 unit %d!</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">Panic Message: %s.</b></dt>
<dd class="list-diag">
An occurrence on the board was deemed serious enough to have the VAX print it out.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">NP100 unit #%d available!</b></dt>
<dd class="list-diag">
The board was successfully loaded and started.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">np%d: Bad Req: %x.</b></dt>
<dd class="list-diag">
The board made a maintenance request to the VAX that it did not understand.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">np%d: No more room on Command Queue!</b></dt>
<dd class="list-diag">
The np driver allowed an internal resource to be exhausted. This should never happen.</dd>
</dl>
<p>
There are 110 other diagnostic messages that can be enabled by setting bits in a debugging mask. Consult the driver for details.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../4/arp">arp(4)</a>, <a class="link-man" href="../../4/inet">inet(4)</a>, <a class="link-man" href="../../4/ix">ix(4)</a>, <a class="link-man" href="../../4/netintro">netintro(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">np</b> driver appeared in <span class="unix">4.3BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 5, 1993</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

