<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../../style.css" type="text/css" media="all">
<title>
IX(4) (VAX)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
IX(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual (VAX)</td>
<td class="head-rtitle" align="right">
IX(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ix</b> &#8212; <span class="desc">Interlan Np100 10 Mb/s Ethernet interface</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">np0 at uba0 csr 166000 vector npintr</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> NOTE: This driver has not been ported from <span class="unix">4.4BSD</span> yet.<p>
The <b class="name">ix</b> interface provides access to a 10 Mb/s Ethernet network through an Interlan Np100 controller used as a link-layer interface.<p>
This interface is unusual in that it requires loading firmware into the controller before it may be used as a network interface. This is accomplished by opening a character special device, and writing data to it. A program to load the image is provided in <i class="file">/usr/src/new/np100</i>. The sequence of commands would be:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
# ./npload np.image [/dev/np&lt;board #&gt; if other than np00] 
# sleep 10 
# ifconfig ix0 ...</pre>
<p>
Each of the host's network addresses is specified at boot time with an <span class="define">SIOCSIFADDR</span> <a class="link-man" href="../../html2/ioctl.html">ioctl(2)</a>. The <b class="name">ix</b> interface employs the address resolution protocol described in <a class="link-man" href="../../html4/arp.html">arp(4)</a> to dynamically map between Internet and Ethernet addresses on the local network.<p>
The interface normally tries to use a &#8220;trailer&#8221; encapsulation to minimize copying data on input and output. The use of trailers is negotiated with ARP. This negotiation may be disabled, on a per-interface basis, by setting the <span class="define">IFF_NOTRAILERS</span> flag with an <span class="define">SIOCSIFFLAGS</span> <a class="link-man" href="../../html2/ioctl.html">ioctl(2)</a>.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">ix%d: Req failed, cmd %x, stat %x, ust error %x,%x.</b></dt>
<dd class="list-diag">
The firmware in the controller refused to honor a request from <span class="unix">UNIX</span> in initializing packet level communications. The board may need to be reset and reloaded. Or, you may not have allowed enough time between loading the board and issuing the request to begin <span class="unix">UNIX</span> network operation.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">ix%d: can't initialize.</b></dt>
<dd class="list-diag">
The interface was unable to obtain UNIBUS resources required for operation.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">ix%d: failed to reinitialize DLA module.</b></dt>
<dd class="list-diag">
The interface got sick after attempting to reprogram its physical Ethernet address.  Try reloading the firmware. The attempt is made only when this interfaces is not the first one configured for XNS.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">ix%d: can't handle af%d.</b></dt>
<dd class="list-diag">
The interface was handed a message with addresses formatted in an unsuitable address family; the packet was dropped.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">ix%d: stray xmit interrupt, npreq=%x.</b></dt>
<dd class="list-diag">
This may happen if the board is reloaded while network processes are still running.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">ixrint: cqe error %x, %x, %x.</b></dt>
<dd class="list-diag">
This will result if an <a class="link-man" href="../../html8/ifconfig.html">ifconfig(8)</a> request is made at an inopportune time, such as not allowing enough time after loading the firmware. After 100 such errors are logged, the <span class="unix">UNIX</span> network driver will shut itself down, saying:</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">ixrint: shutting down unix dla.</b></dt>
<dd class="list-diag">
The recourse is to reload the firmware and allow more time.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../html4/arp.html">arp(4)</a>, <a class="link-man" href="../../html4/inet.html">inet(4)</a>, <a class="link-man" href="../../html4/netintro.html">netintro(4)</a>, <a class="link-man" href="../../html4/np.html">np(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">ix</b> driver appeared in <span class="unix">4.3BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 5, 1993</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

