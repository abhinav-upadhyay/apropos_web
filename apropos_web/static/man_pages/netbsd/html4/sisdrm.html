<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
DRM(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DRM(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
DRM(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">drm</b> &#8212; <span class="desc">Direct Rendering Manager (DRI kernel support)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">i915drm* at drm?</b><br>
<b class="config">mach64drm* at drm?</b><br>
<b class="config">mgadrm* at drm?</b><br>
<b class="config">r128drm* at drm?</b><br>
<b class="config">radeondrm* at drm?</b><br>
<b class="config">savagedrm* at drm?</b><br>
<b class="config">sisdrm* at drm?</b><br>
<b class="config">tdfxdrm* at drm?</b><br>
<b class="config">viadrm* at drm?</b><p>
<br>
<b class="config">options DRM_DEBUG</b><br>
<b class="config">options DRM_NO_AGP</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The Direct Rendering Manager is part of the Direct Rendering Infrastructure for supporting video acceleration (3d acceleration, mostly).<p>
The <b class="name">drm</b> drivers provide support for the following chipsets:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
i915drm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Intel i915, i945</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
mach64drm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Mach64 (3D Rage Pro, Rage)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
mgadrm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Matrox G[24]00, G[45]50</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
r128drm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
ATI Rage 128</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
radeondrm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
ATI Radeon</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
savagedrm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
S3 Savage</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
sisdrm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
SiS</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
tdfxdrm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
3dfx (Voodoo)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
viadrm</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
VIA</dd>
</dl>
<p>
To make use of the driver, the kernel must include <a class="link-man" href="../4/agp">agp(4)</a> (for some drivers, using <b class="config">options DRM_NO_AGP</b> instead may be sufficient), <a class="link-man" href="../7/X">X(7)</a> must be compiled with DRI support, Mesa DRI drivers must be installed, the appropriate <i class="file">/dev/dri/card*</i> device must exist, and DRI must be enabled in the X configuration file. <a class="link-man" href="../7/X">X(7)</a> provided with <span class="unix">NetBSD</span> and compiled from <a class="link-man" href="../7/pkgsrc">pkgsrc(7)</a> do so automatically where supported.<p>
<a class="link-man" href="../7/X">X(7)</a> will attempt to create the device node automatically. To create the device node manually:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
mkdir -p /dev/dri 
mknod /dev/dri/card0 c 180 0 
chgrp wheel /dev/dri/card0 
chmod 0660 /dev/dri/card0</pre>
<p>
To enable DRI in the X configuration add the following to either <i class="file">xorg.conf</i> for <a class="link-man" href="../1/Xorg">Xorg(1)</a> or <i class="file">XF86Config</i> for <a class="link-man" href="../1/XFree86">XFree86(1)</a> :<p>
<pre style="margin-left: 5.00ex;" class="lit display">
Section "Module" 
        ... 
        Load  "dri" 
        Load  "dri2" 
        Load  "glx" 
EndSection 
... 
Section "DRI" 
        Group "wheel" 
        Mode 0660 
EndSection</pre>
<p>
Debugging output can be enabled and disabled by setting the <a class="link-man" href="../8/sysctl">sysctl(8)</a> node <i class="arg">hw.dri.debug</i>. Additional information can be obtained from the <a class="link-man" href="../8/sysctl">sysctl(8)</a> nodes <i class="arg">hw.dri</i>, <i class="arg">hw.dri.card0</i>, <i class="arg">hw.dri.card1</i>, etc.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/XFree86">XFree86(1)</a>, <a class="link-man" href="../1/Xorg">Xorg(1)</a>, <a class="link-man" href="../4/agp">agp(4)</a>, <a class="link-man" href="../5/XF86Config">XF86Config(5)</a>, <a class="link-man" href="../5/xorg.conf">xorg.conf(5)</a>, <a class="link-man" href="../7/X">X(7)</a>, <i class="file">/usr/X11R[67]/lib/X11/doc/README.DRI</i><p>
<a class="link-ext" href="http://dri.freedesktop.org/">Direct Rendering Infrastructure</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> DRM was first available for Linux. Subsequently Eric Anholt ported the DRM kernel modules to <span class="unix">FreeBSD</span>. Erik Reid adapted the <span class="unix">FreeBSD</span> DRM kernel modules to <span class="unix">NetBSD</span>. As DRM continued to develop the <span class="unix">NetBSD</span> support was neglected. Tonnerre Lombard got the DRM modules working again, but DRM development once again left the <span class="unix">NetBSD</span> support behind. Finally Yorick Hardy took the <span class="unix">FreeBSD</span> DRM source and managed to get it compiling and working again on <span class="unix">NetBSD</span>, thanks largely to the efforts of all those mentioned above. Subsequently Matthias Drochner improved the DRM file hierarchy for <span class="unix">NetBSD</span> and committed the DRM kernel drivers. Matthew Green cleaned up this port and merged a set of newer drivers, with Arto Huusko and FUKAUMI Naoki helping to get the latest Mesa port up to date.<p>
The <b class="name">drm</b> drivers appeared in <span class="unix">NetBSD&#160;5.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span><span class="author">Eric Anholt</span>, <span class="author">Terry Barnaby</span>, <span class="author">Erdi Chen</span>, <span class="author">Michel Daenzer</span>, <span class="author">Leif Delgass</span>, <span class="author">Frank C. Earl</span>, <span class="author">Rickard E. Faith</span>, <span class="author">Jose Fonseca</span>, <span class="author">Nicolai Haehnle</span>, <span class="author">Jeff Hartmann</span>, <span class="author">Thomas Hellstrom</span>, <span class="author">Gareth Hughes</span>, <span class="author">Felix Kuehling</span>, <span class="author">Sung-Ching Lin</span>, <span class="author">Kevin E. Martin</span>, <span class="author">Daryll Strauss</span>, <span class="author">Keith Whitwell</span></div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> In case of errors, <i class="file">/dev/dri/card0</i> may be changed, make sure to recreate it in that case.<p>
<b class="config">options DRM_DEBUG</b> can slow DRI down a lot; disable it once <b class="name">drm</b> works.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 4, 2013</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

