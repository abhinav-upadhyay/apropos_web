<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
IEEE80211(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
IEEE80211(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
IEEE80211(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ieee80211</b> &#8212; <span class="desc">standard interface to IEEE 802.11 devices</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">sys/socket.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">net/if.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">net/ethernet.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">net/if_ieee80211.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This section describes the standard interface to configuration and status information on IEEE 802.11 devices. Most devices support options not configurable by this interface. They must be set by their respective, specific control program. The interface is via one of the following <a class="link-man" href="../2/ioctl">ioctl(2)</a> calls on a socket:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SIOCG80211</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Get configuration or status information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SIOCS80211</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Set configuration information.</dd>
</dl>
<p>
These requests are made via a modified <span class="type">ifreq</span> structure. This structure is defined as follows:<p>
<pre style="margin-left: 0.00ex;" class="lit display">
struct ieee80211req { 
	char		i_name[IFNAMSIZ];	/* if_name, e.g. "wi0" */ 
	uint16_t	i_type;			/* req type */ 
	int16_t		i_val;			/* Index or simple value */ 
	int16_t		i_len;			/* Index or simple value */ 
	void		*i_data;		/* Extra data */ 
};</pre>
<p>
For <span class="define">SIOCG80211</span> the following values of <b class="var">i_type</b> are valid:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_SSID</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the requested SSID by copying it into the buffer pointed to by <b class="var">i_data</b> and setting <b class="var">i_len</b> to the length. If <b class="var">i_val</b> is &gt;= 0 then the request refers to the configured value for that slot. Generally, 0 is the only valid value, but some interfaces support more SSIDs. If <b class="var">i_val</b> is &#45;1 then the request refers to the currently active value.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_NUMSSIDS</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the number of SSIDs this card supports. In most cases, this is 1, but some devices such as <a class="link-man" href="../4/an">an(4)</a> support more.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_WEP</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the current WEP status in <b class="var">i_val</b>. Valid values are <span class="define">IEEE80211_WEP_NOSUP</span>, <span class="define">IEEE80211_WEP_ON</span>, <span class="define">IEEE80211_WEP_OFF</span>, and <span class="define">IEEE80211_WEP_MIXED</span>. Respectively, these values mean unsupported, mandatory for all devices, off, and on, but not required for all devices.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_WEPKEY</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the requested WEP key via <b class="var">i_data</b> and its length via <b class="var">i_len</b>. If the device does not support returning the WEP key or the user is not root then the key may be returned as all zeros. Technically this is a valid key, but it is the kind of key an idiot would put on his luggage so we use it as a special value. Generally, only four WEP keys are allowed, but some devices support more. If so, the first four (0-3) are the standard keys stored in volatile storage and the others are device specific.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_NUMWEPKEYS</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the number of WEP keys supported by this device, generally 4. A device that does not support WEP may either report 0 or simply return <span class="errno">EINVAL</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_WEPTXKEY</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the WEP key used for transmission.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_AUTHMODE</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the current authentication mode in <b class="var">i_val</b>. Valid values are <span class="define">IEEE80211_AUTH_NONE</span>, <span class="define">IEEE80211_AUTH_OPEN</span>, and <span class="define">IEEE80211_AUTH_SHARED</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_STATIONNAME</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the station name via <b class="var">i_data</b> and its length via <b class="var">i_len</b>. While all known devices seem to support this in some way or another, they all do it differently and it appears to not have anything to do with the actual IEEE 802.11 standard so making up an answer may be necessary for future devices.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_CHANNEL</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the current direct sequence spread spectrum channel in use.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_POWERSAVE</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the current powersaving mode. Valid values are <span class="define">IEEE80211_POWERSAVE_NOSUP</span>, <span class="define">IEEE80211_POWERSAVE_OFF</span>, <span class="define">IEEE80211_POWERSAVE_ON</span>, <span class="define">IEEE80211_POWERSAVE_CAM</span>, <span class="define">IEEE80211_POWERSAVE_PSP</span>, and <span class="define">IEEE80211_POWERSAVE_PSP_CAM</span>. Currently, <span class="define">IEEE80211_POWERSAVE_ON</span> is defined to be equal to <span class="define">IEEE80211_POWERSAVE_CAM</span>, but this may be incorrect.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_POWERSAVESLEEP</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the powersave sleep time in msec in <b class="var">i_val</b>.</dd>
</dl>
<p>
For <span class="define">SIOCS80211</span> the following values of <b class="var">i_type</b> are valid:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_SSID</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the desired SSID for infrastructure and ad-hoc modes to value given by <b class="var">i_data</b> and <b class="var">i_len</b>. The length should be no longer than 32 characters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_WEP</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the current WEP mode to the value given in <b class="var">i_val</b>. Valid values are the same as those for this value above. Devices which do not support all modes may choose to either return <span class="errno">EINVAL</span> or choose a reasonable alternate (supported) setting.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_WEPKEY</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the WEP key indicated by <b class="var">i_val</b> to the value given by <b class="var">i_data</b> and <b class="var">i_len</b>. Generally, valid values of <b class="var">i_len</b> are 0, 5, and 13 though not all devices with WEP support have support for 13-byte keys.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_WEPTXKEY</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the WEP key used for transmission to the value in <b class="var">i_val</b>. Not all values which are valid for setting keys may be valid for setting transmit keys due to strange device interfaces.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_AUTHMODE</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the current authorization mode to the value given in <b class="var">i_val</b>. Valid values are given above. Not all devices support this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_STATIONNAME</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the station name to the value given by <b class="var">i_data</b> and <b class="var">i_len</b>. The standard does not appear to deal with this feature so the range of valid values may vary from device to device.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_CHANNEL</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the desired ad-hoc channel to the value given by <b class="var">i_val</b>. On some devices this has an impact on infrastructure mode as well. Valid values are 1-14, but 0 should be allowed and should return the device to the default value. May devices support this directly by converting any invalid value to the default value.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_POWERSAVE</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the current powersaving mode to the value given in <b class="var">i_val</b>. Valid values are the same as those for this value above. Devices which do not support all modes may choose to either return <span class="errno">EINVAL</span> or choose a reasonable alternate (supported) setting. Most devices only support CAM mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">IEEE80211_IOC_POWERSAVESLEEP</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the powersave sleep time in msec to the value in <b class="var">i_val</b>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/ioctl">ioctl(2)</a>, <a class="link-man" href="../4/an">an(4)</a>, <a class="link-man" href="../4/ray">ray(4)</a>, <a class="link-man" href="../4/wi">wi(4)</a>, <a class="link-man" href="../8/ifconfig">ifconfig(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">ieee80211</b> manual appeared in <span class="unix">FreeBSD&#160;4.3</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
February 23, 2001</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

