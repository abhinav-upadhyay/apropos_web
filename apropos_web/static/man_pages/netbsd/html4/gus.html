<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
GUS(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
GUS(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
GUS(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">gus</b> &#8212; <span class="desc">Gravis UltraSound/UltraSound MAX audio device driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">gus0 at isa? port 0xPPP irq X drq Y drq2 Z</b><br>
<b class="config">audio* at audiobus?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">gus</b> driver provides support for the Gravis UltraSound (GUS) and GUS MAX audio cards.  Both cards have on-board memory which is used for seamless playback of samples.  They can play back 8- or 16-bit samples at up to 44.1kHz.  They can record 8-bit samples at up to 44.1kHz. The UltraSound MAX is a full-duplex sound device, and if configured with two DRQ channels can be used for simultaneous playback and recording.  The I/O port base is jumper-selected, and may be chosen from 0x210-0x260 in steps of 0x10.  (The normal setting is 0x220.)  The GUS takes 16 ports at its base address and 8 ports at its base address + 0x100.<p>
The IRQ is software programmed, so you may select any IRQ from the set {3,5,7,9,11,12,15}.  The DRQ lines are software programmed, and may be chosen from {1,3,5,6,7}.  The drq2 field in the configuration file line specifies a second DRQ line for recording.  If there is no drq2 field in the config file, the playback channel will be used for recording DMA and only half-duplex mode will be available.<p>
The Gravis UltraSound MAX has an additional CODEC onboard which is addressed with four ports at an offset of 0x10C from the base ports (0x31C-0x36C).</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/audio">audio(4)</a></div>
<div class="section">
<h1 id="x5245464552454e434553">REFERENCES</h1> Gravis UltraSound Low-Level Toolkit, Revision 2.01, 20 May 1993, published by Advanced Gravis and Forte Technologies.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">gus</b> device driver appeared in <span class="unix">NetBSD&#160;1.1</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The full-duplex features of the GUS MAX have not been fully tested, and full-duplex on the original GUS may not be possible at all.<p>
Only two voices on the GF1 synthesizer chip are used by this driver (for left and right channels).<p>
Manipulating the mixer while audio samples are playing can lead to device driver confusion (and maybe even a system panic).<p>
Manipulating the mixer device seems to create pregnant system pauses, probably due to excessive interrupt masking.<p>
The joystick and MIDI port interfaces are not supported.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 22, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

