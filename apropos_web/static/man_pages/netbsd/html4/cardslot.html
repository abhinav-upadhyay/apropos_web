<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
CARDBUS(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
CARDBUS(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
CARDBUS(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">cardbus</b>, <b class="name">cardslot</b>, <b class="name">cbb</b> &#8212; <span class="desc">CardBus driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">cbb*      at pci? dev? function ?</b><br>
<b class="config">cardslot* at cbb?</b><br>
<b class="config">cardbus*  at cardslot?</b><br>
<b class="config">pcmcia*   at cardslot?</b><br>
<b class="config">XX*       at cardbus? function ?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <span class="unix">NetBSD</span> provides machine-independent bus support and drivers for CardBus devices.<p>
The <b class="flag">cbb</b> device represents the CardBus controller. Each controller has a number of slots, represented by the <b class="flag">cardslot</b> devices. A slot can have either a CardBus card or a PCMCIA card, which are attached with the <b class="flag">cardbus</b> or <b class="flag">pcmcia</b> devices, respectively.</div>
<div class="section">
<h1 id="x535550504f525445442044455649434553">SUPPORTED DEVICES</h1> <span class="unix">NetBSD</span> includes the following machine-independent CardBus drivers, sorted by function and driver name:<div class="subsection">
<h2 id="x4e6574776f726b20696e7465726661636573">Network interfaces</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
ath</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Atheros 5210/5211/5212 802.11</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
atw</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
ADMtek ADM8211 (802.11)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
bwi</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Broadcom BCM430x/4318 (802.11)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
ex</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
3Com 3c575TX and 3c575BTX</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
fxp</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Intel i8255x</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
ral</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Ralink Technology RT25x0 (802.11)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
re</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
RealTek 8139C+/8169/8169S/8110S</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
rtk</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Realtek 8129/8139</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
rtw</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Realtek 8180L (802.11)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
tlp</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
DECchip 21143</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x53657269616c20696e7465726661636573">Serial interfaces</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
com</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Modems and serial cards</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x5343534920636f6e74726f6c6c657273">SCSI controllers</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
adv</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
AdvanSys 1200[A,B], 9xx[U,UA]</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
ahc</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Adaptec ADP-1480</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
njs</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Workbit NinjaSCSI-32</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x55534220636f6e74726f6c6c657273">USB controllers</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
ehci</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Enhanced Host Controller (2.0)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
ohci</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Open Host Controller</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
uhci</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Universal Host Controller</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x494545453133393420636f6e74726f6c6c657273">IEEE1394 controllers</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
fwohci</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
OHCI controller</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x53442f4d4d432f5344494f20636f6e74726f6c6c657273">SD/MMC/SDIO controllers</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
sdhc</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
SD Host Controller</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x4469736b20616e64207461706520636f6e74726f6c6c657273">Disk and tape controllers</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
njata</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Workbit NinjaATA-32</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
siisata</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Silicon Image SATA-II controllers</dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> <b class="name">cbb</b> devices may not be properly handled by the system BIOS on i386-family systems. If, on an i386-family system, the <b class="name">cbb</b> driver reports<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">cbb0: NOT USED because of unconfigured interrupt</code></div>
</blockquote>
then enabling<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-item">
<li class="list-item" style="margin-top: 0.00em;">
<b class="config">options PCI_ADDR_FIXUP</b></li>
<li class="list-item" style="margin-top: 0.00em;">
<b class="config">options PCI_BUS_FIXUP</b></li>
<li class="list-item" style="margin-top: 0.00em;">
<b class="config">options PCI_INTR_FIXUP</b></li>
</ul>
or (if ACPI is in use)<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-item">
<li class="list-item" style="margin-top: 0.00em;">
<b class="config">options PCI_INTR_FIXUP_DISABLED</b></li>
</ul>
in the kernel configuration might be of use.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/adv">adv(4)</a>, <a class="link-man" href="../4/ahc">ahc(4)</a>, <a class="link-man" href="../4/ath">ath(4)</a>, <a class="link-man" href="../4/atw">atw(4)</a>, <a class="link-man" href="../4/bwi">bwi(4)</a>, <a class="link-man" href="../4/com">com(4)</a>, <a class="link-man" href="../4/ehci">ehci(4)</a>, <a class="link-man" href="../4/ex">ex(4)</a>, <a class="link-man" href="../4/fwohci">fwohci(4)</a>, <a class="link-man" href="../4/fxp">fxp(4)</a>, <a class="link-man" href="../4/njata">njata(4)</a>, <a class="link-man" href="../4/njs">njs(4)</a>, <a class="link-man" href="../4/ohci">ohci(4)</a>, <a class="link-man" href="../4/options">options(4)</a>, <a class="link-man" href="../4/pci">pci(4)</a>, <a class="link-man" href="../4/pcmcia">pcmcia(4)</a>, <a class="link-man" href="../4/ral">ral(4)</a>, <a class="link-man" href="../4/re">re(4)</a>, <a class="link-man" href="../4/rtk">rtk(4)</a>, <a class="link-man" href="../4/rtw">rtw(4)</a>, <a class="link-man" href="../4/sdhc">sdhc(4)</a>, <a class="link-man" href="../4/siisata">siisata(4)</a>, <a class="link-man" href="../4/tlp">tlp(4)</a>, <a class="link-man" href="../4/uhci">uhci(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">cardbus</b> driver appeared in <span class="unix">NetBSD&#160;1.5</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1><div class="subsection">
<h2 id="x4d656d6f727920737061636520636f6e666c69637473">Memory space conflicts</h2> <span class="unix">NetBSD</span> maps memory on Cardbus (and therefore PCMCIA cards behind Cardbus) in order to access the cards (including reading CIS tuples on PCMCIA cards) and access the devices using the RBUS abstraction. When the mapping does not work, PCMCIA cards are typically ignored on insert, and Cardbus cards are recognized but nonfunctional. On i386, the kernel has a heuristic to choose a memory address for mapping, defaulting to 1 GB, but choosing 0.5 GB on machines with less than 192 MB RAM and 2 GB on machines with more than 1 GB of RAM. The intent is to use an address that is larger than available RAM, but low enough to work; some systems seem to have trouble with addresses requiring more than 20 address lines. On i386, the following kernel configuration line disables the heuristics and forces Cardbus memory space to be mapped at 512M; this value makes Cardbus support (including PCMCIA attachment under a cbb) work on some notebook models, including the IBM Thinkpad 600E (2645-4AU) and the Compaq ARMADA M700:<p>
<b class="config">options RBUS_MIN_START="0x20000000"</b></div>
<div class="subsection">
<h2 id="x50434d4349412061646472657373696e672063686f696365">PCMCIA addressing choice</h2> By default, on i386 and amd64, the kernel uses <span class="define">RBUS_IO_BASE</span> as 0x4000 and <span class="define">RBUS_IO_SIZE</span> as 0x2000. On some machines, this fails, due to a requirement that these addresses fit within 12 bits. The following kernel options have been reported as helpful:<p>
<b class="config">options RBUS_IO_BASE="0xa00"</b><p>
<b class="config">options RBUS_IO_SIZE="0x00ff"</b></div>
</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 31, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

