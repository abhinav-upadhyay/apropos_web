<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
BKTR(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
BKTR(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
BKTR(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">bktr</b> &#8212; <span class="desc">Brooktree 848 compatible TV card driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">bktr* at pci? dev ? function ?</b><br>
<b class="config">radio* at bktr?</b><p>
<br>
<b class="includes">#include &lt;<a class="link-includes">dev/ic/bt8xx.h</a>&gt;</b><p>
<br>
<b class="config">options BKTR_OVERRIDE_CARD=n</b><br>
<b class="config">options BKTR_OVERRIDE_TUNER=n</b><br>
<b class="config">options BKTR_OVERRIDE_DBX=n</b><br>
<b class="config">options BKTR_OVERRIDE_MSP=n</b><br>
<b class="config">options BKTR_SYSTEM_DEFAULT=n</b><br>
<b class="config">options BKTR_USE_PLL</b><br>
<b class="config">options BKTR_GPIO_ACCESS</b><br>
<b class="config">options BKTR_NO_MSP_RESET</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This driver supports video capture (frame grabber) and TV tuner cards based on the Brooktree Bt848, Bt848A, Bt849A, Bt878, and Bt879 chips.<p>
Note that <b class="name">bktr</b> is not part of the <a class="link-man" href="../4/dtv">dtv(4)</a> framework.<p>
Supported cards include most cards by AVerMedia, Hauppauge, Leadtek, Miro, Pinnacle, Pixelview, Terratec, and some other companies, especially all cards based on the Brooktree Bt848, Bt848A, Bt849A, Bt878, or Bt879 chips. A notable exception are the ATI All-in-Wonder cards.<p>
The following kernel configuration options are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-ohang">
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options BKTR_OVERRIDE_CARD=n</b></dt>
<dd class="list-ohang">
If the card is not recognized correctly by the auto-detection routine, it can be overridden by setting this option to the appropriate value. The following values are allowed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Pinnacle Systems (Miro) TV,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Hauppauge WinCast/TV,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
3</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
STB TV/PCI,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
4</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Intel Smart Video III and Videologic Captivator PCI,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
5</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
IMS TV Turbo,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
6</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
AVerMedia TV/FM,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
7</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
MMAC Osprey,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
8</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
NEC PK-UG-X017,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
9</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
I/O DATA GV-BCTV2/PCI,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
10</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Animation Technologies FlyVideo,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
11</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Zoltrix TV,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
12</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
KISS TV/FM PCI,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
13</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Video Highway Xtreme,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
14</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Askey/Dynalink Magic TView,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
15</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Leadtek WinFast TV 2000/VC100,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
16</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
TerraTec TerraTV+, and</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
17</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
TerraTec TValue.</dd>
</dl>
</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options BKTR_OVERRIDE_TUNER=n</b></dt>
<dd class="list-ohang">
If the TV tuner is not recognized correctly by the auto-detection routine, it can be overridden by setting this option to the appropriate value. Known values are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Temic NTSC,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Temic PAL,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
3</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Temic SECAM,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
4</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Philips NTSC,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
5</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Philips PAL,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
6</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Philips SECAM,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
7</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Temic PAL I,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
8</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Philips PAL I,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
9</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Philips FR1236 NTSC FM,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
10</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Philips FR1216 PAL FM,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
11</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Philips FR1236 SECAM FM,</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
12</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
ALPS TSCH5 NTSC FM, and</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
13</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
ALPS TSBH1 NTSC.</dd>
</dl>
</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options BKTR_OVERRIDE_DBX=n</b></dt>
<dd class="list-ohang">
To override detection of the BTSC (dbx) chip, set this to <span class="emph">1</span> if you have one, or <span class="emph">0</span> if not.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options BKTR_OVERRIDE_MSP=n</b></dt>
<dd class="list-ohang">
To override detection of the MSP 34xx chip, set this to <span class="emph">1</span> if you have one, or <span class="emph">0</span> if not.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options BKTR_SYSTEM_DEFAULT=n</b></dt>
<dd class="list-ohang">
If this option is set to <span class="emph">BROOKTREE_PAL</span> default to PAL, else to NTSC.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options BKTR_USE_PLL</b></dt>
<dd class="list-ohang">
Default to PLL instead of XTAL.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options BKTR_GPIO_ACCESS</b></dt>
<dd class="list-ohang">
Use <b class="fname">ioctl</b>()s for direct GPIO access.</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
<b class="config">options BKTR_NO_MSP_RESET</b></dt>
<dd class="list-ohang">
Skip the MSP reset. This option is handy if you initialize the MSP audio in another operating system first and then do a soft reboot.</dd>
</dl>
</div>
<div class="section">
<h1 id="x564944454f204341505455524520494e54455246414345">VIDEO CAPTURE INTERFACE</h1> The video capture interface to <b class="name">bktr</b> is accessed through the <i class="file">/dev/bktrN</i> devices. The following <a class="link-man" href="../2/ioctl">ioctl(2)</a> commands are supported on the Brooktree848 video capture interface:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORSFMT</span> <i class="farg">unsigned long *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command sets the video format, also sometimes referred to as the video norm. The supported formats are:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_FMT_NTSC</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
NTSC</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_FMT_PAL</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
PAL</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_FMT_SECAM</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
SECAM</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_FMT_AUTOMODE</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
hardware default</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORGFMT</span> <i class="farg">unsigned long *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command retrieves the current video format to the <span class="type">unsigned long *</span> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORSETGEO</span> <i class="farg">struct meteor_geomet *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command sets the video properties that affect the bit size of a frame through the <span class="type">meteor_geomet *</span> argument.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
struct meteor_geomet { 
	u_short		rows;	 /* height in pixels*/ 
	u_short		columns; /* width in pixels */ 
	u_short		frames; 
	u_long		oformat; 
}</pre>
<p>
The <b class="var">frames</b> field is the number of frames to buffer. Currently only 1 frame is supported for most operations.<p>
The <b class="var">oformat</b> field is a bit-field describing the output pixel format type and which video fields to capture. The following are supported pixel format types:<br>
  .Pp<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_RGB16</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
16-bit RGB</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_RGB24</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
24-bit RGB in 32 bits</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_YUV_PACKED</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
16-bit 4:2:2 YUV</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_YUV_PLANAR</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
16-bit 4:2:2 YUV</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_YUV_UNSIGNED</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
unsigned UV</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_YUV_422</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_YUV_12</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_YUV_9</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
</dd>
</dl>
<p>
The following are supported field capture modes:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_ODD_ONLY</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
only odd fields</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_GEO_EVEN_ONLY</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
only even fields</dd>
</dl>
<p>
By default, frames will consist of both the odd and even fields.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORGSUPPIXFMT</span> <i class="farg">struct meteor_pixfmt *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command is used interactively to fetch descriptions of supported output pixel formats into the <span class="type">meteor_pixfmt *</span> argument.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
struct meteor_pixfmt { 
	u_int          index; 
	METEOR_PIXTYPE type; 
	u_int          Bpp;		/* bytes per pixel */ 
	u_long         masks[3];	/* YUV bit masks */ 
	unsigned       swap_bytes :1; 
	unsigned       swap_shorts:1; 
};</pre>
<p>
To query all the supported formats, start with an index field of 0 and continue with successive encodings (1, 2, ...) until the command returns an error.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORSACTPIXFMT</span> <i class="farg">int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command sets the active pixel format. The <span class="type">int *</span> argument is the index of the pixel format as returned by <span class="define">METEORGSUPPIXFMT</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORGACTPIXFMT</span> <i class="farg">int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command fetches the active pixel format index into the <span class="type">int *</span> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORSINPUT</span> <i class="farg">unsigned long *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command sets the input port of the Brooktree848 device. The following are supported input ports:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_INPUT_DEV0</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
composite (RCA)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_INPUT_DEV1</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
tuner</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_INPUT_DEV2</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
composite S-video</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_INPUT_DEV3</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
mystery device</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_INPUT_DEV_RGB</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
rgb meteor</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_INPUT_DEV_SVIDEO</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
S-Video</dd>
</dl>
<p>
Not all devices built with Brooktree848 chips support the full list of input ports.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORGINPUT</span> <i class="farg">unsigned long *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command retrieves the current input port to the <span class="type">unsigned long *</span> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORSFPS</span> <i class="farg">unsigned short *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command sets the number of frames to grab each second. Valid frame rates are integers from 0 to 30.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORGFPS</span> <i class="farg">unsigned short *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command fetches the number of frames to grab each second into the <span class="type">unsigned short *</span> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORCAPTUR</span> <i class="farg">int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command controls capturing of video data. The following are valid arguments:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_CAP_SINGLE</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
capture one frame</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_CAP_CONTINOUS</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
continuously capture</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_CAP_STOP_CONT</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
stop continuous capture</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">METEORSSIGNAL</span> <i class="farg">unsigned int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command controls the signal emission properties of <b class="name">bktr</b>. If the <span class="type">unsigned int *</span> argument is a valid signal, then that signal will be emitted when either a frame or field capture has completed. To select between frame or field signalling, the following arguments are used:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_SIG_FRAME</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
signal every frame</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">METEOR_SIG_FIELD</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
signal every field</dd>
</dl>
<p>
By default, signals will be generated for every frame. Generation of signals is terminated with the <span class="define">METEOR_SIG_MODE_MASK</span> argument.</dd>
</dl>
</div>
<div class="section">
<h1 id="x54554e455220494e54455246414345">TUNER INTERFACE</h1> Most cards supported by this driver feature a hardware television tuner on the I2C bus. The tuner interface to <b class="name">bktr</b> is accessed through the <i class="file">/dev/tunerN</i> devices. The following <a class="link-man" href="../2/ioctl">ioctl(2)</a> commands are supported on the tuner interface:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TVTUNER_SETTYPE</span> <i class="farg">unsigned int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command sets the tuner's TV channel set, also sometimes called the TV channel band. This setting is used to calculate the proper tuning frequencies. The desired channel set must be selected before attempting to set the tuner channel or frequency. The following is a list of valid channel sets:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_NABCST</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
North America broadcast</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_CABLEIRC</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
North America IRC cable</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_CABLEHRC</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
North America HRC cable</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_WEUROPE</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
Western Europe</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_JPNBCST</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
Japan broadcast</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_JPNCABLE</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
Japan cable</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_XUSSR</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
Russia</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_AUSTRALIA</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
Australia</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">CHNLSET_FRANCE</span></dt>
<dd class="list-tag" style="margin-left: 28.00ex;">
France</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TVTUNER_GETTYPE</span> <i class="farg">unsigned int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command fetches the tuner's current channel set to the <span class="type">unsigned int *</span> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TVTUNER_SETCHNL</span> <i class="farg">unsigned int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command sets the tuner's frequency to a specified channel in the current channel set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TVTUNER_GETCHNL</span> <i class="farg">unsigned int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command fetches the last selected channel. Note that it is not necessarily the current channel. In particular, changing the tuner's frequency by a command other than <span class="define">TVTUNER_SETCHNL</span> will not update this setting, and it defaults to 0 on driver initialization.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TVTUNER_SETFREQ</span> <i class="farg">unsigned int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command sets the tuner's frequency to 1/16th the value of the <span class="type">unsigned int *</span> argument, in MHz. Note that the current channelset is used to determine frequency offsets when this command is executed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TVTUNER_GETFREQ</span> <i class="farg">unsigned int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command fetches the tuner's current frequency to the <span class="type">unsigned int *</span> argument. Note that this value is 16 times the actual tuner frequency, in MHz.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">BT848_SAUDIO</span> <i class="farg">int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command controls the audio input port and mute state. The following is a list of valid arguments:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">AUDIO_TUNER</span></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
tuner audio port</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">AUDIO_EXTERN</span></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
external audio port</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">AUDIO_INTERN</span></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
internal audio port</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">AUDIO_MUTE</span></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
mute audio</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">AUDIO_UNMUTE</span></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
unmute audio</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">BT848_GAUDIO</span> <i class="farg">int *</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This command fetches the audio input and mute state bits to the <span class="type">int *</span> argument.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/dev/bktr*</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
<b class="name">bktr</b> driver interface device</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/dev/tuner*</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
<b class="name">bktr</b> tuner interface device</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/dev/vbi*</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
teletext interface device</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/options">options(4)</a>, <a class="link-man" href="../4/pci">pci(4)</a>, <a class="link-man" href="../4/radio">radio(4)</a>, <i class="file">pkgsrc/audio/xmradio</i>, <i class="file">pkgsrc/multimedia/ffmpeg</i>, <i class="file">pkgsrc/multimedia/fxtv</i></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">bktr</b> driver appeared in <span class="unix">FreeBSD&#160;2.2</span> and <span class="unix">NetBSD&#160;1.5</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">bktr</b> driver was originally written by Amancio Hasty for <span class="unix">FreeBSD</span> and is now maintained by Roger Hardiman. <span class="unix">NetBSD</span> porting was done by Bernd Ernesti, Berndt Josef Wulf, Matthias Scheler, and Thomas Klausner.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 30, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

