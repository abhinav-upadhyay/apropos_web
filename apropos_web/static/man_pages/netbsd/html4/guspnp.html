<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
GUSPNP(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
GUSPNP(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
GUSPNP(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">guspnp</b> &#8212; <span class="desc">Am78C201 audio device driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">guspnp* at isapnp?</b><br>
<b class="config">audio*  at audiobus?</b><p>
There should be no limit caused by the driver on the number of drivers or cards active in the system.</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">guspnp</b> driver provides support for audio subsystems using the Interwave (Am78C20x) family of ICs, usually the Gravis Ultrasound Plug and Play. Unlike the <b class="name">gus</b> driver guspnp driver does not require any local memory for the IC, but uses the codec for both playback and recording. The <b class="name">guspnp</b> driver can simultaneously playback and record 8- and 16-bit samples at frequencies from 5.51kHz to 48kHz.<p>
The <b class="name">guspnp</b> driver relies on <b class="name">isapnp</b> to allocate suitable resources for it. This version of the driver only uses the first logical device of the five the Interwave IC has. The four unused logical devices are the ATAPI CD-ROM device, PnP Joystick device, legacy soundcard emulation device (SoundBlaster) and MIDI serial device. Support for at least ATAPI CD-ROM and Joystick is being worked on. This version of the driver will use 1 IRQ and 2 DRQs.</div>
<div class="section">
<h1 id="x4841524457415245">HARDWARE</h1> Cards supported by the <b class="name">guspnp</b> driver include:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-item">
<li class="list-item" style="margin-top: 1.00em;">
Gravis Ultrasound PNP, and compatibles</li>
</ul>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/audio">audio(4)</a>, <a class="link-man" href="../4/gus">gus(4)</a>, <a class="link-man" href="../4/isapnp">isapnp(4)</a></div>
<div class="section">
<h1 id="x5245464552454e434553">REFERENCES</h1> Interwave(tm) IC Am78C201/202 Programmer's Guide Rev. 2. 1996. Advanced Micro Devices.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">guspnp</b> driver appeared in <span class="unix">NetBSD&#160;1.3</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Kari Mettinen</span> &#60;<a class="link-mail" href="mailto:Kari.Mettinen@helsinki.fi">Kari.Mettinen@helsinki.fi</a>&#62;, University of Helsinki.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Sometimes you can cause a hiss on either left or right channel, or both. You can usually make it disappear by playing random data, however this might not be a very nice thing to your audio equipment, but it is the only way I have found out to be effective.<p>
Only the Codec is used in this version of the driver, therefore only 2 channels are supported (left and right). Also sound quality is probably worse at lower kHz compared to playing through the synthesizer which does interpolation.<p>
If the implementation has a 'bad' oscillator, using frequencies 44.8kHz and 38.4kHz will result in incorrect playback frequency. The author has a GUS PnP Pro which displays this behavior.<p>
Other members of the Interwave family have not been tested and don't have the glue needed to make them work. Should someone need to implement it, not many changes in the existing code are needed. Output voltage control in register CFIG2 [7] should be set differently for some other members of the family.<p>
Other architectures than i386 haven't been tested. The bus_space abstraction has been used from the beginning, so it should work.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 22, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

