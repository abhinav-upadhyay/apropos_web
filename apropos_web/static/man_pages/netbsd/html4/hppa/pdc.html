<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../../style.css" type="text/css" media="all">
<title>
PDC(4) (HPPA)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
PDC(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual (HPPA)</td>
<td class="head-rtitle" align="right">
PDC(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">pdc</b> &#8212; <span class="desc">Processor-Dependent Code firmware driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">pdc0 at mainbus?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">pdc</b> driver provides system console services through the PDC and also a means for calling PDC procedures, described later. The PDC console is used early in the kernel startup before enough kernel subsystems have been initialized to directly use the hardware i.e. serial ports, keyboard, and video.<p>
The PDC version displayed at system boot is relevant to the particular system model and is not necessarily comparable to PDC versions on other systems.</div>
<div class="section">
<h1 id="x5044432050524f43454455524553">PDC PROCEDURES</h1> PDC procedure calls are all made through a single entry point and assume normal C language calling conventions, with option number in the first argument and the return data address in the second, unless indicated otherwise. Each call requires at most 7KB of the available stack. Here is the list of procedures and options descriptions:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_ADD_VALID</i>, <i class="farg">PDC_ADD_VALID_DFLT</i>, <i class="farg">paddr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Perform a read operation attempt at the physical address <i class="arg">paddr</i> without causing a HPMC, in order to verify that the address is valid and there is a device to respond to it. The implementation may choose to call the caller's HPMC handler and raise error conditions on the bus convertors.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_ALLOC</i>, <i class="farg">PDC_ALLOC_DFLT</i>, <i class="farg">ptr</i>, <i class="farg">size</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Allocate static storage for IODC use of <i class="arg">size</i> bytes and return the address in a word pointed to by the <i class="arg">ptr</i> argument. There is no way of freeing the storage allocated and thus care shall be taken to not exhaust the total allocation limit of 32KB.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_BLOCK_TLB</i>, <i class="farg">PDC_BTLB_DEFAULT</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Get block TLB parameters into the data area pointed to by the <i class="arg">ptr</i> argument. This includes minimal and maximal entry size and number of fixed and variable sized entries in the block TLB. Fixed entries have size of power of two and are aligned to the size where variable entries can have any size and base address both aligned to a page.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_BLOCK_TLB</i>, <i class="farg">PDC_BTLB_INSERT</i>, <i class="farg">sp</i>, <i class="farg">va</i>, <i class="farg">pa</i>, <i class="farg">len</i>, <i class="farg">acc</i>, <i class="farg">slot</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Insert block TLB entry specified by the space ID <i class="arg">sp</i>, virtual address <i class="arg">va</i>, physical address <i class="arg">pa</i>, region length <i class="arg">len</i>, access rights <i class="arg">acc</i>, into the slot number <i class="arg">slot</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_BLOCK_TLB</i>, <i class="farg">PDC_BTLB_PURGE</i>, <i class="farg">sp</i>, <i class="farg">va</i>, <i class="farg">slot</i>, <i class="farg">len</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Purge one entry from the block TLB specified by the space ID <i class="arg">sp</i>, virtual address <i class="arg">va</i>, region length <i class="arg">len</i>, from slot number <i class="arg">slot</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_BLOCK_TLB</i>, <i class="farg">PDC_BTLB_PURGE_ALL</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Purge all entries from the block TLB.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_CACHE</i>, <i class="farg">PDC_CACHE_DFLT</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve cache and TLB configuration parameters into the data area pointed to by the <i class="arg">ptr</i> argument. The format of the data stores is as follows:<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 0.00ex;" class="list list-col">
<col style="min-width: 4.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">addr</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">contents</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x00</td>
<td class="list-col" style="margin-top: 1.00em;">
I-cache size in bytes</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x04</td>
<td class="list-col" style="margin-top: 1.00em;">
I-cache configuration</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x08</td>
<td class="list-col" style="margin-top: 1.00em;">
I-cache base for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x0c</td>
<td class="list-col" style="margin-top: 1.00em;">
I-cache stride for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x10</td>
<td class="list-col" style="margin-top: 1.00em;">
I-cache count for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x14</td>
<td class="list-col" style="margin-top: 1.00em;">
I-cache loop size for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x18</td>
<td class="list-col" style="margin-top: 1.00em;">
D-cache size in bytes</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x1c</td>
<td class="list-col" style="margin-top: 1.00em;">
D-cache configuration</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x20</td>
<td class="list-col" style="margin-top: 1.00em;">
D-cache base for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x24</td>
<td class="list-col" style="margin-top: 1.00em;">
D-cache stride for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x28</td>
<td class="list-col" style="margin-top: 1.00em;">
D-cache count for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x2c</td>
<td class="list-col" style="margin-top: 1.00em;">
D-cache loop size for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x30</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB size</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x34</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB configuration</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x38</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB space base for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x3c</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB space stride for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x40</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB space count for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x44</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB address base for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x48</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB address stride for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x4c</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB address count for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x50</td>
<td class="list-col" style="margin-top: 1.00em;">
ITLB loop size for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x54</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB size</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x58</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB configuration</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x5c</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB space base for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x60</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB space stride for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x64</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB space count for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x68</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB address base for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x6c</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB address stride for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x70</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB address count for flushing</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x74</td>
<td class="list-col" style="margin-top: 1.00em;">
DTLB loop size for flushing</td>
</tr>
</tbody>
</table>
<p>
The cache configuration word is formatted as follows:<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 0.00ex;" class="list list-col">
<col style="width: 3.00ex;">
<col style="min-width: 3.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">bit</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">len</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">contents</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0</td>
<td class="list-col" style="margin-top: 1.00em;">
12</td>
<td class="list-col" style="margin-top: 1.00em;">
reserved</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
13</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
<td class="list-col" style="margin-top: 1.00em;">
set 1 if coherent operation supported</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
16</td>
<td class="list-col" style="margin-top: 1.00em;">
2</td>
<td class="list-col" style="margin-top: 1.00em;">
flush mode: 0 -- fdc &amp; fic; 1 -- fdc; 2 -- fic; 3 -- either</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
18</td>
<td class="list-col" style="margin-top: 1.00em;">
1</td>
<td class="list-col" style="margin-top: 1.00em;">
write-thru D-cache if set</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
19</td>
<td class="list-col" style="margin-top: 1.00em;">
2</td>
<td class="list-col" style="margin-top: 1.00em;">
reserved</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
21</td>
<td class="list-col" style="margin-top: 1.00em;">
3</td>
<td class="list-col" style="margin-top: 1.00em;">
cache line size</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
24</td>
<td class="list-col" style="margin-top: 1.00em;">
4</td>
<td class="list-col" style="margin-top: 1.00em;">
associativity</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
28</td>
<td class="list-col" style="margin-top: 1.00em;">
4</td>
<td class="list-col" style="margin-top: 1.00em;">
virtual address alias boundary</td>
</tr>
</tbody>
</table>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_CACHE</i>, <i class="farg">PDC_CACHE_SETCS</i>, <i class="farg">ptr</i>, <i class="farg">i_cst</i>, <i class="farg">d_cst</i>, <i class="farg">it_cst</i>, <i class="farg">dt_cst</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The second word in each of the <i class="arg">i_cst</i>, <i class="arg">d_cst</i>, <i class="arg">it_cst</i>, and <i class="arg">dt_cst</i> arguments specifies the desired coherency operation for the instructions cache, data cache, instructions TLB, and data TLB, respectively. The data area pointed to by the <i class="arg">ptr</i> argument receives the actual coherent operation state after an attempted change. The CPU does not support the requested operation change should the corresponding words not match the arguments upon return. The currently supported values are zero for incoherent operation, and one for coherent operation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_CACHE</i>, <i class="farg">PDC_CACHE_GETSPIDB</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The word pointed to by the <i class="arg">ptr</i> argument receives a mask of space ID used in hashing for cache tag.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_CHASSIS</i>, <i class="farg">PDC_CHASSIS_DISP</i>, <i class="farg">display</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Update the chassis display with data given in the <i class="arg">display</i> argument. The bitfields in the word are as follows:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0xe0000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Specifies the system state.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0x00000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
off</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x20000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
fault</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x40000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
test</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x60000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
initialize</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x80000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
shutdown</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0xa0000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
warning</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0xc0000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
run</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0xe0000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
all on</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x10000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Blank the chassis display.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x0f000</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
This and the other lower three nibbles specify the four hex digits to be displayed on the chassis display.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_CHASSIS</i>, <i class="farg">PDC_CHASSIS_WARN</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Return the warnings from the chassis fans, temperature sensors, batteries and power supplies. A word of data is returned in the area pointed by the <i class="arg">ptr</i> argument and is described with bitfields:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0xff000000</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Zero means none of the redundant chassis components has indicated any failures. A non-zero value specifies the failing component.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x4</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Indicates the chassis battery charge is low.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x2</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The chassis temperature has exceeded the low threshold.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
0x1</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The chassis temperature has exceeded the middle threshold.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_CHASSIS</i>, <i class="farg">PDC_CHASSIS_ALL</i>, <i class="farg">ptr</i>, <i class="farg">display</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Both retrieves the chassis warnings into the word pointed by the <i class="arg">ptr</i> argument and sets the chassis display using data in the <i class="arg">display</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_COPROC</i>, <i class="farg">PDC_COPROC_DFLT</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Identify the coprocessors attached to the CPU. The <i class="arg">ptr</i> points to a memory location where data is to be stored. The first word provides a mask for functional coprocessors and the second word is the mask for all present coprocessors.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_DEBUG</i>, <i class="farg">PDC_DEBUG_DFLT</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve address of the PDC debugger placed in to the word pointed to by the <i class="arg">ptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_IODC</i>, <i class="farg">PDC_IODC_READ</i>, <i class="farg">ptr</i>, <i class="farg">hpa</i>, <i class="farg">entry</i>, <i class="farg">addr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Given a module <i class="arg">hpa</i>, retrieve the specified <i class="arg">entry</i> from the module's IODC into a memory area at <i class="arg">adr</i> of <i class="arg">count</i> bytes long at most. The <i class="arg">entry</i> index is a one-byte index, with a value of zero being a special case. For the 0th entry, an IODC header of 16 bytes is returned instead of an actual code.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_IODC</i>, <i class="farg">PDC_IODC_NINIT</i>, <i class="farg">ptr</i>, <i class="farg">hpa</i>, <i class="farg">spa</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Non-destructively initialize the memory module specified by the <i class="arg">hpa</i> and <i class="arg">spa</i> arguments and return the module status after the init in the first word pointed to by the <i class="arg">ptr</i> argument, followed by the SPA space size and an amount of available memory bytes in the subsequent two words.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_IODC</i>, <i class="farg">PDC_IODC_DINIT</i>, <i class="farg">ptr</i>, <i class="farg">hpa</i>, <i class="farg">spa</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Same as <b class="name">PDC_IODC_NINIT</b> except a destructive memory test is performed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_IODC</i>, <i class="farg">PDC_IODC_MEMERR</i>, <i class="farg">ptr</i>, <i class="farg">hpa</i>, <i class="farg">spa</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
For the memory module that is specified by <i class="arg">hpa</i> and <i class="arg">spa</i>, return the last most severe error information comprised of copies of IO_STATUS, IO_ERR_RESP, IO_ERR_INFO, and IO_ERR_REQ registers placed into the data area pointed to by the <i class="arg">ptr</i> argument, and clear the error status.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_IODC</i>, <i class="farg">PDC_IODC_IMEMMASTER</i>, <i class="farg">ptr</i>, <i class="farg">hpa</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
HPA for the primary memory module is returned in a word pointed to by the <i class="arg">ptr</i> argument for a memory module specified by <i class="arg">hpa</i> if it's configured as a slave module in an interleave group.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_LAN_STATION_ID</i>, <i class="farg">PDC_LAN_STATION_ID_READ</i>, <i class="farg">macptr</i>, <i class="farg">hpa</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve the MAC address for the device at <i class="arg">hpa</i> into the data area pointed to by the <i class="arg">macptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MEMMAP</i>, <i class="farg">PDC_MEMMAP_HPA.</i>, <i class="farg">ptr</i>, <i class="farg">path</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Returns device HPA in the word pointed to by the <i class="arg">ptr</i> argument given the device <i class="arg">path</i> pointer.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MODEL</i>, <i class="farg">PDC_MODEL_INFO</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Returns the System model numbers.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MODEL</i>, <i class="farg">PDC_MODEL_BOOTID</i>, <i class="farg">boot_id</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Set BOOT_ID of the processor module (used during boot process of monarch selection) to a word given in the <i class="arg">boot_id</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MODEL</i>, <i class="farg">PDC_MODEL_COMP</i>, <i class="farg">ptr</i>, <i class="farg">index</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve processor component versions by issuing this procedure with subsequent indexes in the <i class="arg">index</i> argument starting at zero. The component version number is stored in the word pointed to by the <i class="arg">ptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MODEL</i>, <i class="farg">PDC_MODEL_MODEL</i>, <i class="farg">ptr</i>, <i class="farg">os_id</i>, <i class="farg">mod_addr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Return a string of 80 chars maximum stored at address <i class="arg">mod_addr</i> and conforming to the OS specified by the <i class="arg">os_id</i> 16-bit integer (see <b class="name">PDC_STABLE</b> for more information on OS ID). A word at the <i class="arg">ptr</i> address receives the result string length.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MODEL</i>, <i class="farg">PDC_MODEL_CPUID</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve CPU model information. A word stored at the address given by the <i class="arg">ptr</i> argument specifies the CPU revision in the lower 5 bits followed by 7 bits of CPU model number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MODEL</i>, <i class="farg">PDC_MODEL_CPBALITIES</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve platform capabilities into the word pointed by the <i class="arg">ptr</i> argument. Bit 0 and 1 specify that a 64- or 32-bit OS is supported, respectively.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MODEL</i>, <i class="farg">PDC_MODEL_GETBOOTOPTS</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve the currently enabled, overall supported, and enabled by default boot test masks respectively stored at location pointed to by the <i class="arg">ptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_MODEL</i>, <i class="farg">PDC_MODEL_SETBOOTOPTS</i>, <i class="farg">ptr</i>, <i class="farg">disable</i>, <i class="farg">enable</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Disable boot tests specified by mask in the <i class="arg">disable</i> argument and enable boot tests specified by the mask given in the <i class="arg">enable</i> argument. The memory location pointed to by <i class="arg">ptr</i> will contain the resulting masks as returned by the PDC_MODEL_GETBOOTOPTS function. If an attempt is made to enable and disable the same test in one call a PDC_ERR_INVAL will be returned.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_NVM</i>, <i class="farg">PDC_NVM_READ</i>, <i class="farg">offset</i>, <i class="farg">ptr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Read contents of the NVM at <i class="arg">offset</i> into the memory area pointed to by the <i class="arg">ptr</i> argument of no more than <i class="arg">count</i> bytes.<p>
The format of the NVM is as follows:<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 0.00ex;" class="list list-col">
<col style="width: 6.00ex;">
<col style="width: 4.00ex;">
<col style="min-width: 8.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">offset</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">size</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">contents</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x00</td>
<td class="list-col" style="margin-top: 1.00em;">
0x24</td>
<td class="list-col" style="margin-top: 1.00em;">
HV dependent</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x24</td>
<td class="list-col" style="margin-top: 1.00em;">
0x20</td>
<td class="list-col" style="margin-top: 1.00em;">
bootpath</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x44</td>
<td class="list-col" style="margin-top: 1.00em;">
0x04</td>
<td class="list-col" style="margin-top: 1.00em;">
ISL revision</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x48</td>
<td class="list-col" style="margin-top: 1.00em;">
0x04</td>
<td class="list-col" style="margin-top: 1.00em;">
timestamp</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x4c</td>
<td class="list-col" style="margin-top: 1.00em;">
0x30</td>
<td class="list-col" style="margin-top: 1.00em;">
LIF utility entries</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x7c</td>
<td class="list-col" style="margin-top: 1.00em;">
0x04</td>
<td class="list-col" style="margin-top: 1.00em;">
entry point</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x80</td>
<td class="list-col" style="margin-top: 1.00em;">
0x80</td>
<td class="list-col" style="margin-top: 1.00em;">
OS panic information</td>
</tr>
</tbody>
</table>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_NVM</i>, <i class="farg">PDC_NVM_WRITE</i>, <i class="farg">offset</i>, <i class="farg">ptr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Write data pointed to by the <i class="arg">ptr</i> argument of <i class="arg">count</i> bytes at <i class="arg">address</i> in the NVM.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_NVM</i>, <i class="farg">PDC_NVM_SIZE</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Put the size of Non-Volatile Memory into the word pointed to by the <i class="arg">ptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_NVM</i>, <i class="farg">PDC_NVM_VRFY</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Verify that the contents of NVM are valid.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_NVM</i>, <i class="farg">PDC_NVM_INIT</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Reset the contents of NVM to zeroes without any arguments.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_HPA</i>, <i class="farg">PDC_HPA_DFLT</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The data returned provides the monarch CPUs HPA in the word pointed to by <i class="arg">ptr</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_HPA</i>, <i class="farg">PDC_HPA_MODULES</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve the bit mask for devices on the CPU bus into the data location pointed to by <i class="arg">ptr</i>. The first word is a bitmask for devices 0-31, and the second is a bitmask for devices 32-63, where bits set to one specify that the corresponding device number is on the same bus as the CPU.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PIM</i>, <i class="farg">PDC_PIM_HPMC</i>, <i class="farg">offset</i>, <i class="farg">ptr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Get HPMC data from <i class="arg">offset</i> in Processor Internal Memory (PIM) into a <i class="arg">ptr</i> memory area of no more than <i class="arg">count</i> bytes in size. Data provided includes (in the order it is copied into the buffer): general registers (r0-r31), control registers (cr0-cr31), space registers (sr0-sr7), IIA space tail, IIA offset tail, check type, CPU state, cache check, TLB check, bus check, assist check, assist state, path info, system responder address, system requestor address, FPU registers (fpr0-fpr31).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PIM</i>, <i class="farg">PDC_PIM_SIZE</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Return the amount of data available in bytes in the word pointed to by <i class="arg">ptr</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PIM</i>, <i class="farg">PDC_PIM_LPMC</i>, <i class="farg">offset</i>, <i class="farg">ptr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Get LPMC data from <i class="arg">offset</i> in PIM into a <i class="arg">ptr</i> memory area of no more than <i class="arg">count</i> bytes in size. Data provided includes: HV dependent 0x4a words, check type, HV dependent word, cache check, TLB check, bus check, assist check, assist state, path info, system responder address, system requestor address, FPU registers (fpr0-fpr31).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PIM</i>, <i class="farg">PDC_PIM_SBD</i>, <i class="farg">offset</i>, <i class="farg">ptr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Get Soft Boot Data from <i class="arg">offset</i> in PIM into a <i class="arg">ptr</i> memory area of no more than <i class="arg">count</i> bytes in size. Data provided includes: general registers (r0-r31), control registers (cr0-cr31), space registers (sr0-sr7), IIA space tail, IIA offset tail, HV dependent word, CPU state.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PIM</i>, <i class="farg">PDC_PIM_TOC</i>, <i class="farg">offset</i>, <i class="farg">ptr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Get TOC (Transfer Of Control) data from <i class="arg">offset</i> in PIM into a <i class="arg">ptr</i> memory area of no more than <i class="arg">count</i> bytes in size. Data provided includes: general registers (r0-r31), control registers (cr0-cr31), space registers (sr0-sr7), IIA space tail, IIA offset tail, HV dependent word, CPU state.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_POW_FAIL</i>, <i class="farg">PDC_POW_FAIL_DFLT</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Prepare for power fail. On the machines that provide power failure interrupts, this function is to be called after the operating system has completed <a class="link-man" href="../../8/shutdown">shutdown(8)</a> to finish system-dependent tasks and power down. This function only requires 512 bytes of stack.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PROC</i>, <i class="farg">PDC_PROC_STOP</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Stop the currently executing processor and also disable bus requestorship, disable interrupts, and exclude the processor from cache coherency protocols. The caller must flush any necessary data from the cache before calling this function.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PROC</i>, <i class="farg">PDC_PROC_RENDEZVOUS</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Enter the reset rendezvous code on the current processor. This function is only implemented on category B processors and implementation is optional on category A processors.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PSW</i>, <i class="farg">PDC_PSW_GETMASK</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Get the mask of default bits implemented into a word pointed to by the <i class="arg">ptr</i> argument. The following mask values are possible:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Default endianness bit is available.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Default word width bit is available.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PSW</i>, <i class="farg">PDC_PSW_DEFAULTS</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve the default PSW bits into the word pointed to by the <i class="arg">ptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_PSW</i>, <i class="farg">PDC_PSW_SETDEFAULTS</i>, <i class="farg">bits</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Set the default PSW <i class="arg">bits</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_SOFT_POWER</i>, <i class="farg">PDC_SOFT_POWER_INFO</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve &#8220;power&#8221; register address into the word pointed to by the <i class="arg">ptr</i> argument. Bit-0 in the &#8220;power&#8221; register address being set specifies the power button being depressed. No dampening is required, unlike with the <a class="link-man" href="../../4/lasi">lasi(4)</a> power circuit.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_SOFT_POWER</i>, <i class="farg">PDC_SOFT_POWER_ENABLE</i>, <i class="farg">ptr</i>, <i class="farg">stat</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Enable (zero <i class="arg">stat</i>) or disable (non-zero <i class="arg">stat</i>) the soft power function, where disable means the machine will turn immediately off should the power get depressed. The <i class="arg">ptr</i> argument still points to the data provided previously by the PDC_SOFT_POWER_INFO call.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_STABLE</i>, <i class="farg">PDC_STABLE_READ</i>, <i class="farg">offset</i>, <i class="farg">ptr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Read contents of the &#8220;Stable Storage&#8221; at <i class="arg">offset</i> into the memory area pointed to by the <i class="arg">ptr</i> argument of no more than <i class="arg">count</i> bytes.<p>
The format of the stable storage is as follows:<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 0.00ex;" class="list list-col">
<col style="width: 6.00ex;">
<col style="width: 4.00ex;">
<col style="min-width: 8.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">offset</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">size</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">contents</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x0000</td>
<td class="list-col" style="margin-top: 1.00em;">
0x20</td>
<td class="list-col" style="margin-top: 1.00em;">
primary bootpath</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x0020</td>
<td class="list-col" style="margin-top: 1.00em;">
0x20</td>
<td class="list-col" style="margin-top: 1.00em;">
reserved</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x0040</td>
<td class="list-col" style="margin-top: 1.00em;">
0x02</td>
<td class="list-col" style="margin-top: 1.00em;">
OS ID</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x0042</td>
<td class="list-col" style="margin-top: 1.00em;">
0x16</td>
<td class="list-col" style="margin-top: 1.00em;">
OS dependent</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x0058</td>
<td class="list-col" style="margin-top: 1.00em;">
0x02</td>
<td class="list-col" style="margin-top: 1.00em;">
diagnostic</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x005a</td>
<td class="list-col" style="margin-top: 1.00em;">
0x03</td>
<td class="list-col" style="margin-top: 1.00em;">
reserved</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x005d</td>
<td class="list-col" style="margin-top: 1.00em;">
0x02</td>
<td class="list-col" style="margin-top: 1.00em;">
OS dependent</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x005f</td>
<td class="list-col" style="margin-top: 1.00em;">
0x01</td>
<td class="list-col" style="margin-top: 1.00em;">
fast size</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x0060</td>
<td class="list-col" style="margin-top: 1.00em;">
0x20</td>
<td class="list-col" style="margin-top: 1.00em;">
console path</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x0080</td>
<td class="list-col" style="margin-top: 1.00em;">
0x20</td>
<td class="list-col" style="margin-top: 1.00em;">
alternative boot path</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x00a0</td>
<td class="list-col" style="margin-top: 1.00em;">
0x20</td>
<td class="list-col" style="margin-top: 1.00em;">
keyboard path</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x00c0</td>
<td class="list-col" style="margin-top: 1.00em;">
0x20</td>
<td class="list-col" style="margin-top: 1.00em;">
reserved</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x00e0</td>
<td class="list-col" style="margin-top: 1.00em;">
size</td>
<td class="list-col" style="margin-top: 1.00em;">
OS dependent</td>
</tr>
</tbody>
</table>
<p>
The &#8220;OS ID&#8221; field may have the following values:<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 0.00ex;" class="list list-col">
<col style="width: 5.00ex;">
<col style="min-width: 2.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">value</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">OS</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x000</td>
<td class="list-col" style="margin-top: 1.00em;">
No OS-dependent info</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x001</td>
<td class="list-col" style="margin-top: 1.00em;">
HP-UX</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x002</td>
<td class="list-col" style="margin-top: 1.00em;">
MPE-iX</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x003</td>
<td class="list-col" style="margin-top: 1.00em;">
OSF</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x004</td>
<td class="list-col" style="margin-top: 1.00em;">
HP-RT</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
0x005</td>
<td class="list-col" style="margin-top: 1.00em;">
Novell Netware</td>
</tr>
</tbody>
</table>
<p>
The &#8220;fast size&#8221; field is the amount of memory to be tested upon system boot and is a power of two multiplier for 256KB. Values of 0xe and 0xf are reserved.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_STABLE</i>, <i class="farg">PDC_STABLE_WRITE</i>, <i class="farg">address</i>, <i class="farg">ptr</i>, <i class="farg">count</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Write data pointed to by the <i class="arg">ptr</i> argument of <i class="arg">count</i> bytes at <i class="arg">address</i> in the &#8220;Stable Storage&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_STABLE</i>, <i class="farg">PDC_STABLE_SIZE</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Put the size of the &#8220;Stable Storage&#8221; into the word pointed to by the <i class="arg">ptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_STABLE</i>, <i class="farg">PDC_STABLE_VRFY</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Verify that the contents of the &#8220;Stable Storage&#8221; are valid.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_STABLE</i>, <i class="farg">PDC_STABLE_INIT</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Reset the contents of the &#8220;Stable Storage&#8221; to zeroes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_SYSMAP</i>, <i class="farg">PDC_SYSMAP_FIND</i>, <i class="farg">ptr</i>, <i class="farg">path</i>, <i class="farg">number</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Map module <i class="arg">number</i> into HPA and also provide an area size starting at HPA and a number of additional addresses placed into the data area pointed to by the <i class="arg">ptr</i> argument words one, two, and three, respectively. The device path is placed into the data area pointed to by the <i class="arg">path</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_SYSMAP</i>, <i class="farg">PDC_SYSMAP_ADDR</i>, <i class="farg">ptr</i>, <i class="farg">im</i>, <i class="farg">ia</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve a list of additional addresses for the module number <i class="arg">im</i> for the address index <i class="arg">ia</i>. The result is placed into the data area pointed to by <i class="arg">ptr</i>, where the first word gives the address and the second the size of the area.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_SYSMAP</i>, <i class="farg">PDC_SYSMAP_HPA</i>, <i class="farg">ptr</i>, <i class="farg">path_ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Map device <i class="arg">path_ptr</i> into device's HPA placed into a word pointed to by the <i class="arg">ptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_TLB</i>, <i class="farg">PDC_TLB_INFO</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Retrieve the hardware TLB handler parameters. This includes a minimal and maximal size for the page table, in bytes, stored into words zero and one, respectively, in the data area pointed to by the <i class="arg">ptr</i> argument.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_TLB</i>, <i class="farg">PDC_TLB_CONFIG</i>, <i class="farg">ptr</i>, <i class="farg">base</i>, <i class="farg">size</i>, <i class="farg">param</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Configure the hardware TLB miss handler given the same parameters fetched previously with PDC_TLB_INFO into data area pointed to by the <i class="arg">ptr</i> and page table <i class="arg">base</i> address, page table <i class="arg">size</i>, and handler parameters <i class="arg">param</i>. The hardware TLB handler parameter bits are as follows:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Enable the hardware TLB miss handler. The default is to load cr28 with the faulted page table entry address.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
4</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Pointer to the next page table entry is put into cr28.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
6</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Next pointer field of the page table entry is put into cr28.</dd>
</dl>
<p>
Resetting the page table address and/or size without disabling the hardware TLB miss handler is allowed. Any changes made are immediate upon Code or Data virtual address translation bits are set in PSW.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_TOD</i>, <i class="farg">PDC_TOD_READ</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Read the TOD, which is a UNIX Epoch time, into the data area pointed to by the <i class="arg">ptr</i> argument. That includes seconds in the first word and microseconds in the second.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_TOD</i>, <i class="farg">PDC_TOD_WRITE</i>, <i class="farg">sec</i>, <i class="farg">usec</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Write TOD with UNIX Epoch time with <i class="arg">sec</i> seconds and <i class="arg">usec</i> microseconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">pdc</b>(<i class="farg">PDC_TOD</i>, <i class="farg">PDC_TOD_ITIMER</i>, <i class="farg">ptr</i>)</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Get TOD and CPU timer accuracy into the data location pointed to by the <i class="arg">ptr</i> argument. The first two words specify a double floating-point value giving CPU timer frequency. The next two words provide accuracy in parts per billion for the TOD and CPU timer, respectively.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
machine/pdc.h</dt>
<dd class="list-tag" style="margin-left: 26.00ex;">
C header file with relevant definitions.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
/sys/arch/hppa/dev/cpudevs</dt>
<dd class="list-tag" style="margin-left: 26.00ex;">
System components' version numbers.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
/dev/console</dt>
<dd class="list-tag" style="margin-left: 26.00ex;">
System console device.</dd>
</dl>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> Upon successful completion all procedures return zero. The following error codes are returned in case of failures:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
PDC_ERR_NOPROC</dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
No such procedure</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
PDC_ERR_NOPT</dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
No such option</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
PDC_ERR_COMPL</dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Unable to complete without error</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
PDC_ERR_EOD</dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
No such device</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
PDC_ERR_INVAL</dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Invalid argument</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
PDC_ERR_PFAIL</dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Aborted by powerfail</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../4/intro">intro(4)</a>, <a class="link-man" href="../../4/io">io(4)</a>, <a class="link-man" href="../../4/lasi">lasi(4)</a><p>
<span class="ref"><span class="ref-auth">Hewlett-Packard</span>, <span class="ref-title">PA-RISC 1.1 Firmware Architecture Reference Specification</span>, <span class="ref-date">March 8, 1999</span>.</span><p>
<span class="ref"><span class="ref-auth">Hewlett-Packard</span>, <span class="ref-title">PA-RISC 2.0 Firmware Architecture Reference Specification</span>, <span class="ref-date">March 7, 1999</span>.</span></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 1, 2007</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

