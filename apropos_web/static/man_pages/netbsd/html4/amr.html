<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
AMR(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
AMR(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
AMR(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">amr</b> &#8212; <span class="desc">AMI MegaRAID PCI-SCSI RAID driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">amr* at pci? dev ? function ?</b><br>
<b class="config">scsibus* at amr?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">amr</b> driver provides support for LSI (formerly American Megatrends) MegaRAID Express, Elite and Enterprise family RAID controllers for SCSI and SATA, including models relabeled and sold by Dell, Hewlett-Packard, and Intel. Supported controllers include:<p>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID 320-1</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID 320-2</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Series 418</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Enterprise 1200 (Series 428)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Enterprise 1300 (Series 434)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Enterprise 1400 (Series 438)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Enterprise 1500 (Series 467)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Enterprise 1600 (Series 471)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Elite 1500 (Series 467)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Elite 1600 (Series 493)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Express 100 (Series 466WS)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Express 200 (Series 466)</li>
<li class="list-bul" style="margin-top: 0.00em;">
MegaRAID Express 300 (Series 490)</li>
<li class="list-bul" style="margin-top: 0.00em;">
LSI MegaRAID SCSI 320-0X, 320-2X, 320-4X</li>
<li class="list-bul" style="margin-top: 0.00em;">
LSI MegaRAID SCSI 320-1E, 320-2E</li>
<li class="list-bul" style="margin-top: 0.00em;">
LSI MegaRAID SATA 300-6x, 300-8x</li>
<li class="list-bul" style="margin-top: 0.00em;">
Dell PERC</li>
<li class="list-bul" style="margin-top: 0.00em;">
Dell PERC 2/SC</li>
<li class="list-bul" style="margin-top: 0.00em;">
Dell PERC 2/DC</li>
<li class="list-bul" style="margin-top: 0.00em;">
Dell PERC 4/Di</li>
<li class="list-bul" style="margin-top: 0.00em;">
Dell PERC 4/SC</li>
<li class="list-bul" style="margin-top: 0.00em;">
Dell PERC 4e/Si</li>
<li class="list-bul" style="margin-top: 0.00em;">
HP NetRAID-1/Si</li>
<li class="list-bul" style="margin-top: 0.00em;">
HP NetRAID-3/Si</li>
<li class="list-bul" style="margin-top: 0.00em;">
HP Embedded NetRAID</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel SRCU42X</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel SRCU42E</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel SRMOBU42E</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel SRCS28X</li>
</ul>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><div class="subsection">
<h2 id="x44726976657220696e697469616c69736174696f6e2f73687574646f776e207068617365">Driver initialisation/shutdown phase</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: memory window not available</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: I/O window not available</b></dt>
<dd class="list-diag">
<p>
The PCI BIOS did not allocate resources necessary for the correct operation of the controller. The driver cannot attach to this controller.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: busmaster bit not set, enabling</b></dt>
<dd class="list-diag">
<p>
The PCI BIOS did not enable busmaster DMA, which is required for the correct operation of the controller. The driver has enabled this bit and initialisation will proceed.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't allocate register window</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't allocate interrupt</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't set up interrupt</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't allocate parent DMA tag</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't allocate buffer DMA tag</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't allocate scatter/gather DMA tag</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't allocate s/g table</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't allocate mailbox tag</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't allocate mailbox memory</b></dt>
<dd class="list-diag">
<p>
A resource allocation error occurred while initialising the driver; initialisation has failed and the driver will not attach to this controller.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't obtain configuration data from controller</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't obtain product data from controller</b></dt>
<dd class="list-diag">
<p>
The driver was unable to obtain vital configuration data from the controller. Initialisation has failed and the driver will not attach to this controller.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't establish configuration hook</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: can't scan controller for drives</b></dt>
<dd class="list-diag">
<p>
The scan for logical drives managed by the controller failed. No drives will be attached.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: device_add_child failed</b></dt>
<dd class="list-diag">
</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: bus_generic_attach returned %d</b></dt>
<dd class="list-diag">
<p>
Creation of the logical drive instances failed; attachment of one or more logical drives may have been aborted.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: flushing cache...</b></dt>
<dd class="list-diag">
<p>
The controller cache is being flushed prior to shutdown or detach.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x4f7065726174696f6e616c20646961676e6f7374696373">Operational diagnostics</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: I/O beyond end of unit (%u,%d &gt; %u)</b></dt>
<dd class="list-diag">
<p>
A partitioning error or disk corruption has caused an I/O request beyond the end of the logical drive. This may also occur if FlexRAID Virtual Sizing is enabled and an I/O operation is attempted on a portion of the virtual drive beyond the actual capacity available.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: polled command timeout</b></dt>
<dd class="list-diag">
<p>
An initialisation command timed out. The initialisation process may fail as a result.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: bad slot %d completed</b></dt>
<dd class="list-diag">
<p>
The controller reported completion of a command that the driver did not issue. This may result in data corruption, and suggests a hardware or firmware problem with the system or controller.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">amr%d: I/O error - %x</b></dt>
<dd class="list-diag">
<p>
An I/O error has occurred.</dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/cd.html">cd(4)</a>, <a class="link-man" href="../html4/ch.html">ch(4)</a>, <a class="link-man" href="../html4/intro.html">intro(4)</a>, <a class="link-man" href="../html4/pci.html">pci(4)</a>, <a class="link-man" href="../html4/scsi.html">scsi(4)</a>, <a class="link-man" href="../html4/sd.html">sd(4)</a>, <a class="link-man" href="../html4/st.html">st(4)</a>, <a class="link-man" href="../html8/amrctl.html">amrctl(8)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 23, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

