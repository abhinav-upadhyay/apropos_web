<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
INTERSIL7170(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
INTERSIL7170(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
INTERSIL7170(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">intersil7170</b> &#8212; <span class="desc">Intersil ICM7170 time-of-day clock driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">dev/ic/intersil7170reg.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">dev/ic/intersil7170var.h</a>&gt;</b><p>
<b class="config">define intersil7170</b><br>
<b class="config">file   dev/ic/intersil7170.c    intersil7170</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">intersil7170</b> driver provides access to the Intersil ICM7170 time-of-day clock chip. Access methods to retrieve and set date and time are provided through the <span class="emph">TODR</span> interface defined in <a class="link-man" href="../9/todr">todr(9)</a>.<p>
To tie an instance of this device to the system, use the <b class="fname">intersil7170_attach</b>() function and the <i class="farg">intersil7170_softc</i> structure defined as follows:<p>
<i class="ftype">void</i> <b class="fname">intersil7170_attach</b>(<i class="farg">struct intersil7170_softc *</i>)<p>
<pre style="margin-left: 0.00ex;" class="lit display">
struct intersil7170_softc { 
	struct device	sc_dev; 
	bus_space_tag_t	sc_bst; 
	bus_space_handle_t sc_bsh; 
	struct todr_chip_handle sc_handle; 
	u_int		sc_year0; 
	u_int		sc_flag; 
};</pre>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">bus_tag</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">bus_handle</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Specify bus space access to the chip's non-volatile memory (including the clock registers).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">sc_handle</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
TODR handle passed to the <b class="fname">todr_attach</b>() function to register <a class="link-man" href="../9/todr">todr(9)</a> interface.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">sc_year0</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The actual year represented by the clock's &#8216;year&#8217; counter. This is generally dependent on the system configuration in which the clock device is mounted. For instance, on Sun Microsystems machines the convention is to have clock's two-digit year represent the year 1968.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">sc_flag</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This flag is used to specify machine-dependent features.</dd>
</dl>
<p>
Note that if the resulting date retrieved with the todr_gettime() method is earlier that January 1, 1970, the driver will assume that the chip's year counter actually represents a year in the 21st century. This behaviour can be overridden by setting the <b class="var">INTERSIL7170_NO_CENT_ADJUST</b> flag in <i class="farg">sc_flag</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/intro">intro(4)</a>, <a class="link-man" href="../9/todr">todr(9)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">intersil7170</b> driver first appeared in <span class="unix">NetBSD&#160;1.5</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">intersil7170</b> driver was written by <span class="author">Paul Kranenburg</span> &#60;pk@NetBSD.org&#62;.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 1, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

