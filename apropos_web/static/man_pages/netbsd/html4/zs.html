<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ZSTTY(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ZSTTY(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
ZSTTY(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">zstty</b>, <b class="name">zsc</b>, <b class="name">zs</b> &#8212; <span class="desc">Zilog 8530 Serial Communications Controller (SCC) for RS-232C, RS-422, and RS-423</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">options PPS_SYNC</b><br>
<b class="config">options PPS_TRAILING_EDGE</b><div class="subsection">
<h2 id="x616c70686120282044454320333030302029">alpha (DEC 3000)</h2> <b class="config">zsc0	at ioasic? offset 0x100000</b><br>
<b class="config">zsc1	at ioasic? offset 0x180000</b><br>
<b class="config">zstty0	at zsc0 channel ?	# serial ports on B channels</b><br>
<b class="config">zstty2	at zsc1 channel ?	# serial ports on B channels</b><br>
<b class="config">lkkbd0	at zsc1 channel ?	# keyboard port on A channels</b><br>
<b class="config">vsms0	at zsc0 channel ?	# mouse port on A channels</b></div>
<div class="subsection">
<h2 id="x636573666963">cesfic</h2> <b class="config">zsc*	at mainbus0</b><br>
<b class="config">zstty*	at zsc? channel ?</b></div>
<div class="subsection">
<h2 id="x6d616336386b20616e64206d6163707063">mac68k and macppc</h2> <b class="config">zsc0	at obio?</b><br>
<b class="config">zstty*	at zsc? channel ?</b><br>
<b class="config">options ZS_TXDMA</b></div>
<div class="subsection">
<h2 id="x6d697073636f">mipsco</h2> <b class="config">zsc0	at obio0 addr 0xbb000000</b><br>
<b class="config">zstty0	at zsc0 channel 0</b><br>
<b class="config">zstty1	at zsc0 channel 1</b></div>
<div class="subsection">
<h2 id="x6d766d6536386b">mvme68k</h2> <b class="config">zsc*	at pcc? ipl 4</b><br>
<b class="config">zsc*	at pcctwo? ipl 4</b><br>
<b class="config">zstty*	at zsc? channel ?</b></div>
<div class="subsection">
<h2 id="x6e65777336386b">news68k</h2> <b class="config">zsc0	at hb0 addr 0xe0d40000 ipl 5 vect 64 flags 0x0	# news1700</b><br>
<b class="config">zsc0	at hb1 addr 0xe1780000 ipl 5 vect 64 flags 0x1	# news1200</b><br>
<b class="config">zstty0	at zsc0 channel 0</b><br>
<b class="config">zstty1	at zsc0 channel 1</b></div>
<div class="subsection">
<h2 id="x6e6577736d697073">newsmips</h2> <b class="config">zsc0	at hb0 addr 0xbfec0000 level 1 flags 0x0	# on-board</b><br>
<b class="config">zsc1	at hb0 addr 0xb8c40100 level 1 flags 0x1	# expansion board</b><br>
<b class="config">zsc2	at hb0 addr 0xb8c40104 level 1 flags 0x1</b><br>
<b class="config">zsc0	at ap?</b><br>
<b class="config">zstty0	at zsc0 channel 0</b><br>
<b class="config">zstty1	at zsc0 channel 1</b><br>
<b class="config">zstty2	at zsc1 channel 0</b><br>
<b class="config">zstty3	at zsc1 channel 1</b><br>
<b class="config">zstty4	at zsc2 channel 0</b><br>
<b class="config">zstty5	at zsc2 channel 1</b></div>
<div class="subsection">
<h2 id="x6e65787436386b">next68k</h2> <b class="config">zsc0	at intio? ipl 5</b><br>
<b class="config">#zsc1	at intio? ipl 5</b><br>
<b class="config">zstty0	at zsc0 channel 0	# ttya</b><br>
<b class="config">zstty1	at zsc0 channel 1	# ttyb</b></div>
<div class="subsection">
<h2 id="x7367696d697073">sgimips</h2> <b class="config">zsc* 	at hpc0 offset ?</b><br>
<b class="config">zstty*	at zsc? channel ?</b></div>
<div class="subsection">
<h2 id="x7370617263">sparc</h2> <b class="config">zs0	at mainbus0				# sun4c</b><br>
<b class="config">zs0	at obio0				# sun4m</b><br>
<b class="config">zs0	at obio0 addr 0xf1000000 level 12	# sun4/200 and sun4/300</b><br>
<b class="config">zs0	at obio0 addr 0x01000000 level 12	# sun4/100</b><br>
<b class="config">zstty0	at zs0 channel 0			# ttya</b><br>
<b class="config">zstty1	at zs0 channel 1			# ttyb</b><br>
<b class="config">zs1	at mainbus0				# sun4c</b><br>
<b class="config">zs1	at obio0				# sun4m</b><br>
<b class="config">zs1	at obio0 addr 0xf0000000 level 12	# sun4/200 and sun4/300</b><br>
<b class="config">zs1	at obio0 addr 0x00000000 level 12	# sun4/100</b><br>
<b class="config">kbd0	at zs1 channel 0			# keyboard</b><br>
<b class="config">ms0	at zs1 channel 1			# mouse</b><br>
<b class="config">zs2	at obio0 addr 0xe0000000 level 12	# sun4/300</b><br>
<b class="config">zstty2	at zs2 channel 0			# ttyc</b><br>
<b class="config">zstty3	at zs2 channel 1			# ttyd</b></div>
<div class="subsection">
<h2 id="x73756e32">sun2</h2> <b class="config">zs0	at obio0 addr 0x002000	# 2/120, 2/170</b><br>
<b class="config">zs1	at obmem0 addr 0x780000	# 2/120, 2/170</b><br>
<b class="config">zs0	at obio0 addr 0x7f2000	# 2/50</b><br>
<b class="config">zs1	at obio0 addr 0x7f1800	# 2/50</b><br>
<b class="config">zs2	at mbmem0 addr 0x080800	# 2/120, 2/170 (first sc SCSI)</b><br>
<b class="config">zs3	at mbmem0 addr 0x081000	# 2/120, 2/170 (first sc SCSI)</b><br>
<b class="config">zs4	at mbmem0 addr 0x084800	# 2/120, 2/170 (second sc SCSI)</b><br>
<b class="config">zs5	at mbmem0 addr 0x085000	# 2/120, 2/170 (second sc SCSI)</b><br>
<b class="config">zstty*	at zs? channel ?	# ttya</b><br>
<b class="config">kbd0	at zstty?		# keyboard</b><br>
<b class="config">ms0	at zstty?		# mouse</b></div>
<div class="subsection">
<h2 id="x73756e33">sun3</h2> <b class="config">zstty0	at zsc1 channel 0	# ttya</b><br>
<b class="config">zstty1	at zsc1 channel 1	# ttyb</b><br>
<b class="config">kbd0	at zsc0 channel 0	# keyboard</b><br>
<b class="config">ms0	at zsc0 channel 1	# mouse</b></div>
<div class="subsection">
<h2 id="x7836386b">x68k</h2> <b class="config">zsc0	at intio0 addr 0xe98000 intr 112</b><br>
<b class="config">zstty0	at zsc0 channel 0		# built-in RS-232C</b><br>
<b class="config">ms0	at zsc0 channel 1		# standard mouse</b><br>
<b class="config">#zsc1	at intio0 addr 0xeafc00 intr 113</b><br>
<b class="config">#zstty2	at zsc1 channel 0</b><br>
<b class="config">#zstty3	at zsc1 channel 1</b><br>
<b class="config">#zsc2	at intio0 addr 0xeafc10 intr 114</b><br>
<b class="config">#zstty4	at zsc2 channel 0</b><br>
<b class="config">#zstty5	at zsc2 channel 1</b></div>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">zstty</b> driver provides TTY support for Zilog 8530 Dual UART chips.<p>
Input and output for each line may set to any baud rate in the range 50 to 38400 (and higher on some machines).<p>
The <span class="emph">PPS_SYNC</span> option enables code to use the Data Carrier Detect (DCD) signal line for attachment to an external precision clock source (e.g., GPS, CDMA) which generates a Pulse Per Second (PPS) signal. This is used by <a class="link-man" href="../8/ntpd">ntpd(8)</a> to discipline the system clock, and more accurately count/measure time. See <a class="link-man" href="../4/options">options(4)</a> for more discussion.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><div class="subsection">
<h2 id="x616c706861">alpha</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/dev/ttyB0</i></dt>
<dd class="list-tag" style="margin-left: 32.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/dev/ttyB1</i></dt>
<dd class="list-tag" style="margin-left: 32.00ex;">
</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x6f7468657273">others</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/dev/ttya</i></dt>
<dd class="list-tag" style="margin-left: 32.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/dev/ttyb</i></dt>
<dd class="list-tag" style="margin-left: 32.00ex;">
</dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
zs0*: fifo overflow</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div style="height: 0.00em;">
&#160;</div>
The on-chip &#8220;FIFO&#8221; has overflowed and incoming data has been lost. This generally means the machine is not responding to interrupts from the ZS chip fast enough, which can be remedied only by using a lower baud rate.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
zs0*: ring overflow</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<div style="height: 0.00em;">
&#160;</div>
The software input &#8220;ring&#8221; has overflowed. This usually means input flow-control is not configured correctly (i.e. incorrect cable wiring).</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/kbd">kbd(4)</a>, <a class="link-man" href="../4/ms">ms(4)</a>, <a class="link-man" href="../4/options">options(4)</a>, <a class="link-man" href="../4/scc">scc(4)</a>, <a class="link-man" href="../4/tty">tty(4)</a>, <a class="link-man" href="../8/ntpd">ntpd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">zstty</b> driver was derived from the <b class="name">sparc</b> <b class="name">zs</b> driver supplied with <span class="unix">4.4BSD</span> <span class="unix">UNIX</span>.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> <i class="file">/dev/ttyB1</i> on alpha is created by <a class="link-man" href="../8/MAKEDEV">MAKEDEV(8)</a> with minor number 2, so the corresponding device should be zstty2, not zstty1.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The old Zilog 8530 chip has a very small FIFO (3 bytes?) and therefore has very strict latency requirements for the interrupt service routine. This limits the usable baud rates on many machines.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 7, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

