<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../../style.css" type="text/css" media="all">
<title>
BAH(4) (Amiga)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
BAH(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual (Amiga)</td>
<td class="head-rtitle" align="right">
BAH(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">bah</b> &#8212; <span class="desc">ARCnet network driver for SMC COM90C26 based boards</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">bah* at zbus0</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">bah</b> interface provides access to the 2.5 Mb/s ARCnet network via the SMC COM90C26 + COM90C32 ARCnet chip set.<p>
Each of the host's network addresses is specified at boot time with an <span class="define">SIOCSIFADDR</span> <a class="link-man" href="../../2/ioctl">ioctl(2)</a>. The interface MTU is 507 for protocols that do not use link level fragmentation and 60480 bytes for the others. The routing layer may specify additional limits.<div style="height: 0.00em;">
&#160;</div>
Currently supported protocols are IPv4(+ARP), and IPv6.</div>
<div class="section">
<h1 id="x49502056455253494f4e203420434f4e53494445524154494f4e53">IP VERSION 4 CONSIDERATIONS</h1> When the NOARP flag is set on the <b class="name">bah</b> interface, it does not employ the address resolution protocol described in <a class="link-man" href="../../4/arp">arp(4)</a> to dynamically map between Internet and Ethernet addresses on the local network. Instead, it uses the least significant 8 bits of the IP address as hardware address, as described in RFC 1051 and  RFC 1201.<p>
With the IFF_LINK0 flag cleared, IP and ARP encoding is done according to the deprecated, but popular among Amiga users, RFC 1051 encoding (that is, with simple header, packet type 240 / 241), and the MTU is 507.<p>
With the IFF_LINK0 flag set, IP/ARP/RARP encoding is done according to RFC 1201 (that is, with Packet Header Definition Standard header and packet type 212/213). The MTU is normally 1500.<p>
When switching between the two modes, do a <b class="config">ifconfig interfacename down up</b> to switch the MTU.<p>
When the IFF_LINK2 flag is set, ARP packets are sent with the protocol type encoded as it would be in the  ARCnet header, and decoded to the right protocol encoding on reception. According to "assigned numbers", this is wrong, but some legacy software (namely, AmiTCP 3.0beta) shows this bug.</div>
<div class="section">
<h1 id="x4841524457415245">HARDWARE</h1> The <b class="name">bah</b> interface supports the following Zorro II expansion cards:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">A2060</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Commodore's ARCnet card, manufacturer&#160;514, product&#160;9</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">AMERISTAR</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Ameristar's ARCnet card, manufacturer&#160;1053, product&#160;9</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../4/arp">arp(4)</a>, <a class="link-man" href="../../4/inet">inet(4)</a>, <a class="link-man" href="../../4/intro">intro(4)</a>, <a class="link-man" href="../../8/ifconfig">ifconfig(8)</a><p>
<span class="ref"><span class="ref-auth">P.A. Prindeville</span>, <span class="ref-title">Standard for the transmission of IP datagrams and ARP packets over ARCNET networks.</span>, <i class="ref-jrnl">RFC</i>, <span class="ref-num">1051</span>, <span class="ref-date">March 1988</span>.</span><p>
<span class="ref"><span class="ref-auth">D. Provan</span>, <span class="ref-title">Transmitting IP traffic over ARCNET networks.</span>, <i class="ref-jrnl">RFC</i>, <span class="ref-num">1201</span>, <span class="ref-date">February 1991</span>.</span><p>
<span class="ref"><span class="ref-auth">I. Souvatzis</span>, <span class="ref-title">Transmission of IPv6 Packets over ARCnet Networks.</span>, <i class="ref-jrnl">RFC</i>, <span class="ref-num">2497</span>, <span class="ref-date">January 1999</span>.</span><p>
ARCnet Packet Header Definition Standard, Novell Inc., 1989</div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> RFC 1051/RFC1201 with ARP, or without, using direct mapping of lower 8 IP address bits instead.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The Amiga <b class="name">bah</b> interface first appeared in <span class="unix">NetBSD&#160;1.1</span>. ARP support was added in <span class="unix">NetBSD&#160;1.3</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Ignatios Souvatzis</span></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 31, 1995</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

