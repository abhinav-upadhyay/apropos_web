<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
APS(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
APS(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
APS(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">aps</b> &#8212; <span class="desc">ThinkPad Active Protection System accelerometer</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">aps0 at isa? port 0x1600</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">aps</b> driver provides support for several sensors found in some ThinkPad laptops.<p>
The sensors currently exposed via the <a class="link-man" href="../4/envsys">envsys(4)</a> interface are:<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-col">
<col style="width: 14.00ex;">
<col style="width: 9.00ex;">
<col style="min-width: 7.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Sensor        </span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Units    </span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Typical Use</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">x-acceleration</code></td>
<td class="list-col" style="margin-top: 1.00em;">
integer</td>
<td class="list-col" style="margin-top: 1.00em;">
X-axis acceleration</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">y-acceleration</code></td>
<td class="list-col" style="margin-top: 1.00em;">
integer</td>
<td class="list-col" style="margin-top: 1.00em;">
Y-axis acceleration</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">x-variable</code></td>
<td class="list-col" style="margin-top: 1.00em;">
integer</td>
<td class="list-col" style="margin-top: 1.00em;">
Weighted X acceleration?</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">y-variable</code></td>
<td class="list-col" style="margin-top: 1.00em;">
integer</td>
<td class="list-col" style="margin-top: 1.00em;">
Weighted Y acceleration?</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">temperature 1</code></td>
<td class="list-col" style="margin-top: 1.00em;">
degC</td>
<td class="list-col" style="margin-top: 1.00em;">
Unknown temperature</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">temperature 2</code></td>
<td class="list-col" style="margin-top: 1.00em;">
degC</td>
<td class="list-col" style="margin-top: 1.00em;">
Unknown temperature</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">keyboard active</code></td>
<td class="list-col" style="margin-top: 1.00em;">
boolean</td>
<td class="list-col" style="margin-top: 1.00em;">
Keyboard activity</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">mouse active</code></td>
<td class="list-col" style="margin-top: 1.00em;">
boolean</td>
<td class="list-col" style="margin-top: 1.00em;">
Mouse activity</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">lid open</code></td>
<td class="list-col" style="margin-top: 1.00em;">
boolean</td>
<td class="list-col" style="margin-top: 1.00em;">
Lid state</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/envsys">envsys(4)</a>, <a class="link-man" href="../4/hpacel">hpacel(4)</a>, <a class="link-man" href="../4/thinkpad">thinkpad(4)</a>, <a class="link-man" href="../8/envstat">envstat(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">aps</b> driver first appeared in <span class="unix">OpenBSD&#160;3.8</span> and was then ported to <span class="unix">NetBSD</span> 5.0.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">aps</b> driver was written by <span class="author">Jonathan Gray</span> &#60;<a class="link-mail" href="mailto:jsg@openbsd.org">jsg@openbsd.org</a>&#62;.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> Few issues can be mentioned.<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
The <b class="name">aps</b> driver does not maintain state and subsequently does not take evasive action when it thinks the hard drive is in danger. Possible actions would include spinning down the hard drive in case excessive tremor is detected by the sensors.</li>
<li class="list-bul" style="margin-top: 1.00em;">
The Y axis on X40 and possibly other models seems to be inverted. It is unknown how to distinguish between different versions of the accelerometer to compensate for this in the driver at this time.</li>
<li class="list-bul" style="margin-top: 1.00em;">
The sensor values are refreshed every 0.5 seconds. Because no protection measures are taken, this is unnecessary and may have a negative effect on battery life.</li>
<li class="list-bul" style="margin-top: 1.00em;">
As IBM provides no documentation, it is not known what all the available sensors are used for.</li>
</ul>
</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 13, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

