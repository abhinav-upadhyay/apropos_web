<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
VIAIDE(4)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
VIAIDE(4)</td>
<td class="head-vol" align="center">
Kernel Interfaces Manual</td>
<td class="head-rtitle" align="right">
VIAIDE(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">viaide</b> &#8212; <span class="desc">AMD, NVIDIA and VIA IDE disk controllers driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">viaide* at pci? dev ? function ? flags 0x0000</b><br>
<b class="config">options PCIIDE_AMD756_ENABLEDMA</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">viaide</b> driver supports the following IDE controllers and provides the interface with the hardware for the <b class="cmd">ata</b> driver:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-dash">
<li class="list-dash" style="margin-top: 0.00em;">
Advanced Micro Devices AMD-756, 766, 768 and CS5536 IDE Controllers</li>
<li class="list-dash" style="margin-top: 0.00em;">
NVIDIA nForce, nForce2, nForce2 400, nForce3, nForce3 250, nForce4, MCP04, MCP55, MCP61, MCP65, MCP67 IDE and SATA Controllers.</li>
<li class="list-dash" style="margin-top: 0.00em;">
VIA Technologies VT82C586, VT82C586A, VT82C596A, VT82C686A, VT8233A, VT8235, VT8237/VT8237R IDE Controllers, VT6421 Serial RAID Controller and CX700 IDE Controller.</li>
</ul>
<p>
The 0x0002 flag forces the <b class="name">viaide</b> driver to disable DMA on chipsets for which DMA would normally be enabled. This can be used as a debugging aid, or to work around problems where the IDE controller is wired up to the system incorrectly.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/ata">ata(4)</a>, <a class="link-man" href="../4/atapi">atapi(4)</a>, <a class="link-man" href="../4/intro">intro(4)</a>, <a class="link-man" href="../4/pci">pci(4)</a>, <a class="link-man" href="../4/pciide">pciide(4)</a>, <a class="link-man" href="../4/wd">wd(4)</a>, <a class="link-man" href="../4/wdc">wdc(4)</a></div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> Drives on the VT6421 Serial RAID Controller can only be accessed after they have been configured into RAID or JBOD sets via its BIOS. It is also inaptly named as it has both SATA and PATA interfaces.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The AMD756 chip revision D2 has a bug affecting DMA (but not Ultra-DMA) modes. The workaround documented by AMD is to not use DMA on any drive which does not support Ultra-DMA modes. This does not appear to be necessary on all drives, the PCIIDE_AMD756_ENABLEDMA option can be used to force multiword DMA on the buggy revisions. Multiword DMA can eventually be disabled on a per-drive basis with config flags, see <a class="link-man" href="../4/wd">wd(4)</a>. The bug, if triggered, will cause a total system hang.<p>
The timings used for the PIO and DMA modes for controllers listed above are for a PCI bus running at 30 or 33 MHz. This driver may not work properly on overclocked systems.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 31, 2007</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

