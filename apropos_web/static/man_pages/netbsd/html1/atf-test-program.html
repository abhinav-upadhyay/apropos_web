<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ATF-TEST-PROGRAM(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ATF-TEST-PROGRAM(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
ATF-TEST-PROGRAM(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">atf-test-program</b> &#8212; <span class="desc">common interface to ATF test programs</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 16.00ex;">
<col>
<tbody>
<tr>
<td>
atf-test-program</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;r</b> <i class="arg">resfile</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">srcdir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;v</b> <i class="arg">var1=value1</i> &#91;<span class="opt">.. <b class="flag">&#45;v</b> <i class="arg">varN=valueN</i></span>&#93;</span>&#93; <i class="arg">test_case</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 16.00ex;">
<col>
<tbody>
<tr>
<td>
atf-test-program</td>
<td>
<b class="flag">&#45;l</b></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Test programs written using the ATF libraries all share a common user interface, which is what this manual page describes. <span class="emph">NOTE: There is no binary known as</span> <b class="name">atf-test-program</b>; <span class="emph">what is described in this manual page is the command-line interface</span> <span class="emph">exposed by the atf-c, atf-c++ and atf-sh bindings</span>.<p>
In the first synopsis form, the test program will execute the provided test case and print its results to the standard output, unless otherwise stated by the <b class="flag">&#45;r</b> flag. Optionally, the test case name can be suffixed by &#8216;:cleanup&#8217;, in which case the cleanup routine of the test case will be executed instead of the test case body; see <a class="link-man" href="../4/atf-test-case">atf-test-case(4)</a>. Note that the test case is <span class="emph">executed without isolation</span>, so it can and probably will create and modify files in the current directory. To execute test cases in a controller manner, refer to <a class="link-man" href="../1/atf-run">atf-run(1)</a>, which is the preferred way to run test cases. You should only execute test cases by hand for debugging purposes.<p>
In the second synopsis form, the test program will list all available test cases alongside their meta-data properties in a format that is machine parseable. This list is processed by <a class="link-man" href="../1/atf-run">atf-run(1)</a> to know how to execute the test cases of a given test program.<p>
The following options are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Lists available test cases alongside a brief description for each of them.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b> <i class="arg">resfile</i></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Specifies the file that will receive the test case result. If not specified, the test case prints its results to stdout. If the result of a test case needs to be parsed by another program, you must use this option to redirect the result to a file and then read the resulting file from the other program. Note: <span class="emph">do not try to process the stdout of the test case</span> because your program may break in the future.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">srcdir</i></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
The path to the directory where the test program is located. This is needed in all cases, except when the test program is being executed from the current directory. The test program will use this path to locate any helper data files or utilities.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b> <i class="arg">var=value</i></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
Sets the configuration variable <i class="arg">var</i> to the value <i class="arg">value</i>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/atf-run">atf-run(1)</a>, <a class="link-man" href="../7/atf">atf(7)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
February 6, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

