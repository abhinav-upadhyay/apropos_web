<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
SORT(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SORT(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
SORT(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sort</b> &#8212; <span class="desc">sort or merge text files</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 4.00ex;">
<col>
<tbody>
<tr>
<td>
sort</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;bcdfHilmnrSsu</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">field1</i>&#91;<span class="opt"><code class="lit">,</code><i class="arg">field2</i></span>&#93;</span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">output</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;R</b> <i class="arg">char</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;T</b> <i class="arg">dir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;t</b> <i class="arg">char</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">sort</b> utility sorts text files by lines. Comparisons are based on one or more sort keys extracted from each line of input, and are performed lexicographically. By default, if keys are not given, <b class="name">sort</b> regards each input line as a single field.<p>
The following options are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Check that the single input file is sorted. If the file is not sorted, <b class="name">sort</b> produces the appropriate error messages and exits with code 1; otherwise, <b class="name">sort</b> returns 0. <b class="name">sort</b> <b class="flag">&#45;c</b> produces no output. See also <b class="flag">&#45;u</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;H</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Ignored for compatibility with earlier versions of <b class="name">sort</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Merge only; the input files are assumed to be pre-sorted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b> <i class="arg">output</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The argument given is the name of an <i class="arg">output</i> file to be used instead of the standard output. This file can be the same as one of the input files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Don't use stable sort. Default is to use stable sort.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Use stable sort, keeps records with equal keys in their original order. This is the default. Provided for compatibility with other <b class="name">sort</b> implementations only.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;T</b> <i class="arg">dir</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Use <i class="arg">dir</i> as the directory for temporary files. The default is the value specified in the environment variable <span class="env">TMPDIR or</span> <i class="file">/tmp</i> if <span class="env">TMPDIR</span> is not defined.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Unique: suppress all but one in each set of lines having equal keys. If used with the <b class="flag">&#45;c</b> option, check that there are no lines with duplicate keys.</dd>
</dl>
<p>
The following options override the default ordering rules. When ordering options appear independent of key field specifications, the requested field ordering rules are applied globally to all sort keys. When attached to a specific key (see <b class="flag">&#45;k</b>), the ordering options override all global ordering options for that key.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Only blank space and alphanumeric characters are used in making comparisons.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Considers all lowercase characters that have uppercase equivalents to be the same for purposes of comparison.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Ignore all non-printable characters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Sort by the string length of the field, not by the field itself.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
An initial numeric string, consisting of optional blank space, optional plus or minus sign, and zero or more digits (including decimal point) is sorted by arithmetic value. (The <b class="flag">&#45;n</b> option no longer implies the <b class="flag">&#45;b</b> option.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Reverse the sense of comparisons.</dd>
</dl>
<p>
The treatment of field separators can be altered using these options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Ignores leading blank space when determining the start and end of a restricted sort key. A <b class="flag">&#45;b</b> option specified before the first <b class="flag">&#45;k</b> option applies globally to all <b class="flag">&#45;k</b> options. Otherwise, the <b class="flag">&#45;b</b> option can be attached independently to each <i class="arg">field</i> argument of the <b class="flag">&#45;k</b> option (see below). Note that the <b class="flag">&#45;b</b> option has no effect unless key fields are specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b> <i class="arg">char</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
<i class="arg">char</i> is used as the field separator character. The initial <i class="arg">char</i> is not considered to be part of a field when determining key offsets (see below). Each occurrence of <i class="arg">char</i> is significant (for example, &#8220;<i class="arg">charchar</i>&#8221; delimits an empty field). If <b class="flag">&#45;t</b> is not specified, the default field separator is a sequence of blank-space characters, and consecutive blank spaces do <span class="emph">not</span> delimit an empty field; further, the initial blank space <span class="emph">is</span> considered part of a field when determining key offsets.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b> <i class="arg">char</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
<i class="arg">char</i> is used as the record separator character. This should be used with discretion; <b class="flag">&#45;R</b> &#60;<i class="arg">alphanumeric</i>&#62; usually produces undesirable results. The default record separator is newline.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b> <i class="arg">field1</i>&#91;<span class="opt"><code class="lit">,</code><i class="arg">field2</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Designates the starting position, <i class="arg">field1</i>, and optional ending position, <i class="arg">field2</i>, of a key field. The <b class="flag">&#45;k</b> option replaces the obsolescent options <b class="flag">&#43;</b><i class="arg">pos1</i> and <b class="flag">&#45;</b><i class="arg">pos2</i>.</dd>
</dl>
<p>
The following operands are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The pathname of a file to be sorted, merged, or checked. If no <i class="arg">file</i> operands are specified, or if a <i class="arg">file</i> operand is <b class="flag">&#45;</b>, the standard input is used.</dd>
</dl>
<p>
A field is defined as a minimal sequence of characters followed by a field separator or a newline character. By default, the first blank space of a sequence of blank spaces acts as the field separator. All blank spaces in a sequence of blank spaces are considered as part of the next field; for example, all blank spaces at the beginning of a line are considered to be part of the first field.<p>
Fields are specified by the <b class="flag">&#45;k</b> <i class="arg">field1</i>&#91;<span class="opt">,<i class="arg">field2</i></span>&#93; argument. A missing <i class="arg">field2</i> argument defaults to the end of a line.<p>
The arguments <i class="arg">field1</i> and <i class="arg">field2</i> have the form <i class="arg">m</i><code class="lit">.</code><i class="arg">n</i> and can be followed by one or more of the letters <b class="flag">b</b>, <b class="flag">d</b>, <b class="flag">f</b>, <b class="flag">i</b>, <b class="flag">l</b>, <b class="flag">n</b>, and <b class="flag">r</b>, which correspond to the options discussed above. A <i class="arg">field1</i> position specified by <i class="arg">m</i><code class="lit">.</code><i class="arg">n</i> (<i class="arg">m</i>, <i class="arg">n</i> &gt; 0) is interpreted as the <i class="arg">n</i>th character in the <i class="arg">m</i>th field. A missing <code class="lit">.</code><i class="arg">n</i> in <i class="arg">field1</i> means &#8216;<code class="lit">.1</code>&#8217;, indicating the first character of the <i class="arg">m</i>th field; if the <b class="flag">&#45;b</b> option is in effect, <i class="arg">n</i> is counted from the first non-blank character in the <i class="arg">m</i>th field; <i class="arg">m</i><code class="lit">.1b</code> refers to the first non-blank character in the <i class="arg">m</i>th field.<p>
A <i class="arg">field2</i> position specified by <i class="arg">m</i><code class="lit">.</code><i class="arg">n</i> is interpreted as the <i class="arg">n</i>th character (including separators) of the <i class="arg">m</i>th field. A missing <code class="lit">.</code><i class="arg">n</i> indicates the last character of the <i class="arg">m</i>th field; <i class="arg">m</i> = 0 designates the end of a line. Thus the option <b class="flag">&#45;k</b> <i class="arg">v</i><code class="lit">.</code><i class="arg">x</i><code class="lit">,</code><i class="arg">w</i><code class="lit">.</code><i class="arg">y</i> is synonymous with the obsolescent option <b class="flag">&#43;</b><i class="arg">v-1</i><code class="lit">.</code><i class="arg">x-1</i><b class="flag">&#45;</b><i class="arg">w-1</i><code class="lit">.</code><i class="arg">y</i>; when <i class="arg">y</i> is omitted, <b class="flag">&#45;k</b> <i class="arg">v</i><code class="lit">.</code><i class="arg">x</i><code class="lit">,</code><i class="arg">w</i> is synonymous with <b class="flag">&#43;</b><i class="arg">v-1</i><code class="lit">.</code><i class="arg">x-1</i><b class="flag">&#45;</b><i class="arg">w+1</i><code class="lit">.0</code>. The obsolescent <b class="flag">&#43;</b><i class="arg">pos1</i> <b class="flag">&#45;</b><i class="arg">pos2</i> option is still supported, except for <b class="flag">&#45;</b><i class="arg">w</i><code class="lit">.0b</code>, which has no <b class="flag">&#45;k</b> equivalent.</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1> If the following environment variable exists, it is used by <b class="name">sort</b>.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TMPDIR</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
<b class="name">sort</b> uses the contents of the <span class="env">TMPDIR</span> environment variable as the path in which to store temporary files.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/tmp/sort.*</i></dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Default temporary files.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">output</i>NUMBER</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Temporary file which is used for output if <i class="arg">output</i> already exists. Once sorting is finished, this file replaces <i class="arg">output</i> (via <a class="link-man" href="../2/link">link(2)</a> and <a class="link-man" href="../2/unlink">unlink(2)</a>).</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> Sort exits with one of the following values:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Normal behavior.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
On disorder (or non-uniqueness) with the <b class="flag">&#45;c</b> option</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
An error occurred.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/comm">comm(1)</a>, <a class="link-man" href="../1/join">join(1)</a>, <a class="link-man" href="../1/uniq">uniq(1)</a>, <a class="link-man" href="../3/qsort">qsort(3)</a>, <a class="link-man" href="../3/radixsort">radixsort(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">sort</b> command appeared in Version&#160;5 AT&amp;T UNIX. This <b class="name">sort</b> implementation appeared in <span class="unix">4.4BSD</span> and is used since <span class="unix">NetBSD&#160;1.6</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Posix requires the locale's thousands separator be ignored in numbers. It may be faster to sort very large files in pieces and then explicitly merge them.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> This <b class="name">sort</b> has no limits on input line length (other than imposed by available memory) or any restrictions on bytes allowed within lines.<p>
To protect data <b class="name">sort</b> <b class="flag">&#45;o</b> calls <a class="link-man" href="../2/link">link(2)</a> and <a class="link-man" href="../2/unlink">unlink(2)</a>, and thus fails on protected directories.<p>
Input files should be text files. If file doesn't end with record separator (which is typically newline), the <b class="name">sort</b> utility silently supplies one.<p>
The current <b class="name">sort</b> uses lexicographic radix sorting, which requires that sort keys be kept in memory (as opposed to previous versions which used quick and merge sorts and did not.) Thus performance depends highly on efficient choice of sort keys, and the <b class="flag">&#45;b</b> option and the <i class="arg">field2</i> argument of the <b class="flag">&#45;k</b> option should be used whenever possible. Similarly, <b class="name">sort</b> <b class="flag">&#45;k1f</b> is equivalent to <b class="name">sort</b> <b class="flag">&#45;f</b> and may take twice as long.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 29, 2013</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

