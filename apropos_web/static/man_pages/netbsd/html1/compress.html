<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
COMPRESS(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
COMPRESS(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
COMPRESS(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">compress</b>, <b class="name">uncompress</b> &#8212; <span class="desc">compress and expand data</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;">
<col>
<tbody>
<tr>
<td>
compress</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;cdfv</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;b</b> <i class="arg">bits</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i></span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 8.00ex;">
<col>
<tbody>
<tr>
<td>
uncompress</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;cdfv</b></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">compress</b> reduces the size of the named files using adaptive Lempel-Ziv coding. Each <i class="arg">file</i> is renamed to the same name plus the extension &#8220;.Z&#8221;. As many of the modification time, access time, file flags, file mode, user ID, and group ID as allowed by permissions are retained in the new file. If compression would not reduce the size of a <i class="arg">file</i>, the file is ignored.<p>
<b class="name">uncompress</b> restores the compressed files to their original form, renaming the files by deleting the &#8220;.Z&#8221; extension.<p>
If renaming the files would cause files to be overwritten and the standard input device is a terminal, the user is prompted (on the standard error output) for confirmation. If prompting is not possible or confirmation is not received, the files are not overwritten.<p>
If no files are specified, the standard input is compressed or uncompressed to the standard output. If either the input and output files are not regular files, the checks for reduction in size and file overwriting are not performed, the input file is not removed, and the attributes of the input file are not retained.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the <i class="arg">bits</i> code limit (see below).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Compressed or uncompressed output is written to the standard output. No files are modified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force decompression.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force compression of <i class="arg">file</i>, even if it is not actually reduced in size. Additionally, files are overwritten without prompting for confirmation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print the percentage reduction of each file.</dd>
</dl>
<p>
<b class="name">compress</b> uses a modified Lempel-Ziv algorithm. Common substrings in the file are first replaced by 9-bit codes 257 and up. When code 512 is reached, the algorithm switches to 10-bit codes and continues to use more bits until the limit specified by the <b class="flag">&#45;b</b> flag is reached (the default is 16). <i class="arg">Bits</i> must be between 9 and 16.<p>
After the <i class="arg">bits</i> limit is reached, <b class="name">compress</b> periodically checks the compression ratio. If it is increasing, <b class="name">compress</b> continues to use the existing code dictionary. However, if the compression ratio decreases, <b class="name">compress</b> discards the table of substrings and rebuilds it from scratch.  This allows the algorithm to adapt to the next "block" of the file.<p>
The <b class="flag">&#45;b</b> flag is omitted for <i class="arg">uncompress</i> since the <i class="arg">bits</i> parameter specified during compression is encoded within the output, along with a magic number to ensure that neither decompression of random data nor recompression of compressed data is attempted.<p>
The amount of compression obtained depends on the size of the input, the number of <i class="arg">bits</i> per code, and the distribution of common substrings. Typically, text such as source code or English is reduced by 50&#45;60%. Compression is generally much better than that achieved by Huffman coding (as used in the historical command pack), or adaptive Huffman coding (as used in the historical command compact), and takes less time to compute.<p>
The <b class="name">compress</b> utility exits 0 on success, and &gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/zcat.html">zcat(1)</a><p>
<span class="ref"><span class="ref-auth">Welch, Terry A.</span>, <span class="ref-title">A Technique for High Performance Data Compression</span>, <i class="ref-jrnl">IEEE Computer</i>, <span class="ref-vol">17:6</span>, <span class="ref-page">pp. 8-19</span>, <span class="ref-date">June, 1984</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">compress</b> command appeared in <span class="unix">4.3BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 23, 2003</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

