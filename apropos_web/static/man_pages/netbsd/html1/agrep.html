<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
AGREP(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
AGREP(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
AGREP(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">agrep</b> &#8212; <span class="desc">print lines approximately matching a pattern</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
agrep</td>
<td>
&#91;<span class="opt">options</span>&#93; <i class="arg">pattern</i> &#91;<span class="opt">files</span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Searches for approximate matches of <i class="arg">pattern</i> in each <i class="arg">FILE</i> or standard input.</div>
<div class="section">
<h1 id="x4f5054494f4e53">OPTIONS</h1><div class="subsection">
<h2 id="x5265676578702073656c656374696f6e20616e6420696e746572707265746174696f6e">Regexp selection and interpretation</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b> <i class="arg">pattern</i>, <b class="flag">&#45;</b><b class="flag">&#45;regexp=</b><i class="arg">pattern</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Use <i class="arg">PATTERN</i> as a regular expression; useful to protect patterns beginning with &#8216;-&#8217;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b>, <b class="flag">&#45;</b><b class="flag">&#45;ignore-case</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Ignore case distinctions (as defined by the current locale) in <i class="arg">pattern</i> and input files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b>, <b class="flag">&#45;</b><b class="flag">&#45;literal</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Treat <i class="arg">pattern</i> as a literal string, that is, a fixed string with no special characters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;w</b>, <b class="flag">&#45;</b><b class="flag">&#45;word-regexp</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Force <i class="arg">pattern</i> to match only whole words. A &#8220;whole word&#8221; is a substring which either starts at the beginning or the record or is preceded by a non-word constituent character. Similarly, the substring must either end at the end of the record or be followed by a non-word constituent character. Word-constituent characters are alphanumerics (as defined by the current locale) and the underscore character. Note that the non-word constituent characters <span class="emph">must</span> surround the match; they cannot be counted as errors.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x417070726f78696d617465206d61746368696e672073657474696e6773">Approximate matching settings</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;D</b> <i class="arg">num</i>, <b class="flag">&#45;</b><b class="flag">&#45;delete-cost=</b><i class="arg">num</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Set cost of missing characters to <i class="arg">num</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;I</b> <i class="arg">num</i>, <b class="flag">&#45;</b><b class="flag">&#45;insert-cost=</b><i class="arg">num</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Set cost of extra characters to <i class="arg">num</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b> <i class="arg">num</i>, <b class="flag">&#45;</b><b class="flag">&#45;substitue-cost=</b><i class="arg">num</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Set cost of incorrect characters to <i class="arg">num</i>. Note that a deletion (a missing character) and an insertion (an extra character) together constitute a substituted character, but the cost will be the that of a deletion and an insertion added together. Thus, if the const of a substitution is set to be larger than the sum of the costs of deletion and insertion, direct substitutions will never be done.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;E</b> <b class="flag">&#45;num</b>, <b class="flag">&#45;</b><b class="flag">&#45;max-errors=</b><i class="arg">num</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Select records that have at most <i class="arg">num</i> errors.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><i class="arg">#</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Select records that have at most <i class="arg">#</i> errors (<i class="arg">#</i> is a digit between 0 and 9).</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x4d697363656c6c616e656f7573">Miscellaneous</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b> <b class="flag">&#45;pattern</b>, <b class="flag">&#45;</b><b class="flag">&#45;delimiter=</b><i class="arg">pattern</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Set the record delimiter regular expression to <i class="arg">pattern</i>. The text between two delimiters, before the first delimiter, and after the last delimiter is considered to be a record. The default record delimiter is the regexp &#8220;&#92;n&#8221;, so by default a record is a line. <i class="arg">pattern</i> can be any regular expression that does not match the empty string. For example, using <b class="flag">&#45;d</b> <i class="arg">file ...</i> defines mail messages as records in a Mailbox format file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b>, <b class="flag">&#45;</b><b class="flag">&#45;invert-match</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Select non-matching records instead of matching records.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;V</b>, <b class="flag">&#45;</b><b class="flag">&#45;version</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Print version information and exit.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;y</b>, <b class="flag">&#45;</b><b class="flag">&#45;nothing</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Does nothing. This options exists only for compatibility with the non-free agrep program.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;help</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Display a brief help message and exit.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x4f757470757420636f6e74726f6c">Output control</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;B</b>, <b class="flag">&#45;</b><b class="flag">&#45;best-match</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Only output the best matching records, that is, the records with the lowest cost. This is currently implemented by making two passes over the input files and cannot be used when reading from standard input.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;color</b>, <b class="flag">&#45;</b><b class="flag">&#45;colour</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Highlight the matching strings in the output with a color marker. The color string is taken from the <span class="env">GREP_COLOR</span> environment variable. The default color is red.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b>, <b class="flag">&#45;</b><b class="flag">&#45;count</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Only print a count of matching records per each input file, suppressing normal output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;h</b>, <b class="flag">&#45;</b><b class="flag">&#45;no-filename</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Suppress the prefixing filename on output when multiple files are searched.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;H</b>, <b class="flag">&#45;</b><b class="flag">&#45;with-filename</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Prefix each output record with the name of the input file where the record was read from.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b>, <b class="flag">&#45;</b><b class="flag">&#45;files-with-matches</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Only print the name of each input file which contains at least one match, suppressing normal output. The scanning for each file will stop on the first match.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b>, <b class="flag">&#45;</b><b class="flag">&#45;record-number</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Prefix each output record with its sequence number in the input file. The number of the first record is 1.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;q</b>, <b class="flag">&#45;</b><b class="flag">&#45;quiet</b>, <b class="flag">&#45;</b><b class="flag">&#45;silent</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Do not write anything to standard output. Exit immediately with zero exit status if a match is found.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b>, <b class="flag">&#45;</b><b class="flag">&#45;show-cost</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Print match cost with output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;show-position</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Prefix each output record with the start and end offset of the first match within the record. The offset of the first character of the record is 0. The end position is given as the offset of the first character after the match.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;M</b>, <b class="flag">&#45;</b><b class="flag">&#45;delimiter-after</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
By default, the record delimiter is the newline character and is output after the matching record. If <b class="flag">&#45;d</b> is used, the record delimiter will be output before the matching record. This option causes the delimiter to be output after the matching record.</dd>
</dl>
<p>
With no <i class="arg">file</i>, or when <i class="arg">file</i> is &#8220;-&#8221;, <b class="name">agrep</b> reads standard input. If less than two <i class="arg">files</i> are given <b class="flag">&#45;h</b> is assumed, otherwise <b class="flag">&#45;H</b> is the default.</div>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1><blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">agrep &#45;2 optimize foo.txt</code></div>
</blockquote>
outputs all lines in file <i class="file">foo.txt</i> that match &#8220;optimize&#8221; within two errors. E.g. lines which contain &#8220;optimise&#8221;, &#8220;optmise&#8221;, and &#8220;opitmize&#8221; all match.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> Exit status is 0 if a match is found, 1 for no match, and 2 if there were errors. If <b class="flag">&#45;E</b> or <b class="flag">&#45;</b><i class="arg">#</i> is not specified, only exact matches are selected.<p>
<i class="arg">pattern</i> is a POSIX extended regular expression (ERE) with the TRE extensions.</div>
<div class="section">
<h1 id="x5245504f5254494e472042554753">REPORTING BUGS</h1> Report bugs to the TRE mailing list &#60;tre-general@lists.laurikari.net&#62;.</div>
<div class="section">
<h1 id="x434f50595249474854">COPYRIGHT</h1> Copyright &#169; 2002-2004 Ville Laurikari.<p>
This is free software, and comes with ABSOLUTELY NO WARRANTY. You are welcome to redistribute this software under certain conditions; see the source for the full license text.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 21, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

