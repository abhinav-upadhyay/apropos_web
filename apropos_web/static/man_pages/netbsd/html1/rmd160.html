<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
CKSUM(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
CKSUM(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
CKSUM(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">cksum</b>, <b class="name">md2</b>, <b class="name">md4</b>, <b class="name">md5</b>, <b class="name">rmd160</b>, <b class="name">sha1</b>, <b class="name">sum</b> &#8212; <span class="desc">display file checksums and block counts</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
cksum</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;n</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">algorithm</i> &#91;<span class="opt"><b class="flag">&#45;pqtx</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">string</i></span>&#93;</span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">1</i>|<i class="arg">2</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i> <code class="lit">|</code> <b class="flag">&#45;c</b> &#91;<span class="opt"><b class="flag">&#45;w</b></span>&#93; &#91;<span class="opt"><i class="arg">sumfile</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
sum</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;n</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">algorithm</i> &#91;<span class="opt"><b class="flag">&#45;pqtx</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">string</i></span>&#93;</span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">1</i>|<i class="arg">2</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i> <code class="lit">|</code> <b class="flag">&#45;c</b> &#91;<span class="opt"><b class="flag">&#45;w</b></span>&#93; &#91;<span class="opt"><i class="arg">sumfile</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
md2</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;npqtx</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">string</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i> <code class="lit">|</code> <b class="flag">&#45;c</b> &#91;<span class="opt"><b class="flag">&#45;w</b></span>&#93; &#91;<span class="opt"><i class="arg">sumfile</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
md4</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;npqtx</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">string</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i> <code class="lit">|</code> <b class="flag">&#45;c</b> &#91;<span class="opt"><b class="flag">&#45;w</b></span>&#93; &#91;<span class="opt"><i class="arg">sumfile</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
md5</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;npqtx</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">string</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i> <code class="lit">|</code> <b class="flag">&#45;c</b> &#91;<span class="opt"><b class="flag">&#45;w</b></span>&#93; &#91;<span class="opt"><i class="arg">sumfile</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
rmd160</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;npqtx</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">string</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i> <code class="lit">|</code> <b class="flag">&#45;c</b> &#91;<span class="opt"><b class="flag">&#45;w</b></span>&#93; &#91;<span class="opt"><i class="arg">sumfile</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
sha1</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;npqtx</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">string</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i> <code class="lit">|</code> <b class="flag">&#45;c</b> &#91;<span class="opt"><b class="flag">&#45;w</b></span>&#93; &#91;<span class="opt"><i class="arg">sumfile</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">cksum</b> utility writes to the standard output three whitespace separated fields for each input file. These fields are a checksum CRC, the total number of octets in the file and the file name. If no file name is specified, the standard input is used and no file name is written.<p>
The <b class="name">sum</b> utility is identical to the <b class="name">cksum</b> utility, except that it defaults to using historic algorithm 1, as described below. It is provided for compatibility only.<p>
The <b class="name">md2</b>, <b class="name">md4</b>, <b class="name">md5</b>, <b class="name">sha1</b>, and <b class="name">rmd160</b> utilities compute cryptographic hash functions, and write to standard output the hexadecimal representation of the hash of their input.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b> <i class="arg">algorithm</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When invoked as <b class="name">cksum</b>, use the specified <i class="arg">algorithm</i>. Valid algorithms are:<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-col">
<col style="width: 13.00ex;">
<col style="width: 8.00ex;">
<col style="min-width: 15.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Algorithm</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Bits</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Description</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">CRC</code></td>
<td class="list-col" style="margin-top: 1.00em;">
32</td>
<td class="list-col" style="margin-top: 1.00em;">
Default CRC algorithm</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">MD2</code></td>
<td class="list-col" style="margin-top: 1.00em;">
128</td>
<td class="list-col" style="margin-top: 1.00em;">
MD2, per <code class="lit">RFC1319</code></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">MD4</code></td>
<td class="list-col" style="margin-top: 1.00em;">
128</td>
<td class="list-col" style="margin-top: 1.00em;">
MD4, per <code class="lit">RFC1320</code></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">MD5</code></td>
<td class="list-col" style="margin-top: 1.00em;">
128</td>
<td class="list-col" style="margin-top: 1.00em;">
MD5, per <code class="lit">RFC1321</code></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">RMD160</code></td>
<td class="list-col" style="margin-top: 1.00em;">
160</td>
<td class="list-col" style="margin-top: 1.00em;">
RIPEMD-160</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">SHA1</code></td>
<td class="list-col" style="margin-top: 1.00em;">
160</td>
<td class="list-col" style="margin-top: 1.00em;">
SHA-1, per <code class="lit">FIPS PUB 180-1</code></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">SHA256</code></td>
<td class="list-col" style="margin-top: 1.00em;">
256</td>
<td class="list-col" style="margin-top: 1.00em;">
SHA-2</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">SHA384</code></td>
<td class="list-col" style="margin-top: 1.00em;">
384</td>
<td class="list-col" style="margin-top: 1.00em;">
SHA-2</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">SHA512</code></td>
<td class="list-col" style="margin-top: 1.00em;">
512</td>
<td class="list-col" style="margin-top: 1.00em;">
SHA-2</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">old1</code></td>
<td class="list-col" style="margin-top: 1.00em;">
16</td>
<td class="list-col" style="margin-top: 1.00em;">
Algorithm 1, per <b class="flag">&#45;o</b> <i class="arg">1</i></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<code class="lit">old2</code></td>
<td class="list-col" style="margin-top: 1.00em;">
16</td>
<td class="list-col" style="margin-top: 1.00em;">
Algorithm 2, per <b class="flag">&#45;o</b> <i class="arg">2</i></td>
</tr>
</tbody>
</table>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> &#91;<span class="opt"><i class="arg">sumfile</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Verify (check) files against a list of checksums. The list is read from <i class="arg">sumfile</i>, or from stdin if no filename is given. E.g. first run<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="cmd">md5 *.tgz &gt; MD5</b></code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="cmd">sha1 *.tgz &gt; SHA1</b></code></div>
</blockquote>
to generate a list of MD5 checksums in <i class="file">MD5</i>, then use the following command to verify them:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><b class="cmd">cat MD5 SHA1</b> | <b class="cmd">cksum -c</b></code></div>
</blockquote>
If an error is found during checksum verification, an error message is printed, and the program returns an error code of 1.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use historic algorithms instead of the (superior) default one.<p>
Algorithm 1 is the algorithm used by historic <span class="unix">BSD</span> systems as the <a class="link-man" href="../html1/sum.html">sum(1)</a> algorithm and by historic AT&amp;T System&#160;V UNIX systems as the <a class="link-man" href="../html1/sum.html">sum(1)</a> algorithm when using the <b class="flag">&#45;r</b> option. This is a 16-bit checksum, with a right rotation before each addition; overflow is discarded.<p>
Algorithm 2 is the algorithm used by historic AT&amp;T System&#160;V UNIX systems as the default <a class="link-man" href="../html1/sum.html">sum(1)</a> algorithm. This is a 32-bit checksum, and is defined as follows:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
s = sum of all bytes; 
r = s % 2^16 + (s % 2^32) / 2^16; 
cksum = (r % 2^16) + r / 2^16;</pre>
<p>
Both algorithm 1 and 2 write to the standard output the same fields as the default algorithm except that the size of the file in bytes is replaced with the size of the file in blocks. For historic reasons, the block size is 1024 for algorithm 1 and 512 for algorithm 2. Partial blocks are rounded up.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;w</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print warnings about malformed checksum files when verifying checksums with <b class="flag">&#45;c</b>.</dd>
</dl>
<p>
The following options apply only when using the one of the message digest algorithms:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print the hash and the filename in the normal sum output form, with the hash at the left and the filename following on the right.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Echo input from standard input to standard output, and append the selected message digest.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;q</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Quiet mode &#8212; only the checksum is printed out. Overrides the <b class="flag">&#45;n</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print the hash of the given string <i class="arg">string</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Run a built-in message digest time trial.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;x</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Run a built-in message digest test script. The tests that are run are supposed to encompass all the various tests in the suites that accompany the algorithms' descriptions with the exception of the last test for the SHA-1 algorithm and the RIPEMD-160 algorithm. The last test for these is one million copies of the lower letter a.</dd>
</dl>
<p>
The default CRC used is based on the polynomial used for CRC error checking in the networking standard ISO 8802-3: 1989. The CRC checksum encoding is defined by the generating polynomial:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
G(x) = x^32 + x^26 + x^23 + x^22 + x^16 + x^12 + 
     x^11 + x^10 + x^8 + x^7 + x^5 + x^4 + x^2 + x + 1</pre>
<p>
Mathematically, the CRC value corresponding to a given file is defined by the following procedure:<p>
<div style="margin-left: 5.00ex;" class="display">
The <i class="arg">n</i> bits to be evaluated are considered to be the coefficients of a mod 2 polynomial M(x) of degree <i class="arg">n</i>&#45;1. These <i class="arg">n</i> bits are the bits from the file, with the most significant bit being the most significant bit of the first octet of the file and the last bit being the least significant bit of the last octet, padded with zero bits (if necessary) to achieve an integral number of octets, followed by one or more octets representing the length of the file as a binary value, least significant octet first. The smallest number of octets capable of representing this integer are used.<p>
M(x) is multiplied by x^32 (i.e., shifted left 32 bits) and divided by G(x) using mod 2 division, producing a remainder R(x) of degree &#8804; 31.<p>
The coefficients of R(x) are considered to be a 32-bit sequence.<p>
The bit sequence is complemented and the result is the CRC.</div>
<p>
The <b class="name">cksum</b> and <b class="name">sum</b> utilities exit 0 on success, and &gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/openssl.html">openssl(1)</a>, <a class="link-man" href="../html8/mtree.html">mtree(8)</a><p>
The default calculation is identical to that given in pseudo-code in the following ACM article.<p>
<span class="ref"><span class="ref-auth">Dilip V. Sarwate</span>, <span class="ref-title">Computation of Cyclic Redundancy Checks Via Table Lookup</span>, <i class="ref-jrnl">Communications of the ACM</i>, <span class="ref-date">August 1988</span>.</span><p>
<span class="ref"><span class="ref-auth">R. Rivest</span>, <span class="ref-title">The MD2 Message-Digest Algorithm</span>, <span class="ref-opt">RFC 1319</span>.</span><p>
<span class="ref"><span class="ref-auth">R. Rivest</span>, <span class="ref-title">The MD4 Message-Digest Algorithm</span>, <span class="ref-opt">RFC 1186 and RFC 1320</span>.</span><p>
<span class="ref"><span class="ref-auth">R. Rivest</span>, <span class="ref-title">The MD5 Message-Digest Algorithm</span>, <span class="ref-opt">RFC 1321</span>.</span><p>
<span class="ref"><span class="ref-auth">U.S. DOC/NIST</span>, <span class="ref-title">Secure Hash Standard</span>, <span class="ref-opt">FIPS PUB 180-1</span>.</span></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="name">cksum</b> utility is expected to conform to IEEE Std 1003.1-2004 (&#8220;POSIX.1&#8221;).</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">cksum</b> utility appeared in <span class="unix">4.4BSD</span>. <b class="name">md5</b> was added in <span class="unix">NetBSD&#160;1.3</span>. The functionality for <b class="name">md2</b>, <b class="name">md4</b>, <b class="name">sha1</b>, and <b class="name">rmd160</b> was added in <span class="unix">NetBSD&#160;1.6</span>. Support for the SHA-2 algorithms (<code class="lit">SHA256</code>, <code class="lit">SHA384</code>, and <code class="lit">SHA512</code>) was added in <span class="unix">NetBSD&#160;3.0</span>. The functionality to verify checksum stored in a file (<b class="flag">&#45;c</b>) first appeared in <span class="unix">NetBSD&#160;4.0</span>. Quiet mode (<b class="flag">&#45;q</b>) was added in <span class="unix">NetBSD&#160;7.0</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 31, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

