<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
TAR(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
TAR(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
TAR(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">tar</b> &#8212; <span class="desc">tape archiver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
tar</td>
<td>
&#91;<span class="opt">-</span>&#93;{crtux}&#91;<span class="opt"><b class="flag">&#45;014578befHhJjklmOoPpqSvwXZz</b></span>&#93; &#91;<span class="opt"><i class="arg">archive</i></span>&#93; &#91;<span class="opt"><i class="arg">blocksize</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;C</b> <i class="arg">directory</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">replstr</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;T</b> <i class="arg">file</i></span>&#93; &#91;<span class="opt"><i class="arg">file ...</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">tar</b> command creates, adds files to, or extracts files from an archive file in &#8220;tar&#8221; format. A tar archive is often stored on a magnetic tape, but can be stored equally well on a floppy, CD-ROM, or in a regular disk file.<p>
One of the following flags must be present:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b>, <b class="flag">&#45;</b><b class="flag">&#45;create</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Create new archive, or overwrite an existing archive, adding the specified files to it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b>, <b class="flag">&#45;</b><b class="flag">&#45;append</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Append the named new files to existing archive. Note that this will only work on media on which an end-of-file mark can be overwritten.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b>, <b class="flag">&#45;</b><b class="flag">&#45;list</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
List contents of archive. If any files are named on the command line, only those files will be listed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b>, <b class="flag">&#45;</b><b class="flag">&#45;update</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Alias for <b class="flag">&#45;r</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;x</b>, <b class="flag">&#45;</b><b class="flag">&#45;extract</b>, <b class="flag">&#45;</b><b class="flag">&#45;get</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Extract files from archive. If any files are named on the command line, only those files will be extracted from the archive. If more than one copy of a file exists in the archive, later copies will overwrite earlier copies during extraction. The file mode and modification time are preserved if possible. The file mode is subject to modification by the <a class="link-man" href="../2/umask">umask(2)</a>.</dd>
</dl>
<p>
In addition to the flags mentioned above, any of the following flags may be used:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b> <i class="arg">blocking factor</i>, <b class="flag">&#45;</b><b class="flag">&#45;block-size</b> <i class="arg">blocking factor</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Set blocking factor to use for the archive. <b class="name">tar</b> uses 512 byte blocks. The default is 20, the maximum is 126. Archives with a blocking factor larger 63 violate the POSIX standard and will not be portable to all systems.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Stop after first error.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b> <i class="arg">archive</i>, <b class="flag">&#45;</b><b class="flag">&#45;file</b> <i class="arg">archive</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Filename where the archive is stored. Defaults to <i class="file">/dev/rst0</i>. If the archive is of the form: <i class="arg">[[user@]host:]file</i> then the archive will be processed using <a class="link-man" href="../8/rmt">rmt(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;h</b>, <b class="flag">&#45;</b><b class="flag">&#45;dereference</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Follow symbolic links as if they were normal files or directories.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;J,</b> <b class="flag">&#45;</b><b class="flag">&#45;xz</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Compress/decompress archive using <a class="link-man" href="../1/xz">xz(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;j,</b> <b class="flag">&#45;</b><b class="flag">&#45;bzip2,</b> <b class="flag">&#45;</b><b class="flag">&#45;bunzip2</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Use <a class="link-man" href="../1/bzip2">bzip2(1)</a> for compression of the archive. This option is a GNU extension.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b>, <b class="flag">&#45;</b><b class="flag">&#45;keep-old-files</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Keep existing files; don't overwrite them from archive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b>, <b class="flag">&#45;</b><b class="flag">&#45;one-file-system</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Do not descend across mount points.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b>, <b class="flag">&#45;</b><b class="flag">&#45;modification-time</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Do not preserve modification time.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;O</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
When creating and appending to an archive, write old-style (non-POSIX) archives. When extracting from an archive, extract to standard output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b>, <b class="flag">&#45;</b><b class="flag">&#45;portability</b>, <b class="flag">&#45;</b><b class="flag">&#45;old-archive</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Don't write directory information that the older (V7) style <b class="name">tar</b> is unable to decode. This implies the <b class="flag">&#45;O</b> flag.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b>, <b class="flag">&#45;</b><b class="flag">&#45;preserve-permissions</b>, <b class="flag">&#45;</b><b class="flag">&#45;preserve</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Preserve user and group ID as well as file mode regardless of the current <a class="link-man" href="../2/umask">umask(2)</a>. The setuid and setgid bits are only preserved if the user is the superuser. Only meaningful in conjunction with the <b class="flag">&#45;x</b> flag.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;q</b>, <b class="flag">&#45;</b><b class="flag">&#45;fast-read</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Select the first archive member that matches each <i class="arg">pattern</i> operand. No more than one archive member is matched for each <i class="arg">pattern</i>. When members of type directory are matched, the file hierarchy rooted at that directory is also matched.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b>, <b class="flag">&#45;</b><b class="flag">&#45;sparse</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This flag has no effect as <b class="name">tar</b> always generates sparse files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">replstr</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Modify the file or archive member names specified by the <i class="arg">pattern</i> or <i class="arg">file</i> operands according to the substitution expression <i class="arg">replstr</i>, using the syntax of the <a class="link-man" href="../1/ed">ed(1)</a> utility regular expressions. The format of these regular expressions are:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">/old/new/[gps]</code></div>
</blockquote>
As in <a class="link-man" href="../1/ed">ed(1)</a>, <b class="flag">old</b> is a basic regular expression and <b class="flag">new</b> can contain an ampersand (&amp;), &#92;n (where n is a digit) back-references, or subexpression matching. The <b class="flag">old</b> string may also contain &#60;<span class="define">newline</span>&#62; characters. Any non-null character can be used as a delimiter (/ is shown here). Multiple <b class="flag">&#45;s</b> expressions can be specified. The expressions are applied in the order they are specified on the command line, terminating with the first successful substitution. The optional trailing <b class="flag">g</b> continues to apply the substitution expression to the pathname substring which starts with the first character following the end of the last successful substitution. The first unsuccessful substitution stops the operation of the <b class="flag">g</b> option. The optional trailing <b class="flag">p</b> will cause the final result of a successful substitution to be written to <span class="define">standard error</span> in the following format:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&lt;original pathname&gt; &gt;&gt; &lt;new pathname&gt;</code></div>
</blockquote>
File or archive member names that substitute to the empty string are not selected and will be skipped. The substitutions are applied by default to the destination hard and symbolic links. The optional trailing <b class="flag">s</b> prevents the substitutions from being performed on symbolic link destinations.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Verbose operation mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;w</b>, <b class="flag">&#45;</b><b class="flag">&#45;interactive</b>, <b class="flag">&#45;</b><b class="flag">&#45;confirmation</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Interactively rename files. This option causes <b class="name">tar</b> to prompt the user for the filename to use when storing or extracting files in an archive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;z</b>, <b class="flag">&#45;</b><b class="flag">&#45;gzip</b>, <b class="flag">&#45;</b><b class="flag">&#45;gunzip</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Compress/decompress archive using <a class="link-man" href="../1/gzip">gzip(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;B</b>, <b class="flag">&#45;</b><b class="flag">&#45;read-full-blocks</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Reassemble small reads into full blocks (For reading from 4.2BSD pipes).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;C</b> <i class="arg">directory</i>, <b class="flag">&#45;</b><b class="flag">&#45;directory</b> <i class="arg">directory</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This is a positional argument which sets the working directory for the following files. When extracting, files will be extracted into the specified directory; when creating, the specified files will be matched from the directory. This argument and its parameter may also appear in a file list specified by <b class="flag">&#45;T</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;H</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Only follow symlinks given on command line.<p>
Note SysVr3/i386 picked up ISC/SCO UNIX compatibility which implemented &#8220;<b class="flag">&#45;F</b> <i class="arg">file</i>&#8221; which was defined as obtaining a list of command line switches and files on which to operate from the specified file, but SunOS-5 uses &#8220;<b class="flag">&#45;I</b> <i class="arg">file</i>&#8221; because they use &#8216;<b class="flag">&#45;F</b>&#8217; to mean something else. We might someday provide SunOS-5 compatibility but it makes little sense to confuse things with ISC/SCO compatibility.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;P</b>, <b class="flag">&#45;</b><b class="flag">&#45;absolute-paths</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Do not strip leading slashes (&#8216;/&#8217;) from pathnames. The default is to strip leading slashes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;T</b> <i class="arg">file</i>, <b class="flag">&#45;</b><b class="flag">&#45;files-from</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Read the names of files to archive or extract from the given file, one per line. A line may also specify the positional argument &#8220;<b class="flag">&#45;C</b> <i class="arg">directory</i>&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;X</b> <i class="arg">file</i>, <b class="flag">&#45;</b><b class="flag">&#45;exclude-from</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Exclude files matching the shell glob patterns listed in the given file.<p>
Note that it would be more standard to use this option to mean ``do not cross filesystem mount points.''</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;Z</b>, <b class="flag">&#45;</b><b class="flag">&#45;compress</b>, <b class="flag">&#45;</b><b class="flag">&#45;uncompress</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Compress archive using compress.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;strict</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Do not enable GNU tar extensions such as long filenames and long link names.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;atime-preserve</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Preserve file access times.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;chroot</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
<b class="fname">chroot</b>() to the current directory before extracting files. Use with <b class="flag">&#45;x</b> and <b class="flag">&#45;h</b> to make absolute symlinks relative to the current directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;unlink</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Ignored, only accepted for compatibility with other <b class="name">tar</b> implementations. <b class="name">tar</b> always unlinks files before creating them.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;use-compress-program</b> <i class="arg">program</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Use the named program as the program to decompress the input.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;force-local</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Do not interpret filenames that contain a &#8216;:&#8217; as remote files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;insecure</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Normally <b class="name">tar</b> ignores filenames that contain &#8220;..&#8221; as a path component. With this option, files that contain &#8220;..&#8221; can be processed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;no-recursion</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Cause files of type directory being copied or archived, or archive members of type directory being extracted, to match only the directory file or archive member and not the file hierarchy rooted at the directory.</dd>
</dl>
<p>
The options &#91;<span class="opt"><b class="flag">&#45;014578</b></span>&#93; can be used to select one of the compiled-in backup devices, <i class="file">/dev/rstN</i>.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/dev/rst0</i></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
default archive name</dd>
</dl>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> <b class="name">tar</b> will exit with one of the following values:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
All files were processed successfully.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
An error occurred.</dd>
</dl>
<p>
Whenever <b class="name">tar</b> cannot create a file or a link when extracting an archive or cannot find a file while writing an archive, or cannot preserve the user ID, group ID, file mode, or access and modification times when the <b class="flag">&#45;p</b> option is specified, a diagnostic message is written to standard error and a non-zero exit value will be returned, but processing will continue. In the case where <b class="name">tar</b> cannot create a link to a file, <b class="name">tar</b> will not create a second copy of the file.<p>
If the extraction of a file from an archive is prematurely terminated by a signal or error, <b class="name">tar</b> may have only partially extracted the file the user wanted. Additionally, the file modes of extracted files and directories may have incorrect file bits, and the modification and access times may be wrong.<p>
If the creation of an archive is prematurely terminated by a signal or error, <b class="name">tar</b> may have only partially created the archive which may violate the specific archive format specification.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/cpio">cpio(1)</a>, <a class="link-man" href="../1/pax">pax(1)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">tar</b> command first appeared in Version&#160;7 AT&amp;T UNIX.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Keith Muller</span> at the University of California, San Diego.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 11, 2015</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

