<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
TSET(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
TSET(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
TSET(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">tset</b>, <b class="name">reset</b> &#8212; <span class="desc">terminal initialization</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 4.00ex;">
<col>
<tbody>
<tr>
<td>
tset</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;IQrs</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">ch</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;i</b> <i class="arg">ch</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">ch</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mapping</i></span>&#93; &#91;<span class="opt"><i class="arg">terminal</i></span>&#93;</td>
</tr>
</tbody>
</table>
<p>
<br>
<table class="synopsis">
<col style="width: 4.00ex;">
<col>
<tbody>
<tr>
<td>
reset</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;IQrs</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">ch</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;i</b> <i class="arg">ch</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">ch</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mapping</i></span>&#93; &#91;<span class="opt"><i class="arg">terminal</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">tset</b> initializes terminals. <b class="name">tset</b> first determines the type of terminal that you are using. This determination is done as follows, using the first terminal type found.<p>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
The <i class="arg">terminal</i> argument specified on the command line.</li>
<li class="list-bul" style="margin-top: 0.00em;">
The value of the <span class="env">TERM</span> environmental variable.</li>
<li class="list-bul" style="margin-top: 0.00em;">
The terminal type associated with the standard error output device in the <i class="file">/etc/ttys</i> file.</li>
<li class="list-bul" style="margin-top: 0.00em;">
The default terminal type, &#8220;unknown&#8221;.</li>
</ul>
<p>
If the terminal type was not specified on the command-line, the <b class="flag">&#45;m</b> option mappings are then applied (see below for more information). Then, if the terminal type begins with a question mark (``?''), the user is prompted for confirmation of the terminal type. An empty response confirms the type, or, another type can be entered to specify a new type. Once the terminal type has been determined, the terminfo entry for the terminal is retrieved. If no terminfo entry is found for the type, the user is prompted for another terminal type.<p>
Once the terminfo entry is retrieved, the window size, backspace, interrupt and line kill characters (among many other things) are set and the terminal and tab initialization strings are sent to the standard error output. Finally, if the erase, interrupt and line kill characters have changed, or are not set to their default values, their values are displayed to the standard error output.<p>
When invoked as <b class="name">reset</b>, <b class="name">tset</b> sets cooked and echo modes, turns off cbreak and raw modes, turns on newline translation and resets any unset special characters to their default values before doing the terminal initialization described above. This is useful after a program dies leaving a terminal in a abnormal state. Note, you may have to type &#8220;<code class="lit">&lt;LF&gt;reset&lt;LF&gt;</code>&#8221; (the line-feed character is normally control-J) to get the terminal to work, as carriage-return may no longer work in the abnormal state. Also, the terminal will often not echo the command.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The terminal type is displayed to the standard output, and the terminal is not initialized in any way.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the erase character to <i class="arg">ch</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;I</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Do not send the terminal or tab initialization strings to the terminal.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the interrupt character to <i class="arg">ch</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Set the line kill character to <i class="arg">ch</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Specify a mapping from a port type to a terminal. See below for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;Q</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Don't display any values for the erase, interrupt and line kill characters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Print the terminal type to the standard error output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Print the sequence of shell commands to initialize the environment variable <span class="env">TERM</span> to the standard output. See the section below on setting the environment for details.</dd>
</dl>
<p>
The arguments for the <b class="flag">&#45;e</b>, <b class="flag">&#45;i</b> and <b class="flag">&#45;k</b> options may either be entered as actual characters or by using the &#8220;hat&#8221; notation, i.e. control-h may be specified as &#8220;<code class="lit">^H</code>&#8221; or &#8220;<code class="lit">^h</code>&#8221;.</div>
<div class="section">
<h1 id="x53455454494e472054484520454e5649524f4e4d454e54">SETTING THE ENVIRONMENT</h1> It is often desirable to enter the terminal type and information about the terminal's capabilities into the shell's environment. This is done using the <b class="flag">&#45;s</b> option.<p>
When the <b class="flag">&#45;s</b> option is specified, the commands to enter the information into the shell's environment are written to the standard output. If the <span class="env">SHELL</span> environmental variable ends in &#8220;csh&#8221;, the commands are for the <a class="link-man" href="../html1/csh.html">csh(1)</a>, otherwise, they are for <a class="link-man" href="../html1/sh.html">sh(1)</a>. Note, the <a class="link-man" href="../html1/csh.html">csh(1)</a> commands <b class="cmd">set</b> and <b class="cmd">unset</b> the shell variable &#8220;noglob&#8221;, leaving it unset. The following line in the <i class="file">.login</i> or <i class="file">.profile</i> files will initialize the environment correctly:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
eval &#768;tset -s options ... &#768;</pre>
<p>
To demonstrate a simple use of the <b class="flag">&#45;S</b> option, the following lines in the <i class="file">.login</i> file have an equivalent effect:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
set noglob 
set term=(`tset -S options ...`) 
setenv TERM $term[1] 
unset term 
unset noglob</pre>
</div>
<div class="section">
<h1 id="x5445524d494e414c2054595045204d415050494e47">TERMINAL TYPE MAPPING</h1> When the terminal is not hardwired into the system (or the current system information is incorrect) the terminal type derived from the <i class="file">/etc/ttys</i> file or the <span class="env">TERM</span> environmental variable is often something generic like &#8220;network&#8221;, &#8220;dialup&#8221;, or &#8220;unknown&#8221;. When <b class="name">tset</b> is used in a startup script (<i class="file">.profile</i> for <a class="link-man" href="../html1/sh.html">sh(1)</a> users or <i class="file">.login</i> for <a class="link-man" href="../html1/csh.html">csh(1)</a> users) it is often desirable to provide information about the type of terminal used on such ports. The purpose of the <b class="flag">&#45;m</b> option is to &#8220;map&#8221; from some set of conditions to a terminal type, that is, to tell <b class="name">tset</b> ``If I'm on this port at a particular speed, guess that I'm on that kind of terminal''.<p>
The argument to the <b class="flag">&#45;m</b> option consists of an optional port type, an optional operator, an optional baud rate specification, an optional colon (``:'') character and a terminal type. The port type is a string (delimited by either the operator or the colon character). The operator may be any combination of: &#8220;<code class="lit">&gt;</code>&#8221;, &#8220;<code class="lit">&lt;</code>&#8221;, &#8220;<code class="lit">@</code>&#8221;, and &#8220;<code class="lit">!</code>&#8221;; &#8220;<code class="lit">&gt;</code>&#8221; means greater than, &#8220;<code class="lit">&lt;</code>&#8221; means less than, &#8220;<code class="lit">@</code>&#8221; means equal to and &#8220;<code class="lit">!</code>&#8221; inverts the sense of the test. The baud rate is specified as a number and is compared with the speed of the standard error output (which should be the control terminal). The terminal type is a string.<p>
If the terminal type is not specified on the command line, the <b class="flag">&#45;m</b> mappings are applied to the terminal type. If the port type and baud rate match the mapping, the terminal type specified in the mapping replaces the current type. If more than one mapping is specified, the first applicable mapping is used.<p>
For example, consider the following mapping: &#8220;<code class="lit">dialup&gt;9600:vt100</code>&#8221;. The port type is &#8220;<code class="lit">dialup</code>&#8221;, the operator is &#8220;<code class="lit">&gt;</code>&#8221;, the baud rate specification is &#8220;<code class="lit">9600</code>&#8221;, and the terminal type is &#8220;<code class="lit">vt100</code>&#8221;. The result of this mapping is to specify that if the terminal type is &#8220;<code class="lit">dialup</code>&#8221;, and the baud rate is greater than 9600 baud, a terminal type of &#8220;<code class="lit">vt100</code>&#8221; will be used.<p>
If no port type is specified, the terminal type will match any port type, for example, &#8220;<code class="lit">-m dialup:vt100 -m :?xterm</code>&#8221; will cause any dialup port, regardless of baud rate, to match the terminal type &#8220;<code class="lit">vt100</code>&#8221;, and any non-dialup port type to match the terminal type &#8220;<code class="lit">?xterm</code>&#8221;. Note, because of the leading question mark, the user will be queried on a default port as to whether they are actually using an <i class="arg">xterm</i> terminal.<p>
No whitespace characters are permitted in the <b class="flag">&#45;m</b> option argument. Also, to avoid problems with metacharacters, it is suggested that the entire <b class="flag">&#45;m</b> option argument be placed within single quote characters, and that <a class="link-man" href="../html1/csh.html">csh(1)</a> users insert a backslash character (``&#92;'') before any exclamation marks (``!'').</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1> The <b class="name">tset</b> command uses the <span class="env">SHELL</span> and <span class="env">TERM</span> environment variables.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ttys</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
system port name to terminal type mapping database</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/share/misc/terminfo</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
terminal capability database</dd>
</dl>
</div>
<div class="section">
<h1 id="x434f4d5041544942494c495459">COMPATIBILITY</h1> The <b class="flag">&#45;A</b>, <b class="flag">&#45;E</b>, <b class="flag">&#45;h</b>, <b class="flag">&#45;u</b> and <b class="flag">&#45;v</b> options have been deleted from the <b class="name">tset</b> utility. None of them were documented in <span class="unix">4.3BSD</span> and all are of limited utility at best. The <b class="flag">&#45;a</b>, <b class="flag">&#45;d</b> and <b class="flag">&#45;p</b> options are similarly not documented or useful, but were retained as they appear to be in widespread use. It is strongly recommended that any usage of these three options be changed to use the <b class="flag">&#45;m</b> option instead. The <b class="flag">&#45;n</b> option remains, but has no effect. It is still permissible to specify the <b class="flag">&#45;e</b>, <b class="flag">&#45;i</b> and <b class="flag">&#45;k</b> options without arguments, although it is strongly recommended that such usage be fixed to explicitly specify the character.<p>
Executing <b class="name">tset</b> as <b class="name">reset</b> no longer implies the <b class="flag">&#45;Q</b> option. Also, the interaction between the <b class="flag">&#45;</b> option and the <i class="arg">terminal</i> argument in some historic implementations of <b class="name">tset</b> has been removed.<p>
The <b class="flag">&#45;E</b> and <b class="flag">&#45;S</b> options have been removed as they only make sense for termcap and <b class="name">tset</b> now uses terminfo. As such, the <span class="env">TERMCAP</span> entry has been removed from <b class="flag">&#45;s</b>.<p>
Finally, the <b class="name">tset</b> implementation has been completely redone (as part of the addition to the system of a IEEE Std 1003.1-1988 (&#8220;POSIX.1&#8221;) compliant terminal interface) and will no longer compile on systems with older terminal interfaces.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/csh.html">csh(1)</a>, <a class="link-man" href="../html1/sh.html">sh(1)</a>, <a class="link-man" href="../html1/stty.html">stty(1)</a>, <a class="link-man" href="../html4/tty.html">tty(4)</a>, <a class="link-man" href="../html5/terminfo.html">terminfo(5)</a>, <a class="link-man" href="../html5/ttys.html">ttys(5)</a>, <a class="link-man" href="../html7/environ.html">environ(7)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">reset</b> and <b class="name">tset</b> commands appeared in <span class="unix">1BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 5, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

