<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
NETPGP(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
NETPGP(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
NETPGP(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">netpgp</b> &#8212; <span class="desc">signing, verification, encryption, and decryption utility</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
<b class="flag">&#45;</b><b class="flag">&#45;encrypt</b> &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;output</b>=<i class="arg">filename</i></span>&#93; &#91;<span class="opt">options</span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
<b class="flag">&#45;</b><b class="flag">&#45;decrypt</b> &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;output</b>=<i class="arg">filename</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;pass&#45;fd</b>=<i class="arg">fd</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;num&#45;tries</b>=<i class="arg">attempts</i></span>&#93; &#91;<span class="opt">options</span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
<p>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
<b class="flag">&#45;</b><b class="flag">&#45;sign</b> &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;armor</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;detach</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;hash</b>=<i class="arg">algorithm</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;output</b>=<i class="arg">filename</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;pass&#45;fd</b>=<i class="arg">fd</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;from</b>=<i class="arg">sig-valid-from</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;num&#45;tries</b>=<i class="arg">attempts</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;duration</b>=<i class="arg">sig-valid-duration</i></span>&#93; &#91;<span class="opt">options</span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
<b class="flag">&#45;</b><b class="flag">&#45;verify</b> &#91;<span class="opt">options</span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
<b class="flag">&#45;</b><b class="flag">&#45;cat</b> &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;output</b>=<i class="arg">filename</i></span>&#93; &#91;<span class="opt">options</span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
<b class="flag">&#45;</b><b class="flag">&#45;clearsign</b> &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;output</b>=<i class="arg">filename</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;pass&#45;fd</b>=<i class="arg">fd</i></span>&#93; &#91;<span class="opt">options</span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
<b class="flag">&#45;</b><b class="flag">&#45;list&#45;packets</b> &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;pass&#45;fd</b>=<i class="arg">fd</i></span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
<b class="flag">&#45;</b><b class="flag">&#45;version</b></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
netpgp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;Vdesv</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;olong-option</b>=value</span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
<p>
where the long options for all commands are:<p>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;cipher</b>=<i class="arg">ciphername</i></span>&#93;<div style="height: 0.00em;">
&#160;</div>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;coredumps</b></span>&#93;<div style="height: 0.00em;">
&#160;</div>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;homedir</b>=<i class="arg">home&#45;directory</i></span>&#93;<div style="height: 0.00em;">
&#160;</div>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;keyring</b>=<i class="arg">keyring</i></span>&#93;<div style="height: 0.00em;">
&#160;</div>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;results</b>=<i class="arg">filename</i></span>&#93;<div style="height: 0.00em;">
&#160;</div>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;ssh&#45;keys</b></span>&#93;<div style="height: 0.00em;">
&#160;</div>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;userid</b>=<i class="arg">userid</i></span>&#93;<div style="height: 0.00em;">
&#160;</div>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;verbose</b></span>&#93;</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">netpgp</b> command can digitally sign files and verify that the signatures attached to files were signed by a given user identifier. <b class="name">netpgp</b> can also encrypt files using the public or private keys of users and, in the same manner, decrypt files which were encrypted.<p>
For signing and encryption, a unique identity is needed. This identity is made up of a private and public key. The public key part is made available and known to everyone. The private key is kept secret, and known only to the user who created the identity. The secret key is protected with a passphrase.<p>
In rough terms, a digital signature is a digest of a file's contents, encrypted with the user's private key. Since together, the private and public keys identify the user uniquely, the signature can be used to identify the exact version of the file, and any changes made to the file will mean that the signature no longer matches.<p>
As a corollary, the file can be transformed using a user's public key, into text such that the contents can only be viewed by someone with the corresponding private key. This is called encryption.<p>
To manipulate keys themselves, a separate utility is provided, called <a class="link-man" href="../1/netpgpkeys">netpgpkeys(1)</a>.<p>
Keyrings are collections of public keys belonging to other users. By using other means of identification, it is possible to establish the bona fides of other users. Once trust has been established, the public key of the other user will be signed. The other user's public key can be added to our keyring. The other user will add our public key to their keyring.<p>
Keys can be listed, exported (i.e. made available to others), and imported (i.e. users who have signed our public key).<p>
The <b class="flag">&#45;</b><b class="flag">&#45;list&#45;packets</b> command can be used for debugging purposes.<p>
The following commands are used to sign and verify signatures:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;cat</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The signature of the signed file named on the command line is verified against the contents of the file itself. If the two match, then the original contents are sent to standard out. If the signature does not match, no output is generated.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;clearsign</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The signature of the file named on the command line is calculated in the same manner as the <b class="flag">&#45;</b><b class="flag">&#45;sign</b> command, but the text is added to the file such that the text itself is not in binary format, but can be read by mere mortals.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;sign</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The private key is used to digitally sign the files named on the command line. The file and its attached signature are created with a &#8220;<i class="file">.gpg</i>&#8221; extension to the original file name. The user will be prompted for their pass phrase using <a class="link-man" href="../3/getpass">getpass(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;verify</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
For each of the files named on the command line, the signature of the file is verified, checking the contents against the user's public signature.</dd>
</dl>
<p>
The following commands can be used to encrypt and decrypt files:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;decrypt</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Decrypt the file using the user's private key. The pass phrase will be obtained by prompting the user to type it in, using <a class="link-man" href="../3/getpass">getpass(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;encrypt</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Use the user's public key to encrypt the files named on the command line.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;list&#45;packets</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
List all the &#8220;packets&#8221; in an encrypted or signed file. Internally, <b class="name">netpgp</b> splits an encrypted or signed file into separate packets, and this option is used to give a verbose representation of these packets on standard output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;version</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Print the version information from the <a class="link-man" href="../3/libnetpgp">libnetpgp(3)</a> library.</dd>
</dl>
<p>
In addition to one of the preceding commands, a number of qualifiers or options may be given.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;armour</b>, <b class="flag">&#45;armor</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This option, however it is spelled, wraps the signature as an ASCII-encoded piece of text, for ease of use.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;cipher</b> <i class="arg">ciphername</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
can be used to specify the symmetric encryption algorithm (or cipher) which is used when encrypting data. To decrypt this data, the same cipher will be needed, so care should be taken at encryption time to make sure that the person who decrypts the data has access to the cipher used. The default cipher algorithm is the &#8220;CAST5&#8221; algorithm.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;detached</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
When signing a file, place the resulting signature in a separate file from the one being signed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;hash-alg</b> <i class="arg">hash-algorithm</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
can be used to specify the hash algorithm (sometimes called a digest algorithm) which is used with RSA keys when signing text. The default hash algorithm is the &#8220;SHA256&#8221; algorithm. At the present time, &#8220;SHA1&#8221; may also be used, although it is recommended that SHA256 be used, due to recent advances in generating collisions for the SHA1 hashing algorithm.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;homedir</b> <i class="arg">home&#45;directory</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Keyrings are normally located, for historical reasons, within the user's home directory in a subdirectory called &#8220;<i class="file">.gnupg</i>&#8221; and this option specifies an alternative location in which to find that sub-directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;keyring</b> <i class="arg">keyring</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This option specifies an alternative keyring to be used. All keyring operations will be relative to this alternative keyring.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;output</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
specifies a filename to which verified output from a signed file may be redirected. The default is to send the verified output to stdout, and this may also be specified using the &#8220;-&#8221; value.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;results</b> <i class="arg">filename</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
specifies a filename to which the results of the operation should be sent. The default is to send the results to stderr.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;ssh&#45;keys</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
specifies that the public and private keys should be taken from the <a class="link-man" href="../1/ssh">ssh(1)</a> host key files, usually found in <i class="file">/etc/ssh/ssh_host_rsa_key</i> and <i class="file">/etc/ssh/ssh_host_rsa_key.pub</i> for the private and public host keys.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;userid</b> <i class="arg">userid</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This option specifies the user identity to be used for all operations. This identity can either be in the form of the full name, or as an email address. Care should be exercised with these ways of specifying the user identity, since the <b class="name">netpgp</b> utility has no way of verifying that an email address is valid, or that a key belongs to a certain individual. The trust for a signed key is given by the other signers of that key. The 16 hexadecimal digit user identity should be used when specifying user identities &#8212;email addresses and names are provided as aliases.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;pass&#45;fd</b>=<i class="arg">fd</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This option is intended for the use of external programs which may like to use the <a class="link-man" href="../3/libnetpgp">libnetpgp(3)</a> library through the <b class="name">netpgp</b> interface, but have their own ways of retrieving and caching the passphrase for the secret key. In this case, the <b class="name">netpgp</b> utility will read a line of text from the file descriptor passed to it in the command line argument, rather than using its own methods of retrieving the passphrase from the user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;num-tries</b>=<i class="arg">attempts</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This option sets the maximum number of attempts to get the correct passphrase from the user. A value of <span class="define">unlimited</span> means that there is no maximum number of attempts, and the utility will loop endlessly until the correct passphrase has been entered, or the utility is terminated.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;from</b>=<i class="arg">signature-valid-from</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This option allows the signer to specify a time as the starting point for validity of the signature. In this way it is possible to prevent files from being verified until a specific point in time. The time can be specified either in <span class="define">YYYY-MM-DD</span> format, or as the number of seconds since the epoch.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;duration</b>=<i class="arg">signature-valid-to</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This option allows the signer to specify a time as the end point for validity of the signature. In this way it is possible to prevent files from being verified after a specific point in time. The time can be specified either in <span class="define">YYYY-MM-DD</span> format, or as the number of seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;verbose</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
This option can be used to view information during the process of the <b class="name">netpgp</b> requests.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;coredumps</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
in normal processing, if an error occurs, the contents of memory are saved to disk, and can be read using tools to analyse behaviour. Unfortunately this can disclose information to people viewing the core dump, such as secret keys, and passphrases protecting those keys. In normal operation, <b class="name">netpgp</b> will turn off the ability to save core dumps on persistent storage, but selecting this option will allow core dumps to be written to disk. This option should be used wisely, and any core dumps should be deleted in a secure manner when no longer needed.</dd>
</dl>
</div>
<div class="section">
<h1 id="x504153532050485241534553">PASS PHRASES</h1> At the present time, the pass phrase cannot be changed by <a class="link-man" href="../1/netpgpkeys">netpgpkeys(1)</a> once it has been chosen, and will be used for the life of the key, so a wise choice is advised. The pass phrase should not be an easily guessable word or phrase, or related to information that can be gained through &#8220;social engineering&#8221; using search engines, or other public information retrieval methods.<p>
<a class="link-man" href="../3/getpass">getpass(3)</a> will be used to obtain the pass phrase from the user if it is needed, such as during signing or encryption, or key generation, so that any secret information cannot be viewed by other users using the <a class="link-man" href="../1/ps">ps(1)</a> or <a class="link-man" href="../1/top">top(1)</a> commands, or by looking over the shoulder at the screen.<p>
Since the public and private key pair can be used to verify a person's identity, and since identity theft can have far-reaching consequences, users are strongly encouraged to enter their pass phrases only when prompted by the application.</div>
<div class="section">
<h1 id="x5349474e494e4720414e4420564552494649434154494f4e">SIGNING AND VERIFICATION</h1> Signing and verification of a file is best viewed using the following example:<p>
<pre style="margin-left: 0.00ex;" class="lit display">
% netpgp --sign --userid=agc@netbsd.org a 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
netpgp passphrase: 
% netpgp --verify a.gpg 
Good signature for a.gpg made Thu Jan 29 03:06:00 2009 
using RSA (Encrypt or Sign) key 1B68DCFCC0596823 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
%</pre>
<p>
In the example above, a signature is made on a single file called &#8220;<i class="file">a</i>&#8221; using a user identity corresponding to &#8220;agc@netbsd.org&#8221; The key located for the user identity is displayed, and the user is prompted to type in their passphrase. The resulting file, called &#8220;<i class="file">a.gpg</i>&#8221; is placed in the same directory. The second part of the example shows a verification of the signed file taking place. The time and user identity of the signatory is displayed, followed by a fuller description of the public key of the signatory. In both cases, the exit value from the utility was a successful one.<p>
If a detached signature of a file called &#8220;<i class="file">a</i>&#8221; is requested, the signature would be placed in a file called &#8220;<i class="file">a.sig</i>&#8221;.<p>
To encrypt a file, the user's public key is used. Subsequent decryption of the file requires that the secret key is known. When decrypting, the key is displayed, and the passphrase protecting the secret key must be typed in to access the data in the encrypted file.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
% netpgp --encrypt --userid=c0596823 a 
% netpgp --decrypt a.gpg 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
netpgp passphrase: 
%</pre>
<p>
If no file name is provided, the data will be read from standard input, and displayed on standard output:<p>
<pre style="margin-left: 0.00ex;" class="lit display">
% netpgp --encrypt &lt; a | netpgp --decrypt &gt; b 
netpgp: default key set to "C0596823" 
netpgp: default key set to "C0596823" 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
netpgp passphrase: 
%</pre>
<p>
This simple (and contrived) example shows that <b class="name">netpgp</b> commands can be used together in a pipeline to produce the desired effect.<p>
<pre style="margin-left: 0.00ex;" class="lit display">
% netpgp --sign &lt; a | netpgp --cat &gt; b 
netpgp: default key set to "C0596823" 
netpgp: default key set to "C0596823" 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
netpgp passphrase: 
Good signature for &lt;stdin&gt; made Mon Dec 21 18:25:02 2009 
using RSA (Encrypt or Sign) key 1b68dcfcc0596823 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
uid              Alistair Crooks (Yahoo!) &lt;agcrooks@yahoo-inc.com&gt; 
%</pre>
<p>
For operations like signing and encrypting a file at the same time, the best way is to make use of pipelines:<p>
<pre style="margin-left: 0.00ex;" class="lit display">
% netpgp --sign &lt; example | netpgp --encrypt --userid=c0596823 &gt; example.gpg 
netpgp: default key set to "C0596823" 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
uid              Alistair Crooks (Yahoo!) &lt;agcrooks@yahoo-inc.com&gt; 
netpgp passphrase: 
% netpgp --decrypt &lt; example.gpg | netpgp --cat 
netpgp: default key set to "C0596823" 
netpgp: default key set to "C0596823" 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
uid              Alistair Crooks (Yahoo!) &lt;agcrooks@yahoo-inc.com&gt; 
netpgp passphrase: 
Good signature for &lt;stdin&gt; made Mon Feb 22 07:21:19 2010 
using RSA (Encrypt or Sign) key 1b68dcfcc0596823 
pub 2048/RSA (Encrypt or Sign) 1b68dcfcc0596823 2004-01-12 
Key fingerprint: d415 9deb 336d e4cc cdfa 00cd 1b68 dcfc c059 6823 
uid              Alistair Crooks &lt;alistair@hockley-crooks.com&gt; 
uid              Alistair Crooks &lt;agc@pkgsrc.org&gt; 
uid              Alistair Crooks &lt;agc@netbsd.org&gt; 
uid              Alistair Crooks &lt;agc@alistaircrooks.com&gt; 
uid              Alistair Crooks (Yahoo!) &lt;agcrooks@yahoo-inc.com&gt; 
...contents of original file... 
%</pre>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="name">netpgp</b> utility will return 0 for success, 1 if the file's signature does not match what was expected, or 2 if any other error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/netpgpkeys">netpgpkeys(1)</a>, <a class="link-man" href="../1/ssh">ssh(1)</a>, <a class="link-man" href="../3/getpass">getpass(3)</a>, <a class="link-man" href="../3/libnetpgp">libnetpgp(3)</a>, <a class="link-man" href="../3/ssl">ssl(3)</a>, <a class="link-man" href="../3/zlib">zlib(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <span class="ref"><span class="ref-auth">J. Callas</span>, <span class="ref-auth">L. Donnerhacke</span>, <span class="ref-auth">H. Finney</span>, <span class="ref-auth">D. Shaw</span>, and <span class="ref-auth">R. Thayer</span>, <span class="ref-title">OpenPGP Message Format</span>, <span class="ref-rep">RFC 4880</span>, <span class="ref-date">November 2007</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">netpgp</b> command first appeared in <span class="unix">NetBSD&#160;6.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span><span class="author">Ben Laurie</span>, <span class="author">Rachel Willmer</span>, and overhauled and rewritten by <span class="author">Alistair Crooks</span> &#60;<a class="link-mail" href="mailto:agc@NetBSD.org">agc@NetBSD.org</a>&#62;. This manual page was also written by <span class="author">Alistair Crooks</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
February 16, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

