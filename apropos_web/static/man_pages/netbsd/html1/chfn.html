<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
CHPASS(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
CHPASS(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
CHPASS(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">chpass</b>, <b class="name">chfn</b>, <b class="name">chsh</b> &#8212; <span class="desc">add or change user database information</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
chpass</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">list</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">newshell</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;l</b></span>&#93; &#91;<span class="opt">user</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
chpass</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">list</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">newshell</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;y</b></span>&#93; &#91;<span class="opt">user</span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">chpass</b> allows editing of the user database information associated with <i class="arg">user</i> or, by default, the current user. The information is formatted and supplied to an editor for changes.<p>
Only the information that the user is allowed to change is displayed.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The super-user is allowed to directly supply a user database entry, in the format specified by <a class="link-man" href="../5/passwd">passwd(5)</a>, as an argument. This argument must be a colon (&#8220;:&#8221;) separated list of all the user database fields, although they may be empty.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="flag">&#45;s</b> option attempts to change the user's shell to <i class="arg">newshell</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This option causes the password to be updated only in the local password file. When changing only the local password, <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a> is used to update the password databases.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;y</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This forces the YP password database entry to be changed, even if the user has an entry in the local database. The <a class="link-man" href="../8/rpc.yppasswdd">rpc.yppasswdd(8)</a> daemon should be running on the YP master server.</dd>
</dl>
<p>
Possible display items are as follows:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
Login:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's login name</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Password:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's encrypted password</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Uid:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's login</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Gid:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's login group</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Change:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
password change time</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Expire:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
account expiration time</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Class:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's general classification</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Home Directory:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's home directory</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Shell:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's login shell</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Full Name:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's real name</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Location:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's normal location</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Home Phone:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's home phone</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
Office Phone:</dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
user's office phone</dd>
</dl>
<p>
The <i class="arg">login</i> field is the user name used to access the computer account.<p>
The <i class="arg">password</i> field contains the encrypted form of the user's password.<p>
The <i class="arg">uid</i> field is the number associated with the <i class="arg">login</i> field. Both of these fields should be unique across the system (and often across a group of systems) as they control file access.<p>
While it is possible to have multiple entries with identical login names and/or identical user id's, it is usually a mistake to do so. Routines that manipulate these files will often return only one of the multiple entries, and that one by random selection.<p>
The <i class="arg">group</i> field is the group that the user will be placed in at login. Since <span class="unix">BSD</span> supports multiple groups (see <a class="link-man" href="../1/groups">groups(1)</a>) this field currently has little special meaning. This field may be filled in with either a number or a group name (see <a class="link-man" href="../5/group">group(5)</a>).<p>
The <i class="arg">change</i> field is the date by which the password must be changed.<p>
The <i class="arg">expire</i> field is the date on which the account expires.<p>
Both the <i class="arg">change</i> and <i class="arg">expire</i> fields should be entered in the form &#8220;month day year&#8221; where <i class="arg">month</i> is the month name (the first three characters are sufficient), <i class="arg">day</i> is the day of the month, and <i class="arg">year</i> is the year.<p>
The <i class="arg">class</i> field is a key for a user's login class. Login classes are defined in <a class="link-man" href="../5/login.conf">login.conf(5)</a>, which is a <a class="link-man" href="../5/capfile">capfile(5)</a> style database of user attributes, accounting, resource and environment settings.<p>
The user's <i class="arg">home directory</i> is the full <span class="unix">UNIX</span> path name where the user will be placed at login.<p>
The <i class="arg">shell</i> field is the command interpreter the user prefers. If the <i class="arg">shell</i> field is empty, the Bourne shell, <i class="file">/bin/sh</i>, is assumed. When altering a login shell, and not the super-user, the user may not change from a non-standard shell or to a non-standard shell. Non-standard is defined as a shell not found in <i class="file">/etc/shells</i>.<p>
The last four fields are for storing the user's <i class="arg">full name</i>, <i class="arg">office location</i>, and <i class="arg">home</i> and <i class="arg">work telephone</i> numbers.<p>
Once the information has been verified, <b class="name">chpass</b> uses <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a> to update the user database.</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1> The <a class="link-man" href="../1/vi">vi(1)</a> editor will be used unless the environment variable <span class="env">EDITOR</span> is set to an alternative editor. When the editor terminates, the information is re-read and used to update the user database itself. Only the user, or the super-user, may edit the information associated with the user.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/master.passwd</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
The user database</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/passwd</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
A Version 7 format password file</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ptmp</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Lock file for the passwd database</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/tmp/pw.XXXXXX</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Temporary copy of the user passwd information</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/shells</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
The list of approved shells</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/finger">finger(1)</a>, <a class="link-man" href="../1/login">login(1)</a>, <a class="link-man" href="../1/passwd">passwd(1)</a>, <a class="link-man" href="../1/pwhash">pwhash(1)</a>, <a class="link-man" href="../3/getusershell">getusershell(3)</a>, <a class="link-man" href="../5/passwd">passwd(5)</a>, <a class="link-man" href="../5/passwd.conf">passwd.conf(5)</a>, <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a>, <a class="link-man" href="../8/vipw">vipw(8)</a><p>
<span class="ref"><span class="ref-auth">Robert Morris</span> and <span class="ref-auth">Ken Thompson</span>, <span class="ref-title">UNIX Password Security</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">chpass</b> command appeared in <span class="unix">4.3BSD-Reno</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> This program's interface is poorly suited to cryptographic systems such as Kerberos, and consequently Kerberos password changing is not a feature of this program.<p>
User information should (and eventually will) be stored elsewhere.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 5, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

