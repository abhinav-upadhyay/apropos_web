<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
BTKEY(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
BTKEY(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
BTKEY(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">btkey</b> &#8212; <span class="desc">Bluetooth Link Key management utility</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
btkey</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;CcRrWw</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">key</i></span>&#93; <b class="flag">&#45;a</b> <i class="arg">address</i> <b class="flag">&#45;d</b> <i class="arg">device</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
btkey</td>
<td>
<b class="flag">&#45;Ll</b> &#91;<span class="opt"><b class="flag">&#45;d</b> <i class="arg">device</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">btkey</b> program is used to manage Bluetooth Link Key storage. Keys are normally handled by the <a class="link-man" href="../8/bthcid">bthcid(8)</a> daemon which caches them in the <i class="file">/var/db/bthcid.keys</i> file and provides them as required when Bluetooth connections need to be authenticated.<p>
These keys are required for connections between remote devices and the specific controller (not the Operating System) and so for multi-boot systems where it may not always be possible to specify the same key across all OS's it can be better to have the Bluetooth controller provide the keys directly from its semi-permanent memory once devices are paired. <b class="name">btkey</b> will read, write or clear keys in device memory or the key cache as required.<p>
Note that without the <a class="link-man" href="../8/bthcid">bthcid(8)</a> daemon running users will be unable to supply PINs, and Link Keys resulting from new pairings will not be stored. If no new pairings are expected and the keys are stored in the controller then <a class="link-man" href="../8/bthcid">bthcid(8)</a> is not required.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b> <i class="arg">address</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Specify the remote device address. May be given as a BDADDR or a name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;C</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Clear key from device.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Clear key from file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b> <i class="arg">device</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Specify the local device address. May be given as a BDADDR or a name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b> <i class="arg">key</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Supply a Link Key as a string of hexadecimal digits. Up to 32 digits will be processed and the resulting key will be zero padded to 16 octets.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;L</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
List keys stored in device.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
List keys stored in file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Read key from device.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Read key from file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;W</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Write key to device.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;w</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Write key to file.</dd>
</dl>
<p>
Super-user privileges are required to read or write link keys.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-item">
<li class="list-item" style="margin-top: 0.00em;">
<i class="file">/var/db/bthcid.keys</i></li>
</ul>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">btkey</b> utility exits 0 on success, and &gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Read key for mouse at ubt0 from file and write to device<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">btkey -d ubt0 -a mouse -rW</code></div>
</blockquote>
<p>
Write new key for keyboard at ubt0 to file<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">btkey -d ubt0 -a keyboard -k 92beda6cd8b8f66ebd2af270d55d70ec -w</code></div>
</blockquote>
<p>
Clear key for phone at bt3c0 from file and device<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">btkey -d bt3c0 -a phone -cC</code></div>
</blockquote>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/btpin">btpin(1)</a>, <a class="link-man" href="../8/btconfig">btconfig(8)</a>, <a class="link-man" href="../8/bthcid">bthcid(8)</a></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Iain Hibbert</span></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 8, 2007</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

