<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
VMSTAT(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
VMSTAT(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
VMSTAT(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">vmstat</b> &#8212; <span class="desc">report virtual memory statistics</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
vmstat</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;CefHiLlmstUvW</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;c</b> <i class="arg">count</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;h</b> <i class="arg">hashname</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;M</b> <i class="arg">core</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;N</b> <i class="arg">system</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">histname</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;w</b> <i class="arg">wait</i></span>&#93; &#91;<span class="opt"><i class="arg">disks</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">vmstat</b> reports certain kernel statistics kept about process, virtual memory, disk, trap, and CPU activity.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;C</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Report on kernel memory caches. Combine with the <b class="flag">&#45;m</b> option to see information about memory pools that back the caches.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">count</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Repeat the display <i class="arg">count</i> times. The first display is for the time since a reboot and each subsequent report is for the time period since the last display. If no <i class="arg">wait</i> interval is specified, the default is 1 second.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Report the values of system event counters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Report fork statistics.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;H</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Report all hash table statistics.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;h</b> <i class="arg">hashname</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Report hash table statistics for <i class="arg">hashname</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Report the values of system interrupt counters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;L</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
List all the hashes supported for <b class="flag">&#45;h</b> and <b class="flag">&#45;H</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
List the UVM histories being maintained by the kernel.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;M</b> <i class="arg">core</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Extract values associated with the name list from the specified core instead of the default <i class="file">/dev/mem</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Report on the usage of kernel dynamic memory listed first by size of allocation and then by type of usage, followed by a list of the kernel memory pools and their usage.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;N</b> <i class="arg">system</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Extract the name list from the specified system instead of the default <i class="file">/netbsd</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Display the contents of the <span class="define">uvmexp</span> structure. This contains various paging event and memory status counters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Display the contents of the <span class="define">vmtotal</span> structure. This includes information about processes and virtual memory.<p>
The process part shows the number of processes in the following states:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
ru</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
on the run queue</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
dw</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
in disk I/O wait</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
pw</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
waiting for paging</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
sl</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
sleeping</dd>
</dl>
<p>
The virtual memory section shows:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
total-v</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Total virtual memory</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
active-v</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Active virtual memory in use</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
active-r</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Active real memory in use</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
vm-sh</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Shared virtual memory</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
avm-sh</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Active shared virtual memory</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
rm-sh</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Shared real memory</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
arm-sh</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Active shared real memory</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
free</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Free memory</dd>
</dl>
<p>
All memory values are shown in number of pages.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;U</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Dump all UVM histories.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">histname</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Dump the specified UVM history.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Print more verbose information. When used with the <b class="flag">&#45;i</b>, <b class="flag">&#45;e</b>, or <b class="flag">&#45;m</b> options prints out all counters, not just those with non-zero values.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;W</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Print more verbose information about kernel memory pools.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;w</b> <i class="arg">wait</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Pause <i class="arg">wait</i> seconds between each display. If no repeat <i class="arg">count</i> is specified, the default is infinity.</dd>
</dl>
<p>
By default, <b class="name">vmstat</b> displays the following information:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
procs</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Information about the numbers of processes in various states.<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
r</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
in run queue</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
b</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
blocked for resources (i/o, paging, etc.)</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
memory</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Information about the usage of virtual and real memory. Virtual pages (reported in units of 1024 bytes) are considered active if they belong to processes which are running or have run in the last 20 seconds.<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
avm</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
active virtual pages</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
fre</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
size of the free list</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
page</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Information about page faults and paging activity. These are averaged every five seconds, and given in units per second.<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
flt</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
total page faults</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
re</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
page reclaims (simulating reference bits)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
pi</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
pages paged in</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
po</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
pages paged out</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
fr</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
pages freed per second</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
sr</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
pages scanned by clock algorithm, per-second</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
disks</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Disk transfers per second. Typically paging will be split across the available drives. The header of the field is the first character of the disk name and the unit number. If more than four disk drives are configured in the system, <b class="name">vmstat</b> displays only the first four drives. To force <b class="name">vmstat</b> to display specific drives, their names may be supplied on the command line.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
faults</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Trap/interrupt rate averages per second over last 5 seconds.<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
in</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
device interrupts per interval (including clock interrupts)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
sy</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
system calls per interval</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
cs</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
CPU context switch rate (switches/interval)</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
cpu</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Breakdown of percentage usage of CPU time.<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
us</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
user time for normal and low priority processes</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
sy</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
system time</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
id</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
CPU idle</dd>
</dl>
</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/netbsd</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
default kernel namelist</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/dev/mem</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
default memory file</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The command &#8220;<code class="lit">vmstat -w 5</code>&#8221; will print what the system is doing every five seconds; this is a good choice of printing interval since this is how often some of the statistics are sampled in the system. Others vary every second and running the output for a while will make it apparent which are recomputed every second.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/fstat">fstat(1)</a>, <a class="link-man" href="../1/netstat">netstat(1)</a>, <a class="link-man" href="../1/nfsstat">nfsstat(1)</a>, <a class="link-man" href="../1/ps">ps(1)</a>, <a class="link-man" href="../1/systat">systat(1)</a>, <a class="link-man" href="../8/iostat">iostat(8)</a>, <a class="link-man" href="../8/pstat">pstat(8)</a><p>
The sections starting with &#8220;Interpreting system activity&#8221; in <span class="ref-title">Installing and Operating 4.3BSD.</span></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The <b class="flag">&#45;c</b> and <b class="flag">&#45;w</b> options are only available with the default output.<p>
The <b class="flag">&#45;l</b>, <b class="flag">&#45;U</b>, and <b class="flag">&#45;u</b> options are useful only if the system was compiled with support for UVM history.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 22, 2009</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

