<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
INSTALL(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
INSTALL(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
INSTALL(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">install</b> &#8212; <span class="desc">install binaries</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
install</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;bcprsU</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">command</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;B</b> <i class="arg">suffix</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;D</b> <i class="arg">destdir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;f</b> <i class="arg">flags</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">group</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;h</b> <i class="arg">hash</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;l</b> <i class="arg">linkflags</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;M</b> <i class="arg">metalog</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;N</b> <i class="arg">dbdir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">owner</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;S</b> <i class="arg">stripflag</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;T</b> <i class="arg">tags</i></span>&#93; <i class="arg">file1 file2</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
install</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;bcprsU</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">command</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;B</b> <i class="arg">suffix</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;D</b> <i class="arg">destdir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;f</b> <i class="arg">flags</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">group</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;h</b> <i class="arg">hash</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;l</b> <i class="arg">linkflags</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;M</b> <i class="arg">metalog</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;N</b> <i class="arg">dbdir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">owner</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;S</b> <i class="arg">stripflag</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;T</b> <i class="arg">tags</i></span>&#93; <i class="arg">file1 ...</i> <i class="arg">fileN directory</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
install</td>
<td>
<b class="flag">&#45;d</b> &#91;<span class="opt"><b class="flag">&#45;pU</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">command</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;D</b> <i class="arg">destdir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">group</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;M</b> <i class="arg">metalog</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;N</b> <i class="arg">dbdir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">owner</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;T</b> <i class="arg">tags</i></span>&#93; <i class="arg">directory ...</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The file(s) are copied (or linked if the <b class="flag">&#45;l</b> option is specified) to the target file or directory. If the destination is a directory, then the <i class="arg">file</i> is copied into <i class="arg">directory</i> with its original filename. If the target file already exists, it is either renamed to <i class="arg">file.old</i> if the <b class="flag">&#45;b</b> option is given or overwritten if permissions allow; an alternate backup suffix may be specified via the <b class="flag">&#45;B</b> option's argument.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b> <i class="arg">command</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Run <i class="arg">command</i> on the target after installation and stripping (<b class="flag">&#45;s</b>), but before ownership, permissions or timestamps are set and before renaming (<b class="flag">&#45;r</b>) occurs. <i class="arg">command</i> is invoked via the <a class="link-man" href="../html1/sh.html">sh(1)</a> shell, allowing a single <b class="flag">&#45;a</b> argument be to specified to <b class="name">install</b> which the shell can then tokenize.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;B</b> <i class="arg">suffix</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Use <i class="arg">suffix</i> as the backup suffix if <b class="flag">&#45;b</b> is given. If <i class="arg">suffix</i> contains a '%' sign, a numbered backup will be performed, and the %-pattern will be expanded using <a class="link-man" href="../html3/sprintf.html">sprintf(3)</a>, given an integer counter as the backup number. The counter used starts from 0, and the first available name resulting from the expansion is used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Backup any existing files before overwriting them by renaming them to <i class="arg">file.old</i>. <i class="arg">See</i> <b class="flag">&#45;B</b> for specifying a different backup suffix.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Copy the file. This is the default behavior; the flag is maintained for backwards compatibility only.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;D</b> <i class="arg">destdir</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Specify the <span class="env">DESTDIR</span> (top of the file hierarchy) that the items are installed in to. If <b class="flag">&#45;M</b> <i class="arg">metalog</i> is in use, a leading string of &#8220;<i class="arg">destdir</i>&#8221; will be removed from the file names logged to the <i class="arg">metalog</i>. This option does not affect where the actual files are installed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Create directories. Missing parent directories are created as required.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b> <i class="arg">flags</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Specify the target's file flags. (See <a class="link-man" href="../html1/chflags.html">chflags(1)</a> for a list of possible flags and their meanings.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">group</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Specify a group.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;h</b> <i class="arg">hash</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
When copying, calculate the digest of the files with <i class="arg">hash</i> to store in the <b class="flag">&#45;M</b> <i class="arg">metalog</i>. Supported digests:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">none</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
No hash. This is the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">md5</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The MD5 cryptographic message digest.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">rmd160</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The RMD-160 cryptographic message digest.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">sha1</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The SHA-1 cryptographic message digest.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">sha256</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The 256-bits SHA-2 cryptographic message digest of the file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">sha384</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The 384-bits SHA-2 cryptographic message digest of the file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">sha512</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The 512-bits SHA-2 cryptographic message digest of the file.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b> <i class="arg">linkflags</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Instead of copying the file make a link to the source. The type of the link is determined by the <i class="arg">linkflags</i> argument. Valid <i class="arg">linkflags</i> are: <i class="arg">a</i> (absolute), <i class="arg">r</i> (relative), <i class="arg">h</i> (hard), <i class="arg">s</i> (symbolic), <i class="arg">m</i> (mixed). Absolute and relative have effect only for symbolic links. Mixed links are hard links for files on the same filesystem, symbolic otherwise.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;M</b> <i class="arg">metalog</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Write the metadata associated with each item installed to <i class="arg">metalog</i> in an <a class="link-man" href="../html8/mtree.html">mtree(8)</a> &#8220;full path&#8221; specification line. The metadata includes: the file name and file type, and depending upon other options, the owner, group, file flags, modification time, and tags.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b> <i class="arg">mode</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Specify an alternative mode. The default mode is set to rwxr-xr-x (0755). The specified mode may be either an octal or symbolic value; see <a class="link-man" href="../html1/chmod.html">chmod(1)</a> for a description of possible mode values.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;N</b> <i class="arg">dbdir</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Use the user database text file <i class="file">master.passwd</i> and group database text file <i class="file">group</i> from <i class="arg">dbdir</i>, rather than using the results from the system's <a class="link-man" href="../html3/getpwnam.html">getpwnam(3)</a> and <a class="link-man" href="../html3/getgrnam.html">getgrnam(3)</a> (and related) library calls.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b> <i class="arg">owner</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Specify an owner.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Preserve the source files access and modification times.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Install to a temporary file and then rename the file to its final destination name. This can be used for precious files, to avoid truncation of the original when error conditions (filesystem full etc.) occur.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b> <i class="arg">stripflags</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<b class="name">install</b> passes <i class="arg">stripflags</i> as option arguments to <a class="link-man" href="../html1/strip.html">strip(1)</a>. When <b class="flag">&#45;S</b> is used, <a class="link-man" href="../html1/strip.html">strip(1)</a> is invoked via the <a class="link-man" href="../html1/sh.html">sh(1)</a> shell, allowing a single <b class="flag">&#45;S</b> argument be to specified to <b class="name">install</b> which the shell can then tokenize. Normally, <b class="name">install</b> invokes <a class="link-man" href="../html1/strip.html">strip(1)</a> directly. This flag implies <b class="flag">&#45;s</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<b class="name">install</b> exec's the command <a class="link-man" href="../html1/strip.html">strip(1)</a> to strip binaries so that install can be portable over a large number of systems and binary types. If the environment variable <span class="env">STRIP</span> is set, it is used as the <a class="link-man" href="../html1/strip.html">strip(1)</a> program.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;T</b> <i class="arg">tags</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Specify the <a class="link-man" href="../html8/mtree.html">mtree(8)</a> tags to write out for the file when using <b class="flag">&#45;M</b> <i class="arg">metalog</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;U</b></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
Indicate that install is running unprivileged, and that it should not try to change the owner, the group, or the file flags of the destination. The information that would have been updated can be stored in a log file with <b class="flag">&#45;M</b> <i class="arg">metalog</i>.</dd>
</dl>
<p>
By default, <b class="name">install</b> preserves all file flags, with the exception of the ``nodump'' flag.<p>
The <b class="name">install</b> utility attempts to prevent copying a file onto itself.<p>
Installing <i class="file">/dev/null</i> creates an empty file.</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">STRIP</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The program used to strip installed binaries when the <b class="flag">&#45;s</b> option is used. If unspecified, <i class="file">/usr/bin/strip</i> is used.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">install</b> utility exits 0 on success, and &gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/chflags.html">chflags(1)</a>, <a class="link-man" href="../html1/chgrp.html">chgrp(1)</a>, <a class="link-man" href="../html1/chmod.html">chmod(1)</a>, <a class="link-man" href="../html1/cp.html">cp(1)</a>, <a class="link-man" href="../html1/mv.html">mv(1)</a>, <a class="link-man" href="../html1/strip.html">strip(1)</a>, <a class="link-man" href="../html8/chown.html">chown(8)</a>, <a class="link-man" href="../html8/mtree.html">mtree(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">install</b> utility appeared in <span class="unix">4.2BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 1, 2009</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

