<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
RM(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RM(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
RM(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rm</b> &#8212; <span class="desc">remove directory entries</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 2.00ex;">
<col>
<tbody>
<tr>
<td>
rm</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;f</b> | <b class="flag">&#45;i</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;dPRrvWx</b></span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">rm</b> utility attempts to remove the non-directory type files specified on the command line. If the permissions of the file do not permit writing, and the standard input device is a terminal, the user is prompted (on the standard error output) for confirmation.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Attempt to remove directories as well as other types of files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Attempt to remove the files without prompting for confirmation, regardless of the file's permissions. If the file does not exist, do not display a diagnostic message or modify the exit status to reflect an error. The <b class="flag">&#45;f</b> option overrides any previous <b class="flag">&#45;i</b> options.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Request confirmation before attempting to remove each file, regardless of the file's permissions, or whether or not the standard input device is a terminal. The <b class="flag">&#45;i</b> option overrides any previous <b class="flag">&#45;f</b> options.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;P</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Overwrite regular files before deleting them. Files are overwritten three times, first with the byte pattern 0xff, then 0x00, and then with random data, before they are deleted. Some care is taken to ensure that the data are actually written to disk, but this cannot be guaranteed, even on traditional filesystems; on log-structured filesystems or if any block-journaling scheme is in use, this option is completely useless. If the file cannot be overwritten, it will not be removed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Attempt to remove the file hierarchy rooted in each file argument. The <b class="flag">&#45;R</b> option implies the <b class="flag">&#45;d</b> option. If the <b class="flag">&#45;i</b> option is specified, the user is prompted for confirmation before each directory's contents are processed (as well as before the attempt is made to remove the directory). If the user does not respond affirmatively, the file hierarchy rooted in that directory is skipped.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">&#45;R</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Cause <b class="name">rm</b> to be verbose, showing files as they are processed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;W</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Attempts to undelete the named files. Currently, this option can only be used to recover files covered by whiteouts.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;x</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
When removing a hierarchy, do not cross mount points.</dd>
</dl>
<p>
The <b class="name">rm</b> utility removes symbolic links, not the files referenced by the links.<p>
It is an error to attempt to remove the files ``.'' and ``..''.</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="name">rm</b> utility exits 0 if all of the named files or file hierarchies were removed, or if the <b class="flag">&#45;f</b> option was specified and all of the existing files or file hierarchies were removed. If an error occurs, <b class="name">rm</b> exits with a value &gt;0.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> <b class="name">rm</b> uses <a class="link-man" href="../3/getopt">getopt(3)</a> standard argument processing. Removing filenames that begin with a dash (e.g., <i class="arg">-file</i>) in the current directory which might otherwise be taken as option flags to <b class="name">rm</b> can be accomplished as follows:<p>
<b class="cmd">rm -- -file</b><p>
or<p>
<b class="cmd">rm ./-file</b></div>
<div class="section">
<h1 id="x434f4d5041544942494c495459">COMPATIBILITY</h1> The <b class="name">rm</b> utility differs from historical implementations in that the <b class="flag">&#45;f</b> option only masks attempts to remove non-existent files instead of masking a large variety of errors.<p>
Also, historical <span class="unix">BSD</span> implementations prompted on the standard output, not the standard error output.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/rmdir">rmdir(1)</a>, <a class="link-man" href="../2/undelete">undelete(2)</a>, <a class="link-man" href="../2/unlink">unlink(2)</a>, <a class="link-man" href="../3/fts">fts(3)</a>, <a class="link-man" href="../3/getopt">getopt(3)</a>, <a class="link-man" href="../7/symlink">symlink(7)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="name">rm</b> utility is expected to be IEEE Std 1003.2 (&#8220;POSIX.2&#8221;) compatible. The <b class="flag">&#45;v</b> and <b class="flag">&#45;x</b> options are extensions.<p>
The <b class="flag">&#45;P</b> option attempts to conform to U.S. DoD 5220-22.M, "National Industrial Security Program Operating Manual" ("NISPOM") as updated by Change 2 and the July 23, 2003 "Clearing &amp; Sanitization Matrix". However, unlike earlier revisions of NISPOM, the 2003 matrix imposes requirements which make it clear that the standard does not and can not apply to the erasure of individual files, in particular requirements relating to spare sector management for an entire magnetic disk. <span class="emph">Because these requirements are not met, the</span> <b class="flag">&#45;P</b> <span class="emph">option does not conform to the standard</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The <b class="flag">&#45;P</b> option assumes that the underlying file system is a fixed-block file system. FFS is a fixed-block file system, LFS is not. In addition, only regular files are overwritten, other types of files are not. Recent research indicates that as many as 35 overwrite passes with carefully chosen data patterns may be necessary to actually prevent recovery of data from a magnetic disk. Thus the <b class="flag">&#45;P</b> option is likely both insufficient for its design purpose and far too costly for default operation. However, it will at least prevent the recovery of data from FFS volumes with <a class="link-man" href="../8/fsdb">fsdb(8)</a>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 26, 2013</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

