<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RCSCLEAN(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RCSCLEAN(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
RCSCLEAN(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> rcsclean &#45; clean up working files</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>rcsclean</b> [<i>options</i>] [ <i>file</i> ... ]</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>rcsclean</b> removes files that are not being worked on. <b>rcsclean &#45;u</b> also unlocks and removes files that are being worked on but have not changed.<p>
For each <i>file</i> given, <b>rcsclean</b> compares the working file and a revision in the corresponding RCS file.  If it finds a difference, it does nothing. Otherwise, it first unlocks the revision if the <b>&#45;u</b> option is given, and then removes the working file unless the working file is writable and the revision is locked. It logs its actions by outputting the corresponding <b>rcs &#45;u</b> and <b>rm &#45;f</b> commands on the standard output.<p>
Files are paired as explained in <b>ci</b>(1). If no <i>file</i> is given, all working files in the current directory are cleaned. Pathnames matching an RCS suffix denote RCS files; all others denote working files.<p>
The number of the revision to which the working file is compared may be attached to any of the options <b>&#45;n</b>, <b>&#45;q</b>, <b>&#45;r</b>, or <b>&#45;u</b>. If no revision number is specified, then if the <b>&#45;u</b> option is given and the caller has one revision locked, <b>rcsclean</b> uses that revision; otherwise <b>rcsclean</b> uses the latest revision on the default branch, normally the root.<p>
<b>rcsclean</b> is useful for <b>clean</b> targets in makefiles. See also <b>rcsdiff</b>(1), which prints out the differences, and <b>ci</b>(1), which normally reverts to the previous revision if a file was not changed.</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>&#45;k</b><i>subst</i></dt>
<dd>
Use <i>subst</i> style keyword substitution when retrieving the revision for comparison. See <b>co</b>(1) for details.</dd>
</dl>
<dl>
<dt>
<b>&#45;n</b>[<i>rev</i>]</dt>
<dd>
Do not actually remove any files or unlock any revisions. Using this option will tell you what <b>rcsclean</b> would do without actually doing it.</dd>
</dl>
<dl>
<dt>
<b>&#45;q</b>[<i>rev</i>]</dt>
<dd>
Do not log the actions taken on standard output.</dd>
</dl>
<dl>
<dt>
<b>&#45;r</b>[<i>rev</i>]</dt>
<dd>
This option has no effect other than specifying the revision for comparison.</dd>
</dl>
<dl>
<dt>
<b>&#45;T</b></dt>
<dd>
Preserve the modification time on the RCS file even if the RCS file changes because a lock is removed. This option can suppress extensive recompilation caused by a <b>make</b>(1) dependency of some other copy of the working file on the RCS file. Use this option with care; it can suppress recompilation even when it is needed, i.e. when the lock removal would mean a change to keyword strings in the other working file.</dd>
</dl>
<dl>
<dt>
<b>&#45;u</b>[<i>rev</i>]</dt>
<dd>
Unlock the revision if it is locked and no difference is found.</dd>
</dl>
<dl>
<dt>
<b>&#45;V</b></dt>
<dd>
Print RCS's version number.</dd>
</dl>
<dl>
<dt>
<b>&#45;V</b><i>n</i></dt>
<dd>
Emulate RCS version <i>n</i>. See <b>co</b>(1) for details.</dd>
</dl>
<dl>
<dt>
<b>&#45;x</b><i>suffixes</i></dt>
<dd>
Use <i>suffixes</i> to characterize RCS files. See <b>ci</b>(1) for details.</dd>
</dl>
<dl>
<dt>
<b>&#45;z</b><i>zone</i></dt>
<dd>
Use <i>zone</i> as the time zone for keyword substitution; see <b>co</b>(1) for details.</dd>
</dl>
</div>
<div class="section">
<h1>EXAMPLES</h1><div style="margin-left: 5.00ex;">
rcsclean  *.c  *.h</div>
<p>
removes all working files ending in <b>.c</b> or <b>.h</b> that were not changed since their checkout.<p>
<div style="margin-left: 5.00ex;">
rcsclean</div>
<p>
removes all working files in the current directory that were not changed since their checkout.</div>
<div class="section">
<h1>FILES</h1> <b>rcsclean</b> accesses files much as <b>ci</b>(1) does.</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>RCSINIT</b></dt>
<dd>
options prepended to the argument list, separated by spaces. A backslash escapes spaces within an option. The <b>RCSINIT</b> options are prepended to the argument lists of most RCS commands. Useful <b>RCSINIT</b> options include <b>&#45;q</b>, <b>&#45;V</b>, <b>&#45;x</b>, and <b>&#45;z</b>.</dd>
</dl>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1> The exit status is zero if and only if all operations were successful. Missing working files and RCS files are silently ignored.</div>
<div class="section">
<h1>IDENTIFICATION</h1> Author: Walter F. Tichy.<div style="height: 0.00em;">
&#160;</div>
Manual Page Revision: ; Release Date: .<div style="height: 0.00em;">
&#160;</div>
Copyright &#169; 1982, 1988, 1989 Walter F. Tichy.<div style="height: 0.00em;">
&#160;</div>
Copyright &#169; 1990, 1991, 1992, 1993 Paul Eggert.</div>
<div class="section">
<h1>SEE ALSO</h1> ci(1), co(1), ident(1), rcs(1), rcsdiff(1), rcsintro(1), rcsmerge(1), rlog(1), rcsfile(5)<div style="height: 0.00em;">
&#160;</div>
Walter F. Tichy, RCS--A System for Version Control, <i>Software--Practice &amp; Experience</i> <b>15</b>, 7 (July 1985), 637-654.</div>
<div class="section">
<h1>BUGS</h1> At least one <i>file</i> must be given in older Unix versions that do not provide the needed directory scanning operations.<div style="height: 0.00em;">
&#160;</div>
</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
GNU</td>
<td class="foot-os" align="right">
</td>
</tr>
</table>
</div>
</body>
<>

