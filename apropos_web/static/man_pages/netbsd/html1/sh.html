<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
SH(1)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SH(1)</td>
<td class="head-vol" align="center">
General Commands Manual</td>
<td class="head-rtitle" align="right">
SH(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sh</b> &#8212; <span class="desc">command interpreter (shell)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 2.00ex;">
<col>
<tbody>
<tr>
<td>
sh</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;aCefnuvxIimqVEb</b></span>&#93; &#91;<span class="opt"><b class="flag">+aCefnuvxIimqVEb</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b>&#160;<i class="arg">option_name</i></span>&#93; &#91;<span class="opt"><b class="flag">+o</b>&#160;<i class="arg">option_name</i></span>&#93; &#91;<span class="opt"><i class="arg">command_file</i>&#160;&#91;<span class="opt"><i class="arg">argument&#160;...</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 2.00ex;">
<col>
<tbody>
<tr>
<td>
sh</td>
<td>
<b class="flag">&#45;c</b> &#91;<span class="opt"><b class="flag">&#45;abCEefnuvxIimpqV</b></span>&#93; &#91;<span class="opt"><b class="flag">+abCEefnuvxIimpqV</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b>&#160;<i class="arg">option_name</i></span>&#93; &#91;<span class="opt"><b class="flag">+o</b>&#160;<i class="arg">option_name</i></span>&#93; <i class="arg">command_string</i> &#91;<span class="opt"><i class="arg">command_name</i>&#160;&#91;<span class="opt"><i class="arg">argument&#160;...</i></span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 2.00ex;">
<col>
<tbody>
<tr>
<td>
sh</td>
<td>
<b class="flag">&#45;s</b> &#91;<span class="opt"><b class="flag">&#45;abCEefnuvxIimpqV</b></span>&#93; &#91;<span class="opt"><b class="flag">+abCEefnuvxIimpqV</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b>&#160;<i class="arg">option_name</i></span>&#93; &#91;<span class="opt"><b class="flag">+o</b>&#160;<i class="arg">option_name</i></span>&#93; &#91;<span class="opt"><i class="arg">argument&#160;...</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">sh</b> is the standard command interpreter for the system. The current version of <b class="name">sh</b> is in the process of being changed to conform with the POSIX 1003.2 and 1003.2a specifications for the shell. This version has many features which make it appear similar in some respects to the Korn shell, but it is not a Korn shell clone (see <a class="link-man" href="../html1/ksh.html">ksh(1)</a>). Only features designated by POSIX, plus a few Berkeley extensions, are being incorporated into this shell. This man page is not intended to be a tutorial or a complete specification of the shell.<div class="subsection">
<h2 id="x4f76657276696577">Overview</h2> The shell is a command that reads lines from either a file or the terminal, interprets them, and generally executes other commands. It is the program that is running when a user logs into the system (although a user can select a different shell with the <a class="link-man" href="../html1/chsh.html">chsh(1)</a> command). The shell implements a language that has flow control constructs, a macro facility that provides a variety of features in addition to data storage, along with built in history and line editing capabilities. It incorporates many features to aid interactive use and has the advantage that the interpretative language is common to both interactive and non-interactive use (shell scripts). That is, commands can be typed directly to the running shell or can be put into a file and the file can be executed directly by the shell.</div>
<div class="subsection">
<h2 id="x496e766f636174696f6e">Invocation</h2> If no arguments are present and if the standard input of the shell is connected to a terminal (or if the <b class="flag">&#45;i</b> flag is set), and the <b class="flag">&#45;c</b> option is not present, the shell is considered an interactive shell. An interactive shell generally prompts before each command and handles programming and command errors differently (as described below). When first starting, the shell inspects argument 0, and if it begins with a dash &#8216;-&#8217;, the shell is also considered a login shell. This is normally done automatically by the system when the user first logs in. A login shell first reads commands from the files <i class="file">/etc/profile</i> and <i class="file">.profile</i> if they exist. If the environment variable <span class="env">ENV</span> is set on entry to a shell, or is set in the <i class="file">.profile</i> of a login shell, the shell next reads commands from the file named in <span class="env">ENV</span>. Therefore, a user should place commands that are to be executed only at login time in the <i class="file">.profile</i> file, and commands that are executed for every shell inside the <span class="env">ENV</span> file. To set the <span class="env">ENV</span> variable to some file, place the following line in your <i class="file">.profile</i> of your home directory<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">ENV=$HOME/.shinit; export ENV</code></div>
</blockquote>
<p>
substituting for &#8220;.shinit&#8221; any filename you wish. Since the <span class="env">ENV</span> file is read for every invocation of the shell, including shell scripts and non-interactive shells, the following paradigm is useful for restricting commands in the <span class="env">ENV</span> file to interactive invocations. Place commands within the &#8220;case&#8221; and &#8220;esac&#8221; below (these commands are described later):<p>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-item">
<li class="list-item" style="margin-top: 0.00em;">
<code class="lit">case $- in *i*)</code><ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-item">
<li class="list-item" style="margin-top: 0.00em;">
<code class="lit"># commands for interactive use only</code></li>
<li class="list-item" style="margin-top: 0.00em;">
<code class="lit">...</code></li>
</ul>
</li>
<li class="list-item" style="margin-top: 0.00em;">
<code class="lit">esac</code></li>
</ul>
<p>
If command line arguments besides the options have been specified, then the shell treats the first argument as the name of a file from which to read commands (a shell script), and the remaining arguments are set as the positional parameters of the shell ($1, $2, etc). Otherwise, the shell reads commands from its standard input.</div>
<div class="subsection">
<h2 id="x417267756d656e74204c6973742050726f63657373696e67">Argument List Processing</h2> All of the single letter options have a corresponding name that can be used as an argument to the <b class="flag">&#45;o</b> option. The set <b class="flag">&#45;o</b> name is provided next to the single letter option in the description below. Specifying a dash &#8220;-&#8221; turns the option on, while using a plus &#8220;+&#8221; disables the option. The following options can be set from the command line or with the <b class="cmd">set</b> built-in (described later).<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b> <span class="emph">allexport</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Export all variables assigned to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Read commands from the <i class="arg">command_string</i> operand instead of from the standard input. Special parameter 0 will be set from the <i class="arg">command_name</i> operand and the positional parameters ($1, $2, etc.) set from the remaining argument operands.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;C</b> <span class="emph">noclobber</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Don't overwrite existing files with &#8220;&gt;&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b> <span class="emph">errexit</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
If not interactive, exit immediately if any untested command fails. The exit status of a command is considered to be explicitly tested if the command is used to control an <b class="cmd">if</b>, <b class="cmd">elif</b>, <b class="cmd">while</b>, or <b class="cmd">until</b>, or if the command is the left hand operand of an &#8220;&amp;&amp;&#8221; or &#8220;||&#8221; operator.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b> <span class="emph">noglob</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Disable pathname expansion.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b> <span class="emph">noexec</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
If not interactive, read commands but do not execute them. This is useful for checking the syntax of shell scripts.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <span class="emph">nounset</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Write a message to standard error when attempting to expand a variable that is not set, and if the shell is not interactive, exit immediately.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b> <span class="emph">verbose</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
The shell writes its input to standard error as it is read. Useful for debugging.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;x</b> <span class="emph">xtrace</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Write each command to standard error (preceded by a &#8216;+&#160;&#8217;) before it is executed. Useful for debugging.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;q</b> <span class="emph">quietprofile</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
If the <b class="flag">&#45;v</b> or <b class="flag">&#45;x</b> options have been set, do not apply them when reading initialization files, these being <i class="file">/etc/profile</i>, <i class="file">.profile</i>, and the file specified by the <span class="env">ENV</span> environment variable.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;I</b> <span class="emph">ignoreeof</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Ignore EOFs from input when interactive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b> <span class="emph">interactive</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Force the shell to behave interactively.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b> <span class="emph">monitor</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Turn on job control (set automatically when interactive).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <span class="emph">stdin</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Read commands from standard input (set automatically if no file arguments are present). This option has no effect when set after the shell has already started running (i.e. with <b class="cmd">set</b>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;V</b> <span class="emph">vi</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Enable the built-in <a class="link-man" href="../html1/vi.html">vi(1)</a> command line editor (disables <b class="flag">&#45;E</b> if it has been set). (See the <i class="link-sec"><a class="link-sec" href="#x436f6d6d616e64204c696e652045646974696e67">Command Line Editing</a></i> section below.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;E</b> <span class="emph">emacs</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Enable the built-in emacs style command line editor (disables <b class="flag">&#45;V</b> if it has been set). (See the <i class="link-sec"><a class="link-sec" href="#x436f6d6d616e64204c696e652045646974696e67">Command Line Editing</a></i> section below.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b> <span class="emph">notify</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Enable asynchronous notification of background job completion. (Not implemented.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <span class="emph">nopriv</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Do not attempt to reset effective uid if it does not match uid. This is not set by default to help avoid incorrect usage by setuid root programs via <a class="link-man" href="../html3/system.html">system(3)</a> or <a class="link-man" href="../html3/popen.html">popen(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#160;&#160; <span class="emph">cdprint</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Make an interactive shell always print the new directory name when changed by the <b class="cmd">cd</b> command.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#160;&#160; <span class="emph">tabcomplete</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Enables filename completion in the command line editor. Typing a tab character will extend the current input word to match a filename. If more than one filename matches it is only extended to be the common prefix. Typing a second tab character will list all the matching names. One of the editing modes, either <b class="flag">&#45;E</b> or <b class="flag">&#45;V</b>, must be enabled for this to work.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x4c65786963616c20537472756374757265">Lexical Structure</h2> The shell reads input in terms of lines from a file and breaks it up into words at whitespace (blanks and tabs), and at certain sequences of characters that are special to the shell called &#8220;operators&#8221;. There are two types of operators: control operators and redirection operators (their meaning is discussed later). Following is a list of operators:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-ohang">
<dt class="list-ohang" style="margin-top: 1.00em;">
Control operators:</dt>
<dd class="list-ohang">
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&amp; &amp;&amp; ( ) ; ;; | || &lt;newline&gt;</code></div>
</blockquote>
</dd>
<dt class="list-ohang" style="margin-top: 1.00em;">
Redirection operators:</dt>
<dd class="list-ohang">
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&lt; &gt; &gt;| &lt;&lt; &gt;&gt; &lt;&amp; &gt;&amp; &lt;&lt;- &lt;&gt;</code></div>
</blockquote>
</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x51756f74696e67">Quoting</h2> Quoting is used to remove the special meaning of certain characters or words to the shell, such as operators, whitespace, or keywords. There are three types of quoting: matched single quotes, matched double quotes, and backslash.</div>
<div class="subsection">
<h2 id="x4261636b736c617368">Backslash</h2> A backslash preserves the literal meaning of the following character, with the exception of &#60;newline&#62;. A backslash preceding a &#60;newline&#62; is treated as a line continuation.</div>
<div class="subsection">
<h2 id="x53696e676c652051756f746573">Single Quotes</h2> Enclosing characters in single quotes preserves the literal meaning of all the characters (except single quotes, making it impossible to put single quotes in a single-quoted string).</div>
<div class="subsection">
<h2 id="x446f75626c652051756f746573">Double Quotes</h2> Enclosing characters within double quotes preserves the literal meaning of all characters except dollar sign ($), backquote (`), and backslash (&#92;). The backslash inside double quotes is historically weird, and serves to quote only the following characters:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ ` &#34; &#92; &lt;newline&gt;.</code></div>
</blockquote>
Otherwise it remains literal.</div>
<div class="subsection">
<h2 id="x526573657276656420576f726473">Reserved Words</h2> Reserved words are words that have special meaning to the shell and are recognized at the beginning of a line and after a control operator. The following are reserved words:<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-col">
<col style="width: 5.00ex;">
<col style="width: 5.00ex;">
<col style="width: 5.00ex;">
<col style="width: 5.00ex;">
<col style="min-width: 5.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
!</td>
<td class="list-col" style="margin-top: 1.00em;">
elif</td>
<td class="list-col" style="margin-top: 1.00em;">
fi</td>
<td class="list-col" style="margin-top: 1.00em;">
while</td>
<td class="list-col" style="margin-top: 1.00em;">
case</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
else</td>
<td class="list-col" style="margin-top: 1.00em;">
for</td>
<td class="list-col" style="margin-top: 1.00em;">
then</td>
<td class="list-col" style="margin-top: 1.00em;">
{</td>
<td class="list-col" style="margin-top: 1.00em;">
}</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
do</td>
<td class="list-col" style="margin-top: 1.00em;">
done</td>
<td class="list-col" style="margin-top: 1.00em;">
until</td>
<td class="list-col" style="margin-top: 1.00em;">
if</td>
<td class="list-col" style="margin-top: 1.00em;">
esac</td>
</tr>
</tbody>
</table>
<p>
Their meaning is discussed later.</div>
<div class="subsection">
<h2 id="x416c6961736573">Aliases</h2> An alias is a name and corresponding value set using the <b class="cmd">alias</b> built-in command. Whenever a reserved word may occur (see above), and after checking for reserved words, the shell checks the word to see if it matches an alias. If it does, it replaces it in the input stream with its value. For example, if there is an alias called &#8220;lf&#8221; with the value &#8220;ls -F&#8221;, then the input:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">lf foobar &#60;return&#62;</code></div>
</blockquote>
<p>
would become<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">ls -F foobar &#60;return&#62;</code></div>
</blockquote>
<p>
Aliases provide a convenient way for naive users to create shorthands for commands without having to learn how to create functions with arguments. They can also be used to create lexically obscure code. This use is discouraged.</div>
<div class="subsection">
<h2 id="x436f6d6d616e6473">Commands</h2> The shell interprets the words it reads according to a language, the specification of which is outside the scope of this man page (refer to the BNF in the POSIX 1003.2 document). Essentially though, a line is read and if the first word of the line (or after a control operator) is not a reserved word, then the shell has recognized a simple command. Otherwise, a complex command or some other special construct may have been recognized.</div>
<div class="subsection">
<h2 id="x53696d706c6520436f6d6d616e6473">Simple Commands</h2> If a simple command has been recognized, the shell performs the following actions:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
Leading words of the form &#8220;name=value&#8221; are stripped off and assigned to the environment of the simple command. Redirection operators and their arguments (as described below) are stripped off and saved for processing.</li>
<li class="list-enum" style="margin-top: 1.00em;">
The remaining words are expanded as described in the <i class="link-sec"><a class="link-sec" href="#x576f726420457870616e73696f6e73">Word Expansions</a></i> section below, and the first remaining word is considered the command name and the command is located. The remaining words are considered the arguments of the command. If no command name resulted, then the &#8220;name=value&#8221; variable assignments recognized in item 1 affect the current shell.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Redirections are performed as described in the next section.</li>
</ol>
</div>
<div class="subsection">
<h2 id="x5265646972656374696f6e73">Redirections</h2> Redirections are used to change where a command reads its input or sends its output. In general, redirections open, close, or duplicate an existing reference to a file. The overall format used for redirection is:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">[n] <b class="var">redir-op</b> <i class="arg">file</i></code></div>
</blockquote>
<p>
where <b class="var">redir-op</b> is one of the redirection operators mentioned previously. Following is a list of the possible redirections. The &#91;n&#93; is an optional number, as in &#8216;3&#8217; (not &#8216;&#91;3&#93;&#8217;), that refers to a file descriptor.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[n]&gt; file</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Redirect standard output (or n) to file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[n]&gt;| file</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Same, but override the <b class="flag">&#45;C</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[n]&gt;&gt; file</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Append standard output (or n) to file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[n]&lt; file</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Redirect standard input (or n) from file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[n1]&lt;&amp;n2</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Duplicate standard input (or n1) from file descriptor n2.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[n]&lt;&amp;-</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Close standard input (or n).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[n1]&gt;&amp;n2</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Duplicate standard output (or n1) to n2.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[n]&gt;&amp;-</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Close standard output (or n).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[n]&lt;&gt; file</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Open file for reading and writing on standard input (or n).</dd>
</dl>
<p>
The following redirection is often called a &#8220;here-document&#8221;.<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-item">
<li class="list-item" style="margin-top: 1.00em;">
<code class="lit">[n]&lt;&lt; delimiter</code><blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">here-doc-text ...</code></div>
</blockquote>
<code class="lit">delimiter</code></li>
</ul>
<p>
All the text on successive lines up to the delimiter, or to an EOF, is saved away and made available to the command on standard input, or file descriptor n if it is specified. If the delimiter as specified on the initial line is quoted, then the here-doc-text is treated literally; otherwise, the text is subjected to parameter expansion, command substitution, and arithmetic expansion as described in the <i class="link-sec"><a class="link-sec" href="#x576f726420457870616e73696f6e73">Word Expansions</a></i> section below. If the operator is &#8220;&lt;&lt;-&#8221; instead of &#8220;&lt;&lt;&#8221;, then leading tabs in the here-doc-text are stripped.</div>
<div class="subsection">
<h2 id="x53656172636820616e6420457865637574696f6e">Search and Execution</h2> There are three types of commands: shell functions, built-in commands, and normal programs -- and the command is searched for (by name) in that order. They each are executed in a different way.<p>
When a shell function is executed, all of the shell positional parameters (except $0, which remains unchanged) are set to the arguments of the shell function. The variables which are explicitly placed in the environment of the command (by placing assignments to them before the function name) are made local to the function and are set to the values given. Then the command given in the function definition is executed. The positional parameters are restored to their original values when the command completes. This all occurs within the current shell.<p>
Shell built-ins are executed internally to the shell, without spawning a new process.<p>
Otherwise, if the command name doesn't match a function or built-in, the command is searched for as a normal program in the file system (as described in the next section). When a normal program is executed, the shell runs the program, passing the arguments and the environment to the program. If the program is not a normal executable file (i.e., if it does not begin with the "magic number" whose ASCII representation is "#!", so <a class="link-man" href="../html2/execve.html">execve(2)</a> returns <span class="errno">ENOEXEC</span> then) the shell will interpret the program in a subshell. The child shell will reinitialize itself in this case, so that the effect will be as if a new shell had been invoked to handle the ad-hoc shell script, except that the location of hashed commands located in the parent shell will be remembered by the child.<p>
Note that previous versions of this document and the source code itself misleadingly and sporadically refer to a shell script without a magic number as a "shell procedure".</div>
<div class="subsection">
<h2 id="x5061746820536561726368">Path Search</h2> When locating a command, the shell first looks to see if it has a shell function by that name. Then it looks for a built-in command by that name. If a built-in command is not found, one of two things happen:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
Command names containing a slash are simply executed without performing any searches.</li>
<li class="list-enum" style="margin-top: 1.00em;">
The shell searches each entry in <span class="env">PATH</span> in turn for the command. The value of the <span class="env">PATH</span> variable should be a series of entries separated by colons. Each entry consists of a directory name. The current directory may be indicated implicitly by an empty directory name, or explicitly by a single period.</li>
</ol>
</div>
<div class="subsection">
<h2 id="x436f6d6d616e64204578697420537461747573">Command Exit Status</h2> Each command has an exit status that can influence the behavior of other shell commands. The paradigm is that a command exits with zero for normal or success, and non-zero for failure, error, or a false indication. The man page for each command should indicate the various exit codes and what they mean. Additionally, the built-in commands return exit codes, as does an executed shell function.<p>
If a command consists entirely of variable assignments then the exit status of the command is that of the last command substitution if any, otherwise 0.</div>
<div class="subsection">
<h2 id="x436f6d706c657820436f6d6d616e6473">Complex Commands</h2> Complex commands are combinations of simple commands with control operators or reserved words, together creating a larger complex command. More generally, a command is one of the following:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
simple command</li>
<li class="list-bul" style="margin-top: 1.00em;">
pipeline</li>
<li class="list-bul" style="margin-top: 1.00em;">
list or compound-list</li>
<li class="list-bul" style="margin-top: 1.00em;">
compound command</li>
<li class="list-bul" style="margin-top: 1.00em;">
function definition</li>
</ul>
<p>
Unless otherwise stated, the exit status of a command is that of the last simple command executed by the command.</div>
<div class="subsection">
<h2 id="x506970656c696e6573">Pipelines</h2> A pipeline is a sequence of one or more commands separated by the control operator |. The standard output of all but the last command is connected to the standard input of the next command. The standard output of the last command is inherited from the shell, as usual.<p>
The format for a pipeline is:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">[!] command1 [| command2 ...]</code></div>
</blockquote>
<p>
The standard output of command1 is connected to the standard input of command2. The standard input, standard output, or both of a command is considered to be assigned by the pipeline before any redirection specified by redirection operators that are part of the command.<p>
If the pipeline is not in the background (discussed later), the shell waits for all commands to complete.<p>
If the reserved word ! does not precede the pipeline, the exit status is the exit status of the last command specified in the pipeline. Otherwise, the exit status is the logical NOT of the exit status of the last command. That is, if the last command returns zero, the exit status is 1; if the last command returns greater than zero, the exit status is zero.<p>
Because pipeline assignment of standard input or standard output or both takes place before redirection, it can be modified by redirection. For example:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ command1 2&gt;&amp;1 | command2</code></div>
</blockquote>
<p>
sends both the standard output and standard error of command1 to the standard input of command2.<p>
A ; or &#60;newline&#62; terminator causes the preceding AND-OR-list (described next) to be executed sequentially; a &amp; causes asynchronous execution of the preceding AND-OR-list.<p>
Note that unlike some other shells, each process in the pipeline is a child of the invoking shell (unless it is a shell built-in, in which case it executes in the current shell -- but any effect it has on the environment is wiped).</div>
<div class="subsection">
<h2 id="x4261636b67726f756e6420436f6d6d616e6473202d2d2026">Background Commands -- &amp;</h2> If a command is terminated by the control operator ampersand (&amp;), the shell executes the command asynchronously -- that is, the shell does not wait for the command to finish before executing the next command.<p>
The format for running a command in background is:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">command1 &amp; [command2 &amp; ...]</code></div>
</blockquote>
<p>
If the shell is not interactive, the standard input of an asynchronous command is set to <i class="file">/dev/null</i>.</div>
<div class="subsection">
<h2 id="x4c69737473202d2d2047656e6572616c6c7920537065616b696e67">Lists -- Generally Speaking</h2> A list is a sequence of zero or more commands separated by newlines, semicolons, or ampersands, and optionally terminated by one of these three characters. The commands in a list are executed in the order they are written. If command is followed by an ampersand, the shell starts the command and immediately proceed onto the next command; otherwise it waits for the command to terminate before proceeding to the next one.</div>
<div class="subsection">
<h2 id="x53686f72741e43697263756974204c697374204f70657261746f7273">Short-Circuit List Operators</h2> &#8220;&amp;&amp;&#8221; and &#8220;||&#8221; are AND-OR list operators. &#8220;&amp;&amp;&#8221; executes the first command, and then executes the second command if and only if the exit status of the first command is zero. &#8220;||&#8221; is similar, but executes the second command if and only if the exit status of the first command is nonzero. &#8220;&amp;&amp;&#8221; and &#8220;||&#8221; both have the same priority. Note that these operators are left-associative, so &#8220;true || echo bar &amp;&amp; echo baz&#8221; writes &#8220;baz&#8221; and nothing else. This is not the way it works in C. Also, if you forget the left-hand side (for example when continuing lines but forgetting to use a backslash) it defaults to a true statement. This behavior is not useful and should not be relied upon.</div>
<div class="subsection">
<h2 id="x466c6f771e436f6e74726f6c20436f6e73747275637473202d2d2069662c207768696c652c20666f722c2063617365">Flow-Control Constructs -- if, while, for, case</h2> The syntax of the if command is<p>
<pre style="margin-left: 5.00ex;" class="lit display">
if list 
then list 
[ elif list 
then    list ] ... 
[ else list ] 
fi</pre>
<p>
The syntax of the while command is<p>
<pre style="margin-left: 5.00ex;" class="lit display">
while list 
do   list 
done</pre>
<p>
The two lists are executed repeatedly while the exit status of the first list is zero. The until command is similar, but has the word until in place of while, which causes it to repeat until the exit status of the first list is zero.<p>
The syntax of the for command is<p>
<pre style="margin-left: 5.00ex;" class="lit display">
for variable in word ... 
do   list 
done</pre>
<p>
The words are expanded, and then the list is executed repeatedly with the variable set to each word in turn. do and done may be replaced with &#8220;{&#8221; and &#8220;}&#8221;.<p>
The syntax of the break and continue command is<p>
<pre style="margin-left: 5.00ex;" class="lit display">
break [ num ] 
continue [ num ]</pre>
<p>
Break terminates the num innermost for or while loops. Continue continues with the next iteration of the innermost loop. These are implemented as built-in commands.<p>
The syntax of the case command is<p>
<pre style="margin-left: 5.00ex;" class="lit display">
case word in 
pattern) list ;; 
... 
esac</pre>
<p>
The pattern can actually be one or more patterns (see <i class="link-sec"><a class="link-sec" href="#x5368656c6c205061747465726e73">Shell Patterns</a></i> described later), separated by &#8220;|&#8221; characters.</div>
<div class="subsection">
<h2 id="x47726f7570696e6720436f6d6d616e647320546f676574686572">Grouping Commands Together</h2> Commands may be grouped by writing either<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">(list)</code></div>
</blockquote>
<p>
or<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">{ list; }</code></div>
</blockquote>
<p>
The first of these executes the commands in a subshell. Built-in commands grouped into a (list) will not affect the current shell. The second form does not fork another shell so is slightly more efficient. Grouping commands together this way allows you to redirect their output as though they were one program:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
{ echo -n &#34; hello &#34; ; echo &#34; world" ; } &gt; greeting</pre>
<p>
Note that &#8220;}&#8221; must follow a control operator (here, &#8220;;&#8221;) so that it is recognized as a reserved word and not as another command argument.</div>
<div class="subsection">
<h2 id="x46756e6374696f6e73">Functions</h2> The syntax of a function definition is<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">name () command</code></div>
</blockquote>
<p>
A function definition is an executable statement; when executed it installs a function named name and returns an exit status of zero. The command is normally a list enclosed between &#8220;{&#8221; and &#8220;}&#8221;.<p>
Variables may be declared to be local to a function by using a local command. This should appear as the first statement of a function, and the syntax is<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">local [variable | -] ...</code></div>
</blockquote>
<p>
&#8220;Local&#8221; is implemented as a built-in command.<p>
When a variable is made local, it inherits the initial value and exported and read-only flags from the variable with the same name in the surrounding scope, if there is one. Otherwise, the variable is initially unset. The shell uses dynamic scoping, so that if you make the variable x local to function f, which then calls function g, references to the variable x made inside g will refer to the variable x declared inside f, not to the global variable named x.<p>
The only special parameter that can be made local is &#8220;-&#8221;. Making &#8220;-&#8221; local causes any shell options that are changed via the set command inside the function to be restored to their original values when the function returns.<p>
The syntax of the return command is<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">return [exitstatus]</code></div>
</blockquote>
<p>
It terminates the currently executing function. Return is implemented as a built-in command.</div>
<div class="subsection">
<h2 id="x5661726961626c657320616e6420506172616d6574657273">Variables and Parameters</h2> The shell maintains a set of parameters. A parameter denoted by a name is called a variable. When starting up, the shell turns all the environment variables into shell variables. New variables can be set using the form<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">name=value</code></div>
</blockquote>
<p>
Variables set by the user must have a name consisting solely of alphabetics, numerics, and underscores - the first of which must not be numeric. A parameter can also be denoted by a number or a special character as explained below.</div>
<div class="subsection">
<h2 id="x506f736974696f6e616c20506172616d6574657273">Positional Parameters</h2> A positional parameter is a parameter denoted by a number (n &gt; 0). The shell sets these initially to the values of its command line arguments that follow the name of the shell script. The <b class="cmd">set</b> built-in can also be used to set or reset them.</div>
<div class="subsection">
<h2 id="x5370656369616c20506172616d6574657273">Special Parameters</h2> A special parameter is a parameter denoted by one of the following special characters. The value of the parameter is listed next to its character.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
*</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Expands to the positional parameters, starting from one. When the expansion occurs within a double-quoted string it expands to a single field with the value of each parameter separated by the first character of the <span class="env">IFS</span> variable, or by a &#60;space&#62; if <span class="env">IFS</span> is unset.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
@</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Expands to the positional parameters, starting from one. When the expansion occurs within double quotes, each positional parameter expands as a separate argument. If there are no positional parameters, the expansion of @ generates zero arguments, even when @ is double-quoted. What this basically means, for example, is if $1 is &#8220;abc&#8221; and $2 is &#8220;def ghi&#8221;, then &#8220;$@&#8221; expands to the two arguments:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&#34;abc&#34;&#160;&#34;def&#160;ghi&#34;</code></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
#</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Expands to the number of positional parameters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
?</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Expands to the exit status of the most recent pipeline.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
- (Hyphen.)</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Expands to the current option flags (the single-letter option names concatenated into a string) as specified on invocation, by the set built-in command, or implicitly by the shell.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Expands to the process ID of the invoked shell. A subshell retains the same value of $ as its parent.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
!</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Expands to the process ID of the most recent background command executed from the current shell. For a pipeline, the process ID is that of the last command in the pipeline.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
0 (Zero.)</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Expands to the name of the shell or shell script.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x576f726420457870616e73696f6e73">Word Expansions</h2> This section describes the various expansions that are performed on words. Not all expansions are performed on every word, as explained later.<p>
Tilde expansions, parameter expansions, command substitutions, arithmetic expansions, and quote removals that occur within a single word expand to a single field. It is only field splitting or pathname expansion that can create multiple fields from a single word. The single exception to this rule is the expansion of the special parameter @ within double quotes, as was described above.<p>
The order of word expansion is:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
Tilde Expansion, Parameter Expansion, Command Substitution, Arithmetic Expansion (these all occur at the same time).</li>
<li class="list-enum" style="margin-top: 1.00em;">
Field Splitting is performed on fields generated by step (1) unless the <span class="env">IFS</span> variable is null.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Pathname Expansion (unless set <b class="flag">&#45;f</b> is in effect).</li>
<li class="list-enum" style="margin-top: 1.00em;">
Quote Removal.</li>
</ol>
<p>
The $ character is used to introduce parameter expansion, command substitution, or arithmetic evaluation.</div>
<div class="subsection">
<h2 id="x54696c646520457870616e73696f6e2028737562737469747574696e6720612075736572277320686f6d65206469726563746f727929">Tilde Expansion (substituting a user's home directory)</h2> A word beginning with an unquoted tilde character (~) is subjected to tilde expansion. All the characters up to a slash (/) or the end of the word are treated as a username and are replaced with the user's home directory. If the username is missing (as in <i class="file">~/foobar</i>), the tilde is replaced with the value of the <b class="var">HOME</b> variable (the current user's home directory).</div>
<div class="subsection">
<h2 id="x506172616d6574657220457870616e73696f6e">Parameter Expansion</h2> The format for parameter expansion is as follows:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">${expression}</code></div>
</blockquote>
<p>
where expression consists of all characters until the matching &#8220;}&#8221;. Any &#8220;}&#8221; escaped by a backslash or within a quoted string, and characters in embedded arithmetic expansions, command substitutions, and variable expansions, are not examined in determining the matching &#8220;}&#8221;.<p>
The simplest form for parameter expansion is:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">${parameter}</code></div>
</blockquote>
<p>
The value, if any, of parameter is substituted.<p>
The parameter name or symbol can be enclosed in braces, which are optional except for positional parameters with more than one digit or when parameter is followed by a character that could be interpreted as part of the name. If a parameter expansion occurs inside double quotes:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
Pathname expansion is not performed on the results of the expansion.</li>
<li class="list-enum" style="margin-top: 1.00em;">
Field splitting is not performed on the results of the expansion, with the exception of the special rules for @.</li>
</ol>
<p>
In addition, a parameter expansion can be modified by using one of the following formats. If the &#8220;<span class="define">:</span>&#8221; is omitted in the following modifiers, then the expansion is applied only to unset parameters, not null ones.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
${parameter:-word}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Use Default Values. If parameter is unset or null, the expansion of word is substituted; otherwise, the value of parameter is substituted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
${parameter:=word}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Assign Default Values. If parameter is unset or null, the expansion of word is assigned to parameter. In all cases, the final value of parameter is substituted. Only variables, not positional parameters or special parameters, can be assigned in this way.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
${parameter:?[word]}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Indicate Error if Null or Unset. If parameter is unset or null, the expansion of word (or a message indicating it is unset if word is omitted) is written to standard error and the shell exits with a nonzero exit status. Otherwise, the value of parameter is substituted. An interactive shell need not exit.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
${parameter:+word}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Use Alternative Value. If parameter is unset or null, null is substituted; otherwise, the expansion of word is substituted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
${#parameter}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
String Length. The length in characters of the value of parameter.</dd>
</dl>
<p>
The following four varieties of parameter expansion provide for substring processing. In each case, pattern matching notation (see <i class="link-sec"><a class="link-sec" href="#x5368656c6c205061747465726e73">Shell Patterns</a></i>), rather than regular expression notation, is used to evaluate the patterns. If parameter is * or @, the result of the expansion is unspecified. Enclosing the full parameter expansion string in double quotes does not cause the following four varieties of pattern characters to be quoted, whereas quoting characters within the braces has this effect.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
${parameter%word}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Remove Smallest Suffix Pattern. The word is expanded to produce a pattern. The parameter expansion then results in parameter, with the smallest portion of the suffix matched by the pattern deleted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
${parameter%%word}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Remove Largest Suffix Pattern. The word is expanded to produce a pattern. The parameter expansion then results in parameter, with the largest portion of the suffix matched by the pattern deleted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
${parameter#word}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Remove Smallest Prefix Pattern. The word is expanded to produce a pattern. The parameter expansion then results in parameter, with the smallest portion of the prefix matched by the pattern deleted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
${parameter##word}</dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
Remove Largest Prefix Pattern. The word is expanded to produce a pattern. The parameter expansion then results in parameter, with the largest portion of the prefix matched by the pattern deleted.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x436f6d6d616e6420537562737469747574696f6e">Command Substitution</h2> Command substitution allows the output of a command to be substituted in place of the command name itself. Command substitution occurs when the command is enclosed as follows:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$(command)</code></div>
</blockquote>
<p>
or (&#8220;backquoted&#8221; version):<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">`command`</code></div>
</blockquote>
<p>
The shell expands the command substitution by executing command in a subshell environment and replacing the command substitution with the standard output of the command, removing sequences of one or more &#60;newline&#62;s at the end of the substitution. (Embedded &#60;newline&#62;s before the end of the output are not removed; however, during field splitting, they may be translated into &#60;space&#62;s, depending on the value of <span class="env">IFS</span> and quoting that is in effect.)</div>
<div class="subsection">
<h2 id="x41726974686d6574696320457870616e73696f6e">Arithmetic Expansion</h2> Arithmetic expansion provides a mechanism for evaluating an arithmetic expression and substituting its value. The format for arithmetic expansion is as follows:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$((expression))</code></div>
</blockquote>
<p>
The expression is treated as if it were in double quotes, except that a double quote inside the expression is not treated specially. The shell expands all tokens in the expression for parameter expansion, command substitution, and quote removal.<p>
Next, the shell treats this as an arithmetic expression and substitutes the value of the expression.<p>
Arithmetic expressions use a syntax similar to that of the C language, and are evaluated using the &#8216;<code class="lit">intmax_t</code>&#8217; data type (this is an extension to POSIX, which requires only &#8216;<code class="lit">long</code>&#8217; arithmetic). Shell variables may be referenced by name inside an arithmetic expression, without needing a &#8220;$&#8221; sign.</div>
<div class="subsection">
<h2 id="x57686974652053706163652053706c697474696e6720284669656c642053706c697474696e6729">White Space Splitting (Field Splitting)</h2> After parameter expansion, command substitution, and arithmetic expansion the shell scans the results of expansions and substitutions that did not occur in double quotes for field splitting and multiple fields can result.<p>
The shell treats each character of the <span class="env">IFS</span> as a delimiter and use the delimiters to split the results of parameter expansion and command substitution into fields.<p>
Non-whitespace characters in <span class="env">IFS</span> are treated strictly as parameter terminators. So adjacent non-whitespace <span class="env">IFS</span> characters will produce empty parameters.<p>
If <span class="env">IFS</span> is unset it is assumed to contain space, tab, and newline.</div>
<div class="subsection">
<h2 id="x506174686e616d6520457870616e73696f6e202846696c65204e616d652047656e65726174696f6e29">Pathname Expansion (File Name Generation)</h2> Unless the <b class="flag">&#45;f</b> flag is set, file name generation is performed after word splitting is complete. Each word is viewed as a series of patterns, separated by slashes. The process of expansion replaces the word with the names of all existing files whose names can be formed by replacing each pattern with a string that matches the specified pattern. There are two restrictions on this: first, a pattern cannot match a string containing a slash, and second, a pattern cannot match a string starting with a period unless the first character of the pattern is a period. The next section describes the patterns used for both Pathname Expansion and the <b class="cmd">case</b> command.</div>
<div class="subsection">
<h2 id="x5368656c6c205061747465726e73">Shell Patterns</h2> A pattern consists of normal characters, which match themselves, and meta-characters. The meta-characters are &#8220;!&#8221;, &#8220;*&#8221;, &#8220;?&#8221;, and &#8220;[&#8221;. These characters lose their special meanings if they are quoted. When command or variable substitution is performed and the dollar sign or backquotes are not double-quoted, the value of the variable or the output of the command is scanned for these characters and they are turned into meta-characters.<p>
An asterisk (&#8220;*&#8221;) matches any string of characters. A question mark (&#8220;?&#8221;) matches any single character. A left bracket (&#8220;[&#8221;) introduces a character class. The end of the character class is indicated by a right bracket (&#8220;]&#8221;); if this &#8220;]&#8221; is missing then the &#8220;[&#8221; matches a &#8220;[&#8221; rather than introducing a character class. A character class matches any of the characters between the square brackets. A named class of characters (see <a class="link-man" href="../html3/wctype.html">wctype(3)</a>) may be specified by surrounding the name with (&#8220;[:&#8221;) and (&#8220;:]&#8221;). For example, (&#8220;[[:alpha:]]&#8221;) is a shell pattern that matches a single letter. A range of characters may be specified using a minus sign (&#8220;-&#8221;). The character class may be complemented by making an exclamation mark (&#8220;!&#8221;) the first character of the character class.<p>
To include a &#8220;]&#8221; in a character class, make it the first character listed (after the &#8220;!&#8221;, if any). To include a &#8220;-&#8221;, make it the first or last character listed.</div>
<div class="subsection">
<h2 id="x4275696c741e696e73">Built-ins</h2> This section lists the built-in commands which are built-in because they need to perform some operation that can't be performed by a separate process. In addition to these, there are several other commands that may be built in for efficiency (e.g. <a class="link-man" href="../html1/printf.html">printf(1)</a>, <a class="link-man" href="../html1/echo.html">echo(1)</a>, <a class="link-man" href="../html1/test.html">test(1)</a>, etc).<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
: [<i class="arg">arg ...</i>]</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
A null command that returns a 0 (true) exit value. Any arguments are ignored.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
. file</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The dot command reads and executes the commands from the specified <i class="arg">file</i> in the current shell environment. The file does not need to be executable and is looked up from the directories listed in the <span class="env">PATH</span> variable if it does not contain a directory separator (&#8216;/&#8217;). The return command can be used for a premature return from the sourced file.<p>
The POSIX standard is unclear on how loop control keywords (break and continue) behave across a dot command boundary. This implementation allows them to control loops surrounding the dot command, but obviously such behavior should not be relied on.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
alias &#91;<span class="opt"><i class="arg">name</i>&#91;<span class="opt"><i class="arg">=string ...</i></span>&#93;</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
If <i class="arg">name=string</i> is specified, the shell defines the alias <i class="arg">name</i> with value <i class="arg">string</i>. If just <i class="arg">name</i> is specified, the value of the alias <i class="arg">name</i> is printed. With no arguments, the <b class="cmd">alias</b> built-in prints the names and values of all defined aliases (see <b class="cmd">unalias</b>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
bg [<i class="arg">job</i>] <i class="arg">...</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Continue the specified jobs (or the current job if no jobs are given) in the background.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
command &#91;<span class="opt"><b class="flag">&#45;p</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;v</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;V</b></span>&#93; <i class="arg">command</i> &#91;<span class="opt"><i class="arg">arg ...</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Execute the specified command but ignore shell functions when searching for it. (This is useful when you have a shell function with the same name as a built-in command.)<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
search for command using a <span class="env">PATH</span> that guarantees to find all the standard utilities.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;V</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Do not execute the command but search for the command and print the resolution of the command search. This is the same as the <b class="cmd">type</b> built-in.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Do not execute the command but search for the command and print the absolute pathname of utilities, the name for built-ins or the expansion of aliases.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
cd &#91;<span class="opt"><b class="flag">&#45;P</b></span>&#93; &#91;<span class="opt"><i class="arg">directory</i> &#91;<span class="opt"><i class="arg">replace</i></span>&#93;</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Switch to the specified directory (default <span class="env">$HOME</span>). If <i class="arg">replace</i> is specified, then the new directory name is generated by replacing the first occurrence of <i class="arg">directory</i> in the current directory name with <i class="arg">replace</i>. If <i class="arg">directory</i> is &#8216;-&#8217;, then the current working directory is changed to the previous current working directory as set in <span class="env">OLDPWD</span>. Otherwise if an entry for <span class="env">CDPATH</span> appears in the environment of the <b class="cmd">cd</b> command or the shell variable <span class="env">CDPATH</span> is set and the directory name does not begin with a slash, or its first (or only) component isn't dot or dot dot, then the directories listed in <span class="env">CDPATH</span> will be searched for the specified directory. The format of <span class="env">CDPATH</span> is the same as that of <span class="env">PATH</span>.<p>
The <b class="flag">&#45;P</b> option instructs the shell to update <span class="env">PWD</span> with the specified physical directory path and change to that directory. This is the default.<p>
When the directory changes, the variable <span class="env">OLDPWD</span> is set to the working directory before the change.<p>
Some shells also support a <b class="flag">&#45;L</b> option, which instructs the shell to update <span class="env">PWD</span> with the logical path and to change the current directory accordingly. This is not supported.<p>
In an interactive shell, the <b class="cmd">cd</b> command will print out the name of the directory that it actually switched to if this is different from the name that the user gave. These may be different either because the <span class="env">CDPATH</span> mechanism was used or because a symbolic link was crossed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
eval <i class="arg">string ...</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Concatenate all the arguments with spaces. Then re-parse and execute the command.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
exec &#91;<span class="opt"><i class="arg">command arg ...</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Unless command is omitted, the shell process is replaced with the specified program (which must be a real program, not a shell built-in or function). Any redirections on the <b class="cmd">exec</b> command are marked as permanent, so that they are not undone when the <b class="cmd">exec</b> command finishes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
exit &#91;<span class="opt"><i class="arg">exitstatus</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Terminate the shell process. If <i class="arg">exitstatus</i> is given it is used as the exit status of the shell; otherwise the exit status of the preceding command is used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
export <i class="arg">name ...</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
export <b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The specified names are exported so that they will appear in the environment of subsequent commands. The only way to un-export a variable is to unset it. The shell allows the value of a variable to be set at the same time it is exported by writing<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">export name=value</code></div>
</blockquote>
<p>
With no arguments the export command lists the names of all exported variables. With the <b class="flag">&#45;p</b> option specified the output will be formatted suitably for non-interactive use.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
fc &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">editor</i></span>&#93; &#91;<span class="opt"><i class="arg">first</i> &#91;<span class="opt"><i class="arg">last</i></span>&#93;</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
fc <b class="flag">&#45;l</b> &#91;<span class="opt"><b class="flag">&#45;nr</b></span>&#93; &#91;<span class="opt"><i class="arg">first</i> &#91;<span class="opt"><i class="arg">last</i></span>&#93;</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
fc <b class="flag">&#45;s</b> &#91;<span class="opt"><i class="arg">old=new</i></span>&#93; &#91;<span class="opt"><i class="arg">first</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The <b class="cmd">fc</b> built-in lists, or edits and re-executes, commands previously entered to an interactive shell.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b> editor</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Use the editor named by editor to edit the commands. The editor string is a command name, subject to search via the <span class="env">PATH</span> variable. The value in the <span class="env">FCEDIT</span> variable is used as a default when <b class="flag">&#45;e</b> is not specified. If <span class="env">FCEDIT</span> is null or unset, the value of the <span class="env">EDITOR</span> variable is used. If <span class="env">EDITOR</span> is null or unset, <a class="link-man" href="../html1/ed.html">ed(1)</a> is used as the editor.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b> (ell)</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
List the commands rather than invoking an editor on them. The commands are written in the sequence indicated by the first and last operands, as affected by <b class="flag">&#45;r</b>, with each command preceded by the command number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Suppress command numbers when listing with -l.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Reverse the order of the commands listed (with <b class="flag">&#45;l</b>) or edited (with neither <b class="flag">&#45;l</b> nor <b class="flag">&#45;s</b>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Re-execute the command without invoking an editor.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
first</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
last</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Select the commands to list or edit. The number of previous commands that can be accessed are determined by the value of the <span class="env">HISTSIZE</span> variable. The value of first or last or both are one of the following:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[+]number</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
A positive number representing a command number; command numbers can be displayed with the <b class="flag">&#45;l</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;number</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
A negative decimal number representing the command that was executed number of commands previously. For example, &#45;1 is the immediately previous command.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
string</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
A string indicating the most recently entered command that begins with that string. If the old=new operand is not also specified with <b class="flag">&#45;s</b>, the string form of the first operand cannot contain an embedded equal sign.</dd>
</dl>
<p>
The following environment variables affect the execution of fc:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">FCEDIT</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Name of the editor to use.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">HISTSIZE</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
The number of previous commands that are accessible.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
fg &#91;<span class="opt"><i class="arg">job</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Move the specified job or the current job to the foreground.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
getopts <i class="arg">optstring var</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The POSIX <b class="cmd">getopts</b> command, not to be confused with the <span class="emph">Bell Labs</span> -derived <a class="link-man" href="../html1/getopt.html">getopt(1)</a>.<p>
The first argument should be a series of letters, each of which may be optionally followed by a colon to indicate that the option requires an argument. The variable specified is set to the parsed option.<p>
The <b class="cmd">getopts</b> command deprecates the older <a class="link-man" href="../html1/getopt.html">getopt(1)</a> utility due to its handling of arguments containing whitespace.<p>
The <b class="cmd">getopts</b> built-in may be used to obtain options and their arguments from a list of parameters. When invoked, <b class="cmd">getopts</b> places the value of the next option from the option string in the list in the shell variable specified by <b class="var">var</b> and its index in the shell variable <span class="env">OPTIND</span>. When the shell is invoked, <span class="env">OPTIND</span> is initialized to 1. For each option that requires an argument, the <b class="cmd">getopts</b> built-in will place it in the shell variable <span class="env">OPTARG</span>. If an option is not allowed for in the <b class="var">optstring</b>, then <span class="env">OPTARG</span> will be unset.<p>
<b class="var">optstring</b> is a string of recognized option letters (see <a class="link-man" href="../html3/getopt.html">getopt(3)</a>). If a letter is followed by a colon, the option is expected to have an argument which may or may not be separated from it by whitespace. If an option character is not found where expected, <b class="cmd">getopts</b> will set the variable <b class="var">var</b> to a &#8220;?&#8221;; <b class="cmd">getopts</b> will then unset <span class="env">OPTARG</span> and write output to standard error. By specifying a colon as the first character of <b class="var">optstring</b> all errors will be ignored.<p>
A nonzero value is returned when the last option is reached. If there are no remaining arguments, <b class="cmd">getopts</b> will set <b class="var">var</b> to the special option, &#8220;--&#8221;, otherwise, it will set <b class="var">var</b> to &#8220;?&#8221;.<p>
The following code fragment shows how one might process the arguments for a command that can take the options &#91;<span class="opt">a</span>&#93; and &#91;<span class="opt">b</span>&#93;, and the option &#91;<span class="opt">c</span>&#93;, which requires an argument.<p>
<pre style="margin-left: 5.00ex;" class="lit display">
while getopts abc: f 
do 
	case $f in 
	a | b)	flag=$f;; 
	c)	carg=$OPTARG;; 
	&#92;?)	echo $USAGE; exit 1;; 
	esac 
done 
shift $(expr $OPTIND - 1)</pre>
<p>
This code will accept any of the following as equivalent:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
cmd &#45;acarg file file 
cmd &#45;a &#45;c arg file file 
cmd &#45;carg -a file file 
cmd &#45;a &#45;carg &#45;&#45; file file</pre>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
hash <b class="flag">&#45;rv</b> <i class="arg">command ...</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The shell maintains a hash table which remembers the locations of commands. With no arguments whatsoever, the <b class="cmd">hash</b> command prints out the contents of this table. Entries which have not been looked at since the last <b class="cmd">cd</b> command are marked with an asterisk; it is possible for these entries to be invalid.<p>
With arguments, the <b class="cmd">hash</b> command removes the specified commands from the hash table (unless they are functions) and then locates them. With the <b class="flag">&#45;v</b> option, hash prints the locations of the commands as it finds them. The <b class="flag">&#45;r</b> option causes the hash command to delete all the entries in the hash table except for functions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
inputrc <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Read the <b class="var">file</b> to set keybindings as defined by <a class="link-man" href="../html5/editrc.html">editrc(5)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
jobid &#91;<span class="opt"><i class="arg">job</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Print the process id's of the processes in the job. If the <i class="arg">job</i> argument is omitted, the current job is used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
jobs</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
This command lists out all the background processes which are children of the current shell process.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
pwd &#91;<span class="opt"><b class="flag">&#45;LP</b></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Print the current directory. If <b class="flag">&#45;L</b> is specified the cached value (initially set from <span class="env">PWD</span>) is checked to see if it refers to the current directory; if it does the value is printed. Otherwise the current directory name is found using <a class="link-man" href="../html3/getcwd.html">getcwd(3)</a>. The environment variable <span class="env">PWD</span> is set to the printed value.<p>
The default is <b class="cmd">pwd</b> <b class="flag">&#45;L</b>, but note that the built-in <b class="cmd">cd</b> command doesn't currently support the <b class="flag">&#45;L</b> option and will cache (almost) the absolute path. If <b class="cmd">cd</b> is changed, <b class="cmd">pwd</b> may be changed to default to <b class="cmd">pwd</b> <b class="flag">&#45;P</b>.<p>
If the current directory is renamed and replaced by a symlink to the same directory, or the initial <span class="env">PWD</span> value followed a symbolic link, then the cached value may not be the absolute path.<p>
The built-in command may differ from the program of the same name because the program will use <span class="env">PWD</span> and the built-in uses a separately cached value.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
read &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">prompt</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b></span>&#93; <i class="arg">variable</i> &#91;<span class="opt"><i class="arg">...</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The prompt is printed if the <b class="flag">&#45;p</b> option is specified and the standard input is a terminal. Then a line is read from the standard input. The trailing newline is deleted from the line and the line is split as described in the <i class="link-sec"><a class="link-sec" href="#x576f726420457870616e73696f6e73">Word Expansions</a></i> section above, and the pieces are assigned to the variables in order. If there are more pieces than variables, the remaining pieces (along with the characters in <span class="env">IFS</span> that separated them) are assigned to the last variable. If there are more variables than pieces, the remaining variables are assigned the null string. The <b class="cmd">read</b> built-in will indicate success unless EOF is encountered on input, in which case failure is returned.<p>
By default, unless the <b class="flag">&#45;r</b> option is specified, the backslash &#8220;&#92;&#8221; acts as an escape character, causing the following character to be treated literally. If a backslash is followed by a newline, the backslash and the newline will be deleted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
readonly <i class="arg">name ...</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
readonly <b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The specified names are marked as read only, so that they cannot be subsequently modified or unset. The shell allows the value of a variable to be set at the same time it is marked read only by writing<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">readonly name=value</code></div>
</blockquote>
<p>
With no arguments the readonly command lists the names of all read only variables. With the <b class="flag">&#45;p</b> option specified the output will be formatted suitably for non-interactive use.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
return [<i class="arg">n</i>]</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Stop executing the current function or a dot command with return value of <i class="arg">n</i> or the value of the last executed command, if not specified. For portability, <i class="arg">n</i> should be in the range from 0 to 255.<p>
The POSIX standard says that the results of &#8216;return&#8217; outside a function or a dot command are unspecified. This implementation treats such a return as a no-op with a return value of 0 (success, true). Use the exit command instead, if you want to return from a script or exit your shell.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
set &#91;<span class="opt">{ <b class="flag">&#45;options</b> | <b class="flag">+options</b> | <b class="flag">&#45;- }</b></span>&#93; <i class="arg">arg ...</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The <b class="cmd">set</b> command performs three different functions.<p>
With no arguments, it lists the values of all shell variables.<p>
If options are given, it sets the specified option flags, or clears them as described in the <i class="link-sec"><a class="link-sec" href="#x417267756d656e74204c6973742050726f63657373696e67">Argument List Processing</a></i> section.<p>
The third use of the set command is to set the values of the shell's positional parameters to the specified arguments. To change the positional parameters without changing any options, use &#8220;--&#8221; as the first argument to set. If no arguments are present, the set command will clear all the positional parameters (equivalent to executing &#8220;shift $#&#8221;.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
setvar <i class="arg">variable</i> <i class="arg">value</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Assigns value to variable. (In general it is better to write variable=value rather than using <b class="cmd">setvar</b>. <b class="cmd">setvar</b> is intended to be used in functions that assign values to variables whose names are passed as parameters.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
shift &#91;<span class="opt"><i class="arg">n</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Shift the positional parameters n times. A <b class="cmd">shift</b> sets the value of <b class="var">$1</b> to the value of <b class="var">$2</b>, the value of <b class="var">$2</b> to the value of <b class="var">$3</b>, and so on, decreasing the value of <b class="var">$#</b> by one. If there are zero positional parameters, <b class="cmd">shift</b> does nothing.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
trap &#91;<span class="opt"><b class="flag">&#45;l</b></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
trap &#91;<span class="opt"><i class="arg">action</i></span>&#93; <i class="arg">signal ...</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Cause the shell to parse and execute action when any of the specified signals are received. The signals are specified by signal number or as the name of the signal. If <i class="arg">signal</i> is <code class="lit">0</code> or its equivalent, EXIT, the action is executed when the shell exits. <i class="arg">action</i> may be null, which cause the specified signals to be ignored. With <i class="arg">action</i> omitted or set to &#8216;-&#8217; the specified signals are set to their default action. When the shell forks off a subshell, it resets trapped (but not ignored) signals to the default action. On non-interactive shells, the <b class="cmd">trap</b> command has no effect on signals that were ignored on entry to the shell. On interactive shells, the <b class="cmd">trap</b> command will catch or reset signals ignored on entry. Issuing <b class="cmd">trap</b> with option <i class="arg">-l</i> will print a list of valid signal names. <b class="cmd">trap</b> without any arguments cause it to write a list of signals and their associated action to the standard output in a format that is suitable as an input to the shell that achieves the same trapping results.<p>
Examples:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">trap</code></div>
</blockquote>
<p>
List trapped signals and their corresponding action<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">trap -l</code></div>
</blockquote>
<p>
Print a list of valid signals<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">trap '' INT QUIT tstp 30</code></div>
</blockquote>
<p>
Ignore signals INT QUIT TSTP USR1<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">trap date INT</code></div>
</blockquote>
<p>
Print date upon receiving signal INT</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
type &#91;<span class="opt"><i class="arg">name ...</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Interpret each name as a command and print the resolution of the command search. Possible resolutions are: shell keyword, alias, shell built-in, command, tracked alias and not found. For aliases the alias expansion is printed; for commands and tracked aliases the complete pathname of the command is printed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
ulimit &#91;<span class="opt"><b class="flag">&#45;H</b> | <b class="flag">&#45;S</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b> | <b class="flag">&#45;btfdscmlrpnv</b> &#91;<span class="opt"><i class="arg">value</i></span>&#93;</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Inquire about or set the hard or soft limits on processes or set new limits. The choice between hard limit (which no process is allowed to violate, and which may not be raised once it has been lowered) and soft limit (which causes processes to be signaled but not necessarily killed, and which may be raised) is made with these flags:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;H</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
set or inquire about hard limits</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
set or inquire about soft limits. If neither <b class="flag">&#45;H</b> nor <b class="flag">&#45;S</b> is specified, the soft limit is displayed or both limits are set. If both are specified, the last one wins.</dd>
</dl>
<p>
The limit to be interrogated or set, then, is chosen by specifying any one of these flags:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show all the current limits</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the socket buffer size of a process (in bytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on CPU time (in seconds)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the largest file that can be created (in 512-byte blocks)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the data segment size of a process (in kilobytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the stack size of a process (in kilobytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the largest core dump size that can be produced (in 512-byte blocks)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the total physical memory that can be in use by a process (in kilobytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on how much memory a process can lock with <a class="link-man" href="../html2/mlock.html">mlock(2)</a> (in kilobytes)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the number of threads this user can have at one time</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the number of processes this user can have at one time</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on the number of files a process can have open at once</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
show or set the limit on how large a process address space can be</dd>
</dl>
<p>
If none of these is specified, it is the limit on file size that is shown or set. If value is specified, the limit is set to that number; otherwise the current limit is displayed.<p>
Limits of an arbitrary process can be displayed or set using the <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a> utility.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
umask &#91;<span class="opt"><i class="arg">mask</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Set the value of umask (see <a class="link-man" href="../html2/umask.html">umask(2)</a>) to the specified octal value. If the argument is omitted, the umask value is printed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
unalias &#91;<span class="opt"><b class="flag">&#45;a</b></span>&#93; &#91;<span class="opt"><i class="arg">name</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
If <i class="arg">name</i> is specified, the shell removes that alias. If <b class="flag">&#45;a</b> is specified, all aliases are removed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
unset <i class="arg">name ...</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The specified variables and functions are unset and unexported. If a given name corresponds to both a variable and a function, both the variable and the function are unset.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
wait &#91;<span class="opt"><i class="arg">job</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Wait for the specified job to complete and return the exit status of the last process in the job. If the argument is omitted, wait for all jobs to complete and then return an exit status of zero.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x436f6d6d616e64204c696e652045646974696e67">Command Line Editing</h2> When <b class="name">sh</b> is being used interactively from a terminal, the current command and the command history (see <b class="cmd">fc</b> in the <i class="link-sec"><a class="link-sec" href="#x4275696c741e696e73">Built-ins</a></i> section) can be edited using emacs-mode or vi-mode command-line editing. The command &#8216;<code class="lit">set -o emacs</code>&#8217; enables emacs-mode editing. The command &#8216;<code class="lit">set -o vi</code>&#8217; enables vi-mode editing and places the current shell process into <i class="arg">vi</i> insert mode. (See the <i class="link-sec"><a class="link-sec" href="#x417267756d656e74204c6973742050726f63657373696e67">Argument List Processing</a></i> section above.)<p>
The <i class="arg">vi</i> mode uses commands similar to a subset of those described in the <a class="link-man" href="../html1/vi.html">vi(1)</a> man page. With vi-mode enabled, <b class="name">sh</b> can be switched between insert mode and command mode. It's similar to <a class="link-man" href="../html1/vi.html">vi(1)</a>: pressing the &#60;ESC&#62; key will throw you into command VI command mode. Pressing the &#60;return&#62; key while in command mode will pass the line to the shell.<p>
The <i class="arg">emacs</i> mode uses commands similar to a subset available in the <a class="link-man" href="../html1/emacs.html">emacs(1)</a> editor. With emacs-mode enabled, special keys can be used to modify the text in the buffer using the control key.<p>
<b class="name">sh</b> uses the <a class="link-man" href="../html3/editline.html">editline(3)</a> library.</div>
</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">HOME</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Set automatically by <a class="link-man" href="../html1/login.html">login(1)</a> from the user's login directory in the password file (<a class="link-man" href="../html5/passwd.html">passwd(5)</a>). This environment variable also functions as the default argument for the <b class="cmd">cd</b> built-in.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">PATH</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The default search path for executables. See the <i class="link-sec"><a class="link-sec" href="#x5061746820536561726368">Path Search</a></i> section above.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">CDPATH</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The search path used with the <b class="cmd">cd</b> built-in.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">LINENO</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The current line number in the script or function.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">LANG</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The string used to specify localization information that allows users to work with different culture-specific and language conventions. See <a class="link-man" href="../html7/nls.html">nls(7)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">MAIL</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The name of a mail file, that will be checked for the arrival of new mail. Overridden by <span class="env">MAILPATH</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">MAILCHECK</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The frequency in seconds that the shell checks for the arrival of mail in the files specified by the <span class="env">MAILPATH</span> or the <span class="env">MAIL</span> file. If set to 0, the check will occur at each prompt.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">MAILPATH</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
A colon &#8220;:&#8221; separated list of file names, for the shell to check for incoming mail. This environment setting overrides the <span class="env">MAIL</span> setting. There is a maximum of 10 mailboxes that can be monitored at once.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">PS1</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The primary prompt string, which defaults to &#8220;$ &#160;&#8221;, unless you are the superuser, in which case it defaults to &#8220;# &#160;&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">PS2</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The secondary prompt string, which defaults to &#8220;&gt; &#160;&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">PS4</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Output before each line when execution trace (set -x) is enabled, defaults to &#8220;+ &#160;&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">IFS</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Input Field Separators. This is normally set to &#60;space&#62;, &#60;tab&#62;, and &#60;newline&#62;. See the <i class="link-sec"><a class="link-sec" href="#x57686974652053706163652053706c697474696e67">White Space Splitting</a></i> section for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TERM</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The default terminal setting for the shell. This is inherited by children of the shell, and is used in the history editing modes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">HISTSIZE</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
The number of lines in the history buffer for the shell.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-item">
<li class="list-item" style="margin-top: 1.00em;">
<i class="file">$HOME/.profile</i></li>
<li class="list-item" style="margin-top: 1.00em;">
<i class="file">/etc/profile</i></li>
</ul>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> Errors that are detected by the shell, such as a syntax error, will cause the shell to exit with a non-zero exit status. If the shell is not an interactive shell, the execution of the shell file will be aborted. Otherwise the shell will return the exit status of the last command executed, or if the exit built-in is used with a numeric argument, it will return the argument.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/csh.html">csh(1)</a>, <a class="link-man" href="../html1/echo.html">echo(1)</a>, <a class="link-man" href="../html1/getopt.html">getopt(1)</a>, <a class="link-man" href="../html1/ksh.html">ksh(1)</a>, <a class="link-man" href="../html1/login.html">login(1)</a>, <a class="link-man" href="../html1/printf.html">printf(1)</a>, <a class="link-man" href="../html1/test.html">test(1)</a>, <a class="link-man" href="../html3/editline.html">editline(3)</a>, <a class="link-man" href="../html3/getopt.html">getopt(3)</a>, <a class="link-man" href="../html5/editrc.html">editrc(5)</a>, <a class="link-man" href="../html5/passwd.html">passwd(5)</a>, <a class="link-man" href="../html7/environ.html">environ(7)</a>, <a class="link-man" href="../html7/nls.html">nls(7)</a>, <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">sh</b> command appeared in Version&#160;1 AT&amp;T UNIX. It was, however, unmaintainable so we wrote this one.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Setuid shell scripts should be avoided at all costs, as they are a significant security risk.<p>
PS1, PS2, and PS4 should be subject to parameter expansion before being displayed.<p>
The characters generated by filename completion should probably be quoted to ensure that the filename is still valid after the input line has been processed.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 26, 2015</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

