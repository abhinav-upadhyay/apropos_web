<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
RUMPKERNEL(7)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RUMPKERNEL(7)</td>
<td class="head-vol" align="center">
Miscellaneous Information Manual</td>
<td class="head-rtitle" align="right">
RUMPKERNEL(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rump kernel</b> &#8212; <span class="desc">The Anykernel and Rump Kernels</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Rump kernels provide portable, componentized, kernel quality drivers such as file systems, POSIX system call handlers, PCI device drivers, a SCSI protocol stack, virtio and a TCP/IP stack. The fundamental enabling technology is the anykernel architecture of <span class="unix">NetBSD</span>, which enables the use of unmodified <span class="unix">NetBSD</span> kernel drivers. The minimalistic <a class="link-man" href="../3/rumpuser">rumpuser(3)</a> interface integrates a rump kernel to the host platform. Suitable and readily supported platforms include for example POSIX userspace (such as <span class="unix">NetBSD</span>), hypervisors (such as Xen and KVM), and bare metal hardware.<p>
Rump kernels are component-oriented, which means that they consist of libraries which are linked together to form runtime images. If the platform supports it, dynamic linking may be used to load components at runtime, allowing the creation of services where the runtime component configuration is specified when the service is run (see <a class="link-man" href="../1/rump_server">rump_server(1)</a> for an example).<p>
A rump kernel provides its own set of namespaces, such as a file system hierarchy and TCP ports, that are independent of the ones on the host and of any other rump kernel instances. It should be noted that the presence of the provided namespaces depends on the components that the rump kernel was constructed with. For example, networking and file systems are components, and it is possible to construct a rump kernel which supports neither.<p>
A rump kernel accepts the following bootstrap parameters. The exact way of specifying the parameters depends on the host platform; for example in POSIX userspace the parameters are environment variables.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RUMP_NCPU</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
If set, the value indicates the number of virtual cores configured into a rump kernel, i.e. the number of threads which can be concurrently executing code inside the rump kernel.<p>
The special value "host" can be used to specify the number of of host cores available (note: not available on all platforms). If this parameter is unset, two cores will be configured.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RUMP_VERBOSE</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
If set to non-zero, causes bootstrap messages to be displayed on the console.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RUMP_MEMLIMIT</span></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
If set, indicates the maximum amount of memory that a rump kernel will attempt to allocate from the host. If this parameter is unset, the rump kernel attempt to allocate host memory until allocation fails. When the rump kernel is close to the allocation limit, or when host allocation fails, the rump kernel will attempt to make more memory available by invoking its internal pagedaemon to flush caches.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-ext" href="http://rumpkernel.org/">http://rumpkernel.org/</a><p>
<span class="ref"><span class="ref-auth">Antti Kantee</span> and <span class="ref-auth">Justin Cormack</span>, <span class="ref-title">Rump Kernels: No OS? No Problem!</span>, <i class="ref-issue">USENIX</i>, <i class="ref-jrnl">;login:</i>, <span class="ref-num">No. 5</span>, <span class="ref-vol">Vol. 39</span>, <span class="ref-date">October 2014</span>.</span><p>
<span class="ref"><span class="ref-auth">Antti Kantee</span>, <span class="ref-title">Flexible Operating System Internals: The Design and Implementation of the Anykernel and Rump Kernels</span>, <i class="ref-jrnl">Aalto University Doctoral Dissertations</i>, <span class="ref-date">2012</span>.</span><p>
<span class="ref"><span class="ref-auth">Antti Kantee</span>, <span class="ref-title">Rump Device Drivers: Shine On You Kernel Diamond</span>, <i class="ref-book">Proceedings of AsiaBSDCon 2010</i>, <span class="ref-page">pp. 75-84</span>, <span class="ref-date">March 2010</span>.</span><p>
<span class="ref"><span class="ref-auth">Arnaud Ysmal</span> and <span class="ref-auth">Antti Kantee</span>, <span class="ref-title">Fs-utils: File Systems Access Tools for Userland</span>, <i class="ref-book">EuroBSDCon 2009</i>, <span class="ref-date">September 2009</span>.</span><p>
<span class="ref"><span class="ref-auth">Antti Kantee</span>, <span class="ref-title">Rump File Systems: Kernel Code Reborn</span>, <i class="ref-book">Proceedings of the 2009 USENIX Annual Technical Conference</i>, <span class="ref-page">pp. 201-214</span>, <span class="ref-date">June 2009</span>.</span><p>
<span class="ref"><span class="ref-auth">Antti Kantee</span>, <span class="ref-title">Kernel Development in Userspace - The Rump Approach</span>, <i class="ref-book">BSDCan 2009</i>, <span class="ref-date">May 2009</span>.</span><p>
<span class="ref"><span class="ref-auth">Antti Kantee</span>, <span class="ref-title">Environmental Independence: BSD Kernel TCP/IP in Userspace</span>, <i class="ref-book">Proceedings of AsiaBSDCon 2009</i>, <span class="ref-page">pp. 71-80</span>, <span class="ref-date">March 2009</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> An experimental concept for the anykernel and rump kernels was first seen during the <span class="unix">NetBSD&#160;5.0</span> development cycle. A stable concept was ready for <span class="unix">NetBSD&#160;6.0</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 1, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

