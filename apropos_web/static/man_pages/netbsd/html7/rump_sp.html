<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RUMP_SP(7)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RUMP_SP(7)</td>
<td class="head-vol" align="center">
Miscellaneous Information Manual</td>
<td class="head-rtitle" align="right">
RUMP_SP(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rump_sp</b> &#8212; <span class="desc">rump remote system call support</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">rump_sp</b> facility allows clients to attach to a rump kernel server over a socket and perform system calls. While making a local rump system call is faster than calling the host kernel, a remote system call over a socket is slower. This facility is therefore meant mostly for operations which are not performance critical, such as configuration of a rump kernel server.<div class="subsection">
<h2 id="x436c69656e7473">Clients</h2> The <span class="unix">NetBSD</span> base system comes with multiple preinstalled clients which can be used to configure a rump kernel and request diagnostic information. These clients run as hybrids partially in the host system and partially against the rump kernel. For example, network-related clients will typically avoid making any file system related system calls against the rump kernel, since it is not guaranteed that a rump network server has file system support. Another example is DNS: since a rump server very rarely has a DNS service configured, host networking is used to do DNS lookups.<p>
Some examples of clients include <b class="name">rump.ifconfig</b> which configures interfaces, <b class="name">rump.sysctl</b> which is used to access the <a class="link-man" href="../html7/sysctl.html">sysctl(7)</a> namespace and <b class="name">rump.traceroute</b> which is used to display a network trace starting from the rump kernel.<p>
Also, almost any unmodified dynamically linked application (for example <a class="link-man" href="../html1/telnet.html">telnet(1)</a> or <a class="link-man" href="../html1/ls.html">ls(1)</a>) can be used as a rump kernel client with the help of system call hijacking. See <a class="link-man" href="../html3/rumphijack.html">rumphijack(3)</a> for more information.</div>
<div class="subsection">
<h2 id="x436f6e6e656374696e6720746f2074686520736572766572">Connecting to the server</h2> A remote rump server is specified using an URL. Currently two types of URLs are supported: TCP and local domain sockets. The TCP URL is of the format tcp://ip.address:port/ and the local domain URL is unix://path. The latter can accept relative or absolute paths. Note that absolute paths require three leading slashes.<p>
To preserve the standard usage of the rump clients' counterparts the environment variable <span class="env">RUMP_SERVER</span> is used to specify the server URL. To keep track of which rump kernel the current shell is using, modifying the shell prompt is recommended -- this is analoguous to the visual clue you have when you login from one machine to another.</div>
<div class="subsection">
<h2 id="x436c69656e742063726564656e7469616c7320616e642061636365737320636f6e74726f6c">Client credentials and access control</h2> The current scheme gives all connecting clients root credentials. It is recommended to take precautions which prevent unauthorized access. For a unix domain socket it is enough to prevent access to the socket using file system permissions. For TCP/IP sockets the only available means is to prevent network access to the socket with the use of firewalls. More fine-grained access control based on cryptographic credentials may be implemented at a future date.</div>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Get a list of file systems supported by a rump kernel server (in case that particular server does not support file systems, an error will be returned):<p>
<pre style="margin-left: 5.00ex;" class="lit display">
$ env RUMP_SERVER=unix://sock rump.sysctl vfs.generic.fstypes</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/rump_server.html">rump_server(1)</a>, <a class="link-man" href="../html3/rump.html">rump(3)</a>, <a class="link-man" href="../html3/rumpclient.html">rumpclient(3)</a>, <a class="link-man" href="../html3/rumphijack.html">rumphijack(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> <b class="name">rump_sp</b> first appeared in <span class="unix">NetBSD&#160;6.0</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
February 7, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

