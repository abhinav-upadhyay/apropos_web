<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
USERMOD(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
USERMOD(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
USERMOD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">usermod</b> &#8212; <span class="desc">modify user login information</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
usermod</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;FmoSv</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;C</b> <i class="arg">yes/no</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;c</b> <i class="arg">comment</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;d</b> <i class="arg">home-dir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">expiry-time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;f</b> <i class="arg">inactive-time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;G</b> <i class="arg">secondary-group</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <code class="lit">=uid</code></span>&#93; &#91;<span class="opt"><b class="flag">&#45;L</b> <i class="arg">login-class</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;l</b> <i class="arg">new-login</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">password</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">shell</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">uid</i></span>&#93; <i class="arg">user</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">usermod</b> utility modifies user login information on the system.<p>
Default values are taken from the information provided in the <i class="file">/etc/usermgmt.conf</i> file, which, if running as root, is created using the built-in defaults if it does not exist.<p>
See <a class="link-man" href="../8/user">user(8)</a> for more information about <span class="define">EXTENSIONS</span>.<p>
After setting any defaults, and then reading values from <i class="file">/etc/usermgmt.conf</i>, the following command line options are processed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;C</b> <i class="arg">yes/no</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enable user accounts to be temporary locked/closed. The <i class="arg">yes/no</i> operand can be given as &#8220;<i class="arg">yes</i>&#8221; to lock the account or &#8220;<i class="arg">no</i>&#8221; to unlock the account.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">comment</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the comment field (also, for historical reasons known as the GECOS field) for the user. The comment field will typically include the user's full name and, perhaps, contact information for the user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b> <i class="arg">home-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the home directory without populating it; if the <b class="flag">&#45;m</b> option is specified, tries to move the old home directory to <i class="arg">home-directory</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b> <i class="arg">expiry-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the time at which the account expires. This can be used to implement password aging. It should be entered in the form &#8220;month day year&#8221;, where month is the month name (the first three characters are sufficient), day is the day of the month, and year is the year. Time in seconds since the epoch (UTC) is also valid. A value of 0 can be used to disable this feature. This value can be preset for all users using the <i class="arg">expire</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../5/usermgmt.conf">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;F</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force the user to change their password upon next login.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b> <i class="arg">inactive-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the time at which the password expires. See the <b class="flag">&#45;e</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;G</b> <i class="arg">secondary-group</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify a secondary group to which the user will be added in the <i class="file">/etc/group</i> file. The <i class="arg">secondary-group</i> may be a comma-delimited list for multiple groups. Or the option may be repeated for multiple groups. (16 groups maximum.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <code class="lit">=uid</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Give the group name or identifier to be used for the user's primary group. If this is &#8216;<code class="lit">=uid</code>&#8217;, then a uid and gid will be picked which are both unique and the same, and a line will be added to <i class="file">/etc/group</i> to describe the new group. This value can be preset for all users by using the <i class="arg">group</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../5/usermgmt.conf">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;L</b> <i class="arg">login-class</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the login class for the user. See <a class="link-man" href="../5/login.conf">login.conf(5)</a> for more information on user login classes. This value can be preset for all users by using the <i class="arg">class</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../5/usermgmt.conf">usermgmt.conf(5)</a> for more details. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b> <i class="arg">new-user</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Give the new user name. It can consist of alphanumeric characters and the characters &#8216;<code class="lit">.</code>&#8217;, &#8216;<code class="lit">-</code>&#8217;, and &#8216;<code class="lit">_</code>&#8217;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Move the home directory from its old position to the new one. If <b class="flag">&#45;d</b> is not specified, the <i class="arg">new-user</i> argument of the <b class="flag">&#45;l</b> option is used; one of <b class="flag">&#45;d</b> and <b class="flag">&#45;l</b> is needed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Allow duplicate uids to be given.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">password</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify an already-encrypted password for the user. This password can then be changed by using the <a class="link-man" href="../1/chpass">chpass(1)</a> utility. This value can be preset for all users by using the <i class="arg">password</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../5/usermgmt.conf">usermgmt.conf(5)</a> for more details. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Allow samba user names with a trailing dollar sign to be modified. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">shell</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the login shell for the user. This value can be preset for all users by using the <i class="arg">shell</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../5/usermgmt.conf">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">uid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify a new uid for the user. Boundaries for this value can be preset for all users by using the <i class="arg">range</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../5/usermgmt.conf">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enable verbose mode - explain the commands as they are executed. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
</dl>
<p>
Once the information has been verified, <b class="name">usermod</b> uses <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a> to update the user database. This is run in the background. At very large sites this can take several minutes. Until this update is completed, the password file is unavailable for other updates and the new information is not available to programs.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/usermgmt.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">usermod</b> utility exits 0 on success, and &gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/chpass">chpass(1)</a>, <a class="link-man" href="../5/group">group(5)</a>, <a class="link-man" href="../5/passwd">passwd(5)</a>, <a class="link-man" href="../5/usermgmt.conf">usermgmt.conf(5)</a>, <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a>, <a class="link-man" href="../8/user">user(8)</a>, <a class="link-man" href="../8/useradd">useradd(8)</a>, <a class="link-man" href="../8/userdel">userdel(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">usermod</b> utility first appeared in <span class="unix">NetBSD&#160;1.5</span>. It is based on the <i class="arg">addnerd</i> package by the same author.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">usermod</b> utility was written by <span class="author">Alistair G. Crooks</span> &#60;agc@NetBSD.org&#62;.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 13, 2009</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

