<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RPC.STATD(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RPC.STATD(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
RPC.STATD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rpc.statd</b> &#8212; <span class="desc">host status monitoring daemon</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 9.00ex;">
<col>
<tbody>
<tr>
<td>
rpc.statd</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;d</b></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">rpc.statd</b> is a daemon which co-operates with rpc.statd daemons on other hosts to provide a status monitoring service.  The daemon accepts requests from programs running on the local host (typically, <a class="link-man" href="../8/rpc.lockd">rpc.lockd(8)</a>, the NFS file locking daemon) to monitor the status of specified hosts.  If a monitored host crashes and restarts, the remote daemon will notify the local daemon, which in turn will notify the local program(s) which requested the monitoring service.  Conversely, if this host crashes and restarts, when <b class="name">rpc.statd</b> restarts, it will notify all of the hosts which were being monitored at the time of the crash.<p>
Options and operands available for <b class="name">rpc.statd</b> :<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="flag">&#45;d</b> option causes debugging information to be written to syslog, recording all RPC transactions to the daemon.  These messages are logged with level LOG_DEBUG and facility LOG_DAEMON.  Error conditions are logged irrespective of this option, using level LOG_ERR.</dd>
</dl>
<p>
The <b class="name">rpc.statd</b> daemon must NOT be invoked by <a class="link-man" href="../8/inetd">inetd(8)</a> because the protocol assumes that the daemon will run from system start time. Instead, it should be configured in <a class="link-man" href="../5/rc.conf">rc.conf(5)</a> to run at system startup.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/db/statd.status</i></dt>
<dd class="list-tag" style="margin-left: 30.00ex;">
non-volatile record of currently monitored hosts.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/include/rpcsvc/sm_inter.x</i></dt>
<dd class="list-tag" style="margin-left: 30.00ex;">
RPC protocol specification used by local applications to register monitoring requests.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../3/syslog">syslog(3)</a>, <a class="link-man" href="../5/rc.conf">rc.conf(5)</a>, <a class="link-man" href="../8/rpc.lockd">rpc.lockd(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The implementation is based on the specification in X/Open CAE Specification C218, "Protocols for X/Open PC Interworking: XNFS, Issue 4", ISBN 1 872630 66 9</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A version of <b class="name">rpc.statd</b> appeared in SunOS 4.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> There is no means for the daemon to tell when a monitored host has disappeared permanently (e.g., catastrophic hardware failure), as opposed to transient failure of the host or an intermediate router.  At present, it will retry notification attempts at frequent intervals for 10 minutes, then hourly, and finally gives up after 24 hours.<p>
The protocol requires that symmetric monitor requests are made to both the local and remote daemon in order to establish a monitored relationship. This is convenient for the NFS locking protocol, but probably reduces the usefulness of the monitoring system for other applications.<p>
The current implementation uses more than 1Kbyte per monitored host in the status file (and also in VM).  This may be inefficient for NFS servers with large numbers of clients.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
September 19, 1995</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

