<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
COMPAT_OSF1(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
COMPAT_OSF1(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
COMPAT_OSF1(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">compat_osf1</b> &#8212; <span class="desc">setup procedure for running OSF/1 binaries</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <span class="unix">NetBSD</span> supports running OSF/1 (a.k.a Digital Unix, a.k.a. Tru64) binaries on <span class="unix">NetBSD</span>/alpha systems. Most programs should work, including the ones that use the shared object libraries. Programs that make direct MACH system calls will not work. The OSF/1 compatibility feature is active for kernels compiled with the <span class="define">COMPAT_OSF1</span> option enabled (see <a class="link-man" href="../4/options">options(4)</a>).<p>
To run dynamically linked programs, you will need the OSF/1 shared libraries, runtime linker, and certain configuration files found in /etc. These are installed in a &#8220;shadow root&#8221; directory called <i class="file">/emul/osf1</i>. Any file operations done by OSF/1 programs run under <span class="unix">NetBSD</span> will look in this directory first, and fall back to the file system proper. So, if an OSF/1 program opens <i class="file">/etc/svc.conf</i>, <span class="unix">NetBSD</span> will first try to open <i class="file">/emul/osf1/etc/svc.conf</i>, and if that file does not exist it will then try <i class="file">/etc/svc.conf</i>. Shared libraries and configuration specific to OSF/1 should be installed in the shadow tree.<div class="subsection">
<h2 id="x53657474696e67207570202f656d756c2f6f736631">Setting up /emul/osf1</h2> The simple technique is to install pkgsrc/emulators/osf1_lib. (You may also want to install pkgsrc/www/navigator and/or pkgsrc/www/communicator.)<p>
Alternatively, if you have access to an OSF/1 machine and if the licensing details permit, you can copy the contents of:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-item">
<li class="list-item" style="margin-top: 0.00em;">
<i class="file">/shlib</i></li>
<li class="list-item" style="margin-top: 0.00em;">
<i class="file">/usr/shlib</i></li>
<li class="list-item" style="margin-top: 0.00em;">
<i class="file">/etc/sia</i></li>
<li class="list-item" style="margin-top: 0.00em;">
<i class="file">/usr/lib/X11/locale</i></li>
</ul>
<p>
(The latter is required to run Netscape Navigator or Communicator.)<p>
Also copy<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-item">
<li class="list-item" style="margin-top: 0.00em;">
<i class="file">/etc/svc.conf</i></li>
<li class="list-item" style="margin-top: 0.00em;">
<i class="file">/usr/ccs/lib/cmplrs/otabase/libots.so</i></li>
<li class="list-item" style="margin-top: 0.00em;">
<i class="file">/sbin/loader</i></li>
</ul>
<p>
Or, simply NFS mount the appropriate directories under <i class="file">/emul/osf1</i>.</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/config">config(1)</a>, <a class="link-man" href="../4/options">options(4)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Your <a class="link-man" href="../1/hostname">hostname(1)</a> <span class="emph">must</span> contain a dot <span class="emph">or</span> your <a class="link-man" href="../5/resolv.conf">resolv.conf(5)</a> must contain a <code class="lit">search</code> line. Without one of those, the OSF/1 resolver will die and no hostname resolution will be possible.<p>
Certain values in <i class="file">/emul/osf1/etc/svc.conf</i> can cause programs to fail with &#8220;Bad system call&#8221;.<p>
Pathnames pointed to by symbolic links are not looked up in the shadow root when running an OSF/1 executable. This is not consistent.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 4, 1999</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

