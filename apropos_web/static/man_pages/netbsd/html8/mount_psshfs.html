<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MOUNT_PSSHFS(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MOUNT_PSSHFS(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
MOUNT_PSSHFS(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">mount_psshfs</b> &#8212; <span class="desc">sshfs implementation for puffs</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 12.00ex;">
<col>
<tbody>
<tr>
<td>
mount_psshfs</td>
<td>
&#91;<span class="opt"><i class="arg">options</i></span>&#93; <i class="arg">user@host[:path]</i> <i class="arg">mount_point</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">mount_psshfs</b> utility can be used to mount a file system using the ssh sftp subprotocol, making a remote directory hierarchy appear in the local directory tree. This functionality is commonly known as <span class="emph">sshfs</span>.<p>
The mandatory parameters are the target host name and local mount point. The target host parameter can optionally contain a username whose credentials will be used by the remote sshd, and a relative or absolute path for the remote mount point's root. If no user is given, the credentials of the user issuing the mount command are used. If no path is given, the user's home directory on the remote machine will be used.<p>
The following command line options are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">nconnect</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Opens <i class="arg">nconnect</i> connections to the server. Currently, the value has to be 1 or 2. If 2 is specified, a second connection is opened for the reading and writing of data, while directory operations are performed on their own connection. This can greatly increase directory operation performance (ls, mkdir, etc.) if <b class="name">mount_psshfs</b> completely saturates the available bandwidth by doing bulk data copying. The default is 1.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Makes the mounted file system NFS exportable. If this option is used, it is very important to understand that <b class="name">mount_psshfs</b> can not provide complete support for NFS due to the limitations in the backend. Files are valid only for the time that <b class="name">mount_psshfs</b> is running and in the event of e.g. a server crash, all client retries to access files will fail.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;F</b> <i class="arg">configfile</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Pass a configuration file to <a class="link-man" href="../1/ssh">ssh(1)</a>. This will make it ignore the system-wide <i class="file">/etc/ssh/ssh_config</i> configuration file and use <i class="file">configfile</i> instead of <i class="file">~/.ssh/config</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">manglegid</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Converts remote <i class="arg">manglegid</i> to the effective gid of the file server and vice versa. See <b class="flag">&#45;u</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b> <i class="arg">[no]option</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
This flag can be used to give standard mount options and options to puffs.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;O</b> <i class="arg">sshopt=value</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Pass an option to <a class="link-man" href="../1/ssh">ssh(1)</a>, for example <b class="flag">&#45;O</b> <i class="arg">Port=22</i>. For a list of valid options, see <a class="link-man" href="../5/ssh_config">ssh_config(5)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Preserve connection. This option makes <b class="name">mount_psshfs</b> to try to reconnect to the server if the connection fails. The option is very experimental and does not preserve open files or retry current requests and should generally only be used if the trade-offs are well understood.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b> <i class="arg">max_reads</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Limits maximum outstanding read requests for each node to <i class="arg">max_reads</i>. This can be used to improve interactive performance on low-bandwidth links when also performing bulk data reads.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
This flag can be used to make the program stay on top. The default is to detach from the terminal and run in the background.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b> <i class="arg">timeout</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
By default <b class="name">mount_psshfs</b> caches directory contents and node attributes for 30 seconds before re-fetching from the server to check if anything has changed on the server. This option is used to adjust the timeout period to <i class="arg">timeout</i> seconds. A value of 0 means the cache is never valid; &#45;1 means it is valid indefinitely. It is possible to force a re-read regardless of timeout status by sending <span class="define">SIGHUP</span> to the <b class="name">mount_psshfs</b> process.<p>
Note: the file system will still free nodes when requested by the kernel and will lose all cached information in doing so. How frequently this happens depends on system activity and the total number of available vnodes in the system (kern.maxvnodes).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">mangleuid</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Converts remote <i class="arg">mangleuid</i> to the effective uid of the file server and vice versa. This is a simple special case of the functionality of <a class="link-man" href="../8/mount_umap">mount_umap(8)</a>. For example: you mount remote me@darkmoon as the local user "me". If the uid of "me" on the local system is 101 and on darkmoon it is 202, you would use <b class="flag">&#45;u</b> <i class="arg">202</i> to see files owned by 202 on darkmoon as owned by 101 when browsing the mount point. Apart from the cosmetic effect, this makes things like "chown me file" work. See <b class="flag">&#45;g</b>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The following example illustrates how to mount the directory <span class="emph">/usr</span> on server <span class="emph">bigiron</span> as user <span class="emph">abc</span> on local directory <span class="emph">/mnt</span> with ssh transport compression enabled:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
mount_psshfs -O Compression=yes abc@bigiron:/usr /mnt</pre>
<p>
It is possible to use <a class="link-man" href="../5/fstab">fstab(5)</a> for psshfs mounts, with SSH public key authentication:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">abc@bigiron:/usr /mnt psshfs rw,noauto,-O=BatchMode=yes,-O=IdentityFile=/root/.ssh/id_rsa,-t=-1</code></div>
</blockquote>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/sftp">sftp(1)</a>, <a class="link-man" href="../3/puffs">puffs(3)</a>, <a class="link-man" href="../4/puffs">puffs(4)</a>, <a class="link-man" href="../5/fstab">fstab(5)</a>, <a class="link-man" href="../5/ssh_config">ssh_config(5)</a>, <a class="link-man" href="../8/mount">mount(8)</a>, <a class="link-man" href="../8/sshd">sshd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">mount_psshfs</b> utility first appeared in <span class="unix">NetBSD&#160;5.0</span>. It was inspired by FUSE sshfs.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> Permissions are not handled. Do not expect the file system to behave except for a single user.<p>
Depending on if the server supports the <a class="link-man" href="../1/sftp">sftp(1)</a> statvfs protocol extension, free disk space may be displayed for the mount by <a class="link-man" href="../1/df">df(1)</a>. This information reflects the status at the server's mountpoint and may differ for subdirectories under the mount root.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 7, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

