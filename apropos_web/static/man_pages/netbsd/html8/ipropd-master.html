<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
IPROP(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
IPROP(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
IPROP(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">iprop</b>, <b class="name">ipropd-master</b>, <b class="name">ipropd-slave</b> &#8212; <span class="desc">propagate changes to a Heimdal Kerberos master KDC to slave KDCs</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
ipropd-master</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;c</b> <i class="arg">string</i> | <b class="flag">&#45;</b><b class="flag">&#45;config-file=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b> <i class="arg">string</i> | <b class="flag">&#45;</b><b class="flag">&#45;realm=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">kspec</i> | <b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">kspec</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;d</b> <i class="arg">file</i> | <b class="flag">&#45;</b><b class="flag">&#45;database=</b><i class="arg">file</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;slave-stats-file=</b><i class="arg">file</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;time-missing=</b><i class="arg">time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;time-gone=</b><i class="arg">time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;detach</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;version</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;help</b></span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
ipropd-slave</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;c</b> <i class="arg">string</i> | <b class="flag">&#45;</b><b class="flag">&#45;config-file=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b> <i class="arg">string</i> | <b class="flag">&#45;</b><b class="flag">&#45;realm=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">kspec</i> | <b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">kspec</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;time-lost=</b><i class="arg">time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;detach</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;version</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;help</b></span>&#93; <i class="arg">master</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">ipropd-master</b> is used to propagate changes to a Heimdal Kerberos database from the master Kerberos server on which it runs to slave Kerberos servers running <b class="name">ipropd-slave</b>.<p>
The slaves are specified by the contents of the <i class="file">slaves</i> file in the KDC's database directory, e.g. <i class="file">/var/heimdal/slaves</i>. This has principals one per-line of the form<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">iprop/<i class="arg">slave</i>@<i class="arg">REALM</i></code></div>
</blockquote>
where <i class="arg">slave</i> is the hostname of the slave server in the given <i class="arg">REALM</i>, e.g.<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">iprop/kerberos-1.example.com@EXAMPLE.COM</code></div>
</blockquote>
On a slave, the argument <i class="farg">master</i> specifies the hostname of the master server from which to receive updates.<p>
In contrast to <a class="link-man" href="../8/hprop">hprop(8)</a>, which sends the whole database to the slaves regularly, <b class="name">iprop</b> normally sends only the changes as they happen on the master. The master keeps track of all the changes by assigning a version number to every change to the database. The slaves know which was the latest version they saw, and in this way it can be determined if they are in sync or not. A log of all the changes is kept on the master. When a slave is at an older version than the oldest one in the log, the whole database has to be sent.<p>
The changes are propagated over a secure channel (on port 2121 by default). This should normally be defined as &#8220;iprop/tcp&#8221; in <i class="file">/etc/services</i> or another source of the services database. The master and slaves must each have access to a keytab with keys for the <b class="name">iprop</b> service principal on the local host.<p>
There is a keep-alive feature logged in the master's <i class="file">slave-stats</i> file (e.g. <i class="file">/var/heimdal/slave-stats</i>).<p>
Supported options for <b class="name">ipropd-master</b>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">string</i>, <b class="flag">&#45;</b><b class="flag">&#45;config-file=</b><i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b> <i class="arg">string</i>, <b class="flag">&#45;</b><b class="flag">&#45;realm=</b><i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b> <i class="arg">kspec</i>, <b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">kspec</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
keytab to get authentication from</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b> <i class="arg">file</i>, <b class="flag">&#45;</b><b class="flag">&#45;database=</b><i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Database (default per KDC)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;slave-stats-file=</b><i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
file for slave status information</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;time-missing=</b><i class="arg">time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
time before slave is polled for presence (default 2 min)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;time-gone=</b><i class="arg">time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
time of inactivity after which a slave is considered gone (default 5 min)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;detach</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
detach from console</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;version</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;help</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
</dl>
<p>
Supported options for <b class="name">ipropd-slave</b>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">string</i>, <b class="flag">&#45;</b><b class="flag">&#45;config-file=</b><i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b> <i class="arg">string</i>, <b class="flag">&#45;</b><b class="flag">&#45;realm=</b><i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b> <i class="arg">kspec</i>, <b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">kspec</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
keytab to get authentication from</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;time-lost=</b><i class="arg">time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
time before server is considered lost (default 5 min)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;detach</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
detach from console</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;version</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;help</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
</dl>
Time arguments for the relevant options above may be specified in forms like 5 min, 300 s, or simply a number of seconds.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1> <i class="file">slaves</i>, <i class="file">slave-stats</i> in the database directory.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/krb5.conf">krb5.conf(5)</a>, <a class="link-man" href="../8/hprop">hprop(8)</a>, <a class="link-man" href="../8/hpropd">hpropd(8)</a>, <a class="link-man" href="../8/iprop-log">iprop-log(8)</a>, <a class="link-man" href="../8/kdc">kdc(8)</a>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 24, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

