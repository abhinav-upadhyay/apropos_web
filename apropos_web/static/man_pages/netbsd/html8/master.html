<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MASTER(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MASTER(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
MASTER(8)</td>
</tr>
</tbody>
</table>
<br>
<div class="section">
<h1>NAME</h1> master &#45; Postfix master process</div>
<div class="section">
<h1>SYNOPSIS</h1><br>
<b>master</b> [<b>-Ddtvw</b>] [<b>-c </b><i>config_dir</i>] [<b>-e </b><i>exit_time</i>]</div>
<div class="section">
<h1>DESCRIPTION</h1><br>
The <b>master</b>(8) daemon is the resident process that runs Postfix daemons on demand: daemons to send or receive messages via the network, daemons to deliver mail locally, etc.  These daemons are created on demand up to a configurable maximum number per service.<div style="height: 1.00em;">
&#160;</div>
Postfix daemons terminate voluntarily, either after being idle for a configurable amount of time, or after having serviced a configurable number of requests. Exceptions to this rule are the resident queue manager, address verification server, and the TLS session cache and pseudo-random number server.<div style="height: 1.00em;">
&#160;</div>
The behavior of the <b>master</b>(8) daemon is controlled by the  <b>master.cf</b> configuration file, as described in <b>master</b>(5).<div style="height: 1.00em;">
&#160;</div>
Options:<dl>
<dt>
<b>-c </b><i>config_dir</i></dt>
<dd>
Read the <b>main.cf</b> and <b>master.cf</b> configuration files in the named directory instead of the default configuration directory. This also overrides the configuration files for other Postfix daemon processes.</dd>
</dl>
<dl>
<dt>
<b>-D</b></dt>
<dd>
After initialization, run a debugger on the master process. The debugging command is specified with the  <b>debugger_command</b> in the  <b>main.cf</b> global configuration file.</dd>
</dl>
<dl>
<dt>
<b>-d</b></dt>
<dd>
Do not redirect stdin, stdout or stderr to /dev/null, and do not discard the controlling terminal. This must be used for debugging only.</dd>
</dl>
<dl>
<dt>
<b>-e </b><i>exit_time</i></dt>
<dd>
Terminate the master process after <i>exit_time</i> seconds. Child processes terminate at their convenience.</dd>
</dl>
<dl>
<dt>
<b>-t</b></dt>
<dd>
Test mode. Return a zero exit status when the <b>master.pid</b> lock file does not exist or when that file is not locked.  This is evidence that the  <b>master</b>(8) daemon is not running.</dd>
</dl>
<dl>
<dt>
<b>-v</b></dt>
<dd>
Enable verbose logging for debugging purposes. This option is passed on to child processes. Multiple  <b>-v</b> options make the software increasingly verbose.</dd>
</dl>
<dl>
<dt>
<b>-w</b></dt>
<dd>
Wait in a dummy foreground process, while the real master daemon initializes in a background process.  The dummy foreground process returns a zero exit status only if the master daemon initialization is successful, and if it completes in a reasonable amount of time.<div style="height: 1.00em;">
&#160;</div>
This feature is available in Postfix 2.10 and later.</dd>
</dl>
<p>
Signals:<dl>
<dt>
<b>SIGHUP</b></dt>
<dd>
Upon receipt of a <b>HUP</b> signal (e.g., after "<b>postfix reload</b>"), the master process re-reads its configuration files. If a service has been removed from the  <b>master.cf</b> file, its running processes are terminated immediately. Otherwise, running processes are allowed to terminate as soon as is convenient, so that changes in configuration settings affect only new service requests.</dd>
</dl>
<dl>
<dt>
<b>SIGTERM</b></dt>
<dd>
Upon receipt of a <b>TERM</b> signal (e.g., after "<b>postfix abort</b>"), the master process passes the signal on to its child processes and terminates. This is useful for an emergency shutdown. Normally one would terminate only the master (" <b>postfix stop</b>") and allow running processes to finish what they are doing.</dd>
</dl>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><br>
Problems are reported to <b>syslogd</b>(8). The exit status is non-zero in case of problems, including problems while initializing as a master daemon process in the background.</div>
<div class="section">
<h1>ENVIRONMENT</h1><br>
<dl>
<dt>
<b>MAIL_DEBUG</b></dt>
<dd>
After initialization, start a debugger as specified with the  <b>debugger_command</b> configuration parameter in the <b>main.cf</b> configuration file.</dd>
</dl>
<dl>
<dt>
<b>MAIL_CONFIG</b></dt>
<dd>
Directory with Postfix configuration files.</dd>
</dl>
</div>
<div class="section">
<h1>CONFIGURATION PARAMETERS</h1><br>
Unlike most Postfix daemon processes, the <b>master</b>(8) server does not automatically pick up changes to  <b>main.cf</b>. Changes to  <b>master.cf</b> are never picked up automatically. Use the " <b>postfix reload</b>" command after a configuration change.</div>
<div class="section">
<h1>RESOURCE AND RATE CONTROLS</h1><br>
<dl>
<dt>
<b>default_process_limit (100)</b></dt>
<dd>
The default maximal number of Postfix child processes that provide a given service.</dd>
</dl>
<dl>
<dt>
<b>max_idle (100s)</b></dt>
<dd>
The maximum amount of time that an idle Postfix daemon process waits for an incoming connection before terminating voluntarily.</dd>
</dl>
<dl>
<dt>
<b>max_use (100)</b></dt>
<dd>
The maximal number of incoming connections that a Postfix daemon process will service before terminating voluntarily.</dd>
</dl>
<dl>
<dt>
<b>service_throttle_time (60s)</b></dt>
<dd>
How long the Postfix <b>master</b>(8) waits before forking a server that appears to be malfunctioning.</dd>
</dl>
<p>
Available in Postfix version 2.6 and later:<dl>
<dt>
<b>master_service_disable (empty)</b></dt>
<dd>
Selectively disable <b>master</b>(8) listener ports by service type or by service name and type.</dd>
</dl>
</div>
<div class="section">
<h1>MISCELLANEOUS CONTROLS</h1><br>
<dl>
<dt>
<b>config_directory (see 'postconf -d' output)</b></dt>
<dd>
The default location of the Postfix main.cf and master.cf configuration files.</dd>
</dl>
<dl>
<dt>
<b>daemon_directory (see 'postconf -d' output)</b></dt>
<dd>
The directory with Postfix support programs and daemon programs.</dd>
</dl>
<dl>
<dt>
<b>debugger_command (empty)</b></dt>
<dd>
The external command to execute when a Postfix daemon program is invoked with the -D option.</dd>
</dl>
<dl>
<dt>
<b>inet_interfaces (all)</b></dt>
<dd>
The network interface addresses that this mail system receives mail on.</dd>
</dl>
<dl>
<dt>
<b>inet_protocols (all)</b></dt>
<dd>
The Internet protocols Postfix will attempt to use when making or accepting connections.</dd>
</dl>
<dl>
<dt>
<b>import_environment (see 'postconf -d' output)</b></dt>
<dd>
The list of environment parameters that a Postfix process will import from a non-Postfix parent process.</dd>
</dl>
<dl>
<dt>
<b>mail_owner (postfix)</b></dt>
<dd>
The UNIX system account that owns the Postfix queue and most Postfix daemon processes.</dd>
</dl>
<dl>
<dt>
<b>process_id (read-only)</b></dt>
<dd>
The process ID of a Postfix command or daemon process.</dd>
</dl>
<dl>
<dt>
<b>process_name (read-only)</b></dt>
<dd>
The process name of a Postfix command or daemon process.</dd>
</dl>
<dl>
<dt>
<b>queue_directory (see 'postconf -d' output)</b></dt>
<dd>
The location of the Postfix top-level queue directory.</dd>
</dl>
<dl>
<dt>
<b>syslog_facility (mail)</b></dt>
<dd>
The syslog facility of Postfix logging.</dd>
</dl>
<dl>
<dt>
<b>syslog_name (see 'postconf -d' output)</b></dt>
<dd>
The mail system name that is prepended to the process name in syslog records, so that "smtpd" becomes, for example, "postfix/smtpd".</dd>
</dl>
</div>
<div class="section">
<h1>FILES</h1><br>
To expand the directory names below into their actual values, use the command " <b>postconf config_directory</b>" etc.<p>
<br>
$config_directory/main.cf, global configuration file.<br>
$config_directory/master.cf, master server configuration file.<br>
$queue_directory/pid/master.pid, master lock file.<br>
$data_directory/master.lock, master lock file.</div>
<div class="section">
<h1>SEE ALSO</h1><br>
qmgr(8), queue manager<br>
verify(8), address verification<br>
master(5), master.cf configuration file syntax<br>
postconf(5), main.cf configuration file syntax<br>
syslogd(8), system logging</div>
<div class="section">
<h1>LICENSE</h1><br>
The Secure Mailer license must be distributed with this software.</div>
<div class="section">
<h1>AUTHOR(S)</h1><br>
Wietse Venema<br>
IBM T.J. Watson Research<br>
P.O. Box 704<br>
Yorktown Heights, NY 10598, USA</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
</td>
<td class="foot-os" align="right">
</td>
</tr>
</table>
</div>
</body>
<>

