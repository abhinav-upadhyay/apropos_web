<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
NAMED&#45;CHECKZONE(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
NAMED&#45;CHECKZONE(8)</td>
<td class="head-vol" align="center">
BIND9</td>
<td class="head-rtitle" align="right">
NAMED&#45;CHECKZONE(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> named&#45;checkzone, named&#45;compilezone &#45; zone file validity checking or converting tool</div>
<div class="section">
<h1>SYNOPSIS</h1><p style="margin-left: 16.00ex;text-indent: -16.00ex;">
<b>named&#45;checkzone</b> [<b>&#45;d</b>] [<b>&#45;h</b>] [<b>&#45;j</b>] [<b>&#45;q</b>] [<b>&#45;v</b>] [<b>&#45;c&#160;</b><b></b><i>class</i>] [<b>&#45;f&#160;</b><b></b><i>format</i>] [<b>&#45;F&#160;</b><b></b><i>format</i>] [<b>&#45;J&#160;</b><b></b><i>filename</i>] [<b>&#45;i&#160;</b><b></b><i>mode</i>] [<b>&#45;k&#160;</b><b></b><i>mode</i>] [<b>&#45;m&#160;</b><b></b><i>mode</i>] [<b>&#45;M&#160;</b><b></b><i>mode</i>] [<b>&#45;n&#160;</b><b></b><i>mode</i>] [<b>&#45;l&#160;</b><b></b><i>ttl</i>] [<b>&#45;L&#160;</b><b></b><i>serial</i>] [<b>&#45;o&#160;</b><b></b><i>filename</i>] [<b>&#45;r&#160;</b><b></b><i>mode</i>] [<b>&#45;s&#160;</b><b></b><i>style</i>] [<b>&#45;S&#160;</b><b></b><i>mode</i>] [<b>&#45;t&#160;</b><b></b><i>directory</i>] [<b>&#45;T&#160;</b><b></b><i>mode</i>] [<b>&#45;w&#160;</b><b></b><i>directory</i>] [<b>&#45;D</b>] [<b>&#45;W&#160;</b><b></b><i>mode</i>] {zonename} {filename}<p>
<p style="margin-left: 18.00ex;text-indent: -18.00ex;">
<b>named&#45;compilezone</b> [<b>&#45;d</b>] [<b>&#45;j</b>] [<b>&#45;q</b>] [<b>&#45;v</b>] [<b>&#45;c&#160;</b><b></b><i>class</i>] [<b>&#45;C&#160;</b><b></b><i>mode</i>] [<b>&#45;f&#160;</b><b></b><i>format</i>] [<b>&#45;F&#160;</b><b></b><i>format</i>] [<b>&#45;J&#160;</b><b></b><i>filename</i>] [<b>&#45;i&#160;</b><b></b><i>mode</i>] [<b>&#45;k&#160;</b><b></b><i>mode</i>] [<b>&#45;m&#160;</b><b></b><i>mode</i>] [<b>&#45;n&#160;</b><b></b><i>mode</i>] [<b>&#45;l&#160;</b><b></b><i>ttl</i>] [<b>&#45;L&#160;</b><b></b><i>serial</i>] [<b>&#45;r&#160;</b><b></b><i>mode</i>] [<b>&#45;s&#160;</b><b></b><i>style</i>] [<b>&#45;t&#160;</b><b></b><i>directory</i>] [<b>&#45;T&#160;</b><b></b><i>mode</i>] [<b>&#45;w&#160;</b><b></b><i>directory</i>] [<b>&#45;D</b>] [<b>&#45;W&#160;</b><b></b><i>mode</i>] {<b>&#45;o&#160;</b><b></b><i>filename</i>} {zonename} {filename}</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>named&#45;checkzone</b> checks the syntax and integrity of a zone file. It performs the same checks as  <b>named</b> does when loading a zone. This makes  <b>named&#45;checkzone</b> useful for checking zone files before configuring them into a name server.<p>
<b>named&#45;compilezone</b> is similar to  <b>named&#45;checkzone</b>, but it always dumps the zone contents to a specified file in a specified format. Additionally, it applies stricter check levels by default, since the dump output will be used as an actual zone file loaded by  <b>named</b>. When manually specified otherwise, the check levels must at least be as strict as those specified in the  <b>named</b> configuration file.</div>
<div class="section">
<h1>OPTIONS</h1> &#45;d<div style="margin-left: 4.00ex;">
Enable debugging.</div>
<p>
&#45;h<div style="margin-left: 4.00ex;">
Print the usage summary and exit.</div>
<p>
&#45;q<div style="margin-left: 4.00ex;">
Quiet mode &#45; exit code only.</div>
<p>
&#45;v<div style="margin-left: 4.00ex;">
Print the version of the  <b>named&#45;checkzone</b> program and exit.</div>
<p>
&#45;j<div style="margin-left: 4.00ex;">
When loading a zone file, read the journal if it exists. The journal file name is assumed to be the zone file name appended with the string  <i>.jnl</i>.</div>
<p>
&#45;J <i>filename</i><div style="margin-left: 4.00ex;">
When loading the zone file read the journal from the given file, if it exists. (Implies &#45;j.)</div>
<p>
&#45;c <i>class</i><div style="margin-left: 4.00ex;">
Specify the class of the zone. If not specified, "IN" is assumed.</div>
<p>
&#45;i <i>mode</i><div style="margin-left: 4.00ex;">
Perform post&#45;load zone integrity checks. Possible modes are  <b>"full"</b> (default),  <b>"full&#45;sibling"</b>,  <b>"local"</b>,  <b>"local&#45;sibling"</b> and  <b>"none"</b>.<div style="height: 1.00em;">
&#160;</div>
Mode  <b>"full"</b> checks that MX records refer to A or AAAA record (both in&#45;zone and out&#45;of&#45;zone hostnames). Mode  <b>"local"</b> only checks MX records which refer to in&#45;zone hostnames.<div style="height: 1.00em;">
&#160;</div>
Mode  <b>"full"</b> checks that SRV records refer to A or AAAA record (both in&#45;zone and out&#45;of&#45;zone hostnames). Mode  <b>"local"</b> only checks SRV records which refer to in&#45;zone hostnames.<div style="height: 1.00em;">
&#160;</div>
Mode  <b>"full"</b> checks that delegation NS records refer to A or AAAA record (both in&#45;zone and out&#45;of&#45;zone hostnames). It also checks that glue address records in the zone match those advertised by the child. Mode  <b>"local"</b> only checks NS records which refer to in&#45;zone hostnames or that some required glue exists, that is when the nameserver is in a child zone.<div style="height: 1.00em;">
&#160;</div>
Mode  <b>"full&#45;sibling"</b> and  <b>"local&#45;sibling"</b> disable sibling glue checks but are otherwise the same as  <b>"full"</b> and  <b>"local"</b> respectively.<div style="height: 1.00em;">
&#160;</div>
Mode  <b>"none"</b> disables the checks.</div>
<p>
&#45;f <i>format</i><div style="margin-left: 4.00ex;">
Specify the format of the zone file. Possible formats are  <b>"text"</b> (default),  <b>"raw"</b>, and  <b>"map"</b>.</div>
<p>
&#45;F <i>format</i><div style="margin-left: 4.00ex;">
Specify the format of the output file specified. For  <b>named&#45;checkzone</b>, this does not cause any effects unless it dumps the zone contents.<div style="height: 1.00em;">
&#160;</div>
Possible formats are  <b>"text"</b> (default), which is the standard textual representation of the zone, and  <b>"map"</b>,  <b>"raw"</b>, and  <b>"raw=N"</b>, which store the zone in a binary format for rapid loading by  <b>named</b>.  <b>"raw=N"</b> specifies the format version of the raw zone file: if N is 0, the raw file can be read by any version of  <b>named</b>; if N is 1, the file can be read by release 9.9.0 or higher; the default is 1.</div>
<p>
&#45;k <i>mode</i><div style="margin-left: 4.00ex;">
Perform  <b>"check&#45;names"</b> checks with the specified failure mode. Possible modes are  <b>"fail"</b> (default for  <b>named&#45;compilezone</b>),  <b>"warn"</b> (default for  <b>named&#45;checkzone</b>) and  <b>"ignore"</b>.</div>
<p>
&#45;l <i>ttl</i><div style="margin-left: 4.00ex;">
Sets a maximum permissible TTL for the input file. Any record with a TTL higher than this value will cause the zone to be rejected. This is similar to using the  <b>max&#45;zone&#45;ttl</b> option in  <i>named.conf</i>.</div>
<p>
&#45;L <i>serial</i><div style="margin-left: 4.00ex;">
When compiling a zone to "raw" or "map" format, set the "source serial" value in the header to the specified serial number. (This is expected to be used primarily for testing purposes.)</div>
<p>
&#45;m <i>mode</i><div style="margin-left: 4.00ex;">
Specify whether MX records should be checked to see if they are addresses. Possible modes are  <b>"fail"</b>,  <b>"warn"</b> (default) and  <b>"ignore"</b>.</div>
<p>
&#45;M <i>mode</i><div style="margin-left: 4.00ex;">
Check if a MX record refers to a CNAME. Possible modes are  <b>"fail"</b>,  <b>"warn"</b> (default) and  <b>"ignore"</b>.</div>
<p>
&#45;n <i>mode</i><div style="margin-left: 4.00ex;">
Specify whether NS records should be checked to see if they are addresses. Possible modes are  <b>"fail"</b> (default for  <b>named&#45;compilezone</b>),  <b>"warn"</b> (default for  <b>named&#45;checkzone</b>) and  <b>"ignore"</b>.</div>
<p>
&#45;o <i>filename</i><div style="margin-left: 4.00ex;">
Write zone output to  <i>filename</i>. If  <i>filename</i> is  <i>&#45;</i> then write to standard out. This is mandatory for  <b>named&#45;compilezone</b>.</div>
<p>
&#45;r <i>mode</i><div style="margin-left: 4.00ex;">
Check for records that are treated as different by DNSSEC but are semantically equal in plain DNS. Possible modes are  <b>"fail"</b>,  <b>"warn"</b> (default) and  <b>"ignore"</b>.</div>
<p>
&#45;s <i>style</i><div style="margin-left: 4.00ex;">
Specify the style of the dumped zone file. Possible styles are  <b>"full"</b> (default) and  <b>"relative"</b>. The full format is most suitable for processing automatically by a separate script. On the other hand, the relative format is more human&#45;readable and is thus suitable for editing by hand. For  <b>named&#45;checkzone</b> this does not cause any effects unless it dumps the zone contents. It also does not have any meaning if the output format is not text.</div>
<p>
&#45;S <i>mode</i><div style="margin-left: 4.00ex;">
Check if a SRV record refers to a CNAME. Possible modes are  <b>"fail"</b>,  <b>"warn"</b> (default) and  <b>"ignore"</b>.</div>
<p>
&#45;t <i>directory</i><div style="margin-left: 4.00ex;">
Chroot to  <i>directory</i> so that include directives in the configuration file are processed as if run by a similarly chrooted named.</div>
<p>
&#45;T <i>mode</i><div style="margin-left: 4.00ex;">
Check if Sender Policy Framework (SPF) records exist and issues a warning if an SPF&#45;formatted TXT record is not also present. Possible modes are  <b>"warn"</b> (default),  <b>"ignore"</b>.</div>
<p>
&#45;w <i>directory</i><div style="margin-left: 4.00ex;">
chdir to  <i>directory</i> so that relative filenames in master file $INCLUDE directives work. This is similar to the directory clause in  <i>named.conf</i>.</div>
<p>
&#45;D<div style="margin-left: 4.00ex;">
Dump zone file in canonical format. This is always enabled for  <b>named&#45;compilezone</b>.</div>
<p>
&#45;W <i>mode</i><div style="margin-left: 4.00ex;">
Specify whether to check for non&#45;terminal wildcards. Non&#45;terminal wildcards are almost always the result of a failure to understand the wildcard matching algorithm (RFC 1034). Possible modes are  <b>"warn"</b> (default) and  <b>"ignore"</b>.</div>
<p>
zonename<div style="margin-left: 4.00ex;">
The domain name of the zone being checked.</div>
<p>
filename<div style="margin-left: 4.00ex;">
The name of the zone file.</div>
</div>
<div class="section">
<h1>RETURN VALUES</h1>  <b>named&#45;checkzone</b> returns an exit status of 1 if errors were detected and 0 otherwise.</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>named</b>(8),  <b>named&#45;checkconf</b>(8), RFC 1035, BIND 9 Administrator Reference Manual.</div>
<div class="section">
<h1>AUTHOR</h1> Internet Systems Consortium</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright &#169; 2004&#45;2007, 2009&#45;2014 Internet Systems Consortium, Inc. ("ISC")<div style="height: 0.00em;">
&#160;</div>
Copyright &#169; 2000&#45;2002 Internet Software Consortium.<div style="height: 0.00em;">
&#160;</div>
</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
February 19, 2014</td>
<td class="foot-os" align="right">
BIND9</td>
</tr>
</table>
</div>
</body>
</html>

