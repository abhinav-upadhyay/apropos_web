<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
PVCREATE(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
PVCREATE(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
PVCREATE(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> pvcreate &#45; initialize a disk or partition for use by LVM</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>pvcreate</b> [<b>&#45;d</b>|<b>&#45;&#45;debug</b>] [<b>&#45;f</b>[<b>f</b>]|<b>&#45;&#45;force</b> [<b>&#45;&#45;force</b>]] [<b>&#45;y</b>|<b>&#45;&#45;yes</b>] [<b>&#45;h</b>|<b>&#45;&#45;help</b>] [<b>&#45;t</b>|<b>&#45;&#45;test</b>] [<b>&#45;v</b>|<b>&#45;&#45;verbose</b>] [<b>&#45;&#45;labelsector</b>] [<b>&#45;M</b>|<b>&#45;&#45;metadatatype</b>type<b>]</b> [<b>&#45;&#45;metadatacopies</b>#copies<b>]</b> [<b>&#45;&#45;metadatasize</b>size<b>]</b> [<b>&#45;&#45;restorefile</b>file<b>]</b> [<b>&#45;&#45;setphysicalvolumesize</b>size<b>]</b> [<b>&#45;u</b>|<b>&#45;&#45;uuid</b>uuid<b>]</b> [<b>&#45;&#45;version</b>] [<b>&#45;Z</b>|<b>&#45;&#45;zero</b>y|n<b>]</b> <i>PhysicalVolume</i> [<i>PhysicalVolume</i>...]</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>pvcreate</b> initializes <i>PhysicalVolume</i> for later use by the Logical Volume Manager (LVM).  Each <i>PhysicalVolume</i> can be a disk partition, whole disk, meta device, or loopback file. For DOS disk partitions, the partition id should be set to 0x8e using <b>fdisk</b>(8), <b>cfdisk</b>(8),  or a equivalent.  For <b>whole disk devices only</b> the partition table must be erased, which will effectively destroy all data on that disk.  This can be done by zeroing the first sector with:<div style="height: 1.00em;">
&#160;</div>
<b>dd if=/dev/zero of=</b><i>PhysicalVolume</i><b> bs=512 count=1</b><div style="height: 1.00em;">
&#160;</div>
Continue with <b>vgcreate</b>(8) to create a new volume group on <i>PhysicalVolume</i>, or <b>vgextend</b>(8) to add <i>PhysicalVolume</i> to an existing volume group.</div>
<div class="section">
<h1>OPTIONS</h1> See  <b>lvm</b>(8) for common options.<dl>
<dt>
<b>&#45;f</b>, <b>&#45;&#45;force</b></dt>
<dd>
Force the creation without any confirmation.  You can not recreate (reinitialize) a physical volume belonging to an existing volume group. In an emergency you can override this behaviour with -ff.</dd>
</dl>
<dl>
<dt>
<b>&#45;u</b>, <b>&#45;&#45;uuid</b> uuid</dt>
<dd>
Specify the uuid for the device. Without this option,  <b>pvcreate</b> generates a random uuid. All of your physical volumes must have unique uuids. You need to use this option before restoring a backup of LVM metadata onto a replacement device - see  <b>vgcfgrestore</b>(8).</dd>
</dl>
<dl>
<dt>
<b>&#45;y</b>, <b>&#45;&#45;yes</b></dt>
<dd>
Answer yes to all questions.</dd>
</dl>
<dl>
<dt>
<b>&#45;Z</b>, <b>&#45;&#45;zero</b> y|n</dt>
<dd>
Whether or not the first 4 sectors (2048 bytes) of the device should be wiped. If this option is not given, the default is to wipe these sectors unless either or both of the --restorefile or --uuid options were specified.</dd>
</dl>
</div>
<div class="section">
<h1>NEW METADATA OPTIONS</h1> LVM2 introduces a new format for storing metadata on disk. This new format is more efficient and resilient than the format the original version of LVM used and offers the advanced user greater flexibility and control.<div style="height: 1.00em;">
&#160;</div>
The new format may be selected on the command line with <b>-M2</b> or by setting  <b>format = "lvm2"</b> in the <b>global</b> section of <b>lvm.conf</b>. Each physical volume in the same volume group must use the same format, but different volume groups on a machine may use different formats simultaneously: the tools can handle both formats. Additional formats can be added as shared libraries.<div style="height: 1.00em;">
&#160;</div>
Additional tools for manipulating the locations and sizes of metadata areas will be written in due course.  Use the verbose/debug options on the tools to see where the metadata areas are placed.<dl>
<dt>
<b>&#45;&#45;metadatasize</b> size</dt>
<dd>
The approximate amount of space to be set aside for each metadata area. (The size you specify may get rounded.)</dd>
</dl>
<dl>
<dt>
<b>&#45;&#45;metadatacopies</b> copies</dt>
<dd>
The number of metadata areas to set aside on each PV.  Currently this can be 0, 1 or 2. If set to 2, two copies of the volume group metadata are held on the PV, one at the front of the PV and one at the end. If set to 1 (the default), one copy is kept at the front of the PV (starting in the 5th sector). If set to 0, no copies are kept on this PV - you might wish to use this with VGs containing large numbers of PVs.  But if you do this and then later use  <b>vgsplit</b> you must ensure that each VG is still going to have a suitable number of copies of the metadata after the split!</dd>
</dl>
<dl>
<dt>
<b>&#45;&#45;restorefile</b> file</dt>
<dd>
In conjunction with <b>--uuid</b>, this extracts the location and size of the data on the PV from the file (produced by  <b>vgcfgbackup</b>) and ensures that the metadata that the program produces is consistent with the contents of the file i.e. the physical extents will be in the same place and not get overwritten by new metadata.  This provides a mechanism to upgrade the metadata format or to add/remove metadata areas. Use with care. See also  <b>vgconvert</b>(8).</dd>
</dl>
<dl>
<dt>
<b>&#45;&#45;labelsector</b> sector</dt>
<dd>
By default the PV is labelled with an LVM2 identifier in its second sector (sector 1).  This lets you use a different sector near the start of the disk (between 0 and 3 inclusive - see LABEL_SCAN_SECTORS in the source).  Use with care.</dd>
</dl>
<dl>
<dt>
<b>&#45;&#45;setphysicalvolumesize</b> size</dt>
<dd>
Overrides the automatically-detected size of the PV.  Use with care.</dd>
</dl>
</div>
<div class="section">
<h1>Example</h1> Initialize partition #4 on the third SCSI disk and the entire fifth SCSI disk for later use by LVM:<div style="height: 1.00em;">
&#160;</div>
<b>pvcreate /dev/sdc4 /dev/sde</b><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>lvm</b>(8), <b>vgcreate</b>(8), <b>vgextend</b>(8), <b>lvcreate</b>(8), <b>cfdisk</b>(8), <b>fdisk</b>(8), <b>losetup</b>(8), <b>mdadm</b>(8), <b>vgcfgrestore</b>(8), <b>vgconvert</b>(8)</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
LVM TOOLS 2.02.44-cvs (02-17-09)</td>
<td class="foot-os" align="right">
Sistina Software UK</td>
</tr>
</table>
</div>
</body>
<>

