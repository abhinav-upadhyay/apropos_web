<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
LDCONFIG(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
LDCONFIG(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
LDCONFIG(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ldconfig</b> &#8212; <span class="desc">configure the a.out shared library cache</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;">
<col>
<tbody>
<tr>
<td>
ldconfig</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;cmrsSv</b></span>&#93; &#91;<span class="opt"><i class="arg">directory</i> <i class="arg">...</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">ldconfig</b> is used to prepare a set of &#8220;hints&#8221; for use by the a.out run-time linker <b class="name">ld.so</b> to facilitate quick lookup of shared libraries available in multiple directories. <b class="name">ldconfig</b> is only available on systems that use the &#8220;a.out&#8221; format for executables and libraries &#8211; on ELF systems, all the work is done by <b class="name">ld.elf_so</b>.<p>
By default, it scans a set of built-in system directories, directories listed in <i class="file">/etc/ld.so.conf</i>, and any <i class="arg">directories</i> specified on the command line (in the given order) looking for shared libraries and stores the results in the file <i class="file">/var/run/ld.so.hints</i> to forestall the overhead that would otherwise result from the directory search operations <b class="name">ld.so</b> would have to perform to load required shared libraries.<p>
The shared libraries so found will be automatically available for loading if needed by the program being prepared for execution. This obviates the need for storing search paths within the executable.<p>
The <span class="env">LD_LIBRARY_PATH</span> environment variable can be used to override the use of directories (or the order thereof) from the cache or to specify additional directories where shared libraries might be found. <span class="env">LD_LIBRARY_PATH</span> is a &#8216;:&#8217; separated list of directory paths that are searched by <b class="name">ld.so</b> when it needs to load a shared library. It can be viewed as the run-time equivalent of the <b class="flag">&#45;L</b> switch of <b class="name">ld</b>.<p>
<b class="name">ldconfig</b> is typically run as part of the boot sequence.<p>
The following options are recognized by <b class="name">ldconfig</b>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not scan directories listed in <i class="file">/etc/ld.so.conf</i> for shared libraries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Merge the result of the scan of the directories given as arguments into the existing hints file. The default action is to build the hints file afresh.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Lists the current contents of <i class="file">ld.so.hints</i> on the standard output. The hints file will not be modified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not scan the built-in system directory (<i class="file">/usr/lib</i>), nor any directories listed in <i class="file">/etc/ld.so.conf</i> for shared libraries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not scan the built-in system directory (<i class="file">/usr/lib</i>), for shared libraries. (Directories listed in <i class="file">/etc/ld.so.conf</i> are still scanned.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Switch on verbose mode.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1> <i class="file">/var/run/ld.so.hints</i>, <i class="file">/etc/ld.so.conf</i></div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/ld.html">ld(1)</a>, <a class="link-man" href="../html1/ld.so.html">ld.so(1)</a>, <a class="link-man" href="../html5/ld.so.conf.html">ld.so.conf(5)</a>, <a class="link-man" href="../html5/link.html">link(5)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">ldconfig</b> utility first appeared in SunOS 4.0, it appeared in its current form in <span class="unix">NetBSD&#160;0.9a</span>.</div>
<div class="section">
<h1 id="x534543555249545920434f4e53494445524154494f4e53">SECURITY CONSIDERATIONS</h1> Special care must be taken when loading shared libraries into the address space of <span class="emph">set-user-ID</span> programs. Whenever such a program is run, <b class="name">ld.so</b> will only load shared libraries from the <i class="file">ld.so.hints</i> file. In particular, the <span class="env">LD_LIBRARY_PATH</span> and <span class="env">LD_PRELOAD</span> is not used to search for libraries. Thus, the role of ldconfig is dual. In addition to building a set of hints for quick lookup, it also serves to specify the trusted collection of directories from which shared objects can be safely loaded. It is presumed that the set of directories specified to <b class="name">ldconfig</b> is under control of the system's administrator. <b class="name">ld.so</b> further assists set-user-ID programs by erasing the <span class="env">LD_LIBRARY_PATH</span> and <span class="env">LD_PRELOAD</span> from the environment.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 8, 2000</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

