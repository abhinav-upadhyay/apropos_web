<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../../style.css" type="text/css" media="all">
<title>
BOOT(8) (HPPA)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
BOOT(8)</td>
<td class="head-vol" align="center">
System Manager's Manual (HPPA)</td>
<td class="head-rtitle" align="right">
BOOT(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">boot</b> &#8212; <span class="desc">hppa system bootstrapping procedures</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="subsection">
<h2 id="x53797374656d20737461727473">System starts</h2> When powered on, after a panic, or if the system is rebooted via <a class="link-man" href="../../8/reboot">reboot(8)</a> or <a class="link-man" href="../../8/shutdown">shutdown(8)</a>, the hppa firmware (&#8220;PDC&#8221;) will proceed to its initialization, and will boot an operating system if autoboot is enabled.</div>
<div class="subsection">
<h2 id="x426f6f742070726f63657373206465736372697074696f6e">Boot process description</h2> System boot blocks are provided as a &#8220;LIF&#8221; (Logical Interchange Format) archive, either on a disk device, or via the network, using the <span class="emph">bootp</span> or <span class="emph">rboot</span> protocols, depending on the PDC version.</div>
<div class="subsection">
<h2 id="x50444320636f6e6365707473">PDC concepts</h2> If autoboot is enabled, the PDC will attempt to boot from the specified &#8220;boot path&#8221; value. If no &#8220;boot path&#8221; has been specified, the PDC will then scan for bootable devices and boot from the first found, after a few seconds allowing the user to interrupt the boot process. If autoboot is disabled, the PDC will enter interactive mode, after an optional device scan. In all cases, it is possible to enter interactive mode by holding the escape key during the selftests, or when prompted to do so to abort the current operation, unless the PDC has been configured in &#8220;secure mode&#8221;.</div>
<div class="subsection">
<h2 id="x49534c20696e746572616374696f6e">ISL interaction</h2> &#8220;ISL&#8221; stands for &#8220;Initial System Loader&#8221; and is the <b class="name">boot</b> program in <span class="unix">NetBSD</span>. On all versions of the PDC except for the 712 and 725 models the &#8220;boot&#8221; command (see below) will be followed by the question: &#8220;Interact with IPL (Y, N, or Cancel)?&gt;&#8221; where a positive answer will invoke an interactive prompt in the <b class="name">boot</b> program later and negative will thus suppress it. A cancellation will abort the boot process.<p>
On the 712 and 725 models firmware an additional &#8220;isl&#8221; argument should be given to the &#8220;boot&#8221; command to invoke the <b class="name">boot</b> interactive prompt. The default behaviour is a non-interactive boot process.</div>
<div class="subsection">
<h2 id="x4f6c6420504443206f7065726174696f6e">Old PDC operation</h2> This version is used on the following models: 705, 7x0, 715/33/50/75, 725/50/75, 735, 755. There are two levels of interactive commands in this version. The first level is a short menu:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
b)   Boot from specified device 
s)   Search for bootable device 
a)   Enter Boot Administration mode 
x)   Exit and continue boot sequence 
 
Select from menu:</pre>
<p>
which provides the following commands:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">b</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
boot from a device found during the scan, either with its short &#8220;P#&#8221; form, or a complete name specification. For example, to boot from the SCSI disk with id 6 off the built-in (first) controller, one would enter <b class="cmd">b</b> <i class="arg">scsi.6.0</i>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">s</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
rescan for bootable devices.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">a</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
enter the second part of interactive mode.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">x</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
resume an interrupted boot sequence.</dd>
</dl>
<p>
The &#8220;Boot Administration&#8221; mode, recognizable with its <span class="emph">BOOT_ADMIN&gt;</span> prompt, controls the various boot options. The complete list of commands depends on the machine and PDC version. The following list only mentions commands impacting the boot process.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
AUTOSELECT</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Displays or changes the autoboot setting. If autoselect is set to &#8220;on&#8221;, the PDC will always attempt to boot the first bootable device found in this order:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
Boot device <span class="emph">path</span> setting.</li>
<li class="list-enum" style="margin-top: 0.00em;">
SCSI devices connected to the built-in SCSI controller, the highest ID numbers being preferred.</li>
<li class="list-enum" style="margin-top: 0.00em;">
Network <span class="emph">rboot</span> server (see also <a class="link-man" href="../../8/rbootd">rbootd(8)</a>).</li>
<li class="list-enum" style="margin-top: 0.00em;">
Other SCSI devices connected to secondary controllers, the highest ID numbers being preferred.</li>
</ol>
If the <span class="emph">primary path</span> setting defines a bootable device, no device scan will occur.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
BOOT</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Boots off the specified device. It is similar to the <b class="cmd">b</b> command from the short menu above. The &#8220;primary&#8221; and &#8220;alternate&#8221; path settings may be booted with <b class="cmd">boot</b> <i class="arg">pri</i> and <b class="cmd">boot</b> <i class="arg">alt</i> respectively.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
PATH</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Displays or changes the boot and console devices. The boot device is defined as the &#8220;primary&#8221; path, and another setting may be stored as the &#8220;alternate&#8221; path for rescue purposes. For example, to define the primary boot path to the SCSI disk with ID 5 connected to the built-in controller, one would enter <b class="cmd">path primary</b> <i class="arg">scsi.5</i><p>
When invoked without parameters, <b class="cmd">path</b> will list the various path settings.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x4d6f6465726e20504443206f7065726174696f6e">Modern PDC operation</h2> Machines equipped with 7100LC, 7200, or 7300LC CPU types are usually blessed with a different kind of PDC. There is only one interactive mode, with a <span class="emph">BOOT_ADMIN&gt;</span> prompt, which provides both boot settings and commands. The complete list of commands depends on the machine and PDC version. The following list only mentions commands impacting the boot process.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">auto boot</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Displays or changes the autoboot setting. If <b class="cmd">auto boot</b> is set to &#8220;on&#8221;, the PDC will always attempt to boot. The booted device chosen will depend on the <b class="cmd">auto search</b> setting.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">auto search</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Displays or changes the device scan setting. If <b class="cmd">auto search</b> is set to &#8220;on&#8221;, the PDC will attempt to boot the first bootable device found in this order:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
Boot device <span class="emph">path</span> setting.</li>
<li class="list-enum" style="margin-top: 0.00em;">
SCSI devices connected to the built-in SCSI controller, the highest ID numbers being preferred.</li>
<li class="list-enum" style="margin-top: 0.00em;">
Network <span class="emph">bootp</span> server (see also <a class="link-man" href="../../8/dhcpd">dhcpd(8)</a>).</li>
<li class="list-enum" style="margin-top: 0.00em;">
Other SCSI devices connected to secondary controllers, the highest ID numbers being preferred.</li>
</ol>
If <b class="cmd">auto search</b> is set to &#8220;off&#8221; and the primary boot path points to a bootable device, no device scan will occur.<p>
Note that setting <b class="cmd">auto search</b> to &#8220;on&#8221; will force autoboot, regardless of the <b class="cmd">auto boot</b> value.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">boot</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Boots off the specified device. The &#8220;primary&#8221; and &#8220;alternate&#8221; path settings may be booted with <b class="cmd">boot</b> <i class="arg">pri</i> and <b class="cmd">boot</b> <i class="arg">alt</i> respectively.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">path</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Displays or changes the boot and console devices. The boot device is defined as the &#8220;primary&#8221; path, and another setting may be stored as the &#8220;alternate&#8221; path for rescue purposes. For example, to define the primary boot path to the SCSI disk with ID 5 connected to the built-in controller, one would enter <b class="cmd">path pri</b> <i class="arg">scsi.5</i>.<p>
When invoked without parameters, <b class="cmd">path</b> will list the various path settings.</dd>
</dl>
</div>
<div class="subsection">
<h2 id="x41626e6f726d616c2073797374656d207465726d696e6174696f6e">Abnormal system termination</h2> If the system crashes, it will enter the kernel debugger, <a class="link-man" href="../../4/ddb">ddb(4)</a>, if it is configured in the kernel. If the crash occurred during initialization and the debugger is not present or is exited, the kernel will halt the system. If the crash occurred during normal operation and the debugger is not present or is exited, the system will attempt a dump to the configured dump device (which will be automatically recovered with <a class="link-man" href="../../8/savecore">savecore(8)</a> during the next multi-user boot cycle), and after the dump is complete (successful or not) the kernel will attempt a reboot.</div>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">boot.lif</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
network bootstrap and kernel combined image</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/netbsd</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
default <span class="unix">NetBSD</span> system kernel</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/mdec/xxboot</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
primary bootstrap for &#8220;ffs&#8221; file system</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/mdec/boot</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
system bootstrap (usually also installed as <i class="file">/boot</i>)</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../4/ddb">ddb(4)</a>, <a class="link-man" href="../../8/dhcpd">dhcpd(8)</a>, <a class="link-man" href="../../8/halt">halt(8)</a>, <a class="link-man" href="../../8/init">init(8)</a>, <a class="link-man" href="../../8/installboot">installboot(8)</a>, <a class="link-man" href="../../8/rbootd">rbootd(8)</a>, <a class="link-man" href="../../8/reboot">reboot(8)</a>, <a class="link-man" href="../../8/savecore">savecore(8)</a>, <a class="link-man" href="../../8/shutdown">shutdown(8)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 27, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

