<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
VIPW(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
VIPW(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
VIPW(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">vipw</b> &#8212; <span class="desc">edit the password file</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 4.00ex;">
<col>
<tbody>
<tr>
<td>
vipw</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;d</b> <i class="arg">directory</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">vipw</b> edits the password file after setting the appropriate locks, and does any necessary processing after the password file is unlocked. If the password file is already locked for editing by another user, <b class="name">vipw</b> will ask you to try again later. The default editor for <b class="name">vipw</b> is <a class="link-man" href="../1/vi">vi(1)</a>.<p>
<b class="name">vipw</b> performs a number of consistency checks on the password entries, and will not allow a password file with a &#8220;mangled&#8221; entry to be installed. If <b class="name">vipw</b> rejects the new password file, the user is prompted to re-enter the edit session.<p>
Once the information has been verified, <b class="name">vipw</b> uses <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a> to update the user database.  This is run in the background, and, at very large sites could take several minutes.  Until this update is completed, the password file is unavailable for other updates and the new information is not available to programs.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b> <i class="arg">directory</i></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Change the root directory of the password file from &#8220;<i class="file">/</i>&#8221; to <i class="arg">directory</i>.</dd>
</dl>
<p>
If a <b class="name">vipw</b> session is killed it may leave &#8220;<i class="file">/etc/ptmp</i>&#8221;, which will cause future <b class="name">vipw</b> executions to fail with &#8220;<i class="file">vipw: the passwd file is busy</i>&#8221;, until it is removed.</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1> If the following environment variable exists it will be used by <b class="name">vipw</b>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">EDITOR</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The editor specified by the string <span class="env">EDITOR</span> will be invoked instead of the default editor <a class="link-man" href="../1/vi">vi(1)</a>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/master.passwd</i></dt>
<dd class="list-tag" style="margin-left: 32.00ex;">
The current password file.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ptmp</i></dt>
<dd class="list-tag" style="margin-left: 32.00ex;">
Temporary copy of the password file used while editing.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/chpass">chpass(1)</a>, <a class="link-man" href="../1/passwd">passwd(1)</a>, <a class="link-man" href="../1/pwhash">pwhash(1)</a>, <a class="link-man" href="../5/passwd">passwd(5)</a>, <a class="link-man" href="../5/passwd.conf">passwd.conf(5)</a>, <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a>, <a class="link-man" href="../8/user">user(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">vipw</b> command appeared in <span class="unix">4.0BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
September 4, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

