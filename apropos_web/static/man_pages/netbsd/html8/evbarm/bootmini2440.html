<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../../style.css" type="text/css" media="all">
<title>
BOOTMINI2440(8) (evbARM)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
BOOTMINI2440(8)</td>
<td class="head-vol" align="center">
System Manager's Manual (evbARM)</td>
<td class="head-rtitle" align="right">
BOOTMINI2440(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">bootmini2440</b> &#8212; <span class="desc">bootloader for FriendlyARM MINI2440 evaluation board</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">bootmini2440</b> is a program to load ELF <span class="unix">NetBSD</span> kernel, which works on top of U-Boot. It loads and executes a kernel from an SD memory card, or over the network using the NFS/TFTP protocol.<p>
The <b class="name">bootmini2440</b> bootloader can be loaded anywhere by U-Boot, although care should be taken that the bootloader can load the <span class="unix">NetBSD</span> kernel without overwriting itself. The kernel is, by default, made to be loaded at 0x30200000. The recommended location for <b class="name">bootmini2440</b> is 0x30A00000.<p>
<b class="name">bootmini2440</b> takes a number of arguments, which all are optional:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"><i class="arg">mac=xx:xx:xx:xx:xx:xx</i> <i class="arg">opt1 ...</i> <i class="arg">optN</i> <i class="arg">bootname</i></code></div>
</blockquote>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">mac=</b></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
is used to set the MAC-address of the on-board DM9000 Ethernet chip. As Mini2440 has no EEPROM to store DM9000 MAC-address, this is necessary in order to have a working Ethernet controller. If this argument is left unspecified, a default value of 08:08:11:18:12:27 is used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">opt1 ...</b> <b class="var">optN</b></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
is one of single, kdb, ask, quiet, or verbose. Their meaning is described in <a class="link-man" href="../../9/boothowto">boothowto(9)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">bootname</b></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
is one of the following:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">net:<i class="arg">ip</i>:<i class="arg">filename</i></code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">net:<i class="arg">filename</i></code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">net:</code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">tftp:<i class="arg">filename</i></code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">tftp:</code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">ld0<i class="arg">p</i>:<i class="arg">filename</i></code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">ld0<i class="arg">p</i>:</code></div>
</blockquote>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
net:<b class="var">ip</b>:<b class="var">filename</b></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
use DHCP to determine own IP-address and load kernel specified by <i class="arg">filename</i> from the server specified by <i class="arg">ip</i> using NFS.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
net:<i class="arg">filename</i></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
use DHCP to determine own IP-address and server IP-address. Load kernel specified by <i class="arg">filename</i> from the server using NFS.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
net:</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
use DHCP to determine own IP-address, server IP-address, and kernel to load. Load the kernel using NFS.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
tftp:<i class="arg">filename</i></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
use DHCP to determine own IP-address and server IP-address. Load kernel specified by <i class="arg">filename</i> from the server using TFTP.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
tftp:</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
use DHCP to determine own IP-address, server IP-address, and kernel to load. Load kernel using TFTP.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
ld0<b class="var">p</b>:<b class="var">filename</b></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
load kernel from an SD card. The kernel specified by <i class="arg">filename</i> is attempted loaded on the partition given by <i class="arg">p</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
ld0<b class="var">p</b>:</dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
load kernel from an SD card. The kernel will be loaded from the file &#8220;<i class="file">netbsd</i>&#8221; on the partition specified by <i class="arg">p</i>.</dd>
</dl>
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1><div class="subsection">
<h2>Loading <b class="name">bootmini2440</b></h2> Use U-Boot to load <b class="name">bootmini2440</b> at 0x30A00000 from an NFS share:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">Uboot&gt; nfs 30A00000 10.0.0.1:/srv/mini2440/bootmini2440</code></div>
</blockquote>
</div>
<div class="subsection">
<h2>Booting <span class="unix">NetBSD</span></h2> Load the kernel from an NFS share, overwriting the default MAC-address, and booting into single user-mode:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">Uboot&gt; go 30A00000 single mac=08:08:11:20:22:30 net:10.0.0.1:/srv/mini2440/netbsd</code></div>
</blockquote>
<p>
Load the kernel from an SD card, overwriting the default MAC-address, and booting into single user-mode:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">Uboot&gt; go 30A00000 single mac=08:08:11:20:22:30 ld0a:netbsd</code></div>
</blockquote>
</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../8/dhcpd">dhcpd(8)</a>, <a class="link-man" href="../../8/diskless">diskless(8)</a>, <a class="link-man" href="../../8/nfsd">nfsd(8)</a>, <a class="link-man" href="../../8/tftpd">tftpd(8)</a>, <a class="link-man" href="../../9/boothowto">boothowto(9)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <span class="unix">NetBSD</span>/evbarm <b class="name">bootmini2440</b> first appeared in <span class="unix">NetBSD&#160;6.0</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> <b class="name">bootmini2440</b> cannot currently function properly without U-Boot (or equivalent). Although it performs clock and UART configuration, it cannot bootstrap itself from NAND flash.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 31, 2012</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

