<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
USERADD(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
USERADD(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
USERADD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">useradd</b> &#8212; <span class="desc">add a user to the system</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
useradd</td>
<td>
<b class="flag">&#45;D</b> &#91;<span class="opt"><b class="flag">&#45;F</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;b</b> <i class="arg">base-dir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">expiry-time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;f</b> <i class="arg">inactive-time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <code class="lit">=uid</code></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">skel-dir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;L</b> <i class="arg">login-class</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;M</b> <i class="arg">home-perm</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b> <i class="arg">lowuid</i><code class="lit">..</code><i class="arg">highuid</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">shell</i></span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
useradd</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;moSv</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;b</b> <i class="arg">base-dir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;c</b> <i class="arg">comment</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;d</b> <i class="arg">home-dir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">expiry-time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;f</b> <i class="arg">inactive-time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;G</b> <i class="arg">secondary-group</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <code class="lit">=uid</code></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">skel-dir</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;L</b> <i class="arg">login-class</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;M</b> <i class="arg">home-perm</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">password</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b> <i class="arg">lowuid</i><code class="lit">..</code><i class="arg">highuid</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">shell</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">uid</i></span>&#93; <i class="arg">user</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">useradd</b> utility adds a user to the system, creating and populating a home directory if necessary. Any skeleton files will be provided for the new user if they exist in the <i class="arg">skel-dir</i> directory (see the <b class="flag">&#45;k</b> option). Default values for the base directory, the time of password expiry, the time of account expiry, primary group, the skeleton directory, the range from which the uid will be allocated, and default login shell can be provided in the <i class="file">/etc/usermgmt.conf</i> file, which, if running as root, is created using the built-in defaults if it does not exist.<p>
The first form of the command shown above (using the <b class="flag">&#45;D</b> option) sets and displays the defaults for the <b class="name">useradd</b> utility.<p>
See <a class="link-man" href="../html8/user.html">user(8)</a> for more information about <span class="define">EXTENSIONS</span>.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b> <i class="arg">base-dir</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the default base directory. This is the directory to which the user directory is added, which will be created if the <b class="flag">&#45;m</b> option is specified and no <b class="flag">&#45;d</b> option is specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;D</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
without any further options, <b class="flag">&#45;D</b> will show the current defaults which will be used by the <b class="name">useradd</b> utility. Together with one of the options shown for the first version of the command, <b class="flag">&#45;D</b> will set the default to be the new value. See <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a> for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b> <i class="arg">expiry-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the time at which the new user accounts will expire. It should be entered in the form &#8220;month day year&#8221;, where month is the month name (the first three characters are sufficient), day is the day of the month, and year is the year. Time in seconds since the epoch (UTC) is also valid. A value of 0 can be used to disable this feature.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;F</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force the user to change their password upon next login.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b> <i class="arg">inactive-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the time at which passwords for the new user accounts will expire. Also see the <b class="flag">&#45;e</b> option above.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">gid</i> | <i class="arg">groupname</i> | <code class="lit">=uid</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the default group for new users.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b> <i class="arg">skel-dir</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the skeleton directory in which to find files with which to populate new users' home directories.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;L</b> <i class="arg">login-class</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the default login class for new users. See <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a> for more information on user login classes. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;M</b> <i class="arg">home-perm</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
sets the default permissions of the newly created home directory if <b class="flag">&#45;m</b> is given. The permission is specified as an octal number, with or without a leading zero.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b> <i class="arg">lowuid</i><code class="lit">..</code><i class="arg">highuid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the low and high bounds of uid ranges for new users. A new user can only be created if there are uids which can be assigned from one of the free ranges. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">shell</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the default login shell for new users.</dd>
</dl>
<p>
In the second form of the command, after setting any defaults, and then reading values from <i class="file">/etc/usermgmt.conf</i>, the following command line options are processed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b> <i class="arg">base-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the base directory name, in which the user's new home directory will be created, should the <b class="flag">&#45;m</b> option be specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">comment</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the comment field (also, for historical reasons known as the GECOS field) which will be added for the user, and typically will include the user's full name, and, perhaps, contact information for the user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b> <i class="arg">home-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the home directory which will be created and populated for the user, should the <b class="flag">&#45;m</b> option be specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b> <i class="arg">expiry-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the time at which the current password will expire for new users. It should be entered in the form &#8220;month day year&#8221;, where month is the month name (the first three characters are sufficient), day is the day of the month, and year is the year. Time in seconds since the epoch (UTC) is also valid. A value of 0 can be used to disable this feature. See <a class="link-man" href="../html5/passwd.html">passwd(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b> <i class="arg">inactive-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the time at which new user accounts will expire. Also see the <b class="flag">&#45;e</b> option above.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;G</b> <i class="arg">secondary-group</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Add the user to the secondary group <i class="arg">secondary-group</i> in the <i class="file">/etc/group</i> file. The <i class="arg">secondary-group</i> may be a comma-delimited list for multiple groups. Or the option may be repeated for multiple groups. (16 groups maximum.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <code class="lit">=uid</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Give the group name or identifier to be used for the new user's primary group. If this is &#8216;<code class="lit">=uid</code>&#8217;, then a uid and gid will be picked which are both unique and the same, and a line added to <i class="file">/etc/group</i> to describe the new group.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b> <i class="arg">skeleton directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Give the skeleton directory in which to find files with which to populate the new user's home directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;L</b> <i class="arg">login-class</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the login class for the user being created. See <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a> for more information on user login classes. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;M</b> <i class="arg">home-perm</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
sets the permissions of the newly created home directory if <b class="flag">&#45;m</b> is given. The permission is specified as an octal number, with or without a leading zero.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Create a new home directory for the new user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Allow the new user to have a uid which is already in use for another user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">password</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify an already-encrypted password for the new user. Encrypted passwords can be generated with <a class="link-man" href="../html1/pwhash.html">pwhash(1)</a>. The password can be changed later by using <a class="link-man" href="../html1/chpass.html">chpass(1)</a> or <a class="link-man" href="../html1/passwd.html">passwd(1)</a>. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Allow samba user names with a trailing dollar sign to be added to the system. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">shell</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the login shell for the new user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">uid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify a uid for the new user. Boundaries for this value can be preset for all users by using the <i class="arg">range</i> field in the <i class="file">/etc/usermgmt.conf</i> file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enable verbose mode - explain the commands as they are executed. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
</dl>
<p>
Once the information has been verified, <b class="name">useradd</b> uses <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a> to update the user database. This is run in the background, and, at very large sites could take several minutes. Until this update is completed, the password file is unavailable for other updates and the new information is not available to programs.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/usermgmt.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/skel/*</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/login.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">useradd</b> utility exits 0 on success, and &gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/chpass.html">chpass(1)</a>, <a class="link-man" href="../html1/passwd.html">passwd(1)</a>, <a class="link-man" href="../html1/pwhash.html">pwhash(1)</a>, <a class="link-man" href="../html5/group.html">group(5)</a>, <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>, <a class="link-man" href="../html5/passwd.html">passwd(5)</a>, <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a>, <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a>, <a class="link-man" href="../html8/user.html">user(8)</a>, <a class="link-man" href="../html8/userdel.html">userdel(8)</a>, <a class="link-man" href="../html8/usermod.html">usermod(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">useradd</b> utility first appeared in <span class="unix">NetBSD&#160;1.5</span>. It is based on the <i class="arg">addnerd</i> package by the same author.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">useradd</b> utility was written by <span class="author">Alistair G. Crooks</span> &#60;agc@NetBSD.org&#62;.<p>
Support for setting permissions of home directories was added by Hubert Feyrer.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 13, 2009</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

