<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
SCAN_FFS(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SCAN_FFS(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
SCAN_FFS(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">scan_ffs</b>, <b class="name">scan_lfs</b> &#8212; <span class="desc">find FFSv1/FFSv2/LFS partitions on a disk or file</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;">
<col>
<tbody>
<tr>
<td>
scan_ffs</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;blv</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">end</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;F</b> <i class="arg">file</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">start</i></span>&#93; <i class="arg">device</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">scan_ffs</b> will take a raw disk device that covers the whole disk or a file and will find all possible FFSv[12]/LFS partitions, independent of block sizes on it. It will show the file system type (FFSv1, FFSv2, or LFS), size, and offset. Also it has an option to show the values with a disklabel-alike output.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Report every superblock found with its sector address, rather than trying to report the partition boundaries. This option can be useful to find the other superblocks in a partition if the first superblock has become corrupted. It is most useful if <i class="arg">device</i> refers to the raw device for the partition, rather than the entire disk.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b> <i class="arg">end</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Where to stop searching for file systems. The <i class="arg">end</i> argument specifies the last sector that will be searched. Default is the last sector of <i class="arg">device</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;F</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Path to a file containing possible partitions inside of it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Print out a string looking much like the input to disklabel. With a little massaging, this output can usually be used by <a class="link-man" href="../html8/disklabel.html">disklabel(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">start</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Where to start searching for file systems. This makes it easier to skip swap partitions or other large non-UFS/FFS partitions. The <i class="arg">start</i> argument specifies the first sector that will be searched. Default is the first sector of <i class="arg">device</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Be verbose about what <b class="name">scan_ffs</b> is doing, and what has been found.</dd>
</dl>
<p>
The <i class="arg">device</i> argument specifies which device <b class="name">scan_ffs</b> should scan for file systems.<p>
<b class="name">scan_lfs</b> is just another name for the same program, both behave in exactly the same way.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html8/disklabel.html">disklabel(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">scan_ffs</b> program first appeared in <span class="unix">OpenBSD&#160;2.3</span> and then in <span class="unix">NetBSD&#160;3.1</span>. Support for searching in files was added in <span class="unix">NetBSD&#160;4.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span><b class="name">scan_ffs</b> was written for <span class="unix">OpenBSD</span> by <span class="author">Niklas Hallqvist</span> and <span class="author">Tobias Weingartner</span>. It was ported to <span class="unix">NetBSD</span> by <span class="author">Juan Romero Pardines</span>, who added support for LFS/FFSv2, partitions with fragsize/blocksize greater than 2048/16384 for FFSv1, searching on files, etc.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Currently <b class="name">scan_ffs</b> won't find partitions with fragsize/blocksize greater than 8192/65536.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 1, 2007</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

