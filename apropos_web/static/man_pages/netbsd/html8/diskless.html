<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
DISKLESS(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DISKLESS(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
DISKLESS(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">diskless</b> &#8212; <span class="desc">booting a system over the network</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The ability to boot a system over the network is useful for two kinds of systems:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">diskless</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a system with no attached mass storage media to boot or run from (e.g. a network computer).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">dataless</span></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
a system with a hard drive that only contains system and application software, and user data is mounted over the network from a central server.</dd>
</dl>
<p>
It can also be done as a temporary measure while repairing or re-installing file systems on a local disk. This capability is necessarily platform dependent because of its dependence on system firmware support; not all platforms supported by <span class="unix">NetBSD</span> are capable of being network booted.<p>
The protocols used to obtain a network address (e.g. an IP host address), include, but are not limited to:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
RARP</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Reverse Address Resolution Protocol (ARP)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
DHCP</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Dynamic Host Configuration Protocol</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
BOOTP</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Bootstrap Protocol</dd>
</dl>
<p>
This information can also be derived from non-volatile RAM or by a transform of a network interface (e.g. Ethernet) MAC address.<p>
The protocols used to load a <span class="unix">NetBSD</span> kernel over a network include, but are not limited to:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
TFTP</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Trivial File Transfer Protocol</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
NFS</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Sun Network File System</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
RMP</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
HP Remote Maintenance Protocol</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
MOP</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
DEC Maintenance Operations Protocol</dd>
</dl>
<p>
Derivation of the filename of the secondary bootstrap program can be done by a transform of a network interface MAC address (or other protocol address), or provided by a server as with BOOTP, and DHCP. How this is done is platform dependent; see <a class="link-man" href="../8/boot">boot(8)</a>.<p>
The <span class="unix">NetBSD</span> kernel doesn't care how it gets loaded and started. The protocols used to boot <span class="unix">NetBSD</span> can be completely different than the ones that <span class="unix">NetBSD</span> uses operationally, i.e. you can netboot the system using HP RMP and the <span class="unix">NetBSD</span> kernel can use IP to communicate after bootstrap.<p>
There is no standard way to pass all the required information from a boot loader to an operating system kernel, so the <span class="unix">NetBSD</span> kernel usually has to recapitulate the same (or similar) protocol exchanges over the network to obtain a network address, determine which servers to use, and so on. <span class="unix">NetBSD</span> supports obtaining this information from RARP, BOOTP, DHCP, and Sun RPC &#8220;bootparams&#8221;. See <a class="link-man" href="../4/options">options(4)</a> for a list of methods that can be compiled into a <span class="unix">NetBSD</span> kernel.<p>
<span class="unix">NetBSD</span> only supports the Sun Network File System (NFS) for mounting its root file system over a network. <span class="unix">NetBSD</span> can use any local mass storage device for which it has a driver, after bootstrap, even if that device is not supported by the system's firmware for booting.<p>
<span class="symb">N.B.</span> DHCP is essentially a series of extensions to BOOTP; the <span class="unix">NetBSD</span> <a class="link-man" href="../8/dhcpd">dhcpd(8)</a> is capable of responding to both kinds of protocol requests.<p>
In the majority of configurations, network boot servers and clients are attached to the same LAN so that broadcast queries from the clients can be heard by the servers. Unless specially configured, routers block broadcasts from propagating from LAN to LAN; some routers can be configured to &#8220;forward&#8221; broadcast BOOTP packets to another LAN attached to that router, which permits a server on that remote LAN to respond to the client's broadcast query.</div>
<div class="section">
<h1 id="x4f5045524154494f4e">OPERATION</h1> When booting a system over the network, there are three phases of interaction between client and server:<p>
<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
The system firmware (or stage-1 bootstrap) loads a boot program.</li>
<li class="list-enum" style="margin-top: 0.00em;">
The boot program loads a <span class="unix">NetBSD</span> kernel.</li>
<li class="list-enum" style="margin-top: 0.00em;">
The <span class="unix">NetBSD</span> kernel performs an NFS mount of the root file system.</li>
</ol>
<p>
Each of these phases are described in further detail below.<div class="subsection">
<h2 id="x312e206c6f6164696e67206120626f6f742070726f6772616d">1. loading a boot program</h2> In phase 1, the system firmware loads a boot program. Firmware designs vary widely, so this phase is inherently machine-specific. Some examples:<p>
DEC Alpha systems use BOOTP to determine the client's IP address and then use TFTP load a secondary bootstrap program from the server and filename specified in the BOOTP reply. DEC Alpha systems can also use MOP to load a program to run the system.<p>
Sun systems use RARP to determine the client's IP address, transform that address to a hexadecimal string to form the filename of the secondary boot program, and then use TFTP to download the boot program from the server that sent the RARP reply.<p>
HP 300-series systems use the HP RMP to download a boot program.<p>
Typical personal computers may load a network boot program either from diskette or from a PROM on a Network Interface Card (NIC). Some BIOSes support booting from a network interface.</div>
<div class="subsection">
<h2 id="x322e206c6f6164696e672061206b65726e656c">2. loading a kernel</h2> In phase 2, the secondary boot program loads a kernel. Operation in this phase depends on the design of the boot program (the design described here is the one used by Sun and <span class="unix">NetBSD</span>/hp300). The boot program:<p>
<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
gets the client IP address using RARP.</li>
<li class="list-enum" style="margin-top: 0.00em;">
gets the client name and server IP address by broadcasting an RPC / BOOTPARAMS / WHOAMI request with the client IP address.</li>
<li class="list-enum" style="margin-top: 0.00em;">
gets the server path for this client's root using an RPC / BOOTPARAMS / GETFILE request with the client name.</li>
<li class="list-enum" style="margin-top: 0.00em;">
gets the root file handle by calling <a class="link-man" href="../8/mountd">mountd(8)</a> with the server path for the client root file system.</li>
<li class="list-enum" style="margin-top: 0.00em;">
gets the kernel file handle by calling NFS <b class="fname">lookup</b>() on the root file handle.</li>
<li class="list-enum" style="margin-top: 0.00em;">
loads the kernel using NFS read calls on the kernel file handle.</li>
<li class="list-enum" style="margin-top: 0.00em;">
transfers control to the kernel entry point.</li>
</ol>
<p>
A BOOTP and/or DHCP secondary bootstrap program will do the following:<p>
<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
query for the client's bootstrap parameters. The response must include the client's IP address, and a TFTP server to load the <span class="unix">NetBSD</span> kernel from.</li>
<li class="list-enum" style="margin-top: 0.00em;">
loads the <span class="unix">NetBSD</span> kernel from the TFTP server.</li>
<li class="list-enum" style="margin-top: 0.00em;">
transfers control to the kernel entry point.</li>
</ol>
</div>
<div class="subsection">
<h2 id="x332e204e4653206d6f756e74696e672074686520726f6f742066696c652073797374656d">3. NFS mounting the root file system</h2> In phase 3, the kernel performs an NFS mount of the root file system. The kernel repeats much of the work done by the boot program because there is no standard way for the boot program to pass the information it gathered on to the kernel.<p>
In general, the GENERIC kernel <a class="link-man" href="../1/config">config(1)</a> file for any particular architecture will specify compile-time options to use the same protocol used by the secondary boot program for that architecture. A <span class="unix">NetBSD</span> kernel can be compiled to use any of BOOTP, DHCP, or Sun RPC BOOTPARAMS; see <a class="link-man" href="../4/options">options(4)</a>.<p>
The procedure typically used by the kernel is as follows:<p>
<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
The kernel finds a boot server using the same procedures as described above to determine the client's IP address, an NFS server, etc.</li>
<li class="list-enum" style="margin-top: 0.00em;">
The kernel gets the NFS file handle for root using the same procedure as described above.</li>
<li class="list-enum" style="margin-top: 0.00em;">
The kernel calls the NFS <b class="fname">getattr</b>() function to get the last-modified time of the root directory, and uses it to check the system clock.</li>
</ol>
</div>
</div>
<div class="section">
<h1 id="x53455256455220434f4e46494755524154494f4e">SERVER CONFIGURATION</h1> Before a client can bootstrap over the network, its server must be configured. Each daemon that implements these protocols must be set up so that it can answer queries from the clients. Some of these daemons are invoked as packets come in, by <a class="link-man" href="../8/inetd">inetd(8)</a>, and some must run independently, started from <i class="file">/etc/rc</i>; see <a class="link-man" href="../5/rc.conf">rc.conf(5)</a>.<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-col">
<col style="width: 8.00ex;">
<col style="width: 14.00ex;">
<col style="min-width: 13.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Protocol</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Program</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Startup</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
RARP</td>
<td class="list-col" style="margin-top: 1.00em;">
rarpd</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/rc.conf">rc.conf(5)</a></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
DHCP</td>
<td class="list-col" style="margin-top: 1.00em;">
dhcpd</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/rc.conf">rc.conf(5)</a></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
BOOTP</td>
<td class="list-col" style="margin-top: 1.00em;">
bootpd</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/inetd.conf">inetd.conf(5)</a></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
TFTP</td>
<td class="list-col" style="margin-top: 1.00em;">
tftpd</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/inetd.conf">inetd.conf(5)</a></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Sun RPC</td>
<td class="list-col" style="margin-top: 1.00em;">
rpcbind</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/rc.conf">rc.conf(5)</a></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Sun RPC</td>
<td class="list-col" style="margin-top: 1.00em;">
rpc.bootparamd</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/rc.conf">rc.conf(5)</a></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Sun NFS</td>
<td class="list-col" style="margin-top: 1.00em;">
mountd</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/rc.conf">rc.conf(5)</a></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Sun NFS</td>
<td class="list-col" style="margin-top: 1.00em;">
nfsiod</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/rc.conf">rc.conf(5)</a></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
HP RMP</td>
<td class="list-col" style="margin-top: 1.00em;">
rbootd</td>
<td class="list-col" style="margin-top: 1.00em;">
<a class="link-man" href="../5/rc.conf">rc.conf(5)</a></td>
</tr>
</tbody>
</table>
<p>
<span class="symb">N.B.</span> DHCP is essentially a series of extensions to BOOTP; the <span class="unix">NetBSD</span> <a class="link-man" href="../8/dhcpd">dhcpd(8)</a> is capable of responding to both kinds of protocol requests. Since they both bind to the same UDP port, only one may be run on a given server.<p>
In the following examples, the client's hostname is <span class="symb">myclient</span>; the server is <span class="symb">myserver</span>, and the addresses are all fictional. In these examples the hostnames may be Fully Qualified Domain Names (FQDN, e.g. &#8220;myclient.mydomain.com&#8221;) provided that they are used consistently.<div class="subsection">
<h2 id="x52415250">RARP</h2> For clients that use RARP to obtain their IP address, an entry must be added for each client to <i class="file">/etc/ethers</i> with the client's Ethernet MAC address and Internet hostname:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
8:0:20:7:c5:c7          myclient</pre>
<p>
This will be used by <a class="link-man" href="../8/rarpd">rarpd(8)</a> to reply to queries from the clients. There must be one entry per client system.<p>
A client system's Ethernet MAC address is often printed on the system case, or on a chip on its motherboard, or on the NIC. If not, &#8220;sniffing&#8221; the network with <a class="link-man" href="../8/tcpdump">tcpdump(8)</a> when the client is powered-on should reveal its Ethernet MAC address.<p>
Each client system that uses RARP must have its own, unique IP address assigned to it. Assign an IP address for myclient in your <i class="file">/etc/hosts</i> file, or in the master file for your DNS zone. For <i class="file">/etc/hosts</i> the entry should look like:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
192.197.96.12           myclient</pre>
</div>
<div class="subsection">
<h2 id="x444843502f424f4f5450">DHCP/BOOTP</h2> The <span class="unix">NetBSD</span> DHCP server <a class="link-man" href="../8/dhcpd">dhcpd(8)</a> was developed by the Internet Software Consortium (<a class="link-ext" href="http://www.isc.org/">ISC</a>).<p>
DHCP can provide a wide range of information to a requesting client; the key data for bootstrapping a diskless client are:<p>
<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 0.00em;">
an IP address</li>
<li class="list-enum" style="margin-top: 0.00em;">
a subnet mask</li>
<li class="list-enum" style="margin-top: 0.00em;">
a TFTP server address for loading the secondary bootstrap and the <span class="unix">NetBSD</span> kernel</li>
<li class="list-enum" style="margin-top: 0.00em;">
a filename of the secondary bootstrap</li>
<li class="list-enum" style="margin-top: 0.00em;">
an NFS server address for the client's file system</li>
<li class="list-enum" style="margin-top: 0.00em;">
the client's root file system path, to be NFS mounted.</li>
</ol>
<p>
An example for <i class="file">/etc/dhcpd.conf</i><p>
<pre style="margin-left: 5.00ex;" class="lit display">
host myclient { 
	hardware ethernet 8:0:20:7:c5:c7; 
	fixed-address myclient;		# client's assigned IP address 
	filename "myclient.netboot";	# secondary bootstrap 
	next-server myserver;		# TFTP server for secondary bootstrap 
	option swap-server myserver;	# NFS server for root filesystem 
	option root-path "/export/myclient/root"; 
}</pre>
<p>
That <span class="symb">host</span> declaration goes inside a <span class="symb">subnet</span> declaration, which gives parameters for all hosts on the subnet that will be using DHCP, such as the &#8220;routers&#8221; (the default route), &#8220;subnet-mask&#8221;, &#8220;broadcast-address&#8221;, &#8220;domain-name-servers&#8221;, etc. See <a class="link-man" href="../5/dhcpd.conf">dhcpd.conf(5)</a> for details. In that example, <span class="symb">myclient</span> has an assigned IP address.<p>
The DHCP parameters required for network bootstrapping a system will vary from platform to platform, as dictated by each system's firmware. In particular, because the DHCP is extensible, some hardware vendors have specified DHCP options to return information to requesting clients that are specific to that platform. Please see your platform's <a class="link-man" href="../8/boot">boot(8)</a> for details.</div>
<div class="subsection">
<h2 id="x54465450">TFTP</h2> If booting a Sun system, or other system that expects to use TFTP, ensure that <a class="link-man" href="../8/inetd">inetd(8)</a> is configured to run <a class="link-man" href="../8/tftpd">tftpd(8)</a>. The <a class="link-man" href="../8/tftpd">tftpd(8)</a> server should be set up to serve the directory <i class="file">/tftpboot</i>.<p>
If booting a SPARC system, install a copy of the appropriate diskless secondary boot loader (such as <i class="file">/usr/mdec/boot</i> or <i class="file">ofwboot.net</i>) in the <i class="file">/tftpboot</i> directory. Make a link such that the boot program is accessible by a filename composed of the client's IP address in hexadecimal, a dot, and the architecture name (all upper case). For example:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
# cd /tftpboot 
# ln -s boot C0C5600C.SUN4</pre>
<p>
For a Sun-3 or UltraSPARC system, the filename would be just C0C5600C (these systems' firmware does not append the architecture name). The name used is architecture dependent, it simply has to match what the booting client's system firmware wishes to it to be.<p>
If the client's system firmware fails to fetch the expected file, <a class="link-man" href="../8/tcpdump">tcpdump(8)</a> can be used to discover which filename the client is being requested. Also, examination of <a class="link-man" href="../8/tftpd">tftpd(8)</a> log entries (typically in <i class="file">/var/log/messages</i>) should show whether the server is hearing the client system, and what filename the client is asking for.</div>
<div class="subsection">
<h2 id="x485020524d50">HP RMP</h2> If booting an HP 300-series system, ensure that <i class="file">/etc/rbootd.conf</i> is configured properly to transfer the boot program to the client. An entry might look like this:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
08:00:09:01:23:E6	SYS_UBOOT	# myclient</pre>
<p>
The secondary bootstrap program for an HP 300-series system <i class="file">SYS_UBOOT</i> (which may be called <i class="file">uboot.lif</i> before installation) must be installed in the directory <i class="file">/usr/mdec/rbootd</i>.<p>
See the <a class="link-man" href="../8/rbootd">rbootd(8)</a> manual page for more information.</div>
<div class="subsection">
<h2 id="x53756e2052504320424f4f54504152414d53">Sun RPC BOOTPARAMS</h2> Add <span class="symb">myclient</span> to the bootparams database in <i class="file">/etc/bootparams</i>:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
myclient  root=myserver:/export/myclient/root \ 
          swap=myserver:/export/myclient/root/swap \ 
          dump=myserver:/export/myclient/root/swap</pre>
<p>
and ensure that <a class="link-man" href="../8/rpc.bootparamd">rpc.bootparamd(8)</a> and <a class="link-man" href="../8/rpcbind">rpcbind(8)</a> are running. Both <span class="symb">myclient</span> and <span class="symb">myserver</span> must have IP addresses in the DNS or <i class="file">/etc/hosts</i>.</div>
<div class="subsection">
<h2 id="x4469736b6c65737320436c69656e742046696c652053797374656d73">Diskless Client File Systems</h2> Build the swap file for <span class="symb">myclient</span> on the NFS server:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
# cd /export/myclient/root 
# dd if=/dev/zero of=swap bs=16k count=1024</pre>
<p>
This creates a 16 megabyte swap file.<p>
Populate <span class="symb">myclient</span>'s root file system on the NFS server. How this is done depends on the client architecture and the version of the <span class="unix">NetBSD</span> distribution. It can be as simple as copying and modifying the server's root file system, or unpack a complete <span class="unix">NetBSD</span> binary distribution for the appropriate platform.<p>
If the NFS server is going to support multiple different architectures (e.g. Alpha, PowerPC, SPARC, MIPS), then it is important to think carefully about how to lay out the NFS server's exported file systems, to share what can be shared (e.g. text files, configuration files, user home directories), and separate that which is distinct to each architecture (e.g. binary executables, libraries).</div>
<div class="subsection">
<h2 id="x4e4653">NFS</h2> Export the client-populated file systems on the NFS server in <i class="file">/etc/exports</i>:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
/usr -ro myclient 
# for SunOS: 
# /export/myclient -rw=myclient,root=myclient 
# for NetBSD: 
/export/myclient -maproot=root -alldirs myclient</pre>
<p>
If the server and client are of the same architecture, then the client can share the server's <i class="file">/usr</i> file system (as is done above). If not, you must build a properly fleshed out <i class="file">/usr</i> partition for the client in some other part of the server's file system, to serve to the client.<p>
If your server is a SPARC, and your client a Sun-3, you might create and fill <i class="file">/export/usr.sun3</i> and then use the following <i class="file">/etc/exports</i> lines:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
/export/usr.sun3 -ro myclient 
/export/myclient -rw=myclient,root=myclient</pre>
<p>
Of course, in either case you will have to have an NFS server running on the server side.</div>
</div>
<div class="section">
<h1 id="x434c49454e5420434f4e46494755524154494f4e">CLIENT CONFIGURATION</h1> Copy and customize at least the following files in <i class="file">/export/myclient/root</i>:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
# cd /export/myclient/root/etc 
# vi fstab 
# cp /etc/hosts hosts 
# echo 'hostname="myclient"' &gt;&gt; rc.conf 
# echo "inet 192.197.96.12" &gt; ifconfig.le0</pre>
<p>
Note that "le0" above should be replaced with the name of the network interface that the client will use for booting; the network interface name is device dependent in <span class="unix">NetBSD</span>.<p>
Correct the critical mount points and the swap file in the client's <i class="file">/etc/fstab</i> (which will be <i class="file">/export/myclient/root/etc/fstab</i>) i.e.<p>
<pre style="margin-left: 5.00ex;" class="lit display">
myserver:/export/myclient/root  /    nfs  rw 0 0 
myserver:/usr                   /usr nfs  rw 0 0 
/swap                           none swap sw 0 0</pre>
<p>
Note, you <span class="emph">must</span> specify the swap file in <i class="file">/etc/fstab</i> or it will not be used! See <a class="link-man" href="../8/swapctl">swapctl(8)</a>.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/hosts</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
table of associated IP addresses and IP host names; see <a class="link-man" href="../5/hosts">hosts(5)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ethers</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
table of associated Ethernet MAC addresses and IP host names used by <a class="link-man" href="../8/rarpd">rarpd(8)</a>; see <a class="link-man" href="../5/ethers">ethers(5)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/bootparams</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
client root pathname and swap pathname; see <a class="link-man" href="../5/bootparams">bootparams(5)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/exports</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
exported NFS mount points; see <a class="link-man" href="../5/exports">exports(5)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rbootd.conf</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
configuration file for HP RMP; see <a class="link-man" href="../8/rbootd">rbootd(8)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/mdec/rbootd</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
location of boot programs offered by <a class="link-man" href="../8/rbootd">rbootd(8)</a></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/tftpboot</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
location of boot programs offered by <a class="link-man" href="../8/tftpd">tftpd(8)</a></dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/bootparams">bootparams(5)</a>, <a class="link-man" href="../5/dhcpd.conf">dhcpd.conf(5)</a>, <a class="link-man" href="../5/ethers">ethers(5)</a>, <a class="link-man" href="../5/exports">exports(5)</a>, <a class="link-man" href="../5/fstab">fstab(5)</a>, <a class="link-man" href="../5/hosts">hosts(5)</a>, <a class="link-man" href="../5/networks">networks(5)</a>, <a class="link-man" href="../8/boot">boot(8)</a>, <a class="link-man" href="../8/dhcpd">dhcpd(8)</a>, <a class="link-man" href="../8/mopd">mopd(8)</a>, <a class="link-man" href="../8/mountd">mountd(8)</a>, <a class="link-man" href="../8/nfsd">nfsd(8)</a>, <a class="link-man" href="../8/rarpd">rarpd(8)</a>, <a class="link-man" href="../8/rbootd">rbootd(8)</a>, <a class="link-man" href="../8/reboot">reboot(8)</a>, <a class="link-man" href="../8/rpc.bootparamd">rpc.bootparamd(8)</a>, <a class="link-man" href="../8/tftpd">tftpd(8)</a><p>
<span class="ref"><span class="ref-title">Reverse Address Resolution Protocol</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">903</span>, <span class="ref-date">June 1984</span>.</span><p>
<span class="ref"><span class="ref-title">Bootstrap Loading using TFTP</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">906</span>, <span class="ref-date">June 1984</span>.</span><p>
<span class="ref"><span class="ref-title">Bootstrap Protocol</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">951</span>, <span class="ref-date">September 1985</span>.</span><p>
<span class="ref"><span class="ref-title">The TFTP Protocol (Revision 2)</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">1350</span>, <span class="ref-date">July 1992</span>.</span><p>
<span class="ref"><span class="ref-title">Dynamic Host Configuration Protocol</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">2131</span>, <span class="ref-date">March 1997</span>.</span><p>
<span class="ref"><span class="ref-title">DHCP Options and BOOTP Vendor Extensions</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">2132</span>, <span class="ref-date">March 1997</span>.</span><p>
<a class="link-ext" href="http://www.rfc-editor.org/">RFC Editor</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 7, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

