<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
DBSYM(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DBSYM(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
DBSYM(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dbsym</b> &#8212; <span class="desc">copy kernel symbol table into db_symtab space</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
dbsym</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;Ppv</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;b</b> <i class="arg">bfdname</i></span>&#93; <i class="arg">kernel</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">dbsym</b> is used to copy the symbol table in a newly linked kernel into the <b class="var">db_symtab</b> array (in the data section) so that the <a class="link-man" href="../4/ddb">ddb(4)</a> kernel debugger can find the symbols. This program is only used on systems for which the boot program does not load the symbol table into memory with the kernel. The space for these symbols is reserved in the data segment using a config option like:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">options		SYMTAB_SPACE=72000</code></div>
</blockquote>
The size of the db_symtab array (the value of SYMTAB_SPACE) must be at least as large as the kernel symbol table. If insufficient space is reserved, dbsym will refuse to copy the symbol table.<p>
To recognize kernel executable format, the <b class="flag">&#45;b</b> flag specifies BFD name of kernel.<p>
If the <b class="flag">&#45;P</b> flag is given, <b class="name">dbsym</b> will report the size of the kernel symbol table.<p>
If the <b class="flag">&#45;p</b> flag is given, <b class="name">dbsym</b> will report the size of the kernel symbol table and the size of the db_symtab space. Two values are printed out in a line separated by a space.<p>
If the <b class="flag">&#45;v</b> flag is given, <b class="name">dbsym</b> will print out status information as it is copying the symbol table.<p>
Note that debugging symbols are not useful to the <a class="link-man" href="../4/ddb">ddb(4)</a> kernel debugger, so to minimize the size of the kernel, one should either compile the kernel without debugging symbols (no <b class="flag">&#45;g</b> flag) or use the <a class="link-man" href="../1/strip">strip(1)</a> command to strip debugging symbols from the kernel before <b class="name">dbsym</b> is used to copy the symbol table. The command<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">strip -d netbsd</code></div>
</blockquote>
will strip out debugging symbols.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/strip">strip(1)</a>, <a class="link-man" href="../4/ddb">ddb(4)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 14, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

