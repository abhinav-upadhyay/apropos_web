<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
PVCTXCTL(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
PVCTXCTL(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
PVCTXCTL(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">pvctxctl</b> &#8212; <span class="desc">display or control ATM PVC transmitter parameters</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;">
<col>
<tbody>
<tr>
<td>
pvctxctl</td>
<td>
<i class="arg">interface</i> &#91;<span class="opt">&#91;<span class="opt">vpi:</span>&#93;<i class="arg">vci</i></span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 8.00ex;">
<col>
<tbody>
<tr>
<td>
pvctxctl</td>
<td>
<i class="arg">interface</i> &#91;<span class="opt">vpi:</span>&#93;<i class="arg">vci</i> &#91;<span class="opt"><b class="flag">&#45;n</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;b</b> <i class="arg">max-bandwidth</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;j</b> &#91;<span class="opt">vpi:</span>&#93;<i class="arg">vci</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">pcr</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">pvctxctl</b> displays or controls the shaper parameters of an ATM VC. When a shaper value is specified, <b class="name">pvctxctl</b> sets a shaper to an ATM VC. <b class="name">pvctxctl</b> works for a PVC sub interface <a class="link-man" href="../4/pvc">pvc(4)</a> as well as a real ATM interface <a class="link-man" href="../4/en">en(4)</a>.<p>
For a real ATM interface, the specified VC should be assigned beforehand by <a class="link-man" href="../8/route">route(8)</a>.<p>
For a sub interface, <b class="name">pvctxctl</b> assigns the specified VC to the sub interface.  If another VC is already assigned to the sub interface, the old VC is invalidated.<p>
Availability of shapers, the number of hardware shaper channels, and accuracy of shaping are all device dependent. For example, ENI Midway chip has 8 shaper channels but the driver reserves one for non-shaping VCs.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">interface</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The <i class="arg">interface</i> parameter is a string of the form &#8220;name unit&#8221;, for example, &#8220;en0&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="opt">vpi:</span>&#93;<i class="arg">vci</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The VC number to which the shaper is assigned. When the VPI number is omitted, VPI number 0 is assumed. For example, to assign a shaper to VPI=0 and VCI=201, the following forms can be used: "201", "0xc9", "0:201", "0:0xc9".</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b> <i class="arg">max-bandwidth</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The PCR parameter can be specified also in &#8220;bits per second&#8221;. The rate is the rate of AAL5 frame and the PCR is calculated by the following form:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">PCR = max-bandwidth / 8 / 48</code></div>
</blockquote>
<p>
&#8220;K&#8221; and &#8220;M&#8221; can be used as a short hand of &#8220;000&#8221; and &#8220;000000&#8221; respectively.  For example, &#8220;45M&#8221; means &#8220;45Mbps&#8221; or PCR value &#8220;117187&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;j</b> &#91;<span class="opt">vpi:</span>&#93;<i class="arg">vci</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The join parameter is intended for VP shaping. The VC shaper channel is shared with the existing VC, which means the sum of the cell rates never exceeds the maximum PCR among the shared VCs. On the other hand, when the shaper channel is not shared, the sum of the cell rates could be the sum of the PCRs.<p>
For example, if two VCs (say 201 and 202) share a 45Mbps VP, use:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"># pvctxctl en0 201 -b 45M</code></div>
</blockquote>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"># pvctxctl en0 202 -b 45M -j 201</code></div>
</blockquote>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This parameter is only for a sub interface. Use NULL encapsulation instead of LLC/SNAP.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">pcr</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The PCR (Peak Cell Rate) parameter specifies the peak cell rate in "cells per second". If PCR value "0" is specified, no shaper is assigned, which means cells are sent at full-speed of the link. If PCR value &#8220;-1&#8221; is specified, the corresponding VC is invalidated.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/en">en(4)</a>, <a class="link-man" href="../8/ifconfig">ifconfig(8)</a>, <a class="link-man" href="../8/pvcsif">pvcsif(8)</a>, <a class="link-man" href="../8/route">route(8)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> A real ATM interface and a sub interface require different sequences to set a shaper. For example, to assign a 45Mbps shaper to VC 201 (0xc9) of en0:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
# ifconfig en0 10.0.0.1 
# route add -iface 10.0.0.2 -link en0:3.0.0.c9 
# pvctxctl en0 0xc9 -b 45M</pre>
<p>
For a shadow interface,<p>
<pre style="margin-left: 5.00ex;" class="lit display">
# pvcsif en0      			# creates pvc0 
# ifconfig pvc0 10.0.0.1 10.0.0.2 
# pvctxctl pvc0 201 -b 45M</pre>
</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 29, 1997</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

