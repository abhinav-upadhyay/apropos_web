<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
USERDEL(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
USERDEL(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
USERDEL(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">userdel</b> &#8212; <span class="desc">remove a user from the system</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
userdel</td>
<td>
<b class="flag">&#45;D</b> &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">preserve-value</i></span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
userdel</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;rSv</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">preserve-value</i></span>&#93; <i class="arg">user</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">userdel</b> utility removes a user from the system, optionally removing that user's home directory and any subdirectories.<p>
Default values are taken from the information provided in the <i class="file">/etc/usermgmt.conf</i> file, which, if running as root, is created using the built-in defaults if it does not exist.<p>
The first form of the command shown above (using the <b class="flag">&#45;D</b> option) sets and displays the defaults for the <b class="name">userdel</b> utility.<p>
See <a class="link-man" href="../8/user">user(8)</a> for more information about <span class="define">EXTENSIONS</span>.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;D</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Without any further options, <b class="flag">&#45;D</b> will show the current defaults which will be used by the <b class="name">userdel</b> utility. Together with one of the options shown for the first version of the command, <b class="flag">&#45;D</b> will set the default to be the new value. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">preserve-value</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the preservation value. If this value is one of &#8216;<code class="lit">true</code>&#8217;, &#8216;<code class="lit">yes</code>&#8217;, or a non-zero number, then the user login information will be preserved. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
</dl>
<p>
In the second form of the command, after setting any defaults, and then reading values from <i class="file">/etc/usermgmt.conf</i>, the following command line options are processed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">preserve-value</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Preserve the user information in the password file, but do not allow the user to login, by switching the password to an &#8220;impossible&#8221; one, and by setting the user's shell to the <a class="link-man" href="../8/nologin">nologin(8)</a> program. This option can be helpful in preserving a user's files for later use by members of that person's group after the user has moved on. This value can also be set in the <i class="file">/etc/usermgmt.conf</i> file, using the &#8216;<code class="lit">preserve</code>&#8217; field. If the field has any of the values &#8216;<code class="lit">true</code>&#8217;, &#8216;<code class="lit">yes</code>&#8217;, or a non-zero number, then user information preservation will take place. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Remove the user's home directory, any subdirectories, and any files and other entries in them.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Allow a samba user name (with a trailing dollar sign) to be deleted. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Perform any actions in a verbose manner. This option is included if built with <span class="define">EXTENSIONS</span>.</dd>
</dl>
<p>
Once the information has been verified, <b class="name">userdel</b> uses <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a> to update the user database. This is run in the background, and, at very large sites could take several minutes. Until this update is completed, the password file is unavailable for other updates and the new information is not available to programs.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/usermgmt.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">userdel</b> utility exits 0 on success, and &gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/passwd">passwd(5)</a>, <a class="link-man" href="../5/usermgmt.conf">usermgmt.conf(5)</a>, <a class="link-man" href="../8/group">group(8)</a>, <a class="link-man" href="../8/nologin">nologin(8)</a>, <a class="link-man" href="../8/pwd_mkdb">pwd_mkdb(8)</a>, <a class="link-man" href="../8/user">user(8)</a>, <a class="link-man" href="../8/useradd">useradd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">userdel</b> utility first appeared in <span class="unix">NetBSD&#160;1.5</span>. It is based on the <i class="arg">addnerd</i> package by the same author.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">userdel</b> utility was written by <span class="author">Alistair G. Crooks</span> &#60;agc@NetBSD.org&#62;.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 16, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

