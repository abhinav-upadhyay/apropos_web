<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
BIOCTL(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
BIOCTL(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
BIOCTL(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">bioctl</b> &#8212; <span class="desc">RAID management interface</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
bioctl</td>
<td>
<i class="arg">device</i> <i class="arg">command</i> &#91;<span class="opt"><i class="arg">arg</i> &#91;<span class="opt">...</span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> RAID device drivers which support management functionality can register their services with the <a class="link-man" href="../4/bio">bio(4)</a> driver. <b class="name">bioctl</b> then can be used to manage the RAID controller's properties.</div>
<div class="section">
<h1 id="x434f4d4d414e4453">COMMANDS</h1> The following commands are supported:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">show</b> &#91;<span class="opt"><i class="arg">disks</i> | <i class="arg">volumes</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Without any argument by default <b class="name">bioctl</b> will show information about all volumes and the logical disks used on them. If <i class="arg">disks</i> is specified, only information about physical disks will be shown. If <i class="arg">volumes</i> is specified, only information about the volumes will be shown.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">alarm</b> &#91;<span class="opt"><i class="arg">disable</i> | <i class="arg">enable</i> | <i class="arg">silence</i> | <i class="arg">test</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Control the RAID card's alarm functionality, if supported. By default if no argument is specified, its current state will be shown. Optionally the <i class="arg">disable</i>, <i class="arg">enable</i>, <i class="arg">silence</i>, or <i class="arg">test</i> arguments may be specified to enable, disable, silence, or test the RAID card's alarm.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">blink</b> <i class="arg">start channel:target.lun</i> | <i class="arg">stop channel:target.lun</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Instruct the device at <i class="arg">channel:target.lun</i> to start or cease blinking, if there's <a class="link-man" href="../4/ses">ses(4)</a> support in the enclosure.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">hotspare</b> <i class="arg">add channel:target.lun</i> | <i class="arg">remove channel:target.lun</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Create or remove a hot-spare drive at location <i class="arg">channel:target.lun</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">passthru</b> <i class="arg">add DISKID channel:target.lun</i> | <i class="arg">remove</i> <i class="arg">channel:target.lun</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Create or remove a <i class="arg">pass-through</i> device. The <i class="arg">DISKID</i> argument specifies the disk that will be used for the new device, and it will be created at the location <i class="arg">channel:target.lun</i>. <span class="emph">NOTE</span>: Removing a pass-through device that has a mounted filesystem will lead to undefined behaviour.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">check</b> <i class="arg">start VOLID</i> | <i class="arg">stop VOLID</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Start or stop consistency volume check in the volume with index <i class="arg">VOLID</i>. <span class="emph">NOTE</span>: Not many RAID controllers support this feature.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">create volume</b> <i class="arg">VOLID DISKIDs</i> &#91;<span class="opt"><i class="arg">SIZE</i></span>&#93; <i class="arg">STRIPE RAID_LEVEL channel:target.lun</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Create a volume at index <i class="arg">VOLID</i>. The <i class="arg">DISKIDs</i> argument will specify the first and last disk, i.e.: <span class="emph">0-3</span> will use the disks 0, 1, 2, and 3. The <i class="arg">SIZE</i> argument is optional and may be specified if not all available disk space is wanted (also dependent of the <i class="arg">RAID_LEVEL</i>). The volume will have a stripe size defined in the <i class="arg">STRIPE</i> argument and it will be located at <i class="arg">channel:target.lun</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">remove volume</b> <i class="arg">VOLID channel:target.lun</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Remove a volume at index <i class="arg">VOLID</i> and located at <i class="arg">channel:target.lun</i>. <span class="emph">NOTE</span>: Removing a RAID volume that has a mounted filesystem will lead to undefined behaviour.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The following command, executed from the command line, shows the status of the volumes and its logical disks on the RAID controller:<p>
<pre style="margin-left: 0.00ex;" class="lit display">
$ bioctl arcmsr0 show 
Volume Status       Size         Device/Label   RAID Level Stripe 
================================================================= 
     0 Building     468G  sd0 ARC-1210-VOL#00       RAID 6  128KB  0% done 
   0:0 Online       234G         0:0.0 noencl &lt;WDC WD2500YS-01SHB1 20.06C06&gt; 
   0:1 Online       234G         0:1.0 noencl &lt;WDC WD2500YS-01SHB1 20.06C06&gt; 
   0:2 Online       234G         0:2.0 noencl &lt;WDC WD2500YS-01SHB1 20.06C06&gt; 
   0:3 Online       234G         0:3.0 noencl &lt;WDC WD2500YS-01SHB1 20.06C06&gt;</pre>
<p>
To create a RAID 5 volume on the SCSI 0:15.0 location on the disks 0, 1, 2, and 3, with stripe size of 64Kb on the first volume ID, using all available free space on the disks:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ bioctl arcmsr0 create volume 0 0-3 64 5 0:15.0</code></div>
</blockquote>
<p>
To remove the volume 0 previously created at the SCSI 0:15.0 location:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ bioctl arcmsr0 remove volume 0 0:15.0</code></div>
</blockquote>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/arcmsr">arcmsr(4)</a>, <a class="link-man" href="../4/bio">bio(4)</a>, <a class="link-man" href="../4/cac">cac(4)</a>, <a class="link-man" href="../4/ciss">ciss(4)</a>, <a class="link-man" href="../4/mfi">mfi(4)</a>, <a class="link-man" href="../4/mpt">mpt(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">bioctl</b> command first appeared in <span class="unix">OpenBSD&#160;3.8</span>, it was rewritten for <span class="unix">NetBSD&#160;5.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">bioctl</b> interface was written by <span class="author">Marco Peereboom</span> &#60;<a class="link-mail" href="mailto:marco@openbsd.org">marco@openbsd.org</a>&#62; and was rewritten with multiple features by <span class="author">Juan Romero Pardines</span> &#60;<a class="link-mail" href="mailto:xtraeme@NetBSD.org">xtraeme@NetBSD.org</a>&#62;.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
March 16, 2008</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

