<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ISDNTRACE(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ISDNTRACE(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
ISDNTRACE(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">isdntrace</b> &#8212; <span class="desc">isdn4bsd ISDN protocol trace utility</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 9.00ex;">
<col>
<tbody>
<tr>
<td>
isdntrace</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;a</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;b</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;d</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;f</b> <i class="arg">filename</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;h</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;i</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;l</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;n</b> <i class="arg">number</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">filename</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">number</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;x</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;B</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;F</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;P</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;R</b> <i class="arg">unit</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;T</b> <i class="arg">unit</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">isdntrace</b> is part of the isdn4bsd package and is used to provide the user with a mnemonic display of the layers 1, 2 and 3 protocol activities on the D channel and hex dump of the B channel(s) activities.<p>
Together with two passive supported cards and an easy to build cable it can also be used to monitor the complete traffic on a S0 bus providing S0 bus analyzer features.<p>
The <b class="name">isdntrace</b> utility is only available for passive supported cards.<p>
<span class="emph">Note</span><div style="height: 0.00em;">
&#160;</div>
All filenames, user specified or default, get a date and time stamp string added in the form -yymmdd-hhmmss: a hyphen, two digits year, month, day, a hyphen and two digits hour, minutes and seconds. Trace files no longer get overwritten. In case a new filename is needed within a second, the filename-generating mechanism sleeps one second.<div style="height: 0.00em;">
&#160;</div>
In case the program is sent a USR1 signal, a new user specified or default filename with a new date and time stamp is generated and opened.<p>
The following options can be used:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Run <b class="name">isdntrace</b> in analyzer mode by using two passive cards and a custom cable which can be build as described in the file <span class="emph">cable.txt</span> in the isdn4bsd source distribution. One card acts as a receiver for the transmitting direction on the S0 bus while the other card acts as a receiver for the receiving direction on the S0 bus. Complete traffic monitoring is possible using this setup.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
switch B channel tracing on (default off).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
switch D channel tracing off (default on).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">filename</i> as the name of a file into which to write tracing output (default filename is isdntrace&lt;n&gt; where n is the number of the unit to trace).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;h</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
switch display of header off (default on).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
print layer 1 (I.430) INFO signals to monitor layer 1 activity (default off).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
switch displaying of Layer 2 (Q.921) frames off (default on).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This option takes a numeric argument specifying the minimum frame size in octets a frame must have to be displayed. (default 0)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
switch off writing trace output to a file (default on).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">filename</i> as the name of a file used for the -B and -P options (default filename is isdntracebin&lt;n&gt; where n is the number of the unit to trace).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Switch off printing a raw hexadecimal dump of the packets preceding the decoded protocol information (default on).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">number</i> as the unit number of the controller card to trace (default 0).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;x</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Switch on printing of packets with a non-Q.931 protocol discriminator. (default off).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;B</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Write undecoded binary trace data to a file for later or remote analyzing (default off).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;F</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This option can only be used when option -P (playback from binary data file) is used. The -F option causes playback not to stop at end of file but rather to wait for additional data to be available from the input file.<p>
This option is useful when trace data is accumulated in binary format (to save disk space) but a monitoring functionality is desired. (default off).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;P</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Read undecoded binary trace data from file instead from device (default off).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">unit</i> as the receiving interface unit number in analyze mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;T</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">unit</i> as the transmitting interface unit number in analyze mode.</dd>
</dl>
<p>
When the USR1 signal is sent to a <b class="name">isdntrace</b> process, the currently used logfiles are reopened, so that logfile rotation becomes possible.<p>
The trace output should be obvious. It is very handy to have the following standard texts available when tracing ISDN protocols:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">I.430</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
ISDN BRI layer 1 protocol description.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">Q.921</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
ISDN D-channel layer 2 protocol description.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">Q.931</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
ISDN D-channel layer 3 protocol description.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">1TR6</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
German-specific ISDN layer 3 protocol description. (NOTICE: decoding of the 1TR6 protocol is included but not supported since i dont have any longer access to a 1TR6 based ISDN installation.)</dd>
</dl>
<p>
<b class="name">isdntrace</b> automatically detects the layer 3 protocol being used by looking at the Protocol Discriminator (see: Q.931/1993 pp. 53).</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/dev/isdntrc&lt;n&gt;</i></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
The device file(s) used to get the trace messages for ISDN card unit &lt;n&gt; out of the kernel.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The command:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
isdntrace -f /var/tmp/isdn.trace</pre>
<p>
will start D channel tracing on passive controller 0 with all except B channel tracing enabled and logs everything into the output file /var/tmp/isdn.trace-yymmdd-hhmmss (where yymmdd and hhmmss are replaced by the current date and time values).</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html8/isdnd.html">isdnd(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> ITU Recommendations I.430, Q.920, Q.921, Q.930, Q.931<p>
FTZ Richtlinie 1TR3, Band III<p>
ITU Recommendation Q.932 (03/93), Q.950 (03/93)<p>
ETSI Recommendation ETS 300 179 (10/92), ETS 300 180 (10/92)<p>
ETSI Recommendation ETS 300 181 (04/93), ETS 300 182 (04/93)<p>
ITU Recommendation X.208, X.209</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">isdntrace</b> utility was written by <span class="author">Gary Jennejohn</span> and <span class="author">Hellmuth Michaelis</span>.<p>
This manual page was written by <span class="author">Hellmuth Michaelis</span> &#60;<a class="link-mail" href="mailto:hm@kts.org">hm@kts.org</a>&#62;.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
February 13, 2000</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

