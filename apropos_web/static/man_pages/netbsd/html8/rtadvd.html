<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RTADVD(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RTADVD(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
RTADVD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rtadvd</b> &#8212; <span class="desc">router advertisement daemon</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
rtadvd</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;DdfRs</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;c</b> <i class="arg">configfile</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;M</b> <i class="arg">ifname</i></span>&#93; <i class="arg">interface ...</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">rtadvd</b> sends router advertisement packets to the specified interfaces.<p>
The program will daemonize itself on invocation. It will then send router advertisement packets periodically, as well as in response to router solicitation messages sent by end hosts.<p>
Router advertisements can be configured on a per-interface basis, as described in <a class="link-man" href="../5/rtadvd.conf">rtadvd.conf(5)</a>.<p>
If there is no configuration file entry for an interface, or if the configuration file does not exist at all, <b class="name">rtadvd</b> sets all the parameters to their default values. In particular, <b class="name">rtadvd</b> reads all the interface routes from the routing table and advertises them as on-link prefixes.<p>
<b class="name">rtadvd</b> also watches the routing table. If an interface direct route is added on an advertising interface and no static prefixes are specified by the configuration file, <b class="name">rtadvd</b> adds the corresponding prefix to its advertising list.<p>
Similarly, when an interface direct route is deleted, <b class="name">rtadvd</b> will start advertising the prefixes with zero valid and preferred lifetimes to help the receiving hosts switch to a new prefix when renumbering. Note, however, that the zero valid lifetime cannot invalidate the autoconfigured addresses at a receiving host immediately. According to the specification, the host will retain the address for a certain period, which will typically be two hours. The zero lifetimes rather intend to make the address deprecated, indicating that a new non-deprecated address should be used as the source address of a new connection. This behavior will last for two hours. Then <b class="name">rtadvd</b> will completely remove the prefix from the advertising list, and succeeding advertisements will not contain the prefix information.<p>
Moreover, if the status of an advertising interface changes, <b class="name">rtadvd</b> will start or stop sending router advertisements according to the latest status.<p>
The <b class="flag">&#45;s</b> option may be used to disable this behavior; <b class="name">rtadvd</b> will not watch the routing table and the whole functionality described above will be suppressed.<p>
Basically, hosts MUST NOT send Router Advertisement messages at any time (RFC 2461, Section 6.2.3). However, it would sometimes be useful to allow hosts to advertise some parameters such as prefix information and link MTU. Thus, <b class="name">rtadvd</b> can be invoked if router lifetime is explicitly set to zero on every advertising interface.<p>
The command line options are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">configfile</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify an alternate location, <i class="arg">configfile</i>, for the configuration file. By default, <i class="file">/etc/rtadvd.conf</i> is used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;D</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Even more debugging information than that offered by the <b class="flag">&#45;d</b> option is printed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print debugging information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Foreground mode (useful when debugging). Log messages will be dumped to stderr when this option is specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;M</b> <i class="arg">ifname</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify an interface to join the all-routers site-local multicast group. By default, <b class="name">rtadvd</b> tries to join the first advertising interface appearing on the command line. This option has meaning only with the <b class="flag">&#45;R</b> option, which enables routing renumbering protocol support.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Accept router renumbering requests. If you enable it, an <a class="link-man" href="../4/ipsec">ipsec(4)</a> setup is suggested for security reasons. This option is currently disabled, and is ignored by <b class="name">rtadvd</b> with a warning message.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not add or delete prefixes dynamically. Only statically configured prefixes, if any, will be advertised.</dd>
</dl>
<p>
Use <span class="define">SIGHUP</span> to reload the configuration file <i class="file">/etc/rtadvd.conf</i>. If an invalid parameter is found in the configuration file upon the reload, the entry will be ignored and the old configuration will be used. When parameters in an existing entry are updated, <b class="name">rtadvd</b> will send Router Advertisement messages with the old configuration but zero router lifetime to the interface first, and then start to send a new message.<p>
Upon receipt of signal <span class="define">SIGUSR1</span>, <b class="name">rtadvd</b> will dump the current internal state into <i class="file">/var/run/rtadvd.dump</i>.<p>
Use <span class="define">SIGTERM</span> to kill <b class="name">rtadvd</b> gracefully. In this case, <b class="name">rtadvd</b> will transmit router advertisement with router lifetime 0 to all the interfaces (in accordance with RFC 2461 6.2.5).</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rtadvd.conf</i></dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
The default configuration file.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/run/rtadvd.pid</i></dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
Contains the PID of the currently running <b class="name">rtadvd</b>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/run/rtadvd.dump</i></dt>
<dd class="list-tag" style="margin-left: 22.00ex;">
The file in which <b class="name">rtadvd</b> dumps its internal state.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">rtadvd</b> utility exits 0 on success, and &gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/rtadvd.conf">rtadvd.conf(5)</a>, <a class="link-man" href="../8/rtsol">rtsol(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">rtadvd</b> command first appeared in the WIDE Hydrangea IPv6 protocol stack kit.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> There used to be some text that recommended users not to let <b class="name">rtadvd</b> advertise Router Advertisement messages on an upstream link to avoid undesirable <a class="link-man" href="../4/icmp6">icmp6(4)</a> redirect messages. However, based on later discussion in the IETF IPng working group, all routers should rather advertise the messages regardless of the network topology, in order to ensure reachability.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 13, 2006</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

