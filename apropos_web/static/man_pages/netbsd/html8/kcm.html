<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
KCM(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
KCM(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
KCM(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">kcm</b> &#8212; <span class="desc">process-based credential cache for Kerberos tickets.</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
kcm</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;cache-name=</b><i class="arg">cachename</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;c</b> <i class="arg">file</i> | <b class="flag">&#45;</b><b class="flag">&#45;config-file=</b><i class="arg">file</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">group</i> | <b class="flag">&#45;</b><b class="flag">&#45;group=</b><i class="arg">group</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;max-request=</b><i class="arg">size</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;disallow-getting-krbtgt</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;detach</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;h</b> | <b class="flag">&#45;</b><b class="flag">&#45;help</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">principal</i> | <b class="flag">&#45;</b><b class="flag">&#45;system-principal=</b><i class="arg">principal</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;l</b> <i class="arg">time</i> | <b class="flag">&#45;</b><b class="flag">&#45;lifetime=</b><i class="arg">time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i> | <b class="flag">&#45;</b><b class="flag">&#45;mode=</b><i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;n</b> | <b class="flag">&#45;</b><b class="flag">&#45;no-name-constraints</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b> <i class="arg">time</i> | <b class="flag">&#45;</b><b class="flag">&#45;renewable-life=</b><i class="arg">time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">path</i> | <b class="flag">&#45;</b><b class="flag">&#45;socket-path=</b><i class="arg">path</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;door-path=</b><i class="arg">path</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;S</b> <i class="arg">principal</i> | <b class="flag">&#45;</b><b class="flag">&#45;server=</b><i class="arg">principal</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;t</b> <i class="arg">keytab</i> | <b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">keytab</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">user</i> | <b class="flag">&#45;</b><b class="flag">&#45;user=</b><i class="arg">user</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;v</b> | <b class="flag">&#45;</b><b class="flag">&#45;version</b></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">kcm</b> is a process based credential cache. To use it, set the <span class="env">KRB5CCNAME</span> enviroment variable to &#8216;<code class="lit">KCM:<i class="arg">uid</i></code>&#8217; or add the stanza<p>
<pre style="margin-left: 0.00ex;" class="lit display">
 
[libdefaults] 
        default_cc_name = KCM:%{uid} 
</pre>
to the <i class="file">/etc/krb5.conf</i> configuration file and make sure <b class="name">kcm</b> is started in the system startup files.<p>
The <b class="name">kcm</b> daemon can hold the credentials for all users in the system.  Access control is done with Unix-like permissions.  The daemon checks the access on all operations based on the uid and gid of the user.  The tickets are renewed as long as is permitted by the KDC's policy.<p>
The <b class="name">kcm</b> daemon can also keep a SYSTEM credential that server processes can use to access services.  One example of usage might be an nss_ldap module that quickly needs to get credentials and doesn't want to renew the ticket itself.<p>
Supported options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;cache-name=</b><i class="arg">cachename</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
system cache name</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">file</i>, <b class="flag">&#45;</b><b class="flag">&#45;config-file=</b><i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
location of config file</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">group</i>, <b class="flag">&#45;</b><b class="flag">&#45;group=</b><i class="arg">group</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
system cache group</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;max-request=</b><i class="arg">size</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
max size for a kcm-request</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;disallow-getting-krbtgt</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
disallow extracting any krbtgt from the <b class="name">kcm</b> daemon.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;detach</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
detach from console</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;h</b>, <b class="flag">&#45;</b><b class="flag">&#45;help</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b> <i class="arg">principal</i>, <b class="flag">&#45;</b><b class="flag">&#45;system-principal=</b><i class="arg">principal</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
system principal name</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b> <i class="arg">time</i>, <b class="flag">&#45;</b><b class="flag">&#45;lifetime=</b><i class="arg">time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
lifetime of system tickets</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b> <i class="arg">mode</i>, <b class="flag">&#45;</b><b class="flag">&#45;mode=</b><i class="arg">mode</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
octal mode of system cache</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b>, <b class="flag">&#45;</b><b class="flag">&#45;no-name-constraints</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
disable credentials cache name constraints</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b> <i class="arg">time</i>, <b class="flag">&#45;</b><b class="flag">&#45;renewable-life=</b><i class="arg">time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
renewable lifetime of system tickets</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">path</i>, <b class="flag">&#45;</b><b class="flag">&#45;socket-path=</b><i class="arg">path</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
path to kcm domain socket</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;</b><b class="flag">&#45;door-path=</b><i class="arg">path</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
path to kcm door socket</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b> <i class="arg">principal</i>, <b class="flag">&#45;</b><b class="flag">&#45;server=</b><i class="arg">principal</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
server to get system ticket for</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b> <i class="arg">keytab</i>, <b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">keytab</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
system keytab name</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">user</i>, <b class="flag">&#45;</b><b class="flag">&#45;user=</b><i class="arg">user</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
system cache owner</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b>, <b class="flag">&#45;</b><b class="flag">&#45;version</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
</dl>
</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 29, 2005</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

