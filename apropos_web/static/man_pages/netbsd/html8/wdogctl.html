<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
WDOGCTL(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
WDOGCTL(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
WDOGCTL(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">wdogctl</b> &#8212; <span class="desc">Watchdog timer control utility</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
wdogctl</td>
<td>
</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
wdogctl</td>
<td>
<b class="flag">&#45;d</b></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
wdogctl</td>
<td>
<b class="flag">&#45;e</b> &#91;<span class="opt"><b class="flag">&#45;A</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">seconds</i></span>&#93; <i class="arg">timer</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
wdogctl</td>
<td>
<b class="flag">&#45;k</b> &#91;<span class="opt"><b class="flag">&#45;A</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">seconds</i></span>&#93; <i class="arg">timer</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
wdogctl</td>
<td>
<b class="flag">&#45;t</b></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
wdogctl</td>
<td>
<b class="flag">&#45;u</b> &#91;<span class="opt"><b class="flag">&#45;A</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">seconds</i></span>&#93; <i class="arg">timer</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
wdogctl</td>
<td>
<b class="flag">&#45;x</b> &#91;<span class="opt"><b class="flag">&#45;A</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">seconds</i></span>&#93; <i class="arg">timer</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">wdogctl</b> is used to manipulate watchdog timers. Watchdog timers provide a means of ensuring that a system continues to make progress. This is accomplished by use of a timer, provided by either hardware or software; when the timer expires, the watchdog resets the system. In this case of a hardware watchdog timer, this is accomplished by asserting the system's hardware reset signal. In the case of a software watchdog timer, this is accomplished by calling the kernel's normal reboot path. In order to prevent the system from rebooting, something must refresh the timer to prevent it from expiring.<p>
The <span class="unix">NetBSD</span> kernel provides three basic modes in which watchdog timers may operate: kernel tickle mode, user tickle mode, and external tickle mode. In kernel tickle mode, a timer in the kernel refreshes the watchdog timer. In user tickle mode, <b class="name">wdogctl</b> runs in the background and refreshes the watchdog timer. In kernel tickle mode, progress of the kernel is ensured. In user tickle mode, the ability for user programs to run within a known period of time is ensured. Note that user tickle mode must be used with caution; on a heavily loaded system, the timer may expire accidentally, even though user programs may be making (very slow) progress. A user-mode timer is disarmed (if possible) when the device is closed, unless the timer is activated with the <b class="flag">&#45;x</b> option.<p>
External-mode watchdogs are similar to user-mode watchdogs, except that the tickle must be done explicitly by a separate invocation of the program with the <b class="flag">&#45;t</b> option.<p>
In the first two modes, an attempt is made to refresh the watchdog timer in one half the timer's configured period. That is, if the watchdog timer has a period of 30 seconds, a refresh attempt is made every 15 seconds.<p>
If called without arguments, <b class="name">wdogctl</b> will list the timers available on the system. When arming a watchdog timer, the <i class="arg">timer</i> argument is the name of the timer to arm.<p>
Only one timer may be armed at a time; if an attempt is made to arm a timer when one is already armed, an error message will be displayed and no action will be taken.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;A</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
When arming a timer, this flag indicates that an audible alarm is to sound when the watchdog timer expires and resets the system. If the selected timer does not support an audible alarm, this option will be silently ignored.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
This flag disarms the currently active timer. Note that not all watchdog timers can be disabled once armed. If the selected timer can not be disabled, an error message will be displayed and the timer will remain armed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Arm <i class="arg">timer</i> in external tickle mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Arm <i class="arg">timer</i> in kernel tickle mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">period</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
When arming a timer, this flag configures the timer period to <i class="arg">period</i> seconds. If the specified period is outside the timer's range, an error message will be displayed and no action will be taken.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
This flag tickles an external mode timer.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Arm <i class="arg">timer</i> in user tickle mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;x</b></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Arm <i class="arg">timer</i> in a modified user tickle mode: closing the device will not disarm the timer.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1> <i class="file">/dev/watchdog</i> -- the system monitor watchdog timer device</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../4/acpiwdrt">acpiwdrt(4)</a>, <a class="link-man" href="../4/evbarm/iopwdog">evbarm/iopwdog(4)</a>, <a class="link-man" href="../4/i386/elansc">i386/elansc(4)</a>, <a class="link-man" href="../4/i386/gcscpcib">i386/gcscpcib(4)</a>, <a class="link-man" href="../4/i386/geodewdog">i386/geodewdog(4)</a>, <a class="link-man" href="../4/ipmi">ipmi(4)</a>, <a class="link-man" href="../4/itesio">itesio(4)</a>, <a class="link-man" href="../4/pcweasel">pcweasel(4)</a>, <a class="link-man" href="../4/pwdog">pwdog(4)</a>, <a class="link-man" href="../4/swwdog">swwdog(4)</a>, <a class="link-man" href="../4/x86/ichlpcib">x86/ichlpcib(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">wdogctl</b> command first appeared in <span class="unix">NetBSD&#160;1.6</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">wdogctl</b> command and the <span class="unix">NetBSD</span> watchdog timer framework were written by <span class="author">Jason R. Thorpe</span> &#60;thorpej@zembu.com&#62;, and contributed by Zembu Labs, Inc.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 11, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

