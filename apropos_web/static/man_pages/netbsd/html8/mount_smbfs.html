<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MOUNT_SMBFS(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MOUNT_SMBFS(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
MOUNT_SMBFS(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">mount_smbfs</b> &#8212; <span class="desc">mount a shared resource from an SMB/CIFS file server</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 11.00ex;">
<col>
<tbody>
<tr>
<td>
mount_smbfs</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;E</b> <i class="arg">cs1</i>:<i class="arg">cs2</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;I</b> <i class="arg">host</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;L</b> <i class="arg">locale</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;M</b> <i class="arg">crights</i>:<i class="arg">srights</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;N</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;O</b> <i class="arg">cowner</i>:<i class="arg">cgroup</i>/<i class="arg">sowner</i>:<i class="arg">sgroup</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;R</b> <i class="arg">retrycount</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;T</b> <i class="arg">timeout</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;W</b> <i class="arg">workgroup</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;c</b> <i class="arg">case</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;d</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;f</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">gid</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;n</b> <i class="arg">opt</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">uid</i></span>&#93; // <i class="arg">user</i>@<i class="arg">server/</i><i class="arg">share</i> <i class="arg">node</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">mount_smbfs</b> command mounts a share from a remote server using SMB/CIFS protocol.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;E</b> <i class="arg">cs1</i>:<i class="arg">cs2</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies local (<i class="arg">cs1</i>) and server's (<i class="arg">cs2</i>) character sets.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;I</b> <i class="arg">host</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not use NetBIOS name resolver and connect directly to <i class="arg">host</i>, which can be either a valid DNS name or an IP address.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;L</b> <i class="arg">locale</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">locale</i> for lower/upper case conversion routines. Set the locale for case conversion. By default, <b class="name">mount_smbfs</b> tries to use an environment variable <span class="env">LC_*</span> to determine it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;M</b> <i class="arg">crights</i>:<i class="arg">srights</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Assign access rights to the newly created connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;N</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not ask for a password. At run time, <b class="name">mount_smbfs</b> reads the <i class="file">~/.nsmbrc</i> file for additional configuration parameters and a password. If no password is found, <b class="name">mount_smbfs</b> prompts for it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;O</b> <i class="arg">cowner</i>:<i class="arg">cgroup</i>/<i class="arg">sowner</i>:<i class="arg">sgroup</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Assign owner/group attributes to the newly created connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b> <i class="arg">retrycount</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
How many retries should be done before the SMB requester decides to drop the connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;T</b> <i class="arg">timeout</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Timeout in seconds for each request.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;W</b> <i class="arg">workgroup</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This option specifies the workgroup to be used in the authentication request.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">case</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set a <i class="arg">case</i> option which affects name representation. <i class="arg">case</i> can be one of the following:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="emph">Value</span></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
<span class="emph">Meaning</span></dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">l</b></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
All existing file names are converted to lower case. Newly created file gets a lower case.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">u</b></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
All existing file names are converted to upper case. Newly created file gets an upper case.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b> <i class="arg">mode</i>, <b class="flag">&#45;d</b> <i class="arg">mode</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify permissions that should be assigned to files and directories. The values must be specified as octal numbers. Default value for the file mode is taken from mount point, default value for the directory mode adds execute permission where the file mode gives read permission.<p>
Note that these permissions can differ from the rights granted by SMB server.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">uid</i>, <b class="flag">&#45;g</b> <i class="arg">gid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
User ID and group ID assigned to files. The default are owner and group IDs from the directory where the volume is mounted.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
//<i class="arg">user</i>@<i class="arg">server</i>/<i class="arg">share</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="name">mount_smbfs</b> command will use <i class="arg">server</i> as the NetBIOS name of remote computer, <i class="arg">user</i> as the remote user name and <i class="arg">share</i> as the resource name on a remote server. If your connections are refused, try using the <b class="flag">&#45;I</b> option and use a server name of &#8216;*SMBSERVER&#8217;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">node</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Path to mount point.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/nsmb.conf</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
System wide parameters for smbfs mounts.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">~/.nsmbrc</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Keeps static parameters for connections and other information. See <i class="file">/usr/share/examples/smbfs/dot.nsmbrc</i> for details.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The following example illustrate how to connect to SMB server <span class="emph">SAMBA</span> as user <span class="emph">GUEST</span>, and mount shares <span class="emph">PUBLIC</span> and <span class="emph">TMP</span>:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
mount_smbfs -I samba.mydomain.com //guest@samba/public /smb/public 
mount_smbfs -I 192.168.20.3 -E koi8-r:cp866 //guest@samba/tmp /smb/tmp</pre>
<p>
If you keep on getting "Connection reset by peer" errors, try:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
mount_smbfs -N -I 10.0.0.4 //'*SMBSERVER'/tmp /smb/tmp</pre>
<p>
It is possible to use <a class="link-man" href="../5/fstab">fstab(5)</a> for smbfs mounts:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">//guest@samba/public    /smb/public     smbfs  rw,noauto 0   0</code></div>
</blockquote>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/smbutil">smbutil(1)</a>, <a class="link-man" href="../8/mount">mount(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> Support for SMBFS first appeared in <span class="unix">FreeBSD&#160;4.4</span>. It has been ported to <span class="unix">NetBSD</span> and first appeared in <span class="unix">NetBSD&#160;2.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Boris Popov</span> &#60;<a class="link-mail" href="mailto:bp@butya.kz">bp@butya.kz</a>&#62;, &#60;bp@FreeBSD.org&#62;. <span class="unix">NetBSD</span> port done by <span class="author">Matt Debergalis</span> &#60;deberg@NetBSD.org&#62;, and <span class="author">Jaromir Dolecek</span> &#60;jdolecek@NetBSD.org&#62;.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The <b class="flag">&#45;E</b> option works only if you mount with <a class="link-man" href="../8/rump_smbfs">rump_smbfs(8)</a> instead of <b class="name">mount_smbfs</b>.<p>
The <b class="flag">&#45;c</b> option is not implemented yet. It is silently ignored for now.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 17, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

