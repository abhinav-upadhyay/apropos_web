<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MOUNT_MFS(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MOUNT_MFS(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
MOUNT_MFS(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">mount_mfs</b> &#8212; <span class="desc">mount a memory based file system</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 9.00ex;">
<col>
<tbody>
<tr>
<td>
mount_mfs</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;N</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">maxcontig</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;b</b> <i class="arg">block-size</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;d</b> <i class="arg">rotdelay</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">maxbpg</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;f</b> <i class="arg">frag-size</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">groupname</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;i</b> <i class="arg">bytes-per-inode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">free-space</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;n</b> <i class="arg">inodes</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">options</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">permissions</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">size</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">username</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;V</b> <i class="arg">verbose</i></span>&#93; <i class="arg">special node</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">mount_mfs</b> is used to build a file system in virtual memory and then mount it on a specified node. <b class="name">mount_mfs</b> exits and the contents of the file system are lost when the file system is unmounted. If <b class="name">mount_mfs</b> is sent a signal while running, for example during system shutdown, it will attempt to unmount its corresponding file system. <i class="arg">special</i> is ignored.<p>
Options with numeric arguments may contain an optional (case-insensitive) suffix:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
b</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Bytes; causes no modification. (Default)</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
k</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Kilo; multiply the argument by 1024</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
m</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Mega; multiply the argument by 1048576</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
g</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Giga; multiply the argument by 1073741824</dd>
</dl>
<p>
The following options define the general layout policies:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;N</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Causes the memory file system parameters to be printed out without really mounting the memory file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b> <i class="arg">maxcontig</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This specifies the maximum number of contiguous blocks that will be laid out before forcing a rotational delay (see the <b class="flag">&#45;d</b> option). The default value is 8. See <a class="link-man" href="../8/tunefs">tunefs(8)</a> for more details on how to set this option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b> <i class="arg">block-size</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The block size of the file system, in bytes. It must be a power of two. The smallest allowable size is 4096 bytes. The default size depends upon the size of the file system:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">file system size</span></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<i class="arg">block-size</i></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&lt; 20 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
4 KB</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&lt; 1024 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
8 KB</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&gt;= 1024 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
16 KB</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b> <i class="arg">rotdelay</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This specifies the expected time (in milliseconds) to service a transfer completion interrupt and initiate a new transfer on the same disk. The default is 0 milliseconds. See <a class="link-man" href="../8/tunefs">tunefs(8)</a> for more details on how to set this option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;e</b> <i class="arg">maxbpg</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This indicates the maximum number of blocks any single file can allocate out of a cylinder group before it is forced to begin allocating blocks from another cylinder group. The default is about one quarter of the total blocks in a cylinder group. See <a class="link-man" href="../8/tunefs">tunefs(8)</a> for more details on how to set this option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b> <i class="arg">frag-size</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The fragment size of the file system in bytes. It must be a power of two ranging in value between <i class="arg">block-size</i>/8 and <i class="arg">block-size</i>. The optimal <i class="arg">block-size</i>:<i class="arg">frag-size</i> ratio is 8:1. Other ratios are possible, but are not recommended, and may produce unpredictable results. The default size depends upon the size of the file system:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">file system size</span></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<i class="arg">frag-size</i></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&lt; 20 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
0.5 KB</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&lt; 1024 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
1 KB</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&gt;= 1024 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
2 KB</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">groupname</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This specifies the group name or group id of the root inode of the file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b> <i class="arg">bytes-per-inode</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This specifies the density of inodes in the file system. If fewer inodes are desired, a larger number should be used; to create more inodes a smaller number should be given. The default is to create an inode for every (4 * <i class="arg">frag-size</i>) bytes of data space:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="symb">file system size</span></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
<i class="arg">bytes-per-inode</i></dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&lt; 20 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
2 KB</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&lt; 1024 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
4 KB</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&gt;= 1024 MB</dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
8 KB</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b> <i class="arg">free-space</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The percentage of space reserved from normal users; the minimum free space threshold. The default value used is 5%. See <a class="link-man" href="../8/tunefs">tunefs(8)</a> for more details on how to set this option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b> <i class="arg">inodes</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This specifies the number of inodes for the filesystem. If both <b class="flag">&#45;i</b> and <b class="flag">&#45;n</b> are specified then <b class="flag">&#45;n</b> takes precedence.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Options are specified with a <b class="flag">&#45;o</b> flag followed by a comma separated string of options. See the <a class="link-man" href="../8/mount">mount(8)</a> man page for possible options and their meanings.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">permissions</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This specifies the permissions of the root inode of the file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">size</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The size of the file system in sectors. An &#8216;s&#8217; suffix will be interpreted as the number of sectors (the default). All other suffixes are interpreted as per other numeric arguments, except that the number is converted into sectors by dividing by the default sector size (which is 512 bytes) after suffix interpretation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">username</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This specifies the user name or user id of the root inode of the file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;V</b> <i class="arg">verbose</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This controls the amount of information written to stdout:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
No output</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Overall size and cylinder group details.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
A progress bar (dots ending at right hand margin).</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
3</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The first few super-block backup sector numbers are displayed before the progress bar.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
4</dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
All the super-block backup sector numbers are displayed (no progress bar).</dd>
</dl>
The default is 0. If <b class="flag">&#45;N</b> is specified <b class="name">mount_mfs</b> stops before outputting the progress bar.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> The owner and group ids of the root node of the new file system are set to the effective uid and gid of the user mounting the file system.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Mount a 32 MB mfs on /tmp:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">mount_mfs -s 32m swap /tmp</code></div>
</blockquote>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/disktab">disktab(5)</a>, <a class="link-man" href="../5/fs">fs(5)</a>, <a class="link-man" href="../8/disklabel">disklabel(8)</a>, <a class="link-man" href="../8/diskpart">diskpart(8)</a>, <a class="link-man" href="../8/dumpfs">dumpfs(8)</a>, <a class="link-man" href="../8/fsck_ffs">fsck_ffs(8)</a>, <a class="link-man" href="../8/fsirand">fsirand(8)</a>, <a class="link-man" href="../8/mount">mount(8)</a>, <a class="link-man" href="../8/newfs">newfs(8)</a>, <a class="link-man" href="../8/tunefs">tunefs(8)</a><p>
<span class="ref"><span class="ref-auth">M. McKusick</span>, <span class="ref-auth">W. Joy</span>, <span class="ref-auth">S. Leffler</span>, and <span class="ref-auth">R. Fabry</span>, <span class="ref-title">A Fast File System for UNIX,</span>, <i class="ref-jrnl">ACM Transactions on Computer Systems 2</i>, <span class="ref-vol">3</span>, <span class="ref-page">pp 181-197</span>, <span class="ref-date">August 1984</span>, <span class="ref-opt">(reprinted in the BSD System Manager's Manual)</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">mount_mfs</b> command appeared in <span class="unix">4.2BSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The <b class="flag">async</b> <a class="link-man" href="../8/mount">mount(8)</a> option is currently disabled in this file system because it causes hangs when writing lots of data. The problem is that MFS needs to allocate pages to clean pages, so if it waits until the last minute to clean pages then there may not be any of them available to do the cleaning.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
December 8, 2007</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

