<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
MKNOD(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MKNOD(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
MKNOD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">mknod</b> &#8212; <span class="desc">make device special file</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
mknod</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;rR</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;F</b> <i class="arg">fmt</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">gid</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">uid</i></span>&#93; <i class="arg">name</i> &#91;<span class="opt"><b class="flag">c</b> | <b class="flag">b</b></span>&#93; &#91;<span class="opt"><i class="arg">driver</i> | <i class="arg">major</i></span>&#93; <i class="arg">minor</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
mknod</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;rR</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;F</b> <i class="arg">fmt</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">gid</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">uid</i></span>&#93; <i class="arg">name</i> &#91;<span class="opt"><b class="flag">c</b> | <b class="flag">b</b></span>&#93; <i class="arg">major unit subunit</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
mknod</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;rR</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">gid</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">uid</i></span>&#93; <i class="arg">name</i> &#91;<span class="opt"><b class="flag">c</b> | <b class="flag">b</b></span>&#93; <i class="arg">number</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
mknod</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;rR</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">gid</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">uid</i></span>&#93; <i class="arg">name</i> <b class="flag">p</b></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
mknod</td>
<td>
<b class="flag">&#45;l</b></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">mknod</b> command creates device special files, or fifos. Normally the shell script <i class="file">/dev/MAKEDEV</i> is used to create special files for commonly known devices; it executes <b class="name">mknod</b> with the appropriate arguments and can make all the files required for the device.<p>
To make nodes manually, the arguments are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Replace an existing file if its type is incorrect.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Replace an existing file if its type is incorrect. Correct the mode, user and group.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;F</b> <i class="arg">fmt</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Create device nodes that may be used by an operating system which uses device numbers packed in a different format than <span class="unix">NetBSD</span> uses. This is necessary when <span class="unix">NetBSD</span> is used as an NFS server for netbooted computers running other operating systems.<p>
The following values for the <i class="arg">fmt</i> are recognized: <span class="symb">native</span>, <span class="symb">386bsd</span>, <span class="symb">4bsd</span>, <span class="symb">bsdos</span>, <span class="symb">freebsd</span>, <span class="symb">hpux</span>, <span class="symb">isc</span>, <span class="symb">linux</span>, <span class="symb">netbsd</span>, <span class="symb">osf1</span>, <span class="symb">sco</span>, <span class="symb">solaris</span>, <span class="symb">sunos</span>, <span class="symb">svr3</span>, <span class="symb">svr4</span>, and <span class="symb">ultrix</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">gid</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Specify the group for the device node. The <i class="arg">gid</i> operand may be a numeric group ID or a group name. If a group name is also a numeric group ID, the operand is used as a group name. Precede a numeric group ID with a <b class="flag">#</b> to stop it being treated as a name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b> <i class="arg">mode</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Specify the mode for the device node. The mode may be absolute or symbolic, see <a class="link-man" href="../1/chmod">chmod(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">uid</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Specify the user for the device node. The <i class="arg">uid</i> operand may be a numeric user ID or a user name. If a user name is also a numeric user ID, the operand is used as a user name. Precede a numeric user ID with a <b class="flag">#</b> to stop it being treated as a name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Device name, for example &#8220;sd&#8221; for a SCSI disk on an HP300 or a &#8220;pty&#8221; for pseudo-devices.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">b</b> | <b class="flag">c</b> | <b class="flag">p</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Type of device. If the device is a block type device such as a tape or disk drive which needs both cooked and raw special files, the type is <b class="flag">b</b>. All other devices are character type devices, such as terminal and pseudo devices, and are type <b class="flag">c</b>. Specifying <b class="flag">p</b> creates fifo files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">driver</i> | <i class="arg">major</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The major device number is an integer number which tells the kernel which device driver entry point to use. If the device driver is configured into the current kernel it may be specified by driver name or major number. To find out which major device number to use for a particular device, use <b class="name">mknod</b> <b class="flag">&#45;l</b>, check the file <i class="file">/dev/MAKEDEV</i> to see if the device is known, or check the system dependent device configuration file:<p>
<div style="margin-left: 5.00ex;" class="display">
&#8220;<i class="file">/usr/src/sys/arch/&lt;arch&gt;/&lt;arch&gt;/conf.c</i>&#8221;</div>
<p>
(e.g. <i class="file">/usr/src/sys/arch/vax/vax/conf.c</i>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">minor</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The minor device number tells the kernel which one of several similar devices the node corresponds to; for example, it may be a specific serial port or pty.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">unit</i> and <i class="arg">subunit</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The unit and subunit numbers select a subset of a device; for example, the unit may specify a particular SCSI disk, and the subunit a partition on that disk. (Currently this form of specification is only supported by the <i class="arg">bsdos</i> format, for compatibility with the <span class="unix">BSD/OS</span> <b class="name">mknod</b>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">number</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
A single opaque device number. Useful for netbooted computers which require device numbers packed in a format that isn't supported by <b class="flag">&#45;F</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
List the device drivers configured into the current kernel together with their block and character major numbers.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/chmod">chmod(1)</a>, <a class="link-man" href="../1/mkfifo">mkfifo(1)</a>, <a class="link-man" href="../2/mkfifo">mkfifo(2)</a>, <a class="link-man" href="../2/mknod">mknod(2)</a>, <a class="link-man" href="../8/MAKEDEV">MAKEDEV(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">mknod</b> command appeared in Version&#160;6 AT&amp;T UNIX. The <b class="flag">&#45;F</b> option appeared in <span class="unix">NetBSD&#160;1.4</span>. The <b class="flag">&#45;g</b>, <b class="flag">&#45;l</b>, <b class="flag">&#45;m</b>, <b class="flag">&#45;r</b>, <b class="flag">&#45;R</b>, and <b class="flag">&#45;u</b> options, and the ability to specify a driver by name appeared in <span class="unix">NetBSD&#160;2.0</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 17, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

