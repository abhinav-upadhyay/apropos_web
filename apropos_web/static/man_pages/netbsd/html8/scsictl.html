<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
SCSICTL(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SCSICTL(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
SCSICTL(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">scsictl</b> &#8212; <span class="desc">a program to manipulate SCSI devices and busses</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
scsictl</td>
<td>
<i class="arg">device</i> <i class="arg">command</i> &#91;<span class="opt"><i class="arg">arg</i> &#91;<span class="opt">...</span>&#93;</span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">scsictl</b> allows a user or system administrator to issue commands to and otherwise control SCSI devices and busses. It is used by specifying a device or bus to manipulate, the command to perform, and any arguments the command may require. <b class="name">scsictl</b> determines if the specified device is an actual device or a SCSI bus automatically, and selects the appropriate command set.<p>
For commands which <b class="name">scsictl</b> issues a SCSI command to the device directly, any returned sense information will be decoded by <b class="name">scsictl</b> and displayed to the standard output.</div>
<div class="section">
<h1 id="x44455649434520434f4d4d414e4453">DEVICE COMMANDS</h1> The following commands are supported for SCSI devices:<p>
<b class="name">debug</b> <i class="arg">level</i><p>
Set the debugging level for the given device; the following flags are supported:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 5.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">1</i></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Show scsi commands, errors, data.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">2</i></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Routine flow tracking.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">4</i></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Internal info from routine flows.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">8</i></dt>
<dd class="list-tag" style="margin-left: 2.00ex;">
Device specific debugging.</dd>
</dl>
<p>
This option is only supported with kernels compiled with <span class="define">SCSIPI_DEBUG</span>.<p>
<b class="name">defects</b> &#91;<span class="opt">primary</span>&#93; &#91;<span class="opt">grown</span>&#93; &#91;<span class="opt">block|byte|physical</span>&#93;<p>
Read the primary and/or grown defect lists from the specified device in block, byte from index, or physical sector format. The default is to return both the primary and grown defect lists in physical sector format. This command is only supported on direct access devices.<p>
<b class="name">format</b> &#91;<span class="opt">blocksize &#91;<span class="opt">immediate</span>&#93;</span>&#93;<p>
(Low level) format the named device. If the optional <code class="lit">blocksize</code> parameter is provided, the device geometry will be modified to use the specified <code class="lit">blocksize</code>. If this parameter is different form the Current or Default Mode Page 3 parameters, the device will update Mode Page 3 at the successful completion of the Format. Device geometry may change as a result of using a new device <code class="lit">blocksize</code>. When the optional <code class="lit">blocksize</code> parameter is specified, the Defect List on the drive will revert to the original primary defect list created at the time of manufacture if available. The drive will usually recertify itself during the Format and add any other defective blocks to the new Defect List. Some disks may not support the ability to change the blocksize and may enter a Degraded Mode when fed a Format command of this type. If this happens the standard recovery for the drive requires issuing a correct Format command, i.e. one without the blocksize parameter.<p>
When the <code class="lit">immediate</code> parameter is also specified, the disk is instructed to return from the format command right away. It continues to format, and every ten seconds <b class="name">scsictl</b> issues a TEST UNIT READY command to check the associated sense data. This associated sense data has a progress indicator which indicates how far the format is progressing. Note well that most SCSI disk drives prior to a few years ago do not support this option.<p>
<b class="name">identify</b><p>
Identify the specified device, displaying the device's SCSI bus, target, and lun, as well as the device's vendor, product, and revision strings.<p>
<b class="name">reassign</b> <i class="arg">blkno</i> &#91;<span class="opt">blkno &#91;<span class="opt">...</span>&#93;</span>&#93;<p>
Issues a <code class="lit">REASSIGN BLOCKS</code> command to the device, adding the specified blocks to the grown defect list. This command is only supported on direct access devices.<p>
<b class="name">release</b><p>
Send a &#8220;RELEASE&#8221; command to the device to release a reservation on it.<p>
<b class="name">reserve</b><p>
Send a &#8220;RESERVE&#8221; command to the device to place a reservation on it.<p>
<b class="name">reset</b><p>
Reset the device. This command is only supported for devices which support the <code class="lit">SCIOCRESET</code> ioctl.<p>
<b class="name">start</b><p>
Send a &#8220;START&#8221; command to the device. This is useful typically only for disk devices.<p>
<b class="name">stop</b><p>
Send a &#8220;STOP&#8221; command to the device. This is useful typically only for disk devices.<p>
<b class="name">tur</b><p>
Send a &#8220;TEST UNIT READY&#8221; command to the device. This is useful for generating current device status.<p>
<b class="name">getcache</b><p>
Returns basic cache parameters for the device.<p>
<b class="name">setcache</b> <i class="arg">none|r|w|rw</i> &#91;<span class="opt"><i class="arg">save</i></span>&#93;<p>
Set basic cache parameters for the device. The cache may be disabled (none), the read cache enabled (r), the write cache enabled (w), or both read and write cache enabled (rw). If the drive's cache parameters are savable, specifying <i class="arg">save</i> after the cache enable state will cause the parameters to be saved in non-volatile storage.<p>
<b class="name">flushcache</b><p>
Explicitly flushes the write cache.<p>
<b class="name">setspeed</b> <i class="arg">speed</i><p>
Set the highest speed that the optical drive should use for reading data. The units are multiples of a single speed CDROM (150 KB/s). Specify 0 to use the drive's fastest speed.</div>
<div class="section">
<h1 id="x42555320434f4d4d414e4453">BUS COMMANDS</h1> The following commands are supported for SCSI busses:<p>
<b class="name">reset</b><p>
Reset the SCSI bus. This command is only supported if the host adapter supports the <code class="lit">SCBUSIORESET</code> ioctl.<p>
<b class="name">scan</b> <i class="arg">target</i> <i class="arg">lun</i><p>
Scan the SCSI bus for devices. This is useful if a device was not connected or powered on when the system was booted. The <i class="arg">target</i> and <i class="arg">lun</i> arguments specify which SCSI target and lun on the bus is to be scanned. Either may be wildcarded by specifying the keyword &#8220;any&#8221; or &#8220;all&#8221;.<p>
<b class="name">detach</b> <i class="arg">target</i> <i class="arg">lun</i><p>
Detach the specified device from the bus. Useful if a device is powered down after use. The <i class="arg">target</i> and <i class="arg">lun</i> arguments have the same meaning as for the <b class="name">scan</b> command, and may also be wildcarded.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> When scanning the SCSI bus, information about newly recognized devices is printed to console. No information is printed for already probed devices.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1> <i class="file">/dev/scsibus*</i> - for commands operating on SCSI busses</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/ioctl.html">ioctl(2)</a>, <a class="link-man" href="../html4/cd.html">cd(4)</a>, <a class="link-man" href="../html4/ch.html">ch(4)</a>, <a class="link-man" href="../html4/sd.html">sd(4)</a>, <a class="link-man" href="../html4/se.html">se(4)</a>, <a class="link-man" href="../html4/ss.html">ss(4)</a>, <a class="link-man" href="../html4/st.html">st(4)</a>, <a class="link-man" href="../html4/uk.html">uk(4)</a>, <a class="link-man" href="../html8/atactl.html">atactl(8)</a>, <a class="link-man" href="../html8/dkctl.html">dkctl(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">scsictl</b> command first appeared in <span class="unix">NetBSD&#160;1.4</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">scsictl</b> command was written by Jason R. Thorpe of the Numerical Aerospace Simulation Facility, NASA Ames Research Center.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
March 29, 2013</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

