<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
VGCHANGE(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
VGCHANGE(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
VGCHANGE(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> vgchange &#45; change attributes of a volume group</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>vgchange</b> [<b>&#45;&#45;addtag</b> <i>Tag</i>] [<b>&#45;&#45;alloc</b> <i>AllocationPolicy</i>] [<b>&#45;A</b>|<b>&#45;&#45;autobackup</b> {<b>y</b>|<b>n</b>}] [<b>&#45;a</b>|<b>&#45;&#45;available</b> [e|l] {<b>y</b>|<b>n</b>}] [<b>&#45;&#45;monitor</b> {<b>y</b>|<b>n</b>}] [<b>&#45;c</b>|<b>&#45;&#45;clustered</b> {<b>y</b>|<b>n</b>}] [<b>&#45;u</b>|<b>&#45;&#45;uuid</b>] [<b>&#45;d</b>|<b>&#45;&#45;debug]</b> [<b>&#45;&#45;deltag</b> <i>Tag</i>] [<b>&#45;h</b>|<b>&#45;&#45;help]</b> [<b>&#45;&#45;ignorelockingfailure]</b> [<b>&#45;&#45;ignoremonitoring]</b> [<b>&#45;l</b>|<b>&#45;&#45;logicalvolume</b> <i>MaxLogicalVolumes</i>] [<b>-p</b>|<b>&#45;&#45;maxphysicalvolumes</b> <i>MaxPhysicalVolumes</i>] [<b>&#45;P</b>|<b>&#45;&#45;partial]</b> [<b>&#45;s</b>|<b>&#45;&#45;physicalextentsize</b> <i>PhysicalExtentSize</i>[<i><b>kKmMgGtT</b></i>]] [<b>-t</b>|<b>&#45;&#45;test]</b> [<b>&#45;v</b>|<b>&#45;&#45;verbose]</b> [<b>&#45;&#45;version</b>] [<b>&#45;x</b>|<b>&#45;&#45;resizeable</b> {<b>y</b>|<b>n</b>}] [<i>VolumeGroupName</i>...]</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>vgchange</b> allows you to change the attributes of one or more volume groups. Its main purpose is to activate and deactivate <i>VolumeGroupName</i>, or all volume groups if none is specified.  Only active volume groups are subject to changes and allow access to their logical volumes. [Not yet implemented: During volume group activation, if <b>vgchange</b> recognizes snapshot logical volumes which were dropped because they ran out of space, it displays a message informing the administrator that such snapshots should be removed (see <b>lvremove</b>(8)). ]</div>
<div class="section">
<h1>OPTIONS</h1> See  <b>lvm</b> for common options.<dl>
<dt>
<b>&#45;A</b>, <b>&#45;&#45;autobackup</b> <b>{</b>y<b>|</b>n<b>}</b></dt>
<dd>
Controls automatic backup of metadata after the change.  See <b>vgcfgbackup (8).</b> Default is yes.</dd>
</dl>
<dl>
<dt>
<b>&#45;a</b>, <b>&#45;&#45;available</b> <b>[e|l]</b>{<b>y</b>|<b>n</b>}</dt>
<dd>
Controls the availability of the logical volumes in the volume group for input/output. In other words, makes the logical volumes known/unknown to the kernel.</dd>
</dl>
<dl>
<dt>
</dt>
<dd>
If clustered locking is enabled, add 'e' to activate/deactivate exclusively on one node or 'l' to activate/deactivate only on the local node. Logical volumes with single-host snapshots are always activated exclusively because they can only be used on one node at once.</dd>
</dl>
<dl>
<dt>
<b>&#45;c</b>, <b>&#45;&#45;clustered</b> <b>{</b>y<b>|</b>n<b>}</b></dt>
<dd>
If clustered locking is enabled, this indicates whether this Volume Group is shared with other nodes in the cluster or whether it contains only local disks that are not visible on the other nodes. If the cluster infrastructure is unavailable on a particular node at a particular time, you may still be able to use Volume Groups that are not marked as clustered.</dd>
</dl>
<dl>
<dt>
<b>&#45;u</b>, <b>&#45;&#45;uuid</b></dt>
<dd>
Generate new random UUID for specified Volume Groups.</dd>
</dl>
<dl>
<dt>
<b>&#45;&#45;monitor</b> <b>{</b>y<b>|</b>n<b>}</b></dt>
<dd>
Controls whether or not a mirrored logical volume is monitored by dmeventd, if it is installed. If a device used by a monitored mirror reports an I/O error, the failure is handled according to <b>mirror_image_fault_policy</b> and <b>mirror_log_fault_policy</b> set in <b>lvm.conf</b>(5).</dd>
</dl>
<dl>
<dt>
<b>&#45;&#45;ignoremonitoring</b></dt>
<dd>
Make no attempt to interact with dmeventd unless <b>&#45;&#45;monitor</b> is specified. Do not use this if dmeventd is already monitoring a device.</dd>
</dl>
<dl>
<dt>
<b>&#45;l</b>, <b>&#45;&#45;logicalvolume</b> <b><i>MaxLogicalVolumes</i></b></dt>
<dd>
Changes the maximum logical volume number of an existing inactive volume group.</dd>
</dl>
<dl>
<dt>
<b>&#45;p</b>, <b>&#45;&#45;maxphysicalvolumes</b> <b><i>MaxPhysicalVolumes</i></b></dt>
<dd>
Changes the maximum number of physical volumes that can belong to this volume group. For volume groups with metadata in lvm1 format, the limit is 255. If the metadata uses lvm2 format, the value 0 removes this restriction: there is then no limit. If you have a large number of physical volumes in a volume group with metadata in lvm2 format, for tool performance reasons, you should consider some use of  <b>--metadatacopies 0</b> as described in  <b>pvcreate(8)</b>.</dd>
</dl>
<dl>
<dt>
<b>&#45;s</b>, <b>&#45;&#45;physicalextentsize</b> <b><i>PhysicalExtentSize</i>[<b>kKmMgGtT</b>]</b></dt>
<dd>
Changes the physical extent size on physical volumes of this volume group. A size suffix (k for kilobytes up to t for terabytes) is optional, megabytes is the default if no suffix is present. The default is 4 MB and it must be at least 1 KB and a power of 2.<div style="height: 1.00em;">
&#160;</div>
Before increasing the physical extent size, you might need to use lvresize, pvresize and/or pvmove so that everything fits.  For example, every contiguous range of extents used in a logical volume must start and end on an extent boundary.<div style="height: 1.00em;">
&#160;</div>
If the volume group metadata uses lvm1 format, extents can vary in size from 8KB to 16GB and there is a limit of 65534 extents in each logical volume.  The default of 4 MB leads to a maximum logical volume size of around 256GB.<div style="height: 1.00em;">
&#160;</div>
If the volume group metadata uses lvm2 format those restrictions do not apply, but having a large number of extents will slow down the tools but have no impact on I/O performance to the logical volume.  The smallest PE is 1KB.<div style="height: 1.00em;">
&#160;</div>
The 2.4 kernel has a limitation of 2TB per block device.</dd>
</dl>
<dl>
<dt>
<b>&#45;x</b>, <b>&#45;&#45;resizeable</b> <b>{</b>y<b>|</b>n<b>}</b></dt>
<dd>
Enables or disables the extension/reduction of this volume group with/by physical volumes.</dd>
</dl>
</div>
<div class="section">
<h1>EXAMPLES</h1> To activate all known volume groups in the system:<p>
<br>
	vgchange -a y<p>
<br>
To change the maximum number of logical volumes of inactive volume group <b>vg00</b> to 128.<p>
<br>
	vgchange -l 128 /dev/vg00<p>
<br>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>lvchange</b>(8), <b>lvm</b>(8), <b>vgcreate</b>(8)</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
LVM TOOLS 2.02.44-cvs (02-17-09)</td>
<td class="foot-os" align="right">
Sistina Software UK</td>
</tr>
</table>
</div>
</body>
<>

