<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
TFTPD(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
TFTPD(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
TFTPD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">tftpd</b> &#8212; <span class="desc">DARPA Internet Trivial File Transfer Protocol server</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;">
<col>
<tbody>
<tr>
<td>
tftpd</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;bcdln</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">group</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">pathsep</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">directory</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">user</i></span>&#93; &#91;<span class="opt"><i class="arg">directory ...</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">tftpd</b> is a server which supports the DARPA Trivial File Transfer Protocol. The TFTP server operates at the port indicated in the &#8216;<code class="lit">tftp</code>&#8217; service description; see <a class="link-man" href="../5/services">services(5)</a>. The server is normally started by <a class="link-man" href="../8/inetd">inetd(8)</a>.<p>
The use of <a class="link-man" href="../1/tftp">tftp(1)</a> does not require an account or password on the remote system. Due to the lack of authentication information, <b class="name">tftpd</b> will allow only publicly readable files to be accessed. Filenames beginning in &#8220;<i class="file">../</i>&#8221; or containing &#8220;<i class="file">/../</i>&#8221; are not allowed. Unless <b class="flag">&#45;c</b> is used, files may be written to only if they already exist and are publicly writable.<p>
Note that this extends the concept of &#8220;public&#8221; to include all users on all hosts that can be reached through the network; this may not be appropriate on all systems, and its implications should be considered before enabling tftp service. The server should have the user ID with the lowest possible privilege.<p>
Access to files may be restricted by invoking <b class="name">tftpd</b> with a list of directories by including up to 20 pathnames as server program arguments in <i class="file">/etc/inetd.conf</i>. In this case access is restricted to files whose names are prefixed by the one of the given directories. The given directories are also treated as a search path for relative filename requests.<p>
The options are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Allow clients which return acknowledgements to the broadcast address to communicate with the tftp server. Some tftp clients, notably ones resident in the ROMs of older Cisco equipment, return their acknowledgements to the broadcast address rather than the server's unicast address.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Allow unrestricted creation of new files. Without this flag, only existing publicly writable files can be overwritten.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Enable verbose debugging messages to <a class="link-man" href="../8/syslogd">syslogd(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">group</i></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Change gid to that of <i class="arg">group</i> on startup. If this isn't specified, the gid is set to that of the <i class="arg">user</i> specified with <b class="flag">&#45;u</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Logs all requests using <a class="link-man" href="../3/syslog">syslog(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Suppresses negative acknowledgement of requests for nonexistent relative filenames.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">pathsep</i></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
All occurances of the single character <i class="arg">pathsep</i> (path separator) in the requested filename are replaced with &#8216;/&#8217;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">directory</i></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
<b class="name">tftpd</b> will <a class="link-man" href="../2/chroot">chroot(2)</a> to <i class="arg">directory</i> on startup. This is recommended for security reasons (so that files other than those in the <i class="file">/tftpboot</i> directory aren't accessible). If the remote host passes the directory name as part of the file name to transfer, you may have to create a symbolic link from &#8216;tftpboot&#8217; to &#8216;.&#8217; under <i class="file">/tftpboot</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">user</i></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
Change uid to that of <i class="arg">user</i> on startup. If <b class="flag">&#45;u</b> isn't given, <i class="arg">user</i> defaults to &#8220;nobody&#8221;. If <b class="flag">&#45;g</b> isn't also given, change the gid to that of <i class="arg">user</i> as well.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/tftp">tftp(1)</a>, <a class="link-man" href="../8/inetd">inetd(8)</a><p>
<span class="ref"><span class="ref-title">The TFTP Protocol (Revision 2)</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">1350</span>, <span class="ref-date">July 1992</span>.</span><p>
<span class="ref"><span class="ref-title">TFTP Option Extension</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">2347</span>, <span class="ref-date">May 1998</span>.</span><p>
<span class="ref"><span class="ref-title">TFTP Blocksize Option</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">2348</span>, <span class="ref-date">May 1998</span>.</span><p>
<span class="ref"><span class="ref-title">TFTP Timeout Interval and Transfer Size Options</span>, <span class="ref-rep">RFC</span>, <span class="ref-num">2349</span>, <span class="ref-date">May 1998</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">tftpd</b> command appeared in <span class="unix">4.2BSD</span>.<p>
The <b class="flag">&#45;s</b> flag appeared in <span class="unix">NetBSD&#160;1.0</span>.<p>
The <b class="flag">&#45;g</b> and <b class="flag">&#45;u</b> flags appeared in <span class="unix">NetBSD&#160;1.4</span>.<p>
IPv6 support was implemented by WIDE/KAME project in 1999.<p>
TFTP options were implemented by Wasabi Systems, Inc., in 2003, and first appeared in <span class="unix">NetBSD&#160;2.0</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Files larger than 33,553,919 octets (65535 blocks, last one less than 512 octets) cannot be correctly transferred without client and server supporting blocksize negotiation (RFCs 2347 and 2348). As a kludge, <b class="name">tftpd</b> accepts a sequence of block numbers which wrap to zero after 65535.<p>
Many tftp clients will not transfer files over 16,776,703 octets (32767 blocks), as they incorrectly count the block number using a signed rather than unsigned 16-bit integer.</div>
<div class="section">
<h1 id="x534543555249545920434f4e53494445524154494f4e53">SECURITY CONSIDERATIONS</h1> You are <span class="emph">strongly</span> advised to set up <b class="name">tftpd</b> using the <b class="flag">&#45;s</b> flag in conjunction with the name of the directory that contains the files that <b class="name">tftpd</b> will serve to remote hosts (e.g., <i class="file">/tftpboot</i>). This ensures that only the files that should be served to remote hosts can be accessed by them.<p>
Because there is no user-login or validation within the TFTP protocol, the remote site will probably have some sort of file-access restrictions in place. The exact methods are specific to each site and therefore difficult to document here.<p>
If unrestricted file upload is enabled via the <b class="flag">&#45;c</b> option, care should be taken that this can be used to fill up disk space in an uncontrolled manner if this is used in an insecure environment.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 5, 2015</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

