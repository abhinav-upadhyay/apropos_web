<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
NDP(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
NDP(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
NDP(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ndp</b> &#8212; <span class="desc">control/diagnose IPv6 neighbor discovery protocol</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <i class="arg">hostname</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;a</b> | <b class="flag">&#45;c</b> | <b class="flag">&#45;p</b></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;r</b></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;H</b> | <b class="flag">&#45;P</b> | <b class="flag">&#45;R</b></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;A</b> <i class="arg">wait</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;d</b> <i class="arg">hostname</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;f</b> <i class="arg">filename</i></td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;i</b> <i class="arg">interface</i> &#91;<span class="opt"><i class="arg">expressions ...</i></span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;I</b> &#91;<span class="opt"><i class="arg">interface</i> | <code class="lit">delete</code></span>&#93;</td>
</tr>
</tbody>
</table>
<br>
<table class="synopsis">
<col style="width: 3.00ex;">
<col>
<tbody>
<tr>
<td>
ndp</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;nt</b></span>&#93; <b class="flag">&#45;s</b> <i class="arg">nodename etheraddr</i> &#91;<span class="opt"><code class="lit">temp</code></span>&#93; &#91;<span class="opt"><code class="lit">proxy</code></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">ndp</b> command manipulates the address mapping table used by the Neighbor Discovery Protocol (NDP).<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Dump the currently existing NDP entries. The following information will be printed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
Neighbor</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
IPv6 address of the neighbor.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
Linklayer Address</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Linklayer address of the neighbor. It could be &#8220;<code class="lit">(incomplete)</code>&#8221; when the address is not available.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
Netif</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Network interface associated with the neighbor cache entry.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
Expire</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The time until expiry of the entry. The entry could become &#8220;<code class="lit">permanent</code>&#8221;, in which case it will never expire.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
S</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
State of the neighbor cache entry, as a single letter:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
N</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Nostate</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
W</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Waitdelete</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
I</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Incomplete</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
R</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Reachable</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
S</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Stale</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
D</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Delay</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
P</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Probe</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
?</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Unknown state (should never happen).</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
Flags</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Flags on the neighbor cache entry, in a single letter. They are: Router, proxy neighbor advertisement (&#8220;p&#8221;). The field could be followed by a decimal number, which means the number of NS probes the node has sent during the current state.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;A</b> <i class="arg">wait</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Repeat <b class="flag">&#45;a</b> (dump NDP entries) every <i class="arg">wait</i> seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Erase all the NDP entries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Delete specified NDP entry.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Parse the file specified by <i class="arg">filename</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;H</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Harmonize consistency between the routing table and the default router list; install the top entry of the list into the kernel routing table.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;I</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Shows the default interface used as the default route when there is no default router.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;I</b> <i class="arg">interface</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies the default <i class="arg">interface</i> to be used when there is no interface specified even though required.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;I</b> <code class="lit">delete</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The current default interface will be deleted from the kernel.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b> <i class="arg">interface</i> &#91;<span class="opt"><i class="arg">expressions ...</i></span>&#93;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
View ND information for the specified interface. If additional arguments <i class="arg">expressions</i> are given, <b class="name">ndp</b> sets or clears the flags or variables for the interface as specified in the expression. Each expression should be separated by white spaces or tab characters. Possible expressions are as follows. Some of the expressions can begin with the special character &#8216;<code class="lit">-</code>&#8217;, which means the flag specified in the expression should be cleared. Note that you need <b class="flag">&#45;-</b> before <b class="flag">&#45;foo</b> in this case.<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">nud</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Turn on or off NUD (Neighbor Unreachability Detection) on the interface. NUD is usually turned on by default.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">accept_rtadv</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify whether or not to accept Router Advertisement messages received on the <i class="arg">interface</i>. Note that the kernel does not accept Router Advertisement messages, even if the flag <b class="cmd">accept_rtadv</b> is on, unless either the <code class="lit">net.inet6.ip6.accept_rtadv</code> variable is non-0, or the flag <b class="cmd">override_rtadv</b> is on. This flag is set to 1 by default.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">auto_linklocal</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify whether or not to perform automatic link-local address configuration on <i class="arg">interface</i>. This flag is set by <code class="lit">net.inet6.ip6.auto_linklocal</code> sysctl variable.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">override_rtadv</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify whether or not to override the <code class="lit">net.inet6.ip6.accept_rtadv</code> variable. If the flag is on, then it will suffice to set the flag <b class="cmd">accept_rtadv</b> to make the kernel accept Router Advertisement messages on the <i class="arg">interface</i>. This flag is set to 0 by default.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">prefer_source</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prefer addresses on the <i class="arg">interface</i> as candidates of the source address for outgoing packets. The default value of this flag is off. For more details about the entire algorithm of source address selection, see the <i class="file">IMPLEMENTATION</i> file supplied with the KAME kit.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">disabled</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Disable IPv6 operation on the interface. When disabled, the interface discards any IPv6 packets received on or being sent to the interface and any IPv6 addresses on the interface are marked as &#8220;tentative&#8221;. When the disabled flag is cleared, DAD will be performed. In the sending case, an error of ENETDOWN will be returned to the application. This flag is typically set automatically in the kernel as a result of a certain failure of Duplicate Address Detection. While the flag can be set or cleared by hand with the <b class="name">ndp</b> command, it is not generally advisable to modify this flag manually.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">basereachable=(number)</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the BaseReachbleTimer on the interface in millisecond.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">retrans=(number)</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the RetransTimer on the interface in millisecond.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">curhlim=(number)</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the Cur Hop Limit on the interface.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not try to resolve numeric addresses to hostnames.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Show prefix list.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;P</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Flush all the entries in the prefix list.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Show default router list.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Flush all the entries in the default router list.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Register an NDP entry for a node. The entry will be permanent unless the word <code class="lit">temp</code> is given in the command. If the word <code class="lit">proxy</code> is given, this system will act as a proxy NDP server, responding to requests for <i class="arg">hostname</i> even though the host address is not its own.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print timestamp on each entry, making it possible to merge output with <a class="link-man" href="../html8/tcpdump.html">tcpdump(8)</a>. Most useful when used with <b class="flag">&#45;A</b>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="name">ndp</b> command will exit with 0 on success, and non-zero on errors.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html8/arp.html">arp(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">ndp</b> command first appeared in the WIDE Hydrangea IPv6 protocol stack kit.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 5, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

