<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="..//static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
BOOT(8) (SPARC64)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
BOOT(8)</td>
<td class="head-vol" align="center">
System Manager's Manual (SPARC64)</td>
<td class="head-rtitle" align="right">
BOOT(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">boot</b>, <b class="name">ofwboot</b> &#8212; <span class="desc">system bootstrapping procedures</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 4.00ex;">
<col>
<tbody>
<tr>
<td>
boot</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;adqsv</b></span>&#93; &#91;<span class="opt"><i class="arg">--</i> &#60;<i class="arg">boot string</i>&#62;</span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Sun UltraSPARC systems support booting from locally attached storage media (e.g. hard disk, CD-ROM), and booting over Ethernet networks using BOOTP.<div class="subsection">
<h2 id="x506f776572206661696c20616e64206372617368207265636f76657279">Power fail and crash recovery</h2> Normally, the system will reboot itself at power-up or after crashes. An automatic consistency check of the file systems will be performed as described in <a class="link-man" href="../../8/fsck">fsck(8)</a>, and unless this fails, the system will resume multi-user operations.</div>
<div class="subsection">
<h2 id="x436f6c6420737461727473">Cold starts</h2> The Sun Open Firmware performs a Power On Self Test (POST), and then will boot an operating system according to configuration in Open Firmware environment variables.</div>
<div class="subsection">
<h2 id="x426f6f742070726f6772616d206f7074696f6e73">Boot program options</h2><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Prompt for the root file system device, the system crash dump device, and the path to <a class="link-man" href="../../8/init">init(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Bring the system up in debug mode. Here it waits for a kernel debugger connect; see <a class="link-man" href="../../1/gdb">gdb(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;q</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Boot the system in quiet mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Bring the system up in single-user mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Boot the system in verbose mode.</dd>
</dl>
<p>
Any extra flags or arguments, or the &#60;<i class="arg">boot string</i>&#62; after the -- separator are passed to the boot PROM. Other flags are currently ignored.<p>
At any time you can halt the running system and get back to the Open Firmware. If the console is the Sun framebuffer and keyboard, press the &#8216;STOP&#8217; and &#8216;A&#8217; keys at the same time on the keyboard. On older models of Sun keyboards, the &#8216;STOP&#8217; key is labeled &#8216;L1&#8217;.<p>
If the console is a serial port the same is achieved by sending a &#8216;BREAK&#8217;.<p>
If you do this accidentally, you can continue whatever was in progress with the <b class="cmd">go</b> command.</div>
</div>
<div class="section">
<h1 id="x424f4f542044455649434553">BOOT DEVICES</h1> Since machines vary greatly in the way their devices are connected, there are aliases defined by the firmware. You can either use the fully qualified Open Firmware path of a device node, or the alias.<p>
The secondary boot loader, <b class="name">ofwboot</b>, takes <b class="name">boot</b> commands virtually the same as Open Firmware. Thus, the following examples apply equally to <b class="name">ofwboot</b> as well as Open Firmware.<p>
A typical list of usable boot devices (extracted from the output of the Open Firmware command <b class="cmd">devalias</b>) is:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
net                      /sbus/SUNW,hme@e,8c00000 
disk                     /sbus/SUNW,fas@e,8800000/sd@0,0 
cdrom                    /sbus/SUNW,fas@e,8800000/sd@6,0:f 
disk6                    /sbus/SUNW,fas@e,8800000/sd@6,0 
disk5                    /sbus/SUNW,fas@e,8800000/sd@5,0 
disk4                    /sbus/SUNW,fas@e,8800000/sd@4,0 
disk3                    /sbus/SUNW,fas@e,8800000/sd@3,0 
disk2                    /sbus/SUNW,fas@e,8800000/sd@2,0 
disk1                    /sbus/SUNW,fas@e,8800000/sd@1,0 
disk0                    /sbus/SUNW,fas@e,8800000/sd@0,0</pre>
<p>
If a device specification includes a partition letter (for example <span class="emph">cdrom</span> in above list), that partition is used by default, otherwise the first (a) partition is used. If booting from the net device, there is no partition involved.<p>
The boot device is an optional first part of the boot string, if no device is specified the default device is used (see below).</div>
<div class="section">
<h1 id="x4649524d5741524520454e5649524f4e4d454e54205641524941424c4553">FIRMWARE ENVIRONMENT VARIABLES</h1> All Open Firmware environment variables can be printed with the <b class="cmd">printenv</b> command and changed with the <b class="cmd">setenv</b> command. The boot process relevant variables and their suggested value for booting <span class="unix">NetBSD</span> are:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
boot-command          boot 
auto-boot?            true 
boot-file 
boot-device           disk 
diag-switch?          false</pre>
<p>
Of course you may select any other boot device, if you do not want to boot from the device aliased to <span class="emph">disk</span>, see the discussion on devices above.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/netbsd</i></dt>
<dd class="list-tag" style="margin-left: 23.00ex;">
system code</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/ofwboot</i></dt>
<dd class="list-tag" style="margin-left: 23.00ex;">
system bootstrap</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/mdec/ofwboot.net</i></dt>
<dd class="list-tag" style="margin-left: 23.00ex;">
alternate bootstrap when booting from the network, see <a class="link-man" href="../../8/diskless">diskless(8)</a> for details.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Boot from CD-ROM:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
boot cdrom</pre>
<p>
Note that some multi-architecture CDs are not able to use the default sparc64 partition for CD-ROMs (f), so they may require an explicit partition letter, for example<p>
<pre style="margin-left: 5.00ex;" class="lit display">
boot cdrom:c</pre>
<p>
When using external SCSI CD-ROM drives it is important to know two things: the Sun firmware expects the SCSI ID to be six, and the drive must support 512-byte block reads, in addition to the standard 2048-byte reads.<p>
Use<p>
<pre style="margin-left: 5.00ex;" class="lit display">
boot net -sd</pre>
<p>
to boot single user from network and break into the kernel debugger as soon as possible.<p>
Use<p>
<pre style="margin-left: 5.00ex;" class="lit display">
boot net tftp:netbsd -a</pre>
<p>
to boot a kernel named netbsd obtained via tftp and have it ask for root file system, swap partition and init location once it is up.<p>
During installation from a different operating system<p>
<pre style="margin-left: 5.00ex;" class="lit display">
boot disk:b</pre>
<p>
is used to boot a &#8220;miniroot&#8221; file system from the swap partition.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../../8/disklabel">disklabel(8)</a>, <a class="link-man" href="../../8/diskless">diskless(8)</a>, <a class="link-man" href="../../8/fsck">fsck(8)</a>, <a class="link-man" href="../../8/halt">halt(8)</a>, <a class="link-man" href="../../8/init">init(8)</a>, <a class="link-man" href="../../8/installboot">installboot(8)</a>, <a class="link-man" href="../../8/rc">rc(8)</a>, <a class="link-man" href="../../8/shutdown">shutdown(8)</a>, <a class="link-man" href="../../8/sparc/boot">sparc/boot(8)</a>, <a class="link-man" href="../../8/syslogd">syslogd(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> Sun developed its firmware and promoted it to become IEEE Std 1275-1994 (&#8220;Open Firmware&#8221;).<p>
<a class="link-ext" href="http://www.openfirmware.org/1275/">IEEE 1275 Open Firmware</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> <span class="unix">NetBSD</span> provides no way to boot UltraSPARC systems from floppy disks. This is unlikely to change, due to very low demand for this feature.<p>
The OBP on Ultra 1 and Ultra 2 machines can only boot from the first 4Gb of the disk.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
November 9, 2008</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

