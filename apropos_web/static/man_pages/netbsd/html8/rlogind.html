<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RLOGIND(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RLOGIND(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
RLOGIND(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rlogind</b> &#8212; <span class="desc">remote login server</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
rlogind</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;alnL</b></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">rlogind</b> is the server for the <a class="link-man" href="../1/rlogin">rlogin(1)</a> program. The server provides a remote login facility with authentication based on privileged port numbers from trusted hosts.<p>
Options supported by <b class="name">rlogind</b>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Ask hostname for verification.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prevent any authentication based on the user's &#8220;<i class="file">.rhosts</i>&#8221; file, unless the user is logging in as the superuser.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Disable keep-alive messages.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;L</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Log all successful accesses to <a class="link-man" href="../8/syslogd">syslogd(8)</a> as <code class="lit">auth.info</code> messages.</dd>
</dl>
<p>
<b class="name">rlogind</b> listens for service requests at the port indicated in the ``login'' service specification; see <a class="link-man" href="../5/services">services(5)</a>. When a service request is received the following protocol is initiated:<ol style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-enum">
<li class="list-enum" style="margin-top: 1.00em;">
The server checks the client's source port. If the port is not in the range 512-1023, the server aborts the connection.</li>
<li class="list-enum" style="margin-top: 1.00em;">
The server checks the client's source address and requests the corresponding host name (see <a class="link-man" href="../3/getnameinfo">getnameinfo(3)</a>, <a class="link-man" href="../5/hosts">hosts(5)</a> and <a class="link-man" href="../8/named">named(8)</a>). If the hostname cannot be determined, the dot-notation representation of the host address is used. If the hostname is in the same domain as the server (according to the last two components of the domain name), or if the <b class="flag">&#45;a</b> option is given, the addresses for the hostname are requested, verifying that the name and address correspond. Normal authentication is bypassed if the address verification fails.</li>
</ol>
<p>
Once the source port and address have been checked, <b class="name">rlogind</b> proceeds with the authentication process described in <a class="link-man" href="../8/rshd">rshd(8)</a>. It then allocates a pseudo terminal (see <a class="link-man" href="../4/pty">pty(4)</a>), and manipulates file descriptors so that the slave half of the pseudo terminal becomes the <span class="emph">stdin</span>, <span class="emph">stdout</span>, and <span class="emph">stderr</span> for a login process. The login process is an instance of the <a class="link-man" href="../1/login">login(1)</a> program, invoked with the <b class="flag">&#45;f</b> option if authentication has succeeded. If automatic authentication fails, the user is prompted to log in as if on a standard terminal line.<p>
The parent of the login process manipulates the master side of the pseudo terminal, operating as an intermediary between the login process and the client instance of the <a class="link-man" href="../1/rlogin">rlogin(1)</a> program. In normal operation, the packet protocol described in <a class="link-man" href="../4/pty">pty(4)</a> is invoked to provide &#8216;<code class="lit">^S/^Q</code>&#8217; type facilities and propagate interrupt signals to the remote programs. The login process propagates the client terminal's baud rate and terminal type, as found in the environment variable, &#8216;<code class="lit"><span class="env">TERM</span></code>&#8217;; see <a class="link-man" href="../7/environ">environ(7)</a>. The screen or window size of the terminal is requested from the client, and window size changes from the client are propagated to the pseudo terminal.<p>
Transport-level keepalive messages are enabled unless the <b class="flag">&#45;n</b> option is present. The use of keepalive messages allows sessions to be timed out if the client crashes or becomes unreachable.<p>
At the end of a login session, <b class="name">rlogind</b> invokes the <a class="link-man" href="../3/ttyaction">ttyaction(3)</a> facility with an action of "rlogind" and user "root" to execute site-specific commands.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> All initial diagnostic messages are indicated by a leading byte with a value of 1, after which any network connections are closed. If there are no errors before <a class="link-man" href="../1/login">login(1)</a> is invoked, a null byte is returned as in indication of success.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">Try again.</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A <a class="link-man" href="../2/fork">fork(2)</a> by the server failed.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/login">login(1)</a>, <a class="link-man" href="../3/ruserok">ruserok(3)</a>, <a class="link-man" href="../3/ttyaction">ttyaction(3)</a>, <a class="link-man" href="../8/rshd">rshd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">rlogind</b> command appeared in <span class="unix">4.2BSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The authentication procedure used here assumes the integrity of each client machine and the connecting medium. This is insecure, but is useful in an ``open'' environment.<p>
A facility to allow all data exchanges to be encrypted should be present.<p>
A more extensible protocol should be used.<p>
<b class="name">rlogind</b> intentionally rejects accesses from IPv4 mapped address on top of <span class="define">AF_INET6</span> socket, since IPv4 mapped address complicates host-address based authentication. If you would like to accept connections from IPv4 peers, you will need to run <b class="name">rlogind</b> on top of <span class="define">AF_INET</span> socket, not <span class="define">AF_INET6</span> socket.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
July 17, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

