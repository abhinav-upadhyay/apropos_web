<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
LWRESD(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
LWRESD(8)</td>
<td class="head-vol" align="center">
BIND9</td>
<td class="head-rtitle" align="right">
LWRESD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> lwresd &#45; lightweight resolver daemon</div>
<div class="section">
<h1>SYNOPSIS</h1><p style="margin-left: 7.00ex;text-indent: -7.00ex;">
<b>lwresd</b> [<b>&#45;c&#160;</b><b></b><i>config&#45;file</i>] [<b>&#45;C&#160;</b><b></b><i>config&#45;file</i>] [<b>&#45;d&#160;</b><b></b><i>debug&#45;level</i>] [<b>&#45;f</b>] [<b>&#45;g</b>] [<b>&#45;i&#160;</b><b></b><i>pid&#45;file</i>] [<b>&#45;m&#160;</b><b></b><i>flag</i>] [<b>&#45;n&#160;</b><b></b><i>#cpus</i>] [<b>&#45;P&#160;</b><b></b><i>port</i>] [<b>&#45;p&#160;</b><b></b><i>port</i>] [<b>&#45;s</b>] [<b>&#45;t&#160;</b><b></b><i>directory</i>] [<b>&#45;u&#160;</b><b></b><i>user</i>] [<b>&#45;v</b>] [<b>&#45;4</b>] [<b>&#45;6</b>]</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>lwresd</b> is the daemon providing name lookup services to clients that use the BIND 9 lightweight resolver library. It is essentially a stripped&#45;down, caching&#45;only name server that answers queries using the BIND 9 lightweight resolver protocol rather than the DNS protocol.<p>
<b>lwresd</b> listens for resolver queries on a UDP port on the IPv4 loopback interface, 127.0.0.1. This means that  <b>lwresd</b> can only be used by processes running on the local machine. By default, UDP port number 921 is used for lightweight resolver requests and responses.<p>
Incoming lightweight resolver requests are decoded by the server which then resolves them using the DNS protocol. When the DNS lookup completes,  <b>lwresd</b> encodes the answers in the lightweight resolver format and returns them to the client that made the request.<p>
If  <i>/etc/resolv.conf</i> contains any  <b>nameserver</b> entries,  <b>lwresd</b> sends recursive DNS queries to those servers. This is similar to the use of forwarders in a caching name server. If no  <b>nameserver</b> entries are present, or if forwarding fails,  <b>lwresd</b> resolves the queries autonomously starting at the root name servers, using a built&#45;in list of root server hints.</div>
<div class="section">
<h1>OPTIONS</h1> &#45;4<div style="margin-left: 4.00ex;">
Use IPv4 only even if the host machine is capable of IPv6.  <b>&#45;4</b> and  <b>&#45;6</b> are mutually exclusive.</div>
<p>
&#45;6<div style="margin-left: 4.00ex;">
Use IPv6 only even if the host machine is capable of IPv4.  <b>&#45;4</b> and  <b>&#45;6</b> are mutually exclusive.</div>
<p>
&#45;c <i>config&#45;file</i><div style="margin-left: 4.00ex;">
Use  <i>config&#45;file</i> as the configuration file instead of the default,  <i>/etc/lwresd.conf</i>.  <b>&#45;c</b> can not be used with  <b>&#45;C</b>.</div>
<p>
&#45;C <i>config&#45;file</i><div style="margin-left: 4.00ex;">
Use  <i>config&#45;file</i> as the configuration file instead of the default,  <i>/etc/resolv.conf</i>.  <b>&#45;C</b> can not be used with  <b>&#45;c</b>.</div>
<p>
&#45;d <i>debug&#45;level</i><div style="margin-left: 4.00ex;">
Set the daemon's debug level to  <i>debug&#45;level</i>. Debugging traces from  <b>lwresd</b> become more verbose as the debug level increases.</div>
<p>
&#45;f<div style="margin-left: 4.00ex;">
Run the server in the foreground (i.e. do not daemonize).</div>
<p>
&#45;g<div style="margin-left: 4.00ex;">
Run the server in the foreground and force all logging to  <i>stderr</i>.</div>
<p>
&#45;i <i>pid&#45;file</i><div style="margin-left: 4.00ex;">
Use  <i>pid&#45;file</i> as the PID file instead of the default,  <i>/var/run/lwresd/lwresd.pid</i>.</div>
<p>
&#45;m <i>flag</i><div style="margin-left: 4.00ex;">
Turn on memory usage debugging flags. Possible flags are  <i>usage</i>,  <i>trace</i>,  <i>record</i>,  <i>size</i>, and  <i>mctx</i>. These correspond to the ISC_MEM_DEBUGXXXX flags described in  <i>&lt;isc/mem.h&gt;</i>.</div>
<p>
&#45;n <i>#cpus</i><div style="margin-left: 4.00ex;">
Create  <i>#cpus</i> worker threads to take advantage of multiple CPUs. If not specified,  <b>lwresd</b> will try to determine the number of CPUs present and create one thread per CPU. If it is unable to determine the number of CPUs, a single worker thread will be created.</div>
<p>
&#45;P <i>port</i><div style="margin-left: 4.00ex;">
Listen for lightweight resolver queries on port  <i>port</i>. If not specified, the default is port 921.</div>
<p>
&#45;p <i>port</i><div style="margin-left: 4.00ex;">
Send DNS lookups to port  <i>port</i>. If not specified, the default is port 53. This provides a way of testing the lightweight resolver daemon with a name server that listens for queries on a non&#45;standard port number.</div>
<p>
&#45;s<div style="margin-left: 4.00ex;">
Write memory usage statistics to  <i>stdout</i> on exit.<div style="margin-left: 5.00ex;">
<b>Note:</b> This option is mainly of interest to BIND 9 developers and may be removed or changed in a future release.</div>
</div>
<p>
&#45;t <i>directory</i><div style="margin-left: 4.00ex;">
Chroot to  <i>directory</i> after processing the command line arguments, but before reading the configuration file.<div style="margin-left: 5.00ex;">
<b>Warning:</b> This option should be used in conjunction with the  <b>&#45;u</b> option, as chrooting a process running as root doesn't enhance security on most systems; the way  <b>chroot(2)</b> is defined allows a process with root privileges to escape a chroot jail.</div>
</div>
<p>
&#45;u <i>user</i><div style="margin-left: 4.00ex;">
Setuid to  <i>user</i> after completing privileged operations, such as creating sockets that listen on privileged ports.</div>
<p>
&#45;v<div style="margin-left: 4.00ex;">
Report the version number and exit.</div>
</div>
<div class="section">
<h1>FILES</h1>  <i>/etc/resolv.conf</i><div style="margin-left: 4.00ex;">
The default configuration file.</div>
<p>
<i>/var/run/lwresd.pid</i><div style="margin-left: 4.00ex;">
The default process&#45;id file.</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>named</b>(8),  <b>lwres</b>(3),  <b>resolver</b>(5).</div>
<div class="section">
<h1>AUTHOR</h1> Internet Systems Consortium</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright &#169; 2004, 2005, 2007&#45;2009, 2014 Internet Systems Consortium, Inc. ("ISC")<div style="height: 0.00em;">
&#160;</div>
Copyright &#169; 2000, 2001 Internet Software Consortium.<div style="height: 0.00em;">
&#160;</div>
</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
January 20, 2009</td>
<td class="foot-os" align="right">
BIND9</td>
</tr>
</table>
</div>
</body>
<>

