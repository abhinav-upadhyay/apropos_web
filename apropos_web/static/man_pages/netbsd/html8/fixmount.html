<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
FIXMOUNT(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
FIXMOUNT(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
FIXMOUNT(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> fixmount &#45; fix remote mount entries</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>fixmount</b> [ <b>&#45;adervq</b> ] [ <b>&#45;h</b> <i>name</i> ] <i>host</i> ...</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>fixmount</b> is a variant of <b>showmount</b>(8) that can delete bogus mount entries in remote <b>mountd</b>(8) daemons. The actions specified by the options are performed for each <i>host</i> in turn.</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>&#45;a &#45;d &#45;e</b></dt>
<dd>
These options work as in <b>showmount</b>(8) except that only entries pertaining to the local host are printed.</dd>
</dl>
<dl>
<dt>
<b>&#45;r</b></dt>
<dd>
Removes those remote mount entries on <i>host</i> that do not correspond to current mounts, i.e., which are left-over from a crash or are the result of improper mount protocol. The actuality of mounts is verified using the entries in <b>/etc/mtab</b>.</dd>
</dl>
<dl>
<dt>
<b>&#45;v</b></dt>
<dd>
Verify remote mounts.  Similar to <b>&#45;r</b> except that only a notification message is printed for each bogus entry found.  The remote mount table is not changed.</dd>
</dl>
<dl>
<dt>
<b>&#45;A</b></dt>
<dd>
Issues a command to the remote mountd declaring that ALL of its filesystems have been unmounted.  This should be used with caution, as it removes all remote mount entries pertaining to the local system, whether or not any filesystems are still mounted locally.</dd>
</dl>
<dl>
<dt>
<b>&#45;q</b></dt>
<dd>
Be quiet. Suppresses error messages due to timeouts and "Program not registered", i.e., due to remote hosts not supporting RPC or not running mountd.</dd>
</dl>
<dl>
<dt>
<b>&#45;h</b><i>&#160;name</i></dt>
<dd>
Pretend the local hostname is <i>name</i>. This is useful after the local hostname has been changed and rmtab entries using the old name remain on a remote machine. Unfortunately, most mountd's won't be able to successfully handle removal of such entries, so this option is useful in combination with <b>&#45;v</b> only.<div style="height: 0.00em;">
&#160;</div>
This option also saves time as comparisons of remotely recorded and local hostnames by address are avoided.</dd>
</dl>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<b>/etc/mtab</b></dt>
<dd>
List of current mounts.</dd>
</dl>
<dl>
<dt>
<b>/etc/rmtab</b></dt>
<dd>
Backup file for remote mount entries on NFS server.</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>showmount</b>(8), <b>mtab</b>(5), <b>rmtab</b>(5), <b>mountd</b>(8C).<p>
``am-utils'' <b>info</b>(1) entry.<p>
<i>Linux NFS and Automounter Administration</i> by Erez Zadok, ISBN 0-7821-2739-8, (Sybex, 2001).<p>
<i>http://www.am-utils.org</i><p>
<i>Amd &#45; The 4.4 BSD Automounter</i></div>
<div class="section">
<h1>BUGS</h1> No attempt is made to verify the information in <b>/etc/mtab</b> itself.<p>
Since swap file mounts are not recorded in <b>/etc/mtab</b>, a heuristic specific to SunOS is used to determine whether such a mount is actual (replacing the string "swap" with "root" and verifying the resulting path).<p>
Symbolic links on the server will cause the path in the remote entry to differ from the one in <b>/etc/mtab</b>. To catch those cases, a filesystem is also deemed mounted if its <i>local</i> mount point is identical to the remote entry. I.e., on a SunOS diskless client, <b>server:/export/share/sunos.4.1.1</b> is actually <b>/usr/share</b>. Since the local mount point is <b>/usr/share</b> as well this will be handled correctly.<p>
There is no way to clear a stale entry in a remote mountd after the local hostname (or whatever reverse name resolution returns for it) has been changed.  To take care of these cases, the remote /etc/rmtab file has to be edited and mountd restarted.<p>
The RPC timeouts for mountd calls can only be changed by recompiling. The defaults are 2 seconds for client handle creation and 5 seconds for RPC calls.</div>
<div class="section">
<h1>AUTHORS</h1> Andreas Stolcke &lt;stolcke@icsi.berkeley.edu&gt;.<p>
Erez Zadok &lt;ezk@cs.sunysb.edu&gt;, Computer Science Department, Stony Brook University, Stony Brook, New York, USA.<p>
Other authors and contributors to am-utils are listed in the <b>AUTHORS</b> file distributed with am-utils.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
26 Feb 1993</td>
<td class="foot-os" align="right">
</td>
</tr>
</table>
</div>
</body>
<>

