<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
RCORDER(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
RCORDER(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
RCORDER(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rcorder</b> &#8212; <span class="desc">print a dependency ordering of interdependent files</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;">
<col>
<tbody>
<tr>
<td>
rcorder</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">keep</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">skip</i></span>&#93; <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">rcorder</b> is designed to print out a dependency ordering of a set of interdependent files. Typically it is used to find an execution sequence for a set of shell scripts in which certain files must be executed before others.<p>
Each file passed to <b class="name">rcorder</b> should be annotated with special lines (which look like comments to the shell) which indicate the dependencies the files have upon certain points in the sequence, known as &#8220;conditions&#8221;, and which indicate, for each file, which &#8220;conditions&#8221; may be expected to be filled by that file.<p>
Within each file, a block containing a series of &#8220;REQUIRE&#8221;, &#8220;PROVIDE&#8221;, &#8220;BEFORE&#8221; and &#8220;KEYWORD&#8221; lines should appear. The format of the lines is rigid. Each line must begin with a single &#8220;#&#8221;, followed by a single space, followed by &#8220;PROVIDE:&#8221;, &#8220;REQUIRE:&#8221;, &#8220;BEFORE:&#8221;, or &#8220;KEYWORD:&#8221;. No deviation is permitted. Each dependency line is then followed by a series of conditions, separated by whitespace. Multiple &#8220;PROVIDE&#8221;, &#8220;REQUIRE&#8221;, &#8220;BEFORE&#8221; and &#8220;KEYWORD&#8221; lines may appear, but all such lines must appear in a sequence without any intervening lines, as once a line that does not follow the format is reached, parsing stops.<p>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Add the specified keyword to the &#8220;keep list&#8221;. If any <b class="flag">&#45;k</b> option is given, only those files containing the matching keyword are listed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Add the specified keyword to the &#8220;skip list&#8221;. If any <b class="flag">&#45;s</b> option is given, files containing the matching keyword are not listed.</dd>
</dl>
<p>
<br>
 An example block follows:<p>
<pre style="margin-left: 5.00ex;" class="lit display">
# REQUIRE: networking syslog 
# REQUIRE: usr 
# PROVIDE: dns nscd</pre>
<p>
This block states that the file in which it appears depends upon the &#8220;networking&#8221;, &#8220;syslog&#8221;, and &#8220;usr&#8221; conditions, and provides the &#8220;dns&#8221; and &#8220;nscd&#8221; conditions.<p>
A file may contain zero &#8220;PROVIDE&#8221; lines, in which case it provides no conditions, and may contain zero &#8220;REQUIRE&#8221; lines, in which case it has no dependencies. A file containing no &#8220;PROVIDE&#8221;, &#8220;REQUIRE&#8221;, or &#8220;BEFORE&#8221; lines may be output at an arbitrary position in the dependency ordering.<p>
There must be at least one file with no dependencies in the set of arguments passed to <b class="name">rcorder</b> in order for it to find a starting place in the dependency ordering.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> <b class="name">rcorder</b> may print one of the following error messages and exit with a non-zero status if it encounters an error while processing the file list.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">Requirement %s has no providers, aborting.</b></dt>
<dd class="list-diag">
No file has a &#8220;PROVIDE&#8221; line corresponding to a condition present in a &#8220;REQUIRE&#8221; line in another file.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">Circular dependency on provision %s, aborting.</b></dt>
<dd class="list-diag">
A set of files has a circular dependency which was detected while processing the stated condition.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">Circular dependency on file %s, aborting.</b></dt>
<dd class="list-diag">
A set of files has a circular dependency which was detected while processing the stated file.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../8/rc">rc(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">rcorder</b> program first appeared in <span class="unix">NetBSD&#160;1.5</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author"></span>Written by <span class="author">Perry E. Metzger</span> &#60;<a class="link-mail" href="mailto:perry@piermont.com">perry@piermont.com</a>&#62; and <span class="author">Matthew R. Green</span> &#60;<a class="link-mail" href="mailto:mrg@eterna.com.au">mrg@eterna.com.au</a>&#62;.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
April 23, 2003</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

