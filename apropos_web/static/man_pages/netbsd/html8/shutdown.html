<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
SHUTDOWN(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SHUTDOWN(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
SHUTDOWN(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">shutdown</b> &#8212; <span class="desc">close down the system at a given time</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;">
<col>
<tbody>
<tr>
<td>
shutdown</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;Ddfhknprvxz</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;b</b> <i class="arg">bootstr</i></span>&#93; <i class="arg">time</i> &#91;<span class="opt"><i class="arg">message ...</i> | <i class="arg">-</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">shutdown</b> provides an automated shutdown procedure for super-users to nicely notify users when the system is shutting down, saving them from system administrators, hackers, and gurus, who would otherwise not bother with such niceties.<p>
Available friendlinesses:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;b</b> <i class="arg">bootstr</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The given <i class="arg">bootstr</i> is passed to <a class="link-man" href="../8/reboot">reboot(8)</a> for the benefit of those systems that can pass boot arguments to the firmware. Currently, this only affects sun3 and sparc machines.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
<b class="name">shutdown</b> will pass the <b class="flag">&#45;d</b> flag to <a class="link-man" href="../8/reboot">reboot(8)</a> or <a class="link-man" href="../8/halt">halt(8)</a> to request a kernel core dump. If neither the <b class="flag">&#45;h</b> or <b class="flag">&#45;r</b> flags are specified, then <b class="flag">&#45;d</b> also implies <b class="flag">&#45;r</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
<b class="name">shutdown</b> arranges, in the manner of <a class="link-man" href="../8/fastboot">fastboot(8)</a>, for the file systems <span class="emph">not to be</span> checked on reboot.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;h</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The system is halted at the specified <i class="arg">time</i>, using <a class="link-man" href="../8/halt">halt(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Kick everybody off. The <b class="flag">&#45;k</b> option does not actually halt the system, but leaves the system multi-user with logins disabled (for all but super-user).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Prevent the normal <a class="link-man" href="../2/sync">sync(2)</a> before stopping.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The system is powered down at the specified <i class="arg">time</i>, using <a class="link-man" href="../8/poweroff">poweroff(8)</a>. If the powerdown fails, or the system does not support software powerdown, the system will simply halt instead.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The system is rebooted at the specified <i class="arg">time</i>, using <a class="link-man" href="../8/reboot">reboot(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
To enable verbose messages on the console, pass <b class="flag">&#45;v</b> to <a class="link-man" href="../8/reboot">reboot(8)</a> or <a class="link-man" href="../8/halt">halt(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;x</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
To enable debugging messages on the console, pass <b class="flag">&#45;x</b> to <a class="link-man" href="../8/reboot">reboot(8)</a> or <a class="link-man" href="../8/halt">halt(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;z</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
To silence some shutdown messages on the console, pass <b class="flag">&#45;z</b> to <a class="link-man" href="../8/reboot">reboot(8)</a> or <a class="link-man" href="../8/halt">halt(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;D</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Prevents <b class="name">shutdown</b> from detaching from the tty with <a class="link-man" href="../2/fork">fork(2)</a>/ <a class="link-man" href="../3/exit">exit(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">time</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
<i class="arg">Time</i> is the time at which <b class="name">shutdown</b> will bring the system down and may be the word <i class="arg">now</i> or a future time in one of two formats: <i class="arg">+number</i>, or <i class="arg">[[[[[cc]yy]mm]dd]hh]mm</i>, where the century, year, month, day, and hour may be defaulted to the current system values. The first form brings the system down <i class="arg">number</i> minutes from the current time; the second brings the system down at the absolute time specified. If the century is not specified, it defaults to 1900 for years between 69 and 99, or 2000 for years between 0 and 68. A leading zero in the &#8220;yy&#8221; value is <span class="emph">not</span> optional.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">message ...</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Any other arguments comprise the warning message that is broadcast to users currently logged into the system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">-</i></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
If <i class="arg">-</i> is supplied as the only argument after the time, the warning message is read from the standard input.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4245484156494f52">BEHAVIOR</h1> At intervals, becoming more frequent as apocalypse approaches and starting at ten hours before shutdown, warning messages are displayed on the terminals of all users logged in. Five minutes before shutdown, or immediately if shutdown is in less than 5 minutes, logins are disabled by creating <i class="file">/etc/nologin</i> and copying the warning message there. If this file exists when a user attempts to log in, <a class="link-man" href="../1/login">login(1)</a> prints its contents and exits. The file is removed just before <b class="name">shutdown</b> exits.<p>
At shutdown time, a message is written in the system log containing the time of shutdown, who initiated the shutdown, and the reason. Next a message is printed announcing the start of the system shutdown hooks. Then the shutdown hooks in <i class="file">/etc/rc.shutdown</i> are run, and a message is printed indicating that they have completed. After a short delay, <b class="name">shutdown</b> runs <a class="link-man" href="../8/halt">halt(8)</a> or <a class="link-man" href="../8/reboot">reboot(8)</a>, or sends a terminate signal to <a class="link-man" href="../8/init">init(8)</a> to bring the system down to single-user mode, depending on the choice of options.<p>
The time of the shutdown and the warning message are placed in <i class="file">/etc/nologin</i> and should be used to tell the users why the system is going down, when it will be back up, and to share any other pertinent information.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/nologin</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
tells <a class="link-man" href="../1/login">login(1)</a> not to let anyone log in</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/fastboot</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
tells <a class="link-man" href="../8/rc">rc(8)</a> not to run <a class="link-man" href="../8/fsck">fsck(8)</a> when rebooting</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.shutdown</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
System shutdown commands</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/login">login(1)</a>, <a class="link-man" href="../1/wall">wall(1)</a>, <a class="link-man" href="../8/fastboot">fastboot(8)</a>, <a class="link-man" href="../8/halt">halt(8)</a>, <a class="link-man" href="../8/init">init(8)</a>, <a class="link-man" href="../8/poweroff">poweroff(8)</a>, <a class="link-man" href="../8/reboot">reboot(8)</a>, <a class="link-man" href="../8/rescue">rescue(8)</a></div>
<div class="section">
<h1 id="x4241434b5741524420434f4d5041544942494c495459">BACKWARD COMPATIBILITY</h1> The hours and minutes in the second time format may be separated by a colon (``:'') for backward compatibility.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">shutdown</b> command appeared in <span class="unix">4.0BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 4, 2011</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

