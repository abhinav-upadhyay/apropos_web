<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
KADMIN(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
KADMIN(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
KADMIN(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">kadmin</b> &#8212; <span class="desc">Kerberos administration utility</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
kadmin</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">string</i>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;principal=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;K</b>&#160;<i class="arg">string</i>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;c</b>&#160;<i class="arg">file</i>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;config-file=</b><i class="arg">file</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b>&#160;<i class="arg">file</i>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;key-file=</b><i class="arg">file</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b>&#160;<i class="arg">realm</i>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;realm=</b><i class="arg">realm</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b>&#160;<i class="arg">host</i>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;admin-server=</b><i class="arg">host</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b>&#160;<i class="arg">port&#160;number</i>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;server-port=</b><i class="arg">port&#160;number</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;l</b>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;local</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;h</b>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;help</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;v</b>&#160;|&#160;<b class="flag">&#45;</b><b class="flag">&#45;version</b></span>&#93; &#91;<span class="opt"><i class="arg">command</i></span>&#93;</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">kadmin</b> program is used to make modifications to the Kerberos database, either remotely via the <a class="link-man" href="../8/kadmind">kadmind(8)</a> daemon, or locally (with the <b class="flag">&#45;l</b> option).<p>
Supported options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">string</i>, <b class="flag">&#45;</b><b class="flag">&#45;principal=</b><i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
principal to authenticate as</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;K</b> <i class="arg">string</i>, <b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
keytab for authentication principal</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b> <i class="arg">file</i>, <b class="flag">&#45;</b><b class="flag">&#45;config-file=</b><i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
location of config file</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;k</b> <i class="arg">file</i>, <b class="flag">&#45;</b><b class="flag">&#45;key-file=</b><i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
location of master key file</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b> <i class="arg">realm</i>, <b class="flag">&#45;</b><b class="flag">&#45;realm=</b><i class="arg">realm</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
realm to use</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b> <i class="arg">host</i>, <b class="flag">&#45;</b><b class="flag">&#45;admin-server=</b><i class="arg">host</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
server to contact</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">port number</i>, <b class="flag">&#45;</b><b class="flag">&#45;server-port=</b><i class="arg">port number</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
port to use</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;l</b>, <b class="flag">&#45;</b><b class="flag">&#45;local</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
local admin mode</dd>
</dl>
<p>
If no <i class="arg">command</i> is given on the command line, <b class="name">kadmin</b> will prompt for commands to process. Some of the commands that take one or more principals as argument (<b class="name">delete</b>, <b class="name">ext_keytab</b>, <b class="name">get</b>, <b class="name">modify</b>, and <b class="name">passwd</b>) will accept a glob style wildcard, and perform the operation on all matching principals.<p>
Commands include:<p>
<b class="name">add</b> &#91;<span class="opt"><b class="flag">&#45;r</b> | <b class="flag">&#45;</b><b class="flag">&#45;random-key</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;random-password</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">string</i> | <b class="flag">&#45;</b><b class="flag">&#45;password=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;key=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;max-ticket-life=</b><i class="arg">lifetime</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;max-renewable-life=</b><i class="arg">lifetime</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;attributes=</b><i class="arg">attributes</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;expiration-time=</b><i class="arg">time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;pw-expiration-time=</b><i class="arg">time</i></span>&#93; <i class="arg">principal...</i><p>
<div style="margin-left: 5.00ex;" class="display">
Adds a new principal to the database. The options not passed on the command line will be prompted for.</div>
<p>
<b class="name">add_enctype</b> &#91;<span class="opt"><b class="flag">&#45;r</b> | <b class="flag">&#45;</b><b class="flag">&#45;random-key</b></span>&#93; <i class="arg">principal enctypes...</i><p>
<div style="margin-left: 5.00ex;" class="display">
Adds a new encryption type to the principal, only random keys are supported.</div>
<p>
<b class="name">delete</b> <i class="arg">principal...</i><p>
<div style="margin-left: 5.00ex;" class="display">
Removes a principal.</div>
<p>
<b class="name">del_enctype</b> <i class="arg">principal enctypes...</i><p>
<div style="margin-left: 5.00ex;" class="display">
Removes some enctypes from a principal; this can be useful if the service belonging to the principal is known to not handle certain enctypes.</div>
<p>
<b class="name">ext_keytab</b> &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">string</i> | <b class="flag">&#45;</b><b class="flag">&#45;keytab=</b><i class="arg">string</i></span>&#93; <i class="arg">principal...</i><p>
<div style="margin-left: 5.00ex;" class="display">
Creates a keytab with the keys of the specified principals.</div>
<p>
<b class="name">get</b> &#91;<span class="opt"><b class="flag">&#45;l</b> | <b class="flag">&#45;</b><b class="flag">&#45;long</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> | <b class="flag">&#45;</b><b class="flag">&#45;short</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;t</b> | <b class="flag">&#45;</b><b class="flag">&#45;terse</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">string</i> | <b class="flag">&#45;</b><b class="flag">&#45;column-info=</b><i class="arg">string</i></span>&#93; <i class="arg">principal...</i><p>
<div style="margin-left: 5.00ex;" class="display">
Lists the matching principals, short prints the result as a table, while long format produces a more verbose output. Which columns to print can be selected with the <b class="flag">&#45;o</b> option. The argument is a comma separated list of column names optionally appended with an equal sign (&#8216;=&#8217;) and a column header. Which columns are printed by default differ slightly between short and long output.<p>
The default terse output format is similar to <b class="flag">&#45;s</b> <b class="flag">&#45;o</b> <i class="arg">principal=</i>, just printing the names of matched principals.<p>
Possible column names include: <code class="lit">principal</code>, <code class="lit">princ_expire_time</code>, <code class="lit">pw_expiration</code>, <code class="lit">last_pwd_change</code>, <code class="lit">max_life</code>, <code class="lit">max_rlife</code>, <code class="lit">mod_time</code>, <code class="lit">mod_name</code>, <code class="lit">attributes</code>, <code class="lit">kvno</code>, <code class="lit">mkvno</code>, <code class="lit">last_success</code>, <code class="lit">last_failed</code>, <code class="lit">fail_auth_count</code>, <code class="lit">policy</code>, and <code class="lit">keytypes</code>.</div>
<p>
<b class="name">modify</b> &#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">attributes</i> | <b class="flag">&#45;</b><b class="flag">&#45;attributes=</b><i class="arg">attributes</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;max-ticket-life=</b><i class="arg">lifetime</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;max-renewable-life=</b><i class="arg">lifetime</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;expiration-time=</b><i class="arg">time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;pw-expiration-time=</b><i class="arg">time</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;kvno=</b><i class="arg">number</i></span>&#93; <i class="arg">principal...</i><p>
<div style="margin-left: 5.00ex;" class="display">
Modifies certain attributes of a principal. If run without command line options, you will be prompted. With command line options, it will only change the ones specified.<p>
Possible attributes are: <code class="lit">new-princ</code>, <code class="lit">support-desmd5</code>, <code class="lit">pwchange-service</code>, <code class="lit">disallow-svr</code>, <code class="lit">requires-pw-change</code>, <code class="lit">requires-hw-auth</code>, <code class="lit">requires-pre-auth</code>, <code class="lit">disallow-all-tix</code>, <code class="lit">disallow-dup-skey</code>, <code class="lit">disallow-proxiable</code>, <code class="lit">disallow-renewable</code>, <code class="lit">disallow-tgt-based</code>, <code class="lit">disallow-forwardable</code>, <code class="lit">disallow-postdated</code><p>
Attributes may be negated with a "-", e.g.,<p>
kadmin -l modify -a -disallow-proxiable user</div>
<p>
<b class="name">passwd</b> &#91;<span class="opt"><b class="flag">&#45;r</b> | <b class="flag">&#45;</b><b class="flag">&#45;random-key</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;random-password</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">string</i> | <b class="flag">&#45;</b><b class="flag">&#45;password=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;key=</b><i class="arg">string</i></span>&#93; <i class="arg">principal...</i><p>
<div style="margin-left: 5.00ex;" class="display">
Changes the password of an existing principal.</div>
<p>
<b class="name">password-quality</b> <i class="arg">principal</i> <i class="arg">password</i><p>
<div style="margin-left: 5.00ex;" class="display">
Run the password quality check function locally. You can run this on the host that is configured to run the kadmind process to verify that your configuration file is correct. The verification is done locally, if kadmin is run in remote mode, no rpc call is done to the server.</div>
<p>
<b class="name">privileges</b><p>
<div style="margin-left: 5.00ex;" class="display">
Lists the operations you are allowed to perform. These include <code class="lit">add</code>, <code class="lit">add_enctype</code>, <code class="lit">change-password</code>, <code class="lit">delete</code>, <code class="lit">del_enctype</code>, <code class="lit">get</code>, <code class="lit">list</code>, and <code class="lit">modify</code>.</div>
<p>
<b class="name">rename</b> <i class="arg">from to</i><p>
<div style="margin-left: 5.00ex;" class="display">
Renames a principal. This is normally transparent, but since keys are salted with the principal name, they will have a non-standard salt, and clients which are unable to cope with this will fail. Kerberos 4 suffers from this.</div>
<p>
<b class="name">check</b> &#91;<span class="opt"><i class="arg">realm</i></span>&#93;<p>
<div style="margin-left: 5.00ex;" class="display">
Check database for strange configurations on important principals. If no realm is given, the default realm is used.</div>
<p>
When running in local mode, the following commands can also be used:<p>
<b class="name">dump</b> &#91;<span class="opt"><b class="flag">&#45;d</b> | <b class="flag">&#45;</b><b class="flag">&#45;decrypt</b></span>&#93; &#91;<span class="opt"><i class="arg">dump-file</i></span>&#93;<p>
<div style="margin-left: 5.00ex;" class="display">
Writes the database in &#8220;human readable&#8221; form to the specified file, or standard out. If the database is encrypted, the dump will also have encrypted keys, unless <b class="flag">&#45;</b><b class="flag">&#45;decrypt</b> is used.</div>
<p>
<b class="name">init</b> &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;realm-max-ticket-life=</b><i class="arg">string</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;realm-max-renewable-life=</b><i class="arg">string</i></span>&#93; <i class="arg">realm</i><p>
<div style="margin-left: 5.00ex;" class="display">
Initializes the Kerberos database with entries for a new realm. It's possible to have more than one realm served by one server.</div>
<p>
<b class="name">load</b> <i class="arg">file</i><p>
<div style="margin-left: 5.00ex;" class="display">
Reads a previously dumped database, and re-creates that database from scratch.</div>
<p>
<b class="name">merge</b> <i class="arg">file</i><p>
<div style="margin-left: 5.00ex;" class="display">
Similar to <b class="name">load</b> but just modifies the database with the entries in the dump file.</div>
<p>
<b class="name">stash</b> &#91;<span class="opt"><b class="flag">&#45;e</b> <i class="arg">enctype</i> | <b class="flag">&#45;</b><b class="flag">&#45;enctype=</b><i class="arg">enctype</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;k</b> <i class="arg">keyfile</i> | <b class="flag">&#45;</b><b class="flag">&#45;key-file=</b><i class="arg">keyfile</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;convert-file</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;</b><b class="flag">&#45;master-key-fd=</b><i class="arg">fd</i></span>&#93;<p>
<div style="margin-left: 5.00ex;" class="display">
Writes the Kerberos master key to a file used by the KDC.</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../8/kadmind">kadmind(8)</a>, <a class="link-man" href="../8/kdc">kdc(8)</a></div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
Feb 22, 2007</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

