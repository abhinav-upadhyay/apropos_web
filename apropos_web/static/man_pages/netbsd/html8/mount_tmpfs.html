<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
MOUNT_TMPFS(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MOUNT_TMPFS(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
MOUNT_TMPFS(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">mount_tmpfs</b> &#8212; <span class="desc">mount an efficient memory file system</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 11.00ex;">
<col>
<tbody>
<tr>
<td>
mount_tmpfs</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;g</b> <i class="arg">group</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">mode</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;n</b> <i class="arg">nodes</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;o</b> <i class="arg">options</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">size</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;u</b> <i class="arg">user</i></span>&#93; <i class="arg">tmpfs</i> <i class="arg">mount_point</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">mount_tmpfs</b> command attaches an instance of the efficient memory file system to the global file system namespace. The <i class="arg">tmpfs</i> parameter only exists for compatibility with the other mount commands and is ignored. The directory specified by <i class="arg">mount_point</i> is converted to an absolute path before use and its attributes (owner, group and mode) are inherited unless explicitly overridden by the options described below.<p>
The following options are supported:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;g</b> <i class="arg">group</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Specifies the group name or GID of the root inode of the file system. Defaults to the mount point's GID.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b> <i class="arg">mode</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Specifies the mode (in octal notation) of the root inode of the file system. Defaults to the mount point's mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;n</b> <i class="arg">nodes</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Specifies the maximum number of nodes available to the file system. If not specified, the file system chooses a reasonable maximum given its size at mount time, which can be limited with <b class="flag">&#45;s</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;o</b> <i class="arg">options</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Options are specified with a <b class="flag">&#45;o</b> flag followed by a comma-separated string of options. See the <a class="link-man" href="../8/mount">mount(8)</a> man page for possible options and their meanings.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">size</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Specifies the total file system size in bytes. If zero is given (the default), the available amount of memory (including main memory and swap space) will be used. Note that some memory is always reserved for the system and cannot be assigned to the file system. The exact amount depends on the available memory and details of the kernel memory usage, it might even change slightly during runtime. <i class="arg">Size</i> can alternatively be specified as a percentage of the available system ram by using the notation <i class="arg">ram%n</i> where <i class="arg">n</i> is a number between 1 and 100. Similarily it can be specified as a fraction of the available system ram by using <i class="arg">ram/n</i> where <i class="arg">n</i> is the divisor. (Using <i class="arg">ram%25</i> and <i class="arg">ram/4</i> will result in the same limit.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;u</b> <i class="arg">user</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Specifies the user name or UID of the root inode of the file system. Defaults to the mount point's UID.</dd>
</dl>
<p>
Every option that accepts a numerical value as its argument can take a trailing &#8216;b&#8217; to indicate bytes (the default), a &#8216;k&#8217; to indicate kilobytes, a &#8216;M&#8217; to indicate megabytes or a &#8216;G&#8217; to indicate gigabytes. Note that both lowercase and uppercase forms of these letters are allowed.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The following command mounts a tmpfs instance over the <i class="file">/tmp</i> directory, inheriting its owner, group and mode settings:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"># mount -t tmpfs tmpfs /tmp</code></div>
</blockquote>
<p>
The following command mounts a tmpfs instance over the <i class="file">/mnt</i> directory, setting a 20 megabytes limit in space, owned by the &#8216;joe&#8217; user and belonging to the &#8216;users&#8217; group, with a restricted 0700 mode:<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit"># mount -t tmpfs -o -s20M -o -ujoe -o -gusers -o -m0700 tmpfs /mnt</code></div>
</blockquote>
<p>
See <i class="file">/usr/share/examples/fstab/fstab.ramdisk</i> for some examples on how to add tmpfs entries to <i class="file">/etc/fstab</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/fstab">fstab(5)</a>, <a class="link-man" href="../8/mount">mount(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">mount_tmpfs</b> utility first appeared in <span class="unix">NetBSD&#160;4.0</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> File system meta-data is not pageable. If there is not enough main memory to hold this information, the system may become unstable or very unresponsive because it will not be able to allocate required memory. A malicious user could trigger this condition if he could create lots of files inside a size-unbounded tmpfs file system. Limiting the number of nodes per file system (<b class="flag">&#45;n</b>) will prevent this; the default value for this setting is also often adjusted to an adequate value to resolve this.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 7, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

