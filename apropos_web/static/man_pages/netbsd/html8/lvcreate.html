<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
LVCREATE(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
LVCREATE(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
LVCREATE(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> lvcreate &#45; create a logical volume in an existing volume group</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>lvcreate</b> [&#45;&#45;addtag Tag] [&#45;&#45;alloc AllocationPolicy] [&#45;A|&#45;&#45;autobackup y|n] [&#45;C|&#45;&#45;contiguous y|n] [&#45;d|&#45;&#45;debug] [&#45;h|&#45;?|&#45;&#45;help] [&#45;i|&#45;&#45;stripes Stripes [&#45;I|&#45;&#45;stripesize StripeSize]] {&#45;l|&#45;&#45;extents LogicalExtentsNumber[%{VG|PVS|FREE}] |<br>
 &#45;L|&#45;&#45;size LogicalVolumeSize[kKmMgGtT]} [&#45;M|&#45;&#45;persistent y|n] [&#45;&#45;minor minor] [&#45;m|&#45;&#45;mirrors Mirrors [&#45;&#45;nosync] [&#45;&#45;mirrorlog {disk|core}] [&#45;&#45;corelog] [&#45;R|&#45;&#45;regionsize MirrorLogRegionSize]] [&#45;n|&#45;&#45;name LogicalVolumeName] [&#45;p|&#45;&#45;permission r|rw] [&#45;r|&#45;&#45;readahead ReadAheadSectors|auto|none] [&#45;t|&#45;&#45;test] [&#45;v|&#45;&#45;verbose] [&#45;Z|&#45;&#45;zero y|n] VolumeGroupName [PhysicalVolumePath...]<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<b>lvcreate</b> {&#45;l|&#45;&#45;extents LogicalExtentsNumber[%{VG|FREE}] |<br>
 &#45;L|&#45;&#45;size LogicalVolumeSize[kKmMgGtT]} [&#45;c|&#45;&#45;chunksize ChunkSize] &#45;s|&#45;&#45;snapshot &#45;n|&#45;&#45;name SnapshotLogicalVolumeName OriginalLogicalVolumePath</div>
<div class="section">
<h1>DESCRIPTION</h1> lvcreate creates a new logical volume in a volume group ( see <b>vgcreate(8), vgchange(8)</b> ) by allocating logical extents from the free physical extent pool of that volume group.  If there are not enough free physical extents then the volume group can be extended ( see <b>vgextend(8)</b> ) with other physical volumes or by reducing existing logical volumes of this volume group in size ( see <b>lvreduce(8)</b> ).<div style="height: 0.00em;">
&#160;</div>
The second form supports the creation of snapshot logical volumes which keep the contents of the original logical volume for backup purposes.</div>
<div class="section">
<h1>OPTIONS</h1> See  <b>lvm</b> for common options.<dl>
<dt>
<i>&#45;c, &#45;&#45;chunksize ChunkSize</i></dt>
<dd>
Power of 2 chunk size for the snapshot logical volume between 4k and 512k.</dd>
</dl>
<dl>
<dt>
<i>&#45;C, &#45;&#45;contiguous y|n</i></dt>
<dd>
Sets or resets the contiguous allocation policy for logical volumes. Default is no contiguous allocation based on a next free principle.</dd>
</dl>
<dl>
<dt>
<i>&#45;i, &#45;&#45;stripes Stripes</i></dt>
<dd>
Gives the number of stripes. This is equal to the number of physical volumes to scatter the logical volume.</dd>
</dl>
<dl>
<dt>
<i>&#45;I, &#45;&#45;stripesize StripeSize</i></dt>
<dd>
Gives the number of kilobytes for the granularity of the stripes.<div style="height: 0.00em;">
&#160;</div>
StripeSize must be 2^n (n = 2 to 9) for metadata in LVM1 format. For metadata in LVM2 format, the stripe size may be a larger power of 2 but must not exceed the physical extent size.</dd>
</dl>
<dl>
<dt>
<i>&#45;l, &#45;&#45;extents LogicalExtentsNumber[%{VG|PVS|FREE}]</i></dt>
<dd>
Gives the number of logical extents to allocate for the new logical volume. This can also be expressed as a percentage of the total space in the Volume Group with the suffix %VG, of the remaining free space in the Volume Group with the suffix %FREE, or of the remaining free space for the specified PhysicalVolume(s) with the suffix %PVS,</dd>
</dl>
<dl>
<dt>
<i>&#45;L, &#45;&#45;size LogicalVolumeSize[kKmMgGtTpPeE]</i></dt>
<dd>
Gives the size to allocate for the new logical volume. A size suffix of K for kilobytes, M for megabytes, G for gigabytes, T for terabytes, P for petabytes or E for exabytes is optional.<div style="height: 0.00em;">
&#160;</div>
Default unit is megabytes.</dd>
</dl>
<dl>
<dt>
<i>&#45;&#45;minor minor</i></dt>
<dd>
Set the minor number.</dd>
</dl>
<dl>
<dt>
<i>&#45;M, &#45;&#45;persistent y|n</i></dt>
<dd>
Set to y to make the minor number specified persistent.</dd>
</dl>
<dl>
<dt>
<i>&#45;m, &#45;&#45;mirrors Mirrors</i></dt>
<dd>
Creates a mirrored logical volume with Mirrors copies.  For example, specifying "-m 1" would result in a mirror with two-sides; that is, a linear volume plus one copy.<div style="height: 1.00em;">
&#160;</div>
Specifying the optional argument --nosync will cause the creation of the mirror to skip the initial resynchronization.  Any data written afterwards will be mirrored, but the original contents will not be copied.  This is useful for skipping a potentially long and resource intensive initial sync of an empty device.<div style="height: 1.00em;">
&#160;</div>
The optional argument --mirrorlog specifies the type of log to be used. The default is disk, which is persistent and requires a small amount of storage space, usually on a separate device from the data being mirrored. Using core means the mirror is regenerated by copying the data from the first device again each time the device is activated, for example, after every reboot.<div style="height: 1.00em;">
&#160;</div>
The optional argument --corelog is equivalent to --mirrorlog core.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>&#45;n, &#45;&#45;name LogicalVolumeName</i></dt>
<dd>
The name for the new logical volume.<div style="height: 0.00em;">
&#160;</div>
Without this option a default names of "lvol#" will be generated where # is the LVM internal number of the logical volume.</dd>
</dl>
<dl>
<dt>
<i>&#45;p, &#45;&#45;permission r|rw</i></dt>
<dd>
Set access permissions to read only or read and write.<div style="height: 0.00em;">
&#160;</div>
Default is read and write.</dd>
</dl>
<dl>
<dt>
<i>&#45;r, &#45;&#45;readahead ReadAheadSectors|auto|none</i></dt>
<dd>
Set read ahead sector count of this logical volume. For volume groups with metadata in lvm1 format, this must be a value between 2 and 120. The default value is "auto" which allows the kernel to choose a suitable value automatically. "None" is equivalent to specifying zero.</dd>
</dl>
<dl>
<dt>
<i>&#45;R, &#45;&#45;regionsize MirrorLogRegionSize</i></dt>
<dd>
A mirror is divided into regions of this size (in MB), and the mirror log uses this granularity to track which regions are in sync.</dd>
</dl>
<dl>
<dt>
<i>&#45;s, &#45;&#45;snapshot</i></dt>
<dd>
Create a snapshot logical volume (or snapshot) for an existing, so called original logical volume (or origin). Snapshots provide a 'frozen image' of the contents of the origin while the origin can still be updated. They enable consistent backups and online recovery of removed/overwritten data/files. The snapshot does not need the same amount of storage the origin has. In a typical scenario, 15-20% might be enough. In case the snapshot runs out of storage, use <b>lvextend(8)</b> to grow it. Shrinking a snapshot is supported by <b>lvreduce(8)</b> as well. Run <b>lvdisplay(8)</b> on the snapshot in order to check how much data is allocated to it.</dd>
</dl>
<dl>
<dt>
<i>&#45;Z, &#45;&#45;zero y|n</i></dt>
<dd>
Controls zeroing of the first KB of data in the new logical volume.<div style="height: 0.00em;">
&#160;</div>
Default is yes.<div style="height: 0.00em;">
&#160;</div>
Volume will not be zeroed if read only flag is set.<div style="height: 0.00em;">
&#160;</div>
Snapshot volumes are zeroed always.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
Warning: trying to mount an unzeroed logical volume can cause the system to hang.</dd>
</dl>
</div>
<div class="section">
<h1>Examples</h1> "lvcreate -i 3 -I 8 -L 100M vg00" tries to create a striped logical volume with 3 stripes, a stripesize of 8KB and a size of 100MB in the volume group named vg00. The logical volume name will be chosen by lvcreate.<div style="height: 1.00em;">
&#160;</div>
"lvcreate -m1 -L 500M vg00" tries to create a mirror logical volume with 2 sides with a useable size of 500 MiB.  This operation would require 3 devices - two for the mirror devices and one for the disk log.<div style="height: 1.00em;">
&#160;</div>
"lvcreate -m1 --mirrorlog core -L 500M vg00" tries to create a mirror logical volume with 2 sides with a useable size of 500 MiB.  This operation would require 2 devices - the log is "in-memory".<div style="height: 1.00em;">
&#160;</div>
"lvcreate --size 100m --snapshot --name snap /dev/vg00/lvol1"<div style="height: 0.00em;">
&#160;</div>
creates a snapshot logical volume named /dev/vg00/snap which has access to the contents of the original logical volume named /dev/vg00/lvol1 at snapshot logical volume creation time. If the original logical volume contains a file system, you can mount the snapshot logical volume on an arbitrary directory in order to access the contents of the filesystem to run a backup while the original filesystem continues to get updated.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>lvm</b>(8), <b>vgcreate</b>(8), <b>lvremove</b>(8), <b>lvrename</b>(8) <b>lvextend</b>(8), <b>lvreduce</b>(8), <b>lvdisplay</b>(8), <b>lvscan</b>(8)</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
LVM TOOLS 2.02.44-cvs (02-17-09)</td>
<td class="foot-os" align="right">
Sistina Software UK</td>
</tr>
</table>
</div>
</body>
</html>

