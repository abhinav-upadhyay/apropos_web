<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
MOUSED(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
MOUSED(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
MOUSED(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">moused</b> &#8212; <span class="desc">pass mouse data to mouse mux</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
moused</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;DPRacdfs</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;I</b> <i class="arg">file</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;F</b> <i class="arg">rate</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;r</b> <i class="arg">resolution</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;S</b> <i class="arg">baudrate</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;W</b> <i class="arg">devicename</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;a</b> <i class="arg">X</i>&#91;<span class="opt">,Y</span>&#93;</span>&#93; &#91;<span class="opt"><b class="flag">&#45;m</b> <i class="arg">N=M</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;w</b> <i class="arg">N</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;z</b> <i class="arg">target</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;t</b> <i class="arg">mousetype</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;3</b> &#91;<span class="opt"><b class="flag">&#45;E</b> <i class="arg">timeout</i></span>&#93;</span>&#93; <b class="flag">&#45;p</b> <i class="arg">port</i></td>
</tr>
</tbody>
</table>
<p>
<br>
<table class="synopsis">
<col style="width: 6.00ex;">
<col>
<tbody>
<tr>
<td>
moused</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;Pd</b></span>&#93; <b class="flag">&#45;p</b> <i class="arg">port</i> <b class="flag">&#45;i</b> <i class="arg">info</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The mouse daemon <b class="name">moused</b> and the console driver work together to support access to serial mice from user programs. They virtualize the mouse and provide user programs with mouse data in the standard format (see <a class="link-man" href="../html4/wsmouse.html">wsmouse(4)</a>).<p>
<b class="name">moused</b> listens to the specified port for mouse data, interprets and then passes it via ioctls to the console driver. It reports translation movement, button press/release events and movement of the roller or the wheel if available. The roller/wheel movement is reported as &#8220;Z&#8221; axis movement.<p>
If <b class="name">moused</b> receives the signal <span class="define">SIGHUP</span>, it will reopen the mouse port and reinitializes itself. Useful if the mouse is attached/detached while the system is suspended.<p>
The following options are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;3</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Emulate the third (middle) button for 2-button mice. It is emulated by pressing the left and right physical buttons simultaneously.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;D</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Lower DTR on the serial port. This option is valid only if <i class="arg">mousesystems</i> is selected as the protocol type. The DTR line may need to be dropped for a 3-button mouse to operate in the <i class="arg">mousesystems</i> mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;E</b> <i class="arg">timeout</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When the third button emulation is enabled (see above), <b class="name">moused</b> waits <i class="arg">timeout</i> milliseconds at most before deciding whether two buttons are being pressed simultaneously. The default timeout is 100 milliseconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;F</b> <i class="arg">rate</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the report rate (reports per second) of the device if supported.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;I</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Write the process id of <b class="name">moused</b> in the specified file. Without this option, the process id will be stored in <i class="file">/var/run/moused.pid</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;P</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not start the Plug and Play COM device enumeration procedure when identifying the serial mouse. If this option is given together with the <b class="flag">&#45;i</b> option, <b class="name">moused</b> will not be able to print useful information for the serial mouse.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;R</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Lower RTS on the serial port. This option is valid only if <i class="arg">mousesystems</i> is selected as the protocol type by the <b class="flag">&#45;t</b> option below. It is often used with the <b class="flag">&#45;D</b> option above. Both RTS and DTR lines may need to be dropped for a 3-button mouse to operate in the <i class="arg">mousesystems</i> mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b> <i class="arg">baudrate</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Select the baudrate for the serial port (1200 to 9600). Not all serial mice support this option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;W</b> <i class="arg">devicename</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Select the <a class="link-man" href="../html4/wsmux.html">wsmux(4)</a> control device. The default is <i class="file">/dev/wsmuxctl0</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;a</b> <i class="arg">X</i>&#91;<span class="opt">,Y</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Accelerate or decelerate the mouse input. This is a linear acceleration only. Values less than 1.0 slow down movement, values greater than 1.0 speed it up. Specifying only one value sets the acceleration for both axes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Some mice report middle button down events as if the left and right buttons are being pressed. This option handles this.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enable debugging messages.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not become a daemon and instead run as a foreground process. Useful for testing and debugging.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;i</b> <i class="arg">info</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print specified information and quit. Available pieces of information are:<p>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">port</i></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Port (device file) name, e.g. <i class="file">/dev/tty00</i>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">if</i></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Interface type: serial, bus, inport or ps/2.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">type</i></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Protocol type. It is one of the types listed under the <b class="flag">&#45;t</b> option below.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">model</i></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Mouse model. <b class="name">moused</b> may not always be able to identify the model.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">all</i></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
All of the above items. Print port, interface, type and model in this order in one line.</dd>
</dl>
<p>
If <b class="name">moused</b> cannot determine the requested information, it prints ``unknown'' or ``generic''.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;m</b> <i class="arg">N=M</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Assign the physical button <i class="arg">M</i> to the logical button <i class="arg">N</i>. You may specify as many instances of this option as you like. More than one physical button may be assigned to a logical button at the same time. In this case the logical button will be down, if either of the assigned physical buttons is held down. Do not put space around `='.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">port</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">port</i> to communicate with the mouse.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;r</b> <i class="arg">resolution</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the resolution of the device; in Dots Per Inch, or <i class="arg">low</i>, <i class="arg">medium-low</i>, <i class="arg">medium-high</i> or <i class="arg">high</i>. This option may not be supported by all the device.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Select a baudrate of 9600 for the serial line. Not all serial mice support this option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b> <i class="arg">type</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the protocol type of the mouse attached to the port. You may explicitly specify a type listed below, or use <i class="arg">auto</i> to let <b class="name">moused</b> automatically select an appropriate protocol for the given mouse. If you entirely omit this option on the command line, <b class="flag">&#45;t</b> <i class="arg">auto</i> is assumed. Under normal circumstances, you need to use this option only if <b class="name">moused</b> is not able to detect the protocol automatically.<p>
Note that if a protocol type is specified with this option, the <b class="flag">&#45;P</b> option above is implied and Plug and Play COM device enumeration procedure will be disabled.<p>
Valid types for this option are listed below.<p>
For the serial mouse:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">microsoft</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Microsoft serial mouse protocol. Most 2-button serial mice use this protocol.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">intellimouse</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Microsoft IntelliMouse protocol. Genius NetMouse, ASCII Mie Mouse, Logitech MouseMan+ and FirstMouse+ use this protocol too. Other mice with a roller/wheel may be compatible with this protocol.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">mousesystems</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
MouseSystems 5-byte protocol. 3-button mice may use this protocol.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">mmseries</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
MM Series mouse protocol.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">logitech</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Logitech mouse protocol. Note that this is for old Logitech models. <i class="arg">mouseman</i> or <i class="arg">intellimouse</i> should be specified for newer models.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">mouseman</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Logitech MouseMan and TrackMan protocol. Some 3-button mice may be compatible with this protocol. Note that MouseMan+ and FirstMouse+ use <i class="arg">intellimouse</i> protocol rather than this one.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">glidepoint</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
ALPS GlidePoint protocol.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">thinkingmouse</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Kensington ThinkingMouse protocol.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">mmhitab</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Hitachi tablet protocol.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">x10mouseremote</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
X10 MouseRemote.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">kidspad</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Genius Kidspad and Easypad protocol.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">versapad</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Interlink VersaPad protocol.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;w</b> <i class="arg">N</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Make the physical button <i class="arg">N</i> act as the wheel mode button. While this button is pressed, X and Y axis movement is reported to be zero and the Y axis movement is mapped to Z axis. You may further map the Z axis movement to virtual buttons by the <b class="flag">&#45;z</b> option below.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;z</b> <i class="arg">target</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Map Z axis (roller/wheel) movement to another axis or to virtual buttons. Valid <i class="arg">target</i> maybe:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">x</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">y</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
X or Y axis movement will be reported when the Z axis movement is detected.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">N</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Report down events for the virtual buttons <i class="arg">N</i> and <i class="arg">N+1</i> respectively when negative and positive Z axis movement is detected. There do not need to be physical buttons <i class="arg">N</i> and <i class="arg">N+1</i>. Note that mapping to logical buttons is carried out after mapping from the Z axis movement to the virtual buttons is done.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">N1 N2</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Report down events for the virtual buttons <i class="arg">N1</i> and <i class="arg">N2</i> respectively when negative and positive Z axis movement is detected.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">N1 N2 N3 N4</i></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
This is useful for the mouse with two wheels of which the second wheel is used to generate horizontal scroll action, and for the mouse which has a knob or a stick which can detect the horizontal force applied by the user.<p>
The motion of the second wheel will be mapped to the buttons <i class="arg">N3</i>, for the negative direction, and <i class="arg">N4</i>, for the positive direction. If the buttons <i class="arg">N3</i> and <i class="arg">N4</i> actually exist in this mouse, their actions will not be detected.<p>
Note that horizontal movement or second roller/wheel movement may not always be detected, because there appears to be no accepted standard as to how it is encoded.<p>
Note also that some mice think left is the negative horizontal direction, others may think otherwise. Moreover, there are some mice whose two wheels are both mounted vertically, and the direction of the second vertical wheel does not match the first one's.</dd>
</dl>
</dd>
</dl>
<div class="subsection">
<h2 id="x4d756c7469706c65204d696365">Multiple Mice</h2> As many instances of <b class="name">moused</b> as the number of mice attached to the system may be run simultaneously; one instance for each serial mouse.</div>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/dev/wsmuxctl0</i></dt>
<dd class="list-tag" style="margin-left: 19.00ex;">
default device to control mouse mux</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/run/moused.pid</i></dt>
<dd class="list-tag" style="margin-left: 19.00ex;">
process id of the currently running <b class="name">moused</b></dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1><blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">moused -p /dev/tty00 -i type</code></div>
</blockquote>
<p>
Let <b class="name">moused</b> determine the protocol type of the mouse at the serial port <i class="file">/dev/tty00</i>. If successful, <b class="name">moused</b> will print the type, otherwise it will say ``unknown''.<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">moused -p /dev/tty00</code></div>
</blockquote>
<p>
If <b class="name">moused</b> is able to identify the protocol type of the mouse at the specified port automatically, you can start the daemon without the <b class="flag">&#45;t</b> option and enable the mouse pointer in the text console as above.<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">moused -p /dev/tty01 -t microsoft</code></div>
</blockquote>
<p>
Start <b class="name">moused</b> on the serial port <i class="file">/dev/tty01</i>. The protocol type <i class="arg">microsoft</i> is explicitly specified by the <b class="flag">&#45;t</b> option.<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">moused -p /dev/tty01 -m 1=3 -m 3=1</code></div>
</blockquote>
<p>
Assign the physical button 3 (right button) to the logical button 1 (logical left) and the physical button 1 (left) to the logical button 3 (logical right). This will effectively swap the left and right buttons.<p>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">moused -p /dev/tty01 -t intellimouse -z 4</code></div>
</blockquote>
<p>
Report negative Z axis (roller) movement as the button 4 pressed and positive Z axis movement as the button 5 pressed.<p>
The mouse daemon is normally enabled by setting <i class="file">moused=YES</i> in <i class="file">/etc/rc.conf</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/wsmouse.html">wsmouse(4)</a>, <a class="link-man" href="../html4/wsmux.html">wsmux(4)</a>, <a class="link-man" href="../html5/rc.conf.html">rc.conf(5)</a>, <a class="link-man" href="../html8/wsmoused.html">wsmoused(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <b class="name">moused</b> partially supports &#8220;Plug and Play External COM Device Specification&#8221; in order to support PnP serial mice. However, due to various degrees of conformance to the specification by existing serial mice, it does not strictly follow version 1.0 of the standard. Even with this less strict approach, it may not always determine an appropriate protocol type for the given serial mouse.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The mouse daemon <b class="name">moused</b> first appeared in <span class="unix">FreeBSD&#160;2.2</span> and <span class="unix">NetBSD&#160;1.6</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <b class="name">moused</b> was written by <span class="author">Michael Smith</span> &#60;msmith@FreeBSD.org&#62;. This manual page was written by <span class="author">Mike Pritchard</span> &#60;mpp@FreeBSD.org&#62;. The daemon and manual page have since been updated by <span class="author">Kazutaka Yokota</span> &#60;yokota@FreeBSD.org&#62;. The <span class="unix">NetBSD</span> port was done by <span class="author">Lennart Augustsson</span> &#60;augustss@NetBSD.org&#62;.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Many pad devices behave as if the first (left) button were pressed if the user `taps' the surface of the pad. In contrast, some ALPS GlidePoint and Interlink VersaPad models treat the tapping action as fourth button events. Use the option ``-m 1=4'' for these models to obtain the same effect as the other pad devices.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
October 29, 2001</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

