<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
NEWFS_UDF(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
NEWFS_UDF(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
NEWFS_UDF(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">newfs_udf</b> &#8212; <span class="desc">construct a new UDF file system</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 9.00ex;">
<col>
<tbody>
<tr>
<td>
newfs_udf</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;cFM</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;B</b> <i class="arg">blockingsize</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;L</b> <i class="arg">loglabel</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;P</b> <i class="arg">discid</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b> <i class="arg">percentage</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;S</b> <i class="arg">sectorsize</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">size</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;t</b> <i class="arg">gmtoff</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;V</b> <i class="arg">max_udf</i></span>&#93; &#91;<span class="opt"><b class="flag">&#45;v</b> <i class="arg">min_udf</i></span>&#93; <i class="arg">special</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">newfs_udf</b> utility creates an UDF file system on device <i class="arg">special</i> suitable for the media currently inserted.<p>
The options are as follow:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;B</b> <i class="arg">blockingsize</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When creating image files, specify the blocking size or packetsize of the media to <i class="arg">blockingsize</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Perform a crude surface check first to weed out disc faults on rewritable media.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;F</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force file system construction on non-empty recordable media or create an image file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;L</b> <i class="arg">loglabel</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the disc logical label to the specified <i class="arg">loglabel</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;M</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Disable metadata partition creation when selected UDF version or media dictates this. For strict conformance and interchange, don't disable this unless its causing problems.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;P</b> <i class="arg">discid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the physical disc label to the specified <i class="arg">discid</i>.<p>
Prepend <i class="arg">discid</i> with volsetname separated with a ':' if wanted. For strict conformance and interchange, don't set this manually unless it has a unique hex number in the first 8 character positions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b> <i class="arg">percentage</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Percentage of partition to be initially reserved for metadata on the Metadata partition. It defaults to 20 %.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;S</b> <i class="arg">sectorsize</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the sectorsize for image files. For strict conformance and interchange, don't set this manually.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">size</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
For image files, set the file size to the humanized size <i class="arg">size</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;t</b> <i class="arg">gmtoff</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the specified <i class="arg">gmtoff</i> as gmt time offset for recording times on the disc.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;V</b> <i class="arg">max_udf</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Select <i class="arg">max_udf</i> as the maximum UDF version to be supported. For UDF version 2.50, use &#8220;0x250&#8221; or &#8220;2.50&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;v</b> <i class="arg">min_udf</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Select <i class="arg">min_udf</i> as the minimum UDF version to be supported. For UDF version 2.01, use &#8220;0x201&#8221; or &#8220;2.01&#8221;.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> The UDF file system is defined for the entire optical medium. It can only function on the entire CD/DVD/BD so the raw partition has to be specified for read/write actions. For <b class="name">newfs_udf</b> this means specifying the raw device with the raw partition, i.e. <i class="file">/dev/rcd0d</i> or <i class="file">/dev/rcd0c</i>.<p>
Some rewritable optical media needs to be formatted first before it can be used by UDF. This can be done using <a class="link-man" href="../html8/mmcformat.html">mmcformat(8)</a>.<p>
The default UDF version is version 2.01.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Create a file system, using the specified names on the device <i class="file">/dev/rcd0d</i> with the default UDF version :<p>
<pre style="margin-left: 5.00ex;" class="lit display">
newfs_udf -P "Encyclopedia:copy-nr-1" -L "volume 2" /dev/rcd0d</pre>
<p>
Create a 4.8 GiB sparse file and configure it using <a class="link-man" href="../html8/vnconfig.html">vnconfig(8)</a> to be a 2048 sector size disc and create a new UDF file system on <i class="file">/dev/rvnd0d</i> :<p>
<pre style="margin-left: 5.00ex;" class="lit display">
dd if=/dev/zero of=bigdisk.2048.udf seek=9999999 count=1 
vnconfig -c vnd0 bigdisk.2048.udf 2048/1/1/1 
newfs_udf -L bigdisk /dev/rvnd0d</pre>
<p>
Create a 2 GiB file and create a new UDF file system on it using the default 512 byte sector size :<p>
<pre style="margin-left: 5.00ex;" class="lit display">
newfs_udf -L bigdisk2 -F -s 2G bigdisk2.iso</pre>
<p>
Create a 200 MiB file and create a new UDF file system on it using a sector size of 2048 :<p>
<pre style="margin-left: 5.00ex;" class="lit display">
newfs_udf -L bigdisk2 -F -s 200M -S 2048 bigdisk3.iso</pre>
<p>
Create a new UDF file system on the inserted USB stick using its native sectorsize of 512 :<p>
<pre style="margin-left: 5.00ex;" class="lit display">
newfs_udf -L "My USB stick" /dev/rsd0d</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/disktab.html">disktab(5)</a>, <a class="link-man" href="../html8/disklabel.html">disklabel(8)</a>, <a class="link-man" href="../html8/mmcformat.html">mmcformat(8)</a>, <a class="link-man" href="../html8/newfs.html">newfs(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">newfs_udf</b> command first appeared in <span class="unix">NetBSD&#160;5.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Reinoud Zandijk</span> &#60;<a class="link-mail" href="mailto:reinoud@NetBSD.org">reinoud@NetBSD.org</a>&#62;</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The <i class="arg">P</i> and the <i class="arg">S</i> arguments have changed meaning. The meaning of <i class="arg">S</i> has been merged into <i class="arg">P</i> since <span class="unix">NetBSD&#160;6.1</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 2, 2013</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

