<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
zfs(1M)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
zfs(1M)</td>
<td class="head-vol" align="center">
System Administration Commands</td>
<td class="head-rtitle" align="right">
zfs(1M)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> zfs &#45; configures ZFS file systems</div>
<div class="section">
<h1>SYNOPSIS</h1><br>
<b>zfs</b> [<b>-?</b>]<br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>create</b> [[<b>-o</b> property=<i>value</i>]]... <i>filesystem</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>create</b> [<b>-s</b>] [<b>-b</b> <i>blocksize</i>] [[<b>-o</b> property=<i>value</i>]]... <b>-V</b> <i>size</i> <i>volume</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>destroy</b> [<b>-rRf</b>] <i>filesystem</i>|<i>volume</i>|<i>snapshot</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>clone</b> <i>snapshot</i> <i>filesystem</i>|<i>volume</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>promote</b> <i>filesystem</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>rename</b> <i>filesystem</i>|<i>volume</i>|<i>snapshot</i> <br>
    [<i>filesystem</i>|<i>volume</i>|<i>snapshot</i>]<br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>snapshot</b> [<b>-r</b>] <i>filesystem@name</i>|<i>volume@name</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>rollback</b> [<b>-rRf</b>] <i>snapshot</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>list</b> [<b>-rH</b>] [<b>-o</b> <i>prop</i>[,<i>prop</i>] ]... [ <b>-t</b> <i>type</i>[,<i>type</i>]...]<br>
    [ <b>-s</b> <i>prop</i> [<b>-s</b> <i>prop</i>]... [ <b>-S</b> <i>prop</i> [<b>-S</b> <i>prop</i>]... <br>
    [<i>filesystem</i>|<i>volume</i>|<i>snapshot</i>|<i>/pathname</i>|.<i>/pathname</i> ...<br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>set</b> <i>property</i>=<i>value</i> <i>filesystem</i>|<i>volume</i> ...<br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>get</b> [<b>-rHp</b>] [<b>-o</b> <i>field</i>[,<i>field</i>]...] <br>
    [<b>-s</b> <i>source</i>[,<i>source</i>]...] <i>all</i> | <i>property</i>[,<i>property</i>]...<br>
     <i>filesystem</i>|<i>volume</i>|<i>snapshot</i> ...<br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>inherit</b> [<b>-r</b>] <i>property</i> <i>filesystem</i>|<i>volume</i>... ...<br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>mount</b> <br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>mount</b> [<b>-o </b><i>options</i>] [<b>-O</b>] <b>-a</b><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>mount</b> [<b>-o </b><i>options</i>] [<b>-O</b>] <i>filesystem</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>unmount</b> [<b>-f</b>] <b>-a</b><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>unmount</b> [<b>-f</b>] <b></b><i>filesystem</i>|<i>mountpoint</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>share</b> <b>-a</b><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>share</b> <i>filesystem</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>unshare</b> [<b>-f</b>] <b>-a</b><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>unshare</b> [<b>-f</b>] <b></b><i>filesystem</i>|<i>mountpoint</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>send</b> [<b>-i</b> <i>snapshot1</i>] <b></b><i>snapshot2</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>receive</b> [<b>-vnF</b> ] <i>filesystem</i>|<i>volume</i>|<i>snapshot</i><br>
<div style="height: 1.00em;">
&#160;</div>
<p>
<br>
<b>zfs</b> <b>receive</b> [<b>-vnF</b> ] <b>-d</b> <b></b><i>filesystem</i><br>
<p>
<br>
<b>zfs</b> <b>jail</b> <b>jailid</b> <b></b><i>filesystem</i><br>
<p>
<br>
<b>zfs</b> <b>unjail</b> <b>jailid</b> <b></b><i>filesystem</i><br>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <b>zfs</b> command configures <b>ZFS</b> datasets within a <b>ZFS</b> storage pool, as described in <b>zpool</b>(1M). A dataset is identified by a unique path within the  <b>ZFS</b> namespace. For example:<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
pool/{filesystem,volume,snapshot}<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
where the maximum length of a dataset name is <b>MAXNAMELEN</b> (256 bytes).<p>
A dataset can be one of the following:<div style="height: 1.00em;">
&#160;</div>
<b></b><i>file system</i><div style="margin-left: 15.00ex;">
A standard <b>POSIX</b> file system. <b>ZFS</b> file systems can be mounted within the standard file system namespace and behave like any other file system.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><i>volume</i><div style="margin-left: 15.00ex;">
A logical volume exported as a raw or block device. This type of dataset should only be used under special circumstances. File systems are typically used in most environments. Volumes cannot be used in a non-global zone.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><i>snapshot</i><div style="margin-left: 15.00ex;">
A read-only version of a file system or volume at a given point in time. It is specified as <i>filesystem@name</i> or <i>volume@name</i>.</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ZFS File System Hierarchy</h2> A  <b>ZFS</b> storage pool is a logical collection of devices that provide space for datasets. A storage pool is also the root of the <b>ZFS</b> file system hierarchy.<p>
The root of the pool can be accessed as a file system, such as mounting and unmounting, taking snapshots, and setting properties. The physical storage characteristics, however, are managed by the <b>zpool</b>(1M) command.<p>
See <b>zpool</b>(1M) for more information on creating and administering pools.</div>
<div class="subsection">
<h2>Snapshots</h2> A snapshot is a read-only copy of a file system or volume. Snapshots can be created extremely quickly, and initially consume no additional space within the pool. As data within the active dataset changes, the snapshot consumes more data than would otherwise be shared with the active dataset.<p>
Snapshots can have arbitrary names. Snapshots of volumes can be cloned or rolled back, but cannot be accessed independently.<p>
File system snapshots can be accessed under the ".zfs/snapshot" directory in the root of the file system. Snapshots are automatically mounted on demand and may be unmounted at regular intervals. The visibility of the ".zfs" directory can be controlled by the "snapdir" property.</div>
<div class="subsection">
<h2>Clones</h2> A clone is a writable volume or file system whose initial contents are the same as another dataset. As with snapshots, creating a clone is nearly instantaneous, and initially consumes no additional space.<p>
Clones can only be created from a snapshot. When a snapshot is cloned, it creates an implicit dependency between the parent and child. Even though the clone is created somewhere else in the dataset hierarchy, the original snapshot cannot be destroyed as long as a clone exists. The "origin" property exposes this dependency, and the  <b>destroy</b> command lists any such dependencies, if they exist.<p>
The clone parent-child dependency relationship can be reversed by using the "<b>promote</b>" subcommand. This causes the "origin" file system to become a clone of the specified file system, which makes it possible to destroy the file system that the clone was created from.</div>
<div class="subsection">
<h2>Mount Points</h2> Creating a  <b>ZFS</b> file system is a simple operation, so the number of file systems per system will likely be numerous. To cope with this, <b>ZFS</b> automatically manages mounting and unmounting file systems without the need to edit the <b>/etc/vfstab</b> file. All automatically managed file systems are mounted by  <b>ZFS</b> at boot time.<p>
By default, file systems are mounted under <b>/</b><i>path</i>, where <i>path</i> is the name of the file system in the <b>ZFS</b> namespace. Directories are created and destroyed as needed.<p>
A file system can also have a mount point set in the "mountpoint" property. This directory is created as needed, and <b>ZFS</b> automatically mounts the file system when the "<b>zfs mount -a</b>" command is invoked (without editing <b>/etc/vfstab</b>). The mountpoint property can be inherited, so if <b>pool/home</b> has a mount point of <b>/export/stuff</b>, then <b>pool/home/user</b> automatically inherits a mount point of <b>/export/stuff/user</b>.<p>
A file system mountpoint property of "none" prevents the file system from being mounted.<p>
If needed, <b>ZFS</b> file systems can also be managed with traditional tools (<b>mount</b>, <b>umount</b>, <b>/etc/vfstab</b>). If a file system's mount point is set to "legacy", <b>ZFS</b> makes no attempt to manage the file system, and the administrator is responsible for mounting and unmounting the file system.</div>
<div class="subsection">
<h2>Zones</h2> A  <b>ZFS</b> file system can be added to a non-global zone by using zonecfg's "<b>add fs</b>" subcommand. A <b>ZFS</b> file system that is added to a non-global zone must have its mountpoint property set to legacy.<p>
The physical properties of an added file system are controlled by the global administrator. However, the zone administrator can create, modify, or destroy files within the added file system, depending on how the file system is mounted.<p>
A dataset can also be delegated to a non-global zone by using zonecfg's "<b>add dataset</b>" subcommand. You cannot delegate a dataset to one zone and the children of the same dataset to another zone. The zone administrator can change properties of the dataset or any of its children. However, the "quota" property is controlled by the global administrator.<p>
A <b>ZFS</b> volume can be added as a device to a non-global zone by using zonecfg's "<b>add device</b>" subcommand. However, its physical properties can only be modified by the global administrator.<p>
For more information about <b>zonecfg</b> syntax, see <b>zonecfg</b>(1M).<p>
After a dataset is delegated to a non-global zone, the "zoned" property is automatically set. A zoned file system cannot be mounted in the global zone, since the zone administrator might have to set the mount point to an unacceptable value.<p>
The global administrator can forcibly clear the "zoned" property, though this should be done with extreme care. The global administrator should verify that all the mount points are acceptable before clearing the property.</div>
<div class="subsection">
<h2>Native Properties</h2> Properties are divided into two types, native properties and user defined properties. Native properties either export internal statistics or control  <b>ZFS</b> behavior. In addition, native properties are either editable or read-only. User properties have no effect on <b>ZFS</b> behavior, but you can use them to annotate datasets in a way that is meaningful in your environment. For more information about user properties, see the "User Properties" section.<p>
Every dataset has a set of properties that export statistics about the dataset as well as control various behavior. Properties are inherited from the parent unless overridden by the child. Snapshot properties can not be edited; they always inherit their inheritable properties. Properties that are not applicable to snapshots are not displayed.<p>
The values of numeric properties can be specified using the following human-readable suffixes (for example, "k", "KB", "M", "Gb", etc, up to Z for zettabyte). The following are all valid (and equal) specifications:<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
"1536M", "1.5g", "1.50GB".<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
The values of non-numeric properties are case sensitive and must be lowercase, except for "mountpoint" and "sharenfs".<p>
The first set of properties consist of read-only statistics about the dataset. These properties cannot be set, nor are they inherited. Native properties apply to all dataset types unless otherwise noted.<div style="height: 1.00em;">
&#160;</div>
<b>type</b><div style="margin-left: 17.00ex;">
The type of dataset: "filesystem", "volume", "snapshot", or "clone".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>creation</b><div style="margin-left: 17.00ex;">
The time this dataset was created.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>used</b><div style="margin-left: 17.00ex;">
The amount of space consumed by this dataset and all its descendants. This is the value that is checked against this dataset's quota and reservation. The space used does not include this dataset's reservation, but does take into account the reservations of any descendant datasets. The amount of space that a dataset consumes from its parent, as well as the amount of space that will be freed if this dataset is recursively destroyed, is the greater of its space used and its reservation.<div style="height: 1.00em;">
&#160;</div>
When snapshots (see the "Snapshots" section) are created, their space is initially shared between the snapshot and the file system, and possibly with previous snapshots. As the file system changes, space that was previously shared becomes unique to the snapshot, and counted in the snapshot's space used. Additionally, deleting snapshots can increase the amount of space unique to (and used by) other snapshots.<div style="height: 1.00em;">
&#160;</div>
The amount of space used, available, or referenced does not take into account pending changes. Pending changes are generally accounted for within a few seconds. Committing a change to a disk using <b>fsync</b>(3c) or <b>O_SYNC</b> does not necessarily guarantee that the space usage information is updated immediately.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>available</b><div style="margin-left: 17.00ex;">
The amount of space available to the dataset and all its children, assuming that there is no other activity in the pool. Because space is shared within a pool, availability can be limited by any number of factors, including physical pool size, quotas, reservations, or other datasets within the pool.<div style="height: 1.00em;">
&#160;</div>
This property can also be referred to by its shortened column name, "avail".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>referenced</b><div style="margin-left: 17.00ex;">
The amount of data that is accessible by this dataset, which may or may not be shared with other datasets in the pool. When a snapshot or clone is created, it initially references the same amount of space as the file system or snapshot it was created from, since its contents are identical.<div style="height: 1.00em;">
&#160;</div>
This property can also be referred to by its shortened column name, "refer".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>compressratio</b><div style="margin-left: 17.00ex;">
The compression ratio achieved for this dataset, expressed as a multiplier. Compression can be turned on by running "zfs set compression=on <i>dataset</i>". The default value is "off".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>mounted</b><div style="margin-left: 17.00ex;">
For file systems, indicates whether the file system is currently mounted. This property can be either "yes" or "no".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>origin</b><div style="margin-left: 17.00ex;">
For cloned file systems or volumes, the snapshot from which the clone was created. The origin cannot be destroyed (even with the <b>-r</b> or <b>-f</b> options) so long as a clone exists.</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
The following two properties can be set to control the way space is allocated between datasets. These properties are not inherited, but do affect their descendants.<div style="height: 1.00em;">
&#160;</div>
<b>quota=</b><i>size</i> | <i>none</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Limits the amount of space a dataset and its descendants can consume. This property enforces a hard limit on the amount of space used. This includes all space consumed by descendants, including file systems and snapshots. Setting a quota on a descendant of a dataset that already has a quota does not override the ancestor's quota, but rather imposes an additional limit.<div style="height: 1.00em;">
&#160;</div>
Quotas cannot be set on volumes, as the "volsize" property acts as an implicit quota.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>reservation=</b><i>size</i> | <i>none</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
The minimum amount of space guaranteed to a dataset and its descendants. When the amount of space used is below this value, the dataset is treated as if it were taking up the amount of space specified by its reservation. Reservations are accounted for in the parent datasets' space used, and count against the parent datasets' quotas and reservations.<div style="height: 1.00em;">
&#160;</div>
This property can also be referred to by its shortened column name, "reserv".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>volsize=</b><i>size</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
For volumes, specifies the logical size of the volume. By default, creating a volume establishes a reservation of equal size. Any changes to <b>volsize</b> are reflected in an equivalent change to the reservation. The <b>volsize</b> can only be set to a multiple of  <b>volblocksize</b>, and cannot be zero.<div style="height: 1.00em;">
&#160;</div>
The reservation is kept equal to the volume's logical size to prevent unexpected behavior for consumers. Without the reservation, the volume could run out of space, resulting in undefined behavior or data corruption, depending on how the volume is used. These effects can also occur when the volume size is changed while it is in use (particularly when shrinking the size). Extreme care should be used when adjusting the volume size.<div style="height: 1.00em;">
&#160;</div>
Though not recommended, a "sparse volume" (also known as "thin provisioning") can be created by specifying the <b>-s</b> option to the "<b>zfs create -V</b>" command, or by changing the reservation after the volume has been created. A "sparse volume" is a volume where the reservation is less then the volume size. Consequently, writes to a sparse volume can fail with  <b>ENOSPC</b> when the pool is low on space. For a sparse volume, changes to <b>volsize</b> are not reflected in the reservation.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>volblocksize=</b><i>blocksize</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
For volumes, specifies the block size of the volume. The <b>blocksize</b> cannot be changed once the volume has been written, so it should be set at volume creation time. The default <b>blocksize</b> for volumes is 8 Kbytes. Any power of 2 from 512 bytes to 128 Kbytes is valid.<div style="height: 1.00em;">
&#160;</div>
This property can also be referred to by its shortened column name, "volblock".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>recordsize=</b><i>size</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Specifies a suggested block size for files in the file system. This property is designed solely for use with database workloads that access files in fixed-size records. <b>ZFS</b> automatically tunes block sizes according to internal algorithms optimized for typical access patterns.<div style="height: 1.00em;">
&#160;</div>
For databases that create very large files but access them in small random chunks, these algorithms may be suboptimal. Specifying a "recordsize" greater than or equal to the record size of the database can result in significant performance gains. Use of this property for general purpose file systems is strongly discouraged, and may adversely affect performance.<div style="height: 1.00em;">
&#160;</div>
The size specified must be a power of two greater than or equal to 512 and less than or equal to 128 Kbytes.<div style="height: 1.00em;">
&#160;</div>
Changing the file system's <b>recordsize</b> only affects files created afterward; existing files are unaffected.<div style="height: 1.00em;">
&#160;</div>
This property can also be referred to by its shortened column name, "recsize".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>mountpoint=</b><i>path</i> | <i>none</i> | <i>legacy</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls the mount point used for this file system. See the "Mount Points" section for more information on how this property is used.<div style="height: 1.00em;">
&#160;</div>
When the mountpoint property is changed for a file system, the file system and any children that inherit the mount point are unmounted. If the new value is "legacy", then they remain unmounted. Otherwise, they are automatically remounted in the new location if the property was previously "legacy" or "none", or if they were mounted before the property was changed. In addition, any shared file systems are unshared and shared in the new location.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>sharenfs=</b><i>on</i> | <i>off</i> | <i>opts</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether the file system is shared via <b>NFS</b>, and what options are used. A file system with a sharenfs property of "off" is managed through traditional tools such as <b>share</b>(1M), <b>unshare</b>(1M), and <b>dfstab</b>(4). Otherwise, the file system is automatically shared and unshared with the "<b>zfs share</b>" and "<b>zfs unshare</b>" commands. If the property is set to "on", the <b>share</b>(1M) command is invoked with no options. Otherwise, the <b>share</b>(1M) command is invoked with options equivalent to the contents of this property.<div style="height: 1.00em;">
&#160;</div>
When the "sharenfs" property is changed for a dataset, the dataset and any children inheriting the property are re-shared with the new options, only if the property was previously "off", or if they were shared before the property was changed. If the new property is "off", the file systems are unshared.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>shareiscsi=</b><i>on</i> | <i>off</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Like the "sharenfs" property, "shareiscsi" indicates whether a <b>ZFS</b> volume is exported as an <b>iSCSI</b> target. The acceptable values for this property are "on", "off", and "type=disk". The default value is "off". In the future, other target types might be supported. For example, "tape".<div style="height: 1.00em;">
&#160;</div>
You might want to set "shareiscsi=on" for a file system so that all <b>ZFS</b> volumes within the file system are shared by default. Setting this property on a file system has no direct effect, however.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>checksum=</b><i>on</i> | <i>off</i> | <i>fletcher2</i>, | <i>fletcher4</i> | <i>sha256</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls the checksum used to verify data integrity. The default value is "on", which automatically selects an appropriate algorithm (currently, <i>fletcher2</i>, but this may change in future releases). The value "off" disables integrity checking on user data. Disabling checksums is NOT a recommended practice.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>compression=</b><i>on</i> | <i>off</i> | <i>lzjb</i> | <i>gzip</i> | <i>gzip-N</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls the compression algorithm used for this dataset. The "lzjb" compression algorithm is optimized for performance while providing decent data compression. Setting compression to "on" uses the "lzjb" compression algorithm. The "gzip" compression algorithm uses the same compression as the  <b>gzip</b>(1) command.  You can specify the "gzip" level by using the value "gzip-<i>N</i>", where  <i>N</i> is an integer from 1 (fastest) to 9 (best compression ratio). Currently, "gzip" is equivalent to "gzip-6" (which is also the default for <b>gzip</b>(1)).<div style="height: 1.00em;">
&#160;</div>
This property can also be referred to by its shortened column name "compress".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>atime=</b><i>on</i> | <i>off</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether the access time for files is updated when they are read. Turning this property off avoids producing write traffic when reading files and can result in significant performance gains, though it might confuse mailers and other similar utilities. The default value is "on".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>devices=</b><i>on</i> | <i>off</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether device nodes can be opened on this file system. The default value is "on".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>exec=</b><i>on</i> | <i>off</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether processes can be executed from within this file system. The default value is "on".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>setuid=</b><i>on</i> | <i>off</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether the set-<b>UID</b> bit is respected for the file system. The default value is "on".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>readonly=</b><i>on</i> | <i>off</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether this dataset can be modified. The default value is "off".<div style="height: 1.00em;">
&#160;</div>
This property can also be referred to by its shortened column name, "rdonly".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>zoned=</b><i>on</i> | <i>off</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether the dataset is managed from a non-global zone. See the "Zones" section for more information. The default value is "off".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>snapdir=</b><i>hidden</i> | <i>visible</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether the ".zfs" directory is hidden or visible in the root of the file system as discussed in the "Snapshots" section. The default value is "hidden".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>aclmode=</b><b>discard</b> | <b>groupmask</b> | <b>passthrough</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls how an <b>ACL</b> is modified during <b>chmod</b>(2). A file system with an "aclmode" property of "<b>discard</b>" deletes all  <b>ACL</b> entries that do not represent the mode of the file. An "aclmode" property of "<b>groupmask</b>" (the default) reduces user or group permissions. The permissions are reduced, such that they are no greater than the group permission bits, unless it is a user entry that has the same  <b>UID</b> as the owner of the file or directory. In this case, the <b>ACL</b> permissions are reduced so that they are no greater than owner permission bits. A file system with an "aclmode" property of "<b>passthrough</b>" indicates that no changes will be made to the <b>ACL</b> other than generating the necessary <b>ACL</b> entries to represent the new mode of the file or directory.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>aclinherit=</b><b>discard</b> | <b>noallow</b> | <b>secure</b> | <b>passthrough</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls how <b>ACL</b> entries are inherited when files and directories are created. A file system with an "aclinherit" property of "<b>discard</b>" does not inherit any <b>ACL</b> entries. A file system with an "aclinherit" property value of " <b>noallow</b>" only inherits inheritable <b>ACL</b> entries that specify "deny" permissions. The property value "<b>secure</b>" (the default) removes the "<b>write_acl</b>" and "<b>write_owner</b>" permissions when the <b>ACL</b> entry is inherited. A file system with an "aclinherit" property value of "<b>passthrough</b>" inherits all inheritable <b>ACL</b> entries without any modifications made to the <b>ACL</b> entries when they are inherited.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>canmount=</b><b>on</b> | <b>off</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
If this property is set to "<b>off</b>", the file system cannot be mounted, and is ignored by "<b>zfs mount -a</b>". This is similar to setting the "mountpoint" property to "<b>none</b>", except that the dataset still has a normal "mountpoint" property which can be inherited. This allows datasets to be used solely as a mechanism to inherit properties. One use case is to have two logically separate datasets have the same mountpoint, so that the children of both datasets appear in the same directory, but may have different inherited characteristics. The default value is " <b>on</b>".<div style="height: 1.00em;">
&#160;</div>
This property is not inherited.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>xattr=</b><b>on</b> | <b>off</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether extended attributes are enabled for this file system. The default value is "<b>on</b>".</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>copies=</b><b>1</b> | <b>2</b> | <b>3</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls the number of copies of data stored for this dataset. These copies are in addition to any redundancy provided by the pool, for example, mirroring or raid-z. The copies are stored on different disks, if possible. The space used by multiple copies is charged to the associated file and dataset, changing the "used" property and counting against quotas and reservations.<div style="height: 1.00em;">
&#160;</div>
Changing this property only affects newly-written data. Therefore, set this property at file system creation time by using the "<b>-o</b> copies=" option.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>jailed=</b><i>on</i> | <i>off</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Controls whether the dataset is managed from within a jail. The default value is "off".</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>iscsioptions</h2> This read-only property, which is hidden, is used by the  <b>iSCSI</b> target daemon to store persistent information, such as the <b>IQN</b>. It cannot be viewed or modified using the <b>zfs</b> command. The contents are not intended for external consumers.</div>
<div class="subsection">
<h2>Temporary Mount Point Properties</h2> When a file system is mounted, either through  <b>mount</b>(1M) for legacy mounts or the "<b>zfs mount</b>" command for normal file systems, its mount options are set according to its properties. The correlation between properties and mount options is as follows:<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
    PROPERTY                MOUNT OPTION<br>
    devices                 devices/nodevices<br>
    exec                    exec/noexec<br>
    readonly                ro/rw<br>
    setuid                  setuid/nosetuid<br>
    xattr                   xattr/noxattr<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
In addition, these options can be set on a per-mount basis using the <b>-o</b> option, without affecting the property that is stored on disk. The values specified on the command line override the values stored in the dataset. The <b>-nosuid</b> option is an alias for "nodevices,nosetuid". These properties are reported as "temporary" by the " <b>zfs get</b>" command. If the properties are changed while the dataset is mounted, the new setting overrides any temporary settings.</div>
<div class="subsection">
<h2>User Properties</h2> In addition to the standard native properties,  <b>ZFS</b> supports arbitrary user properties. User properties have no effect on <b>ZFS</b> behavior, but applications or administrators can use them to annotate datasets.<p>
User property names must contain a colon (":") character, to distinguish them from native properties. They might contain lowercase letters, numbers, and the following punctuation characters: colon (":"), dash ("-"), period ("."), and underscore ("_"). The expected convention is that the property name is divided into two portions such as " <i>module</i>:<i>property</i>", but this namespace is not enforced by <b>ZFS</b>. User property names can be at most 256 characters, and cannot begin with a dash ("-").<p>
When making programmatic use of user properties, it is strongly suggested to use a reversed <b>DNS</b> domain name for the <i>module</i> component of property names to reduce the chance that two independently-developed packages use the same property name for different purposes. Property names beginning with "com.sun." are reserved for use by Sun Microsystems.<p>
The values of user properties are arbitrary strings, are always inherited, and are never validated. All of the commands that operate on properties ("zfs list", "zfs get", "zfs set", etc.) can be used to manipulate both native properties and user properties. Use the " <b>zfs inherit</b>" command to clear a user property . If the property is not defined in any parent dataset, it is removed entirely. Property values are limited to 1024 characters.</div>
<div class="subsection">
<h2>Volumes as Swap or Dump Devices</h2> To set up a swap area, create a  <b>ZFS</b> volume of a specific size and then enable swap on that device. For more information, see the EXAMPLES section.<p>
Do not swap to a file on a <b>ZFS</b> file system. A <b>ZFS</b> swap file configuration is not supported.<p>
Using a <b>ZFS</b> volume as a dump device is not supported.</div>
</div>
<div class="section">
<h1>SUBCOMMANDS</h1> All subcommands that modify state are logged persistently to the pool in their original form.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs ?</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Displays a help message.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs create</b> [[<b>-o</b> property=value]...] <i>filesystem</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Creates a new <b>ZFS</b> file system. The file system is automatically mounted according to the "mountpoint" property inherited from the parent.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-o</b> property=value<div style="margin-left: 21.00ex;">
Sets the specified property as if "<b>zfs set property=value</b>" was invoked at the same time the dataset was created. Any editable <b>ZFS</b> property can also be set at creation time. Multiple <b>-o</b> options can be specified. An error results if the same property is specified in multiple  <b>-o</b> options.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs create</b> [<b>-s</b>] [<b>-b</b> <i>blocksize</i>] [[<b>-o</b> property=value]...] <b>-V</b> <i>size</i> <i>volume</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Creates a volume of the given size. The volume is exported as a block device in <b>/dev/zvol/{dsk,rdsk}/</b><i>path</i>, where <i>path</i> is the name of the volume in the <b>ZFS</b> namespace. The size represents the logical size as exported by the device. By default, a reservation of equal size is created.<div style="height: 1.00em;">
&#160;</div>
<i>size</i> is automatically rounded up to the nearest 128 Kbytes to ensure that the volume has an integral number of blocks regardless of <i>blocksize</i>.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-s</b><div style="margin-left: 21.00ex;">
Creates a sparse volume with no reservation. See "volsize" in the Native Properties section for more information about sparse volumes.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-o</b> property=value<div style="margin-left: 21.00ex;">
Sets the specified property as if "<b>zfs set property=value</b>" was invoked at the same time the dataset was created. Any editable <b>ZFS</b> property can also be set at creation time. Multiple <b>-o</b> options can be specified. An error results if the same property is specified in multiple  <b>-o</b> options.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-b</b> <i>blocksize</i><div style="margin-left: 21.00ex;">
Equivalent to "<b></b><b>-o</b> <b>volblocksize=</b><i>blocksize</i>". If this option is specified in conjunction with "<b></b><b>-o</b> <b>volblocksize</b>", the resulting behavior is undefined.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs destroy</b> [<b>-rRf</b>] <i>filesystem</i>|<i>volume</i>|<i>snapshot</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Destroys the given dataset. By default, the command unshares any file systems that are currently shared, unmounts any file systems that are currently mounted, and refuses to destroy a dataset that has active dependents (children, snapshots, clones).<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-r</b><div style="margin-left: 6.00ex;">
Recursively destroy all children. If a snapshot is specified, destroy all snapshots with this name in descendant file systems.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-R</b><div style="margin-left: 6.00ex;">
Recursively destroy all dependents, including cloned file systems outside the target hierarchy. If a snapshot is specified, destroy all snapshots with this name in descendant file systems.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-f</b><div style="margin-left: 6.00ex;">
Force an unmount of any file systems using the "<b>unmount -f</b>" command. This option has no effect on non-file systems or unmounted file systems.</div>
<div style="height: 1.00em;">
&#160;</div>
Extreme care should be taken when applying either the <b>-r</b> or the <b>-f</b> options, as they can destroy large portions of a pool and cause unexpected behavior for mounted file systems in use.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs clone</b> <i>snapshot</i> <i>filesystem</i>|<i>volume</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Creates a clone of the given snapshot. See the "Clones" section for details. The target dataset can be located anywhere in the <b>ZFS</b> hierarchy, and is created as the same type as the original.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs promote</b> <i>filesystem</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Promotes a clone file system to no longer be dependent on its "origin" snapshot. This makes it possible to destroy the file system that the clone was created from. The clone parent-child dependency relationship is reversed, so that the "origin" file system becomes a clone of the specified file system.<div style="height: 1.00em;">
&#160;</div>
The snaphot that was cloned, and any snapshots previous to this snapshot, are now owned by the promoted clone. The space they use moves from the "origin" file system to the promoted clone, so enough space must be available to accommodate these snapshots. No new space is consumed by this operation, but the space accounting is adjusted. The promoted clone must not have any conflicting snapshot names of its own. The " <b>rename</b>" subcommand can be used to rename any conflicting snapshots.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs rename</b> <i>filesystem</i>|<i>volume</i>|<i>snapshot</i> <i>filesystem</i>|<i>volume</i>|<i>snapshot</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Renames the given dataset. The new target can be located anywhere in the <b>ZFS</b> hierarchy, with the exception of snapshots. Snapshots can only be renamed within the parent file system or volume. When renaming a snapshot, the parent file system of the snapshot does not need to be specified as part of the second argument. Renamed file systems can inherit new mount points, in which case they are unmounted and remounted at the new mount point.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs snapshot</b> [<b>-r</b>] <i>filesystem@name</i>|<i>volume@name</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Creates a snapshot with the given name. See the "Snapshots" section for details.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-r</b><div style="margin-left: 6.00ex;">
Recursively create snapshots of all descendant datasets. Snapshots are taken atomically, so that all recursive snapshots correspond to the same moment in time.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs rollback</b> [<b>-rRf</b>] <i>snapshot</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Roll back the given dataset to a previous snapshot. When a dataset is rolled back, all data that has changed since the snapshot is discarded, and the dataset reverts to the state at the time of the snapshot. By default, the command refuses to roll back to a snapshot other than the most recent one. In order to do so, all intermediate snapshots must be destroyed by specifying the  <b>-r</b> option. The file system is unmounted and remounted, if necessary.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-r</b><div style="margin-left: 6.00ex;">
Recursively destroy any snapshots more recent than the one specified.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-R</b><div style="margin-left: 6.00ex;">
Recursively destroy any more recent snapshots, as well as any clones of those snapshots.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-f</b><div style="margin-left: 6.00ex;">
Force an unmount of any file systems using the "<b>unmount -f</b>" command.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs</b> <b>list</b> [<b>-rH</b>] [<b>-o</b> <i>prop</i>[,<i>prop</i>] ]... [ <b>-t</b> <i>type</i>[,<i>type</i>]...] [ <b>-s</b> <i>prop</i> [<b>-s</b> <i>prop</i>]... [ <b>-S</b> <i>prop</i> [<b>-S</b> <i>prop</i>]... [<i>filesystem</i>|<i>volume</i>|<i>snapshot</i>|<i>/pathname</i>|.<i>/pathname</i> ...<div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Lists the property information for the given datasets in tabular form. If specified, you can list property information by the absolute pathname or the relative pathname. By default, all datasets are displayed and contain the following fields:<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
name,used,available,referenced,mountpoint<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-H</b><div style="margin-left: 11.00ex;">
Used for scripting mode. Do not print headers and separate fields by a single tab instead of arbitrary whitespace.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-r</b><div style="margin-left: 11.00ex;">
Recursively display any children of the dataset on the command line.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-o</b> <i>prop</i><div style="margin-left: 11.00ex;">
A comma-separated list of properties to display. The property must be one of the properties described in the "Native Properties" section, or the special value "name" to display the dataset name.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-s</b> <i>prop</i><div style="margin-left: 11.00ex;">
A property to use for sorting the output by column in ascending order based on the value of the property. The property must be one of the properties described in the "Properties" section, or the special value "name" to sort by the dataset name. Multiple properties can be specified at one time using multiple  <b>-s</b> property options. Multiple <b>-s</b> options are evaluated from left to right in decreasing order of importance.<div style="height: 1.00em;">
&#160;</div>
The following is a list of sorting criteria:<div style="margin-left: 4.00ex;">
<dl>
<dt>
o</dt>
<dd>
Numeric types sort in numeric order.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
o</dt>
<dd>
String types sort in alphabetical order.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
o</dt>
<dd>
Types inappropriate for a row sort that row to the literal bottom, regardless of the specified ordering.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
o</dt>
<dd>
If no sorting options are specified the existing behavior of "<b>zfs list</b>" is preserved.</dd>
</dl>
</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-S</b> <i>prop</i><div style="margin-left: 11.00ex;">
Same as the <b>-s</b> option, but sorts by property in descending order.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-t</b> <i>type</i><div style="margin-left: 11.00ex;">
A comma-separated list of types to display, where "type" is one of "filesystem", "snapshot" or "volume". For example, specifying "<b>-t snapshot</b>" displays only snapshots.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs set</b> <i>property</i>=<i>value</i> <i>filesystem</i>|<i>volume</i> ...<div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Sets the property to the given value for each dataset. Only some properties can be edited. See the "Properties" section for more information on what properties can be set and acceptable values. Numeric values can be specified as exact values, or in a human-readable form with a suffix of "B", "K", "M", "G", "T", "P", "E", "Z" (for bytes, Kbytes, Mbytes, gigabytes, terabytes, petabytes, exabytes, or zettabytes, respectively). Properties cannot be set on snapshots.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs get</b> [<b>-rHp</b>] [<b>-o</b> <i>field</i>[,<i>field</i>]...] [<b>-s</b> <i>source</i>[,<i>source</i>]...] <i>all</i> | <i>property</i>[,<i>property</i>]... <i>filesystem</i>|<i>volume</i>|<i>snapshot</i> ...<div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Displays properties for the given datasets. If no datasets are specified, then the command displays properties for all datasets on the system. For each property, the following columns are displayed:<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
    name      Dataset name<br>
    property  Property name<br>
    value     Property value<br>
    source    Property source. Can either be local, default,<br>
              temporary, inherited, or none (-).<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
All columns are displayed by default, though this can be controlled by using the <b>-o</b> option. This command takes a comma-separated list of properties as described in the "Native Properties" and "User Properties" sections.<div style="height: 1.00em;">
&#160;</div>
The special value "all" can be used to display all properties for the given dataset.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-r</b><div style="margin-left: 13.00ex;">
Recursively display properties for any children.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-H</b><div style="margin-left: 13.00ex;">
Display output in a form more easily parsed by scripts. Any headers are omitted, and fields are explicitly separated by a single tab instead of an arbitrary amount of space.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-o</b> <i>field</i><div style="margin-left: 13.00ex;">
A comma-separated list of columns to display. "name,property,value,source" is the default value.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-s</b> <i>source</i><div style="margin-left: 13.00ex;">
A comma-separated list of sources to display. Those properties coming from a source other than those in this list are ignored. Each source must be one of the following: "local,default,inherited,temporary,none". The default value is all sources.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-p</b><div style="margin-left: 13.00ex;">
Display numbers in parsable (exact) values.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs inherit</b> [<b>-r</b>] <i>property</i> <i>filesystem</i>|<i>volume</i> ...<div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Clears the specified property, causing it to be inherited from an ancestor. If no ancestor has the property set, then the default value is used. See the "Properties" section for a listing of default values, and details on which properties can be inherited.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-r</b><div style="margin-left: 6.00ex;">
Recursively inherit the given property for all children.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs mount</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Displays all <b>ZFS</b> file systems currently mounted.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs mount</b>[<b>-o</b> <i>opts</i>] [<b>-O</b>] <b>-a</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Mounts all available <b>ZFS</b> file systems. Invoked automatically as part of the boot process.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-o</b> <i>opts</i><div style="margin-left: 11.00ex;">
An optional comma-separated list of mount options to use temporarily for the duration of the mount. See the "Temporary Mount Point Properties" section for details.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-O</b><div style="margin-left: 11.00ex;">
Perform an overlay mount. See <b>mount</b>(1M) for more information.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs mount</b> [<b>-o</b> <i>opts</i>] [<b>-O</b>] <i>filesystem</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Mounts a specific <b>ZFS</b> file system. This is typically not necessary, as file systems are automatically mounted when they are created or the mountpoint property has changed. See the "Mount Points" section for details.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-o</b> <i>opts</i><div style="margin-left: 11.00ex;">
An optional comma-separated list of mount options to use temporarily for the duration of the mount. See the "Temporary Mount Point Properties" section for details.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-O</b><div style="margin-left: 11.00ex;">
Perform an overlay mount. See <b>mount</b>(1M) for more information.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs unmount</b> <b>-a</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Unmounts all currently mounted <b>ZFS</b> file systems. Invoked automatically as part of the shutdown process.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs unmount</b> [<b>-f</b>] <i>filesystem</i>|<i>mountpoint</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Unmounts the given file system. The command can also be given a path to a <b>ZFS</b> file system mount point on the system.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-f</b><div style="margin-left: 6.00ex;">
Forcefully unmount the file system, even if it is currently in use.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs share</b> <b>-a</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Shares all available <b>ZFS</b> file systems. This is invoked automatically as part of the boot process.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs share</b> <i>filesystem</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Shares a specific <b>ZFS</b> file system according to the "sharenfs" property. File systems are shared when the "sharenfs" property is set.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs unshare</b> <b>-a</b><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Unshares all currently shared <b>ZFS</b> file systems. This is invoked automatically as part of the shutdown process.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs unshare</b> [<b>-F</b>] <i>filesystem</i>|<i>mountpoint</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Unshares the given file system. The command can also be given a path to a <b>ZFS</b> file system shared on the system.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-F</b><div style="margin-left: 6.00ex;">
Forcefully unshare the file system, even if it is currently in use.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs send</b> [<b>-i</b> <i>snapshot1</i>] <i>snapshot2</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Creates a stream representation of snapshot2, which is written to standard output. The output can be redirected to a file or to a different system (for example, using <b>ssh</b>(1). By default, a full stream is generated.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-i</b> <i>snapshot1</i><div style="margin-left: 16.00ex;">
Generate an incremental stream from <i>snapshot1</i> to <i>snapshot2</i>. The incremental source <i>snapshot1</i> can be specified as the last component of the snapshot name (for example, the part after the "@"), and it is assumed to be from the same file system as  <i>snapshot2</i>.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
The format of the stream is evolving. No backwards compatibility is guaranteed. You may not be able to receive your streams on future versions of <b>ZFS</b>.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs receive</b> [<b>-vnF</b>] <i>filesystem</i>|<i>volume</i>|<i>snapshot</i><div style="height: 0.00em;">
&#160;</div>
<b></b><b>zfs receive</b> [<b>-vnF</b>] <b>-d</b> <i>filesystem</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Creates a snapshot whose contents are as specified in the stream provided on standard input. If a full stream is received, then a new file system is created as well. Streams are created using the "<b>zfs send</b>" subcommand, which by default creates a full stream. " <b>zfs recv</b>" can be used as an alias for "<b>zfs receive</b>".<div style="height: 1.00em;">
&#160;</div>
If an incremental stream is received, then the destination file system must already exist, and its most recent snapshot must match the incremental stream's source. The destination file system and all of its child file systems are unmounted and cannot be accessed during the receive operation.<div style="height: 1.00em;">
&#160;</div>
The name of the snapshot (and file system, if a full stream is received) that this subcommand creates depends on the argument type and the <b>-d</b> option.<div style="height: 1.00em;">
&#160;</div>
If the argument is a snapshot name, the specified <i>snapshot</i> is created. If the argument is a file system or volume name, a snapshot with the same name as the sent snapshot is created within the specified <i>filesystem</i> or <i>volume</i>. If the  <b>-d</b> option is specified, the snapshot name is determined by appending the sent snapshot's name to the specified <i>filesystem</i>. If the <b>-d</b> option is specified, any required file systems within the specified one are created.<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-d</b><div style="margin-left: 6.00ex;">
Use the name of the sent snapshot to determine the name of the new snapshot as described in the paragraph above.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-v</b><div style="margin-left: 6.00ex;">
Print verbose information about the stream and the time required to perform the receive operation.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-n</b><div style="margin-left: 6.00ex;">
Do not actually receive the stream. This can be useful in conjunction with the <b>-v</b> option to determine what name the receive operation would use.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>-F</b><div style="margin-left: 6.00ex;">
Force a rollback of the <i>filesystem</i> to the most recent snapshot before performing the receive operation.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs jail</b> <i>jailid</i> <i>filesystem</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Attaches the given file system to the given jail. From now on this file system tree can be managed from within a jail if the "<b>jailed</b>" property has been set. To use this functionality, sysctl  <b>security.jail.enforce_statfs</b> should be set to 0 and sysctl <b>security.jail.mount_allowed</b> should be set to 1.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>zfs unjail</b> <i>jailid</i> <i>filesystem</i><div style="height: 0.60ex;">
&#160;</div>
<div style="margin-left: 4.00ex;">
Detaches the given file system from the given jail.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>EXAMPLES</h1>  <b>Example 1 </b>Creating a ZFS File System Hierarchy<p>
The following commands create a file system named "<b>pool/home</b>" and a file system named "<b>pool/home/bob</b>". The mount point "<b>/export/home</b>" is set for the parent file system, and automatically inherited by the child file system.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
# zfs create pool/home<br>
# zfs set mountpoint=/export/home pool/home<br>
# zfs create pool/home/bob<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 2 </b>Creating a ZFS Snapshot<p>
The following command creates a snapshot named "yesterday". This snapshot is mounted on demand in the ".zfs/snapshot" directory at the root of the "<b>pool/home/bob</b>" file system.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
# zfs snapshot pool/home/bob@yesterday<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 3 </b>Taking and destroying multiple snapshots<p>
The following command creates snapshots named "<b>yesterday</b>" of "<b>pool/home</b>" and all of its descendant file systems. Each snapshot is mounted on demand in the ".zfs/snapshot" directory at the root of its file system. The second command destroys the newly created snapshots.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
# <b>zfs snapshot -r pool/home@yesterday</b><br>
<b># zfs destroy -r pool/home@yesterday</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 4 </b>Turning Off Compression<p>
The following commands turn compression off for all file systems under "<b>pool/home</b>", but explicitly turns it on for "<b>pool/home/anne</b>".<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs set compression=off pool/home</b><br>
<b># zfs set compression=on pool/home/anne</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 5 </b>Listing ZFS Datasets<p>
The following command lists all active file systems and volumes in the system.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs list</b><p>
<p>
<br>
  NAME                      USED  AVAIL  REFER  MOUNTPOINT<br>
  pool                      100G   60G       -  /pool<br>
  pool/home                 100G   60G       -  /export/home<br>
  pool/home/bob              40G   60G     40G  /export/home/bob<br>
  pool/home/bob@yesterday     3M     -     40G  -<br>
  pool/home/anne             60G   60G     40G  /export/home/anne<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 6 </b>Setting a Quota on a ZFS File System<p>
The following command sets a quota of 50 gbytes for "<b>pool/home/bob</b>".<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs set quota=50G pool/home/bob</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 7 </b>Listing ZFS Properties<p>
The following command lists all properties for "<b>pool/home/bob</b>".<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs get all pool/home/bob</b><p>
<p>
<br>
  NAME           PROPERTY       VALUE                  SOURCE<br>
  pool/home/bob  type           filesystem             -<br>
  pool/home/bob  creation       Fri Feb 23 14:20 2007  -<br>
  pool/home/bob  used           24.5K                  -<br>
  pool/home/bob  available      50.0G                  -<br>
  pool/home/bob  referenced     24.5K                  -<br>
  pool/home/bob  compressratio  1.00x                  -<br>
  pool/home/bob  mounted        yes                    -<br>
  pool/home/bob  quota          50G                    local<br>
  pool/home/bob  reservation    none                   default<br>
  pool/home/bob  recordsize     128K                   default<br>
  pool/home/bob  mountpoint     /pool/home/bob         default<br>
  pool/home/bob  sharenfs       off                    default<br>
  pool/home/bob  shareiscsi     off                    default<br>
  pool/home/bob  checksum       on                     default<br>
  pool/home/bob  compression    off                    default<br>
  pool/home/bob  atime          on                     default<br>
  pool/home/bob  devices        on                     default<br>
  pool/home/bob  exec           on                     default<br>
  pool/home/bob  setuid         on                     default<br>
  pool/home/bob  readonly       off                    default<br>
  pool/home/bob  zoned          off                    default<br>
  pool/home/bob  snapdir        hidden                 default<br>
  pool/home/bob  aclmode        groupmask              default<br>
  pool/home/bob  aclinherit     secure                 default<br>
  pool/home/bob  canmount       on                     default<br>
  pool/home/bob  xattr          on                     default<p>
<br>
   <br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
The following command gets a single property value.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs get -H -o value compression pool/home/bob</b><br>
on<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
The following command lists all properties with local settings for "<b>pool/home/bob</b>".<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs get -r -s local -o name,property,value all pool/home/bob</b><p>
<br>
  NAME             PROPERTY      VALUE<br>
  pool             compression   on<br>
  pool/home        checksum      off<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 8 </b>Rolling Back a ZFS File System<p>
The following command reverts the contents of "<b>pool/home/anne</b>" to the snapshot named "<b>yesterday</b>", deleting all intermediate snapshots.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs rollback -r pool/home/anne@yesterday</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 9 </b>Creating a ZFS Clone<p>
The following command creates a writable file system whose initial contents are the same as "<b>pool/home/bob@yesterday</b>".<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs clone pool/home/bob@yesterday pool/clone</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 10 </b>Promoting a ZFS Clone<p>
The following commands illustrate how to test out changes to a file system, and then replace the original file system with the changed one, using clones, clone promotion, and renaming:<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs create pool/project/production</b><br>
 populate /pool/project/production with data<br>
<b># zfs snapshot pool/project/production@today</b><br>
<b># zfs clone pool/project/production@today pool/project/beta</b><br>
 make changes to /pool/project/beta and test them<br>
<b># zfs promote pool/project/beta</b><br>
<b># zfs rename pool/project/production pool/project/legacy</b><br>
<b># zfs rename pool/project/beta pool/project/production</b><br>
 once the legacy version is no longer needed, it can be<br>
 destroyed<br>
<b># zfs destroy pool/project/legacy</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 11 </b>Inheriting ZFS Properties<p>
The following command causes "<b>pool/home/bob</b>" and "<b>pool/home/anne</b>" to inherit the "checksum" property from their parent.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs inherit checksum pool/home/bob pool/home/anne</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 12 </b>Remotely Replicating ZFS Data<p>
The following commands send a full stream and then an incremental stream to a remote machine, restoring them into "<b>poolB/received/fs</b>@a" and "<b>poolB/received/fs@b</b>", respectively. "<b>poolB</b>" must contain the file system " <b>poolB/received</b>", and must not initially contain "<b>poolB/received/fs</b>".<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
# zfs send pool/fs@a | &#92;<br>
  ssh host zfs receive poolB/received/fs@a<br>
# zfs send -i a pool/fs@b | ssh host &#92;<br>
  zfs receive poolB/received/fs<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 13 </b>Using the  zfs receive -d Option<p>
The following command sends a full stream of "<b>poolA/fsA/fsB@snap</b>" to a remote machine, receiving it into "<b>poolB/received/fsA/fsB@snap</b>". The "<b>fsA/fsB@snap</b>" portion of the received snapshot's name is determined from the name of the sent snapshot. " <b>poolB</b>" must contain the file system "<b>poolB/received</b>".  If  "<b>poolB/received/fsA</b>" does not exist, it will be created as an empty file system.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs send poolA/fsA/fsB@snap | &#92;</b><br>
<b>  ssh host zfs receive -d poolB/received</b><br>
<b>   </b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 14 </b>Creating a ZFS volume as a Swap Device<p>
The following example shows how to create a 5-Gbyte ZFS volume and then add the volume as a swap device.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs create  -V 5gb tank/vol</b><br>
<b># swap -a /dev/zvol/dsk/tank/vol</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 15 </b>Setting User Properties<p>
The following example sets the user defined "com.example:department" property for a dataset.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs set com.example:department=12345 tank/accounting</b><br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
<b>Example 16 </b>Creating a ZFS Volume as a iSCSI Target Device<p>
The following example shows how to create a <b>ZFS</b> volume as an <b>iSCSI</b> target.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br>
<br>
<b># zfs create -V 2g pool/volumes/vol1</b><br>
<b># zfs set shareiscsi=on pool/volumes/vol1</b><br>
<b># iscsitadm list target</b><br>
Target: pool/volumes/vol1<br>
iSCSI Name: <br>
iqn.1986-03.com.sun:02:7b4b02a6-3277-eb1b-e686-a24762c52a8c<br>
Connections: 0<br>
<br>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<p>
After the <b>iSCSI</b> target is created, set up the <b>iSCSI</b> initiator. For more information about the Solaris <b>iSCSI</b> initiator, see the Solaris Administration Guide: Devices and File Systems.</div>
<div class="section">
<h1>EXIT STATUS</h1> The following exit values are returned:<div style="height: 1.00em;">
&#160;</div>
<b></b><b>0</b><div style="margin-left: 5.00ex;">
Successful completion.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>1</b><div style="margin-left: 5.00ex;">
An error occurred.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><b>2</b><div style="margin-left: 5.00ex;">
Invalid command line options were specified.</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>ATTRIBUTES</h1> See  <b>attributes</b>(5) for descriptions of the following attributes:<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>gzip</b>(1), <b>ssh</b>(1), <b>mount</b>(1M), <b>share</b>(1M), <b>unshare</b>(1M), <b>zonecfg</b>(1M), <b>zpool</b>(1M), <b>chmod</b>(2), <b>stat</b>(2), <b>fsync</b>(3c), <b>dfstab</b>(4), <b>attributes</b>(5)</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tr>
<td class="foot-date">
16 Mar 2007</td>
<td class="foot-os" align="right">
SunOS 5.11</td>
</tr>
</table>
</div>
</body>
</html>

