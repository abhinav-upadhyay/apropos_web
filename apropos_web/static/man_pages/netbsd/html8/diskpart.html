<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
DISKPART(8)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
DISKPART(8)</td>
<td class="head-vol" align="center">
System Manager's Manual</td>
<td class="head-rtitle" align="right">
DISKPART(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">diskpart</b> &#8212; <span class="desc">calculate default disk partition sizes</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;">
<col>
<tbody>
<tr>
<td>
diskpart</td>
<td>
&#91;<span class="opt"><b class="flag">&#45;d</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;p</b></span>&#93; &#91;<span class="opt"><b class="flag">&#45;s</b> <i class="arg">size</i></span>&#93; <i class="arg">disk-type</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">diskpart</b> is used to calculate the disk partition sizes based on the default rules used at Berkeley.<p>
Available options and operands:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;d</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
An entry suitable for inclusion in the disk description file <i class="file">/etc/disktab</i> is generated; for example, <a class="link-man" href="../5/disktab">disktab(5)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;p</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Tables suitable for inclusion in a device driver are produced.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">&#45;s</b> <i class="arg">size</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
The size of the disk may be limited to <i class="arg">size</i> with the <b class="flag">&#45;s</b> option.</dd>
</dl>
<p>
On disks that use <a class="link-man" href="../8/bad144">bad144(8)</a> type of bad-sector forwarding, space is normally left in the last partition on the disk for a bad sector forwarding table, although this space is not reflected in the tables produced.  The space reserved is one track for the replicated copies of the table and sufficient tracks to hold a pool of 126 sectors to which bad sectors are mapped.  For more information, see <a class="link-man" href="../8/bad144">bad144(8)</a>. The <b class="flag">&#45;s</b> option is intended for other controllers which reserve some space at the end of the disk for bad-sector replacements or other control areas, even if not a multiple of cylinders.<p>
The disk partition sizes are based on the total amount of space on the disk as given in the table below (all values are supplied in units of sectors).  The &#8216;<code class="lit">c</code>&#8217; partition is, by convention, used to access the entire physical disk. The device driver tables include the space reserved for the bad sector forwarding table in the &#8216;<code class="lit">c</code>&#8217; partition; those used in the disktab and default formats exclude reserved tracks. In normal operation, either the &#8216;<code class="lit">g</code>&#8217; partition is used, or the &#8216;<code class="lit">d</code>&#8217;, &#8216;<code class="lit">e</code>&#8217;, and &#8216;<code class="lit">f</code>&#8217; partitions are used.  The &#8216;<code class="lit">g</code>&#8217; and &#8216;<code class="lit">f</code>&#8217; partitions are variable-sized, occupying whatever space remains after allocation of the fixed sized partitions. If the disk is smaller than 20 Megabytes, then <b class="name">diskpart</b> aborts with the message &#8220;<code class="lit">disk too small, calculate by hand</code>&#8221;.<table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 9.00ex;">
<col style="width: 8.00ex;">
<col style="width: 9.00ex;">
<col style="width: 10.00ex;">
<col style="min-width: 7.00ex;">
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
Partition</td>
<td class="list-col" style="margin-top: 1.00em;">
20-60 MB</td>
<td class="list-col" style="margin-top: 1.00em;">
61-205 MB</td>
<td class="list-col" style="margin-top: 1.00em;">
206-355 MB</td>
<td class="list-col" style="margin-top: 1.00em;">
356+ MB</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
a</td>
<td class="list-col" style="margin-top: 1.00em;">
15884</td>
<td class="list-col" style="margin-top: 1.00em;">
15884</td>
<td class="list-col" style="margin-top: 1.00em;">
15884</td>
<td class="list-col" style="margin-top: 1.00em;">
15884</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
b</td>
<td class="list-col" style="margin-top: 1.00em;">
10032</td>
<td class="list-col" style="margin-top: 1.00em;">
33440</td>
<td class="list-col" style="margin-top: 1.00em;">
33440</td>
<td class="list-col" style="margin-top: 1.00em;">
66880</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
d</td>
<td class="list-col" style="margin-top: 1.00em;">
15884</td>
<td class="list-col" style="margin-top: 1.00em;">
15884</td>
<td class="list-col" style="margin-top: 1.00em;">
15884</td>
<td class="list-col" style="margin-top: 1.00em;">
15884</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
e</td>
<td class="list-col" style="margin-top: 1.00em;">
unused</td>
<td class="list-col" style="margin-top: 1.00em;">
55936</td>
<td class="list-col" style="margin-top: 1.00em;">
55936</td>
<td class="list-col" style="margin-top: 1.00em;">
307200</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
h</td>
<td class="list-col" style="margin-top: 1.00em;">
unused</td>
<td class="list-col" style="margin-top: 1.00em;">
unused</td>
<td class="list-col" style="margin-top: 1.00em;">
291346</td>
<td class="list-col" style="margin-top: 1.00em;">
291346</td>
</tr>
</tbody>
</table>
<p>
If an unknown disk type is specified, <b class="name">diskpart</b> will prompt for the required disk geometry information.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../5/disktab">disktab(5)</a>, <a class="link-man" href="../8/bad144">bad144(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">diskpart</b> command appeared in <span class="unix">4.2BSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Most default partition sizes are based on historical artifacts (like the RP06), and may result in unsatisfactory layouts.<p>
When using the <b class="flag">&#45;d</b> flag, alternative disk names are not included in the output.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
June 6, 1993</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

