<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
SYNC(2)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SYNC(2)</td>
<td class="head-vol" align="center">
System Calls Manual</td>
<td class="head-rtitle" align="right">
SYNC(2)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sync</b> &#8212; <span class="desc">synchronize disk block in-core status with that on disk</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">unistd.h</a>&gt;</b><p>
<i class="ftype">void</i><br>
<b class="fname">sync</b>(<i class="farg" style="white-space:nowrap;">void</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">sync</b>() function forces a write of dirty (modified) buffers in the block buffer cache out to disk. The kernel keeps this information in core to reduce the number of disk I/O transfers required by the system. As information in the cache is lost after a system crash, kernel thread <b class="name">ioflush</b> ensures that dirty buffers are synced to disk eventually. By default, a dirty buffer is synced after 30 seconds, but some filesystems exploit <b class="name">ioflush</b> features to sync directory data and metadata faster (after 15 and 10 seconds, respectively).<p>
The function <a class="link-man" href="../2/fsync">fsync(2)</a> may be used to synchronize individual file descriptor attributes.</div>
<div class="section">
<h1 id="x43415554494f4e53">CAUTIONS</h1> Many modern disks contain write-back caches. In theory <b class="fname">sync</b>() flushes these. In practice there are many possible ways for this mechanism to go astray. It is prudent (where possible) to allow a few seconds after syncing for everything to settle before e.g. turning off the power.<p>
It may also be desirable to use <a class="link-man" href="../8/dkctl">dkctl(8)</a> or <a class="link-man" href="../8/scsictl">scsictl(8)</a> to disable the write-back cache entirely.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/fsync">fsync(2)</a>, <a class="link-man" href="../8/dkctl">dkctl(8)</a>, <a class="link-man" href="../8/scsictl">scsictl(8)</a>, <a class="link-man" href="../8/sync">sync(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="fname">sync</b>() function call appeared in Version&#160;6 AT&amp;T UNIX.<p>
Historically, <b class="fname">sync</b>() would schedule buffers for writing but not actually wait for the writes to finish. It was necessary to issue a second or sometimes a third call to ensure that all buffers had in fact been written out. In <span class="unix">NetBSD</span>, <b class="fname">sync</b>() does not return until all buffers have been written.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
March 25, 2009</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

