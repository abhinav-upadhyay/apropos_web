<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="/static/man_pages/netbsd/style.css" type="text/css" media="all">
<title>
SETREUID(2)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SETREUID(2)</td>
<td class="head-vol" align="center">
System Calls Manual</td>
<td class="head-rtitle" align="right">
SETREUID(2)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">setreuid</b> &#8212; <span class="desc">set real and effective user ID's</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">unistd.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">setreuid</b>(<i class="farg" style="white-space:nowrap;">uid_t ruid</i>, <i class="farg" style="white-space:nowrap;">uid_t euid</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="symb" style="display:inline;margin-left: 1.00ex;">
This interface is made obsolete by the saved ID functionality in <a class="link-man" href="../2/setuid">setuid(2)</a> and <a class="link-man" href="../2/seteuid">seteuid(2)</a>.</div>
<p>
The real and effective user ID's of the current process are set according to the arguments. If the real user ID is changed, the saved user ID is changed to the new value of the effective user ID.<p>
If <i class="farg">ruid</i> or <i class="farg">euid</i> is &#45;1, the current uid is filled in by the system. Unprivileged users may change the real user ID to the effective user ID, and may change the effective user ID to the real user ID or the saved user ID; only the super-user may make other changes.<p>
The <b class="fname">setreuid</b>() function has been used to swap the real and effective user IDs in set-user-ID programs to temporarily relinquish the set-user-ID value. This purpose is now better served by the use of the <b class="fname">seteuid</b>() function (see <a class="link-man" href="../2/setuid">setuid(2)</a>).<p>
When setting the real and effective user IDs to the same value, this function is equivalent to the <b class="fname">setuid</b>() function. When setting only the effective user ID, this function is equivalent to the <b class="fname">seteuid</b>() function.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Upon successful completion, a value of 0 is returned. Otherwise, a value of &#45;1 is returned and <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EPERM</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The current process is not the super-user and a change other than changing the effective user-id to the real user-id was specified.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/getuid">getuid(2)</a>, <a class="link-man" href="../2/seteuid">seteuid(2)</a>, <a class="link-man" href="../2/setgid">setgid(2)</a>, <a class="link-man" href="../2/setuid">setuid(2)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">setreuid</b>() function call appeared in <span class="unix">4.2BSD</span>. An incompatible version was implemented in <span class="unix">4.4BSD</span>. It was reimplemented in <span class="unix">NetBSD&#160;1.2</span> in a way compatible with <span class="unix">4.3BSD</span>, SunOS and Linux, but should not be used in new code.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 5, 2001</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

