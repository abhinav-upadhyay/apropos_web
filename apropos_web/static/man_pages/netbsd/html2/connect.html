<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
CONNECT(2)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
CONNECT(2)</td>
<td class="head-vol" align="center">
System Calls Manual</td>
<td class="head-rtitle" align="right">
CONNECT(2)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">connect</b> &#8212; <span class="desc">initiate a connection on a socket</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/socket.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">connect</b>(<i class="farg" style="white-space:nowrap;">int s</i>, <i class="farg" style="white-space:nowrap;">const struct sockaddr *name</i>, <i class="farg" style="white-space:nowrap;">socklen_t namelen</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The parameter <i class="farg">s</i> is a socket. If it is of type <span class="define">SOCK_DGRAM</span>, this call specifies the peer with which the socket is to be associated; this address is that to which datagrams are to be sent, and the only address from which datagrams are to be received. If the socket is of type <span class="define">SOCK_STREAM</span>, this call attempts to make a connection to another socket. The other socket is specified by <i class="farg">name</i>, which is an address in the communications space of the socket. <i class="farg">namelen</i> indicates the amount of space pointed to by <i class="farg">name</i>, in bytes. Each communications space interprets the <i class="farg">name</i> parameter in its own way. Generally, stream sockets may successfully <b class="fname">connect</b>() only once; datagram sockets may use <b class="fname">connect</b>() multiple times to change their association. Datagram sockets may dissolve the association by connecting to an invalid address, such as a null address.<p>
If a <b class="fname">connect</b>() call is interrupted by a signal, it will return with errno set to <span class="errno">EINTR</span> and the connection attempt will proceed as if the socket was non-blocking. Subsequent calls to <b class="fname">connect</b>() will set errno to <span class="errno">EALREADY</span>.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> If the connection or binding succeeds, 0 is returned. Otherwise a &#45;1 is returned, and a more specific error code is stored in <b class="var">errno</b>.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">connect</b>() call fails if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EBADF</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">s</i> is not a valid descriptor.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOTSOCK</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">s</i> is a descriptor for a file, not a socket.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EADDRNOTAVAIL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The specified address is not available on this machine.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EAFNOSUPPORT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Addresses in the specified address family cannot be used with this socket.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EISCONN</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The socket is already connected.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ETIMEDOUT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Connection establishment timed out without establishing a connection.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ECONNREFUSED</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The attempt to connect was forcefully rejected.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENETUNREACH</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The network isn't reachable from this host.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EADDRINUSE</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The address is already in use.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EFAULT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">name</i> parameter specifies an area outside the process address space.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINPROGRESS</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The socket is non-blocking and the connection cannot be completed immediately. It is possible to <a class="link-man" href="../2/select">select(2)</a> or <a class="link-man" href="../2/poll">poll(2)</a> for completion by selecting or polling the socket for writing. The success or failure of the connect operation may be determined by using <a class="link-man" href="../2/getsockopt">getsockopt(2)</a> to read the socket error status with the <span class="define">SO_ERROR</span> option at the <span class="define">SOL_SOCKET</span> level. The returned socket error status is zero on success, or one of the error codes listed here on failure.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EALREADY</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Either the socket is non-blocking mode or a previous call to <b class="fname">connect</b>() was interrupted by a signal, and the connection attempt has not yet been completed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINTR</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The connection attempt was interrupted by a signal.</dd>
</dl>
<p>
The following errors are specific to connecting names in the <span class="unix">UNIX</span> domain. These errors may not apply in future versions of the <span class="unix">UNIX</span> IPC domain.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOTDIR</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
A component of the path prefix is not a directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENAMETOOLONG</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
A component of a pathname exceeded &#123;<span class="define">NAME_MAX</span>&#125; characters, or an entire path name exceeded &#123;<span class="define">PATH_MAX</span>&#125; characters.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ENOENT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The named socket does not exist.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EACCES</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Search permission is denied for a component of the path prefix, or write access to the named socket is denied.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">ELOOP</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Too many symbolic links were encountered in translating the pathname.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/accept">accept(2)</a>, <a class="link-man" href="../2/getsockname">getsockname(2)</a>, <a class="link-man" href="../2/getsockopt">getsockopt(2)</a>, <a class="link-man" href="../2/poll">poll(2)</a>, <a class="link-man" href="../2/select">select(2)</a>, <a class="link-man" href="../2/socket">socket(2)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">connect</b>() function call appeared in <span class="unix">4.2BSD</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 18, 2004</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

