<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
UUIDGEN(2)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
UUIDGEN(2)</td>
<td class="head-vol" align="center">
System Calls Manual</td>
<td class="head-rtitle" align="right">
UUIDGEN(2)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">uuidgen</b> &#8212; <span class="desc">generate universally unique identifiers</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">sys/uuid.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">uuidgen</b>(<i class="farg" style="white-space:nowrap;">struct uuid *store</i>, <i class="farg" style="white-space:nowrap;">int count</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">uuidgen</b>() system call generates <i class="farg">count</i> universally unique identifiers (UUIDs) and writes them to the buffer pointed to by <i class="farg">store</i>. The identifiers are generated according to the syntax and semantics of the DCE version 1 variant of universally unique identifiers. See below for a more in-depth description of the identifiers. When no IEEE 802 address is available for the node field, a random multi-cast address is generated for each invocation of the system call. According to the algorithm of generating time-based UUIDs, this will also force a new random clock sequence, thereby increasing the likelihood for the identifier to be unique.<p>
When multiple identifiers are to be generated, the <b class="fname">uuidgen</b>() system call will generate a set of identifiers that is dense in such a way that there is no identifier that is larger than the smallest identifier in the set and smaller than the largest identifier in the set and that is not already in the set.<p>
Universally unique identifiers, also known as globally unique identifiers (GUIDs), have a binary representation of 128-bits. The grouping and meaning of these bits is described by the following structure and its description of the fields that follow it:<p>
<pre style="margin-left: 0.00ex;" class="lit display">
struct uuid { 
	uint32_t	time_low; 
	uint16_t	time_mid; 
	uint16_t	time_hi_and_version; 
	uint8_t		clock_seq_hi_and_reserved; 
	uint8_t		clock_seq_low; 
	uint8_t		node[_UUID_NODE_LEN]; 
};</pre>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">time_low</b></dt>
<dd class="list-tag" style="margin-left: 29.00ex;">
The least significant 32 bits of a 60-bit timestamp. This field is stored in the native byte-order.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">time_mid</b></dt>
<dd class="list-tag" style="margin-left: 29.00ex;">
The least significant 16 bits of the most significant 28 bits of the 60-bit timestamp. This field is stored in the native byte-order.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">time_hi_and_version</b></dt>
<dd class="list-tag" style="margin-left: 29.00ex;">
The most significant 12 bits of the 60-bit timestamp multiplexed with a 4-bit version number. The version number is stored in the most significant 4 bits of the 16-bit field. This field is stored in the native byte-order.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">clock_seq_hi_and_reserved</b></dt>
<dd class="list-tag" style="margin-left: 29.00ex;">
The most significant 6 bits of a 14-bit sequence number multiplexed with a 2-bit variant value. Note that the width of the variant value is determined by the variant itself. Identifiers generated by the <b class="fname">uuidgen</b>() system call have variant value 10b. the variant value is stored in the most significant bits of the field.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">clock_seq_low</b></dt>
<dd class="list-tag" style="margin-left: 29.00ex;">
The least significant 8 bits of a 14-bit sequence number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="var">node</b></dt>
<dd class="list-tag" style="margin-left: 29.00ex;">
The 6-byte IEEE 802 (MAC) address of one of the interfaces of the node. If no such interface exists, a random multi-cast address is used instead.</dd>
</dl>
<p>
The binary representation is sensitive to byte ordering. Any multi-byte field is to be stored in the local or native byte-order and identifiers must be converted when transmitted to hosts that do not agree on the byte-order. The specification does not however document what this means in concrete terms and is otherwise beyond the scope of this system call.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">uuidgen</b>() function returns the value 0 if successful; otherwise the value -1 is returned and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">uuidgen</b>() system call can fail with:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EFAULT</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The buffer pointed to by <i class="farg">store</i> could not be written to for any or all identifiers.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">count</i> argument is less than 1 or larger than the hard upper limit of 2048.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../1/uuidgen">uuidgen(1)</a>, <a class="link-man" href="../3/uuid">uuid(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The identifiers are represented and generated in conformance with the DCE 1.1 RPC specification. The <b class="fname">uuidgen</b>() system call is itself not part of the specification.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">uuidgen</b>() system call first appeared in <span class="unix">FreeBSD&#160;5.0</span> and was subsequently added to <span class="unix">NetBSD&#160;2.0</span>.</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 26, 2002</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

