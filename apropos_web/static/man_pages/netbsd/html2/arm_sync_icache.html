<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
ARM_SYNC_ICACHE(2) (ARM)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
ARM_SYNC_ICACHE(2)</td>
<td class="head-vol" align="center">
System Calls Manual (ARM)</td>
<td class="head-rtitle" align="right">
ARM_SYNC_ICACHE(2)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">arm_sync_icache</b> &#8212; <span class="desc">clean the CPU data cache and flush the CPU instruction cache</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">ARM Architecture Library (libarm, &#45;larm)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">machine/sysarch.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">arm_sync_icache</b>(<i class="farg" style="white-space:nowrap;">uintptr_t addr</i>, <i class="farg" style="white-space:nowrap;">size_t len</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">arm_sync_icache</b>() will make sure that all the entries in the processor instruction cache are synchronized with main memory and that any data in a write back cache has been cleaned. Some ARM processors (e.g. SA110) have separate instruction and data caches thus any dynamically generated or modified code needs to be written back from any data caches to main memory and the instruction cache needs to be synchronized with main memory.<p>
On such processors <b class="fname">arm_sync_icache</b>() will clean the data cache and invalidate the processor instruction cache to force reloading from main memory. On processors that have a shared instruction and data cache and have a write through cache (e.g. ARM6) no action needs to be taken.<p>
The routine takes a start address <i class="farg">addr</i> and a length <i class="farg">len</i> to describe the area of memory that needs to be cleaned and synchronized.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">arm_sync_icache</b>() will never fail so will always return 0.</div>
<div class="section">
<h1 id="x5245464552454e434553">REFERENCES</h1> StrongARM Data Sheet</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
January 17, 2014</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

