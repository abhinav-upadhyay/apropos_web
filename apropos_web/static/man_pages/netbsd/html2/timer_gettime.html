<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
TIMER_SETTIME(2)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
TIMER_SETTIME(2)</td>
<td class="head-vol" align="center">
System Calls Manual</td>
<td class="head-rtitle" align="right">
TIMER_SETTIME(2)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">timer_settime</b>, <b class="name">timer_gettime</b>, <b class="name">timer_getoverrun</b> &#8212; <span class="desc">process timer manipulation</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">time.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">timer_settime</b>(<i class="farg" style="white-space:nowrap;">timer_t timerid</i>, <i class="farg" style="white-space:nowrap;">int flags</i>, <i class="farg" style="white-space:nowrap;">const struct itimerspec * restrict tim</i>, <i class="farg" style="white-space:nowrap;">struct itimerspec * restrict otim</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">timer_gettime</b>(<i class="farg" style="white-space:nowrap;">timer_t timerid</i>, <i class="farg" style="white-space:nowrap;">struct itimerspec *tim</i>);<p>
<i class="ftype">int</i><br>
<b class="fname">timer_getoverrun</b>(<i class="farg" style="white-space:nowrap;">timer_t timerid</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">timer_settime</b>() sets the next expiration time of the timer with ID <i class="arg">timerid</i> to the <i class="farg">it_value</i> (see <a class="link-man" href="../3/itimerspec">itimerspec(3)</a>) specified in the <i class="arg">tim</i> argument. If the value is 0, the timer is disarmed. If the argument <i class="arg">otim</i> is not <span class="define">NULL</span> the old timer settings are returned.<p>
If the <i class="arg">flags</i> argument is set to <span class="define">TIMER_RELTIME</span> then the expiration time is set to the value in nanoseconds specified in the <i class="arg">tim</i> argument from the time the call to <b class="fname">timer_settime</b>() was made. If the <i class="arg">flags</i> argument is set to <span class="define">TIMER_ABSTIME</span> then the expiration time is set to be equal to the difference between the clock associated with this timer, and the value specified in the <i class="arg">tim</i> argument. If that time has already passed, then the call succeeds, and the expiration notification occurs.<p>
If the <i class="farg">it_interval</i> of the <i class="arg">tim</i> argument is non-zero, then the timer reloads upon expiration.<p>
The <b class="fname">timer_gettime</b>() function returns the current settings of the timer specified by the <i class="arg">timerid</i> argument in the <i class="arg">tim</i> argument.<p>
Only one notification event (signal) can be pending for a given timer and process. If a timer expires while the signal is still queued for delivery, then the overrun counter for that timer is increased. The counter can store values up to <span class="define">DELAYTIMER_MAX</span>. When the signal is finally delivered to the process, then the <b class="fname">timer_getoverrun</b>() function can be used to retrieve the overrun counter for the timer specified in the <i class="arg">timerid</i> argument.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> Expiration time values are always rounded up to the resolution of the timer, so a notification will never be sent before the requested time. Values returned in the <i class="arg">otim</i> argument of <b class="fname">timer_settime</b>() or in the <i class="arg">tim</i> argument of <b class="fname">timer_gettime</b>() are subject to the above rounding effect and might not exactly match the requested values by the user.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> If successful, the <b class="fname">timer_gettime</b>() and <b class="fname">timer_settime</b>() functions return 0, and the <b class="fname">timer_getoverrun</b>() function returns the expiration overrun count for the specified timer. Otherwise, the functions return &#45;1, and set <span class="define">errno</span> to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">timer_gettime</b>(), <b class="fname">timer_getoverrun</b>(), and <b class="fname">timer_settime</b>() functions will fail if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The argument <i class="arg">timerid</i> does not correspond to a valid timer id as returned by <b class="fname">timer_create</b>() or that timer id has been deleted by <b class="fname">timer_delete</b>().</dd>
</dl>
<p>
The <b class="fname">timer_settime</b>() function will fail if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
&#91;<span class="errno">EINVAL</span>&#93;</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
A nanosecond field in the <i class="arg">tim</i> structure specified a value less than zero or greater than or equal to 10e9.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../2/clock_gettime">clock_gettime(2)</a>, <a class="link-man" href="../2/timer_create">timer_create(2)</a>, <a class="link-man" href="../2/timer_delete">timer_delete(2)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> IEEE Std 1003.1b-1993 (&#8220;POSIX.1b&#8221;), IEEE Std 1003.1i-1995 (&#8220;POSIX.1i&#8221;)</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
May 17, 2010</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

