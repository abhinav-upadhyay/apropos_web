<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/../4/strict.dtd">
>
<head>
<meta http-equiv="Content-Type" content="te../; charset=utf-8">
<meta name="resource-type" content="document">
<link rel="stylesheet" href="../style.css" type="text/css" media="all">
<title>
SYSCALL(2)</title>
</head>
<body>
<div class="mandoc">
<table summary="Document Header" class="head" width="100%">
<col width="30%">
<col width="30%">
<col width="30%">
<tbody>
<tr>
<td class="head-ltitle">
SYSCALL(2)</td>
<td class="head-vol" align="center">
System Calls Manual</td>
<td class="head-rtitle" align="right">
SYSCALL(2)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">syscall</b>, <b class="name">__syscall</b> &#8212; <span class="desc">indirect system call</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">Standard C Library (libc, &#45;lc)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/syscall.h</a>&gt;</b><br>
<b class="includes">#include &lt;<a class="link-includes">unistd.h</a>&gt;</b><p>
<i class="ftype">int</i><br>
<b class="fname">syscall</b>(<i class="farg" style="white-space:nowrap;">int number</i>, <i class="farg" style="white-space:nowrap;">...</i>);<p>
<i class="ftype">quad_t</i><br>
<b class="fname">__syscall</b>(<i class="farg" style="white-space:nowrap;">quad_t number</i>, <i class="farg" style="white-space:nowrap;">...</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">syscall</b>() performs the system call whose assembly language interface has the specified <i class="farg">number</i> with the specified arguments. Symbolic constants for system calls can be found in the header file &#60;<i class="file">sys/syscall.h</i>&#62;. The <b class="name">__syscall</b> form should be used when one or more of the parameters is a 64-bit argument to ensure that argument alignment is correct.<p>
This system call is useful for testing new system calls that do not have entries in the C library. It should not be used in normal applications.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The return values are defined by the system call being invoked. In general, a 0 return value indicates success. A &#45;1 return value indicates an error, and an error code is stored in <b class="var">errno</b>.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">syscall</b>() function call appeared in <span class="unix">4.0BSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> There is no way to simulate system calls that have multiple return values such as <a class="link-man" href="../2/pipe">pipe(2)</a>.<p>
Since architectures return 32 bit and 64 bit results in different registers, it may be impossible to portably convert the result of <b class="fname">__syscall</b>() to a 32bit value. For instance sparc returns 32 bit values in %o0 and 64 bit values in %o0:%o1 (with %o0 containing the most significant part) so a 32 bit right shift of the result is needed to get a correct 32 bit result.<p>
Many architectures mask off the unwanted high bits of the syscall number, rather than returning an error.<p>
Due to ABI implementation differences in passing struct or union type arguments to system calls between different processors, all system calls pass instead pointers to such structs or unions, even when the documentation of the system call mentions otherwise. The conversion between passing structs and unions is handled normally via userland stubs. The correct arguments for the kernel entry points for each system call can be found in the header file &#60;<i class="file">sys/syscallargs.h</i>&#62;</div>
<table summary="Document Footer" class="foot" width="100%">
<col width="50%">
<col width="50%">
<tbody>
<tr>
<td class="foot-date">
August 7, 2009</td>
<td class="foot-os" align="right">
NetBSD 7.99</td>
</tr>
</tbody>
</table>
</div>
</body>
<>

