<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SKEYINIT(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">skeyinit</b> &#8212; <span class="desc">change password or add user to S/Key authentication system</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;"/>
<col/>
<tbody>
<tr>
<td>
skeyinit</td>
<td>
[<span class="opt"><b class="flag">-DErsx</b></span>] [<span class="opt"><b class="flag">-a</b>&#160;<i class="arg">auth-type</i></span>] [<span class="opt"><b class="flag">-n</b>&#160;<i class="arg">count</i></span>] [<span class="opt"><b class="flag">-md5</b>&#160;|&#160;<b class="flag">-rmd160</b>&#160;|&#160;<b class="flag">-sha1</b></span>] [<span class="opt"><i class="arg">user</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">skeyinit</b> initializes the system so you can use S/Key one-time passwords to log in. The program will ask you to enter a secret passphrase which is used by <a class="link-man" href="../html1/skey.html">skey(1)</a> to generate one-time passwords: enter a phrase of several words in response. After the S/Key database has been updated you can log in using either your regular password or using S/Key one-time passwords.<div class="spacer">
</div>
<b class="name">skeyinit</b> requires you to type a secret passphrase, so it should be used only on a secure terminal. For example, on the console of a workstation or over an encrypted network session. If you are using <b class="name">skeyinit</b> while logged in over an untrusted network, follow the instructions given below with the <b class="flag">-s</b> option.<div class="spacer">
</div>
Before initializing an S/Key entry, the user must authenticate using either a standard password or an S/Key challenge. To use a one-time password for initial authentication, <b class="cmd">skeyinit -a skey</b> can be used. The user will then be presented with the standard S/Key challenge and allowed to proceed if it is correct.<div class="spacer">
</div>
<b class="name">skeyinit</b> prints a sequence number and a one-time password. This password can't be used to log in; one-time passwords should be generated using <a class="link-man" href="../html1/skey.html">skey(1)</a> first. The one-time password printed by <b class="name">skeyinit</b> can be used to verify if the right passphrase has been given to <a class="link-man" href="../html1/skey.html">skey(1)</a>. The one-time password with the corresponding sequence number printed by <a class="link-man" href="../html1/skey.html">skey(1)</a> should match the one printed by <b class="name">skeyinit</b>.<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-a</b> <i class="arg">auth-type</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Before an S/Key entry can be initialised, the user must authenticate themselves to the system. This option allows the authentication type to be specified, such as &#8220;passwd&#8221; or &#8220;skey&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-D</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Disables access to the S/Key database. Only the superuser may use the <b class="flag">-D</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-E</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enables access to the S/Key database. Only the superuser may use the <b class="flag">-E</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-md5</b> | <b class="flag">-rmd160</b> | <b class="flag">-sha1</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Selects the hash algorithm: MD5, RMD-160 (160-bit Ripe Message Digest), or SHA1 (NIST Secure Hash Algorithm Revision 1).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b> <i class="arg">count</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Start the <b class="name">skey</b> sequence at <i class="arg">count</i> (default is 100).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Removes the user's S/Key entry.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Secure mode. The user is expected to have already used a secure machine to generate the first one-time password. Without the <b class="flag">-s</b> option the system will assume you are directly connected over secure communications and prompt you for your secret passphrase. The <b class="flag">-s</b> option also allows one to set the seed and count for complete control of the parameters.<div class="spacer">
</div>
When the <b class="flag">-s</b> option is specified, <b class="name">skeyinit</b> will try to authenticate the user via S/Key, instead of the default listed in <i class="file">/etc/login.conf</i>. If a user has no entry in the S/Key database, an alternate authentication type must be specified via the <b class="flag">-a</b> option (see above). Please note that entering a password or passphrase in plain text defeats the purpose of using &#8220;secure&#8221; mode.<div class="spacer">
</div>
You can use <b class="cmd">skeyinit -s</b> in combination with the <b class="name">skey</b> command to set the seed and count if you do not like the defaults. To do this run <b class="cmd">skeyinit -s</b> in one window and put in your count and seed, then run <a class="link-man" href="../html1/skey.html">skey(1)</a> in another window to generate the correct 6 English words for that count and seed. You can then &quot;cut-and-paste&quot; or type the words into the <b class="name">skeyinit</b> window.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-x</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Displays one-time passwords in hexadecimal instead of ASCII.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">user</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The username to be changed/added. By default the current user is operated on.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/login.conf</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
file containing authentication types</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/skey</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
directory containing user entries for S/Key</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1><pre style="margin-left: 0.00ex;" class="lit display">
$ skeyinit 
Password: &lt;enter your regular password here&gt; 
[Updating user with md5] 
Old seed: [md5] host12377 
Enter new secret passphrase: &lt;type a new passphrase here&gt; 
Again secret passphrase: &lt;again&gt; 
ID user skey is otp-md5 100 host12378 
Next login password: CITE BREW IDLE CAIN ROD DOME 
$ otp-md5 -n 3 100 host12378 
Enter secret passphrase: &lt;type your passphrase here&gt; 
98: WERE TUG EDDY GEAR GILL TEE 
99: NEAR HA TILT FIN LONG SNOW 
100: CITE BREW IDLE CAIN ROD DOME</pre>
<div class="spacer">
</div>
The one-time password for the next login will have sequence number 99.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
skey disabled</dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
<i class="file">/etc/skey</i> does not exist or is not accessible by the user. The superuser may enable <b class="name">skeyinit</b> via the <b class="flag">-E</b> flag.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/skey.html">skey(1)</a>, <a class="link-man" href="../html1/skeyaudit.html">skeyaudit(1)</a>, <a class="link-man" href="../html1/skeyinfo.html">skeyinfo(1)</a>, <a class="link-man" href="../html5/skey.html">skey(5)</a>, <a class="link-man" href="../html8/skeyprune.html">skeyprune(8)</a></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Phil Karn</span><br/>
<span class="author">Neil M. Haller</span><br/>
<span class="author">John S. Walden</span><br/>
<span class="author">Scott Chasin</span><br/>
<span class="author">Todd Miller</span></div>
</div>
</body>
</html>

