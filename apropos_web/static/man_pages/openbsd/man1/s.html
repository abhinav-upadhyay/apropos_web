<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SU(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">su</b> &#8212; <span class="desc">substitute user identity</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
su</td>
<td>
[<span class="opt"><b class="flag">-fKLlm</b></span>] [<span class="opt"><b class="flag">-a</b>&#160;<i class="arg">auth-type</i></span>] [<span class="opt"><b class="flag">-c</b>&#160;<i class="arg">login-class</i></span>] [<span class="opt"><b class="flag">-s</b>&#160;<i class="arg">login-shell</i></span>] [<span class="opt"><i class="arg">login</i>&#160;[<span class="opt"><i class="arg">shell arguments</i></span>]</span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">su</b> utility allows a user to run a shell with the user and group ID of another user without having to log out and in as that other user.<div class="spacer">
</div>
By default, the environment is unmodified with the exception of <span class="env">LOGNAME</span>, <span class="env">HOME</span>, <span class="env">SHELL</span>, and <span class="env">USER</span>. <span class="env">HOME</span> and <span class="env">SHELL</span> are set to the target login's default values. <span class="env">LOGNAME</span> and <span class="env">USER</span> are set to the target login, unless the target login has a user ID of 0 and the <b class="flag">-l</b> flag was not specified, in which case it is unmodified. The invoked shell is the target login's. This is the traditional behavior of <b class="name">su</b>.<div class="spacer">
</div>
If not using <b class="flag">-m</b> and the target login has a user ID of 0 then the <span class="env">PATH</span> variable and umask value (see <a class="link-man" href="../html2/umask.html">umask(2)</a>) are always set according to the <i class="file">/etc/login.conf</i> file (see <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>).<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Same as the <b class="flag">-l</b> option (deprecated).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-a</b> <i class="arg">auth-type</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify an authentication type such as &#8220;skey&#8221; or &#8220;radius&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b> <i class="arg">login-class</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify a login class. You may only override the default class if you're already root.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If the invoked shell is <a class="link-man" href="../html1/csh.html">csh(1)</a>, this option prevents it from reading the &#8220;<i class="file">.cshrc</i>&#8221; file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-K</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This is shorthand for &#8220;<b class="name">su</b> <b class="flag">-a</b> <i class="arg">passwd</i>&#8221;, provided for backwards compatibility.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Loop until a correct username and password combination is entered, similar to <a class="link-man" href="../html1/login.html">login(1)</a>. Note that in this mode target <i class="arg">login</i> must be specified explicitly, either on the command line or interactively. Additionally, <b class="name">su</b> will prompt for the password even when invoked by root.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Simulate a full login. The environment is discarded except for <span class="env">HOME</span>, <span class="env">SHELL</span>, <span class="env">PATH</span>, <span class="env">TERM</span>, <span class="env">LOGNAME</span>, and <span class="env">USER</span>. <span class="env">HOME</span> and <span class="env">SHELL</span> are modified as above. <span class="env">LOGNAME</span> and <span class="env">USER</span> are set to the target login. <span class="env">PATH</span> is set to the value specified by the &#8220;path&#8221; entry in <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>. <span class="env">TERM</span> is imported from your current environment. The invoked shell is the target login's, and <b class="name">su</b> will change directory to the target login's home directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Leave the environment unmodified. The invoked shell is your login shell, and no directory changes are made. As a security precaution, if the target user's shell is a non-standard shell (as defined by <a class="link-man" href="../html3/getusershell.html">getusershell(3)</a>) and the caller's real UID is non-zero, <b class="name">su</b> will fail.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b> <i class="arg">login-shell</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the path to an alternate login shell. You may only override the shell if you're already root. This option will override the shell even if the <b class="flag">-m</b> option is specified.</dd>
</dl>
<div class="spacer">
</div>
The <b class="flag">-l</b> and <b class="flag">-m</b> options are mutually exclusive; the last one specified overrides any previous ones.<div class="spacer">
</div>
If the optional <i class="arg">shell arguments</i> are provided on the command line, they are passed to the login shell of the target login. This allows it to pass arbitrary commands via the <b class="flag">-c</b> option as understood by most shells. Note that <b class="flag">-c</b> usually expects a single argument only; you have to quote it when passing multiple words.<div class="spacer">
</div>
If group 0 (normally &#8220;wheel&#8221;) has users listed then only those users can <b class="name">su</b> to &#8220;root&#8221;. It is not sufficient to change a user's <i class="file">/etc/passwd</i> entry to add them to the &#8220;wheel&#8221; group; they must explicitly be listed in <i class="file">/etc/group</i>. If no one is in the &#8220;wheel&#8221; group, it is ignored, and anyone who knows the root password is permitted to <b class="name">su</b> to &#8220;root&#8221;.<div class="spacer">
</div>
By default (unless the prompt is reset by a startup file) the superuser prompt is set to &#8220;<span class="symb">#</span>&#8221; to remind one of its awesome power.</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">HOME</span></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Default home directory of real user ID unless modified as specified above.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">LOGNAME</span></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
The user ID is always the effective ID (the target user ID) after an <b class="name">su</b> unless the user ID is 0 (root).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">PATH</span></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Default search path of real user ID unless modified as specified above.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TERM</span></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Provides terminal type which may be retained for the substituted user ID.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">USER</span></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Same as <span class="env">LOGNAME</span>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Run the command &#8220;makewhatis&#8221; as user &#8220;bin&#8221;. You will be asked for bin's password unless your real UID is 0.<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ su bin -c makewhatis</code></div>
</blockquote>
<div class="spacer">
</div>
Same as above, but the target command consists of more than a single word:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ su bin -c 'makewhatis /usr/local/man'</code></div>
</blockquote>
<div class="spacer">
</div>
Same as above, but the target command is run with the resource limits of the login class &#8220;staff&#8221;. Note that the first <b class="flag">-c</b> option applies to <b class="name">su</b> while the second is an argument to the shell.<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ su -c staff bin -c 'makewhatis /usr/local/man'</code></div>
</blockquote>
<div class="spacer">
</div>
Pretend a login for user &#8220;foo&#8221;:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ su -l foo</code></div>
</blockquote>
<div class="spacer">
</div>
Same as above, but use S/Key for authentication:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ su -a skey -l foo</code></div>
</blockquote>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/doas.html">doas(1)</a>, <a class="link-man" href="../html1/login.html">login(1)</a>, <a class="link-man" href="../html3/setusercontext.html">setusercontext(3)</a>, <a class="link-man" href="../html5/group.html">group(5)</a>, <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>, <a class="link-man" href="../html5/passwd.html">passwd(5)</a>, <a class="link-man" href="../html7/environ.html">environ(7)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">su</b> command appeared in Version&#160;7 AT&amp;T UNIX.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The login name is not optional for root if there are shell arguments.</div>
</div>
</body>
</html>

