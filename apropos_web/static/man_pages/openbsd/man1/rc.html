<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
RCS(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rcs</b> &#8212; <span class="desc">RCS file management program</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 3.00ex;"/>
<col/>
<tbody>
<tr>
<td>
rcs</td>
<td>
[<span class="opt"><b class="flag">-IiLqTUV</b></span>] [<span class="opt"><b class="flag">-A</b><i class="arg">oldfile</i></span>] [<span class="opt"><b class="flag">-a</b><i class="arg">users</i></span>] [<span class="opt"><b class="flag">-b</b>[<span class="opt"><i class="arg">rev</i></span>]</span>] [<span class="opt"><b class="flag">-c</b><i class="arg">string</i></span>] [<span class="opt"><b class="flag">-e</b>[<span class="opt"><i class="arg">users</i></span>]</span>] [<span class="opt"><b class="flag">-k</b><i class="arg">mode</i></span>] [<span class="opt"><b class="flag">-l</b>[<span class="opt"><i class="arg">rev</i></span>]</span>] [<span class="opt"><b class="flag">-m</b><i class="arg">rev</i>:<i class="arg">msg</i></span>] [<span class="opt"><b class="flag">-o</b><i class="arg">rev</i></span>] [<span class="opt"><b class="flag">-t</b>[<span class="opt"><i class="arg">str</i></span>]</span>] [<span class="opt"><b class="flag">-u</b>[<span class="opt"><i class="arg">rev</i></span>]</span>] [<span class="opt"><b class="flag">-x</b><i class="arg">suffixes</i></span>] <i class="arg">file ...</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Revision Control System (RCS) is a software tool which lets people manage multiple revisions of text that is revised frequently, such as source code or documentation.<div class="spacer">
</div>
The <b class="name">rcs</b> program is used to create RCS files or manipulate the contents of existing files. A set of helper tools is also available: specific revisions of files may be checked in or out, using <a class="link-man" href="../html1/ci.html">ci(1)</a> and <a class="link-man" href="../html1/co.html">co(1)</a>; differences between revisions viewed or merged, using <a class="link-man" href="../html1/rcsdiff.html">rcsdiff(1)</a> and <a class="link-man" href="../html1/rcsmerge.html">rcsmerge(1)</a>; and information about RCS files and keyword strings displayed using <a class="link-man" href="../html1/rlog.html">rlog(1)</a> and <a class="link-man" href="../html1/ident.html">ident(1)</a>. See the respective manual pages for more information about these utilities.<div class="spacer">
</div>
The following options are supported:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-A</b><i class="arg">oldfile</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Append the access list of <i class="arg">oldfile</i> to the access list of the RCS files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-a</b><i class="arg">users</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Add the usernames specified in the comma-separated list <i class="arg">users</i> to the access list of the RCS files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b>[<span class="opt"><i class="arg">rev</i></span>]</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Set the default branch (see below) to <i class="arg">rev</i>. If no argument is specified, the default branch is set to the highest numbered branch.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b><i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Set comment leader to <i class="arg">string</i>. The comment leader specifies the comment character(s) for a file. This option is useful for compatibility with older RCS implementations only.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b>[<span class="opt"><i class="arg">users</i></span>]</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Remove the usernames specified in the comma-separated list <i class="arg">users</i> from the access list of the RCS files. If <i class="arg">users</i> is not specified, all users are removed from the access list.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-I</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Interactive mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-i</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Create and initialize a new RCS file. If the RCS file has no path prefix, try to first create it in the <i class="file">./RCS</i> subdirectory or, if that fails, in the current directory. Files created this way contain no revision.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b><i class="arg">mode</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Specify the keyword substitution mode (see below).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Enable strict locking on the RCS files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b>[<span class="opt"><i class="arg">rev</i></span>]</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Lock revision <i class="arg">rev</i> on the RCS files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b><i class="arg">rev</i>:<i class="arg">msg</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Replace revision <i class="arg">rev</i>'s log message with <i class="arg">msg</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b><i class="arg">rev</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Delete one or more revisions. The specifications of the values or revisions are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
rev</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specific revision.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
rev1:rev2</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Delete all revisions of a branch between <i class="arg">rev1</i> and <i class="arg">rev2</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
rev1::rev2</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Delete all revisions of a branch between <i class="arg">rev1</i> and <i class="arg">rev2</i> without deleting revisions <i class="arg">rev1</i> and <i class="arg">rev2</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
:rev</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Delete all revisions of the branch until revision <i class="arg">rev</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
rev:</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Delete all revisions of the branch from revision <i class="arg">rev</i> until the last revision of the branch.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Be quiet about reporting.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-T</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Preserve the modification time of RCS files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b>[<span class="opt"><i class="arg">str</i></span>]</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Change the descriptive text. The argument <i class="arg">str</i> is interpreted as the name of a file containing the descriptive text or, if prefixed with a &#8216;-&#8217;, the actual descriptive text itself. If no argument is used, the descriptive text is taken from standard input terminated by end-of-file or by a line containing the &#8216;.&#8217; character by itself.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-U</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Disable strict locking on the RCS files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b>[<span class="opt"><i class="arg">rev</i></span>]</dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Unlock revision <i class="arg">rev</i> on the RCS files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-V</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Print the program's version string and exit.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-x</b><i class="arg">suffixes</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Specifies the suffixes for RCS files. Suffixes should be separated by the &#8216;/&#8217; character.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4252414e4348455320414e44205245564953494f4e53">BRANCHES AND REVISIONS</h1> Files may be selected by <span class="emph">revision</span> or, where no revision is specified, the latest revision of the default <span class="emph">branch</span> is used. Revisions are specified either by using the <b class="flag">-r</b> option or by appending the revision number to any option that supports it. Branches are selected using the <b class="flag">-b</b> option.<div class="spacer">
</div>
A file's revision consists of two elements: release number and level number. For example, revision 2.3 of a file denotes release 2, level 3. Levels may also be subdivided into sublevels: this might happen, for example, if a parallel development is forked from a lower level revision. The primary levels and the sublevels belong to separate branches: the primary levels belong to a branch called HEAD, while sublevels belong to branches specified by revision.<div class="spacer">
</div>
<b class="name">rcs</b> also supports the notion of <span class="emph">state</span>. The state is an arbitrary string of characters used to describe a file (or a specific revision of a file). States can be set or changed using the <b class="flag">-s</b> option, for RCS tools which support it. The state of a file/revision can be modified without having to check in a new file/revision. The default state is &#8216;Exp&#8217; (Experimental). Examples of states could be &#8216;Dev&#8217;, &#8216;Reviewed&#8217;, or &#8216;Stab&#8217;.<div class="spacer">
</div>
In order to make large groups of RCS files more manageable, RCS tools have the ability to select files by their <span class="emph">symbolic name</span>. Thus files can be selected by their symbolic name, rather than numerical revision. <a class="link-man" href="../html1/ci.html">ci(1)</a> <b class="flag">-N</b> and <b class="flag">-n</b> are used to set symbolic names for files.<div class="spacer">
</div>
The following methods of file selection are therefore available: revision number, state, and symbolic name. For options which take as argument <i class="arg">rev</i> or <i class="arg">state</i>, any of these methods may be used. Some examples:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
$ co -r&quot;myproject&quot; foo.c 
$ rcs -m1.3:update foo.c 
$ ci -s&quot;Exp&quot; bar.c</pre>
</div>
<div class="section">
<h1 id="x4b4559574f524420535542535449545554494f4e">KEYWORD SUBSTITUTION</h1> As long as source files are edited inside a working directory, their state can be determined using the <a class="link-man" href="../html1/cvs.html">cvs(1)</a> <b class="cmd">status</b> or <b class="cmd">log</b> commands, but as soon as files get exported from a local working copy, it becomes harder to identify which revisions they are.<div class="spacer">
</div>
<b class="name">rcs</b> and <a class="link-man" href="../html1/cvs.html">cvs(1)</a> use a mechanism known as &#8216;keyword substitution&#8217; to help identify the files. Embedded strings of the form $keyword$ and $keyword:...$ in a file are replaced with strings of the form $keyword: value$ whenever a new revision of the file is obtained. The possible keywords are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 3.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
$Author$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The name of the user who checked in the revision.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$Date$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The date and hour (UTC) the revision was checked in.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$Header$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Standard header containing the full pathname of the RCS file, the revision number, the date (UTC), the author and the state.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$Id$ and $OpenBSD$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The same content as $Header$ but without the path of the RCS file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$Log$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The log message supplied during commit, preceded by a header containing the RCS filename, the revision number, the author, and the date (UTC).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$Mdocdate$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Produce a date of the form month name, day number, and year, suitable for the <a class="link-man" href="../html7/mdoc.html">mdoc(7)</a> &#8220;Dd&#8221; macro.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$Name$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The tag name used to check out the file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$RCSfile$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The name of the RCS file, but without a path.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$Revision$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The revision number assigned to the revision.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$Source$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The full pathname of the RCS file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
$State$</dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The state assigned to the revision.</dd>
</dl>
<div class="spacer">
</div>
Keyword substitution has its disadvantages: sometimes the literal text string $Author$ is wanted inside a file without <b class="name">rcs</b> or <a class="link-man" href="../html1/cvs.html">cvs(1)</a> interpreting it as a keyword and expanding it. The <b class="flag">-k</b><i class="arg">o</i> option can be used to turn off keyword substitution entirely though. There is unfortunately no way to selectively turn off keyword substitution.<div class="spacer">
</div>
Each file and working directory copy of a file have a stored default substitution mode. Substitution modes on files are set by the <b class="flag">-k</b><i class="arg">mode</i> option.<div class="spacer">
</div>
The possible substitution modes are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 3.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b><i class="arg">b</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">-k</b><i class="arg">o</i>, but also avoids the conversion of line endings. This option is used to handle binary files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b><i class="arg">k</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Does not substitute the keywords. Useful with the <a class="link-man" href="../html1/cvs.html">cvs(1)</a> <b class="cmd">diff</b> and <a class="link-man" href="../html1/rcsdiff.html">rcsdiff(1)</a> commands to avoid displaying the differences between keyword substitutions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b><i class="arg">kv</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The default behaviour. Keywords are normally substituted i.e. $Revision$ becomes $Revision: 1.1 $.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b><i class="arg">kvl</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">-k</b><i class="arg">kv</i>, except that the locker's name is displayed along with the version if the given revision is currently locked. This option is normally not useful as <b class="name">rcs</b> and <a class="link-man" href="../html1/cvs.html">cvs(1)</a> do not use file locking by default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b><i class="arg">o</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
No substitutions are done. This option is often used with the <a class="link-man" href="../html1/cvs.html">cvs(1)</a> <b class="cmd">import</b> command to guarantee that files that already contain external keywords do not get modified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b><i class="arg">v</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Substitute the value of keywords instead of keywords themselves e.g. instead of $Revision$, only insert 1.1 and not $Revision: 1.1 $. This option must be used with care, as it can only be used once. It is often used with the <a class="link-man" href="../html1/cvs.html">cvs(1)</a> <b class="cmd">export</b> command to freeze the values before releasing software.</dd>
</dl>
</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">RCSINIT</span></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
If set, this variable should contain a list of space-delimited options that are prepended to the argument list.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">rcs</b> utility exits&#160;0 on success, and&#160;&gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> One of the most common uses of <b class="name">rcs</b> is to track changes to a document containing source code.<div class="spacer">
</div>
As an example, we'll look at a user wishing to track source changes to a file <i class="arg">foo.c</i>.<div class="spacer">
</div>
If the <i class="arg">RCS</i> directory does not exist yet, create it as follows and invoke the check-in command:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
$ mkdir RCS 
$ ci foo.c</pre>
<div class="spacer">
</div>
This command creates an RCS file <i class="arg">foo.c,v</i> in the <i class="arg">RCS</i> directory, stores <i class="arg">foo.c</i> into it as revision 1.1, and deletes <i class="arg">foo.c</i>. <a class="link-man" href="../html1/ci.html">ci(1)</a> will prompt for a description of the file to be entered. Whenever a newly created (or updated) file is checked-in, <a class="link-man" href="../html1/ci.html">ci(1)</a> will prompt for a log message to be entered which should summarize the changes made to the file. That log message will be added to the RCS file along with the new revision.<div class="spacer">
</div>
The <a class="link-man" href="../html1/co.html">co(1)</a> command can now be used to obtain a copy of the checked-in <i class="arg">foo.c,v</i> file:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ co foo.c</code></div>
</blockquote>
<div class="spacer">
</div>
This command checks the file out in unlocked mode. If a user wants to have exclusive access to the file to make changes to it, it needs to be checked out in locked mode using the <b class="flag">-l</b> option of the <a class="link-man" href="../html1/co.html">co(1)</a> command. Only one concurrent locked checkout of a revision is permitted.<div class="spacer">
</div>
Once changes have been made to the <i class="file">foo.c</i> file, and before checking the file in, the <a class="link-man" href="../html1/rcsdiff.html">rcsdiff(1)</a> command can be used to view changes between the working file and the most recently checked-in revision:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ rcsdiff -u foo.c</code></div>
</blockquote>
<div class="spacer">
</div>
The <b class="flag">-u</b> option produces a unified diff. See <a class="link-man" href="../html1/diff.html">diff(1)</a> for more information.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/ci.html">ci(1)</a>, <a class="link-man" href="../html1/co.html">co(1)</a>, <a class="link-man" href="../html1/cvs.html">cvs(1)</a>, <a class="link-man" href="../html1/ident.html">ident(1)</a>, <a class="link-man" href="../html1/rcsclean.html">rcsclean(1)</a>, <a class="link-man" href="../html1/rcsdiff.html">rcsdiff(1)</a>, <a class="link-man" href="../html1/rcsmerge.html">rcsmerge(1)</a>, <a class="link-man" href="../html1/rlog.html">rlog(1)</a><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">Tichy, Walter F.</span>, <span class="ref-title">RCS -- a system for version control</span>, <i class="ref-jrnl">Software--Practice &amp; Experience</i>, <span class="ref-vol">15:7</span>, <span class="ref-page">pp. 637-654</span>, <span class="ref-date">July, 1985</span>.</span></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> OpenRCS is compatible with Walter Tichy's original RCS implementation.<div class="spacer">
</div>
The flags [<span class="opt"><b class="flag">-Mz</b></span>] have no effect and are provided for compatibility only.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The OpenRCS project is a BSD-licensed rewrite of the original Revision Control System. OpenRCS is written by Jean-Francois Brousseau, Joris Vink, Niall O'Higgins, and Xavier Santolaria.<div class="spacer">
</div>
The original RCS code was written in large parts by Walter F. Tichy and Paul Eggert.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> For historical reasons, the RCS tools do not permit whitespace between options and their arguments.</div>
</div>
</body>
</html>

