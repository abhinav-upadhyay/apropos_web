<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SSL_CTX_ADD_SESSION(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">SSL_CTX_add_session</b>, <b class="name">SSL_add_session</b>, <b class="name">SSL_CTX_remove_session</b>, <b class="name">SSL_remove_session</b> &#8212; <span class="desc">manipulate session cache</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">openssl/ssl.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">SSL_CTX_add_session</b>(<i class="farg" style="white-space:nowrap;">SSL_CTX *ctx</i>, <i class="farg" style="white-space:nowrap;">SSL_SESSION *c</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">SSL_add_session</b>(<i class="farg" style="white-space:nowrap;">SSL_CTX *ctx</i>, <i class="farg" style="white-space:nowrap;">SSL_SESSION *c</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">SSL_CTX_remove_session</b>(<i class="farg" style="white-space:nowrap;">SSL_CTX *ctx</i>, <i class="farg" style="white-space:nowrap;">SSL_SESSION *c</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">SSL_remove_session</b>(<i class="farg" style="white-space:nowrap;">SSL_CTX *ctx</i>, <i class="farg" style="white-space:nowrap;">SSL_SESSION *c</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">SSL_CTX_add_session</b>() adds the session <i class="farg">c</i> to the context <i class="farg">ctx</i>. The reference count for session <i class="farg">c</i> is incremented by 1. If a session with the same session id already exists, the old session is removed by calling <a class="link-man" href="../html3/SSL_SESSION_free.html">SSL_SESSION_free(3)</a>.<div class="spacer">
</div>
<b class="fname">SSL_CTX_remove_session</b>() removes the session <i class="farg">c</i> from the context <i class="farg">ctx</i>. <a class="link-man" href="../html3/SSL_SESSION_free.html">SSL_SESSION_free(3)</a> is called once for <i class="farg">c</i>.<div class="spacer">
</div>
<b class="fname">SSL_add_session</b>() and <b class="fname">SSL_remove_session</b>() are synonyms for their <b class="fname">SSL_CTX_*</b>() counterparts.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> When adding a new session to the internal session cache, it is examined whether a session with the same session id already exists. In this case it is assumed that both sessions are identical. If the same session is stored in a different <span class="type">SSL_SESSION</span> object, the old session is removed and replaced by the new session. If the session is actually identical (the <span class="type">SSL_SESSION</span> object is identical), <b class="fname">SSL_CTX_add_session</b>() is a no-op, and the return value is 0.<div class="spacer">
</div>
If a server <span class="type">SSL_CTX</span> is configured with the <span class="define">SSL_SESS_CACHE_NO_INTERNAL_STORE</span> flag then the internal cache will not be populated automatically by new sessions negotiated by the SSL/TLS implementation, even though the internal cache will be searched automatically for session-resume requests (the latter can be suppressed by <span class="define">SSL_SESS_CACHE_NO_INTERNAL_LOOKUP</span>). So the application can use <b class="fname">SSL_CTX_add_session</b>() directly to have full control over the sessions that can be resumed if desired.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The following values are returned by all functions:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The operation failed. In case of the add operation, it was tried to add the same (identical) session twice. In case of the remove operation, the session was not found in the cache.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The operation succeeded.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/ssl.html">ssl(3)</a>, <a class="link-man" href="../html3/SSL_CTX_set_session_cache_mode.html">SSL_CTX_set_session_cache_mode(3)</a>, <a class="link-man" href="../html3/SSL_SESSION_free.html">SSL_SESSION_free(3)</a></div>
</div>
</body>
</html>

