<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
TZSET(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">tzset</b>, <b class="name">tzsetwall</b> &#8212; <span class="desc">initialize time conversion information</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">time.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">tzset</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">tzsetwall</b>(<i class="farg" style="white-space:nowrap;">void</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">tzset</b>() uses the value of the environment variable <span class="env">TZ</span> to set time conversion information used by <a class="link-man" href="../html3/localtime.html">localtime(3)</a>. If <span class="env">TZ</span> does not appear in the environment, the best available approximation to local wall clock time, as specified by the <a class="link-man" href="../html5/tzfile.html">tzfile(5)</a> format file <i class="file">/etc/localtime</i>, is used by <a class="link-man" href="../html3/localtime.html">localtime(3)</a>.<div class="spacer">
</div>
If <span class="env">TZ</span> appears in the environment but its value is a null string, Coordinated Universal Time (UTC) is used (without leap second correction).<div class="spacer">
</div>
If <span class="env">TZ</span> appears in the environment and its value begins with a colon, it is used as a pathname of a file from which to read the time conversion information.<div class="spacer">
</div>
If <span class="env">TZ</span> appears in the environment and its value does not begin with a colon, it is first used as the pathname of a file from which to read the time conversion information, and, if that file cannot be read, is used directly as a specification of the time conversion information.<div class="spacer">
</div>
When <span class="env">TZ</span> is used as a pathname, if it begins with a slash, it is used as an absolute pathname; otherwise, it is used as a pathname relative to a system time conversion information directory. The file must be in the format specified in <a class="link-man" href="../html5/tzfile.html">tzfile(5)</a>.<div class="spacer">
</div>
When <span class="env">TZ</span> is used directly as a specification of the time conversion information, it must have the following syntax (without whitespace between <i class="arg">std</i> and <i class="arg">offset</i>):<div class="spacer">
</div>
<div style="margin-left: 5.00ex;" class="display">
<i class="arg">std</i> <i class="arg">offset</i>[<span class="opt"><i class="arg">dst</i>[<span class="opt"><i class="arg">offset</i></span>]</span>][<span class="opt">,<i class="arg">rule</i></span>]</div>
<div class="spacer">
</div>
Where:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">std</i> <code class="none">and</code> <i class="arg">dst</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Three or more bytes that are the designation for the standard (<i class="arg">std</i>) or summer (<i class="arg">dst</i>) time zone. Only <i class="arg">std</i> is required; if <i class="arg">dst</i> is missing, then summer time does not apply in this locale. Upper and lowercase letters are explicitly allowed. Any characters except a leading colon (&#8216;:&#8217;), digits, comma (&#8216;,&#8217;), minus (&#8216;-&#8217;), plus (&#8216;+&#8217;), and ASCII NUL are allowed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">offset</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Indicates the value one must add to the local time to arrive at Coordinated Universal Time. <i class="arg">offset</i> has the form:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<i class="arg">hh</i>[<span class="opt">:<i class="arg">mm</i>[<span class="opt">:<i class="arg">ss</i></span>]</span>]</div>
</blockquote>
<div class="spacer">
</div>
The minutes (<i class="arg">mm</i>) and seconds (<i class="arg">ss</i>) are optional. The hour (<i class="arg">hh</i>) is required and may be a single digit. The <i class="arg">offset</i> following <i class="arg">std</i> is required. If no <i class="arg">offset</i> follows <i class="arg">dst</i>, summer time is assumed to be one hour ahead of standard time. One or more digits may be used; the value is always interpreted as a decimal number. The hour must be between zero and 24, and the minutes (and seconds) -- if present -- between zero and 59. If preceded by a &#8220;-&#8221;, the time zone shall be east of the Prime Meridian; otherwise it shall be west (which may be indicated by an optional preceding &#8220;+&#8221;).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">rule</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Indicates when to change to and back from summer time. <i class="arg">rule</i> has the form:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<i class="arg">date</i>/<i class="arg">time</i>,<i class="arg">date</i>/<i class="arg">time</i></div>
</blockquote>
<div class="spacer">
</div>
where the first <i class="arg">date</i> describes when the change from standard to summer time occurs and the second <i class="arg">date</i> describes when the change back happens. Each <i class="arg">time</i> field describes when, in current local time, the change to the other time is made.<div class="spacer">
</div>
The format of <i class="arg">date</i> is one of the following:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">J</b><i class="arg">n</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The Julian day <i class="arg">n</i> (1 &lt;= <i class="arg">n</i> <code class="none">&lt;= 365</code>). Leap days are not counted; that is, in all years -- including leap years -- February 28 is day 59 and March 1 is day 60. It is impossible to explicitly refer to the occasional February 29.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">n</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The zero-based Julian day (0 &lt;= <i class="arg">n</i> <code class="none">&lt;= 365</code>). Leap days are counted, and it is possible to refer to February 29.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">M</b><i class="arg">m</i>.<i class="arg">n</i>.<i class="arg">d</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Day <i class="arg">d</i> (1 &lt;= <i class="arg">d</i> <code class="none">&lt;= 6</code>) of week <i class="arg">n</i> (1 &lt;= <i class="arg">n</i> <code class="none">&lt;= 5</code>) of month <i class="arg">m</i> (1 &lt;= <i class="arg">m</i> <code class="none">&lt;= 12</code>), where week 5 means &#8220;the last <i class="arg">d</i> day in month <i class="arg">m</i>&#8221; which may occur in either the fourth or the fifth week. Week 1 is the first week in which the <i class="arg">d</i>th day occurs. Day zero is Sunday.</dd>
</dl>
<div class="spacer">
</div>
The <i class="arg">time</i> has the same format as <i class="arg">offset</i> except that no leading sign (&#8220;-&#8221; or &#8220;+&#8221;) is allowed. The default, if <i class="arg">time</i> is not given, is <b class="flag">02:00:00</b>.</dd>
</dl>
<div class="spacer">
</div>
If no <i class="arg">rule</i> is present in <span class="env">TZ</span>, the rules specified by the <a class="link-man" href="../html5/tzfile.html">tzfile(5)</a> format file <b class="flag">posixrules</b> in the system time conversion information directory are used, with the standard and summer time offsets from UTC replaced by those specified by the <i class="arg">offset</i> values in <span class="env">TZ</span>.<div class="spacer">
</div>
For compatibility with System V Release 3.1, a semicolon (&#8216;;&#8217;) may be used to separate the <i class="arg">rule</i> from the rest of the specification.<div class="spacer">
</div>
If the <span class="env">TZ</span> environment variable does not specify a <a class="link-man" href="../html5/tzfile.html">tzfile(5)</a> format file and cannot be interpreted as a direct specification, UTC is used.<div class="spacer">
</div>
<b class="fname">tzsetwall</b>() behaves identically to <b class="fname">tzset</b>() but it only uses the <i class="file">/etc/localtime</i> file (that is, it ignores the <span class="env">TZ</span> environment variable).</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/share/zoneinfo</i></dt>
<dd class="list-tag" style="margin-left: 30.00ex;">
time zone information directory</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/localtime</i></dt>
<dd class="list-tag" style="margin-left: 30.00ex;">
local time zone file</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/share/zoneinfo/posixrules</i></dt>
<dd class="list-tag" style="margin-left: 30.00ex;">
used with POSIX-style <span class="env">TZ</span>s</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/share/zoneinfo/GMT</i></dt>
<dd class="list-tag" style="margin-left: 30.00ex;">
for UTC leap seconds</dd>
</dl>
<div class="spacer">
</div>
If <i class="file">/usr/share/zoneinfo/GMT</i> is absent, UTC leap seconds are loaded from <i class="file">/usr/share/zoneinfo/posixrules</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/ctime.html">ctime(3)</a>, <a class="link-man" href="../html3/getenv.html">getenv(3)</a>, <a class="link-man" href="../html3/strftime.html">strftime(3)</a>, <a class="link-man" href="../html3/time.html">time(3)</a>, <a class="link-man" href="../html5/tzfile.html">tzfile(5)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">tzset</b>() function conforms to IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;). The <b class="fname">tzsetwall</b>() function is an extension to that specification.</div>
</div>
</body>
</html>

