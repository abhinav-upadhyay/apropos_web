<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
NEW_ITEM(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
NEW_ITEM(3)</td>
<td class="head-vol">
Library Functions Manual</td>
<td class="head-rtitle">
NEW_ITEM(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1>  <b>new_item</b>, <b>free_item</b> - create and destroy menu items</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;menu.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
ITEM *new_item(const char *name, const char *description);<div style="height: 0.00em;">
&#160;</div>
int free_item(ITEM *item);<div style="height: 0.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The function  <b>new_item</b> allocates a new item and initializes it from the  <b>name</b> and <b>description</b> pointers. Please notice that the item stores only the pointers to the name and description. Those pointers must be valid during the lifetime of the item. So you should be very careful with names or descriptions allocated on the stack of some routines.<div style="height: 0.00em;">
&#160;</div>
The function <b>free_item</b> de-allocates an item. Please notice that it is the responsibility of the application to release the memory for the name or the description of the item.</div>
<div class="section">
<h1>RETURN VALUE</h1> The function  <b>new_item</b> returns <b>NULL</b> on error. It sets errno according to the function's failure:<dl>
<dt>
<b>E_BAD_ARGUMENT</b></dt>
<dd>
Routine detected an incorrect or out-of-range argument.</dd>
</dl>
<dl>
<dt>
<b>E_SYSTEM_ERROR</b></dt>
<dd>
System error occurred, e.g., malloc failure.</dd>
</dl>
<div class="spacer">
</div>
The function <b>free_item</b> returns one of the following:<dl>
<dt>
<b>E_OK</b></dt>
<dd>
The routine succeeded.</dd>
</dl>
<dl>
<dt>
<b>E_BAD_ARGUMENT</b></dt>
<dd>
Routine detected an incorrect or out-of-range argument.</dd>
</dl>
<dl>
<dt>
<b>E_CONNECTED</b></dt>
<dd>
Item is connected to a menu.</dd>
</dl>
<dl>
<dt>
<b>E_SYSTEM_ERROR</b></dt>
<dd>
System error occurred (see <b>errno</b>).</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>curses</b>(3), <b>menu</b>(3).</div>
<div class="section">
<h1>NOTES</h1> The header file  <b>&lt;menu.h&gt;</b> automatically includes the header file  <b>&lt;curses.h&gt;</b>.</div>
<div class="section">
<h1>PORTABILITY</h1> These routines emulate the System V menu library.  They were not supported on Version 7 or BSD versions.</div>
<div class="section">
<h1>AUTHORS</h1> Juergen Pfeifer.  Manual pages and adaptation for new curses by Eric S. Raymond.</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

