<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
BIO_S_SOCKET(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">BIO_s_socket</b>, <b class="name">BIO_new_socket</b> &#8212; <span class="desc">socket BIO</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">openssl/bio.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">BIO_METHOD *</i><br/>
<b class="fname">BIO_s_socket</b>(<i class="farg">void</i>);<div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">BIO_set_fd</b>(<i class="farg">BIO *b</i>, <i class="farg">int fd</i>, <i class="farg">long close_flag</i>);<div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">BIO_get_fd</b>(<i class="farg">BIO *b</i>, <i class="farg">int *c</i>);<div class="spacer">
</div>
<i class="ftype">BIO *</i><br/>
<b class="fname">BIO_new_socket</b>(<i class="farg">int sock</i>, <i class="farg">int close_flag</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">BIO_s_socket</b>() returns the socket BIO method. This is a wrapper around the platform's socket routines.<div class="spacer">
</div>
<a class="link-man" href="../html3/BIO_read.html">BIO_read(3)</a> and <a class="link-man" href="../html3/BIO_write.html">BIO_write(3)</a> read or write the underlying socket. <a class="link-man" href="../html3/BIO_puts.html">BIO_puts(3)</a> is supported but <a class="link-man" href="../html3/BIO_gets.html">BIO_gets(3)</a> is not.<div class="spacer">
</div>
If the close flag is set, then the socket is shut down and closed when the BIO is freed.<div class="spacer">
</div>
<b class="fname">BIO_set_fd</b>() sets the socket of BIO <i class="farg">b</i> to <i class="farg">fd</i> and the close flag to <i class="farg">close_flag</i>.<div class="spacer">
</div>
<b class="fname">BIO_get_fd</b>() places the socket in <i class="farg">c</i> if it is not <span class="define">NULL</span>, it also returns the socket. If <i class="farg">c</i> is not <span class="define">NULL</span> it should be of type <span class="type">int *</span>.<div class="spacer">
</div>
<b class="fname">BIO_new_socket</b>() returns a socket BIO using <i class="farg">sock</i> and <i class="farg">close_flag</i>.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> Socket BIOs also support any relevant functionality of file descriptor BIOs.<div class="spacer">
</div>
The reason for having separate file descriptor and socket BIOs is that on some platforms, sockets are not file descriptors and use distinct I/O routines. Windows is one such platform. Any code mixing the two will not work on all platforms.<div class="spacer">
</div>
<b class="fname">BIO_set_fd</b>() and <b class="fname">BIO_get_fd</b>() are macros.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">BIO_s_socket</b>() returns the socket BIO method.<div class="spacer">
</div>
<b class="fname">BIO_set_fd</b>() always returns 1.<div class="spacer">
</div>
<b class="fname">BIO_get_fd</b>() returns the socket or -1 if the BIO has not been initialized.<div class="spacer">
</div>
<b class="fname">BIO_new_socket</b>() returns the newly allocated BIO or <span class="define">NULL</span> if an error occurred.</div>
</div>
</body>
</html>

