<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
BIO_CTRL(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">BIO_ctrl</b>, <b class="name">BIO_callback_ctrl</b>, <b class="name">BIO_ptr_ctrl</b>, <b class="name">BIO_int_ctrl</b>, <b class="name">BIO_reset</b>, <b class="name">BIO_seek</b>, <b class="name">BIO_tell</b>, <b class="name">BIO_flush</b>, <b class="name">BIO_eof</b>, <b class="name">BIO_set_close</b>, <b class="name">BIO_get_close</b>, <b class="name">BIO_pending</b>, <b class="name">BIO_wpending</b>, <b class="name">BIO_ctrl_pending</b>, <b class="name">BIO_ctrl_wpending</b>, <b class="name">BIO_get_info_callback</b>, <b class="name">BIO_set_info_callback</b> &#8212; <span class="desc">BIO control operations</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">openssl/bio.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">BIO_ctrl</b>(<i class="farg">BIO *bp</i>, <i class="farg">int cmd</i>, <i class="farg">long larg</i>, <i class="farg">void *parg</i>);<div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">BIO_callback_ctrl</b>(<i class="farg">BIO *b</i>, <i class="farg">int cmd</i>, <i class="farg">void (*fp)(struct bio_st *, int, const char *, int, long, long)</i>);<div class="spacer">
</div>
<i class="ftype">char *</i><br/>
<b class="fname">BIO_ptr_ctrl</b>(<i class="farg">BIO *bp</i>, <i class="farg">int cmd</i>, <i class="farg">long larg</i>);<div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">BIO_int_ctrl</b>(<i class="farg">BIO *bp</i>, <i class="farg">int cmd</i>, <i class="farg">long larg</i>, <i class="farg">int iarg</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_reset</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_seek</b>(<i class="farg">BIO *b</i>, <i class="farg">int ofs</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_tell</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_flush</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_eof</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_set_close</b>(<i class="farg">BIO *b</i>, <i class="farg">long flag</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_get_close</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_pending</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_wpending</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">size_t</i><br/>
<b class="fname">BIO_ctrl_pending</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">size_t</i><br/>
<b class="fname">BIO_ctrl_wpending</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_get_info_callback</b>(<i class="farg">BIO *b</i>, <i class="farg">bio_info_cb **cbp</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">BIO_set_info_callback</b>(<i class="farg">BIO *b</i>, <i class="farg">bio_info_cb *cb</i>);<div class="spacer">
</div>
<i class="ftype">typedef void</i><br/>
<b class="fname">bio_info_cb</b>(<i class="farg">BIO *b</i>, <i class="farg">int oper</i>, <i class="farg">const char *ptr</i>, <i class="farg">int arg1</i>, <i class="farg">long arg2</i>, <i class="farg">long arg3</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">BIO_ctrl</b>(), <b class="fname">BIO_callback_ctrl</b>(), <b class="fname">BIO_ptr_ctrl</b>(), and <b class="fname">BIO_int_ctrl</b>() are BIO &quot;control&quot; operations taking arguments of various types. These functions are not normally called directly, various macros are used instead. The standard macros are described below, macros specific to a particular type of BIO are described in the specific BIO's manual page as well as any special features of the standard calls.<div class="spacer">
</div>
<b class="fname">BIO_reset</b>() typically resets a BIO to some initial state, in the case of file related BIOs for example it rewinds the file pointer to the start of the file.<div class="spacer">
</div>
<b class="fname">BIO_seek</b>() resets a file related BIO's (that is file descriptor and FILE BIOs) file position pointer to <i class="farg">ofs</i> bytes from start of file.<div class="spacer">
</div>
<b class="fname">BIO_tell</b>() returns the current file position of a file related BIO.<div class="spacer">
</div>
<b class="fname">BIO_flush</b>() normally writes out any internally buffered data, in some cases it is used to signal EOF and that no more data will be written.<div class="spacer">
</div>
<b class="fname">BIO_eof</b>() returns 1 if the BIO has read EOF, the precise meaning of &quot;EOF&quot; varies according to the BIO type.<div class="spacer">
</div>
<b class="fname">BIO_set_close</b>() sets the BIO <i class="farg">b</i> close flag to <i class="farg">flag</i>. <i class="farg">flag</i> can take the value <span class="define">BIO_CLOSE</span> or <span class="define">BIO_NOCLOSE</span>. Typically <span class="define">BIO_CLOSE</span> is used in a source/sink BIO to indicate that the underlying I/O stream should be closed when the BIO is freed.<div class="spacer">
</div>
<b class="fname">BIO_get_close</b>() returns the BIO's close flag.<div class="spacer">
</div>
<b class="fname">BIO_pending</b>(), <b class="fname">BIO_ctrl_pending</b>(), <b class="fname">BIO_wpending</b>(), and <b class="fname">BIO_ctrl_wpending</b>() return the number of pending characters in the BIO's read and write buffers. Not all BIOs support these calls. <b class="fname">BIO_ctrl_pending</b>() and <b class="fname">BIO_ctrl_wpending</b>() return a <span class="type">size_t</span> type and are functions, <b class="fname">BIO_pending</b>() and <b class="fname">BIO_wpending</b>() are macros which call <b class="fname">BIO_ctrl</b>().</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">BIO_reset</b>() normally returns 1 for success and 0 or -1 for failure. File BIOs are an exception, they return 0 for success and -1 for failure.<div class="spacer">
</div>
<b class="fname">BIO_seek</b>() and <b class="fname">BIO_tell</b>() both return the current file position on success and -1 for failure, except file BIOs which for <b class="fname">BIO_seek</b>() always return 0 for success and -1 for failure.<div class="spacer">
</div>
<b class="fname">BIO_flush</b>() returns 1 for success and 0 or -1 for failure.<div class="spacer">
</div>
<b class="fname">BIO_eof</b>() returns 1 if EOF has been reached 0 otherwise.<div class="spacer">
</div>
<b class="fname">BIO_set_close</b>() always returns 1.<div class="spacer">
</div>
<b class="fname">BIO_get_close</b>() returns the close flag value <span class="define">BIO_CLOSE</span> or <span class="define">BIO_NOCLOSE</span>.<div class="spacer">
</div>
<b class="fname">BIO_pending</b>(), <b class="fname">BIO_ctrl_pending</b>(), <b class="fname">BIO_wpending</b>(), and <b class="fname">BIO_ctrl_wpending</b>() return the amount of pending data.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> Because it can write data, <b class="fname">BIO_flush</b>() may return 0 or -1 indicating that the call should be retried later in a similar manner to <b class="fname">BIO_write</b>(). The <b class="fname">BIO_should_retry</b>() call should be used and appropriate action taken is the call fails.<div class="spacer">
</div>
The return values of <b class="fname">BIO_pending</b>() and <b class="fname">BIO_wpending</b>() may not reliably determine the amount of pending data in all cases. For example in the case of a file BIO some data may be available in the <span class="type">FILE</span> structure's internal buffers but it is not possible to determine this in a portably way. For other types of BIO they may not be supported.<div class="spacer">
</div>
If they do not internally handle a particular <b class="fname">BIO_ctrl</b>() operation, filter BIOs usually pass the operation to the next BIO in the chain. This often means there is no need to locate the required BIO for a particular operation, it can be called on a chain and it will be automatically passed to the relevant BIO. However this can cause unexpected results: for example no current filter BIOs implement <b class="fname">BIO_seek</b>(), but this may still succeed if the chain ends in a FILE or file descriptor BIO.<div class="spacer">
</div>
Source/sink BIOs return an 0 if they do not recognize the <b class="fname">BIO_ctrl</b>() operation.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Some of the return values are ambiguous and care should be taken. In particular a return value of 0 can be returned if an operation is not supported, if an error occurred, if EOF has not been reached and in the case of <b class="fname">BIO_seek</b>() on a file BIO for a successful operation.</div>
</div>
</body>
</html>

