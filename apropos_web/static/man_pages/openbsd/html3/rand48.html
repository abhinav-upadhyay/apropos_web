<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
DRAND48(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">drand48</b>, <b class="name">erand48</b>, <b class="name">lrand48</b>, <b class="name">nrand48</b>, <b class="name">mrand48</b>, <b class="name">jrand48</b>, <b class="name">srand48</b>, <b class="name">srand48_deterministic</b>, <b class="name">seed48</b>, <b class="name">seed48_deterministic</b>, <b class="name">lcong48</b>, <b class="name">lcong48_deterministic</b> &#8212; <span class="desc">pseudo-random number generators and initialization routines</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">stdlib.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">double</i><br/>
<b class="fname">drand48</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">double</i><br/>
<b class="fname">erand48</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">lrand48</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">nrand48</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">mrand48</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">long</i><br/>
<b class="fname">jrand48</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">srand48</b>(<i class="farg" style="white-space:nowrap;">long seed</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">srand48_deterministic</b>(<i class="farg" style="white-space:nowrap;">long seed</i>);<div class="spacer">
</div>
<i class="ftype">unsigned short *</i><br/>
<b class="fname">seed48</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<div class="spacer">
</div>
<i class="ftype">unsigned short *</i><br/>
<b class="fname">seed48_deterministic</b>(<i class="farg" style="white-space:nowrap;">unsigned short xseed[3]</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">lcong48</b>(<i class="farg" style="white-space:nowrap;">unsigned short p[7]</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">lcong48_deterministic</b>(<i class="farg" style="white-space:nowrap;">unsigned short p[7]</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="symb" style="display:inline;margin-left: 1.00ex;">
Standards insist that this interface return deterministic results. Unsafe usage is very common, so <span class="unix">OpenBSD</span> changed the subsystem to return non-deterministic results by default.</div>
<div class="spacer">
</div>
To satisfy portable code, <b class="fname">srand48</b>(), <b class="fname">seed48</b>(), or <b class="fname">lcong48</b>() should be called to initialize the subsystem. In <span class="unix">OpenBSD</span> the seeding parameters are ignored, and strong random number results will be provided from <a class="link-man" href="../html3/arc4random.html">arc4random(3)</a>. In other systems, the parameters prime a simplistic deterministic algorithm.<div class="spacer">
</div>
If the standardized behavior is required then <b class="fname">srand48_deterministic</b>(), <b class="fname">seed48_deterministic</b>(), and <b class="fname">lcong48_deterministic</b>() can be substituted for <b class="fname">srand48</b>(), <b class="fname">seed48</b>(), and <b class="fname">lcong48</b>(). That will cause subsequent calls to <b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">jrand48</b>() to return results using the deterministic algorithm.<div class="spacer">
</div>
<b class="fname">drand48</b>() and <b class="fname">erand48</b>() return values of type double. The full 48 bits of r(n+1) are loaded into the mantissa of the returned value, with the exponent set such that the values produced lie in the interval [0.0, 1.0].<div class="spacer">
</div>
<b class="fname">lrand48</b>() and <b class="fname">nrand48</b>() return values of type long in the range [0, 2**31-1]. The high-order (31) bits of r(n+1) are loaded into the lower bits of the returned value, with the topmost (sign) bit set to zero.<div class="spacer">
</div>
<b class="fname">mrand48</b>() and <b class="fname">jrand48</b>() return values of type long in the range [-2**31, 2**31-1]. The high-order (32) bits of r(n+1) are loaded into the returned value.<div class="spacer">
</div>
In the deterministic mode, the <b class="fname">rand48</b>() family of functions generates numbers using a linear congruential algorithm working on integers 48 bits in size. The particular formula employed is r(n+1) = (a * r(n) + c) mod m where the default values are for the multiplicand a = 0xfdeece66d = 25214903917 and the addend c = 0xb = 11. The modulus is always fixed at m = 2 ** 48. r(n) is called the seed of the random number generator.<div class="spacer">
</div>
For all the six generator routines described next, the first computational step is to perform a single iteration of the algorithm.<div class="spacer">
</div>
<b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">mrand48</b>() use an internal buffer to store r(n). For these functions the initial value of r(0) = 0x1234abcd330e = 20017429951246.<div class="spacer">
</div>
On the other hand, <b class="fname">erand48</b>(), <b class="fname">nrand48</b>(), and <b class="fname">jrand48</b>() use a user-supplied buffer to store the seed r(n), which consists of an array of 3 shorts, where the zeroth member holds the least significant bits.<div class="spacer">
</div>
All functions share the same multiplicand and addend.<div class="spacer">
</div>
<b class="fname">srand48_deterministic</b>() is used to initialize the internal buffer r(n) of <b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">mrand48</b>() such that the 32 bits of the seed value are copied into the upper 32 bits of r(n), with the lower 16 bits of r(n) arbitrarily being set to 0x330e. Additionally, the constant multiplicand and addend of the algorithm are reset to the default values given above.<div class="spacer">
</div>
<b class="fname">seed48_deterministic</b>() also initializes the internal buffer r(n) of <b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">mrand48</b>(), but here all 48 bits of the seed can be specified in an array of 3 shorts, where the zeroth member specifies the lowest bits. Again, the constant multiplicand and addend of the algorithm are reset to the default values given above. <b class="fname">seed48_deterministic</b>() returns a pointer to an array of 3 shorts which contains the old seed. This array is statically allocated, so its contents are lost after each new call to <b class="fname">seed48_deterministic</b>().<div class="spacer">
</div>
Finally, <b class="fname">lcong48_deterministic</b>() allows full control over the multiplicand and addend used in <b class="fname">drand48</b>(), <b class="fname">erand48</b>(), <b class="fname">lrand48</b>(), <b class="fname">nrand48</b>(), <b class="fname">mrand48</b>(), and <b class="fname">jrand48</b>(), and the seed used in <b class="fname">drand48</b>(), <b class="fname">lrand48</b>(), and <b class="fname">mrand48</b>(). An array of 7 shorts is passed as parameter; the first three shorts are used to initialize the seed; the second three are used to initialize the multiplicand; and the last short is used to initialize the addend. It is thus not possible to use values greater than 0xffff as the addend.<div class="spacer">
</div>
Note that all three methods of seeding the random number generator always also set the multiplicand and addend for any of the six generator calls.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/arc4random.html">arc4random(3)</a>, <a class="link-man" href="../html3/rand.html">rand(3)</a>, <a class="link-man" href="../html3/random.html">random(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">drand48</b>(), <b class="fname">erand48</b>(), <b class="fname">jrand48</b>(), <b class="fname">lrand48</b>(), <b class="fname">mrand48</b>(), and <b class="fname">nrand48</b>(), functions conform to IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;).<div class="spacer">
</div>
The <b class="fname">seed48</b>(), <b class="fname">srand48</b>(), and <b class="fname">lcong48</b>() function do not conform to ANSI X3.159-1989 (&#8220;ANSI&#160;C89&#8221;), intentionally.<div class="spacer">
</div>
The <b class="fname">seed48_deterministic</b>(), <b class="fname">srand48_deterministic</b>(), and <b class="fname">lcong48_deterministic</b>() functions are <span class="unix">OpenBSD</span> extensions.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Martin Birgmeier</span></div>
</div>
</body>
</html>

