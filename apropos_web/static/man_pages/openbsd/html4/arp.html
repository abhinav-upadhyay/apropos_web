<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
ARP(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">arp</b> &#8212; <span class="desc">Address Resolution Protocol</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">pseudo-device ether</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The Address Resolution Protocol (ARP) is used to dynamically map between Internet host addresses and Ethernet addresses. It is used by all of the Ethernet interface drivers. It is not specific to Internet protocols or to Ethernet, but this implementation currently supports only that combination.<div class="spacer">
</div>
ARP caches Internet-Ethernet address mappings. When an interface requests a mapping for an address not in the cache, ARP queues the message which requires the mapping and broadcasts a message on the associated network requesting the address mapping. If a response is provided, the new mapping is cached and any pending message is transmitted. ARP will queue at most one packet while waiting for a response to a mapping request; only the most recently transmitted packet is kept. If the target host does not respond after several requests, the host is considered to be down for a short period (normally 20 seconds), allowing an error to be returned to transmission attempts during this interval. The error is <code class="lit">EHOSTDOWN</code> for a non-responding destination host, and <code class="lit">EHOSTUNREACH</code> for a non-responding router.<div class="spacer">
</div>
The ARP cache is stored in the system routing table as dynamically created host routes. The route to a directly attached Ethernet network is installed as a &#8220;cloning&#8221; route (one with the <code class="lit">RTF_CLONING</code> flag set), causing routes to individual hosts on that network to be created on demand. These routes time out periodically (normally 20 minutes after validated; entries are not validated when not in use). An entry for a host which is not responding is a &#8220;reject&#8221; route (one with the <code class="lit">RTF_REJECT</code> flag set).<div class="spacer">
</div>
ARP entries may be added, deleted or changed with the <a class="link-man" href="../html8/arp.html">arp(8)</a> utility. Manually added entries may be temporary, static or permanent, and may be &#8220;published&#8221;, in which case the system will respond to ARP requests for that host as if it were the target of the request. A static entry will not time out, but may be overwritten by network traffic, while a permanent entry will not time out and cannot be overwritten.<div class="spacer">
</div>
ARP watches passively for hosts impersonating the local host (i.e., a host which responds to an ARP mapping request for the local host's address).</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-diag">
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">duplicate IP address %x!! sent from ethernet address: %x:%x:%x:%x:%x:%x</b></dt>
<dd class="list-diag">
ARP has discovered another host on the local network which responds to mapping requests for its own Internet address with a different Ethernet address, generally indicating that two hosts are attempting to use the same Internet address.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">arp info overwritten for %x!! by %x:%x:%x:%x:%x:%x on %x</b></dt>
<dd class="list-diag">
An existing route has been overwritten with a new Ethernet address, for example when the other host has changed Ethernet cards. If the route previously was static/non-expiring, the new route will expire normally.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">arp: attempt to overwrite permanent entry for %x!! by %x:%x:%x:%x:%x:%x on %x</b></dt>
<dd class="list-diag">
As above, but the existing route had been manually set up as permanent. The routing information is not modified.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">arp: attempt to overwrite entry for %x!! on %x by %x:%x:%x:%x:%x:%x on %x</b></dt>
<dd class="list-diag">
ARP has noticed an attempt to overwrite a host's routing entry on one interface with a routing entry for a different interface. The routing information is not modified.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">arp: received reply to broadcast or multicast address</b></dt>
<dd class="list-diag">
ARP received a response which is a broadcast or multicast address. This might indicate an ARP spoofing attempt.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">arp: ether address is broadcast for IP address %s!</b></dt>
<dd class="list-diag">
ARP requested information for a host, and received an answer indicating that the host's Ethernet address is the Ethernet broadcast address. This indicates a misconfigured or broken device.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">arp: ether address is multicast for IP address %s!</b></dt>
<dd class="list-diag">
ARP requested information for a host, and received an answer indicating that the host's Ethernet address is the Ethernet multicast address. This indicates a misconfigured or broken device.</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">arp: attempt to add entry for %s on %s by %s on %s</b></dt>
<dd class="list-diag">
This usually indicates there is more than one interface connected to the same hub, or that the networks have somehow been short-circuited (e.g. IPs that should have been present on interface one are present on interface two).</dd>
<dt class="list-diag" style="margin-top: 1.00em;">
<b class="diag">arplookup: unable to enter address for %s</b></dt>
<dd class="list-diag">
An IP received on the interface does not match the network/netmask of the interface. This indicates a netmask problem.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/inet.html">inet(4)</a>, <a class="link-man" href="../html4/route.html">route(4)</a>, <a class="link-man" href="../html8/arp.html">arp(8)</a>, <a class="link-man" href="../html8/ifconfig.html">ifconfig(8)</a>, <a class="link-man" href="../html8/route.html">route(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <span class="ref"><span class="ref-auth">David C. Plummer</span>, <span class="ref-title">An Ethernet Address Resolution Protocol</span>, <span class="ref-rep">RFC 826</span>, <span class="ref-date">November 1982</span>.</span></div>
</div>
</body>
</html>

