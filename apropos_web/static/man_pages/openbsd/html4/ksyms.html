<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
KSYMS(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ksyms</b> &#8212; <span class="desc">kernel symbol table device</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">pseudo-device ksyms</b> [<span class="opt"><i class="arg">count</i></span>]</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <i class="file">/dev/ksyms</i> device masquerades as an <span class="unix">OpenBSD</span> native executable with the symbols from the running kernel as its symbol segment. Use of <i class="file">/dev/ksyms</i> requires that the boot loader preserve the kernel symbols and place them at the end of the kernel's address space.<div class="spacer">
</div>
The <i class="file">/dev/ksyms</i> device is used to look up the symbol table name list from the running kernel. Because it represents the running kernel it is guaranteed to always be up to date even if the kernel file has been changed (or is even non-existent). It is most useful when used in conjunction with <a class="link-man" href="../html3/nlist.html">nlist(3)</a> or the <a class="link-man" href="../html3/kvm.html">kvm(3)</a> routines (note that <a class="link-man" href="../html3/kvm_open.html">kvm_open(3)</a> and <a class="link-man" href="../html3/kvm_openfiles.html">kvm_openfiles(3)</a> will try <i class="file">/dev/ksyms</i> automatically if the first parameter to them is the <span class="define">NULL</span> pointer).</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/dev/ksyms</i></dt>
<dd class="list-tag" style="margin-left: 32.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> An open of <i class="file">/dev/ksyms</i> will fail if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EPERM</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
An open was attempted with write permissions.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ENXIO</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
No kernel symbols were saved by the boot loader (usually because they were removed with <a class="link-man" href="../html1/strip.html">strip(1)</a>), or the kernel has been compiled without a &#8220;pseudo-device ksyms&#8221; line.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/kvm.html">kvm(3)</a>, <a class="link-man" href="../html3/nlist.html">nlist(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <i class="file">/dev/ksyms</i> device appeared in <span class="unix">OpenBSD&#160;2.4</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> It is not possible to <a class="link-man" href="../html2/mmap.html">mmap(2)</a> <i class="file">/dev/ksyms</i> because the boot loader does not load the symbol table onto a page boundary (so it is not page aligned). If all the boot loaders were fixed, <a class="link-man" href="../html2/mmap.html">mmap(2)</a> support would be trivial.</div>
</div>
</body>
</html>

