<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
WSCONS(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">wscons</b> &#8212; <span class="desc">console access</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">option WSEMUL_SUN</b><br/>
<b class="config">option WSEMUL_NO_VT100</b><br/>
<b class="config">option WSEMUL_DEFAULT=&quot;xxx&quot;</b><br/>
<b class="config">option WS_KERNEL_FG=WSCOL_XXX</b><br/>
<b class="config">option WS_KERNEL_BG=WSCOL_XXX</b><br/>
<b class="config">option WSDISPLAY_COMPAT_USL</b><br/>
<b class="config">option WSDISPLAY_COMPAT_RAWKBD</b><div class="spacer">
</div>
<br/>
<b class="config">wsdisplay* at ...</b><br/>
<b class="config">wskbd*     at ... mux N</b><br/>
<b class="config">wsmouse*   at ... mux N</b><div class="spacer">
</div>
<br/>
<b class="config">pseudo-device wsmux</b> [<span class="opt"><i class="arg">count</i></span>]</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">wscons</b> driver provides support for machine-independent access to the console.<div class="spacer">
</div>
<b class="name">wscons</b> is made of a number of cooperating modules, in particular<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
Hardware support for display adapters, keyboards and mice; see <a class="link-man" href="../html4/wsdisplay.html">wsdisplay(4)</a>, <a class="link-man" href="../html4/wskbd.html">wskbd(4)</a>, and <a class="link-man" href="../html4/wsmouse.html">wsmouse(4)</a>.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Input event multiplexor; see <a class="link-man" href="../html4/wsmux.html">wsmux(4)</a>.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Terminal emulation modules (see below).</li>
<li class="list-bul" style="margin-top: 1.00em;">
Compatibility options to support control operations and other low-level behaviour of existing terminal drivers (see below).</li>
</ul>
<div class="subsection">
<h2 id="x5465726d696e616c20656d756c6174696f6e73">Terminal emulations</h2> <b class="name">wscons</b> does not define its own set of terminal control sequences and special keyboard codes in terms of <a class="link-man" href="../html5/termcap.html">termcap(5)</a>. Instead, a &#8220;terminal emulation&#8221; is assigned to each virtual screen when the screen is created (see <a class="link-man" href="../html8/wsconscfg.html">wsconscfg(8)</a>). Different terminal emulations can be active at the same time on one display.<div class="spacer">
</div>
The following choices are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
dumb</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
This minimal terminal support is always available. No control sequences are supported besides the ASCII control characters. The cursor is not addressable. Only ASCII keyboard codes will be delivered, cursor and functions keys do not work.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
sun</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
The &#8220;sun&#8221; console emulation is available by default on sparc and sparc64 architectures, or if <b class="config">option WSEMUL_SUN</b> was specified at kernel build time. It supports the control sequences of SUN machine consoles and delivers its keyboard codes for function and keypad keys (as far as present on the actually used keyboard).<div class="spacer">
</div>
ANSI colors are also supported on this emulation, if the <span class="env">TERM</span> environment variable is set to <i class="arg">rcons-color</i>.<div class="spacer">
</div>
This emulation is sufficient for full-screen applications.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
vt100</dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
is available by default, but can be disabled with <b class="config">option WSEMUL_NO_VT100</b>. It provides the most commonly used functions of DEC VT100 terminals with some extensions introduced by the DEC VT220 and DEC VT320 models. The features of the original VT100 which are not, or not completely, implemented are:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
VT52 support, 132-column-mode, smooth scroll, light background, keyboard autorepeat control, external printer support, keyboard locking, newline/linefeed switching: Escape sequences related to these features are ignored or answered with standard replies. (DECANM, DECCOLM, DECSCLM, DECSCNM, DECARM, DECPFF, DECPEX, KAM, LNM)</li>
<li class="list-bul" style="margin-top: 1.00em;">
Function keys are not reprogrammable and fonts cannot be downloaded. DECUDK and DECDLD sequences will be ignored.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Neither C1 control set characters will be recognized nor will 8-bit keyboard codes be delivered.</li>
<li class="list-bul" style="margin-top: 1.00em;">
The &#8220;DEC supplemental graphic&#8221; font is approximated by the ISO-latin-1 font, though there are subtle differences.</li>
<li class="list-bul" style="margin-top: 1.00em;">
The actual rendering quality depends on the underlying graphics hardware driver. Characters might be missing in the available fonts and be substituted by more or less fitting replacements.<div class="spacer">
</div>
Depending on the keyboard used, not all function keys might be available.</li>
</ul>
<div class="spacer">
</div>
In addition to the plain VT100 functions, the following features are supported:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
ANSI colors</li>
<li class="list-bul" style="margin-top: 1.00em;">
Some VT220 -like presentation state settings and -reports (DECRSPS), especially tabulator settings.</li>
</ul>
<div class="spacer">
</div>
In most applications, <b class="name">wscons</b> will work sufficiently as a VT220 emulator.</dd>
</dl>
<div class="spacer">
</div>
The <b class="var">WSEMUL_DEFAULT</b> kernel option allows selecting one of the described terminal options as the default choice. The default goes into effect at kernel startup, i.e., for the operating system console or additional screens allocated through the <b class="var">WSDISPLAY_DEFAULTSCREENS</b> option (see <a class="link-man" href="../html4/wsdisplay.html">wsdisplay(4)</a>), or if no emulation type was passed to the <a class="link-man" href="../html8/wsconscfg.html">wsconscfg(8)</a> utility.<div class="spacer">
</div>
<span class="emph">Compatibility options</span>: these options allow running X servers or other programs using low-level console driver functions which were written specifically for other console drivers to run on <span class="unix">OpenBSD</span> systems. The options are in particular:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="config">WSDISPLAY_COMPAT_USL</b></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
Support the protocol for switches between multiple virtual screens on one display as used by most PC-UNIX variants.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="config">WSDISPLAY_COMPAT_RAWKBD</b></dt>
<dd class="list-tag" style="margin-left: 25.00ex;">
Allows getting raw XT keyboard scancodes from PC keyboards as needed by X servers.</dd>
</dl>
<div class="spacer">
</div>
<span class="emph">Other options</span>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="config">option WS_KERNEL_FG=WSCOL_XXX</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="config">option WS_KERNEL_BG=WSCOL_XXX</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="config">option WS_KERNEL_COLATTR=&quot;(WSATTR_XXX</b> | <b class="config">WSATTR_YYY)&quot;</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="config">option WS_KERNEL_MONOATTR=&quot;(WSATTR_XXX</b> | <b class="config">WSATTR_YYY)&quot;</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
Make console output originating from the kernel appear differently than output from user level programs (via <i class="file">/dev/console</i> or the specific tty device like <i class="file">/dev/ttyC0</i>). &#8220;WS_KERNEL_FG&#8221; and &#8220;WS_KERNEL_BG&#8221; set the foreground / background used on color displays.<div class="spacer">
</div>
The &#8220;WSCOL_XXX&#8221; arguments are colors as defined in <i class="file">/usr/include/dev/wscons/wsdisplayvar.h</i>. &#8220;WS_KERNEL_COLATTR&#8221; and &#8220;WS_KERNEL_MONOATTR&#8221; are additional attribute flags used on color or monochrome displays, respectively. The arguments are defined in the same header file. Whether the attributes are supported or not depends on the actually used graphics adapter. These options are ignored by the &#8220;dumb&#8221; terminal emulation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="config">option WSCOMPAT_USL_SYNCTIMEOUT=nnn</b></dt>
<dd class="list-tag" style="margin-left: 3.00ex;">
The virtual screen switching protocol enabled by &#8220;WSDISPLAY_COMPAT_USL&#8221; uses a somewhat complex handshake protocol to pass control to user programs as X servers controlling a virtual screen. To avoid a non-responsive application locking the whole console system, a screen switch will be rolled back if the user application does not respond to a screen switch request within some time. This option sets the timeout (in seconds); the default value is 5 seconds.</dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/intro.html">intro(4)</a>, <a class="link-man" href="../html4/wsdisplay.html">wsdisplay(4)</a>, <a class="link-man" href="../html4/wskbd.html">wskbd(4)</a>, <a class="link-man" href="../html4/wsmouse.html">wsmouse(4)</a>, <a class="link-man" href="../html4/wsmux.html">wsmux(4)</a>, <a class="link-man" href="../html8/wsconscfg.html">wsconscfg(8)</a>, <a class="link-man" href="../html8/wsconsctl.html">wsconsctl(8)</a>, <a class="link-man" href="../html8/wsfontload.html">wsfontload(8)</a>, <a class="link-man" href="../html8/wsmoused.html">wsmoused(8)</a></div>
</div>
</body>
</html>

