<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
FDC(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">fdc</b> &#8212; <span class="desc">NEC765 compatible floppy disk driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">fdc0 at isa? port 0x3f0 irq 6 drq 2    </b> (alpha, amd64, i386)<br/>
<b class="config">fdc0 at mainbus0                       </b> (sun4c sparc)<br/>
<b class="config">fdc0 at obio0                          </b> (sun4m sparc)<br/>
<b class="config">fdc* at sbus?                          </b> (sparc64)<br/>
<b class="config">fd* at fdc? flags 0x00</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">fdc</b> driver supports the standard AT floppy disk controllers. These include standard IDE, MFM, RLL, EIDE, ESDI and SCSI controllers with floppy attachment, commonly encountered on many isa bus machines, as well as the on-board floppy controller found on most sparc and UltraSPARC workstations.<div class="spacer">
</div>
The standard names of a floppy drive will take the form <i class="file">/dev/fd{0,1,2,3}{,B,C,D,E,F,G,H}[a-p]</i>.<div class="spacer">
</div>
The first component of this path is the unit number, permitting a total of 4 floppy drives. The next component is missing for the default geometry (it would be A, but it is omitted for simplicity) and B-H for the other 7 geometry types the floppy driver supports. The last component of the path is the 16 partitions that a floppy disk can support.<div class="spacer">
</div>
The additional geometry types are as follows:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
`B' 1.44MB</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
`C' 1.2MB</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
`D' 360KB/AT (360KB disk in a 1.2 MB drive)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
`E' 360KB/PC (360KB drive)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
`F' 720KB</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
`G' 720KB/x (720KB in a 1.2 MB drive)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
`H' 360KB/x (360KB in a 720KB drive)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
</dl>
<div class="spacer">
</div>
The default geometry is the format specified in the BIOS, and is typically the largest supported format.<div class="spacer">
</div>
Some isa floppy controllers do not respond correctly to probes, and the configuration file <b class="flag">flags</b> field can be used to specify a particular drive type, overriding the probed type. If the 0x10 bit is on, the low order three bits of the <b class="flag">flags</b> field encode the drive type, as follows:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
1 2.88MB</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2 1.44MB</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
3 1.2MB</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
4 720K</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
5 360K</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
6 1.2 MB Japanese format</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
</dl>
<div class="spacer">
</div>
If the 0x20 bit is on, the drive will be attached even if it was not found by the probe routine. These flags are ignored on <b class="name">fdc</b> controllers not connected to an <a class="link-man" href="../html4/isa.html">isa(4)</a> bus.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/eject.html">eject(1)</a>, <a class="link-man" href="../html1/fdformat.html">fdformat(1)</a>, <a class="link-man" href="../html4/ebus.html">ebus(4)</a>, <a class="link-man" href="../html4/intro.html">intro(4)</a>, <a class="link-man" href="../html4/isa.html">isa(4)</a>, <a class="link-man" href="../html4/sbus.html">sbus(4)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The <b class="name">fdc</b> driver can interfere with other <a class="link-man" href="../html4/isa.html">isa(4)</a> controllers, namely some WD/SMC network controllers fail to work when the probing mechanism in the <b class="name">fdc</b> driver probes for a missing second floppy drive. In this case you should try recompiling the kernel replacing the relevant line with <b class="config">fd0 at fdc?</b>.</div>
</div>
</body>
</html>

