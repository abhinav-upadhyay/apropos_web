<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
AZALIA(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">azalia</b> &#8212; <span class="desc">generic High Definition Audio device</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">azalia* at pci?</b><br/>
<b class="config">audio* at azalia?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">azalia</b> device driver is expected to support any PCI device which is compliant with the High Definition Audio Specification 1.0.<div class="spacer">
</div>
Supported controllers include:<div class="spacer">
</div>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
Acer Labs M5461</li>
<li class="list-bul" style="margin-top: 0.00em;">
AMD Hudson-2</li>
<li class="list-bul" style="margin-top: 0.00em;">
ATI SB450, SB600, SB700, SB800</li>
<li class="list-bul" style="margin-top: 0.00em;">
Intel 82801FB/GB/H/I/JI (ICH6, ICH7, ICH8, ICH9, ICH10)</li>
<li class="list-bul" style="margin-top: 0.00em;">
NVIDIA MCP51/MCP55/MCP61/MCP65/MCP67/MCP73/MCP77/MCP79/MCP89</li>
<li class="list-bul" style="margin-top: 0.00em;">
Silicon Integrated System 966/966L</li>
<li class="list-bul" style="margin-top: 0.00em;">
VIA Technologies VT8237A, VT8251</li>
</ul>
<div class="spacer">
</div>
The High Definition Audio (HDA) specification describes a flexible and extensible infrastructure to support high quality audio. HDA supports sample rates up to 192 kHz, bit rates of up to 32 bits per sample, and up to 16 channels in audio streams. It also supports S/PDIF input/output as well as jack retasking and sensing. The HDA specification defines a controller register set and a codec architecture.</div>
<div class="section">
<h1 id="x4d4958455220494e54455246414345">MIXER INTERFACE</h1> The codec is the main audio processor. Configuration of the device, such as selecting playback sample rate or decreasing the volume, is handled by the codec. Codecs are comprised of interconnected widgets. Common examples of widgets include DACs (digital to analog converter), ADCs (analog to digital converter), selectors, mixers, and pin complexes (input/output jacks). Widgets may have fixed or controllable properties. Some of these properties include source selection, amplifier gain, mute, and operational direction.<div class="spacer">
</div>
The mixer interface for <b class="name">azalia</b> is designed to allow the user to control most properties of the widgets. When <b class="name">azalia</b> first attaches and configures the device, it will set all widgets to unmuted, moderate volume, and configure connections such that stereo playback and recording will work with the expected input/output pins.<div class="spacer">
</div>
There are a wide range of HDA codecs. Some have only a few widgets that don't have many controllable properties, and some may have many, very controllable widgets. The mixer interface on one <b class="name">azalia</b> may be very different than the mixer interface on another.<div class="spacer">
</div>
Mixer item names describe the widget and property being controlled. Names take the following form:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
&lt;mixer class&gt;.&lt;widget type&gt;[&lt;widget type enumerator&gt;][_&lt;property&gt;]</pre>
<div class="spacer">
</div>
The mixer class gives a hint as to the purpose of the control. The widget type enumerator is used to distinguish different widgets of the same type. The enumeration starts at 2: the first widget of each type is not enumerated. The enumeration order is meaningless. The property is optional. Generally, if there is no property, the mixer item is an amplifier gain control.<div class="spacer">
</div>
The following are the widget type names used in mixer control names:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">dac</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Digital to analog converter, usually used for playback. The audio stream channels these widgets will convert are encoded into their name in the form of &lt;start channel&gt;:&lt;end channel&gt;. For example, <b class="flag">dac-0:1</b> converts channels 0 and 1 (stereo). However, a dac that is connected to built-in speakers or front panel headphone jacks by default will convert audio stream channels starting at 0 if the dac would otherwise not be converting any channels. For example, if <b class="flag">dac-2:3</b> is the default dac for the built-in speakers in a laptop, <b class="flag">dac-2:3</b> will convert channels 0 and 1 when a stereo audio stream is being played. This is to allow simultaneous stereo playback on both the built-in speakers and a line or headphone jack.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">dig-dac</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Digital output converter, usually an S/PDIF transmitter. The audio stream channels these widgets will convert are encoded into their name in the form of &lt;start channel&gt;:&lt;end channel&gt;. For example, <b class="flag">dig-dac-0:1</b> converts channels 0 and 1 (stereo).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">adc</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Analog to digital converter, usually used for recording. The audio stream channels these widgets will convert are encoded into their name in the form of &lt;start channel&gt;:&lt;end channel&gt;. For example, <b class="flag">adc-0:1</b> converts channels 0 and 1 (stereo).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">dig-adc</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Digital input converter, usually an S/PDIF receiver. The audio stream channels these widgets will convert are encoded into their name in the form of &lt;start channel&gt;:&lt;end channel&gt;. For example, <b class="flag">dig-adc-0:1</b> converts channels 0 and 1 (stereo).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">mix</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Sums multiple audio sources into a single stream, but sometimes only used for amplifier or mute properties. The property part of a mix widget mixer control name may be the name of another widget. Such a mixer item controls the input level from the widget in the property part of the name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">sel</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Selects a single audio source, but sometimes used only for amplifier or mute properties.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">pow</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Controls power state for a group of widgets.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">volume</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Interprets data from external controls, such as a volume knob.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">beep</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Creates a tone at a certain frequency.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">line</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for a line-level jack that is normally used for analog audio output. The name may also be appended with a color abbreviation such as -grn (green), -blk (black), -org (orange), or -gry (grey), to help differentiate jacks.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">spkr</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for a speaker, often built into the machine.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">hp</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for a jack that is normally used for output to a headphone.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">cd</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for analog audio input from a CD device.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">SPDIF</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for an S/PDIF output connector.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">line-in</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for a line-level jack that is normally used for analog audio input.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">aux</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for an auxiliary analog audio input.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">mic</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for analog audio input from a microphone, either a jack or built into the machine.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">SPDIF-in</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for an S/PDIF input connector.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">beep</b></dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Pin complex for analog audio input from a beep generator.</dd>
</dl>
<div class="spacer">
</div>
The following are the property names used in mixer control names:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">mute</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Mutes input or output audio stream.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">source</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Selects input source. Can either select a single source or multiple sources. Sometimes these controls may only have a single choice, but they are provided to show how audio streams move through the codec.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">dir</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Selects pin direction and input VRef signal. VRef is represented in percent of the analog voltage rail. For example, 'input-vr80' means input direction with 80% VRef.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">boost</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enables/disables low impedance amplifier, usually for use with headphones.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">eapd</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Powers on/off external amplifier circuitry.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">sense</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Reports current jack sense state.</dd>
</dl>
<div class="spacer">
</div>
There are also some special mixer controls that don't directly correspond to properties of the widgets, but control aspects of the driver or other mixer controls. The following describes these special controls:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">outputs.spkr_muters</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
List of pins that can mute a built-in speaker. A pin mutes the speaker by sending a signal when it senses that something has been plugged into its jack. If a pin supports both input and output operation, the pin will only mute the speaker when plugged into if that pin is configured for output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">outputs.master.slaves</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
List of widgets with amplifier gain or mute controls that are configured with the parameters used for <b class="flag">outputs.master</b> and <b class="flag">outputs.master.mute</b>. For example, if <b class="flag">dac</b> is in the list and has an input amplifier gain control, setting <b class="flag">outputs.master</b> to 200 will set <b class="flag">inputs.dac</b> to 200.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">outputs.master</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Amplifier gain control for widgets listed in <b class="flag">outputs.master.slaves</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">outputs.master.mute</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Mute control for widgets listed in <b class="flag">outputs.master.slaves</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">record.volume.slaves</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
List of widgets with amplifier gain or mute controls that are configured with the parameters used for <b class="flag">record.volume</b> and <b class="flag">record.volume.mute</b>. For example, if <b class="flag">adc</b> is in the list and has an input amplifier gain control, setting <b class="flag">record.volume</b> to 200 will set <b class="flag">record.adc</b> to 200.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">record.volume</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Amplifier gain control for widgets listed in <b class="flag">record.volume.slaves</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">record.volume.mute</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Mute control for widgets listed in <b class="flag">record.volume.slaves</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">outputs.mode</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Controls whether the digital or analog converters and pins will be used for playback.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">record.mode</b></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Controls whether the digital or analog converters and pins will be used for recording.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/audio.html">audio(4)</a>, <a class="link-man" href="../html4/pci.html">pci(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">azalia</b> device driver first appeared in <span class="unix">NetBSD&#160;3.0</span>. <span class="unix">OpenBSD</span> support first appeared in <span class="unix">OpenBSD&#160;4.0</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> This driver does not support codecs that are intended for HDMI or DisplayPort connectivity.</div>
</div>
</body>
</html>

