<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
UKBD(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ukbd</b> &#8212; <span class="desc">USB keyboard support</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">ukbd*  at uhidev?</b><br/>
<b class="config">wskbd* at ukbd?</b><br/>
<b class="config">option UKBD_LAYOUT=XXX</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">ukbd</b> driver provides support for USB keyboards i.e. HID devices in the &#8220;keyboard&#8221; class. Access to the keyboard is through the <a class="link-man" href="../html4/wskbd.html">wskbd(4)</a> driver.<div class="spacer">
</div>
The <b class="name">ukbd</b> driver supports a number of different key mappings which can be chosen from with the kernel option &#8220;UKBD_LAYOUT&#8221; at compile time or with the utility <a class="link-man" href="../html8/wsconsctl.html">wsconsctl(8)</a> (variable: &#8220;keyboard.encoding&#8221;) at runtime. Other mappings can be used if the whole keymap is replaced by means of <a class="link-man" href="../html8/wsconsctl.html">wsconsctl(8)</a>. The built-in mappings are at this time:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
KB_BE</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(be) Belgium French.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_BR</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(br) Brazilian.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_CF</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(cf) Canadian French.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_DE</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(de) German with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_DK</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(dk) Danish with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_ES</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(es) Spanish.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_FR</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(fr) French.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_FR | KB_APPLE</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(fr.apple) French for Apple black USB keyboards.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_FR | KB_DVORAK</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(fr.dvorak) French keyboard with &#8220;Dvorak-Bepo&#8221; layout.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_HU</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(hu) Hungarian.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_IS</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(is) Icelandic with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_IT</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(it) Italian.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_JP</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(jp) Japanese.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_LA</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(la) Latinamerican.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_LT</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(lt) Lithuanian in &#8220;ISO 8859-13&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_LV</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(lv) Latvian</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_NL</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(nl) Dutch with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_NO</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(no) Norwegian with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_PL</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(pl) Polish in &#8220;ISO 8859-2&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_PT</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(pt) Portuguese.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_PT | KB_APPLE</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(pt.apple) Portuguese for Apple black USB keyboards.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_RU</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(ru) Russian in &#8220;KOI8&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_SF</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(sf) Swiss French with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_SG</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(sg) Swiss German with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_SI</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(si) Slovenian.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_SV</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(sv) Swedish with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_TR</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(tr) Turkish in &#8220;ISO 8859-9&#8221; with &#8220;dead accents&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_UA</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(ua) Ukrainian in &#8220;KOI8&#8221;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_UK</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(uk) British.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_US</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(us) English/US keyboard mapping (default).</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
KB_US | KB_DVORAK</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
(us.dvorak) English/US keyboard with &#8220;Dvorak&#8221; layout.</dd>
</dl>
<div class="spacer">
</div>
The KB_DE, KB_DK, KB_IS, KB_NO, KB_SF, KB_SG, KB_SV and KB_TR mappings can be used in the KB_NODEAD (.nodead) variant. This switches off the &#8220;dead accents&#8221;.<div class="spacer">
</div>
The KB_BE, KB_FR, KB_FR | KB_APPLE, KB_FR | KB_DVORAK, KB_JP, KB_UK, KB_US and KB_US | KB_DVORAK mappings can be modified to swap the left Control and the Caps Lock keys by the KB_SWAPCTRLCAPS variant bit or the &#8220;.swapctrlcaps&#8221; suffix.<div class="spacer">
</div>
The KB_METAESC (.metaesc) option can be applied to any layout. If set, keys pressed together with the ALT modifier are prefixed by an ESC character. (Standard behaviour is to add 128 to the ASCII value.)</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> To set a German keyboard layout without &#8220;dead accents&#8221; and sending an ESC character before the key symbol if the ALT key is pressed simultaneously, use <b class="cmd">wsconsctl keyboard.encoding=de.nodead.metaesc</b>. To set it at kernel build time, add the following to the kernel configuration file:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
option UKBD_LAYOUT=&quot;(KB_DE|KB_NODEAD|KB_METAESC)&quot;</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/usbhidctl.html">usbhidctl(1)</a>, <a class="link-man" href="../html4/intro.html">intro(4)</a>, <a class="link-man" href="../html4/uhidev.html">uhidev(4)</a>, <a class="link-man" href="../html4/usb.html">usb(4)</a>, <a class="link-man" href="../html4/wskbd.html">wskbd(4)</a>, <a class="link-man" href="../html8/wsconsctl.html">wsconsctl(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">ukbd</b> driver appeared in <span class="unix">NetBSD&#160;1.4</span>. <span class="unix">OpenBSD</span> support was added in <span class="unix">OpenBSD&#160;2.8</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The <b class="name">ukbd</b> driver is brought into action rather late in the boot process, so if it is used as the console driver then <a class="link-man" href="../html4/ddb.html">ddb(4)</a> is not usable until late in the boot.<div class="spacer">
</div>
The list of built-in mappings doesn't follow any logic. It grew as people submitted what they needed.</div>
</div>
</body>
</html>

