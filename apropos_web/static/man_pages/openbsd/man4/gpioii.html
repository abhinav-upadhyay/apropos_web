<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
GPIOIIC(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">gpioiic</b> &#8212; <span class="desc">GPIO I2C controller</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">gpioiic* at gpio? offset 0 mask 0x3 flag 0x0</b><br/>
<b class="config">gpioiic* at gpio?</b><br/>
<b class="config">iic* at gpioiic?</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">gpioiic</b> driver allows bit-banging an I2C bus as a master using two GPIO pins. By default the first pin is used as a serial data (SDA) signal and the second as a serial clock (SCL). If the flag locator is set to 0x01, the order of the SDA and SCL signals is reversed. Both GPIO pins must be able to drive an output and the SDA pin must be also able to read an input.<div class="spacer">
</div>
The pins can be specified in the kernel configuration with the <i class="arg">offset</i> and the <i class="arg">mask</i> locators. The <i class="arg">offset</i> and <i class="arg">mask</i> can also be specified when <b class="name">gpioiic</b> is attached at runtime using the <span class="define">GPIOATTACH</span> <a class="link-man" href="../html2/ioctl.html">ioctl(2)</a> on the <a class="link-man" href="../html4/gpio.html">gpio(4)</a> device. Each bit in the <i class="arg">mask</i> locator defines one pin; the pin number is calculated as an addition of the bit position and the <i class="arg">offset</i> locator. For example, <i class="arg">offset 17</i> and <i class="arg">mask 0x5</i> defines pin numbers 17 and 19.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/gpio.html">gpio(4)</a>, <a class="link-man" href="../html4/iic.html">iic(4)</a>, <a class="link-man" href="../html4/intro.html">intro(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">gpioiic</b> driver first appeared in <span class="unix">OpenBSD&#160;3.9</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">gpioiic</b> driver was written by <span class="author">Alexander Yurchenko</span> &lt;<a class="link-mail" href="mailto:grange@openbsd.org">grange@openbsd.org</a>&gt;.</div>
</div>
</body>
</html>

