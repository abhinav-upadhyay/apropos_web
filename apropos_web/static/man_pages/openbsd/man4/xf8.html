<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
XF86(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">xf86</b> &#8212; <span class="desc">X Window System aperture driver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">option APERTURE</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> On the alpha, amd64, i386, macppc, and sparc64 architectures, the <i class="file">/dev/xf86</i> driver provides access to the memory and I/O ports of a VGA board and to the PCI configuration registers for use by the X servers when running with a kernel security level greater than 0.<div class="spacer">
</div>
The X servers require the use of this driver for <a class="link-man" href="../html4/isa.html">isa(4)</a> or <a class="link-man" href="../html4/pci.html">pci(4)</a> video cards on <i class="arg">alpha</i>, <i class="arg">amd64</i>, <i class="arg">i386</i>, <i class="arg">macppc</i>, and <i class="arg">sparc64</i>.</div>
<div class="section">
<h1 id="x41434345535320434f4e54524f4c">ACCESS CONTROL</h1> Access to the <i class="file">/dev/xf86</i> device is allowed when the <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a> variable <b class="var">machdep.allowaperture</b> is greater than or equal to 1. This variable (which has a default value of 0) can only be raised when the security level is less than or equal to 0, so it should be set in <i class="file">/etc/sysctl.conf</i>. The possible values for <b class="var">machdep.allowaperture</b> are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
the aperture driver is disabled. Opening it returns <span class="define">EPERM</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
the aperture driver allows access to standard VGA framebuffer and BIOS. Access to <a class="link-man" href="../html4/pci.html">pci(4)</a> configuration registers is also allowed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
2</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
in addition to allowing access to <a class="link-man" href="../html4/pci.html">pci(4)</a> configuration registers, the aperture driver allows access to the whole first megabyte of physical memory, permitting use of the int10 emulation in X.Org 6.8 and later. Note that this can cause some security problems, since the process that has access to the aperture driver can also access part of the kernel memory. This mode is not supported on alpha or sparc64.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
3</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
the aperture driver allows multiple processes to concurrently access <a class="link-man" href="../html4/pci.html">pci(4)</a> configuration registers and the whole first megabyte of physical memory.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/Xorg.html">Xorg(1)</a>, <a class="link-man" href="../html4/options.html">options(4)</a>, <a class="link-man" href="../html4/pci.html">pci(4)</a>, <a class="link-man" href="../html5/sysctl.conf.html">sysctl.conf(5)</a>, <a class="link-man" href="../html7/securelevel.html">securelevel(7)</a>, <a class="link-man" href="../html8/config.html">config(8)</a>, <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> <i class="file">/dev/xf86</i> was integrated as an in-kernel device on <span class="unix">OpenBSD&#160;2.3</span>. It is required in order to allow access to I/O ports for all X servers since <span class="unix">OpenBSD&#160;2.4</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The aperture driver was written by <span class="author">Matthieu Herrb</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> This driver allows access to all addresses above <b class="var">physmem</b>. It should be restricted to the actual address range of the video memory.</div>
</div>
</body>
</html>

