<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
PAIR(4)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">pair</b> &#8212; <span class="desc">virtual Ethernet interface pair</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="config">pseudo-device pair</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">pair</b> interface simulates a normal Ethernet interface by encapsulating standard network frames with an Ethernet header, specifically for use in a pair of interfaces that are interconnected with each other.<div class="spacer">
</div>
To use it, the administrator needs to create two <b class="name">pair</b> interfaces and connect them; the interfaces are &#8216;patched&#8217;, as would be done with physical network ports. All packets that are sent on the first interface are received on the second interface.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Set up a pair of interfaces where each of them is a member of a different <a class="link-man" href="../html4/rdomain.html">rdomain(4)</a>:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
# ifconfig pair1 rdomain 1 10.1.1.1/24 up 
# ifconfig pair2 rdomain 2 10.1.1.2/24 up 
# ifconfig pair1 patch pair2 
# route -T 1 exec ping 10.1.1.2</pre>
<div class="spacer">
</div>
When adding multiple <b class="name">pair</b> to multiple <a class="link-man" href="../html4/bridge.html">bridge(4)</a> interfaces, it is possible to create a loop; the system load will go up while it is busy sending packets from one bridge to another and back. By design, the driver does not prevent such loops by itself, but it is possible to use the Spanning Tree Protocol (STP) to detect and remove loops in the virtual network topology:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
# ifconfig pair0 up 
# ifconfig pair1 rdomain 1 patch pair0 up 
# ifconfig pair2 up 
# ifconfig pair3 rdomain 1 patch pair2 up 
# ifconfig bridge0 add pair0 add pair2 stp pair0 stp pair2 up 
# ifconfig bridge1 add pair1 add pair3 stp pair1 stp pair3 up</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/bridge.html">bridge(4)</a>, <a class="link-man" href="../html4/inet.html">inet(4)</a>, <a class="link-man" href="../html4/inet6.html">inet6(4)</a>, <a class="link-man" href="../html4/rdomain.html">rdomain(4)</a>, <a class="link-man" href="../html4/vether.html">vether(4)</a>, <a class="link-man" href="../html5/hostname.if.html">hostname.if(5)</a>, <a class="link-man" href="../html8/ifconfig.html">ifconfig(8)</a>, <a class="link-man" href="../html8/netstart.html">netstart(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">pair</b> interface first appeared in <span class="unix">OpenBSD&#160;5.9</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">pair</b> driver is based on <a class="link-man" href="../html4/vether.html">vether(4)</a> by <span class="author">Theo de Raadt</span> &lt;<a class="link-mail" href="mailto:deraadt@openbsd.org">deraadt@openbsd.org</a>&gt;. It has been extended and turned into <b class="name">pair</b> by<br/>
<span class="author">Reyk Floeter</span> &lt;<a class="link-mail" href="mailto:reyk@openbsd.org">reyk@openbsd.org</a>&gt;.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> Unlike <a class="link-man" href="../html4/vether.html">vether(4)</a>, the <b class="name">pair</b> interface cannot be used as a stand-alone member in a <a class="link-man" href="../html4/bridge.html">bridge(4)</a>: the link state remains down until it is connected to the second interface. Any associated routes will be marked down until it is patched. Use <a class="link-man" href="../html4/vether.html">vether(4)</a> as a bridge endpoint for routing purposes instead.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Like <a class="link-man" href="../html4/tun.html">tun(4)</a>, the Ethernet address chosen will be partially random, and may occasionally collide with another address.</div>
</div>
</body>
</html>

