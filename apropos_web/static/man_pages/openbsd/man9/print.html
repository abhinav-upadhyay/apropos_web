<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
PRINTF(9)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">printf</b>, <b class="name">snprintf</b>, <b class="name">vprintf</b>, <b class="name">vsnprintf</b>, <b class="name">uprintf</b>, <b class="name">ttyprintf</b>, <b class="name">db_printf</b>, <b class="name">db_vprintf</b> &#8212; <span class="desc">kernel formatted output conversion</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br/>
<b class="includes">#include &lt;<a class="link-includes">sys/systm.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">printf</b>(<i class="farg">const char *format</i>, <i class="farg">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">snprintf</b>(<i class="farg">char *buf</i>, <i class="farg">size_t size</i>, <i class="farg">const char *format</i>, <i class="farg">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">vprintf</b>(<i class="farg">const char *format</i>, <i class="farg">va_list ap</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">vsnprintf</b>(<i class="farg">char *buf</i>, <i class="farg">size_t size</i>, <i class="farg">const char *fmt</i>, <i class="farg">va_list ap</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">uprintf</b>(<i class="farg">const char *format</i>, <i class="farg">...</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">ttyprintf</b>(<i class="farg">struct tty *tty</i>, <i class="farg">const char *format</i>, <i class="farg">...</i>);<div class="spacer">
</div>
<b class="includes">#include &lt;<a class="link-includes">ddb/db_output.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">db_printf</b>(<i class="farg" style="white-space:nowrap;">const char *format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">db_vprintf</b>(<i class="farg" style="white-space:nowrap;">const char *format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">printf</b>(), <b class="fname">snprintf</b>(), <b class="fname">vprintf</b>(), <b class="fname">vsnprintf</b>(), <b class="fname">uprintf</b>(), <b class="fname">ttyprintf</b>(), <b class="fname">db_printf</b>(), and <b class="fname">db_vprintf</b>() functions allow the kernel to send formatted messages to various output devices. The functions <b class="fname">printf</b>() and <b class="fname">vprintf</b>() send formatted strings to the system console and to the system log. The functions <b class="fname">uprintf</b>() and <b class="fname">ttyprintf</b>() send formatted strings to the current process's controlling tty and a specific tty, respectively. The functions <b class="fname">db_printf</b>() and <b class="fname">db_vprintf</b>() send formatted strings to the ddb console, and are only used to implement <a class="link-man" href="../html4/ddb.html">ddb(4)</a>.<div class="spacer">
</div>
Since each of these kernel functions is a variant of its user space counterpart, this page describes only the differences between the user space and kernel versions. Refer to <a class="link-man" href="../html3/printf.html">printf(3)</a> for functional details.<div class="subsection">
<h2 id="x464f524d4154204f5054494f4e53">FORMAT OPTIONS</h2> The kernel functions don't support as many formatting specifiers as their user space counterparts. In addition to the floating point formatting specifiers, the following integer type specifiers are not supported:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">%hh</code></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Argument of <code class="lit">char</code> type. This format specifier is accepted by the kernel but will be handled as <code class="lit">%h</code>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">%j</code></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Argument of <code class="lit">intmax_t</code> or <code class="lit">uintmax_t</code> type.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">%t</code></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Argument of <code class="lit">ptrdiff_t</code> type.</dd>
</dl>
<div class="spacer">
</div>
The kernel functions support some additional formatting specifiers:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<code class="lit">%b</code></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Bit field expansion. This format specifier is useful for decoding bit fields in device registers. It displays an integer using a specified radix (base) and an interpretation of the bits within that integer as though they were flags. It requires two arguments from the argument vector, the first argument being the bit field to be decoded (of type <code class="lit">int</code>, unless a width modifier has been specified) and the second being a decoding directive string.<div class="spacer">
</div>
The decoding directive string describes how the bitfield is to be interpreted and displayed. The first character of the string is a binary character representation of the output numeral base in which the bitfield will be printed before it is decoded. Recognized radix values (in C escape-character format) are <code class="lit">\10</code> (octal), <code class="lit">\12</code> (decimal), and <code class="lit">\20</code> (hexadecimal).<div class="spacer">
</div>
The remaining characters in the decoding directive string are interpreted as a list of bit-position&#8211;description pairs. A bit-position&#8211;description pair begins with a binary character value that represents the position of the bit being described. A bit position value of one describes the least significant bit. Whereas a position value of 32 (octal 40, hexadecimal 20, the ASCII space character) describes the most significant bit.<div class="spacer">
</div>
To deal with more than 32 bits, the characters 128 (octal 200, hexadecimal 80) through 255 (octal 377, hexadecimal FF) are used. The value 127 is subtracted from the character to determine the bit position (1 is least significant, and 128 is most significant).<div class="spacer">
</div>
The remaining characters in a bit-position&#8211;description pair are the characters to print should the bit being described be set. Description strings are delimited by the next bit position value character encountered (distinguishable by its value being &#8804; 32 or &#8805; 128), or the end of the decoding directive string itself.</dd>
</dl>
</div>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">printf</b>() and <b class="fname">vprintf</b>() functions return the number of characters printed.<div class="spacer">
</div>
The <b class="fname">snprintf</b>() and <b class="fname">vsnprintf</b>() functions return the number of characters that would have been put into the buffer <i class="farg">buf</i> if the <i class="farg">size</i> were unlimited.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Use of the <code class="lit">%b</code> format specifier for decoding device registers.<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
printf(&quot;reg=%b\n&quot;, 3, &quot;\10\2BITTWO\1BITONE&quot;) 
&#8658; &quot;reg=3&lt;BITTWO,BITONE&gt;&quot; 
 
printf(&quot;enablereg=%b\n&quot;, 0xe860, 
       &quot;\20\x10NOTBOOT\x0fFPP\x0eSDVMA\x0cVIDEO&quot; 
       &quot;\x0bLORES\x0aFPA\x09DIAG\x07CACHE&quot; 
       &quot;\x06IOCACHE\x05LOOPBACK\x04DBGCACHE&quot;) 
&#8658; &quot;enablereg=e860&lt;NOTBOOT,FPP,SDVMA,VIDEO,CACHE,IOCACHE&gt;&quot;</pre>
</div>
<div class="section">
<h1 id="x434f4445205245464552454e434553">CODE REFERENCES</h1> <i class="file">sys/kern/subr_prf.c</i></div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/revoke.html">revoke(2)</a>, <a class="link-man" href="../html3/printf.html">printf(3)</a>, <a class="link-man" href="../html4/ddb.html">ddb(4)</a>, <a class="link-man" href="../html9/log.html">log(9)</a></div>
</div>
</body>
</html>

