<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
IEEE80211_ENCAP(9)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ieee80211_encap</b>, <b class="name">ieee80211_add_rates</b>, <b class="name">ieee80211_add_xrates</b>, <b class="name">ieee80211_send_mgmt</b> &#8212; <span class="desc">software 802.11 stack output functions</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">net80211/ieee80211_var.h</a>&gt;</b><br/>
<b class="includes">#include &lt;<a class="link-includes">net80211/ieee80211_proto.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">struct mbuf *</i><br/>
<b class="fname">ieee80211_encap</b>(<i class="farg">struct ifnet *ifp</i>, <i class="farg">struct mbuf *m</i>, <i class="farg">struct ieee80211_node **pni</i>);<div class="spacer">
</div>
<i class="ftype">u_int8_t *</i><br/>
<b class="fname">ieee80211_add_rates</b>(<i class="farg" style="white-space:nowrap;">u_int8_t *frm</i>, <i class="farg" style="white-space:nowrap;">const struct ieee80211_rateset *rs</i>);<div class="spacer">
</div>
<i class="ftype">u_int8_t *</i><br/>
<b class="fname">ieee80211_add_xrates</b>(<i class="farg" style="white-space:nowrap;">u_int8_t *frm</i>, <i class="farg" style="white-space:nowrap;">const struct ieee80211_rateset *rs</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ieee80211_send_mgmt</b>(<i class="farg">struct ieee80211com *ic</i>, <i class="farg">struct ieee80211_node *ni</i>, <i class="farg">int type</i>, <i class="farg">int arg</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions handle the encapsulation and transmission of 802.11 frames within the software 802.11 stack.<div class="spacer">
</div>
The <b class="fname">ieee80211_encap</b>() function encapsulates an outbound data frame contained within the mbuf chain <i class="farg">m</i> from the interface <i class="farg">ifp</i>. The argument <i class="farg">*pni</i> is a reference to the destination node.<div class="spacer">
</div>
If the function is successful, the mbuf chain is updated with the 802.11 frame header prepended, and a pointer to the head of the chain is returned. If an error occurs, <span class="define">NULL</span> will be returned, and <i class="farg">*pni</i> is also set to <span class="define">NULL</span>. The caller is responsible for freeing the node reference if <i class="farg">*pni</i> is non-<span class="define">NULL</span> on return. The convention is that <b class="var">ic_bss</b> is not reference counted; the caller is responsible for maintaining this reference count.<div class="spacer">
</div>
The <b class="fname">ieee80211_add_rates</b>() utility function is used to add the rate set element <i class="farg">*rs</i> to the frame <i class="farg">frm</i>. A pointer to the location in the buffer after the addition of the rate set is returned. It is typically used when constructing management frames from within the software 802.11 stack.<div class="spacer">
</div>
The <b class="fname">ieee80211_add_xrates</b>() utility function is used to add the extended rate set element <i class="farg">*rs</i> to the frame <i class="farg">frm</i>. A pointer to the location in the buffer after the addition of the rate set is returned. It is typically used when constructing management frames from within the software 802.11 stack in 802.11g mode.<div class="spacer">
</div>
The <b class="fname">ieee80211_send_mgmt</b>() function transmits a management frame on the interface <i class="farg">ic</i> to the destination node <i class="farg">ni</i> of type <i class="farg">type</i>.<div class="spacer">
</div>
The argument <i class="farg">arg</i> specifies either a sequence number for authentication operations, a status code for [re]association operations, or a reason for deauthentication and deassociation operations.<div class="spacer">
</div>
Nodes other than <b class="var">ic_bss</b> have their reference count incremented to reflect their use for an indeterminate amount of time. This reference is freed when the function returns.<div class="spacer">
</div>
The function returns 0 if successful; if temporary buffer space is not available, the function returns <span class="errno">ENOMEM</span>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html9/ieee80211.html">ieee80211(9)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">ieee80211</b> series of functions first appeared in <span class="unix">NetBSD&#160;1.5</span>, and were later ported to <span class="unix">FreeBSD&#160;4.6</span> and <span class="unix">OpenBSD&#160;3.6</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> This man page was written by <span class="author">Bruce M. Simpson</span> &lt;<a class="link-mail" href="mailto:bms@FreeBSD.org">bms@FreeBSD.org</a>&gt; and <span class="author">Darron Broad</span> &lt;<a class="link-mail" href="mailto:darron@kewl.org">darron@kewl.org</a>&gt;.</div>
</div>
</body>
</html>

