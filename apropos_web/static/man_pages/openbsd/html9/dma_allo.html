<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
DMA_ALLOC(9)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dma_alloc</b>, <b class="name">dma_free</b> &#8212; <span class="desc">DMA-safe memory allocator</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br/>
<b class="includes">#include &lt;<a class="link-includes">sys/pool.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">void *</i><br/>
<b class="fname">dma_alloc</b>(<i class="farg">size_t size</i>, <i class="farg">int flags</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">dma_free</b>(<i class="farg">void *m</i>, <i class="farg">size_t size</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> This allocator provides DMA-safe memory managed using the <a class="link-man" href="../html9/pool.html">pool(9)</a> interface. It is safe to call in most contexts and is typically used for temporary buffers up to 65536 bytes. When buffers are used many times it may be better to consider using other DMA-safe allocators.<div class="spacer">
</div>
Interrupt protection is set to <b class="var">IPL_VM</b> using <a class="link-man" href="../html9/pool_setipl.html">pool_setipl(9)</a>.<div class="spacer">
</div>
The <i class="arg">flags</i> argument is a selection of <a class="link-man" href="../html9/pool_get.html">pool_get(9)</a> flag arguments.<div class="spacer">
</div>
The same <b class="var">size</b> argument must be passed to both <b class="fname">dma_alloc</b>() and the subsequent <b class="fname">dma_free</b>(). Allocations over 65536 will fail.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html9/bus_dma.html">bus_dma(9)</a>, <a class="link-man" href="../html9/mbuf.html">mbuf(9)</a>, <a class="link-man" href="../html9/pool.html">pool(9)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">dma_alloc</b> interface first appeared in <span class="unix">OpenBSD&#160;4.8</span>.</div>
</div>
</body>
</html>

