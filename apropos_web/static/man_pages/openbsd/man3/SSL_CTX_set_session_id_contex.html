<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SSL_CTX_SET_SESSION_ID_CONTEXT(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">SSL_CTX_set_session_id_context</b>, <b class="name">SSL_set_session_id_context</b> &#8212; <span class="desc">set context within which session can be reused (server side only)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">openssl/ssl.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">SSL_CTX_set_session_id_context</b>(<i class="farg">SSL_CTX *ctx</i>, <i class="farg">const unsigned char *sid_ctx</i>, <i class="farg">unsigned int sid_ctx_len</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">SSL_set_session_id_context</b>(<i class="farg">SSL *ssl</i>, <i class="farg">const unsigned char *sid_ctx</i>, <i class="farg">unsigned int sid_ctx_len</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">SSL_CTX_set_session_id_context</b>() sets the context <i class="farg">sid_ctx</i> of length <i class="farg">sid_ctx_len</i> within which a session can be reused for the <i class="farg">ctx</i> object.<div class="spacer">
</div>
<b class="fname">SSL_set_session_id_context</b>() sets the context <i class="farg">sid_ctx</i> of length <i class="farg">sid_ctx_len</i> within which a session can be reused for the <i class="farg">ssl</i> object.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> Sessions are generated within a certain context. When exporting/importing sessions with <a class="link-man" href="../html3/i2d_SSL_SESSION.html">i2d_SSL_SESSION(3)</a> and <a class="link-man" href="../html3/d2i_SSL_SESSION.html">d2i_SSL_SESSION(3)</a>, it would be possible to re-import a session generated from another context (e.g., another application), which might lead to malfunctions. Therefore each application must set its own session id context <i class="farg">sid_ctx</i> which is used to distinguish the contexts and is stored in exported sessions. The <i class="farg">sid_ctx</i> can be any kind of binary data with a given length; it is therefore possible to use, for instance, the name of the application, the hostname, the service name...<div class="spacer">
</div>
The session id context becomes part of the session. The session id context is set by the SSL/TLS server. The <b class="fname">SSL_CTX_set_session_id_context</b>() and <b class="fname">SSL_set_session_id_context</b>() functions are therefore only useful on the server side.<div class="spacer">
</div>
OpenSSL clients will check the session id context returned by the server when reusing a session.<div class="spacer">
</div>
The maximum length of the <i class="farg">sid_ctx</i> is limited to <span class="define">SSL_MAX_SSL_SESSION_ID_LENGTH</span>.</div>
<div class="section">
<h1 id="x5741524e494e4753">WARNINGS</h1> If the session id context is not set on an SSL/TLS server and client certificates are used, stored sessions will not be reused but a fatal error will be flagged and the handshake will fail.<div class="spacer">
</div>
If a server returns a different session id context to an OpenSSL client when reusing a session, an error will be flagged and the handshake will fail. OpenSSL servers will always return the correct session id context, as an OpenSSL server checks the session id context itself before reusing a session as described above.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">SSL_CTX_set_session_id_context</b>() and <b class="fname">SSL_set_session_id_context</b>() return the following values:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The length <i class="farg">sid_ctx_len</i> of the session id context <i class="farg">sid_ctx</i> exceeded the maximum allowed length of <span class="define">SSL_MAX_SSL_SESSION_ID_LENGTH</span>. The error is logged to the error stack.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The operation succeeded.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/ssl.html">ssl(3)</a></div>
</div>
</body>
</html>

