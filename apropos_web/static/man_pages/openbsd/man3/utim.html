<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
UTIME(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">utime</b> &#8212; <span class="desc">set file times</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br/>
<b class="includes">#include &lt;<a class="link-includes">utime.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">utime</b>(<i class="farg" style="white-space:nowrap;">const char *file</i>, <i class="farg" style="white-space:nowrap;">const struct utimbuf *timep</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="symb" style="display:inline;margin-left: 1.00ex;">
This interface is obsoleted by <a class="link-man" href="../html2/utimes.html">utimes(2)</a>.</div>
<div class="spacer">
</div>
The <b class="fname">utime</b>() function sets the access and modification times of the named file.<div class="spacer">
</div>
If <i class="farg">timep</i> is <span class="define">NULL</span>, the access and modification times are set to the current time. The calling process must be the owner of the file or have permission to write the file.<div class="spacer">
</div>
If <i class="farg">timep</i> is non-null, it specifies a pointer to a <code class="lit">utimbuf</code> structure, as defined in <b class="includes">&lt;<a class="link-includes">utime.h</a>&gt;</b>:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
struct utimbuf { 
	time_t actime;		/* Access time */ 
	time_t modtime;		/* Modification time */ 
};</pre>
<div class="spacer">
</div>
The access time is set to the value of the <i class="farg">actime</i> member, and the modification time is set to the value of the <i class="farg">modtime</i> member. The times are measured in seconds since 0 hours, 0 minutes, 0 seconds, January 1, 1970, Coordinated Universal Time (UTC). The calling process must be the owner of the file or be the superuser.<div class="spacer">
</div>
In either case, the inode change-time of the file is set to the current time.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Upon successful completion, the value&#160;0 is returned; otherwise the value&#160;-1 is returned and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">utime</b>() will fail if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EACCES</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Search permission is denied for a component of the path prefix; or the <i class="farg">timep</i> argument is <span class="define">NULL</span> and the effective user ID of the process does not match the owner of the file, the effective user ID is not that of the superuser, and write access is denied.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EFAULT</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">file</i> or <i class="farg">timep</i> points outside the process's allocated address space.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The pathname contains a character with the high-order bit set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EIO</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
An I/O error occurred while reading or writing the affected inode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ELOOP</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Too many symbolic links were encountered in translating the pathname.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ENAMETOOLONG</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
A component of a pathname exceeded <span class="define">NAME_MAX</span> characters, or an entire pathname (including the terminating NUL) exceeded <span class="define">PATH_MAX</span> bytes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ENOENT</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The named file does not exist.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ENOTDIR</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
A component of the path prefix is not a directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EPERM</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">timep</i> argument is not <span class="define">NULL</span> and the calling process's effective user ID does not match the owner of the file and is not the superuser.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EROFS</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The file system containing the file is mounted read-only.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/stat.html">stat(2)</a>, <a class="link-man" href="../html2/utimes.html">utimes(2)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">utime</b>() function conforms to IEEE Std 1003.1-1988 (&#8220;POSIX.1&#8221;).</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="fname">utime</b>() function appeared in Version&#160;7 AT&amp;T UNIX.</div>
</div>
</body>
</html>

