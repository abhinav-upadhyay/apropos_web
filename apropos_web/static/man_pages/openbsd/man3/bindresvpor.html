<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
BINDRESVPORT(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">bindresvport</b>, <b class="name">bindresvport_sa</b> &#8212; <span class="desc">bind a socket to a privileged IP port</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/types.h</a>&gt;</b><br/>
<b class="includes">#include &lt;<a class="link-includes">netinet/in.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">bindresvport</b>(<i class="farg" style="white-space:nowrap;">int sd</i>, <i class="farg" style="white-space:nowrap;">struct sockaddr_in *sin</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">bindresvport_sa</b>(<i class="farg" style="white-space:nowrap;">int sd</i>, <i class="farg" style="white-space:nowrap;">struct sockaddr *sa</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">bindresvport</b>() and <b class="fname">bindresvport_sa</b>() functions are used to bind a socket descriptor to a privileged IP port, that is, a port number in the range 0-1023. The <b class="fname">bindresvport</b>() function operates solely on <span class="define">AF_INET</span> sockets, whereas the <b class="fname">bindresvport_sa</b>() function is capable of binding both <span class="define">AF_INET</span> and <span class="define">AF_INET6</span> sockets.<div class="spacer">
</div>
Only the superuser may bind to a privileged port; these functions will fail for any other user.<div class="spacer">
</div>
<i class="farg">sd</i> should be a socket descriptor that was returned by a call to <a class="link-man" href="../html2/socket.html">socket(2)</a>.<div class="spacer">
</div>
If <b class="var">sin</b> is not the NULL pointer, <b class="var">sin-&gt;sin_family</b> must be initialized to the address family of the socket <b class="var">sd</b>. If the value of <b class="var">sin-&gt;sin_port</b> is non-zero, <b class="fname">bindresvport</b>() will attempt to use the specified port. Otherwise, a free port in the range 600-1023 will be chosen and, if the <a class="link-man" href="../html2/bind.html">bind(2)</a> succeeds, <b class="var">sin-&gt;sin_port</b> will be updated with the port that was assigned.<div class="spacer">
</div>
If <b class="var">sin</b> is the NULL pointer, a free port in the range 600-1023 will be chosen (as above), but in this case there is no way for <b class="fname">bindresvport</b>() to communicate to the caller which port was assigned.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">bindresvport</b>() returns 0 if it is successful, otherwise -1 is returned and <b class="var">errno</b> set to reflect the cause of the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">bindresvport</b>() function fails if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EBADF</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">sd</i> is not a valid descriptor.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ENOTSOCK</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">sd</i> is not a socket.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EADDRNOTAVAIL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The specified address is not available from the local machine.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EADDRINUSE</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The specified address is already in use.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The socket is already bound to an address.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The family of the socket and that requested in <b class="var">sa-&gt;sa_family</b> are not equivalent.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EACCES</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The requested address is protected, and the current user has inadequate permission to access it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EFAULT</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">name</i> parameter is not in a valid part of the user address space.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ENOBUFS</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Insufficient resources were available in the system to perform the operation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EPFNOSUPPORT</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The protocol family has not been configured into the system, no implementation for it exists, or address family did not match between arguments.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/bind.html">bind(2)</a>, <a class="link-man" href="../html2/socket.html">socket(2)</a>, <a class="link-man" href="../html3/rresvport.html">rresvport(3)</a>, <a class="link-man" href="../html3/rresvport_af.html">rresvport_af(3)</a></div>
</div>
</body>
</html>

