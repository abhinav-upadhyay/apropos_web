<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
GETTTYENT(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">getttyent</b>, <b class="name">getttynam</b>, <b class="name">setttyent</b>, <b class="name">endttyent</b> &#8212; <span class="desc">get ttys file entry</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">ttyent.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">struct ttyent *</i><br/>
<b class="fname">getttyent</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">struct ttyent *</i><br/>
<b class="fname">getttynam</b>(<i class="farg" style="white-space:nowrap;">const char *name</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">setttyent</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">endttyent</b>(<i class="farg" style="white-space:nowrap;">void</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">getttyent</b>() and <b class="fname">getttynam</b>() functions each return a pointer to an object, with the following structure, containing the broken-out fields of a line from the tty description file.<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
struct ttyent { 
	char	*ty_name;	/* terminal device name */ 
	char	*ty_getty;	/* command to execute */ 
	char	*ty_type;	/* terminal type */ 
#define	TTY_ON		0x01	/* enable logins */ 
#define	TTY_SECURE	0x02	/* allow uid of 0 to login */ 
#define	TTY_LOCAL	0x04	/* set 'CLOCAL' on open */ 
#define	TTY_RTSCTS	0x08	/* set 'CRTSCTS' on open */ 
#define	TTY_SOFTCAR	0x10	/* ignore hardware carrier */ 
#define	TTY_MDMBUF	0x20	/* set 'MDMBUF' on open */ 
	int	ty_status;	/* flag values */ 
	char	*ty_window;	/* command for window manager */ 
	char	*ty_comment;	/* comment field */ 
};</pre>
<div class="spacer">
</div>
The fields are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">ty_name</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Name of the character-special file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">ty_getty</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Name of the command invoked by <a class="link-man" href="../html8/init.html">init(8)</a> to initialize tty line characteristics.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">ty_type</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Name of the default terminal type connected to this tty line.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">ty_status</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
A mask of bit fields which indicate various actions allowed on this tty line. The possible flags are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TTY_ON</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Enables logins (i.e., <a class="link-man" href="../html8/init.html">init(8)</a> will start the command referenced by <i class="farg">ty_getty</i> on this entry).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TTY_SECURE</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Allow users with a UID of 0 to login on this terminal.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TTY_LOCAL</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
If the terminal port's driver supports it, cause the line to be treated as &#8220;local&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TTY_MDMBUF</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
If the terminal port's driver supports it, use DTR/DCD hardware flow control on the line by default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TTY_RTSCTS</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
If the terminal port's driver supports it, use full-duplex RTS/CTS hardware flow control on the line by default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TTY_SOFTCAR</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
If the terminal port's driver supports it, ignore hardware carrier on the line.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">ty_window</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Command to execute for a window system associated with the line.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="farg">ty_comment</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Any trailing comment field, with any leading hash marks (&#8216;#&#8217;) or whitespace removed.</dd>
</dl>
<div class="spacer">
</div>
If any of the fields pointing to character strings are unspecified, they are returned as null pointers. The field <i class="farg">ty_status</i> will be zero if no flag values are specified.<div class="spacer">
</div>
See <a class="link-man" href="../html5/ttys.html">ttys(5)</a> for a more complete discussion of the meaning and usage of the fields.<div class="spacer">
</div>
The <b class="fname">getttyent</b>() function reads the next line from the ttys file, opening the file if necessary. <b class="fname">setttyent</b>() rewinds the file if open, or opens the file if it is unopened. <b class="fname">endttyent</b>() closes any open files.<div class="spacer">
</div>
<b class="fname">getttynam</b>() searches from the beginning of the file until a matching <i class="farg">name</i> is found (or until <span class="define">EOF</span> is encountered).</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The routines <b class="fname">getttyent</b>() and <b class="fname">getttynam</b>() return a null pointer on <span class="define">EOF</span> or error. The <b class="fname">setttyent</b>() function and <b class="fname">endttyent</b>() return 0 on failure or 1 on success.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ttys</i></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/login.html">login(1)</a>, <a class="link-man" href="../html3/ttyslot.html">ttyslot(3)</a>, <a class="link-man" href="../html5/gettytab.html">gettytab(5)</a>, <a class="link-man" href="../html5/termcap.html">termcap(5)</a>, <a class="link-man" href="../html5/ttys.html">ttys(5)</a>, <a class="link-man" href="../html8/getty.html">getty(8)</a>, <a class="link-man" href="../html8/init.html">init(8)</a>, <a class="link-man" href="../html8/ttyflags.html">ttyflags(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">getttyent</b>(), <b class="fname">getttynam</b>(), <b class="fname">setttyent</b>(), and <b class="fname">endttyent</b>() functions appeared in <span class="unix">4.3BSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> These functions use static data storage; if the data is needed for future use, it should be copied before any subsequent calls overwrite it.</div>
</div>
</body>
</html>

