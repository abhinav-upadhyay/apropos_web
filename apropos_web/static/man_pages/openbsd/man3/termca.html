<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
termcap(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
termcap(3)</td>
<td class="head-vol">
Library Functions Manual</td>
<td class="head-rtitle">
termcap(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1>  <b>tgetent</b>,  <b>tgetflag</b>,  <b>tgetnum</b>,  <b>tgetstr</b>,  <b>tgoto</b>,  <b>tputs</b> - direct <b>curses</b> interface to the terminfo capability database</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;curses.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<b>#include &lt;term.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<b>extern char PC;</b><div style="height: 0.00em;">
&#160;</div>
<b>extern char * UP;</b><div style="height: 0.00em;">
&#160;</div>
<b>extern char * BC;</b><div style="height: 0.00em;">
&#160;</div>
<b>extern int ospeed;</b><div style="height: 1.00em;">
&#160;</div>
<b>int tgetent(char *bp, const char *name);</b><div style="height: 0.00em;">
&#160;</div>
<b>int tgetflag(char *id);</b><div style="height: 0.00em;">
&#160;</div>
<b>int tgetnum(char *id);</b><div style="height: 0.00em;">
&#160;</div>
<b>char *tgetstr(char *id, char **area);</b><div style="height: 0.00em;">
&#160;</div>
<b>char *tgoto(const char *cap, int col, int row);</b><div style="height: 0.00em;">
&#160;</div>
<b>int tputs(const char *str, int affcnt, int (*putc)(int));</b><div style="height: 0.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> These routines are included as a conversion aid for programs that use the  <i>termcap</i> library.  Their parameters are the same and the routines are emulated using the  <i>terminfo</i> database.  Thus, they can only be used to query the capabilities of entries for which a terminfo entry has been compiled.<div class="spacer">
</div>
The <b>tgetent</b> routine loads the entry for <i>name</i>. It returns 1 on success, 0 if there is no such entry, and -1 if the terminfo database could not be found. The emulation ignores the buffer pointer  <i>bp</i>.<div class="spacer">
</div>
The <b>tgetflag</b> routine gets the boolean entry for <i>id</i>, or zero if it is not available.<div class="spacer">
</div>
The <b>tgetnum</b> routine gets the numeric entry for <i>id</i>, or -1 if it is not available.<div class="spacer">
</div>
The <b>tgetstr</b> routine returns the string entry for <i>id</i>, or zero if it is not available. Use  <b>tputs</b> to output the returned string. The return value will also be copied to the buffer pointed to by  <i>area</i>, and the  <i>area</i> value will be updated to point past the null ending this value.<div class="spacer">
</div>
Only the first two characters of the <b>id</b> parameter of  <b>tgetflag</b>,  <b>tgetnum</b> and  <b>tgetstr</b> are compared in lookups.<div class="spacer">
</div>
The <b>tgoto</b> routine instantiates the parameters into the given capability. The output from this routine is to be passed to  <b>tputs</b>.<div class="spacer">
</div>
The <b>tputs</b> routine is described on the <b>terminfo</b>(3) manual page.  It can retrieve capabilities by either termcap or terminfo name.<div class="spacer">
</div>
The variables  <b>PC</b>,  <b>UP</b> and  <b>BC</b> are set by  <b>tgetent</b> to the terminfo entry's data for  <b>pad_char</b>,  <b>cursor_up</b> and  <b>backspace_if_not_bs</b>, respectively.  <b>UP</b> is not used by ncurses.  <b>PC</b> is used in the <b>tdelay_output</b> function.  <b>BC</b> is used in the <b>tgoto</b> emulation. The variable  <b>ospeed</b> is set by ncurses in a system-specific coding to reflect the terminal speed.</div>
<div class="section">
<h1>RETURN VALUE</h1> Except where explicitly noted, routines that return an integer return  <b>ERR</b> upon failure and <b>OK</b> (SVr4 only specifies &quot;an integer value other than  <b>ERR</b>&quot;) upon successful completion.<div class="spacer">
</div>
Routines that return pointers return <b>NULL</b> on error.</div>
<div class="section">
<h1>BUGS</h1> If you call  <b>tgetstr</b> to fetch <b>ca</b> or any other parameterized string, be aware that it will be returned in terminfo notation, not the older and not-quite-compatible termcap notation.  This will not cause problems if all you do with it is call  <b>tgoto</b> or <b>tparm</b>, which both expand terminfo-style strings as terminfo. (The  <b>tgoto</b> function, if configured to support termcap, will check if the string is indeed terminfo-style by looking for &quot;%p&quot; parameters or &quot;$&lt;..&gt;&quot; delays, and invoke a termcap-style parser if the string does not appear to be terminfo).<div class="spacer">
</div>
Because terminfo conventions for representing padding in string capabilities differ from termcap's,  <b>tputs(&quot;50&quot;);</b> will put out a literal &quot;50&quot; rather than busy-waiting for 50 milliseconds.  Cope with it.<div class="spacer">
</div>
Note that termcap has nothing analogous to terminfo's <b>sgr</b> string. One consequence of this is that termcap applications assume me (terminfo  <b>sgr0</b>) does not reset the alternate character set. This implementation checks for, and modifies the data shown to the termcap interface to accommodate termcap's limitation in this respect.</div>
<div class="section">
<h1>PORTABILITY</h1> The XSI Curses standard, Issue 4 describes these functions.  However, they are marked TO BE WITHDRAWN and may be removed in future versions.<div class="spacer">
</div>
Neither the XSI Curses standard nor the SVr4 man pages documented the return values of  <b>tgetent</b> correctly, though all three were in fact returned ever since SVr1. In particular, an omission in the XSI Curses documentation has been misinterpreted to mean that  <b>tgetent</b> returns <b>OK</b> or <b>ERR</b>. Because the purpose of these functions is to provide compatibility with the  <i>termcap</i> library, that is a defect in XCurses, Issue 4, Version 2 rather than in ncurses.<div class="spacer">
</div>
External variables are provided for support of certain termcap applications. However, termcap applications' use of those variables is poorly documented, e.g., not distinguishing between input and output. In particular, some applications are reported to declare and/or modify  <b>ospeed</b>.</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>curses</b>(3), <b>terminfo</b>(5), <b>putc</b>(3).</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

