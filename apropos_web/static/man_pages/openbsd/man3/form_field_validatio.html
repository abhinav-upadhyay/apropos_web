<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
form_field_validation(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
form_field_validation(3)</td>
<td class="head-vol">
Library Functions Manual</td>
<td class="head-rtitle">
form_field_validation(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1>  <b>set_field_type</b>, <b>field_type</b>,  <b>field_arg</b> - data type validation for fields</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;form.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
int set_field_type(FIELD *field, FIELDTYPE *type, ...);<div style="height: 0.00em;">
&#160;</div>
FIELDTYPE *field_type(const FIELD *field);<div style="height: 0.00em;">
&#160;</div>
void *field_arg(const FIELD *field);<div style="height: 1.00em;">
&#160;</div>
FIELDTYPE *TYPE_ALNUM;<div style="height: 0.00em;">
&#160;</div>
FIELDTYPE *TYPE_ALPHA;<div style="height: 0.00em;">
&#160;</div>
FIELDTYPE *TYPE_ENUM;<div style="height: 0.00em;">
&#160;</div>
FIELDTYPE *TYPE_INTEGER;<div style="height: 0.00em;">
&#160;</div>
FIELDTYPE *TYPE_NUMERIC;<div style="height: 0.00em;">
&#160;</div>
FIELDTYPE *TYPE_REGEXP;<div style="height: 0.00em;">
&#160;</div>
FIELDTYPE *TYPE_IPV4;<div style="height: 0.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The function  <b>set_field_type</b> declares a data type for a given form field. This is the type checked by validation functions. The predefined types are as follows:<dl>
<dt>
TYPE_ALNUM</dt>
<dd>
Alphanumeric data.  Requires a third <b>int</b> argument, a minimum field width.</dd>
</dl>
<dl>
<dt>
TYPE_ALPHA</dt>
<dd>
Character data.  Requires a third <b>int</b> argument, a minimum field width.</dd>
</dl>
<dl>
<dt>
TYPE_ENUM</dt>
<dd>
Accept one of a specified set of strings.  Requires a third <b>(char **)</b> argument pointing to a string list; a fourth  <b>int</b> flag argument to enable case-sensitivity; and a fifth  <b>int</b> flag argument specifying whether a partial match must be a unique one (if this flag is off, a prefix matches the first of any set of more than one list elements with that prefix). Please notice that the string list is not copied, only a reference to it is stored in the field. So you should avoid using a list that lives in automatic variables on the stack.</dd>
</dl>
<dl>
<dt>
TYPE_INTEGER</dt>
<dd>
Integer data, parsable to an integer by <b>atoi(3)</b>.  Requires a third  <b>int</b> argument controlling the precision, a fourth <b>long</b> argument constraining minimum value, and a fifth  <b>long</b> constraining maximum value. If the maximum value is less than or equal to the minimum value, the range is simply ignored. On return the field buffer is formatted according to the  <b>printf</b> format specification &quot;.*ld&quot;, where the '*' is replaced by the precision argument. For details of the precision handling see  <b>printf's</b> man-page.</dd>
</dl>
<dl>
<dt>
TYPE_NUMERIC</dt>
<dd>
Numeric data (may have a decimal-point part). Requires a third  <b>int</b> argument controlling the precision, a fourth <b>double</b> argument constraining minimum value, and a fifth  <b>double</b> constraining maximum value. If your system supports locales, the decimal point character to be used must be the one specified by your locale. If the maximum value is less than or equal to the minimum value, the range is simply ignored. On return the field buffer is formatted according to the  <b>printf</b> format specification &quot;.*f&quot;, where the '*' is replaced by the precision argument. For details of the precision handling see  <b>printf's</b> man-page.</dd>
</dl>
<dl>
<dt>
TYPE_REGEXP</dt>
<dd>
Regular expression data.  Requires a regular expression <b>(char *)</b> third argument; the data is valid if the regular expression matches it.  Regular expressions are in the format of  <b>regcomp</b> and <b>regexec</b>. Please notice that the regular expression must match the whole field. If you have for example an eight character wide field, a regular expression &quot;^[0-9]*$&quot; always means that you have to fill all eight positions with digits. If you want to allow fewer digits, you may use for example &quot;^[0-9]* *$&quot; which is good for trailing spaces (up to an empty field), or &quot;^ *[0-9]* *$&quot; which is good for leading and trailing spaces around the digits.</dd>
</dl>
<dl>
<dt>
TYPE_IPV4</dt>
<dd>
An Internet Protocol Version 4 address. This requires no additional argument. It is checked whether or not the buffer has the form a.b.c.d, where a,b,c and d are numbers between 0 and 255. Trailing blanks in the buffer are ignored. The address itself is not validated. Please note that this is an ncurses extension. This field type may not be available in other curses implementations.</dd>
</dl>
<div class="spacer">
</div>
It is possible to set up new programmer-defined field types.  See the  <b>form_fieldtype</b>(3) manual page.</div>
<div class="section">
<h1>RETURN VALUE</h1> The functions  <b>field_type</b> and <b>field_arg</b> return <b>NULL</b> on error. The function  <b>set_field_type</b> returns one of the following:<dl>
<dt>
<b>E_OK</b></dt>
<dd>
The routine succeeded.</dd>
</dl>
<dl>
<dt>
<b>E_SYSTEM_ERROR</b></dt>
<dd>
System error occurred (see <b>errno</b>).</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>curses</b>(3), <b>form</b>(3).</div>
<div class="section">
<h1>NOTES</h1> The header file  <b>&lt;form.h&gt;</b> automatically includes the header file  <b>&lt;curses.h&gt;</b>.</div>
<div class="section">
<h1>PORTABILITY</h1> These routines emulate the System V forms library.  They were not supported on Version 7 or BSD versions.</div>
<div class="section">
<h1>AUTHORS</h1> Juergen Pfeifer.  Manual pages and adaptation for new curses by Eric S. Raymond.</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

