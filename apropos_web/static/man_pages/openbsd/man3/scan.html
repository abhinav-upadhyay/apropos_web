<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SCANF(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">scanf</b>, <b class="name">fscanf</b>, <b class="name">sscanf</b>, <b class="name">vscanf</b>, <b class="name">vsscanf</b>, <b class="name">vfscanf</b> &#8212; <span class="desc">input format conversion</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">stdio.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">scanf</b>(<i class="farg" style="white-space:nowrap;">const char *format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">fscanf</b>(<i class="farg" style="white-space:nowrap;">FILE *stream</i>, <i class="farg" style="white-space:nowrap;">const char *format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">sscanf</b>(<i class="farg" style="white-space:nowrap;">const char *str</i>, <i class="farg" style="white-space:nowrap;">const char *format</i>, <i class="farg" style="white-space:nowrap;">...</i>);<div class="spacer">
</div>
<b class="includes">#include &lt;<a class="link-includes">stdarg.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">vscanf</b>(<i class="farg" style="white-space:nowrap;">const char *format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">vsscanf</b>(<i class="farg" style="white-space:nowrap;">const char *str</i>, <i class="farg" style="white-space:nowrap;">const char *format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">vfscanf</b>(<i class="farg" style="white-space:nowrap;">FILE *stream</i>, <i class="farg" style="white-space:nowrap;">const char *format</i>, <i class="farg" style="white-space:nowrap;">va_list ap</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">scanf</b>() family of functions read input according to the given <i class="farg">format</i> as described below. This format may contain &#8220;conversion specifiers&#8221;; the results of such conversions, if any, are stored through a set of pointer arguments.<div class="spacer">
</div>
The <b class="fname">scanf</b>() function reads input from the standard input stream <span class="emph">stdin</span>, <b class="fname">fscanf</b>() reads input from the supplied stream pointer <i class="farg">stream</i>, and <b class="fname">sscanf</b>() reads its input from the character string pointed to by <i class="farg">str</i>.<div class="spacer">
</div>
The <b class="fname">vfscanf</b>() function is analogous to <a class="link-man" href="../html3/vfprintf.html">vfprintf(3)</a> and reads input from the stream pointer <i class="farg">stream</i> using a variable argument list of pointers (see <a class="link-man" href="../html3/stdarg.html">stdarg(3)</a>). The <b class="fname">vscanf</b>() function scans a variable argument list from the standard input and the <b class="fname">vsscanf</b>() function scans it from a string; these are analogous to the <b class="fname">vprintf</b>() and <b class="fname">vsprintf</b>() functions, respectively.<div class="spacer">
</div>
Each successive <span class="emph">pointer</span> argument must correspond properly with each successive conversion specifier (but see the <b class="flag">*</b> conversion below). All conversions are introduced by the <b class="flag">%</b> (percent sign) character. The <i class="farg">format</i> string may also contain other characters. Whitespace (such as blanks, tabs, or newlines) in the <i class="farg">format</i> string match any amount of whitespace, including none, in the input. Everything else matches only itself. Scanning stops when an input character does not match such a format character. Scanning also stops when an input conversion cannot be made (see below).</div>
<div class="section">
<h1 id="x434f4e56455253494f4e53">CONVERSIONS</h1> Following the <b class="flag">%</b> character, introducing a conversion, there may be a number of <span class="emph">flag</span> characters, as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">*</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Suppresses assignment. The conversion that follows occurs as usual, but no pointer is used; the result of the conversion is simply discarded.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">hh</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">char</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">h</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">short int</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">l</b> <code class="none">(ell)</code></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Indicates either that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">long int</span> (rather than <span class="type">int</span>), or that the conversion will be one of <b class="flag">efg</b> and the next pointer is a pointer to <span class="type">double</span> (rather than <span class="type">float</span>), or that the conversion will be one of <b class="flag">sc[</b>.<div class="spacer">
</div>
If the conversion is one of <b class="flag">sc[</b> the expected conversion input is a multibyte character sequence. Each multibyte character in the sequence is converted with a call to the <b class="fname">mbrtowc</b>() function. The field width specifies the maximum amount of bytes read from the multibyte character sequence and passed to <b class="fname">mbrtowc</b>() for conversion. The next pointer is a pointer to a <span class="type">wchar_t</span> wide-character buffer large enough to accept the converted input sequence including the terminating NUL wide character which will be added automatically.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ll</b> <code class="none">(ell ell)</code></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">long long int</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">L</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Indicates that the conversion will be one of <b class="flag">efg</b> and the next pointer is a pointer to <span class="type">long double</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">j</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to an <span class="type">intmax_t</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">t</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">ptrdiff_t</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">z</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">size_t</span> (rather than <span class="type">int</span>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">q</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
(deprecated) Indicates that the conversion will be one of <b class="flag">dioux</b> or <b class="flag">n</b> and the next pointer is a pointer to a <span class="type">long long int</span> (rather than <span class="type">int</span>).</dd>
</dl>
<div class="spacer">
</div>
In addition to these flags, there may be an optional maximum field width, expressed as a decimal integer, between the <b class="flag">%</b> and the conversion. If no width is given, a default of &#8220;infinity&#8221; is used (with one exception, below); otherwise at most this many characters are scanned in processing the conversion. Before conversion begins, most conversions skip whitespace; this whitespace is not counted against the field width.<div class="spacer">
</div>
The following conversions are available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">%</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a literal &#8216;<code class="lit">%</code>&#8217;. That is, &#8220;<code class="lit">%%</code>&#8221; in the format string matches a single input &#8216;<code class="lit">%</code>&#8217; character. No conversion is done, and assignment does not occur.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">d</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed decimal integer; the next pointer must be a pointer to <span class="type">int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">D</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">ld</b>; this exists only for backwards compatibility.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">i</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed integer; the next pointer must be a pointer to <span class="type">int</span>. The integer is read in base 16 if it begins with &#8216;<code class="lit">0x</code>&#8217; or &#8216;<code class="lit">0X</code>&#8217;, in base 8 if it begins with &#8216;<code class="lit">0</code>&#8217;, and in base 10 otherwise. Only characters that correspond to the base are used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">o</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an octal integer; the next pointer must be a pointer to <span class="type">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">O</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">lo</b>; this exists for backwards compatibility.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">u</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed decimal integer; the next pointer must be a pointer to <span class="type">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">xX</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed hexadecimal integer; the next pointer must be a pointer to <span class="type">unsigned int</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">eE</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">f</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">fF</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches an optionally signed floating-point number; the next pointer must be a pointer to <span class="type">float</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">gG</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">f</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">aA</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Equivalent to <b class="flag">f</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">s</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a sequence of non-whitespace characters; the next pointer must be a pointer to <span class="type">char</span>, or to <span class="type">wchar_t</span> if the <span class="type">l</span> length modifier is present. The provided array must be large enough to accept and store the whole sequence and the terminating NUL character. The input string stops at whitespace or at the maximum field width, whichever occurs first. If specified, the maximum field length refers to the sequence being scanned rather than the storage space, hence the provided array must be 1 larger for the terminating NUL character.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">c</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a sequence of characters consuming the number of bytes specified by the field width (defaults to 1 if unspecified); the next pointer must be a pointer to <span class="type">char</span>, or to <span class="type">wchar_t</span> if the <span class="type">l</span> length modifier is present. There must be enough room for all the characters (no terminating NUL is added). The usual skip of leading whitespace is suppressed. To skip whitespace first, use an explicit space in the format.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">[</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a nonempty sequence of characters from the specified set of accepted characters; the next pointer must be a pointer to <span class="type">char</span>, or to <span class="type">wchar_t</span> if the <span class="type">l</span> length modifier is present. There must be enough room for all the characters in the string, plus a terminating NUL character. The usual skip of leading whitespace is suppressed.<div class="spacer">
</div>
The string is to be made up of characters in (or not in) a particular set; the set is defined by the characters between the open bracket <b class="flag">[</b> character and a close bracket <b class="flag">]</b> character. The set <span class="emph">excludes</span> those characters if the first character after the open bracket is a circumflex <b class="flag">^</b>. To include a close bracket in the set, make it the first character after the open bracket or the circumflex; any other position will end the set. The hyphen character <b class="flag">-</b> is also special; when placed between two other characters, it adds all intervening characters to the set. To include a hyphen, make it the last character before the final close bracket.<div class="spacer">
</div>
For instance, &#8216;<code class="lit">[^]0-9-]</code>&#8217; means the set &#8220;everything except close bracket, zero through nine, and hyphen&#8221;. The string ends with the appearance of a character not in (or, with a circumflex, in) the set or when the field width runs out.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">p</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Matches a pointer value (as printed by &#8216;<code class="lit">%p</code>&#8217; in <a class="link-man" href="../html3/printf.html">printf(3)</a>); the next pointer must be a pointer to <span class="type">void</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">n</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Nothing is expected; instead, the number of characters consumed thus far from the input is stored through the next pointer, which must be a pointer to <span class="type">int</span>. This is <span class="emph">not</span> a conversion, although it can be suppressed with the <b class="flag">*</b> flag.</dd>
</dl>
<div class="spacer">
</div>
For backwards compatibility, other conversion characters (except &#8216;<code class="lit">\0</code>&#8217;) are taken as if they were &#8216;<code class="lit">%d</code>&#8217; or, if uppercase, &#8216;<code class="lit">%ld</code>&#8217;, and a `conversion' of &#8216;<code class="lit">%\0</code>&#8217; causes an immediate return of <span class="define">EOF</span>.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> These functions return the number of input items assigned, which can be fewer than provided for, or even zero, in the event of a matching failure. Zero indicates that, while there was input available, no conversions were assigned; typically this is due to an invalid input character, such as an alphabetic character for a &#8216;<code class="lit">%d</code>&#8217; conversion. The value <span class="define">EOF</span> is returned if an input failure, such as an end-of-file, occurs before any conversion. If an error or end-of-file occurs after conversion has begun, the number of conversions which were successfully completed is returned.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/getc.html">getc(3)</a>, <a class="link-man" href="../html3/mbrtowc.html">mbrtowc(3)</a>, <a class="link-man" href="../html3/printf.html">printf(3)</a>, <a class="link-man" href="../html3/strtod.html">strtod(3)</a>, <a class="link-man" href="../html3/strtol.html">strtol(3)</a>, <a class="link-man" href="../html3/strtoul.html">strtoul(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The functions <b class="fname">fscanf</b>(), <b class="fname">scanf</b>(), and <b class="fname">sscanf</b>() conform to ANSI X3.159-1989 (&#8220;ANSI&#160;C89&#8221;).</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The functions <b class="fname">scanf</b>(), <b class="fname">fscanf</b>(), and <b class="fname">sscanf</b>() first appeared in Version&#160;7 AT&amp;T UNIX, and <b class="fname">vscanf</b>(), <b class="fname">vsscanf</b>(), and <b class="fname">vfscanf</b>() in <span class="unix">4.3BSD-Reno</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Numerical strings are truncated to 512 characters; for example, <b class="flag">%f</b> and <b class="flag">%d</b> are implicitly <b class="flag">%512f</b> and <b class="flag">%512d</b>.</div>
</div>
</body>
</html>

