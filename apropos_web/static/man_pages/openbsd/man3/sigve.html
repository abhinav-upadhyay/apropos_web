<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SIGVEC(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sigvec</b> &#8212; <span class="desc">software signal facilities</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">signal.h</a>&gt;</b><div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
struct sigvec { 
	void	 (*sv_handler)(); 
	int	 sv_mask; 
	int      sv_flags; 
};</pre>
<br/>
<i class="ftype">int</i><br/>
<b class="fname">sigvec</b>(<i class="farg" style="white-space:nowrap;">int sig</i>, <i class="farg" style="white-space:nowrap;">struct sigvec *vec</i>, <i class="farg" style="white-space:nowrap;">struct sigvec *ovec</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="symb" style="display:inline;margin-left: 1.00ex;">
This interface is made obsolete by <a class="link-man" href="../html2/sigaction.html">sigaction(2)</a>.</div>
<div class="spacer">
</div>
The system defines a set of signals that may be delivered to a process. Signal delivery resembles the occurrence of a hardware interrupt: the signal is blocked from further occurrence, the current process context is saved, and a new one is built. A process may specify a <span class="emph">handler</span> to which a signal is delivered, or specify that a signal is to be <span class="emph">blocked</span> or <span class="emph">ignored</span>. A process may also specify that a default action is to be taken by the system when a signal occurs. A signal may also be <span class="emph">blocked</span>, in which case its delivery is postponed until it is <span class="emph">unblocked</span>. The action to be taken on delivery is determined at the time of delivery. Normally, signal handlers execute on the current stack of the process. This may be changed, on a per-handler basis, so that signals are taken on a special <span class="emph">signal stack</span>.<div class="spacer">
</div>
All signals have the same <span class="emph">priority</span>. Signal routines execute with the signal that caused their invocation <span class="emph">blocked</span>, but other signals may yet occur. A global <span class="emph">signal mask</span> defines the set of signals currently blocked from delivery to a process. The signal mask for a process is initialized from that of its parent (normally 0). It may be changed with a <a class="link-man" href="../html3/sigblock.html">sigblock(3)</a> or <a class="link-man" href="../html3/sigsetmask.html">sigsetmask(3)</a> call, or when a signal is delivered to the process.<div class="spacer">
</div>
When a signal condition arises for a process, the signal is added to a set of signals pending for the process. If the signal is not currently <span class="emph">blocked</span> by the process then it is delivered to the process. When a caught signal is delivered, the current state of the process is saved, a new signal mask is calculated (as described below), and the signal handler is invoked. The call to the handler is arranged so that if the signal handling routine returns normally the process will resume execution in the context from before the signal's delivery. If the process wishes to resume in a different context, then it must arrange to restore the previous context itself.<div class="spacer">
</div>
When a signal is delivered to a process a new signal mask is installed for the duration of the process' signal handler (or until a <a class="link-man" href="../html3/sigblock.html">sigblock(3)</a> or <a class="link-man" href="../html3/sigsetmask.html">sigsetmask(3)</a> call is made). This mask is formed by taking the union of the current signal mask, the signal to be delivered, and the signal mask associated with the handler to be invoked.<div class="spacer">
</div>
<b class="fname">sigvec</b>() assigns a handler for a specific signal. If <i class="farg">vec</i> is non-zero, it specifies an action (<span class="define">SIG_DFL</span>, <span class="define">SIG_IGN</span>, or a handler routine) and mask to be used when delivering the specified signal. If <i class="farg">ovec</i> is non-zero, the previous handling information for the signal is returned to the user.<div class="spacer">
</div>
Once a signal handler is installed, it remains installed until another <b class="fname">sigvec</b>() call is made, or an <a class="link-man" href="../html2/execve.html">execve(2)</a> is performed. A signal-specific default action may be reset by setting <i class="farg">sv_handler</i> to <span class="define">SIG_DFL</span>. The defaults are process termination, possibly with core dump; no action; stopping the process; or continuing the process. See the signal list below for each signal's default action. If <i class="farg">sv_handler</i> is set to <span class="define">SIG_IGN</span>, the default action for the signal is to discard the signal, and if a signal is pending, the pending signal is discarded even if the signal is masked. If <i class="farg">sv_handler</i> is set to <span class="define">SIG_IGN</span>, current and pending instances of the signal are ignored and discarded.<div class="spacer">
</div>
Options may be specified by setting <span class="emph">sv_flags</span>. If the <span class="define">SV_ONSTACK</span> bit is set in <i class="farg">sv_flags</i>, the system will deliver the signal to the process on a <span class="emph">signal stack</span>, specified with <a class="link-man" href="../html2/sigaltstack.html">sigaltstack(2)</a>.<div class="spacer">
</div>
If a signal is caught during the system calls listed below, the call may be restarted, the call may return with a data transfer shorter than requested, or the call may be forced to terminate with the error <span class="errno">EINTR</span>. Interrupting of pending calls is requested by setting the <span class="define">SV_INTERRUPT</span> bit in <i class="arg">sv_flags</i>. The affected system calls include <a class="link-man" href="../html2/open.html">open(2)</a>, <a class="link-man" href="../html2/read.html">read(2)</a>, <a class="link-man" href="../html2/write.html">write(2)</a>, <a class="link-man" href="../html2/sendto.html">sendto(2)</a>, <a class="link-man" href="../html2/recvfrom.html">recvfrom(2)</a>, <a class="link-man" href="../html2/sendmsg.html">sendmsg(2)</a> and <a class="link-man" href="../html2/recvmsg.html">recvmsg(2)</a> on a communications channel or a slow device (such as a terminal, but not a regular file) and during a <a class="link-man" href="../html2/wait.html">wait(2)</a> or <a class="link-man" href="../html2/ioctl.html">ioctl(2)</a>. However, calls that have already committed are not restarted, but instead return a partial success (for example, a short read count).<div class="spacer">
</div>
After a <a class="link-man" href="../html2/fork.html">fork(2)</a> or <a class="link-man" href="../html2/vfork.html">vfork(2)</a> all signals, the signal mask, the signal stack, and the interrupt/restart flags are inherited by the child.<div class="spacer">
</div>
<a class="link-man" href="../html2/execve.html">execve(2)</a> reinstates the default action for all signals which were caught and resets all signals to be caught on the user stack. Ignored signals remain ignored; the signal mask remains the same; signals that interrupt pending system calls continue to do so.<div class="spacer">
</div>
The following is a list of all signals with names as in the include file <b class="includes">&lt;<a class="link-includes">signal.h</a>&gt;</b>:<table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 9.00ex;"/>
<col style="width: 17.00ex;"/>
<col style="min-width: 20.00ex;"/>
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Name</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Default Action</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Description</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGHUP</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
terminal line hangup</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGINT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
interrupt program</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGQUIT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
quit program</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGILL</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
illegal instruction</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTRAP</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
trace trap</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGABRT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
abort(3) call (formerly SIGIOT)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGEMT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
emulate instruction executed</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGFPE</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
floating-point exception</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGKILL</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
kill program (cannot be caught or ignored)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGBUS</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
bus error</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGSEGV</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
segmentation violation</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGSYS</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
system call given invalid argument</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGPIPE</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
write on a pipe with no reader</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGALRM</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
real-time timer expired</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTERM</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
software termination signal</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGURG</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
urgent condition present on socket</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGSTOP</span></td>
<td class="list-col" style="margin-top: 1.00em;">
stop process</td>
<td class="list-col" style="margin-top: 1.00em;">
stop (cannot be caught or ignored)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTSTP</span></td>
<td class="list-col" style="margin-top: 1.00em;">
stop process</td>
<td class="list-col" style="margin-top: 1.00em;">
stop signal generated from keyboard</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGCONT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
continue after stop</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGCHLD</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
child status has changed</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTTIN</span></td>
<td class="list-col" style="margin-top: 1.00em;">
stop process</td>
<td class="list-col" style="margin-top: 1.00em;">
background read attempted from control terminal</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTTOU</span></td>
<td class="list-col" style="margin-top: 1.00em;">
stop process</td>
<td class="list-col" style="margin-top: 1.00em;">
background write attempted to control terminal</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGIO</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
I/O is possible on a descriptor (see <a class="link-man" href="../html2/fcntl.html">fcntl(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGXCPU</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
CPU time limit exceeded (see <a class="link-man" href="../html2/setrlimit.html">setrlimit(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGXFSZ</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
file size limit exceeded (see <a class="link-man" href="../html2/setrlimit.html">setrlimit(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGVTALRM</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
virtual time alarm (see <a class="link-man" href="../html2/setitimer.html">setitimer(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGPROF</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
profiling timer alarm (see <a class="link-man" href="../html2/setitimer.html">setitimer(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGWINCH</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
window size change</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGINFO</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
status request from keyboard</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGUSR1</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
user-defined signal 1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGUSR2</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
user-defined signal 2</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> The mask specified in <i class="farg">vec</i> is not allowed to block <span class="define">SIGKILL</span> or <span class="define">SIGSTOP</span>. This is enforced silently by the system.<div class="spacer">
</div>
The <span class="define">SV_INTERRUPT</span> flag is not available in <span class="unix">4.2BSD</span>, hence it should not be used if backward compatibility is needed.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> A 0 value indicated that the call succeeded. A -1 return value indicates an error occurred and <b class="var">errno</b> is set to indicated the reason.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> For an example of signal handler declarations, see <a class="link-man" href="../html2/sigaction.html">sigaction(2)</a>.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">sigvec</b>() will fail and no new signal handler will be installed if one of the following occurs:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EFAULT</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Either <i class="farg">vec</i> or <i class="farg">ovec</i> points to memory that is not a valid part of the process address space.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">sig</i> is not a valid signal number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
An attempt is made to ignore or supply a handler for <span class="define">SIGKILL</span> or <span class="define">SIGSTOP</span>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/kill.html">kill(1)</a>, <a class="link-man" href="../html2/kill.html">kill(2)</a>, <a class="link-man" href="../html2/ptrace.html">ptrace(2)</a>, <a class="link-man" href="../html2/sigaction.html">sigaction(2)</a>, <a class="link-man" href="../html2/sigaltstack.html">sigaltstack(2)</a>, <a class="link-man" href="../html2/sigprocmask.html">sigprocmask(2)</a>, <a class="link-man" href="../html2/sigsuspend.html">sigsuspend(2)</a>, <a class="link-man" href="../html3/setjmp.html">setjmp(3)</a>, <a class="link-man" href="../html3/sigblock.html">sigblock(3)</a>, <a class="link-man" href="../html3/siginterrupt.html">siginterrupt(3)</a>, <a class="link-man" href="../html3/sigpause.html">sigpause(3)</a>, <a class="link-man" href="../html3/sigsetmask.html">sigsetmask(3)</a>, <a class="link-man" href="../html3/sigsetops.html">sigsetops(3)</a>, <a class="link-man" href="../html4/tty.html">tty(4)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="fname">sigvec</b>() system call first appeared in <span class="unix">4.2BSD</span>. It was reimplemented as a wrapper around <a class="link-man" href="../html2/sigaction.html">sigaction(2)</a> in <span class="unix">4.3BSD-Reno</span>. The old system call was kept for compatibility until <span class="unix">OpenBSD&#160;4.9</span>.</div>
</div>
</body>
</html>

