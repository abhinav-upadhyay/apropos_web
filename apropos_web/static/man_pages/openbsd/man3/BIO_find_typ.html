<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
BIO_FIND_TYPE(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">BIO_find_type</b>, <b class="name">BIO_next</b>, <b class="name">BIO_method_type</b> &#8212; <span class="desc">BIO chain traversal</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">openssl/bio.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">BIO *</i><br/>
<b class="fname">BIO_find_type</b>(<i class="farg">BIO *b</i>, <i class="farg">int bio_type</i>);<div class="spacer">
</div>
<i class="ftype">BIO *</i><br/>
<b class="fname">BIO_next</b>(<i class="farg">BIO *b</i>);<div class="spacer">
</div>
<b class="macro">#define BIO_method_type(b)	((b)-&gt;method-&gt;type)</b><br/>
<b class="macro">#define BIO_TYPE_NONE		0</b><br/>
<b class="macro">#define BIO_TYPE_MEM		(1|0x0400)</b><br/>
<b class="macro">#define BIO_TYPE_FILE		(2|0x0400)</b><br/>
<b class="macro">#define BIO_TYPE_FD			(4|0x0400|0x0100)</b><br/>
<b class="macro">#define BIO_TYPE_SOCKET		(5|0x0400|0x0100)</b><br/>
<b class="macro">#define BIO_TYPE_NULL		(6|0x0400)</b><br/>
<b class="macro">#define BIO_TYPE_SSL		(7|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_MD			(8|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_BUFFER		(9|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_CIPHER		(10|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_BASE64		(11|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_CONNECT		(12|0x0400|0x0100)</b><br/>
<b class="macro">#define BIO_TYPE_ACCEPT		(13|0x0400|0x0100)</b><br/>
<b class="macro">#define BIO_TYPE_PROXY_CLIENT	(14|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_PROXY_SERVER	(15|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_NBIO_TEST	(16|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_NULL_FILTER	(17|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_BER		(18|0x0200)</b><br/>
<b class="macro">#define BIO_TYPE_BIO		(19|0x0400)</b><br/>
<b class="macro">#define BIO_TYPE_DESCRIPTOR	0x0100</b><br/>
<b class="macro">#define BIO_TYPE_FILTER		0x0200</b><br/>
<b class="macro">#define BIO_TYPE_SOURCE_SINK	0x0400</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The function <b class="fname">BIO_find_type</b>() searches for a BIO of a given type in a chain, starting at BIO <i class="farg">b</i>. If <i class="farg">bio_type</i> is a specific type (such as <span class="define">BIO_TYPE_MEM</span>), then a search is made for a BIO of that type. If <i class="farg">bio_type</i> is a general type (such as <span class="define">BIO_TYPE_SOURCE_SINK</span>), then the next matching BIO of the given general type is searched for. <b class="fname">BIO_find_type</b>() returns the next matching BIO or <span class="define">NULL</span> if none is found.<div class="spacer">
</div>
Note: not all the <span class="define">BIO_TYPE_*</span> types above have corresponding BIO implementations.<div class="spacer">
</div>
<b class="fname">BIO_next</b>() returns the next BIO in a chain. It can be used to traverse all BIOs in a chain or used in conjunction with <b class="fname">BIO_find_type</b>() to find all BIOs of a certain type.<div class="spacer">
</div>
<b class="fname">BIO_method_type</b>() returns the type of a BIO.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> <b class="fname">BIO_find_type</b>() returns a matching BIO or <span class="define">NULL</span> for no match.<div class="spacer">
</div>
<b class="fname">BIO_next</b>() returns the next BIO in a chain.<div class="spacer">
</div>
<b class="fname">BIO_method_type</b>() returns the type of the BIO <i class="farg">b</i>.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> <b class="fname">BIO_next</b>() was added to OpenSSL 0.9.6 to provide a 'clean' way to traverse a BIO chain or find multiple matches using <b class="fname">BIO_find_type</b>(). Previous versions had to use:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">next = bio-&gt;next_bio;</code></div>
</blockquote>
</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> <b class="fname">BIO_find_type</b>() in OpenSSL 0.9.5a and earlier could not be safely passed a <span class="define">NULL</span> pointer for the <i class="farg">b</i> argument.</div>
<div class="section">
<h1 id="x4558414d504c45">EXAMPLE</h1> Traverse a chain looking for digest BIOs:<div class="spacer">
</div>
<pre style="margin-left: 2.00ex;" class="lit display">
BIO *btmp; 
btmp = in_bio;	/* in_bio is chain to search through */ 
 
do { 
	btmp = BIO_find_type(btmp, BIO_TYPE_MD); 
	if (btmp == NULL) 
		break;	/* Not found */ 
	/* btmp is a digest BIO, do something with it ...*/ 
	... 
 
	btmp = BIO_next(btmp); 
} while(btmp);</pre>
</div>
</div>
</body>
</html>

