<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
ASN1_STRING_LENGTH(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ASN1_STRING_cmp</b>, <b class="name">ASN1_STRING_data</b>, <b class="name">ASN1_STRING_dup</b>, <b class="name">ASN1_STRING_length</b>, <b class="name">ASN1_STRING_length_set</b>, <b class="name">ASN1_STRING_set</b>, <b class="name">ASN1_STRING_to_UTF8</b>, <b class="name">ASN1_STRING_type</b> &#8212; <span class="desc">ASN1_STRING utility functions</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">openssl/asn1.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ASN1_STRING_cmp</b>(<i class="farg">ASN1_STRING *a</i>, <i class="farg">ASN1_STRING *b</i>);<div class="spacer">
</div>
<i class="ftype">unsigned char *</i><br/>
<b class="fname">ASN1_STRING_data</b>(<i class="farg">ASN1_STRING *x</i>);<div class="spacer">
</div>
<i class="ftype">ASN1_STRING *</i><br/>
<b class="fname">ASN1_STRING_dup</b>(<i class="farg">ASN1_STRING *a</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ASN1_STRING_length</b>(<i class="farg">ASN1_STRING *x</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">ASN1_STRING_length_set</b>(<i class="farg">ASN1_STRING *x</i>, <i class="farg">int len</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ASN1_STRING_set</b>(<i class="farg">ASN1_STRING *str</i>, <i class="farg">const void *data</i>, <i class="farg">int len</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ASN1_STRING_to_UTF8</b>(<i class="farg">unsigned char **out</i>, <i class="farg">ASN1_STRING *in</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">ASN1_STRING_type</b>(<i class="farg">ASN1_STRING *x</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions manipulate <span class="type">ASN1_STRING</span> structures.<div class="spacer">
</div>
<b class="fname">ASN1_STRING_cmp</b>() compares <i class="farg">a</i> and <i class="farg">b</i> and returns 0 if the two are identical. The string types and the content are compared.<div class="spacer">
</div>
<b class="fname">ASN1_STRING_data</b>() returns an internal pointer to the data of <i class="farg">x</i>. Since this is an internal pointer, it should <span class="emph">not</span> be freed or modified in any way.<div class="spacer">
</div>
<b class="fname">ASN1_STRING_dup</b>() returns a copy of the structure <i class="farg">a</i>.<div class="spacer">
</div>
<b class="fname">ASN1_STRING_length</b>() returns the length of the content of <i class="farg">x</i>.<div class="spacer">
</div>
<b class="fname">ASN1_STRING_length_set</b>() sets the length attribute of <i class="farg">x</i> to <i class="farg">len</i>. It may put <i class="farg">x</i> into an inconsistent internal state.<div class="spacer">
</div>
<b class="fname">ASN1_STRING_set</b>() sets the data of the string <i class="farg">str</i> to the buffer <i class="farg">data</i> of length <i class="farg">len</i>. The supplied data is copied. If <i class="farg">len</i> is -1 then the length is determined by <b class="fname">strlen</b>(<i class="farg">data</i>).<div class="spacer">
</div>
<b class="fname">ASN1_STRING_to_UTF8</b>() converts the string <i class="farg">in</i> to UTF8 format. The converted data is copied into a newly allocated buffer <i class="farg">out</i>. The length of <i class="farg">out</i> is returned or a negative error code. The buffer <i class="farg">out</i> should be freed using <a class="link-man" href="../html3/free.html">free(3)</a>.<div class="spacer">
</div>
<b class="fname">ASN1_STRING_type</b>() returns the type of <i class="farg">x</i>, using standard constants such as <span class="define">V_ASN1_OCTET_STRING</span>.</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> Almost all ASN1 types in OpenSSL are represented as <span class="type">ASN1_STRING</span> structures. Other types such as <span class="type">ASN1_OCTET_STRING</span> are simply typedefed to <span class="type">ASN1_STRING</span> and the functions call the <span class="type">ASN1_STRING</span> equivalents. <span class="type">ASN1_STRING</span> is also used for some <span class="symb">CHOICE</span> types which consist entirely of primitive string types such as <span class="symb">DirectoryString</span> and <span class="symb">Time</span>.<div class="spacer">
</div>
These functions should <span class="emph">not</span> be used to examine or modify <span class="type">ASN1_INTEGER</span> or <span class="type">ASN1_ENUMERATED</span> types: the relevant <span class="symb">INTEGER</span> or <span class="symb">ENUMERATED</span> utility functions should be used instead.<div class="spacer">
</div>
In general it cannot be assumed that the data returned by <b class="fname">ASN1_STRING_data</b>() is NUL terminated, and it may contain embedded NUL characters. The actual format of the data will depend on the actual string type itself: for example for an IA5String the data will be ASCII, for a BMPString two bytes per character in big endian format, UTF8String will be in UTF8 format.<div class="spacer">
</div>
Similar care should be take to ensure the data is in the correct format when calling <b class="fname">ASN1_STRING_set</b>().</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/ERR_get_error.html">ERR_get_error(3)</a></div>
</div>
</body>
</html>

