<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
BC(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">bc</b> &#8212; <span class="desc">arbitrary-precision arithmetic language and calculator</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
bc</td>
<td>
[<span class="opt"><b class="flag">-cl</b></span>] [<span class="opt"><b class="flag">-e</b> <i class="arg">expression</i></span>] [<span class="opt"><i class="arg">file ...</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">bc</b> is an interactive processor for a language which resembles C but provides unlimited precision arithmetic. It takes input from any expressions on the command line and any files given, then reads the standard input.<div class="spacer">
</div>
Options available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<b class="name">bc</b> is actually a preprocessor for <a class="link-man" href="../html1/dc.html">dc(1)</a>, which it invokes automatically, unless the <b class="flag">-c</b> (compile only) option is present. In this case the generated <a class="link-man" href="../html1/dc.html">dc(1)</a> instructions are sent to the standard output, instead of being interpreted by a running <a class="link-man" href="../html1/dc.html">dc(1)</a> process.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b> <i class="arg">expression</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Evaluate <i class="arg">expression</i>. If multiple <b class="flag">-e</b> options are specified, they are processed in the order given, separated by newlines.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Allow specification of an arbitrary precision math library. The definitions in the library are available to command line expressions.</dd>
</dl>
<div class="spacer">
</div>
The syntax for <b class="name">bc</b> programs is as follows: &#8216;L&#8217; means letter a-z; &#8216;E&#8217; means expression; &#8216;S&#8217; means statement. As a non-portable extension, it is possible to use long names in addition to single letter names. A long name is a sequence starting with a lowercase letter followed by any number of lowercase letters and digits. The underscore character (&#8216;_&#8217;) counts as a letter.<div class="spacer">
</div>
Comments<pre style="margin-left: 5.00ex;" class="lit display">
are enclosed in /* and */ 
are enclosed in # and the next newline</pre>
<div class="spacer">
</div>
The newline is not part of the line comment, which in itself is a non-portable extension.<div class="spacer">
</div>
Names<pre style="margin-left: 5.00ex;" class="lit display">
simple variables: L 
array elements: L [ E ] 
The words `ibase', `obase', and `scale' 
The word `last' or a single dot</pre>
<div class="spacer">
</div>
Other operands<pre style="margin-left: 5.00ex;" class="lit display">
arbitrarily long numbers with optional sign and decimal point 
( E ) 
sqrt ( E ) 
length ( E )	number of significant decimal digits 
scale ( E )	number of digits right of decimal point 
L ( E , ... , E )</pre>
<div class="spacer">
</div>
The sequence &#8216;\&lt;newline&gt;&lt;whitespace&gt;&#8217; is ignored within numbers.<div class="spacer">
</div>
Operators<div class="spacer">
</div>
The following arithmetic and logical operators can be used. The semantics of the operators is the same as in the C language. They are listed in order of decreasing precedence. Operators in the same group have the same precedence.<table style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-col">
<col style="width: 19.00ex;"/>
<col style="width: 13.00ex;"/>
<col style="min-width: 25.00ex;"/>
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Operator</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Associativity</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Description</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
++ --</td>
<td class="list-col" style="margin-top: 1.00em;">
none</td>
<td class="list-col" style="margin-top: 1.00em;">
increment, decrement</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
-</td>
<td class="list-col" style="margin-top: 1.00em;">
none</td>
<td class="list-col" style="margin-top: 1.00em;">
unary minus</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
^</td>
<td class="list-col" style="margin-top: 1.00em;">
right</td>
<td class="list-col" style="margin-top: 1.00em;">
power</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
* / %</td>
<td class="list-col" style="margin-top: 1.00em;">
left</td>
<td class="list-col" style="margin-top: 1.00em;">
multiply, divide, modulus</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
+ -</td>
<td class="list-col" style="margin-top: 1.00em;">
left</td>
<td class="list-col" style="margin-top: 1.00em;">
plus, minus</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
= += -= *= /= %= ^=</td>
<td class="list-col" style="margin-top: 1.00em;">
right</td>
<td class="list-col" style="margin-top: 1.00em;">
assignment</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
== &lt;= &gt;= != &lt; &gt;</td>
<td class="list-col" style="margin-top: 1.00em;">
none</td>
<td class="list-col" style="margin-top: 1.00em;">
relational</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
!</td>
<td class="list-col" style="margin-top: 1.00em;">
none</td>
<td class="list-col" style="margin-top: 1.00em;">
boolean not</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
&amp;&amp;</td>
<td class="list-col" style="margin-top: 1.00em;">
left</td>
<td class="list-col" style="margin-top: 1.00em;">
boolean and</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
||</td>
<td class="list-col" style="margin-top: 1.00em;">
left</td>
<td class="list-col" style="margin-top: 1.00em;">
boolean or</td>
</tr>
</tbody>
</table>
<div class="spacer">
</div>
Note the following:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
The relational operators may appear in any expression. The IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) standard only allows them in the conditional expression of an &#8216;if&#8217;, &#8216;while&#8217; or &#8216;for&#8217; statement.</li>
<li class="list-bul" style="margin-top: 1.00em;">
The relational operators have a lower precedence than the assignment operators. This has the consequence that the expression <span class="symb">a = b &lt; c</span> is interpreted as <span class="symb">(a = b) &lt; c</span>, which is probably not what the programmer intended.</li>
<li class="list-bul" style="margin-top: 1.00em;">
In contrast with the C language, the relational operators all have the same precedence, and are non-associative. The expression <span class="symb">a &lt; b &lt; c</span> will produce a syntax error.</li>
<li class="list-bul" style="margin-top: 1.00em;">
The boolean operators (!, &amp;&amp; and ||) are non-portable extensions.</li>
<li class="list-bul" style="margin-top: 1.00em;">
The boolean not (!) operator has much lower precedence than the same operator in the C language. This has the consequence that the expression <span class="symb">!a &lt; b</span> is interpreted as <span class="symb">!(a &lt; b)</span>. Prudent programmers use parentheses when writing expressions involving boolean operators.</li>
</ul>
<div class="spacer">
</div>
Statements<pre style="margin-left: 5.00ex;" class="lit display">
E 
{ S ; ... ; S } 
if ( E ) S 
if ( E ) S else S 
while ( E ) S 
for ( E ; E ; E ) S 
null statement 
break 
continue 
quit 
a string of characters, enclosed in double quotes 
print E ,..., E</pre>
<div class="spacer">
</div>
A string may contain any character, except double quote. The if statement with an else branch is a non-portable extension. All three E's in a for statement may be empty. This is a non-portable extension. The continue and print statements are also non-portable extensions.<div class="spacer">
</div>
The print statement takes a list of comma-separated expressions. Each expression in the list is evaluated and the computed value is printed and assigned to the variable `last'. No trailing newline is printed. The expression may also be a string enclosed in double quotes. Within these strings the following escape sequences may be used: &#8216;\a&#8217; for bell (alert), &#8216;\b&#8217; for backspace, &#8216;\f&#8217; for formfeed, &#8216;\n&#8217; for newline, &#8216;\r&#8217; for carriage return, &#8216;\t&#8217; for tab, &#8216;\q&#8217; for double quote and &#8216;\\&#8217; for backslash. Any other character following a backslash will be ignored. Strings will not be assigned to `last'.<div class="spacer">
</div>
Function definitions<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
define L ( L ,..., L ) { 
	auto L, ... , L 
	S; ... S 
	return ( E ) 
}</pre>
<div class="spacer">
</div>
As a non-portable extension, the opening brace of the define statement may appear on the next line. The return statement may also appear in the following forms:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
return 
return () 
return E</pre>
<div class="spacer">
</div>
The first two are equivalent to the statement &#8220;return 0&#8221;. The last form is a non-portable extension. Not specifying a return statement is equivalent to writing &#8220;return (0)&#8221;.<div class="spacer">
</div>
Functions available in the math library, which is loaded by specifying the <b class="flag">-l</b> flag on the command line<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
s(x)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
sine</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
c(x)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
cosine</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
e(x)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
exponential</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
l(x)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
log</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
a(x)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
arctangent</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
j(n,x)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Bessel function</dd>
</dl>
<div class="spacer">
</div>
All function arguments are passed by value.<div class="spacer">
</div>
The value of a statement that is an expression is printed unless the main operator is an assignment. The value printed is assigned to the special variable `last'. This is a non-portable extension. A single dot may be used as a synonym for `last'. Either semicolons or newlines may separate statements. Assignment to <i class="arg">scale</i> influences the number of digits to be retained on arithmetic operations in the manner of <a class="link-man" href="../html1/dc.html">dc(1)</a>. Assignments to <i class="arg">ibase</i> or <i class="arg">obase</i> set the input and output number radix respectively.<div class="spacer">
</div>
The same letter may be used as an array, a function, and a simple variable simultaneously. All variables are global to the program. `Auto' variables are pushed down during function calls. When using arrays as function arguments or defining them as automatic variables, empty square brackets must follow the array name.<div class="spacer">
</div>
For example<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
scale = 20 
define e(x){ 
	auto a, b, c, i, s 
	a = 1 
	b = 1 
	s = 1 
	for(i=1; 1==1; i++){ 
		a = a*x 
		b = b*i 
		c = a/b 
		if(c == 0) return(s) 
		s = s+c 
	} 
}</pre>
<div class="spacer">
</div>
defines a function to compute an approximate value of the exponential function and<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">for(i=1; i&lt;=10; i++) e(i)</code></div>
</blockquote>
<div class="spacer">
</div>
prints approximate values of the exponential function of the first ten integers.<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
$ bc -l -e 'scale = 500; 2 * a(2^10000)' -e quit</pre>
<div class="spacer">
</div>
prints an approximation of pi.</div>
<div class="section">
<h1 id="x434f4d4d414e44204c494e452045444954494e47">COMMAND LINE EDITING</h1> <b class="name">bc</b> supports interactive command line editing, via the <a class="link-man" href="../html3/editline.html">editline(3)</a> library. It is enabled by default if input is from a tty. Previous lines can be recalled and edited with the arrow keys, and other GNU Emacs-style editing keys may be used as well.<div class="spacer">
</div>
The <a class="link-man" href="../html3/editline.html">editline(3)</a> library is configured with a <i class="file">.editrc</i> file - refer to <a class="link-man" href="../html5/editrc.html">editrc(5)</a> for more information.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/share/misc/bc.library</i></dt>
<dd class="list-tag" style="margin-left: 26.00ex;">
math library, read when the <b class="flag">-l</b> option is specified on the command line.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/dc.html">dc(1)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="name">bc</b> utility is compliant with the IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) specification.<div class="spacer">
</div>
The flags [<span class="opt"><b class="flag">-ce</b></span>], as well as the parts noted above, are extensions to that specification.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">bc</b> command first appeared in Version&#160;6 AT&amp;T UNIX. A complete rewrite of the <b class="name">bc</b> command first appeared in <span class="unix">OpenBSD&#160;3.5</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The original version of the <b class="name">bc</b> command was written by <span class="author">Robert Morris</span> and <span class="author">Lorinda Cherry</span>. The current version of the <b class="name">bc</b> utility was written by <span class="author">Otto Moerbeek</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The &#8216;<code class="lit">quit</code>&#8217; statement is interpreted when read, not when executed.<div class="spacer">
</div>
Some non-portable extensions, as found in the GNU version of the <b class="name">bc</b> utility are not implemented (yet).</div>
</div>
</body>
</html>

