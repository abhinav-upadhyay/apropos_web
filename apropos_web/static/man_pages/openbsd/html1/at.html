<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
AT(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">at</b>, <b class="name">batch</b> &#8212; <span class="desc">queue, examine or delete jobs for later execution</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
at</td>
<td>
[<span class="opt"><b class="flag">-bm</b></span>] [<span class="opt"><b class="flag">-f</b> <i class="arg">file</i></span>] [<span class="opt"><b class="flag">-l</b> [<span class="opt"><i class="arg">job ...</i></span>]</span>] [<span class="opt"><b class="flag">-q</b> <i class="arg">queue</i></span>] <b class="flag">-t</b> <i class="arg">time_arg</i> | <i class="arg">timespec</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
at</td>
<td>
<b class="flag">-c</b> | <b class="flag">-r</b> <i class="arg">job ...</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
batch</td>
<td>
[<span class="opt"><b class="flag">-m</b></span>] [<span class="opt"><b class="flag">-f</b> <i class="arg">file</i></span>] [<span class="opt"><b class="flag">-q</b> <i class="arg">queue</i></span>] [<span class="opt"><i class="arg">timespec</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">at</b> and <b class="name">batch</b> read commands from standard input or a specified file which are to be executed at a later time, via the user's shell as specified by the <span class="env">SHELL</span> environment variable. If <span class="env">SHELL</span> is not set, the shell in the user's password database entry is used instead. If all else fails, <a class="link-man" href="../html1/sh.html">sh(1)</a> will be used.<div class="spacer">
</div>
The related programs are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="name">at</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Executes commands at a specified time.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="name">batch</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Executes commands when system load levels permit. In other words, when the load average drops below 1.5, or the value specified in the invocation of <a class="link-man" href="../html8/cron.html">cron(8)</a>.</dd>
</dl>
<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
An alias for <b class="name">batch</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b> <i class="arg">job ...</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prints the jobs listed on the command line to standard output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Reads the job from <i class="arg">file</i> rather than standard input.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b> [<span class="opt"><i class="arg">job ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Displays the queue of jobs which are currently awaiting execution. If a <i class="arg">job</i> argument is specified, only the specified jobs will be displayed. Unless the user is the superuser, only the user's own jobs will be displayed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Send mail to the user when the job has completed, even if there was no output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b> <i class="arg">queue</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Uses the specified queue. A queue designation consists of a single letter. Valid queue designations range from <span class="symb">a</span> to <span class="symb">z</span> and <span class="symb">A</span> to <span class="symb">Z</span>. The <span class="symb">c</span> queue is the default for <b class="name">at</b> and the <span class="symb">E</span> queue for <b class="name">batch</b>. Queues with higher letters run with increased niceness. If a job is submitted to a queue designated with an uppercase letter, it is treated as if it had been submitted to batch at that time. If the user specified the <b class="flag">-l</b> option and <b class="name">at</b> is given a specific queue, only jobs pending in that queue will be shown.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b> <i class="arg">job ...</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Remove the specified job(s) from the <b class="name">at</b> queue.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b> <i class="arg">time_arg</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the job time. The argument should be of the form [<span class="opt">[<span class="opt"><i class="arg">cc</i></span>]<i class="arg">yy</i></span>]<i class="arg">mmddHHMM</i>[<span class="opt">.<i class="arg">SS</i></span>], where the parts of the argument represent the following:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">ccyy</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Year. If yy is specified, but cc is not, a value for yy between 69 and 99 results in a cc value of 19. Otherwise, a cc value of 20 is used.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">mm</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Month: a number from 1 to 12.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">dd</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Day: a number from 1 to 31.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">HH</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Hour: a number from 0 to 23.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">MM</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Minute: a number from 0 to 59.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="arg">SS</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Second: a number from 0 to 60 (permitting a leap second), preceded by a period. The default is 0.</dd>
</dl>
</dd>
</dl>
<div class="spacer">
</div>
<b class="name">at</b> allows some moderately complex <i class="arg">timespec</i> specifications. It accepts times of the form <i class="arg">HHMM</i> or <i class="arg">HH:MM</i> to run a job at a specific time of day. (If that time is already past, the next day is assumed.) You may also specify <b class="flag">midnight</b>, <b class="flag">noon</b>, or <b class="flag">teatime</b> (4pm) and you can have a time-of-day suffixed with <b class="flag">AM</b> or <b class="flag">PM</b> for running in the morning or the evening. You can also say what day the job will be run, by giving a date in the form <i class="arg">month-name day</i> with an optional <i class="arg">year</i>, or giving a date of the form <i class="arg">dd.mm.ccyy</i>, <i class="arg">dd.mm.yy</i>, <i class="arg">mm/dd/ccyy</i>, <i class="arg">mm/dd/yy</i>, <i class="arg">mmddccyy</i>, or <i class="arg">mmddyy</i>.<div class="spacer">
</div>
The year may be given as two or four digits. If the year is given as two digits, it is taken to occur as soon as possible in the future, which may be in the next century -- unless it's last year, in which case it's considered to be a typo.<div class="spacer">
</div>
The specification of a date must follow the specification of the time of day. You can also give times like [<span class="opt"><b class="flag">now</b></span>] <b class="flag">+</b> <i class="arg">count time-units</i>, where the time-units can be <b class="flag">minutes</b>, <b class="flag">hours</b>, <b class="flag">days</b>, <b class="flag">weeks</b>, <b class="flag">months</b>, or <b class="flag">years</b> (the singular forms are also accepted). You can tell <b class="name">at</b> to run the job today by suffixing the time with <b class="flag">today</b> and to run the job tomorrow by suffixing the time with <b class="flag">tomorrow</b>. The <b class="flag">next</b> keyword may be used as an alias for <b class="flag">+ 1</b>.<div class="spacer">
</div>
For example, to run a job at 4pm three days from now, you would do <b class="cmd">at 4pm + 3 days</b>. To run a job at 10:00am on July 31, you would do <b class="cmd">at 10am Jul 31</b>. To run a job at 1am tomorrow, you would do <b class="cmd">at 1am tomorrow</b>. To run a job at midnight in one week's time, you would do <b class="cmd">at midnight next week</b>.<div class="spacer">
</div>
The <b class="name">at</b> utility also supports the time format used by <a class="link-man" href="../html1/touch.html">touch(1)</a> (see the <b class="flag">-t</b> option).<div class="spacer">
</div>
For both <b class="name">at</b> and <b class="name">batch</b>, commands are read from standard input (or the file specified with the <b class="flag">-f</b> option) and executed. The working directory, the environment (except for the variables <span class="env">TERM</span>, <span class="env">TERMCAP</span>, <span class="env">DISPLAY</span>, and <span class="env">_</span>), and the <i class="arg">umask</i> are retained from the time of invocation. An <b class="name">at</b> or <b class="name">batch</b> command invoked from a <a class="link-man" href="../html1/su.html">su(1)</a> shell will retain the current user ID. The user will be mailed standard error and standard output from his commands, if any. If <b class="name">at</b> is executed from a <a class="link-man" href="../html1/su.html">su(1)</a> shell, the owner of the login shell will receive the mail.<div class="spacer">
</div>
For non-root users, permission to run <b class="name">at</b> is determined by the files <i class="file">/var/cron/at.allow</i> and <i class="file">/var/cron/at.deny</i>. <span class="emph">Note</span>: these files must be readable by group crontab (if they exist).<div class="spacer">
</div>
If the file <i class="file">/var/cron/at.allow</i> exists, only usernames mentioned in it are allowed to use <b class="name">at</b>. If <i class="file">/var/cron/at.allow</i> does not exist, <i class="file">/var/cron/at.deny</i> is checked. Every username not mentioned in it is then allowed to use <b class="name">at</b>. If neither exists, only the superuser is allowed to run <b class="name">at</b>.<div class="spacer">
</div>
An empty <i class="file">/var/cron/at.deny</i> means that every user is allowed to use these commands. This is the default configuration.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/cron/atjobs</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
directory containing job files</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/cron/at.allow</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
allow permission control</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/cron/at.deny</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
deny permission control</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="name">at</b> utility exits with one of the following values:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Jobs were successfully submitted, removed, or listed.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&gt;0</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
An error occurred.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/atq.html">atq(1)</a>, <a class="link-man" href="../html1/atrm.html">atrm(1)</a>, <a class="link-man" href="../html1/nice.html">nice(1)</a>, <a class="link-man" href="../html1/sh.html">sh(1)</a>, <a class="link-man" href="../html1/touch.html">touch(1)</a>, <a class="link-man" href="../html2/umask.html">umask(2)</a>, <a class="link-man" href="../html8/cron.html">cron(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="name">at</b> and <b class="name">batch</b> utilities are compliant with the IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) specification.<div class="spacer">
</div>
The <b class="name">at</b> flags [<span class="opt"><b class="flag">-bc</b></span>] and the <b class="name">batch</b> flags [<span class="opt"><b class="flag">-fmq</b></span>], as well as the <b class="flag">teatime</b> keyword, are extensions to that specification.<div class="spacer">
</div>
IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) states that <b class="name">batch</b> jobs are submitted to the queue &#8220;with no time constraints&#8221;; this implementation permits a <i class="arg">timespec</i> argument.<div class="spacer">
</div>
The at.allow/deny mechanism is marked by IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) as being an X/Open System Interfaces option.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <b class="name">at</b> was mostly written by <span class="author">Thomas Koenig</span> &lt;<a class="link-mail" href="mailto:ig25@rz.uni-karlsruhe.de">ig25@rz.uni-karlsruhe.de</a>&gt;. The time parsing routines are by <span class="author">David Parsons</span> &lt;<a class="link-mail" href="mailto:orc@pell.chi.il.us">orc@pell.chi.il.us</a>&gt;.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> <b class="name">at</b> and <b class="name">batch</b> as presently implemented are not suitable when users are competing for resources. If this is the case for your site, you might want to consider another batch system, such as <b class="name">nqs</b>.</div>
</div>
</body>
</html>

