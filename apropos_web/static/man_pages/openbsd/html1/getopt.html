<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
GETOPT(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">getopt</b> &#8212; <span class="desc">parse command options</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 6.00ex;"/>
<col/>
<tbody>
<tr>
<td>
getopt</td>
<td>
<i class="arg">optstring</i> <b class="var">$*</b></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">getopt</b> is used to break up options in command lines for easy parsing by shell procedures, and to check for legal options. <i class="arg">optstring</i> is a string of recognized option letters (see <a class="link-man" href="../html3/getopt.html">getopt(3)</a>); if a letter is followed by a colon, the option is expected to have an argument which may or may not be separated from it by whitespace. However, if a letter is followed by two colons, the argument is optional and may not be separated by whitespace - this is an extension not covered by POSIX. The special option &#8216;--&#8217; is used to delimit the end of the options. <b class="name">getopt</b> will place &#8216;--&#8217; in the arguments at the end of the options, or recognize it if used explicitly. The shell arguments (<b class="var">$1</b>, <b class="var">$2</b>, <b class="var">...</b>) are reset so that each option is preceded by a &#8216;-&#8217; and in its own shell argument; each option argument is also in its own shell argument.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The following code fragment shows how one might process the arguments for a command that can take the options <b class="flag">-a</b> and <b class="flag">-b</b>, and the option <b class="flag">-o</b>, which requires an argument.<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
args=`getopt abo: $*` 
if [ $? -ne 0 ] 
then 
	echo 'Usage: ...' 
	exit 2 
fi 
set -- $args 
while [ $# -ne 0 ] 
do 
	case &quot;$1&quot; 
	in 
		-a|-b) 
			flag=&quot;$1&quot;; shift;; 
		-o) 
			oarg=&quot;$2&quot;; shift; shift;; 
		--) 
			shift; break;; 
	esac 
done</pre>
<div class="spacer">
</div>
This code will accept any of the following as equivalent:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
cmd -aoarg file file 
cmd -a -o arg file file 
cmd -oarg -a file file 
cmd -a -oarg -- file file</pre>
</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> <b class="name">getopt</b> prints an error message on the standard error output when it encounters an option letter not included in <i class="arg">optstring</i>.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/sh.html">sh(1)</a>, <a class="link-man" href="../html3/getopt.html">getopt(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> Written by Henry Spencer, working from a Bell Labs manual page. Behavior believed identical to the Bell version.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> Note that the construction <span class="symb">set -- `getopt optstring $*`</span> is not recommended, as the exit value from <span class="symb">set</span> will prevent the exit value from <b class="name">getopt</b> from being determined.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Whatever <a class="link-man" href="../html3/getopt.html">getopt(3)</a> has.<div class="spacer">
</div>
Arguments containing whitespace or embedded shell metacharacters generally will not survive intact; this looks easy to fix but isn't.<div class="spacer">
</div>
The error message for an invalid option is identified as coming from <b class="name">getopt</b> rather than from the shell procedure containing the invocation of <b class="name">getopt</b>; this again is hard to fix.<div class="spacer">
</div>
The precise best way to use the <span class="symb">set</span> command to set the arguments without disrupting the value(s) of shell options varies from one shell version to another.</div>
</div>
</body>
</html>

