<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
AUCAT(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">aucat</b> &#8212; <span class="desc">audio files manipulation tool</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;"/>
<col/>
<tbody>
<tr>
<td>
aucat</td>
<td>
[<span class="opt"><b class="flag">-dn</b></span>] [<span class="opt"><b class="flag">-b</b> <i class="arg">size</i></span>] [<span class="opt"><b class="flag">-c</b> <i class="arg">min</i>:<i class="arg">max</i></span>] [<span class="opt"><b class="flag">-e</b> <i class="arg">enc</i></span>] [<span class="opt"><b class="flag">-f</b> <i class="arg">device</i></span>] [<span class="opt"><b class="flag">-h</b> <i class="arg">fmt</i></span>] [<span class="opt"><b class="flag">-i</b> <i class="arg">file</i></span>] [<span class="opt"><b class="flag">-j</b> <i class="arg">flag</i></span>] [<span class="opt"><b class="flag">-o</b> <i class="arg">file</i></span>] [<span class="opt"><b class="flag">-q</b> <i class="arg">port</i></span>] [<span class="opt"><b class="flag">-r</b> <i class="arg">rate</i></span>] [<span class="opt"><b class="flag">-v</b> <i class="arg">volume</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">aucat</b> utility can play, record, mix, and process audio files on the fly. During playback, <b class="name">aucat</b> reads audio data concurrently from all played files, mixes it and plays the result on the device. Similarly, it stores audio data recorded from the device into corresponding files. An <span class="emph">off-line</span> mode could be used to process audio files without involving audio hardware. Processing includes:<div class="spacer">
</div>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
Change the sound encoding.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Route the sound from one channel to another.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Control the per-file playback volume.</li>
</ul>
<div class="spacer">
</div>
Finally, <b class="name">aucat</b> can accept MIDI messages usable for:<div class="spacer">
</div>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
Volume control.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Start, stop and relocate playback and recording.</li>
</ul>
<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b> <i class="arg">size</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The buffer size of the audio device in frames. Default is 7680.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b> <i class="arg">min</i>:<i class="arg">max</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The range of audio file channel numbers. The default is <b class="flag">0:1</b>, i.e. stereo.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Increase log verbosity.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b> <i class="arg">enc</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Encoding of the audio file. The default is <b class="var">s16</b>. Encoding names use the following scheme: signedness (<b class="var">s</b> or <b class="var">u</b>) followed by the precision in bits, the byte-order (<b class="var">le</b> or <b class="var">be</b>), the number of bytes per sample, and the alignment (<b class="var">msb</b> or <b class="var">lsb</b>). Only the signedness and the precision are mandatory. Examples: <b class="var">u8</b>, <b class="var">s16le</b>, <b class="var">s24le3</b>, <b class="var">s24le4lsb</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">device</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use this <a class="link-man" href="../html7/sndio.html">sndio(7)</a> audio device. Device mode and parameters are determined from audio files. Default is <i class="file">default</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-h</b> <i class="arg">fmt</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Audio file type. The following file types are supported:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">raw</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Headerless file.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">wav</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Microsoft WAV file format.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">aiff</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Apple's audio interchange file format.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">au</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Sun/NeXT audio file format.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">auto</b></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Try to guess, depending on the file name. This is the default.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-i</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Play this audio file. If the option argument is &#8216;-&#8217; then standard input will be used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-j</b> <i class="arg">flag</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Control whether source channels are joined or expanded if they don't match the destination number of channels. If the flag is <b class="flag">off</b>, then each source channel is routed to a single destination channel, possibly discarding channels. If the flag is <b class="flag">on</b>, then a single source may be sent to multiple destinations and multiple sources may be mixed into a single destination. For instance, this feature could be used to convert a stereo file into a mono file mixing left and right channels together. The default is <b class="flag">off</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Off-line mode. Read input files and store the result in the output files, processing them on the fly. This mode is useful to mix, demultiplex, resample or re-encode audio files off-line. It requires at least one input (<b class="flag">-i</b>) and one output (<b class="flag">-o</b>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Record into this audio file. If the option argument is &#8216;-&#8217; then standard output will be used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b> <i class="arg">port</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Control audio device properties through this MIDI port. This includes per-stream volumes and the ability to synchronously start, stop and relocate audio files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b> <i class="arg">rate</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sample rate in Hertz of the audio file. The default is <b class="flag">48000</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b> <i class="arg">volume</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Software volume attenuation of the file to play. The value must be between 1 and 127, corresponding to -42dB and -0dB attenuation in 1/3dB steps. The default is 127, i.e. no attenuation.</dd>
</dl>
<div class="spacer">
</div>
On the command line, per-file parameters (<b class="flag">-cehjrv</b>) must precede the file definition (<b class="flag">-io</b>).<div class="spacer">
</div>
If <b class="name">aucat</b> is sent <span class="define">SIGHUP</span>, <span class="define">SIGINT</span> or <span class="define">SIGTERM</span>, it terminates recording to files.</div>
<div class="section">
<h1 id="x4d49444920434f4e54524f4c">MIDI CONTROL</h1> <b class="name">aucat</b> can be controlled through MIDI (<b class="flag">-q</b>) as follows: a MIDI channel is assigned to each stream, and the volume is changed using the standard volume controller (number 7).<div class="spacer">
</div>
The master volume can be changed using the standard master volume system exclusive message.<div class="spacer">
</div>
All audio files are controlled by the following MMC messages:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
relocate</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
All files are relocated to the requested time position. If it is beyond the end of a file, the file is temporarly disabled until a valid position is requested.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
start</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Playback and/or recording is started.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
stop</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Playback and/or recording is stopped and all files are rewound back to the starting position.</dd>
</dl>
<div class="spacer">
</div>
MIDI control is intended to be used together with <a class="link-man" href="../html8/sndiod.html">sndiod(8)</a>. For instance, the following command will create two devices: the default <b class="var">snd/0</b> and a MMC-controlled one <b class="var">snd/0.mmc</b>:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
$ sndiod -r 48000 -z 480 -s default -t slave -s mmc</pre>
<div class="spacer">
</div>
Programs using <b class="var">snd/0</b> behave normally, while programs using <b class="var">snd/0.mmc</b> wait for the MMC start signal and start synchronously. Then, the following command will play a file on the <b class="var">snd/0.mmc</b> audio device, giving full control to MIDI software or hardware connected to the <b class="var">midithru/0</b> MIDI port:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
$ aucat -f snd/0.mmc -q midithru/0 -i file.wav</pre>
<div class="spacer">
</div>
At this stage, <b class="name">aucat</b> will start, stop and relocate automatically following all user actions in the MIDI sequencer, assuming it's configured to transmit MMC on <b class="var">midithru/0</b>. Furthermore, the MIDI sequencer could be configured to use the <b class="var">snd/0</b> port as MTC clock source, assured to be synchronous to playback of <i class="file">file.wav</i>.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Mix and play two files while recording a third file:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
$ aucat -i file1.wav -i file2.wav -o file3.wav</pre>
<div class="spacer">
</div>
Record channels 2 and 3 into one stereo file and channels 6 and 7 into another stereo file using a 44.1kHz sampling rate for both:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
$ aucat -r 44100 -c 2:3 -o file1.wav -c 6:7 -o file2.wav</pre>
<div class="spacer">
</div>
Split a stereo file into two mono files:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
$ aucat -n -i stereo.wav -c 0:0 -o left.wav \ 
	-c 1:1 -o right.wav</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/audioctl.html">audioctl(1)</a>, <a class="link-man" href="../html1/cdio.html">cdio(1)</a>, <a class="link-man" href="../html1/mixerctl.html">mixerctl(1)</a>, <a class="link-man" href="../html4/audio.html">audio(4)</a>, <a class="link-man" href="../html7/sndio.html">sndio(7)</a>, <a class="link-man" href="../html8/sndiod.html">sndiod(8)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Resampling is low quality.<div class="spacer">
</div>
There are limitations inherent to the <i class="arg">wav</i>, <i class="arg">aiff</i>, and <i class="arg">au</i> file formats: not all encodings are supported, file sizes are limited to 2GB, and the files must support the <a class="link-man" href="../html2/lseek.html">lseek(2)</a> operation (e.g. pipes do not support it).</div>
</div>
</body>
</html>

