<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
COMPRESS(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">compress</b>, <b class="name">uncompress</b>, <b class="name">zcat</b> &#8212; <span class="desc">compress and expand data (compress mode)</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;"/>
<col/>
<tbody>
<tr>
<td>
compress</td>
<td>
[<span class="opt"><b class="flag">-123456789cdfghlNnOqrtv</b></span>] [<span class="opt"><b class="flag">-b</b> <i class="arg">bits</i></span>] [<span class="opt"><b class="flag">-o</b> <i class="arg">filename</i></span>] [<span class="opt"><b class="flag">-S</b> <i class="arg">suffix</i></span>] [<span class="opt"><i class="arg">file ...</i></span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 8.00ex;"/>
<col/>
<tbody>
<tr>
<td>
uncompress</td>
<td>
[<span class="opt"><b class="flag">-cfhlNnqrtv</b></span>] [<span class="opt"><b class="flag">-o</b> <i class="arg">filename</i></span>] [<span class="opt"><i class="arg">file ...</i></span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 8.00ex;"/>
<col/>
<tbody>
<tr>
<td>
zcat</td>
<td>
[<span class="opt"><b class="flag">-fghqr</b></span>] [<span class="opt"><i class="arg">file ...</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">compress</b> utility reduces the size of the named files using adaptive Lempel-Ziv coding, in compress mode. If invoked as <b class="name">compress</b> <b class="flag">-g</b>, the deflate mode of compression is chosen; see <a class="link-man" href="../html1/gzip.html">gzip(1)</a> for more information. Each file is renamed to the same name plus the extension &#8220;.Z&#8221;. As many of the modification time, access time, file flags, file mode, user ID, and group ID as allowed by permissions are retained in the new file. If compression would not reduce the size of a file, the file is ignored (unless <b class="flag">-f</b> is used).<div class="spacer">
</div>
The <b class="name">uncompress</b> utility restores compressed files to their original form, renaming the files by removing the extension (or by using the stored name if the <b class="flag">-N</b> flag is specified). It has the ability to restore files compressed by both <b class="name">compress</b> and <a class="link-man" href="../html1/gzip.html">gzip(1)</a>, recognising the following extensions: &#8220;.Z&#8221;, &#8220;-Z&#8221;, &#8220;_Z&#8221;, &#8220;.gz&#8221;, &#8220;-gz&#8221;, &#8220;_gz&#8221;, &#8220;.tgz&#8221;, &#8220;-tgz&#8221;, &#8220;_tgz&#8221;, &#8220;.taz&#8221;, &#8220;-taz&#8221;, and &#8220;_taz&#8221;. Extensions ending in &#8220;tgz&#8221; and &#8220;taz&#8221; are not removed when decompressing, instead they are converted to &#8220;tar&#8221;.<div class="spacer">
</div>
The <b class="name">zcat</b> command is equivalent in functionality to <b class="name">uncompress</b> <b class="flag">-c</b>.<div class="spacer">
</div>
If renaming the files would cause files to be overwritten and the standard input device is a terminal, the user is prompted (on the standard error output) for confirmation. If prompting is not possible or confirmation is not received, the files are not overwritten.<div class="spacer">
</div>
If no files are specified, the standard input is compressed or uncompressed to the standard output. If either the input or output files are not regular files, the checks for reduction in size and file overwriting are not performed, the input file is not removed, and the attributes of the input file are not retained.<div class="spacer">
</div>
By default, when compressing using the deflate scheme (<b class="flag">-g</b>), the original file name and time stamp are stored in the compressed file. When uncompressing, this information is not used. Instead, the uncompressed file inherits the time stamp of the compressed version and the uncompressed file name is generated from the name of the compressed file as described above. These defaults may be overridden by the <b class="flag">-N</b> and <b class="flag">-n</b> flags, described below.<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-1...9</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the deflate scheme, with compression factor of <b class="flag">-1</b> to <b class="flag">-9</b>. Compression factor <b class="flag">-1</b> is the fastest, but provides a poorer level of compression. Compression factor <b class="flag">-9</b> provides the best level of compression, but is relatively slow. The default is <b class="flag">-6</b>. This option implies <b class="flag">-g</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b> <i class="arg">bits</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the <i class="arg">bits</i> code limit (see below).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Compressed or uncompressed output is written to the standard output. No files are modified (force <b class="name">zcat</b> mode).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Decompress the source files instead of compressing them (force <b class="name">uncompress</b> mode).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force compression of <i class="arg">file</i>, even if it is not actually reduced in size. Additionally, files are overwritten without prompting for confirmation. If the input data is not in a format recognized by <b class="name">compress</b> and if the option <b class="flag">-c</b> is also given, copy the input data without change to the standard output: let <b class="name">zcat</b> behave as <a class="link-man" href="../html1/cat.html">cat(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-g</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the deflate scheme, which reportedly provides better compression rates (force <a class="link-man" href="../html1/gzip.html">gzip(1)</a> mode).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-h</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print a short help message.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List information for the specified compressed files. The following information is listed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
compressed size</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Size of the compressed file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
uncompressed size</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Size of the file when uncompressed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
compression ratio</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Ratio of the difference between the compressed and uncompressed sizes to the uncompressed size.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
uncompressed name</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Name the file will be saved as when uncompressing.</dd>
</dl>
<div class="spacer">
</div>
If the <b class="flag">-v</b> option is specified, the following additional information is printed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
compression method</dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Name of the method used to compress the file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
crc</dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
32-bit CRC (cyclic redundancy code) of the uncompressed file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
time stamp</dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Date and time corresponding to the last data modification time (mtime) of the compressed file (if the <b class="flag">-n</b> option is specified, the time stamp stored in the compressed file is printed instead).</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-N</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When uncompressing or listing, use the time stamp and file name stored in the compressed file, if any, for the uncompressed version. This information is only available when the deflate scheme (<b class="flag">-g</b>) is used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When compressing, do not store the original file name and time stamp in the header of the compressed file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-O</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use compress mode (the default).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b> <i class="arg">filename</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the output file name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Be quiet: suppress all messages.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Recursive mode: <b class="name">compress</b> will descend into specified directories.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-S</b> <i class="arg">suffix</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the suffix for compressed files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Test the integrity of each file leaving any files intact.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print the percentage reduction of each file and other information.</dd>
</dl>
<div class="spacer">
</div>
<b class="name">compress</b> uses a modified Lempel-Ziv algorithm (LZW). Common substrings in the file are first replaced by 9-bit codes 257 and up. When code 512 is reached, the algorithm switches to 10-bit codes and continues to use more bits until the limit specified by the <b class="flag">-b</b> flag is reached. <i class="arg">bits</i> must be between 9 and 16 (the default is 16).<div class="spacer">
</div>
After the <i class="arg">bits</i> limit is reached, <b class="name">compress</b> periodically checks the compression ratio. If it is increasing, <b class="name">compress</b> continues to use the existing code dictionary. However, if the compression ratio decreases, <b class="name">compress</b> discards the table of substrings and rebuilds it from scratch. This allows the algorithm to adapt to the next &#8220;block&#8221; of the file.<div class="spacer">
</div>
The <b class="flag">-b</b> flag is omitted for <b class="name">uncompress</b> since the <i class="arg">bits</i> parameter specified during compression is encoded within the output, along with a magic number to ensure that neither decompression of random data nor recompression of compressed data is attempted.<div class="spacer">
</div>
The amount of compression obtained depends on the size of the input, the number of <i class="arg">bits</i> per code, and the distribution of common substrings. Typically, text such as source code or English is reduced by 50 - 60% using <b class="name">compress</b>. Compression is generally much better than that achieved by Huffman coding (as used in the historical command pack), or adaptive Huffman coding (as used in the historical command compact), and takes less time to compute.</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="name">compress</b> utility exits with one of the following values:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Success.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
An error occurred.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
2</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
At least one of the specified files was not compressed since <b class="flag">-f</b> was not specified and compression would have resulted in a size increase.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&gt;2</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
An error occurred.</dd>
</dl>
<div class="spacer">
</div>
<br/>
The <b class="utility">uncompress</b> and <b class="utility">zcat</b> utilities exit&#160;0 on success, and&#160;&gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/gzexe.html">gzexe(1)</a>, <a class="link-man" href="../html1/gzip.html">gzip(1)</a>, <a class="link-man" href="../html1/zdiff.html">zdiff(1)</a>, <a class="link-man" href="../html1/zforce.html">zforce(1)</a>, <a class="link-man" href="../html1/zmore.html">zmore(1)</a>, <a class="link-man" href="../html1/znew.html">znew(1)</a>, <a class="link-man" href="../html3/compress.html">compress(3)</a><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">Welch, Terry A.</span>, <span class="ref-title">A Technique for High Performance Data Compression</span>, <i class="ref-jrnl">IEEE Computer</i>, <span class="ref-vol">17:6</span>, <span class="ref-page">pp. 8-19</span>, <span class="ref-date">June, 1984</span>.</span></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="name">compress</b>, <b class="name">uncompress</b>, and <b class="name">zcat</b> utilities are compliant with the X/Open System Interfaces option of the IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) specification.<div class="spacer">
</div>
The <b class="name">compress</b> flags [<span class="opt"><b class="flag">-123456789dghlNnOoqrSt</b></span>], <b class="name">uncompress</b> flags [<span class="opt"><b class="flag">-hlNnoqrt</b></span>], and the <b class="name">zcat</b> flags [<span class="opt"><b class="flag">-fghqr</b></span>] are extensions to that specification.<div class="spacer">
</div>
IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) specifies a maximum bits limit (<b class="flag">-b</b>) of 14 to &#8220;achieve portability to all systems&#8221;.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">compress</b> command appeared in <span class="unix">4.3BSD</span>. Deflate compression support was added in <span class="unix">OpenBSD&#160;2.1</span>.</div>
</div>
</body>
</html>

