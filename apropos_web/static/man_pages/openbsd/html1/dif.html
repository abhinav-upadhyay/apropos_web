<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
DIFF(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">diff</b> &#8212; <span class="desc">differential file and directory comparator</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 4.00ex;"/>
<col/>
<tbody>
<tr>
<td>
diff</td>
<td>
[<span class="opt"><b class="flag">-abdipTtw</b></span>] [<span class="opt"><b class="flag">-c</b> | <b class="flag">-e</b> | <b class="flag">-f</b> | <b class="flag">-n</b> | <b class="flag">-q</b> | <b class="flag">-u</b></span>] [<span class="opt"><b class="flag">-I</b> <i class="arg">pattern</i></span>] [<span class="opt"><b class="flag">-L</b> <i class="arg">label</i></span>] <i class="arg">file1 file2</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 4.00ex;"/>
<col/>
<tbody>
<tr>
<td>
diff</td>
<td>
[<span class="opt"><b class="flag">-abdilpTtw</b></span>] [<span class="opt"><b class="flag">-I</b> <i class="arg">pattern</i></span>] [<span class="opt"><b class="flag">-L</b> <i class="arg">label</i></span>] <b class="flag">-C</b> <i class="arg">number</i> <i class="arg">file1 file2</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 4.00ex;"/>
<col/>
<tbody>
<tr>
<td>
diff</td>
<td>
[<span class="opt"><b class="flag">-abdiltw</b></span>] [<span class="opt"><b class="flag">-I</b> <i class="arg">pattern</i></span>] <b class="flag">-D</b> <i class="arg">string</i> <i class="arg">file1 file2</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 4.00ex;"/>
<col/>
<tbody>
<tr>
<td>
diff</td>
<td>
[<span class="opt"><b class="flag">-abdilpTtw</b></span>] [<span class="opt"><b class="flag">-I</b> <i class="arg">pattern</i></span>] [<span class="opt"><b class="flag">-L</b> <i class="arg">label</i></span>] <b class="flag">-U</b> <i class="arg">number</i> <i class="arg">file1 file2</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 4.00ex;"/>
<col/>
<tbody>
<tr>
<td>
diff</td>
<td>
[<span class="opt"><b class="flag">-abdilNPprsTtw</b></span>] [<span class="opt"><b class="flag">-c</b> | <b class="flag">-e</b> | <b class="flag">-f</b> | <b class="flag">-n</b> | <b class="flag">-q</b> | <b class="flag">-u</b></span>] [<span class="opt"><b class="flag">-I</b> <i class="arg">pattern</i></span>] [<span class="opt"><b class="flag">-L</b>&#160;<i class="arg">label</i></span>] [<span class="opt"><b class="flag">-S</b>&#160;<i class="arg">name</i></span>] [<span class="opt"><b class="flag">-X</b>&#160;<i class="arg">file</i></span>] [<span class="opt"><b class="flag">-x</b>&#160;<i class="arg">pattern</i></span>] <i class="arg">dir1 dir2</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">diff</b> utility compares the contents of <i class="arg">file1</i> and <i class="arg">file2</i> and writes to the standard output the list of changes necessary to convert one file into the other. No output is produced if the files are identical.<div class="spacer">
</div>
Output options (mutually exclusive):<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-C</b> <i class="arg">number</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">-c</b> but produces a diff with <i class="arg">number</i> lines of context.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Produces a diff with 3 lines of context. With <b class="flag">-c</b> the output format is modified slightly: the output begins with identification of the files involved and their creation dates and then each change is separated by a line with fifteen <code class="lit">*</code>'s. The lines removed from <i class="arg">file1</i> are marked with &#8216;-&#160;&#8217;; those added to <i class="arg">file2</i> are marked &#8216;+&#160;&#8217;. Lines which are changed from one file to the other are marked in both files with &#8216;!&#160;&#8217;. Changes which lie within 3 lines of each other are grouped together on output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-D</b> <i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Creates a merged version of <i class="arg">file1</i> and <i class="arg">file2</i> on the standard output, with C preprocessor controls included so that a compilation of the result without defining <i class="arg">string</i> is equivalent to compiling <i class="arg">file1</i>, while defining <i class="arg">string</i> will yield <i class="arg">file2</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Produces output in a form suitable as input for the editor utility, <a class="link-man" href="../html1/ed.html">ed(1)</a>, which can then be used to convert file1 into file2.<div class="spacer">
</div>
Extra commands are added to the output when comparing directories with <b class="flag">-e</b>, so that the result is a <a class="link-man" href="../html1/sh.html">sh(1)</a> script for converting text files which are common to the two directories from their state in <i class="arg">dir1</i> to their state in <i class="arg">dir2</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Identical output to that of the <b class="flag">-e</b> flag, but in reverse order. It cannot be digested by <a class="link-man" href="../html1/ed.html">ed(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Produces a script similar to that of <b class="flag">-e</b>, but in the opposite order and with a count of changed lines on each insert or delete command. This is the form used by <a class="link-man" href="../html1/rcsdiff.html">rcsdiff(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Just print a line when the files differ. Does not output a list of changes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-U</b> <i class="arg">number</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">-u</b> but produces a diff with <i class="arg">number</i> lines of context.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Produces a <span class="emph">unified</span> diff with 3 lines of context. A unified diff is similar to the context diff produced by the <b class="flag">-c</b> option. However, unlike with <b class="flag">-c</b>, all lines to be changed (added and/or removed) are present in a single section.</dd>
</dl>
<div class="spacer">
</div>
Comparison options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-a</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Treat all files as ASCII text. Normally <b class="name">diff</b> will simply print &#8220;Binary files ... differ&#8221; if files contain binary characters. Use of this option forces <b class="name">diff</b> to produce a diff.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Causes trailing blanks (spaces and tabs) to be ignored, and other strings of blanks to compare equal.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Try very hard to produce a diff as small as possible. This may consume a lot of processing power and memory when processing large files with many changes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-I</b> <i class="arg">pattern</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Ignores changes, insertions, and deletions whose lines match the extended regular expression <i class="arg">pattern</i>. Multiple <b class="flag">-I</b> patterns may be specified. All lines in the change must match some pattern for the change to be ignored. See <a class="link-man" href="../html7/re_format.html">re_format(7)</a> for more information on regular expression patterns.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-i</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Ignores the case of letters. E.g., &#8220;A&#8221; will compare equal to &#8220;a&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b> <i class="arg">label</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print <i class="arg">label</i> instead of the first (and second, if this option is specified twice) file name and time in the context or unified diff header.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-p</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
With unified and context diffs, show with each change the first 40 characters of the last line before the context beginning with a letter, an underscore or a dollar sign. For C source code following standard layout conventions, this will show the prototype of the function the change applies to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-T</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print a tab rather than a space before the rest of the line for the normal, context or unified output formats. This makes the alignment of tabs in the line consistent.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Will expand tabs in output lines. Normal or <b class="flag">-c</b> output adds character(s) to the front of each line which may screw up the indentation of the original source lines and make the output listing difficult to interpret. This option will preserve the original source's indentation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-w</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Is similar to <b class="flag">-b</b> but causes whitespace (blanks and tabs) to be totally ignored. E.g., &#8220;if (&#160;a == b )&#8221; will compare equal to &#8220;if(a==b)&#8221;.</dd>
</dl>
<div class="spacer">
</div>
Directory comparison options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-N</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If a file is found in only one directory, act as if it was found in the other directory too but was of zero size.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-P</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If a file is found only in <i class="arg">dir2</i>, act as if it was found in <i class="arg">dir1</i> too but was of zero size.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Causes application of <b class="name">diff</b> recursively to common subdirectories encountered.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-S</b> <i class="arg">name</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Re-starts a directory <b class="name">diff</b> in the middle, beginning with file <i class="arg">name</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Causes <b class="name">diff</b> to report files which are the same, which are otherwise not mentioned.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-X</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Exclude files and subdirectories from comparison whose basenames match lines in <i class="arg">file</i>. Multiple <b class="flag">-X</b> options may be specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-x</b> <i class="arg">pattern</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Exclude files and subdirectories from comparison whose basenames match <i class="arg">pattern</i>. Patterns are matched using shell-style globbing via <a class="link-man" href="../html3/fnmatch.html">fnmatch(3)</a>. Multiple <b class="flag">-x</b> options may be specified.</dd>
</dl>
<div class="spacer">
</div>
If both arguments are directories, <b class="name">diff</b> sorts the contents of the directories by name, and then runs the regular file <b class="name">diff</b> algorithm, producing a change list, on text files which are different. Binary files which differ, common subdirectories, and files which appear in only one directory are described as such. In directory mode only regular files and directories are compared. If a non-regular file such as a device special file or FIFO is encountered, a diagnostic message is printed.<div class="spacer">
</div>
If only one of <i class="arg">file1</i> and <i class="arg">file2</i> is a directory, <b class="name">diff</b> is applied to the non-directory file and the file contained in the directory file with a filename that is the same as the last component of the non-directory file.<div class="spacer">
</div>
If either <i class="arg">file1</i> or <i class="arg">file2</i> is &#8216;-&#8217;, the standard input is used in its place.<div class="subsection">
<h2 id="x4f7574707574205374796c65">Output Style</h2> The default (without <b class="flag">-e</b>, <b class="flag">-c</b>, or <b class="flag">-n</b> options) output contains lines of these forms, where <b class="var">XX</b>, <b class="var">YY</b>, <b class="var">ZZ</b>, <b class="var">QQ</b> are line numbers respective of file order.<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">XX</code><b class="cmd">a</b><code class="lit">YY</code></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
At (the end of) line <b class="var">XX</b> of <i class="arg">file1</i>, append the contents of line <b class="var">YY</b> of <i class="arg">file2</i> to make them equal.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">XX</code><b class="cmd">a</b><code class="lit">YY,ZZ</code></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Same as above, but append the range of lines, <b class="var">YY</b> through <b class="var">ZZ</b> of <i class="arg">file2</i> to line <b class="var">XX</b> of file1.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">XX</code><b class="cmd">d</b><code class="lit">YY</code></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
At line <b class="var">XX</b> delete the line. The value <b class="var">YY</b> tells to which line the change would bring <i class="arg">file1</i> in line with <i class="arg">file2</i>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">XX,YY</code><b class="cmd">d</b><code class="lit">ZZ</code></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Delete the range of lines <b class="var">XX</b> through <b class="var">YY</b> in <i class="arg">file1</i>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">XX</code><b class="cmd">c</b><code class="lit">YY</code></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Change the line <b class="var">XX</b> in <i class="arg">file1</i> to the line <b class="var">YY</b> in <i class="arg">file2</i>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">XX,YY</code><b class="cmd">c</b><code class="lit">ZZ</code></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Replace the range of specified lines with the line <b class="var">ZZ</b>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">XX,YY</code><b class="cmd">c</b><code class="lit">ZZ,QQ</code></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
Replace the range <b class="var">XX</b>,<b class="var">YY</b> from <i class="arg">file1</i> with the range <b class="var">ZZ</b>,<b class="var">QQ</b> from <i class="arg">file2</i>.</dd>
</dl>
<div class="spacer">
</div>
These lines resemble <a class="link-man" href="../html1/ed.html">ed(1)</a> subcommands to convert <i class="arg">file1</i> into <i class="arg">file2</i>. The line numbers before the action letters pertain to <i class="arg">file1</i>; those after pertain to <i class="arg">file2</i>. Thus, by exchanging <b class="cmd">a</b> for <b class="cmd">d</b> and reading the line in reverse order, one can also determine how to convert <i class="arg">file2</i> into <i class="arg">file1</i>. As in <a class="link-man" href="../html1/ed.html">ed(1)</a>, identical pairs (where num1 = num2) are abbreviated as a single number.</div>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/tmp/diff.</i><i class="arg">XXXXXXXX</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Temporary file used when comparing a device or the standard input. Note that the temporary file is unlinked as soon as it is created so it will not show up in a directory listing.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="name">diff</b> utility exits with one of the following values:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
No differences were found.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Differences were found.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
&gt;1</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
An error occurred.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/cmp.html">cmp(1)</a>, <a class="link-man" href="../html1/comm.html">comm(1)</a>, <a class="link-man" href="../html1/diff3.html">diff3(1)</a>, <a class="link-man" href="../html1/ed.html">ed(1)</a>, <a class="link-man" href="../html1/patch.html">patch(1)</a>, <a class="link-man" href="../html1/sdiff.html">sdiff(1)</a><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">James W. Hunt</span> and <span class="ref-auth">M. Douglas McIlroy</span>, <span class="ref-title">An Algorithm for Differential File Comparison</span>, <i class="ref-jrnl">Computing Science Technical Report</i>, <span class="ref-corp">Bell Laboratories 41</span>, <span class="ref-date">June 1976</span>.</span></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="name">diff</b> utility is compliant with the IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) specification.<div class="spacer">
</div>
The flags [<span class="opt"><b class="flag">-aDdIiLlNnPpqSsTtwXx</b></span>] are extensions to that specification.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">diff</b> command appeared in Version&#160;6 AT&amp;T UNIX.</div>
</div>
</body>
</html>

