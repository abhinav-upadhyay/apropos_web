<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SIGNIFY(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">signify</b> &#8212; <span class="desc">cryptographically sign and verify files</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;"/>
<col/>
<tbody>
<tr>
<td>
signify</td>
<td>
<b class="flag">-C</b> [<span class="opt"><b class="flag">-q</b></span>] <b class="flag">-p</b> <i class="arg">pubkey</i> <b class="flag">-x</b> <i class="arg">sigfile</i> [<span class="opt"><i class="arg">file ...</i></span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 7.00ex;"/>
<col/>
<tbody>
<tr>
<td>
signify</td>
<td>
<b class="flag">-G</b> [<span class="opt"><b class="flag">-n</b></span>] [<span class="opt"><b class="flag">-c</b> <i class="arg">comment</i></span>] <b class="flag">-p</b> <i class="arg">pubkey</i> <b class="flag">-s</b> <i class="arg">seckey</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 7.00ex;"/>
<col/>
<tbody>
<tr>
<td>
signify</td>
<td>
<b class="flag">-S</b> [<span class="opt"><b class="flag">-e</b></span>] [<span class="opt"><b class="flag">-x</b> <i class="arg">sigfile</i></span>] <b class="flag">-s</b> <i class="arg">seckey</i> <b class="flag">-m</b> <i class="arg">message</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 7.00ex;"/>
<col/>
<tbody>
<tr>
<td>
signify</td>
<td>
<b class="flag">-V</b> [<span class="opt"><b class="flag">-eq</b></span>] [<span class="opt"><b class="flag">-x</b> <i class="arg">sigfile</i></span>] <b class="flag">-p</b> <i class="arg">pubkey</i> <b class="flag">-m</b> <i class="arg">message</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">signify</b> utility creates and verifies cryptographic signatures. A signature verifies the integrity of a <i class="arg">message</i>. The mode of operation is selected with the following options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-C</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Verify a signed checksum list, and then verify the checksum for each file. If no files are specified, all of them are checked. <i class="arg">sigfile</i> should be the signed output of <a class="link-man" href="../html1/sha256.html">sha256(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-G</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Generate a new key pair.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-S</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Sign the specified message file and create a signature.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-V</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Verify the message and signature match.</dd>
</dl>
<div class="spacer">
</div>
The other options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b> <i class="arg">comment</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Specify the comment to be added during key generation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
When signing, embed the message after the signature. When verifying, extract the message from the signature. (This requires that the signature was created using <b class="flag">-e</b> and creates a new message file as output.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b> <i class="arg">message</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
When signing, the file containing the message to sign. When verifying, the file containing the message to verify. When verifying with <b class="flag">-e</b>, the file to create.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Do not ask for a passphrase during key generation. Otherwise, <b class="name">signify</b> will prompt the user for a passphrase to protect the secret key.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-p</b> <i class="arg">pubkey</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Public key produced by <b class="flag">-G</b>, and used by <b class="flag">-V</b> to check a signature.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Quiet mode. Suppress informational output.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b> <i class="arg">seckey</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Secret (private) key produced by <b class="flag">-G</b>, and used by <b class="flag">-S</b> to sign a message.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-x</b> <i class="arg">sigfile</i></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The signature file to create or verify. The default is <i class="arg">message</i>.sig.</dd>
</dl>
<div class="spacer">
</div>
The key and signature files created by <b class="name">signify</b> have the same format. The first line of the file is a free form text comment that may be edited, so long as it does not exceed a single line. The second line of the file is the actual key or signature base64 encoded.</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">signify</b> utility exits&#160;0 on success, and&#160;&gt;0 if an error occurs. It may fail because of one of the following reasons:<div class="spacer">
</div>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
Some necessary files do not exist.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Entered passphrase is incorrect.</li>
<li class="list-bul" style="margin-top: 0.00em;">
The message file was corrupted and its signature does not match.</li>
<li class="list-bul" style="margin-top: 0.00em;">
The message file is too large.</li>
</ul>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Create a new key pair:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ signify -G -p newkey.pub -s newkey.sec</code></div>
</blockquote>
<div class="spacer">
</div>
Sign a file, specifying a signature name:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ signify -S -s key.sec -m message.txt -x msg.sig</code></div>
</blockquote>
<div class="spacer">
</div>
Verify a signature, using the default signature name:<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ signify -V -p key.pub -m generalsorders.txt</code></div>
</blockquote>
<div class="spacer">
</div>
Verify a release directory containing <i class="file">SHA256.sig</i> and a full set of release files:<pre style="margin-left: 5.00ex;" class="lit display">
$ signify -C -p /etc/signify/openbsd-61-base.pub -x SHA256.sig</pre>
<div class="spacer">
</div>
Verify a bsd.rd before an upgrade:<pre style="margin-left: 5.00ex;" class="lit display">
$ signify -C -p /etc/signify/openbsd-61-base.pub -x SHA256.sig bsd.rd</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/fw_update.html">fw_update(1)</a>, <a class="link-man" href="../html1/pkg_add.html">pkg_add(1)</a>, <a class="link-man" href="../html1/sha256.html">sha256(1)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">signify</b> command first appeared in <span class="unix">OpenBSD&#160;5.5</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Ted Unangst</span> &lt;<a class="link-mail" href="mailto:tedu@openbsd.org">tedu@openbsd.org</a>&gt;</div>
</div>
</body>
</html>

