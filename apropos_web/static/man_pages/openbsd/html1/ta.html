<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
TAR(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">tar</b> &#8212; <span class="desc">tape archiver</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 3.00ex;"/>
<col/>
<tbody>
<tr>
<td>
tar</td>
<td>
<code class="none">{</code><b class="flag">crtux</b><code class="none">}</code>[<span class="opt"><b class="flag">014578befHhjLmNOoPpqsvwXZz</b></span>] [<span class="opt"><i class="arg">blocking-factor</i>&#160;|&#160;<i class="arg">archive</i>&#160;|&#160;<i class="arg">replstr</i></span>] [<span class="opt"><b class="flag">-C</b>&#160;<i class="arg">directory</i></span>] [<span class="opt"><b class="flag">-I</b>&#160;<i class="arg">file</i></span>] [<span class="opt"><i class="arg">file&#160;...</i></span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 3.00ex;"/>
<col/>
<tbody>
<tr>
<td>
tar</td>
<td>
<code class="none">{</code><b class="flag">-crtux</b>} [<span class="opt"><b class="flag">-014578eHhjLmNOoPpqvwXZz</b></span>] [<span class="opt"><b class="flag">-b</b>&#160;<i class="arg">blocking-factor</i></span>] [<span class="opt"><b class="flag">-C</b>&#160;<i class="arg">directory</i></span>] [<span class="opt"><b class="flag">-f</b>&#160;<i class="arg">archive</i></span>] [<span class="opt"><b class="flag">-I</b>&#160;<i class="arg">file</i></span>] [<span class="opt"><b class="flag">-s</b>&#160;<i class="arg">replstr</i></span>] [<span class="opt"><i class="arg">file&#160;...</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">tar</b> command creates, adds files to, or extracts files from an archive file in &#8220;tar&#8221; format. A tar archive is often stored on a magnetic tape, but can be stored equally well on a floppy, CD-ROM, or in a regular disk file.<div class="spacer">
</div>
In the first (legacy) form, all option flags except for <b class="flag">-C</b> and <b class="flag">-I</b> must be contained within the first argument to <b class="name">tar</b> and must not be prefixed by a hyphen (&#8216;-&#8217;). Option arguments, if any, are processed as subsequent arguments to <b class="name">tar</b> and are processed in the order in which their corresponding option flags have been presented on the command line.<div class="spacer">
</div>
In the second and preferred form, option flags may be given in any order and are immediately followed by their corresponding option argument values.<div class="spacer">
</div>
One of the following flags must be present:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Create new archive, or overwrite an existing archive, adding the specified files to it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Append the named new files to existing archive. Note that this will only work on media on which an end-of-file mark can be overwritten.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List contents of archive. If any files are named on the command line, only those files will be listed. The <i class="arg">file</i> arguments may be specified as glob patterns (see <a class="link-man" href="../html3/glob.html">glob(3)</a> for more information), in which case <b class="name">tar</b> will list all archive members that match each pattern.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Alias for <b class="flag">-r</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-x</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Extract files from archive. If any files are named on the command line, only those files will be extracted from the archive. The <i class="arg">file</i> arguments may be specified as glob patterns (see <a class="link-man" href="../html3/glob.html">glob(3)</a> for more information), in which case <b class="name">tar</b> will extract all archive members that match each pattern.<div class="spacer">
</div>
If more than one copy of a file exists in the archive, later copies will overwrite earlier copies during extraction. The file mode and modification time are preserved if possible. The file mode is subject to modification by the <a class="link-man" href="../html2/umask.html">umask(2)</a>.</dd>
</dl>
<div class="spacer">
</div>
In addition to the flags mentioned above, any of the following flags may be used:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b> <i class="arg">blocking-factor</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set blocking factor to use for the archive. <b class="name">tar</b> uses 512-byte blocks. The default is 20, the maximum is 126. Archives with a blocking factor larger than 63 violate the POSIX standard and will not be portable to all systems.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-C</b> <i class="arg">directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This is a positional argument which sets the working directory for the following files. When extracting, files will be extracted into the specified directory; when creating, the specified files will be matched from the directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Stop after the first error.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">archive</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Filename where the archive is stored. Defaults to <i class="file">/dev/rst0</i>. If set to hyphen (&#8216;-&#8217;) standard output is used. See also the <span class="env">TAPE</span> environment variable.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-H</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Follow symlinks given on the command line only.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-h</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Follow symbolic links as if they were normal files or directories. In extract mode this means that a directory entry in the archive will not overwrite an existing symbolic link, but rather what the link ultimately points to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-I</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This is a positional argument which reads the names of files to archive or extract from the given file, one per line.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-j</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Compress archive using bzip2. The bzip2 utility must be installed separately.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Synonym for the <b class="flag">-h</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not preserve modification time.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-N</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use only the numeric UID and GID values when creating or extracting an archive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-O</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Write old-style (non-POSIX) archives.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Don't write directory information that the older (V7) style <b class="name">tar</b> is unable to decode. This implies the <b class="flag">-O</b> flag.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-P</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not strip leading slashes (&#8216;/&#8217;) from pathnames. The default is to strip leading slashes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-p</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Preserve user and group ID as well as file mode regardless of the current <a class="link-man" href="../html2/umask.html">umask(2)</a>. The setuid and setgid bits are only preserved if the user and group ID could be preserved. Only meaningful in conjunction with the <b class="flag">-x</b> flag.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Select the first archive member that matches each <i class="arg">file</i> operand. No more than one archive member is matched for each <i class="arg">file</i>. When members of type directory are matched, the file hierarchy rooted at that directory is also matched.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b> <i class="arg">replstr</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Modify the archive member names according to the substitution expression <i class="arg">replstr</i>, using the syntax of the <a class="link-man" href="../html1/ed.html">ed(1)</a> utility regular expressions. <i class="arg">file</i> arguments may be given to restrict the list of archive members to those specified.<div class="spacer">
</div>
The format of these regular expressions is<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">/old/new/[gp]</code></div>
</blockquote>
<div class="spacer">
</div>
As in <a class="link-man" href="../html1/ed.html">ed(1)</a>, <b class="var">old</b> is a basic regular expression (see <a class="link-man" href="../html7/re_format.html">re_format(7)</a>) and <b class="var">new</b> can contain an ampersand (&#8216;<code class="lit">&amp;</code>&#8217;), &#8216;<code class="lit">\<span class="emph">n</span></code>&#8217; (where <span class="emph">n</span> is a digit) back-references, or subexpression matching. The <b class="var">old</b> string may also contain newline characters. Any non-null character can be used as a delimiter (&#8216;<code class="lit">/</code>&#8217; is shown here). Multiple <b class="flag">-s</b> expressions can be specified. The expressions are applied in the order they are specified on the command line, terminating with the first successful substitution.<div class="spacer">
</div>
The optional trailing <b class="flag">g</b> continues to apply the substitution expression to the pathname substring, which starts with the first character following the end of the last successful substitution. The first unsuccessful substitution stops the operation of the <b class="flag">g</b> option. The optional trailing <b class="flag">p</b> will cause the final result of a successful substitution to be written to standard error in the following format:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<span class="emph">original-pathname</span> <code class="none">&gt;&gt;</code> <span class="emph">new-pathname</span></div>
</blockquote>
<div class="spacer">
</div>
File or archive member names that substitute to the empty string are not selected and will be skipped.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Verbose operation mode.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-w</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Interactively rename files. This option causes <b class="name">tar</b> to prompt the user for the filename to use when storing or extracting files in an archive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-X</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not cross mount points in the file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-Z</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Compress archive using <a class="link-man" href="../html1/compress.html">compress(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-z</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Compress archive using <a class="link-man" href="../html1/gzip.html">gzip(1)</a>.</dd>
</dl>
<div class="spacer">
</div>
The options [<span class="opt"><b class="flag">-014578</b></span>] can be used to select one of the compiled-in backup devices, <i class="file">/dev/rstN</i>.</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TMPDIR</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Path in which to store temporary files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">TAPE</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Default tape device to use instead of <i class="file">/dev/rst0</i>. If set to hyphen (&#8216;-&#8217;) standard output is used.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/dev/rst0</i></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
default archive name</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="name">tar</b> utility exits with one of the following values:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
0</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
All files were processed successfully.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
1</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
An error occurred.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Create an archive on the default tape drive, containing the files named <i class="file">bonvole</i> and <i class="file">sekve</i>:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ tar c bonvole sekve</code></div>
</blockquote>
<div class="spacer">
</div>
Output a <a class="link-man" href="../html1/gzip.html">gzip(1)</a> compressed archive containing the files <i class="file">bonvole</i> and <i class="file">sekve</i> to a file called <i class="file">foriru.tar.gz</i>:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ tar zcf foriru.tar.gz bonvole sekve</code></div>
</blockquote>
<div class="spacer">
</div>
Verbosely create an archive, called <i class="file">backup.tar.gz</i>, of all files matching the shell <a class="link-man" href="../html3/glob.html">glob(3)</a> function <i class="file">*.c</i>:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ tar zcvf backup.tar.gz *.c</code></div>
</blockquote>
<div class="spacer">
</div>
Verbosely list, but do not extract, all files ending in <i class="file">.jpeg</i> from a compressed archive named <i class="file">backup.tar.gz</i>. Note that the glob pattern has been quoted to avoid expansion by the shell:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ tar tvzf backup.tar.gz '*.jpeg'</code></div>
</blockquote>
<div class="spacer">
</div>
For more detailed examples, see <a class="link-man" href="../html1/pax.html">pax(1)</a>.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> Whenever <b class="name">tar</b> cannot create a file or a link when extracting an archive or cannot find a file while writing an archive, or cannot preserve the user ID, group ID, file mode, or access and modification times when the <b class="flag">-p</b> option is specified, a diagnostic message is written to standard error and a non-zero exit value will be returned, but processing will continue. In the case where <b class="name">tar</b> cannot create a link to a file, <b class="name">tar</b> will not create a second copy of the file.<div class="spacer">
</div>
If the extraction of a file from an archive is prematurely terminated by a signal or error, <b class="name">tar</b> may have only partially extracted the file the user wanted. Additionally, the file modes of extracted files and directories may have incorrect file bits, and the modification and access times may be wrong.<div class="spacer">
</div>
If the creation of an archive is prematurely terminated by a signal or error, <b class="name">tar</b> may have only partially created the archive, which may violate the specific archive format specification.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/cpio.html">cpio(1)</a>, <a class="link-man" href="../html1/pax.html">pax(1)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">tar</b> command first appeared in Version&#160;7 AT&amp;T UNIX.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Keith Muller</span> at the University of California, San Diego.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> The <b class="flag">-j</b> and <b class="flag">-L</b> flags are not portable to other versions of <b class="name">tar</b> where they may have a different meaning.</div>
</div>
</body>
</html>

