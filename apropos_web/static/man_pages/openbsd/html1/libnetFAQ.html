<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
LIBNETFAQ(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LIBNETFAQ(1)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
LIBNETFAQ(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> libnetFAQ - libnet Frequently Asked Questions</div>
<div class="section">
<h1>DESCRIPTION</h1><div class="subsection">
<h2>Where to get this document</h2> This document is distributed with the libnet distribution, and is also available on the libnet web page at<div class="spacer">
</div>
<br/>
    http://search.cpan.org/dist/libnet/<br/>
</div>
<div class="subsection">
<h2>How to contribute to this document</h2> You may report corrections, additions, and suggestions on the CPAN request tracker at<div class="spacer">
</div>
<br/>
    http://rt.cpan.org/Dist/Display.html?Name=libnet<br/>
</div>
</div>
<div class="section">
<h1>Author and Copyright Information</h1> Copyright (c) 1997-1998 Graham Barr. All rights reserved. This document is free; you can redistribute it and/or modify it under the terms of the Artistic License.<div class="spacer">
</div>
Currently maintained by Steve Hay &lt;shay@cpan.org&gt;.<div class="subsection">
<h2>Disclaimer</h2> This information is offered in good faith and in the hope that it may be of use, but is not guaranteed to be correct, up to date, or suitable for any particular purpose whatsoever.  The authors accept no liability in respect of this information or its use.</div>
</div>
<div class="section">
<h1>Obtaining and installing libnet</h1><div class="subsection">
<h2>What is libnet ?</h2> libnet is a collection of perl5 modules which all related to network programming. The majority of the modules available provided the client side of popular server-client protocols that are used in the internet community.</div>
<div class="subsection">
<h2>Which version of perl do I need ?</h2> libnet has been know to work with versions of perl from 5.002 onwards. However if your release of perl is prior to perl5.004 then you will need to obtain and install the IO distribution from CPAN. If you have perl5.004 or later then you will have the IO modules in your installation already, but CPAN may contain updates.</div>
<div class="subsection">
<h2>What other modules do I need ?</h2> The only modules you will need installed are the modules from the IO distribution. If you have perl5.004 or later you will already have these modules.</div>
<div class="subsection">
<h2>What machines support libnet ?</h2> libnet itself is an entirely perl-code distribution so it should work on any machine that perl runs on. However IO may not work with some machines and earlier releases of perl. But this should not be the case with perl version 5.004 or later.</div>
<div class="subsection">
<h2>Where can I get the latest libnet release</h2> The latest libnet release is always on CPAN, you will find it in<div class="spacer">
</div>
<br/>
 http://search.cpan.org/dist/libnet/<br/>
</div>
</div>
<div class="section">
<h1>Using Net::FTP</h1><div class="subsection">
<h2>How do I download files from an FTP server ?</h2> An example taken from an article posted to comp.lang.perl.misc<div class="spacer">
</div>
<br/>
    #!/your/path/to/perl<br/>
<br/>
    # a module making life easier<br/>
<br/>
    use Net::FTP;<br/>
<br/>
    # for debugging: $ftp = Net::FTP-&gt;new('site','Debug',10);<br/>
    # open a connection and log in!<br/>
<br/>
    $ftp = Net::FTP-&gt;new('target_site.somewhere.xxx');<br/>
    $ftp-&gt;login('username','password');<br/>
<br/>
    # set transfer mode to binary<br/>
<br/>
    $ftp-&gt;binary();<br/>
<br/>
    # change the directory on the ftp site<br/>
<br/>
    $ftp-&gt;cwd('/some/path/to/somewhere/');<br/>
<br/>
    foreach $name ('file1', 'file2', 'file3') {<br/>
<br/>
    # get's arguments are in the following order:<br/>
    # ftp server's filename<br/>
    # filename to save the transfer to on the local machine<br/>
    # can be simply used as get($name) if you want the same name<br/>
<br/>
      $ftp-&gt;get($name,$name);<br/>
    }<br/>
<br/>
    # ftp done!<br/>
<br/>
    $ftp-&gt;quit;<br/>
</div>
<div class="subsection">
<h2>How do I transfer files in binary mode ?</h2> To transfer files without &lt;LF&gt;&lt;CR&gt; translation Net::FTP provides the &quot;binary&quot; method<div class="spacer">
</div>
<br/>
    $ftp-&gt;binary;<br/>
</div>
<div class="subsection">
<h2>How can I get the size of a file on a remote FTP server ?</h2></div>
<div class="subsection">
<h2>How can I get the modification time of a file on a remote FTP server ?</h2></div>
<div class="subsection">
<h2>How can I change the permissions of a file on a remote server ?</h2> The FTP protocol does not have a command for changing the permissions of a file on the remote server. But some ftp servers may allow a chmod command to be issued via a SITE command, eg<div class="spacer">
</div>
<br/>
    $ftp-&gt;quot('site chmod 0777',$filename);<br/>
<div class="spacer">
</div>
But this is not guaranteed to work.</div>
<div class="subsection">
<h2>Can I do a reget operation like the ftp command ?</h2></div>
<div class="subsection">
<h2>How do I get a directory listing from an FTP server ?</h2></div>
<div class="subsection">
<h2>Changing directory to &quot;&quot; does not fail ?</h2> Passing an argument of &quot;&quot; to -&gt; <i>cwd()</i> has the same affect of calling -&gt;<i>cwd()</i> without any arguments. Turn on Debug ( <i>See below</i>) and you will see what is happening<div class="spacer">
</div>
<br/>
    $ftp = Net::FTP-&gt;new($host, Debug =&gt; 1);<br/>
    $ftp-&gt;login;<br/>
    $ftp-&gt;cwd(&quot;&quot;);<br/>
<div class="spacer">
</div>
gives<div class="spacer">
</div>
<br/>
    Net::FTP=GLOB(0x82196d8)&gt;&gt;&gt; CWD /<br/>
    Net::FTP=GLOB(0x82196d8)&lt;&lt;&lt; 250 CWD command successful.<br/>
</div>
<div class="subsection">
<h2>I am behind a SOCKS firewall, but the Firewall option does not work ?</h2> The Firewall option is only for support of one type of firewall. The type supported is an ftp proxy.<div class="spacer">
</div>
To use Net::FTP, or any other module in the libnet distribution, through a SOCKS firewall you must create a socks-ified perl executable by compiling perl with the socks library.</div>
<div class="subsection">
<h2>I am behind an FTP proxy firewall, but cannot access machines outside ?</h2> Net::FTP implements the most popular ftp proxy firewall approach. The scheme implemented is that where you log in to the firewall with &quot;user@hostname&quot;<div class="spacer">
</div>
I have heard of one other type of firewall which requires a login to the firewall with an account, then a second login with &quot;user@hostname&quot;. You can still use Net::FTP to traverse these firewalls, but a more manual approach must be taken, eg<div class="spacer">
</div>
<br/>
    $ftp = Net::FTP-&gt;new($firewall) or die $@;<br/>
    $ftp-&gt;login($firewall_user, $firewall_passwd) or die $ftp-&gt;message;<br/>
    $ftp-&gt;login($ext_user . '@' . $ext_host, $ext_passwd) or die $ftp-&gt;message.<br/>
</div>
<div class="subsection">
<h2>My ftp proxy firewall does not listen on port 21</h2> FTP servers usually listen on the same port number, port 21, as any other FTP server. But there is no reason why this has to be the case.<div class="spacer">
</div>
If you pass a port number to Net::FTP then it assumes this is the port number of the final destination. By default Net::FTP will always try to connect to the firewall on port 21.<div class="spacer">
</div>
Net::FTP uses IO::Socket to open the connection and IO::Socket allows the port number to be specified as part of the hostname. So this problem can be resolved by either passing a Firewall option like &quot;hostname:1234&quot; or by setting the &quot;ftp_firewall&quot; option in Net::Config to be a string in the same form.</div>
<div class="subsection">
<h2>Is it possible to change the file permissions of a file on an FTP server ?</h2> The answer to this is &quot;maybe&quot;. The FTP protocol does not specify a command to change file permissions on a remote host. However many servers do allow you to run the chmod command via the &quot;SITE&quot; command. This can be done with<div class="spacer">
</div>
<br/>
  $ftp-&gt;site('chmod','0775',$file);<br/>
</div>
<div class="subsection">
<h2>I have seen scripts call a method message, but cannot find it documented ?</h2> Net::FTP, like several other packages in libnet, inherits from Net::Cmd, so all the methods described in Net::Cmd are also available on Net::FTP objects.</div>
<div class="subsection">
<h2>Why does Net::FTP not implement mput and mget methods</h2> The quick answer is because they are easy to implement yourself. The long answer is that to write these in such a way that multiple platforms are supported correctly would just require too much code. Below are some examples how you can implement these yourself.<div class="spacer">
</div>
sub mput {<br/>
  my($ftp,$pattern) = @_;<br/>
  foreach my $file (glob($pattern)) {<br/>
    $ftp-&gt;put($file) or warn $ftp-&gt;message;<br/>
  } }<div class="spacer">
</div>
sub mget {<br/>
  my($ftp,$pattern) = @_;<br/>
  foreach my $file ($ftp-&gt;ls($pattern)) {<br/>
    $ftp-&gt;get($file) or warn $ftp-&gt;message;<br/>
  } }</div>
</div>
<div class="section">
<h1>Using Net::SMTP</h1><div class="subsection">
<h2>Why can't the part of an Email address after the @ be used as the hostname ?</h2> The part of an Email address which follows the @ is not necessarily a hostname, it is a mail domain. To find the name of a host to connect for a mail domain you need to do a DNS MX lookup</div>
<div class="subsection">
<h2>Why does Net::SMTP not do DNS MX lookups ?</h2> Net::SMTP implements the SMTP protocol. The DNS MX lookup is not part of this protocol.</div>
<div class="subsection">
<h2>The verify method always returns true ?</h2> Well it may seem that way, but it does not. The verify method returns true if the command succeeded. If you pass verify an address which the server would normally have to forward to another machine, the command will succeed with something like<div class="spacer">
</div>
<br/>
    252 Couldn't verify &lt;someone@there&gt; but will attempt delivery anyway<br/>
<div class="spacer">
</div>
This command will fail only if you pass it an address in a domain the server directly delivers for, and that address does not exist.</div>
</div>
<div class="section">
<h1>Debugging scripts</h1><div class="subsection">
<h2>How can I debug my scripts that use Net::* modules ?</h2> Most of the libnet client classes allow options to be passed to the constructor, in most cases one option is called &quot;Debug&quot;. Passing this option with a non-zero value will turn on a protocol trace, which will be sent to STDERR. This trace can be useful to see what commands are being sent to the remote server and what responses are being received back.<div class="spacer">
</div>
<br/>
    #!/your/path/to/perl<br/>
<br/>
    use Net::FTP;<br/>
<br/>
    my $ftp = new Net::FTP($host, Debug =&gt; 1);<br/>
    $ftp-&gt;login('gbarr','password');<br/>
    $ftp-&gt;quit;<br/>
<div class="spacer">
</div>
this script would output something like<div class="spacer">
</div>
<br/>
 Net::FTP: Net::FTP(2.22)<br/>
 Net::FTP:   Exporter<br/>
 Net::FTP:   Net::Cmd(2.0801)<br/>
 Net::FTP:   IO::Socket::INET<br/>
 Net::FTP:     IO::Socket(1.1603)<br/>
 Net::FTP:       IO::Handle(1.1504)<br/>
<br/>
 Net::FTP=GLOB(0x8152974)&lt;&lt;&lt; 220 imagine FTP server (Version wu-2.4(5) Tue Jul 29 11:17:18 CDT 1997) ready.<br/>
 Net::FTP=GLOB(0x8152974)&gt;&gt;&gt; user gbarr<br/>
 Net::FTP=GLOB(0x8152974)&lt;&lt;&lt; 331 Password required for gbarr.<br/>
 Net::FTP=GLOB(0x8152974)&gt;&gt;&gt; PASS ....<br/>
 Net::FTP=GLOB(0x8152974)&lt;&lt;&lt; 230 User gbarr logged in.  Access restrictions apply.<br/>
 Net::FTP=GLOB(0x8152974)&gt;&gt;&gt; QUIT<br/>
 Net::FTP=GLOB(0x8152974)&lt;&lt;&lt; 221 Goodbye.<br/>
<div class="spacer">
</div>
The first few lines tell you the modules that Net::FTP uses and their versions, this is useful data to me when a user reports a bug. The last seven lines show the communication with the server. Each line has three parts. The first part is the object itself, this is useful for separating the output if you are using multiple objects. The second part is either &quot;&lt;&lt;&lt;&lt;&quot; to show data coming from the server or &quot;&amp;gt&amp;gt&amp;gt&amp;gt&quot; to show data going to the server. The remainder of the line is the command being sent or response being received.</div>
</div>
<div class="section">
<h1>AUTHOR AND COPYRIGHT</h1> Copyright (c) 1997 Graham Barr. All rights reserved.</div>
<table class="foot">
<tr>
<td class="foot-date">
2014-09-08</td>
<td class="foot-os">
perl v5.20.2</td>
</tr>
</table>
</div>
</body>
</html>

