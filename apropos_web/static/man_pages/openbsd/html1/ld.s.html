<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
LD.SO(1)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ld.so</b> &#8212; <span class="desc">run-time link-editor</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">ld.so</b> is a self-contained, position independent program image providing run-time support for loading and link-editing shared objects into a process's address space. It uses the data structures (see <a class="link-man" href="../html5/elf.html">elf(5)</a>) contained within dynamically linked programs to determine which shared libraries are needed and loads them at a convenient virtual address using the <a class="link-man" href="../html2/mmap.html">mmap(2)</a> system call.<div class="spacer">
</div>
After all shared libraries have been successfully loaded, <b class="name">ld.so</b> proceeds to resolve external references from both the main program and all objects loaded. A mechanism is provided for initialization routines to be called, on a per-object basis, giving a shared object an opportunity to perform any extra set-up, before execution of the program proper begins.<div class="spacer">
</div>
<b class="name">ld.so</b> is itself a shared object that is initially loaded by the kernel.<div class="spacer">
</div>
To quickly locate the required shared objects in the filesystem, <b class="name">ld.so</b> may use a &#8220;hints&#8221; file, prepared by the <a class="link-man" href="../html8/ldconfig.html">ldconfig(8)</a> utility, in which the full path specification of the shared objects can be looked up by hashing on the 3-tuple &#10216;library-name, major-version-number, minor-version-number&#10217;.<div class="spacer">
</div>
<b class="name">ld.so</b> recognises a number of environment variables that can be used to modify its behaviour as follows:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_LIBRARY_PATH</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A colon separated list of directories, prepending the default search path for shared libraries. This variable is ignored for set-user-ID and set-group-ID executables.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_PRELOAD</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A colon separate list of library names to load before any of the regular libraries are loaded. This variable is ignored for set-user-ID and set-group-ID executables.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_BIND_NOW</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies that the dynamic linker should process all relocations before transferring control to the program. Normally, the procedure linkage table entries are handled lazily, avoiding symbol lookup and relocation for unused functions. This variable is ignored for set-user-ID and set-group-ID executables.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_TRACE_LOADED_OBJECTS</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When set, causes <b class="name">ld.so</b> to exit after loading the shared objects and printing a summary which includes the absolute pathnames of all objects, to standard output.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_TRACE_LOADED_OBJECTS_FMT1</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_TRACE_LOADED_OBJECTS_FMT2</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When set, these variables are interpreted as format strings a la <a class="link-man" href="../html3/printf.html">printf(3)</a> to customize the trace output and are used by <a class="link-man" href="../html1/ldd.html">ldd(1)</a>'s <b class="flag">-f</b> option and allows <a class="link-man" href="../html1/ldd.html">ldd(1)</a> to be operated as a filter more conveniently. <span class="env">LD_TRACE_LOADED_OBJECTS_FMT1</span> is used for tracing shared libraries; <span class="env">LD_TRACE_LOADED_OBJECTS_FMT2</span> for dynamically loaded objects, the dynamic linker, and the main executable. The following conversions can be used:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
%a</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The main program's name (also known as &#8220;__progname&#8221;).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%A</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The value of the environment variable <span class="env">LD_TRACE_LOADED_OBJECTS_PROGNAME</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%e</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The end address of the object.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%g</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The object's group reference count.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%m</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The object's major version number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%n</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The object's minor version number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%O</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The object's open count.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%o</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The object name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%p</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The full pathname as determined by <b class="name">ld.so</b>'s library search rules.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%r</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The object's reference count.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
%x</dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
The object's load address.</dd>
</dl>
<div class="spacer">
</div>
Additionally, <span class="symb">\n</span> and <span class="symb">\t</span> are recognised and have their usual meaning.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_DEBUG</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When set, be verbose about what <b class="name">ld.so</b> does.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_NOPREBIND</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When set, ignore any prebind data associated with the program or libraries.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="env">LD_PREBINDVALIDATE</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When set, perform symbol relocation of the given binary and the associated libraries, compare the results against the prebind values, then exit.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/run/ld.so.hints</i></dt>
<dd class="list-tag" style="margin-left: 23.00ex;">
library location hints built by <a class="link-man" href="../html8/ldconfig.html">ldconfig(8)</a></dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/ld.html">ld(1)</a>, <a class="link-man" href="../html5/elf.html">elf(5)</a>, <a class="link-man" href="../html8/ldconfig.html">ldconfig(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The shared library model employed first appeared in SunOS 4.0.</div>
</div>
</body>
</html>

