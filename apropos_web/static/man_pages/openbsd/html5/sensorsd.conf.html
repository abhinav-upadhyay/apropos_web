<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SENSORSD.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sensorsd.conf</b> &#8212; <span class="desc">configuration file for sensorsd</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">sensorsd.conf</b> file is read by <a class="link-man" href="../html8/sensorsd.html">sensorsd(8)</a> to configure hardware sensor monitoring. Each sensor registered in the system is matched by at most one entry in <b class="name">sensorsd.conf</b>, which may specify high and low limits, and whether sensor status changes provided by the driver should be ignored. If the limits are crossed or if the status provided by the driver changes, <a class="link-man" href="../html8/sensorsd.html">sensorsd(8)</a>'s alert functionality is triggered and a command, if specified, is executed.<div class="spacer">
</div>
<b class="name">sensorsd.conf</b> follows the syntax of configuration databases as documented in <a class="link-man" href="../html3/getcap.html">getcap(3)</a>. Sensors may be specified by their full <b class="var">hw.sensors</b> <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a> variable name or by type, with the full name taking precedence. For example, if an entry &#8220;hw.sensors.lm0.temp1&#8221; is not found, then an entry for &#8220;temp&#8221; will instead be looked for.<div class="spacer">
</div>
The following attributes may be used:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">command</code></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Specify a command to be executed on state change.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">high</code></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Specify an upper limit.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">low</code></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Specify a lower limit.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<code class="lit">istatus</code></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Ignore status provided by the driver.</dd>
</dl>
<div class="spacer">
</div>
The values for temperature sensors can be given in degrees Celsius or Fahrenheit, for voltage sensors in volts, and fan speed sensors take a unit-less number representing RPM. Values for all other types of sensors can be specified in the same units as they appear under the <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a> <b class="var">hw.sensors</b> tree.<div class="spacer">
</div>
Sensors that provide status (such as those from <a class="link-man" href="../html4/bio.html">bio(4)</a>, <a class="link-man" href="../html4/esm.html">esm(4)</a>, or <a class="link-man" href="../html4/ipmi.html">ipmi(4)</a>) do not require boundary values specified and simply trigger on status transitions. If boundaries are specified nonetheless, then they are used in addition to automatic status monitoring, unless the &#8220;istatus&#8221; attribute is specified to ignore status values that are provided by the drivers.<div class="spacer">
</div>
The command is executed when there is any change in sensor state. Tokens in the command are substituted as follows:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
%l</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Whether the value exceeds or is within the user specified limits. Can be one of: &quot;below&quot;, &quot;above&quot;, &quot;within&quot;, &quot;invalid&quot;, or &quot;uninitialised&quot;.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%n</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The sensor number.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%s</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The sensor status.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%x</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The xname of the device the sensor sits on.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%t</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The type of sensor.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%2</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The sensor's current value.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%3</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The sensor's low limit.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
%4</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The sensor's high limit.</dd>
</dl>
<div class="spacer">
</div>
By default, <a class="link-man" href="../html8/sensorsd.html">sensorsd(8)</a> monitors status changes on all sensors that keep their state. This behaviour may be altered by using the &#8220;istatus&#8221; attribute to ignore status changes of sensors of a certain type or individual sensors.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">/etc/sensorsd.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
Configuration file for <a class="link-man" href="../html8/sensorsd.html">sensorsd(8)</a>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> In the following configuration file, if hw.sensors.ipmi0.temp0 transitions 80C or if its status as provided by <a class="link-man" href="../html4/ipmi.html">ipmi(4)</a> changes, the command <i class="file">/etc/sensorsd/log_warning</i> will be executed, with the sensor type, number and current value passed to it. Alerts will be sent if hw.sensors.lm0.volt3 transitions to being within or outside a range of 4.8V and 5.2V; if the speed of the fan attached to hw.sensors.lm0.fan1 transitions to being below or above 1000RPM; if any RAID volume drive changes its status from, for example, &#8220;OK&#8221;, such as in the case of drive failure, rebuild, or a complete failure, the command <i class="file">/etc/sensorsd/drive</i> will be executed, with the sensor number passed to it; however, no alerts will be generated for status changes on timedelta sensors. For all other sensors whose drivers automatically provide sensor status updates, alerts will be generated each time those sensors undergo status transitions.<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
# Comments are allowed 
hw.sensors.ipmi0.temp0:high=80C:command=/etc/sensorsd/log_warning %t %n %2 
hw.sensors.lm0.volt3:low=4.8V:high=5.2V 
hw.sensors.lm0.fan1:low=1000 
drive:command=/etc/sensorsd/drive %n 
timedelta:istatus	#ignore status changes for timedelta</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/getcap.html">getcap(3)</a>, <a class="link-man" href="../html4/bio.html">bio(4)</a>, <a class="link-man" href="../html4/ipmi.html">ipmi(4)</a>, <a class="link-man" href="../html8/sensorsd.html">sensorsd(8)</a>, <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">sensorsd.conf</b> file format first appeared in <span class="unix">OpenBSD&#160;3.5</span>. The format was altered in <span class="unix">OpenBSD&#160;4.1</span> to accommodate hierarchical device-based sensor addressing. The &#8220;istatus&#8221; attribute was introduced in <span class="unix">OpenBSD&#160;4.2</span>.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> Alert functionality is triggered every time there is a change in sensor state; for example, when <a class="link-man" href="../html8/sensorsd.html">sensorsd(8)</a> is started, the status of each monitored sensor changes from undefined to whatever it is. One must keep this in mind when using commands that may unconditionally perform adverse actions (e.g. <a class="link-man" href="../html8/shutdown.html">shutdown(8)</a>), as they will be executed even when all sensors perform to specification. If this is undesirable, then a wrapper shell script should be used instead.</div>
</div>
</body>
</html>

