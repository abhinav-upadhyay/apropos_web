<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
ISCSI.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">iscsi.conf</b> &#8212; <span class="desc">ISCSI daemon configuration file</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a> daemon implements the Internet Small Computer Systems Interface as described in RFC 3720.</div>
<div class="section">
<h1 id="x53454354494f4e53">SECTIONS</h1> The <b class="name">iscsi.conf</b> configuration file is divided into three main sections:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">Macros</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
User-defined variables may be defined and used later, simplifying the configuration file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">Global Configuration</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Global settings for <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">Target Configuration</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Target-specific parameters.</dd>
</dl>
<div class="spacer">
</div>
With the exception of macros, the sections should be grouped and appear in <b class="name">iscsi.conf</b> in the order shown above.<div class="spacer">
</div>
The current line can be extended over multiple lines using a backslash (&#8216;\&#8217;). Comments can be put anywhere in the file using a hash mark (&#8216;#&#8217;), and extend to the end of the current line. Care should be taken when commenting out multi-line text: the comment is effective until the end of the entire block.<div class="spacer">
</div>
Argument names not beginning with a letter, digit, or underscore must be quoted.<div class="spacer">
</div>
Additional configuration files can be included with the <b class="cmd">include</b> keyword, for example:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
include &quot;/etc/iscsi-target.conf&quot;</pre>
</div>
<div class="section">
<h1 id="x4d4143524f53">MACROS</h1> Macros can be defined that will later be expanded in context. Macro names must start with a letter, digit, or underscore, and may contain any of those characters. Macro names may not be reserved words (for example, <b class="cmd">target</b>, or <b class="cmd">port</b>). Macros are not expanded inside quotes.<div class="spacer">
</div>
For example:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
target1=&quot;1.2.3.4&quot; 
target &quot;disk1&quot; { 
        targetaddr $target1 
}</pre>
</div>
<div class="section">
<h1 id="x474c4f42414c20434f4e46494755524154494f4e">GLOBAL CONFIGURATION</h1> There are a few settings that affect the operation of the <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a> daemon globally.<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">isid</b> (<b class="cmd">oui</b>|<b class="cmd">en</b>|<b class="cmd">rand</b>) <i class="arg">base</i> <i class="arg">qual</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The Initiator Session ID <b class="cmd">isid</b> specifies the initiator part of the Session Identifier. It is set during startup of <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a> and is used for session reinstatement. By default a random <b class="cmd">isid</b> is generated on startup. The random <b class="cmd">rand</b> form has a 24-bit random number as <i class="arg">base</i> and a 16-bit <i class="arg">qual</i> qualifier. The <b class="cmd">oui</b> format uses a 22-bit <i class="arg">base</i> OUI and a 24-bit <i class="arg">qual</i> qualifier. The IANA enterprise number format <b class="cmd">en</b> uses the 24-bit enterprise number in <i class="arg">base</i> and a 16-bit <i class="arg">qual</i> qualifier.</dd>
</dl>
</div>
<div class="section">
<h1 id="x54415247455420434f4e46494755524154494f4e">TARGET CONFIGURATION</h1> <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a> establishes TCP connections to iSCSI targets. Each target is specified by a <span class="emph">target</span> section, which allows properties to be set specifically for that target:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
target disk1 { 
	targetaddr 10.0.0.2 
	targetname &quot;iqn.1994-04.org.netbsd.iscsi-target:target:0&quot; 
}</pre>
<div class="spacer">
</div>
There are several target properties:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="opt"><b class="cmd">disabled</b>|<b class="cmd">enabled</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
No session will be established to the target if <b class="cmd">disabled</b> is set. The default value is <b class="cmd">enabled</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="opt"><b class="cmd">discovery</b>|<b class="cmd">normal</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Define the type of session that will be established. It is possible to initiate a special <b class="cmd">discovery</b> session to a target to enumerate the available volumes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">initiatoraddr</b> <i class="arg">addr</i> [<span class="opt"><b class="cmd">inet</b>|<b class="cmd">inet6</b></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a> initiates the TCP connection to the target system, it normally does not bind to a specific IP address and port. If an <b class="cmd">initiatoraddr</b> is given, it binds to this address first.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">initiatorname</b> <i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify the <b class="cmd">initiatorname</b> used to connect to the remote target. The <b class="cmd">initiatorname</b> can be used to restrict access to a target. If not given <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a> will use <span class="emph">iqn.1995-11.org.openbsd.iscsid</span> as default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">targetaddr</b> <i class="arg">addr</i> [<span class="opt"><b class="cmd">inet</b>|<b class="cmd">inet6</b></span>] [<span class="opt"><b class="cmd">port</b> <i class="arg">num</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Define the target IP address which <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a> should connect to. By default port 3260 will be used.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">targetname</b> <i class="arg">string</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">targetname</b> specifies which LUN or disk should be requested by <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a>. It is possible to enumerate remote systems with a <b class="cmd">discovery</b> session.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/iscsi.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
<a class="link-man" href="../html8/iscsid.html">iscsid(8)</a> configuration file.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/tcp.html">tcp(4)</a>, <a class="link-man" href="../html8/iscsictl.html">iscsictl(8)</a>, <a class="link-man" href="../html8/iscsid.html">iscsid(8)</a>, <a class="link-man" href="../html8/rc.conf.local.html">rc.conf.local(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">iscsi.conf</b> file format first appeared in <span class="unix">OpenBSD&#160;4.9</span>.</div>
</div>
</body>
</html>

