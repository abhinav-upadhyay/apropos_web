<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
DIR(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dir</b>, <b class="name">dirent</b> &#8212; <span class="desc">directory file format</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">dirent.h</a>&gt;</b></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Directories provide a convenient hierarchical method of grouping files while obscuring the underlying details of the storage medium. A directory file is differentiated from a plain file by a flag in its <a class="link-man" href="../html5/inode.html">inode(5)</a> entry. It consists of records (directory entries) each of which contains information about a file and a pointer to the file itself. Directory entries may contain other directories as well as plain files; such nested directories are referred to as subdirectories. A hierarchy of directories and files is formed in this manner and is called a file system (or referred to as a file system tree).<div class="spacer">
</div>
Each directory file contains two special directory entries; one is a pointer to the directory itself called dot (&#8220;.&#8221;) and the other a pointer to its parent directory called dot-dot (&#8220;..&#8221;). Dot and dot-dot are valid pathnames, however, the system root directory (&#8220;/&#8221;), has no parent and dot-dot points to itself like dot.<div class="spacer">
</div>
File system nodes are ordinary directory files on which has been grafted a file system object, such as a physical disk or a partitioned area of such a disk (see <a class="link-man" href="../html8/mount.html">mount(8)</a>).<div class="spacer">
</div>
The directory entry format is defined in the file <b class="includes">&lt;<a class="link-includes">dirent.h</a>&gt;</b>:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
/* 
 * A directory entry has a struct dirent at the front of it, containing 
 * its inode number, the length of the entry, and the length of the name 
 * contained in the entry.  These are followed by the name padded to some 
 * alignment (currently 8 bytes) with NUL bytes.  All names are guaranteed 
 * NUL terminated.  The maximum length of a name in a directory is MAXNAMLEN. 
 */ 
 
struct dirent { 
	ino_t		d_fileno;	/* file number of entry */ 
	off_t		d_off;		/* offset of next entry */ 
	u_int16_t	d_reclen;	/* length of this record */ 
	u_int8_t	d_type;		/* file type, see below */ 
	u_int8_t	d_namlen;	/* length of string in d_name */ 
#define MAXNAMLEN       255 
	char    d_name[MAXNAMLEN + 1];  /* maximum name length */ 
}; 
 
#define	d_ino		d_fileno	/* backward compatibility */ 
 
/* 
 * File types 
 */ 
#define DT_UNKNOWN	0 
#define DT_FIFO		1 
#define DT_CHR		2 
#define DT_DIR		4 
#define DT_BLK		6 
#define DT_REG		8 
#define DT_LNK		10 
#define DT_SOCK		12</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/getdents.html">getdents(2)</a>, <a class="link-man" href="../html5/fs.html">fs(5)</a>, <a class="link-man" href="../html5/inode.html">inode(5)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">dir</b> file format appeared in Version&#160;7 AT&amp;T UNIX. The <i class="farg">d_off</i> member was added in <span class="unix">OpenBSD&#160;5.5</span>.</div>
</div>
</body>
</html>

