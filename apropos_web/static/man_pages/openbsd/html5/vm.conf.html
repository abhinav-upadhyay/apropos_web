<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
VM.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">vm.conf</b> &#8212; <span class="desc">virtual machine configuration</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">vm.conf</b> is the configuration file to configure the virtual machine monitor (VMM) subsystem. A VMM manages virtual machines (VMs) on a <i class="arg">host</i>. The VMM subsystem is responsible for creating, destroying, and executing VMs.</div>
<div class="section">
<h1 id="x53454354494f4e53">SECTIONS</h1> <b class="name">vm.conf</b> is divided into two main sections:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">Macros</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
User-defined variables may be defined and used later, simplifying the configuration file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">VM Configuration</span></dt>
<dd class="list-tag" style="margin-left: 4.00ex;">
Configuration for each individual virtual machine.</dd>
</dl>
<div class="spacer">
</div>
Within the sections, the <i class="arg">bytes</i> argument can be specified with a human-readable scale, using the format described in <a class="link-man" href="../html3/scan_scaled.html">scan_scaled(3)</a>.<div class="spacer">
</div>
The current line can be extended over multiple lines using a backslash (&#8216;\&#8217;). Comments can be put anywhere in the file using a hash mark (&#8216;#&#8217;), and extend to the end of the current line. Care should be taken when commenting out multi-line text: the comment is effective until the end of the entire block.<div class="spacer">
</div>
Argument names not beginning with a letter, digit, underscore, or slash must be quoted.<div class="spacer">
</div>
Additional configuration files can be included with the <b class="cmd">include</b> keyword, for example:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
include &quot;/etc/vm1.example.com.conf&quot;</pre>
</div>
<div class="section">
<h1 id="x4d4143524f53">MACROS</h1> Macros can be defined that will later be expanded in context. Macro names must start with a letter, digit, or underscore, and may contain any of those characters. Macro names may not be reserved words (for example, <b class="cmd">vm</b>, <b class="cmd">memory</b>, or <b class="cmd">disk</b>). Macros are not expanded inside quotes.<div class="spacer">
</div>
For example:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
ramdisk=&quot;/bsd.rd&quot; 
vm &quot;vm1.example.com&quot; { 
	memory 512M 
	kernel $ramdisk 
}</pre>
</div>
<div class="section">
<h1 id="x564d20434f4e46494755524154494f4e">VM CONFIGURATION</h1> Each <b class="cmd">vm</b> section starts with a declaration of the virtual machine <i class="arg">name</i>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">vm</b> <i class="arg">name</i> {...}</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This name can be any string, and is typically a hostname.</dd>
</dl>
<div class="spacer">
</div>
Followed by a block of parameters that is enclosed in curly brackets:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">enable</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Automatically start the VM. This is the default if neither <b class="flag">enable</b> nor <b class="flag">disable</b> is specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">disable</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not start this VM.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">disk</b> <i class="arg">path</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Disk image file (may be specified multiple times to add multiple disk images).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">kernel</b> <i class="arg">path</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Kernel to load when booting the VM.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">memory</b> <i class="arg">bytes</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Memory size of the VM, in bytes, rounded to megabytes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">interfaces</b> <i class="arg">count</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Number of network interfaces to add to the VM.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Create a new VM with 512MB memory, 1 network interface, one disk image ('disk.img') and boot from kernel '/bsd':<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
vm &quot;vm2.example.com&quot; { 
	memory 512M 
	interfaces 1 
	disk &quot;/var/vmm/vm2-disk.img&quot; 
	kernel &quot;/bsd&quot; 
}</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/vmm.html">vmm(4)</a>, <a class="link-man" href="../html8/vmctl.html">vmctl(8)</a>, <a class="link-man" href="../html8/vmd.html">vmd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">vm.conf</b> file format first appeared in <span class="unix">OpenBSD&#160;5.9</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Mike Larkin</span> &lt;<a class="link-mail" href="mailto:mlarkin@openbsd.org">mlarkin@openbsd.org</a>&gt; and <span class="author">Reyk Floeter</span> &lt;<a class="link-mail" href="mailto:reyk@openbsd.org">reyk@openbsd.org</a>&gt;.</div>
</div>
</body>
</html>

