<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
YPSERV.ACL(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ypserv.acl</b> &#8212; <span class="desc">ypserv(8) configuration file</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">ypserv.acl</b> file controls which hosts can connect to the <b class="name">YP</b> server.<div class="spacer">
</div>
The format is more complex than the format for <a class="link-man" href="../html5/securenet.html">securenet(5)</a>. The first two words on each line controls if the line will <b class="name">allow</b> or <b class="name">deny</b> access for a <b class="name">host</b>, network <b class="name">(net)</b> or <b class="name">all</b> hosts.<div class="spacer">
</div>
The <b class="name">YP</b> server reads the configuration file and builds a list in memory. This list is processed from the beginning for every incoming request. As soon as a match is found in the list the search terminates and it returns success or failure depending on which of <b class="name">allow</b> or <b class="name">deny</b> was specified. If no match was found in the list success is returned.<div class="spacer">
</div>
If access is denied every call will cause a <b class="name">no such domain</b> error for the caller.<div class="spacer">
</div>
Normally both the local hostname and localhost must be allowed access. Otherwise <b class="name">ypserv</b> might not work correctly.<div class="spacer">
</div>
There is no default name for this file. Start <b class="name">ypserv</b> with <b class="flag">-a</b> <i class="arg">filename</i> to read a file with this format.<div class="spacer">
</div>
The following syntax may be used:<div class="spacer">
</div>
&lt; <b class="cmd">allow|deny</b> &gt; <b class="cmd">host</b> &lt; <b class="cmd">hostname|ip-address</b> &gt;<div class="spacer">
</div>
If <b class="cmd">hostname</b> has more than one IP address, they will all be added to the list.<div class="spacer">
</div>
&lt; <b class="cmd">allow|deny</b> &gt; <b class="cmd">net</b> &lt; <b class="cmd">netname|netnumber</b> &gt; [<span class="opt"><b class="cmd">netmask &lt;netname|netnumber&gt;</b></span>]<div class="spacer">
</div>
If the <b class="cmd">netmask</b> part of the command isn't given then the netmask will be assumed to be a class A, B or C net depending on the net number.<div class="spacer">
</div>
&lt; <b class="cmd">allow|deny</b> &gt; <b class="cmd">all</b><div class="spacer">
</div>
A line containing one of these commands will always match any host.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/yp/ypserv.acl</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
a <a class="link-man" href="../html8/ypserv.html">ypserv(8)</a> configuration file</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> A configuration file might look like the following:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
# This is an example of an access control file to be used by ypserv. 
# 
# This file is parsed line by line. First match will terminate the check 
# of the caller. 
# 
 
########################################################################### 
# This is the commands that will match a single host 
# 
#	allow host &lt;hostname|ip-address&gt; 
#	deny host &lt;hostname|ip-address&gt; 
# 
# To process hostname gethostbyname is called. If the hostname has 
# multiple ip-addresses all will be added (I hope). ip-address 
# processed by inet_aton. 
allow host localhost 
allow host myypserver 
deny host jodie 
 
########################################################################### 
# This is the commands that will match a network 
# 
#	allow net &lt;netname|netnumber&gt; [netmask &lt;netname|netnumber&gt;] 
#	deny net &lt;netname|netnumber&gt; [netmask &lt;netname|netnumber&gt;] 
# 
# To process netname getnetbyname is called, and inet_aton is used for 
# netnumber. inet_aton both access numbers as 255.255.255.0 and 0xffffff00. 
# 
# If netmask isn't given the parser will assume netmask from the first bits 
# of the network number. So if the network is subneted the you have to add 
# the netmask. In my case I've got the network 139.58.253.0 at home so to 
# allow any of my computers to talk with the server I need the following 
# line 
# 
allow net mojathome netmask 255.255.255.0 
 
########################################################################### 
# At last we have a command that will match any caller: 
# 
#	allow all 
#	deny all 
# 
 
# reject all connections 
deny all 
</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/securenet.html">securenet(5)</a>, <a class="link-man" href="../html8/yp.html">yp(8)</a>, <a class="link-man" href="../html8/ypserv.html">ypserv(8)</a></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Mats O Jansson</span> &lt;<a class="link-mail" href="mailto:moj@stacken.kth.se">moj@stacken.kth.se</a>&gt;</div>
</div>
</body>
</html>

