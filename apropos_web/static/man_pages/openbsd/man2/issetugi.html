<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
ISSETUGID(2)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">issetugid</b> &#8212; <span class="desc">is current executable running setuid or setgid</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">unistd.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">issetugid</b>(<i class="farg" style="white-space:nowrap;">void</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">issetugid</b>() function returns 1 if the process was made setuid or setgid as the result of the last or other previous <b class="fname">execve</b>() system calls. Otherwise it returns 0.<div class="spacer">
</div>
This system call exists so that library routines (inside libtermlib, libc, or other libraries) can guarantee safe behavior when used inside setuid or setgid programs. Some library routines may be passed insufficient information and hence not know whether the current program was started setuid or setgid because higher level calling code may have made changes to the uid, euid, gid, or egid. Hence these low-level library routines are unable to determine if they are being run with elevated or normal privileges.<div class="spacer">
</div>
In particular, it is wise to use this call to determine if a pathname returned from a <b class="fname">getenv</b>() call may safely be used to <b class="fname">open</b>() the specified file. Quite often this is not wise because the status of the effective uid is not known.<div class="spacer">
</div>
The <b class="fname">issetugid</b>() system call's result is unaffected by calls to <b class="fname">setuid</b>(), <b class="fname">setgid</b>(), or other such calls. In case of a <b class="fname">fork</b>(), the child process inherits the same status.<div class="spacer">
</div>
The status of <b class="fname">issetugid</b>() is only affected by <b class="fname">execve</b>(). If a child process executes a new executable file, a new issetugid status will be determined. This status is based on the existing process's uid, euid, gid, and egid permissions and on the modes of the executable file. If the new executable file modes are setuid or setgid, or if the existing process is executing the new image with uid != euid or gid != egid, the new process will be considered issetugid.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">issetugid</b>() function is always successful, and no return value is reserved to indicate an error.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/execve.html">execve(2)</a>, <a class="link-man" href="../html2/setegid.html">setegid(2)</a>, <a class="link-man" href="../html2/seteuid.html">seteuid(2)</a>, <a class="link-man" href="../html2/setgid.html">setgid(2)</a>, <a class="link-man" href="../html2/setuid.html">setuid(2)</a>, <a class="link-man" href="../html3/getenv.html">getenv(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">issetugid</b>() function call first appeared in <span class="unix">OpenBSD&#160;2.0</span>.</div>
</div>
</body>
</html>

