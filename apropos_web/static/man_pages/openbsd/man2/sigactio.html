<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SIGACTION(2)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sigaction</b> &#8212; <span class="desc">software signal facilities</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">signal.h</a>&gt;</b><div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
struct sigaction { 
	union {		/* signal handler */ 
		void	(*__sa_handler)(int); 
		void	(*__sa_sigaction)(int, siginfo_t *, void *); 
	} __sigaction_u; 
	sigset_t sa_mask;          /* signal mask to apply */ 
	int	 sa_flags;         /* see signal options below */ 
};</pre>
<div class="spacer">
</div>
<br/>
<b class="macro">#define sa_handler		__sigaction_u.__sa_handler</b><br/>
<b class="macro">#define sa_sigaction	__sigaction_u.__sa_sigaction</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">sigaction</b>(<i class="farg" style="white-space:nowrap;">int sig</i>, <i class="farg" style="white-space:nowrap;">const struct sigaction *act</i>, <i class="farg" style="white-space:nowrap;">struct sigaction *oact</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The system defines a set of signals that may be delivered to a process. Signal delivery resembles the occurrence of a hardware interrupt: the signal is normally blocked from further occurrence, the current process context is saved, and a new one is built. A process may specify a <span class="emph">handler</span> to which a signal is delivered, or specify that a signal is to be <span class="emph">ignored</span>. A process may also specify that a default action is to be taken by the system when a signal occurs. A signal may also be <span class="emph">blocked</span>, in which case its delivery is postponed until it is <span class="emph">unblocked</span>. The action to be taken on delivery is determined at the time of delivery. Normally, signal handlers execute on the current stack of the process. This may be changed, on a per-handler basis, so that signals are taken on a special <span class="emph">signal stack</span>.<div class="spacer">
</div>
Signal routines normally execute with the signal that caused their invocation <span class="emph">blocked</span>, but other signals may yet occur. A global <span class="emph">signal mask</span> defines the set of signals currently blocked from delivery to a process. The signal mask for a process is initialized from that of its parent (normally empty). It may be changed with a <a class="link-man" href="../html2/sigprocmask.html">sigprocmask(2)</a> call, or when a signal is delivered to the process.<div class="spacer">
</div>
When a signal condition arises for a process, the signal is added to a set of signals pending for the process. If the signal is not currently <span class="emph">blocked</span> by the process then it is delivered to the process. Signals may be delivered any time a process enters the operating system (e.g., during a system call, page fault or trap, or clock interrupt). If multiple signals are ready to be delivered at the same time, any signals that could be caused by traps are delivered first. Additional signals may be processed at the same time, with each appearing to interrupt the handlers for the previous signals before their first instructions. The set of pending signals is returned by the <a class="link-man" href="../html2/sigpending.html">sigpending(2)</a> function. When a caught signal is delivered, the current state of the process is saved, a new signal mask is calculated (as described below), and the signal handler is invoked. The call to the handler is arranged so that if the signal handling routine returns normally the process will resume execution in the context from before the signal's delivery. If the process wishes to resume in a different context, then it must arrange to restore the previous context itself.<div class="spacer">
</div>
When a signal is delivered to a process a new signal mask is installed for the duration of the process' signal handler (or until a <a class="link-man" href="../html2/sigprocmask.html">sigprocmask(2)</a> call is made). This mask is formed by taking the union of the current signal mask set, the signal to be delivered, and the signal mask <i class="farg">sa_mask</i> associated with the handler to be invoked, but always excluding <span class="define">SIGKILL</span> and <span class="define">SIGSTOP</span>.<div class="spacer">
</div>
<b class="fname">sigaction</b>() assigns an action for a signal specified by <i class="farg">sig</i>. If <i class="farg">act</i> is non-zero, it specifies an action (<span class="define">SIG_DFL</span>, <span class="define">SIG_IGN</span>, or a handler routine) and mask to be used when delivering the specified signal. If <i class="farg">oact</i> is non-zero, the previous handling information for the signal is returned to the user.<div class="spacer">
</div>
Once a signal handler is installed, it normally remains installed until another <b class="fname">sigaction</b>() call is made, or an <a class="link-man" href="../html2/execve.html">execve(2)</a> is performed. The value of <i class="farg">sa_handler</i> (or, if the <span class="define">SA_SIGINFO</span> flag is set, the value of <i class="farg">sa_sigaction</i> instead) indicates what action should be performed when a signal arrives. A signal-specific default action may be reset by setting <i class="farg">sa_handler</i> to <span class="define">SIG_DFL</span>. Alternately, if the <span class="define">SA_RESETHAND</span> flag is set the default action will be reinstated when the signal is first posted. The defaults are process termination, possibly with core dump; no action; stopping the process; or continuing the process. See the signal list below for each signal's default action. If <i class="farg">sa_handler</i> is <span class="define">SIG_DFL</span>, the default action for the signal is to discard the signal, and if a signal is pending, the pending signal is discarded even if the signal is masked. If <i class="farg">sa_handler</i> is set to <span class="define">SIG_IGN</span>, current and pending instances of the signal are ignored and discarded. If <i class="farg">sig</i> is <span class="define">SIGCHLD</span> and <i class="farg">sa_handler</i> is set to <span class="define">SIG_IGN</span>, the <span class="define">SA_NOCLDWAIT</span> flag (described below) is implied.<div class="spacer">
</div>
Options may be specified by setting <i class="farg">sa_flags</i>. The meaning of the various bits is as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SA_NOCLDSTOP</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
If this bit is set when installing a catching function for the <span class="define">SIGCHLD</span> signal, the <span class="define">SIGCHLD</span> signal will be generated only when a child process exits, not when a child process stops.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SA_NOCLDWAIT</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
If this bit is set when calling <b class="fname">sigaction</b>() for the <span class="define">SIGCHLD</span> signal, the system will not create zombie processes when children of the calling process exit, though existing zombies will remain. If the calling process subsequently issues a <a class="link-man" href="../html2/waitpid.html">waitpid(2)</a> (or equivalent) and there are no previously existing zombie child processes that match the <a class="link-man" href="../html2/waitpid.html">waitpid(2)</a> criteria, it blocks until all of the calling process's child processes that would match terminate, and then returns a value of -1 with <b class="var">errno</b> set to <span class="errno">ECHILD</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SA_ONSTACK</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
If this bit is set, the system will deliver the signal to the process on a <span class="emph">signal stack</span>, specified with <a class="link-man" href="../html2/sigaltstack.html">sigaltstack(2)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SA_NODEFER</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
If this bit is set, further occurrences of the delivered signal are not masked during the execution of the handler.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SA_RESETHAND</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
If this bit is set, the handler is reset back to <span class="define">SIG_DFL</span> at the moment the signal is delivered.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SA_SIGINFO</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
If this bit is set, the 2nd argument of the handler is set to be a pointer to a <span class="emph">siginfo_t</span> structure as described in <b class="includes">&lt;<a class="link-includes">sys/siginfo.h</a>&gt;</b>. It provides much more information about the causes and attributes of the signal that is being delivered.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">SA_RESTART</span></dt>
<dd class="list-tag" style="margin-left: 14.00ex;">
If a signal is caught during the system calls listed below, the call may be forced to terminate with the error <span class="errno">EINTR</span>, the call may return with a data transfer shorter than requested, or the call may be restarted. Restarting of pending calls is requested by setting the <span class="define">SA_RESTART</span> bit in <i class="farg">sa_flags</i>. The affected system calls include <a class="link-man" href="../html2/read.html">read(2)</a>, <a class="link-man" href="../html2/write.html">write(2)</a>, <a class="link-man" href="../html2/sendto.html">sendto(2)</a>, <a class="link-man" href="../html2/recvfrom.html">recvfrom(2)</a>, <a class="link-man" href="../html2/sendmsg.html">sendmsg(2)</a> and <a class="link-man" href="../html2/recvmsg.html">recvmsg(2)</a> on a communications channel or a slow device (such as a terminal, but not a regular file) and during a <a class="link-man" href="../html2/wait.html">wait(2)</a> or <a class="link-man" href="../html2/ioctl.html">ioctl(2)</a>. However, calls that have already committed are not restarted, but instead return a partial success (for example, a short read count).</dd>
</dl>
<div class="spacer">
</div>
After a <a class="link-man" href="../html2/fork.html">fork(2)</a> or <a class="link-man" href="../html2/vfork.html">vfork(2)</a>, all signals, the signal mask, the signal stack, and the restart/interrupt flags are inherited by the child.<div class="spacer">
</div>
<a class="link-man" href="../html2/execve.html">execve(2)</a> reinstates the default action for <span class="define">SIGCHLD</span> and all signals which were caught; all other signals remain ignored. All signals are reset to be caught on the user stack and the signal mask remains the same; signals that restart pending system calls continue to do so.<div class="spacer">
</div>
The following is a list of all signals with names as in the include file <b class="includes">&lt;<a class="link-includes">signal.h</a>&gt;</b>:<table style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-col">
<col style="width: 10.00ex;"/>
<col style="width: 17.00ex;"/>
<col style="min-width: 11.00ex;"/>
<tbody>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Name</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Default Action</span></td>
<td class="list-col" style="margin-top: 1.00em;">
<span class="symb">Description</span></td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGHUP</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
terminal line hangup</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGINT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
interrupt program</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGQUIT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
quit program</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGILL</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
illegal instruction</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTRAP</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
trace trap</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGABRT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
abort(3) call (formerly SIGIOT)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGEMT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
emulate instruction executed</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGFPE</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
floating-point exception</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGKILL</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
kill program (cannot be caught or ignored)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGBUS</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
bus error</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGSEGV</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
segmentation violation</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGSYS</span></td>
<td class="list-col" style="margin-top: 1.00em;">
create core image</td>
<td class="list-col" style="margin-top: 1.00em;">
system call given invalid argument</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGPIPE</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
write on a pipe with no reader</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGALRM</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
real-time timer expired</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTERM</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
software termination signal</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGURG</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
urgent condition present on socket</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGSTOP</span></td>
<td class="list-col" style="margin-top: 1.00em;">
stop process</td>
<td class="list-col" style="margin-top: 1.00em;">
stop (cannot be caught or ignored)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTSTP</span></td>
<td class="list-col" style="margin-top: 1.00em;">
stop process</td>
<td class="list-col" style="margin-top: 1.00em;">
stop signal generated from keyboard</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGCONT</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
continue after stop</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGCHLD</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
child status has changed</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTTIN</span></td>
<td class="list-col" style="margin-top: 1.00em;">
stop process</td>
<td class="list-col" style="margin-top: 1.00em;">
background read attempted from control terminal</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTTOU</span></td>
<td class="list-col" style="margin-top: 1.00em;">
stop process</td>
<td class="list-col" style="margin-top: 1.00em;">
background write attempted to control terminal</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGIO</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
I/O is possible on a descriptor (see <a class="link-man" href="../html2/fcntl.html">fcntl(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGXCPU</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
CPU time limit exceeded (see <a class="link-man" href="../html2/setrlimit.html">setrlimit(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGXFSZ</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
file size limit exceeded (see <a class="link-man" href="../html2/setrlimit.html">setrlimit(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGVTALRM</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
virtual time alarm (see <a class="link-man" href="../html2/setitimer.html">setitimer(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGPROF</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
profiling timer alarm (see <a class="link-man" href="../html2/setitimer.html">setitimer(2)</a>)</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGWINCH</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
window size change</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGINFO</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
status request from keyboard</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGUSR1</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
user defined signal 1</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGUSR2</span></td>
<td class="list-col" style="margin-top: 1.00em;">
terminate process</td>
<td class="list-col" style="margin-top: 1.00em;">
user defined signal 2</td>
</tr>
<tr class="list-col">
<td class="list-col" style="margin-top: 1.00em;">
<span class="define">SIGTHR</span></td>
<td class="list-col" style="margin-top: 1.00em;">
discard signal</td>
<td class="list-col" style="margin-top: 1.00em;">
thread AST</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Upon successful completion, the value&#160;0 is returned; otherwise the value&#160;-1 is returned and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The handler routine can be declared:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
void 
handler(int sig) 
<div class="spacer">
</div>
</pre>
If the <span class="define">SA_SIGINFO</span> option is enabled, the canonical way to declare it is:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
void 
handler(int sig, siginfo_t *sip, void *ctx)</pre>
<div class="spacer">
</div>
Here <i class="farg">sig</i> is the signal number, into which the hardware faults and traps are mapped. If the <span class="define">SA_SIGINFO</span> option is set, <i class="farg">sip</i> is a pointer to a <span class="define">siginfo_t</span> as described in <b class="includes">&lt;<a class="link-includes">sys/siginfo.h</a>&gt;</b>. If <span class="define">SA_SIGINFO</span> is not set, this pointer will be <span class="define">NULL</span> instead. The function specified in <i class="farg">sa_sigaction</i> will be called instead of the function specified by <i class="farg">sa_handler</i> (note that in some implementations these are in fact the same). <i class="farg">ctx</i> may be cast to a pointer to <i class="farg">ucontext_t</i> which can be used to restore the thread's context from before the signal. On <span class="unix">OpenBSD</span>, <i class="farg">ucontext_t</i> is an alias for the <i class="farg">sigcontext</i> structure defined in <b class="includes">&lt;<a class="link-includes">signal.h</a>&gt;</b>. The contents of this structure are machine-dependent.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">sigaction</b>() will fail and no new signal handler will be installed if one of the following occurs:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EFAULT</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Either <i class="farg">act</i> or <i class="farg">oact</i> points to memory that is not a valid part of the process address space.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">sig</i> is not a valid signal number.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
An attempt is made to ignore or supply a handler for <span class="define">SIGKILL</span> or <span class="define">SIGSTOP</span>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/kill.html">kill(1)</a>, <a class="link-man" href="../html2/kill.html">kill(2)</a>, <a class="link-man" href="../html2/ptrace.html">ptrace(2)</a>, <a class="link-man" href="../html2/sigaltstack.html">sigaltstack(2)</a>, <a class="link-man" href="../html2/sigprocmask.html">sigprocmask(2)</a>, <a class="link-man" href="../html2/sigsuspend.html">sigsuspend(2)</a>, <a class="link-man" href="../html2/wait.html">wait(2)</a>, <a class="link-man" href="../html3/setjmp.html">setjmp(3)</a>, <a class="link-man" href="../html3/sigblock.html">sigblock(3)</a>, <a class="link-man" href="../html3/sigpause.html">sigpause(3)</a>, <a class="link-man" href="../html3/sigsetops.html">sigsetops(3)</a>, <a class="link-man" href="../html3/sigvec.html">sigvec(3)</a>, <a class="link-man" href="../html4/tty.html">tty(4)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">sigaction</b>() function conforms to IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;).<div class="spacer">
</div>
The <span class="define">SA_ONSTACK</span> flag and the <span class="define">SIGPROF</span>, <span class="define">SIGSYS</span>, <span class="define">SIGTRAP</span>, <span class="define">SIGVTALRM</span>, <span class="define">SIGXCPU</span>, and <span class="define">SIGXFSZ</span> signals conform to the X/Open System Interfaces option of that standard. The standard marks <span class="define">SIGPROF</span> as obsolescent. The signals <span class="define">SIGEMT</span>, <span class="define">SIGINFO</span>, <span class="define">SIGIO</span>, and <span class="define">SIGWINCH</span> are Berkeley extensions. These signals are available on most <span class="unix">BSD</span>-derived systems. The <span class="define">SIGTHR</span> signal is specific to <span class="unix">OpenBSD</span> and is part of the implementation of thread cancellation; <i class="farg">sigaction</i> and other signal interfaces may reject attempts to use or alter the handling of <span class="define">SIGTHR</span>.<div class="spacer">
</div>
The following functions are either reentrant or not interruptible by signals and are async-signal-safe. Therefore applications may invoke them, without restriction, from signal-catching functions:<div class="spacer">
</div>
Standard Interfaces:<div class="spacer">
</div>
<b class="fname">_exit</b>(), <b class="fname">_Exit</b>(), <b class="fname">abort</b>(), <b class="fname">accept</b>(), <b class="fname">access</b>(), <b class="fname">alarm</b>(), <b class="fname">bind</b>(), <b class="fname">cfgetispeed</b>(), <b class="fname">cfgetospeed</b>(), <b class="fname">cfsetispeed</b>(), <b class="fname">cfsetospeed</b>(), <b class="fname">chdir</b>(), <b class="fname">chmod</b>(), <b class="fname">chown</b>(), <b class="fname">clock_gettime</b>(), <b class="fname">close</b>(), <b class="fname">connect</b>(), <b class="fname">creat</b>(), <b class="fname">dup</b>(), <b class="fname">dup2</b>(), <b class="fname">execl</b>(), <b class="fname">execle</b>(), <b class="fname">execv</b>(), <b class="fname">execve</b>(), <b class="fname">faccessat</b>(), <b class="fname">fchdir</b>(), <b class="fname">fchmod</b>(), <b class="fname">fchmodat</b>(), <b class="fname">fchown</b>(), <b class="fname">fchownat</b>(), <b class="fname">fcntl</b>(), <b class="fname">fdatasync</b>(), <b class="fname">fork</b>(), <b class="fname">fpathconf</b>(), <b class="fname">fstat</b>(), <b class="fname">fstatat</b>(), <b class="fname">fsync</b>(), <b class="fname">ftruncate</b>(), <b class="fname">futimens</b>(), <b class="fname">futimes</b>(), <b class="fname">getegid</b>(), <b class="fname">geteuid</b>(), <b class="fname">getgid</b>(), <b class="fname">getgroups</b>(), <b class="fname">getpeername</b>(), <b class="fname">getpgrp</b>(), <b class="fname">getpid</b>(), <b class="fname">getppid</b>(), <b class="fname">getsockname</b>(), <b class="fname">getsockopt</b>(), <b class="fname">getuid</b>(), <b class="fname">kill</b>(), <b class="fname">link</b>(), <b class="fname">linkat</b>(), <b class="fname">listen</b>(), <b class="fname">lseek</b>(), <b class="fname">lstat</b>(), <b class="fname">mkdir</b>(), <b class="fname">mkdirat</b>(), <b class="fname">mkfifo</b>(), <b class="fname">mkfifoat</b>(), <b class="fname">mknod</b>(), <b class="fname">mknodat</b>(), <b class="fname">open</b>(), <b class="fname">openat</b>(), <b class="fname">pathconf</b>(), <b class="fname">pause</b>(), <b class="fname">pipe</b>(), <b class="fname">poll</b>(), <b class="fname">pselect</b>(), <b class="fname">pthread_sigmask</b>(), <b class="fname">raise</b>(), <b class="fname">read</b>(), <b class="fname">readlink</b>(), <b class="fname">readlinkat</b>(), <b class="fname">recv</b>(), <b class="fname">recvfrom</b>(), <b class="fname">recvmsg</b>(), <b class="fname">rename</b>(), <b class="fname">renameat</b>(), <b class="fname">rmdir</b>(), <b class="fname">select</b>(), <b class="fname">send</b>(), <b class="fname">sendmsg</b>(), <b class="fname">sendto</b>(), <b class="fname">setgid</b>(), <b class="fname">setpgid</b>(), <b class="fname">setsid</b>(), <b class="fname">setsockopt</b>(), <b class="fname">setuid</b>(), <b class="fname">shutdown</b>(), <b class="fname">sigaction</b>(), <b class="fname">sigaddset</b>(), <b class="fname">sigdelset</b>(), <b class="fname">sigemptyset</b>(), <b class="fname">sigfillset</b>(), <b class="fname">sigismember</b>(), <b class="fname">signal</b>(), <b class="fname">sigpause</b>(), <b class="fname">sigpending</b>(), <b class="fname">sigprocmask</b>(), <b class="fname">sigsuspend</b>(), <b class="fname">sleep</b>(), <b class="fname">sockatmark</b>(), <b class="fname">socket</b>(), <b class="fname">socketpair</b>(), <b class="fname">stat</b>(), <b class="fname">strcat</b>(), <b class="fname">strcpy</b>(), <b class="fname">strncat</b>(), <b class="fname">strncpy</b>(), <b class="fname">symlink</b>(), <b class="fname">symlinkat</b>(), <b class="fname">sysconf</b>(), <b class="fname">tcdrain</b>(), <b class="fname">tcflow</b>(), <b class="fname">tcflush</b>(), <b class="fname">tcgetattr</b>(), <b class="fname">tcgetpgrp</b>(), <b class="fname">tcsendbreak</b>(), <b class="fname">tcsetattr</b>(), <b class="fname">tcsetpgrp</b>(), <b class="fname">time</b>(), <b class="fname">times</b>(), <b class="fname">umask</b>(), <b class="fname">uname</b>(), <b class="fname">unlink</b>(), <b class="fname">unlinkat</b>(), <b class="fname">utime</b>(), <b class="fname">utimensat</b>(), <b class="fname">utimes</b>(), <b class="fname">wait</b>(), <b class="fname">waitpid</b>(), <b class="fname">write</b>(), and perhaps some others.<div class="spacer">
</div>
Extension Interfaces:<div class="spacer">
</div>
<b class="fname">accept4</b>(), <b class="fname">chflags</b>(), <b class="fname">chflagsat</b>(), <b class="fname">dup3</b>(), <b class="fname">fchflags</b>(), <b class="fname">getentropy</b>(), <b class="fname">getresgid</b>(), <b class="fname">getresuid</b>(), <b class="fname">pipe2</b>(), <b class="fname">ppoll</b>(), <b class="fname">sendsyslog</b>(), <b class="fname">setresgid</b>(), <b class="fname">setresuid</b>(), <b class="fname">strlcat</b>(), <b class="fname">strlcpy</b>(), <b class="fname">wait3</b>(), <b class="fname">wait4</b>().<div class="spacer">
</div>
In addition, access and updates to <b class="var">errno</b> are guaranteed to be safe. Most functions not in the above lists are considered to be unsafe with respect to signals. That is to say, the behaviour of such functions when called from a signal handler is undefined. In general though, signal handlers should do little more than set a flag, ideally of type volatile sig_atomic_t; most other actions are not safe.<div class="spacer">
</div>
Additionally, it is advised that signal handlers guard against modification of the external symbol <b class="var">errno</b> by the above functions, saving it at entry and restoring it on return, thus:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
void 
handler(int sig) 
{ 
	int save_errno = errno; 
 
	... 
	errno = save_errno; 
}</pre>
<div class="spacer">
</div>
The functions below are async-signal-safe in <span class="unix">OpenBSD</span> except when used with floating-point arguments or directives, but are probably unsafe on other systems:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">dprintf</b>()</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Safe.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">vdprintf</b>()</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Safe.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">snprintf</b>()</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Safe.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">vsnprintf</b>()</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Safe.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">syslog_r</b>()</dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Safe if the <b class="var">syslog_data</b> struct is initialized as a local variable.</dd>
</dl>
</div>
</div>
</body>
</html>

