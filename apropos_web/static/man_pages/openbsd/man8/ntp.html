<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
NTPD(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ntpd</b> &#8212; <span class="desc">Network Time Protocol daemon</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 4.00ex;"/>
<col/>
<tbody>
<tr>
<td>
ntpd</td>
<td>
[<span class="opt"><b class="flag">-dnSsv</b></span>] [<span class="opt"><b class="flag">-f</b>&#160;<i class="arg">file</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">ntpd</b> daemon synchronizes the local clock to one or more remote NTP servers or local timedelta sensors. <b class="name">ntpd</b> can also act as an NTP server itself, redistributing the local time. It implements the Simple Network Time Protocol version 4, as described in RFC 5905, and the Network Time Protocol version 3, as described in RFC 1305. Time can also be fetched from TLS HTTPS servers to reduce the impact of unauthenticated NTP man-in-the-middle attacks.<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Do not daemonize. If this option is specified, <b class="name">ntpd</b> will run in the foreground and log to <span class="emph">stderr</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Use <i class="arg">file</i> as the configuration file, instead of the default <i class="file">/etc/ntpd.conf</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Configtest mode. Only check the configuration file for validity.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-S</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Do not set the time immediately at startup. This is the default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Try to set the time immediately at startup, as opposed to slowly adjusting the clock. <b class="name">ntpd</b> will stay in the foreground for up to 15 seconds waiting for one of the configured NTP servers to reply.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
This option allows <b class="name">ntpd</b> to send DEBUG priority messages to syslog.</dd>
</dl>
<div class="spacer">
</div>
<b class="name">ntpd</b> uses the <a class="link-man" href="../html2/adjtime.html">adjtime(2)</a> system call to correct the local system time without causing time jumps. Adjustments of 32ms and greater are logged using <a class="link-man" href="../html3/syslog.html">syslog(3)</a>. The threshold value is chosen to avoid having local clock drift thrash the log files. Should <b class="name">ntpd</b> be started with the <b class="flag">-d</b> or <b class="flag">-v</b> option, all calls to <a class="link-man" href="../html2/adjtime.html">adjtime(2)</a> will be logged.<div class="spacer">
</div>
After the local clock is synchronized, <b class="name">ntpd</b> adjusts the clock frequency using the <a class="link-man" href="../html2/adjfreq.html">adjfreq(2)</a> system call to compensate for systematic drift.<div class="spacer">
</div>
<b class="name">ntpd</b> is usually started at boot time, and can be enabled by setting <b class="var">ntpd_flags</b> in <i class="file">/etc/rc.conf.local</i>. See <a class="link-man" href="../html8/rc.html">rc(8)</a> and <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a> for more information on the boot process and enabling daemons.<div class="spacer">
</div>
When <b class="name">ntpd</b> starts up, it reads settings from its configuration file, typically <a class="link-man" href="../html5/ntpd.conf.html">ntpd.conf(5)</a>, and its initial clock drift from <i class="file">/var/db/ntpd.drift</i>. Clock drift is periodically written to the drift file thereafter.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/ntpd.conf</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Default configuration file.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/db/ntpd.drift</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Drift file.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/run/ntpd.sock</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Socket file for communication with <a class="link-man" href="../html8/ntpctl.html">ntpctl(8)</a>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/date.html">date(1)</a>, <a class="link-man" href="../html2/adjfreq.html">adjfreq(2)</a>, <a class="link-man" href="../html2/adjtime.html">adjtime(2)</a>, <a class="link-man" href="../html5/ntpd.conf.html">ntpd.conf(5)</a>, <a class="link-man" href="../html8/ntpctl.html">ntpctl(8)</a>, <a class="link-man" href="../html8/rc.html">rc(8)</a>, <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a>, <a class="link-man" href="../html8/rdate.html">rdate(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <span class="ref"><span class="ref-auth">David L. Mills</span>, <span class="ref-title">Network Time Protocol (Version 3): Specification, Implementation and Analysis</span>, <span class="ref-rep">RFC 1305</span>, <span class="ref-date">March 1992</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">David L. Mills</span>, <span class="ref-auth">Jim Martin</span>, <span class="ref-auth">Jack Burbank</span>, and <span class="ref-auth">William Kasch</span>, <span class="ref-title">Network Time Protocol Version 4: Protocol and Algorithms Specification</span>, <span class="ref-rep">RFC 5905</span>, <span class="ref-date">June 2010</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">ntpd</b> program first appeared in <span class="unix">OpenBSD&#160;3.6</span>.</div>
</div>
</body>
</html>

