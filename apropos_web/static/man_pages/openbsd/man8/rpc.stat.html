<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
RPC.STATD(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rpc.statd</b> &#8212; <span class="desc">host status monitoring daemon</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 9.00ex;"/>
<col/>
<tbody>
<tr>
<td>
rpc.statd</td>
<td>
[<span class="opt"><b class="flag">-d</b></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">rpc.statd</b> is a daemon which co-operates with rpc.statd daemons on other hosts to provide a status monitoring service. The daemon accepts requests from programs running on the local host (typically, <a class="link-man" href="../html8/rpc.lockd.html">rpc.lockd(8)</a>, the NFS file locking daemon) to monitor the status of specified hosts. If a monitored host crashes and restarts, the remote daemon will notify the local daemon, which in turn will notify the local program(s) which requested the monitoring service. Conversely if this host crashes and restarts when <b class="name">rpc.statd</b> restarts, it will notify all of the hosts which were being monitored at the time of the crash.<div class="spacer">
</div>
The options available are:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Causes debugging information to be written to <a class="link-man" href="../html3/syslog.html">syslog(3)</a>, recording all RPC transactions to the daemon. These messages are logged with level <span class="define">LOG_DEBUG</span> and facility <span class="define">LOG_DAEMON</span>. Error conditions are logged irrespective of this option, using level <span class="define">LOG_ERR</span>.</dd>
</dl>
<div class="spacer">
</div>
The <b class="name">rpc.statd</b> daemon must NOT be invoked by <a class="link-man" href="../html8/inetd.html">inetd(8)</a> because the protocol assumes that the daemon will run from system start time. Instead, it should be configured in <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a> to run at system startup.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/include/rpcsvc/sm_inter.x</i></dt>
<dd class="list-tag" style="margin-left: 30.00ex;">
RPC protocol specification used by local applications to register monitoring requests.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/db/statd.status</i></dt>
<dd class="list-tag" style="margin-left: 30.00ex;">
Non-volatile record of currently monitored hosts.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/syslog.html">syslog(3)</a>, <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a>, <a class="link-man" href="../html8/rpc.lockd.html">rpc.lockd(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> This implementation is based on the specification in the X/Open CAE Specification C218, &quot;Protocols for X/Open PC Interworking: XNFS, Issue 4&quot;, ISBN 1 872630 66 9.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A version of <b class="name">rpc.statd</b> appeared in SunOS 4.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> There is no means for the daemon to tell when a monitored host has disappeared permanently (e.g. catastrophic hardware failure), as opposed to transient failure of the host or an intermediate router. At present, it will retry notification attempts at frequent intervals for 10 minutes, then hourly, and finally gives up after 24 hours.<div class="spacer">
</div>
The protocol requires that symmetric monitor requests are made to both the local and remote daemon in order to establish a monitored relationship. This is convenient for the NFS locking protocol, but probably reduces the usefulness of the monitoring system for other applications.<div class="spacer">
</div>
The current implementation uses more than 1Kbyte per monitored host in the status file (and also in VM). This may be inefficient for NFS servers with large numbers of clients.</div>
</div>
</body>
</html>

