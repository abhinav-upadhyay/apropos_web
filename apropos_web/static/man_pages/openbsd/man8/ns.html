<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
NSD(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
NSD(8)</td>
<td class="head-vol">
NSD 4.1.7</td>
<td class="head-rtitle">
NSD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> <b>nsd</b> - Name Server Daemon (NSD) version 4.1.7.</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>nsd</b> [<b>-4</b>] [<b>-6</b>] [<b>-a</b> <i>ip-address[@port]</i>] [<b>-c</b> <i>configfile</i>] [<b>-d</b>] [<b>-f</b> <i>database</i>] [<b>-h</b>] [<b>-i</b> <i>identity</i>] [<b>-I</b> <i>nsid</i>] [<b>-l</b> <i>logfile</i>] [<b>-N</b> <i>server-count</i>] [<b>-n</b> <i>noncurrent-tcp-count</i>] [<b>-P</b> <i>pidfile</i>] [<b>-p</b> <i>port</i>] [<b>-s</b> <i>seconds</i>] [<b>-t</b> <i>chrootdir</i>] [<b>-u</b> <i>username</i>] [<b>-V</b> <i>level</i>] [<b>-v</b>]</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>NSD</b> is a complete implementation of an authoritative DNS nameserver. Upon startup, <b>NSD</b> will read the database specified with <b>-f</b> <i>database</i> argument and put itself into background and answers queries on port 53 or a different port specified with <b>-p</b> <i>port</i> option. The <i>database</i> is created if it does not exist. By default, <b>NSD</b> will bind to all local interfaces available. Use the <b>-a</b> <i>ip-address[@port]</i> option to specify a single particular interface address to be bound. If this option is given more than once, <b>NSD</b> will bind its UDP and TCP sockets to all the specified ip-addresses separately. If IPv6 is enabled when <b>NSD</b> is compiled an IPv6 address can also be specified.</div>
<div class="section">
<h1>OPTIONS</h1> All the options can be specified in the configfile ( <b>-c</b> argument), except for the <b>-v</b> and <b>-h</b> options. If options are specified on the commandline, the options on the commandline take precedence over the options in the configfile.<div class="spacer">
</div>
Normally <b>NSD</b> should be started with the `nsd-control(8) start` command invoked from a <i>/etc/rc.d/nsd.sh</i> script or similar at the operating system startup.<dl>
<dt>
<b>-4</b></dt>
<dd>
Only listen to IPv4 connections.</dd>
</dl>
<dl>
<dt>
<b>-6</b></dt>
<dd>
Only listen to IPv6 connections.</dd>
</dl>
<dl>
<dt>
<b>-a<i> ip-address[@port]</i></b></dt>
<dd>
Listen to the specified <i>ip-address</i>. The <i>ip-address</i> must be specified in numeric format (using the standard IPv4 or IPv6 notation). Optionally, a port number can be given. This flag can be specified multiple times to listen to multiple IP addresses. If this flag is not specified, <b>NSD</b> listens to the wildcard interface.</dd>
</dl>
<dl>
<dt>
<b>-c<i> configfile</i></b></dt>
<dd>
Read specified <i>configfile</i> instead of the default <i>/var/nsd/etc/nsd.conf</i>. For format description see nsd.conf(5).</dd>
</dl>
<dl>
<dt>
<b>-d</b></dt>
<dd>
Do not fork, stay in the foreground.</dd>
</dl>
<dl>
<dt>
<b>-f<i> database</i></b></dt>
<dd>
Use the specified <i>database</i> instead of the default of <i>.</i> If a <b>zonesdir:</b> is specified in the config file this path can be relative to that directory.</dd>
</dl>
<dl>
<dt>
<b>-h</b></dt>
<dd>
Print help information and exit.</dd>
</dl>
<dl>
<dt>
<b>-i<i> identity</i></b></dt>
<dd>
Return the specified <i>identity</i> when asked for <i>CH TXT ID.SERVER</i> (This option is used to determine which server is answering the queries when they are anycast). The default is the name returned by gethostname(3).</dd>
</dl>
<dl>
<dt>
<b>-I<i> nsid</i></b></dt>
<dd>
Add the specified <i>nsid</i> to the EDNS section of the answer when queried with an NSID EDNS enabled packet.  As a sequence of hex characters or with ascii_ prefix and then an ascii string.</dd>
</dl>
<dl>
<dt>
<b>-l<i> logfile</i></b></dt>
<dd>
Log messages to the specified <i>logfile</i>. The default is to log to stderr and syslog. If a <b>zonesdir:</b> is specified in the config file this path can be relative to that directory.</dd>
</dl>
<dl>
<dt>
<b>-N<i> count</i></b></dt>
<dd>
Start <i>count</i> <b>NSD</b> servers. The default is 1. Starting more than a single server is only useful on machines with multiple CPUs and/or network adapters.</dd>
</dl>
<dl>
<dt>
<b>-n<i> number</i></b></dt>
<dd>
The maximum <i>number</i> of concurrent TCP connection that can be handled by each server. The default is 100.</dd>
</dl>
<dl>
<dt>
<b>-P<i> pidfile</i></b></dt>
<dd>
Use the specified <i>pidfile</i> instead of the platform specific default, which is mostly <i>/var/nsd/run/nsd.pid</i>. If a <b>zonesdir:</b> is specified in the config file, this path can be relative to that directory.</dd>
</dl>
<dl>
<dt>
<b>-p<i> port</i></b></dt>
<dd>
Answer the queries on the specified <i>port</i>. Normally this is port 53.</dd>
</dl>
<dl>
<dt>
<b>-s<i> seconds</i></b></dt>
<dd>
Produce statistics dump every <i>seconds</i> seconds. This is equal to sending <i>SIGUSR1</i> to the daemon periodically.</dd>
</dl>
<dl>
<dt>
<b>-t<i> chroot</i></b></dt>
<dd>
Specifies a directory to <i>chroot</i> to upon startup. This option requires you to ensure that appropriate syslogd(8) socket (e.g. <i>chrootdir</i> /dev/log) is available, otherwise <b>NSD</b> won't produce any log output.</dd>
</dl>
<dl>
<dt>
<b>-u<i> username</i></b></dt>
<dd>
Drop user and group privileges to those of <i>username</i> after binding the socket. The <i>username</i> must be one of: username, id, or id.gid. For example: nsd, 80, or 80.80.</dd>
</dl>
<dl>
<dt>
<b>-V<i> level</i></b></dt>
<dd>
This value specifies the verbosity level for (non-debug) logging. Default is 0.</dd>
</dl>
<dl>
<dt>
<b>-v</b></dt>
<dd>
Print the version number of <b>NSD</b> to standard error and exit.</dd>
</dl>
<div class="spacer">
</div>
<b>NSD</b> reacts to the following signals:<dl>
<dt>
SIGTERM</dt>
<dd>
Stop answering queries, shutdown, and exit normally.</dd>
</dl>
<dl>
<dt>
SIGHUP</dt>
<dd>
Reload.  Scans zone files and if changed (mtime) reads them in.  Also reopens the logfile (assists logrotation).</dd>
</dl>
<dl>
<dt>
SIGUSR1</dt>
<dd>
Dump BIND8-style statistics into the log. Ignored otherwise.</dd>
</dl>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<div style="height: 1.00em;">
&#160;</div>
default</dt>
<dd>
<b>NSD</b> database</dd>
</dl>
<dl>
<dt>
/var/nsd/run/nsd.pid</dt>
<dd>
the process id of the name server.</dd>
</dl>
<dl>
<dt>
/var/nsd/etc/nsd.conf</dt>
<dd>
default <b>NSD</b> configuration file</dd>
</dl>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1> <b>NSD</b> will log all the problems via the standard syslog(8) <i>daemon</i> facility, unless the <b>-d</b> option is specified.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>nsd.conf</i>(5), <i>nsd-checkconf</i>(8), <i>nsd-control</i>(8)</div>
<div class="section">
<h1>AUTHORS</h1> <b>NSD</b> was written by NLnet Labs and RIPE NCC joint team. Please see CREDITS file in the distribution for further details.</div>
<table class="foot">
<tr>
<td class="foot-date">
December 10, 2015</td>
<td class="foot-os">
NLnet Labs</td>
</tr>
</table>
</div>
</body>
</html>

