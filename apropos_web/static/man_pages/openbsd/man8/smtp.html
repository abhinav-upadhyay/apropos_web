<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SMTPD(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">smtpd</b> &#8212; <span class="desc">Simple Mail Transfer Protocol daemon</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;"/>
<col/>
<tbody>
<tr>
<td>
smtpd</td>
<td>
[<span class="opt"><b class="flag">-dhnv</b></span>] [<span class="opt"><b class="flag">-D</b> <i class="arg">macro</i>=<i class="arg">value</i></span>] [<span class="opt"><b class="flag">-f</b> <i class="arg">file</i></span>] [<span class="opt"><b class="flag">-P</b> <i class="arg">system</i></span>] [<span class="opt"><b class="flag">-T</b> <i class="arg">trace</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">smtpd</b> is a Simple Mail Transfer Protocol (SMTP) daemon which can be used as a machine's primary mail system. <b class="name">smtpd</b> can listen on a network interface and handle SMTP transactions; it can also be fed messages through the standard <a class="link-man" href="../html8/sendmail.html">sendmail(8)</a> interface. It can relay messages through remote mail transfer agents or store them locally using either the mbox or maildir format. This implementation supports SMTP as defined by RFC 5321 as well as several extensions. A running <b class="name">smtpd</b> can be controlled through <a class="link-man" href="../html8/smtpctl.html">smtpctl(8)</a>.<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-D</b> <i class="arg">macro</i>=<i class="arg">value</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Define <i class="arg">macro</i> to be set to <i class="arg">value</i> on the command line. Overrides the definition of <i class="arg">macro</i> in the configuration file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not daemonize. If this option is specified, <b class="name">smtpd</b> will run in the foreground and log to <span class="emph">stderr</span>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify an alternative configuration file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-h</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Display version and usage.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Configtest mode. Only check the configuration file for validity.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-P</b> <i class="arg">system</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Pause a specific subsystem at startup. Normal operation can be resumed using <a class="link-man" href="../html8/smtpctl.html">smtpctl(8)</a>. This option can be used multiple times. The accepted values are:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
mda</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Do not schedule local deliveries.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
mta</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Do not schedule remote transfers.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
smtp</dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
Do not listen on SMTP sockets.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-T</b> <i class="arg">trace</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enables real-time tracing at startup. Normal operation can be resumed using <a class="link-man" href="../html8/smtpctl.html">smtpctl(8)</a>. This option can be used multiple times. The accepted values are:<div class="spacer">
</div>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
imsg</li>
<li class="list-bul" style="margin-top: 0.00em;">
io</li>
<li class="list-bul" style="margin-top: 0.00em;">
smtp (incoming sessions)</li>
<li class="list-bul" style="margin-top: 0.00em;">
filters</li>
<li class="list-bul" style="margin-top: 0.00em;">
transfer (outgoing sessions)</li>
<li class="list-bul" style="margin-top: 0.00em;">
bounce</li>
<li class="list-bul" style="margin-top: 0.00em;">
scheduler</li>
<li class="list-bul" style="margin-top: 0.00em;">
expand (aliases/virtual/forward expansion)</li>
<li class="list-bul" style="margin-top: 0.00em;">
lookup (user/credentials lookups)</li>
<li class="list-bul" style="margin-top: 0.00em;">
stat</li>
<li class="list-bul" style="margin-top: 0.00em;">
rules (matched by incoming sessions)</li>
<li class="list-bul" style="margin-top: 0.00em;">
mproc</li>
<li class="list-bul" style="margin-top: 0.00em;">
all</li>
</ul>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Produce more verbose output.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/mail/mailname</i></dt>
<dd class="list-tag" style="margin-left: 23.00ex;">
Alternate server name to use.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/mail/smtpd.conf</i></dt>
<dd class="list-tag" style="margin-left: 23.00ex;">
Default <b class="name">smtpd</b> configuration file.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/run/smtpd.sock</i></dt>
<dd class="list-tag" style="margin-left: 23.00ex;">
<span class="unix">UNIX</span>-domain socket used for communication with <a class="link-man" href="../html8/smtpctl.html">smtpctl(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/spool/smtpd/</i></dt>
<dd class="list-tag" style="margin-left: 23.00ex;">
Spool directories for mail during processing.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/smtpd.conf.html">smtpd.conf(5)</a>, <a class="link-man" href="../html8/mailwrapper.html">mailwrapper(8)</a>, <a class="link-man" href="../html8/smtpctl.html">smtpctl(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <span class="ref"><span class="ref-auth">J. Klensin</span>, <span class="ref-title">Simple Mail Transfer Protocol</span>, <span class="ref-rep">RFC 5321</span>, <span class="ref-date">October 2008</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">smtpd</b> program first appeared in <span class="unix">OpenBSD&#160;4.6</span>.</div>
</div>
</body>
</html>

