<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SAVECORE(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">savecore</b> &#8212; <span class="desc">save a core dump of the operating system</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;"/>
<col/>
<tbody>
<tr>
<td>
savecore</td>
<td>
[<span class="opt"><b class="flag">-cfvz</b></span>] [<span class="opt"><b class="flag">-N</b> <i class="arg">system</i></span>] <i class="arg">directory</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">savecore</b> copies the currently running kernel and its associated core dump into <i class="farg">directory</i>, and enters a reboot message and information about the core dump into the system log.<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Clears the dump, so that future invocations of <b class="name">savecore</b> will ignore it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Forces a dump to be taken even if the dump doesn't appear correct or there is insufficient disk space.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-N</b> <i class="arg">system</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">system</i> as the kernel instead of the default <i class="file">/bsd</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prints out some additional debugging information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-z</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Compresses the core dump and kernel (see <a class="link-man" href="../html1/compress.html">compress(1)</a>).</dd>
</dl>
<div class="spacer">
</div>
<b class="name">savecore</b> checks the core dump in various ways to make sure that it is current and that it corresponds to the currently running system. If it passes these checks, it saves the core image in <i class="arg">directory</i><i class="file">/bsd.#.core</i> and the system in <i class="arg">directory</i><i class="file">/bsd.#</i> (or in <i class="arg">directory</i><i class="file">/bsd.#.core.Z</i> and <i class="arg">directory</i><i class="file">/bsd.#.Z</i>, respectively, if the <b class="flag">-z</b> option is used). The &#8220;#&#8221; is the number from the first line of the file <i class="arg">directory</i><i class="file">/bounds</i>, and it is incremented and stored back into the file each time <b class="name">savecore</b> successfully runs.<div class="spacer">
</div>
<b class="name">savecore</b> also checks the available disk space before attempting to make the copies. If there is insufficient disk space in the filesystem containing <i class="arg">directory</i>, or if the file <i class="arg">directory</i><i class="file">/minfree</i> exists and the number of free kilobytes (for non-superusers) in the filesystem after the copies were made would be less than the number in the first line of this file, the copies are not attempted.<div class="spacer">
</div>
If <b class="name">savecore</b> successfully copies the kernel and the core dump, the core dump is cleared so that future invocations of <b class="name">savecore</b> will ignore it.<div class="spacer">
</div>
<b class="name">savecore</b> is meant to be called near the end of the initialization file <i class="file">/etc/rc</i> (see <a class="link-man" href="../html8/rc.html">rc(8)</a>).</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/bsd</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
current kernel</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/compress.html">compress(1)</a>, <a class="link-man" href="../html8/crash.html">crash(8)</a>, <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">savecore</b> command appeared in <span class="unix">4.1BSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The minfree code does not consider the effect of compression.</div>
</div>
</body>
</html>

