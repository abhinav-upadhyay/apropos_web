<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
MOUNT_NFS(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">mount_nfs</b> &#8212; <span class="desc">mount NFS file systems</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 9.00ex;"/>
<col/>
<tbody>
<tr>
<td>
mount_nfs</td>
<td>
[<span class="opt"><b class="flag">-23bcdilsTU</b></span>] [<span class="opt"><b class="flag">-a</b>&#160;<i class="arg">maxreadahead</i></span>] [<span class="opt"><b class="flag">-g</b>&#160;<i class="arg">maxgroups</i></span>] [<span class="opt"><b class="flag">-I</b>&#160;<i class="arg">readdirsize</i></span>] [<span class="opt"><b class="flag">-o</b>&#160;<i class="arg">options</i></span>] [<span class="opt"><b class="flag">-R</b>&#160;<i class="arg">retrycnt</i></span>] [<span class="opt"><b class="flag">-r</b>&#160;<i class="arg">readsize</i></span>] [<span class="opt"><b class="flag">-t</b>&#160;<i class="arg">timeout</i></span>] [<span class="opt"><b class="flag">-w</b>&#160;<i class="arg">writesize</i></span>] [<span class="opt"><b class="flag">-x</b>&#160;<i class="arg">retrans</i></span>]&#160;<i class="arg">rhost</i>:<i class="arg">path node</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">mount_nfs</b> command calls the <a class="link-man" href="../html2/mount.html">mount(2)</a> system call to prepare and graft a remote NFS file system (rhost:path) on to the file system tree at the point <i class="arg">node</i>. This command is normally executed by <a class="link-man" href="../html8/mount.html">mount(8)</a>. It implements the mount protocol as described in RFC 1094, Appendix A and <span class="ref-title">NFS: Network File System Version 3 Protocol Specification,</span> Appendix I.<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-2</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the NFS Version 2 protocol.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-3</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use the NFS Version 3 protocol. The default is to try version 3 first, and fall back to version 2 if the mount fails.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-a</b> <i class="arg">maxreadahead</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the read-ahead count to the specified value. This may be in the range of 0-4, and determines how many blocks will be read ahead when a large file is being read sequentially. Trying a value greater than 1 for this is suggested for mounts with a large bandwidth-delay product.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If an initial attempt to contact the server fails, fork off a child to keep trying the mount in the background. Useful for <a class="link-man" href="../html5/fstab.html">fstab(5)</a>, where the file system mount is not critical to multiuser operation.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
For UDP mount points, do not do a <a class="link-man" href="../html2/connect.html">connect(2)</a>. This must be used for servers that do not reply to requests from the standard NFS port number 2049. It may also be required for servers with more than one IP address (only necessary if replies come from an address other than the one specified in the mount request).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Turn off the dynamic retransmit timeout estimator. This may be useful for UDP mounts that exhibit high retry rates, since it is possible that the dynamically estimated timeout interval is too short.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-g</b> <i class="arg">maxgroups</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the maximum size of the group list for the credentials to the specified value. This should be used for mounts on old servers that cannot handle a group list size of 16, as specified in RFC 1057. Try 8, if users in a lot of groups cannot get a response from the mount point.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-I</b> <i class="arg">readdirsize</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the readdir read size to the specified value. The value should normally be a multiple of <span class="define">DIRBLKSIZ</span> that is less than or equal to the read size for the mount.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-i</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Make the mount interruptible, which implies that file system calls that are delayed due to an unresponsive server will fail with EINTR when a termination signal is posted for the process.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Used with NFSV3 to specify that the &#8220;readdir plus&#8221; RPC should be used. This option reduces RPC traffic for cases such as &#8220;ls -l&#8221;, but tends to flood the attribute and name caches with prefetched entries. Try this option and see whether performance improves or degrades. Probably most useful for client to server network interconnects with a large bandwidth-delay product.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b> <i class="arg">options</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Options are specified with a <b class="flag">-o</b> flag followed by a comma separated string of options. The prefix &#8220;no&#8221; may be added to invert the behavior of default options that do not take arguments. See the <a class="link-man" href="../html8/mount.html">mount(8)</a> man page for possible options and their meanings.<div class="spacer">
</div>
The following NFS specific options are also available:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ac</b></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Enable attribute caching for both files and directories (default).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">acdirmax</b>=<i class="arg">num</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Cache directory attributes for no more than <i class="arg">num</i> seconds. The default is 60 seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">acdirmin</b>=<i class="arg">num</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Cache directory attributes for at least <i class="arg">num</i> seconds. The default is 5 seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">acregmax</b>=<i class="arg">num</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Cache file attributes for no more than <i class="arg">num</i> seconds. The default is 60 seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">acregmin</b>=<i class="arg">num</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Cache file attributes for at least <i class="arg">num</i> seconds. The default is 5 seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">port</b>=<i class="arg">portnumber</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Use the specified port number for NFS requests. The default is to query the portmapper for the NFS port.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-R</b> <i class="arg">retrycnt</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the retry count for doing the mount to the specified value. The default is 10000.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b> <i class="arg">readsize</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the read data size to the specified value. It should normally be a power of 2 greater than or equal to 1024. This should be used for UDP mounts when the &#8220;fragments dropped after timeout&#8221; value is getting large while actively using a mount point. (Use <a class="link-man" href="../html1/netstat.html">netstat(1)</a> with the <b class="flag">-s</b> option to see what this value is.) See the <b class="flag">-w</b> option as well.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A soft mount, which implies that file system calls will fail after <i class="arg">retrans</i> round trip timeout intervals have been reached (see <b class="flag">-x</b>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-T</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use TCP instead of UDP. Note that TCP may not be supported by some very old NFS servers.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b> <i class="arg">timeout</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the initial retransmit timeout to the specified value in milliseconds. May be useful for fine tuning UDP mounts over internetworks with high packet loss rates or an overloaded server. Try increasing the interval if <a class="link-man" href="../html1/nfsstat.html">nfsstat(1)</a> shows high retransmit rates while the file system is active or reducing the value if there is a low retransmit rate but long response delay observed. (Normally, the <b class="flag">-d</b> option should be specified when using this option to manually tune the timeout interval.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-U</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force the mount protocol to use UDP, even for TCP NFS mounts. (Necessary for some old <span class="unix">BSD</span> servers.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-w</b> <i class="arg">writesize</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the write data size to the specified value. Ditto the comments w.r.t. the <b class="flag">-r</b> option, but using the &#8220;fragments dropped after timeout&#8221; value on the server instead of the client. Note that both the <b class="flag">-r</b> and <b class="flag">-w</b> options should only be used as a last ditch effort at improving performance when mounting servers that do not support TCP mounts.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-x</b> <i class="arg">retrans</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Set the retransmit timeout count for soft mounts to the specified value. Defaults to 10.</dd>
</dl>
<div class="spacer">
</div>
In versions prior to <span class="unix">OpenBSD&#160;2.7</span>, <code class="lit">nfsiod</code> daemons were running to improve performance of client NFS I/O. This is no longer done this way. Use <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a> or modify <a class="link-man" href="../html5/sysctl.conf.html">sysctl.conf(5)</a> to adjust the <b class="var">vfs.nfs.iothreads</b> value, which is the number of kernel threads created to serve asynchronous NFS I/O requests.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/nfsstat.html">nfsstat(1)</a>, <a class="link-man" href="../html2/mount.html">mount(2)</a>, <a class="link-man" href="../html4/tcp.html">tcp(4)</a>, <a class="link-man" href="../html4/udp.html">udp(4)</a>, <a class="link-man" href="../html5/fstab.html">fstab(5)</a>, <a class="link-man" href="../html8/mount.html">mount(8)</a>, <a class="link-man" href="../html8/nfsd.html">nfsd(8)</a>, <a class="link-man" href="../html8/sysctl.html">sysctl(8)</a>, <a class="link-man" href="../html8/umount.html">umount(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="flag">-P</b> flag historically informed the kernel to use a reserved port when communicating with clients. In <span class="unix">OpenBSD</span>, a reserved port is always used.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Due to the way that Sun RPC is implemented on top of UDP (unreliable datagram), tuning such mounts is really a black art that can only be expected to have limited success.</div>
</div>
</body>
</html>

