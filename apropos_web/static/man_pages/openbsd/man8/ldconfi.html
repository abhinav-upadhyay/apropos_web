<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
LDCONFIG(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">ldconfig</b> &#8212; <span class="desc">configure the shared library cache</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;"/>
<col/>
<tbody>
<tr>
<td>
ldconfig</td>
<td>
[<span class="opt"><b class="flag">-DmPRrSsUv</b></span>] [<span class="opt"><i class="arg">path ...</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">ldconfig</b> is used to prepare a set of &#8220;hints&#8221; for use by the run-time linker <a class="link-man" href="../html1/ld.so.html">ld.so(1)</a> to facilitate quick lookup of shared libraries available in multiple directories. It scans a set of built-in system directories and any <i class="arg">directories</i> specified on the command line (in the given order) looking for shared libraries and stores the results in the file <i class="file">/var/run/ld.so.hints</i> to forestall the overhead that would otherwise result from the directory search operations <a class="link-man" href="../html1/ld.so.html">ld.so(1)</a> would have to perform to load the required shared libraries.<div class="spacer">
</div>
The shared libraries so found will be automatically available for loading if needed by the program being prepared for execution. This obviates the need for storing search paths within the executable.<div class="spacer">
</div>
The <span class="env">LD_LIBRARY_PATH</span> environment variable can be used to override the use of directories (or the order thereof) from the cache or to specify additional directories where shared libraries might be found. <span class="env">LD_LIBRARY_PATH</span> is a &#8216;:&#8217; separated list of directory paths which are searched by <a class="link-man" href="../html1/ld.so.html">ld.so(1)</a> when it needs to load a shared library. It can be viewed as the run-time equivalent of the <b class="flag">-L</b> switch of <a class="link-man" href="../html1/ld.html">ld(1)</a>.<div class="spacer">
</div>
<b class="name">ldconfig</b> is typically run as part of the boot sequence. In addition to the built-in system directories, directories containing shared libraries may be specified via the <span class="env">shlib_dirs</span> variable in <i class="file">/etc/rc.conf.local</i>. See <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a> for further information.<div class="spacer">
</div>
The following options are recognized by <b class="name">ldconfig</b>:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-D</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Remove any prebind information in the specified binary or shared library.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Merge the result of the scan of the directories given as arguments into the existing hints file. The default action is to build the hints file afresh. This option cannot be used with <b class="flag">-U</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-P</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Create and append prebind information to all executables found in the specified directories, and also all shared libraries which are required by those executables.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-R</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Rescan the previously configured directories. This opens the hints file and fetches the directory list from the header. Any additional pathnames on the command line are also processed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List the current contents of <i class="file">ld.so.hints</i> on the standard output. The hints file will not be modified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-S</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prebind safely: always copies the binaries when prebind information is added to a file. Use this to eliminate the possibility that <span class="define">ETXTBUSY</span> will occur when attempting to run a binary whilst prebinding.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not scan the built-in system directory (&#8220;/usr/lib&#8221;) for shared libraries.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-U</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Unconfigure directories specified on the command line or remove inaccessible directories from search path if no directories specified. This option cannot be used with <b class="flag">-m</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Switch on verbose mode.</dd>
</dl>
</div>
<div class="section">
<h1 id="x50524542494e44494e47">PREBINDING</h1> When prebind information is added to libraries and programs using <b class="flag">-P</b>, program startup can be significantly improved because <a class="link-man" href="../html1/ld.so.html">ld.so(1)</a> can initialize the shared library environment much faster. Prebind information adds a small amount of data to the end of each specified program and associated shared libraries. Prebinding is loosely based on an earlier concept called prelinking, which also accelerated <a class="link-man" href="../html1/ld.so.html">ld.so(1)</a> performance but simultaneously impaired address space randomization.</div>
<div class="section">
<h1 id="x5345435552495459">SECURITY</h1> Special care must be taken when loading shared libraries into the address space of <span class="env">set-user-Id</span> programs. Whenever such a program is run, <a class="link-man" href="../html1/ld.so.html">ld.so(1)</a> will only load shared libraries from the <i class="file">ld.so.hints</i> file. In particular, the <span class="env">LD_LIBRARY_PATH</span> is not used to search for libraries. Thus, the role of <b class="name">ldconfig</b> is dual. In addition to building a set of hints for quick lookup, it also serves to specify the trusted collection of directories from which shared objects can be safely loaded. It is presumed that the set of directories specified to <b class="name">ldconfig</b> are under control of the system's administrator. <a class="link-man" href="../html1/ld.so.html">ld.so(1)</a> further assists set-user-Id programs by erasing the <span class="env">LD_LIBRARY_PATH</span> from the environment.</div>
<div class="section">
<h1 id="x454e5649524f4e4d454e54">ENVIRONMENT</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">LD_LIBRARY_PATH</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Additional directories containing shared libraries, settable in the user's environment.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="env">shlib_dirs</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Additional directories containing shared libraries, settable in <i class="file">/etc/rc.conf.local</i>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.conf</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.conf.local</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/run/ld.so.hints</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/ld.html">ld(1)</a>, <a class="link-man" href="../html5/elf.html">elf(5)</a>, <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> An <b class="name">ldconfig</b> utility first appeared in SunOS 4.0. It appeared in its current form in <span class="unix">NetBSD&#160;0.9a</span>.</div>
</div>
</body>
</html>

