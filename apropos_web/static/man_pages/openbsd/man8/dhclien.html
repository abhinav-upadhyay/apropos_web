<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
DHCLIENT(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dhclient</b> &#8212; <span class="desc">Dynamic Host Configuration Protocol (DHCP) client</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 8.00ex;"/>
<col/>
<tbody>
<tr>
<td>
dhclient</td>
<td>
[<span class="opt"><b class="flag">-d</b> | <b class="flag">-q</b></span>] [<span class="opt"><b class="flag">-u</b></span>] [<span class="opt"><b class="flag">-c</b> <i class="arg">file</i></span>] [<span class="opt"><b class="flag">-i</b> <i class="arg">options</i></span>] [<span class="opt"><b class="flag">-L</b> <i class="arg">file</i></span>] [<span class="opt"><b class="flag">-l</b> <i class="arg">file</i></span>] <i class="arg">interface</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The Dynamic Host Configuration Protocol (DHCP) allows hosts on a TCP/IP network to configure one or more network interfaces based on information collected from a DHCP server. DHCP is often used, for example, by cable modem and DSL network providers to automate network configuration for their customers.<div class="spacer">
</div>
Information typically provided via DHCP includes address and subnet mask for the interface, default route, and domain name server.<div class="spacer">
</div>
To have <span class="unix">OpenBSD</span> configure an interface using DHCP (or its predecessor, BOOTP) the <b class="name">dhclient</b> utility is used. <b class="name">dhclient</b> is run on the command line with the name of the <i class="arg">interface</i> to be configured. <b class="name">dhclient</b> can also be run at boot time from <a class="link-man" href="../html5/hostname.if.html">hostname.if(5)</a>, in which case <a class="link-man" href="../html8/netstart.html">netstart(8)</a> reads the hostname files and runs <b class="name">dhclient</b> for each interface that is to be configured via DHCP.<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify an alternate location to <i class="file">/etc/dhclient.conf</i> for the configuration file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Forces <b class="name">dhclient</b> to always run as a foreground process. By default, <b class="name">dhclient</b> runs in the foreground until it has configured the interface, and then will revert to running in the background.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-i</b> <i class="arg">options</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<b class="name">dhclient</b> will ignore any values provided by leases for the options specified. This list will override any ignore statements in <a class="link-man" href="../html5/dhclient.conf.html">dhclient.conf(5)</a>. <i class="arg">options</i> must be a comma separated list of valid option names. Invalid option names will cause the entire list to be discarded.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify a <i class="arg">file</i> to write the option data to. This causes <b class="name">dhclient</b> to write two pseudo-leases, &#8220;offered&#8221; and &#8220;effective&#8221;, to the specified file. &#8220;offered&#8221; will be the lease offered by the DHCP server; &#8220;effective&#8221; will be the modified lease bound to the interface. <i class="arg">file</i> will be truncated when a lease is no longer bound to the interface or the link goes down.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b> <i class="arg">file</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify an alternate location to <i class="file">/var/db/dhclient.leases.</i>&#10216;<i class="arg">IFNAME</i>&#10217; for the leases file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Forces <b class="name">dhclient</b> to be less verbose on startup.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Forces <b class="name">dhclient</b> to reject leases with unknown options in them. The default behaviour is to accept such lease offers.</dd>
</dl>
<div class="spacer">
</div>
The DHCP protocol allows a host to contact a central server which maintains a list of IP addresses which may be assigned on one or more subnets. A DHCP client may request an address from this pool, and then use it on a temporary basis for communication on the network. The DHCP protocol also provides a mechanism whereby a client can learn important details about the network to which it is attached, such as the location of a default router, the location of a name server, and so on.<div class="spacer">
</div>
On startup, <b class="name">dhclient</b> reads <i class="file">/etc/dhclient.conf</i> for configuration instructions. It then attempts to configure the network interface <i class="arg">interface</i> with DHCP. The special value &#8220;egress&#8221; may be used instead of a network interface name. In this case <b class="name">dhclient</b> will look for the network interface currently in the interface group &#8220;egress&#8221; and configure it with DHCP. If there is more than one network interface in the egress group <b class="name">dhclient</b> will exit with an error.<div class="spacer">
</div>
When configuring the interface, <b class="name">dhclient</b> attempts to remove any existing addresses, gateway routes that use the interface, and non-permanent <a class="link-man" href="../html8/arp.html">arp(8)</a> entries. Conversely, if the interface is later manipulated to add or delete addresses then <b class="name">dhclient</b> will automatically exit. It thus automatically exits whenever a new <b class="name">dhclient</b> is run on the same interface.<div class="spacer">
</div>
Once the interface is configured, <b class="name">dhclient</b> constructs a <a class="link-man" href="../html5/resolv.conf.html">resolv.conf(5)</a> file. It does this only when one or both of the options <b class="flag">domain-name</b> and <b class="flag">domain-name-servers</b> is present (note that these options may be offered by the DHCP server but suppressed by <a class="link-man" href="../html5/dhclient.conf.html">dhclient.conf(5)</a>). If a resolv.conf is constructed, <b class="name">dhclient</b> appends any contents of the <a class="link-man" href="../html5/resolv.conf.tail.html">resolv.conf.tail(5)</a> file, which are read once at start up. The constructed resolv.conf is copied into <i class="file">/etc/resolv.conf</i> whenever the default route goes out the interface <b class="name">dhclient</b> is running on. <b class="name">dhclient</b> monitors the system for changes to the default route and re-checks whether it should write its resolv.conf when possible changes are detected.<div class="spacer">
</div>
In order to keep track of leases across system reboots and server restarts, <b class="name">dhclient</b> keeps a list of leases it has been assigned in the <i class="file">/var/db/dhclient.leases.</i>&#10216;<i class="arg">IFNAME</i>&#10217; file. <i class="arg">IFNAME</i> represents the network interface of the DHCP client (e.g. em0), one for each interface. On startup, after reading the <a class="link-man" href="../html5/dhclient.conf.html">dhclient.conf(5)</a> file, <b class="name">dhclient</b> reads the leases file to refresh its memory about what leases it has been assigned.<div class="spacer">
</div>
Old leases are kept around in case the DHCP server is unavailable when <b class="name">dhclient</b> is first invoked (generally during the initial system boot process). In that event, old leases from the <i class="file">dhclient.leases.</i>&#10216;<i class="arg">IFNAME</i>&#10217; file which have not yet expired are tested, and if they are determined to be valid, they are used until either they expire or the DHCP server becomes available.<div class="spacer">
</div>
A mobile host which may sometimes need to access a network on which no DHCP server exists may be preloaded with a lease for a fixed address on that network. When all attempts to contact a DHCP server have failed, <b class="name">dhclient</b> will try to validate the static lease, and if it succeeds, it will use that lease until it is restarted.<div class="spacer">
</div>
A mobile host may also travel to some networks on which DHCP is not available but BOOTP is. In that case, it may be advantageous to arrange with the network administrator for an entry on the BOOTP database, so that the host can boot quickly on that network rather than cycling through the list of old leases.</div>
<div class="section">
<h1 id="x5349474e414c53">SIGNALS</h1> While running, <b class="name">dhclient</b> reacts to a few different signals:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">HUP</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
On receiving <span class="define">HUP</span> <b class="name">dhclient</b> will restart itself, reading <a class="link-man" href="../html5/dhclient.conf.html">dhclient.conf(5)</a> and obtaining a new lease.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">INT</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
On receiving <span class="define">INT</span> <b class="name">dhclient</b> will exit after attempting to remove any routes, interface addresses or temporary files it created.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">QUIT</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
On receiving <span class="define">QUIT</span> <b class="name">dhclient</b> will dump core and exit without attempting to remove any routes, interface addresses or temporary files it created.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">TERM</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
On receiving <span class="define">TERM</span> <b class="name">dhclient</b> will exit without attempting to remove any routes, interface addresses or temporary files it created.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">USR1, USR2</span></dt>
<dd class="list-tag" style="margin-left: 13.00ex;">
On receiving either <span class="define">USR1</span> or <span class="define">USR2</span>, <b class="name">dhclient</b> will exit after attempting to remove any routes, interface addresses or temporary files it created.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/dhclient.conf</i></dt>
<dd class="list-tag" style="margin-left: 35.00ex;">
DHCP client configuration file</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/hostname.XXX</i></dt>
<dd class="list-tag" style="margin-left: 35.00ex;">
interface-specific configuration files</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/db/dhclient.leases.</i>&#10216;<i class="arg">IFNAME</i>&#10217;</dt>
<dd class="list-tag" style="margin-left: 35.00ex;">
database of acquired leases</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/dhclient.conf.html">dhclient.conf(5)</a>, <a class="link-man" href="../html5/dhclient.leases.html">dhclient.leases(5)</a>, <a class="link-man" href="../html5/hostname.if.html">hostname.if(5)</a>, <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a>, <a class="link-man" href="../html8/dhcrelay.html">dhcrelay(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <span class="ref"><span class="ref-auth">R. Droms</span>, <span class="ref-title">Interoperation Between DHCP and BOOTP</span>, <span class="ref-rep">RFC 1534</span>, <span class="ref-date">October 1993</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">R. Droms</span>, <span class="ref-title">Dynamic Host Configuration Protocol</span>, <span class="ref-rep">RFC 2131</span>, <span class="ref-date">March 1997</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">S. Alexander</span> and <span class="ref-auth">R. Droms</span>, <span class="ref-title">DHCP Options and BOOTP Vendor Extensions</span>, <span class="ref-rep">RFC 2132</span>, <span class="ref-date">March 1997</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">T. Lemon</span> and <span class="ref-auth">S. Cheshire</span>, <span class="ref-title">Encoding Long Options in the Dynamic Host Configuration Protocol (DHCPv4)</span>, <span class="ref-rep">RFC 3396</span>, <span class="ref-date">November 2002</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">T. Lemon</span>, <span class="ref-auth">S. Cheshire</span>, and <span class="ref-auth">B. Volz</span>, <span class="ref-title">The Classless Static Route Option for Dynamic Host Configuration Protocol (DHCP) version 4</span>, <span class="ref-rep">RFC 3442</span>, <span class="ref-date">December 2002</span>.</span></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <b class="name">dhclient</b> was written by <span class="author">Ted Lemon</span> &lt;<a class="link-mail" href="mailto:mellon@fugue.com">mellon@fugue.com</a>&gt; and <span class="author">Elliot Poger</span> &lt;<a class="link-mail" href="mailto:elliot@poger.com">elliot@poger.com</a>&gt;.<div class="spacer">
</div>
The current implementation was reworked by <span class="author">Henning Brauer</span> &lt;<a class="link-mail" href="mailto:henning@openbsd.org">henning@openbsd.org</a>&gt;.</div>
</div>
</body>
</html>

