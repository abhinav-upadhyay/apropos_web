<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
KGDB(7)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">kgdb</b> &#8212; <span class="desc">remote kernel debugging with gdb</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Should a programmer be dissatisfied with the <span class="unix">OpenBSD</span> kernel's internal debugger <a class="link-man" href="../html4/ddb.html">ddb(4)</a>, and have appropriate hardware available, a kernel with <b class="flag">option KGDB</b> may be built to effect remote debugging with <a class="link-man" href="../html1/gdb.html">gdb(1)</a> instead.<div class="spacer">
</div>
To prepare for debugging over serial line one would:<div class="spacer">
</div>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 3.00ex;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
Obtain a second system and a crossover serial cable.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Connect the systems and test the cable.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Build a kernel with <b class="flag">option KGDB</b> and <b class="flag">makeoptions DEBUG=&quot;-g&quot;</b>.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Copy the resultant <i class="file">bsd.gdb</i> to the control system, and boot the corresponding <i class="file">bsd</i> on the target system.</li>
<li class="list-bul" style="margin-top: 0.00em;">
On the control system, run gdb on the kernel just copied.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Issue the command &quot;target remote /dev/&lt;serial port&gt;&quot; within gdb. The target system should enter <b class="name">kgdb</b> at this point.</li>
<li class="list-bul" style="margin-top: 0.00em;">
Debug as normal and detach when done, the target should resume normal operation.</li>
</ul>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/gdb.html">gdb(1)</a>, <a class="link-man" href="../html4/ddb.html">ddb(4)</a>, <a class="link-man" href="../html4/options.html">options(4)</a><div class="spacer">
</div>
gdb info documents and online documentation.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> The remote connection will introduce certain latencies a local debugger would not see.<div class="spacer">
</div>
Not available on all architectures.</div>
</div>
</body>
</html>

