<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
PACKAGES-SPECS(7)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">packages-specs</b> &#8212; <span class="desc">binary package names specifications</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Each package has a name consisting of at most three parts:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
stem-version[-flavors]</pre>
<div class="spacer">
</div>
The <i class="arg">stem</i> part identifies the package. It may contain some dashes, but its form is mostly conventional. For instance, japanese packages usually start with a &#8216;ja&#8217; prefix, e.g., &#8220;ja-kterm-6.2.0&#8221;.<div class="spacer">
</div>
The <i class="arg">version</i> part starts at the first digit that follows a &#8216;-&#8217;, and goes on up to the following &#8216;-&#8217;, or to the end of the package name, whichever comes first.<div class="spacer">
</div>
It is followed by the (possibly empty) [<span class="opt">-<i class="arg">flavors</i></span>] part.<div class="spacer">
</div>
Thus, version numbers should always start with a digit and cannot contain a &#8216;-&#8217;, whereas flavors should never start with a digit.<div class="spacer">
</div>
All packages must have a version number. Normally, the version number directly matches the original software distribution version number, or release date. In case there are substantial changes in the <span class="unix">OpenBSD</span> package, a patch level marker should be appended, e.g., &#8216;p0&#8217;, &#8216;p1 ...&#8217; For example, assuming that the screen package for release 2.8 was named &#8220;screen-2.9.8&#8221; and that an important security patch led to a newer package, the new package would be called &#8220;screen-2.9.8p0&#8221;. Obviously, these specific markers are reserved for <span class="unix">OpenBSD</span> purposes. See <span class="env">REVISION</span> in <a class="link-man" href="../html5/bsd.port.mk.html">bsd.port.mk(5)</a>.<div class="spacer">
</div>
Version comparison is done using the dewey notation with a few specific rules.<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
The version number is cut into separate parts on each dot &#8216;.&#8217;. Therefore, replace other upstream separators such as &#8216;_&#8217; or &#8216;-&#8217; with dots.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Comparison checks each part in turn, the first part that differs yields a comparison result.</li>
<li class="list-bul" style="margin-top: 1.00em;">
If parts are numbers they are compared numerically.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Parts can also be numbers with an optional letter appended. The numbers are compared numerically, and in case of equality, the letter makes the difference.</li>
<li class="list-bul" style="margin-top: 1.00em;">
Other parts are compared alphabetically.</li>
<li class="list-bul" style="margin-top: 1.00em;">
The last part may contain an extra suffix matching <i class="arg">rc[N]</i>, <i class="arg">beta[N]</i>, <i class="arg">pre[N]</i>, or <i class="arg">pl[N]</i>, with <i class="arg">N</i> an optional number. These correspond to traditional notations for &#8216;release candidate&#8217;, &#8216;beta version&#8217;, &#8216;pre-release&#8217;, &#8216;patch-level&#8217;, and are ordered accordingly, e.g., <i class="arg">beta</i> is oldest, <i class="arg">rc</i> and <i class="arg">pre</i> are next (and non-comparable to one another), then normal version, and finally <i class="arg">pl</i>.<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-dash">
<li class="list-dash" style="margin-top: 1.00em;">
&quot;foo-1.01&quot; is equal to &quot;foo-1.1&quot;, which can lead to surprises..</li>
<li class="list-dash" style="margin-top: 1.00em;">
&quot;foo-1.001&quot; is older than &quot;foo-1.002&quot;, which in turns is older than &quot;foo-1.0010&quot;</li>
<li class="list-dash" style="margin-top: 1.00em;">
&quot;foo-1.0rc2&quot; is not comparable to &quot;foo-1.0pre3&quot;</li>
<li class="list-dash" style="margin-top: 1.00em;">
&quot;bar-1.0beta3&quot; is older than &quot;bar-1.0rc1&quot;</li>
<li class="list-dash" style="margin-top: 1.00em;">
&quot;baz-1.0&quot; is older than &quot;baz-1.0pl1&quot;</li>
</ul>
</li>
</ul>
<div class="spacer">
</div>
In some rare cases, version numbering changes completely upstream. A version style marker, of the form &#8216;v0&#8217;, &#8216;v1 ...&#8217; can be appended to the version number (after the patch level) to denote the new numbering scheme. See <span class="env">EPOCH</span> in <a class="link-man" href="../html5/bsd.port.mk.html">bsd.port.mk(5)</a>.<div class="spacer">
</div>
Flavored packages will also contain a list of flavors after the version identifier, in a canonical order determined by <span class="env">FLAVORS</span> in the corresponding port's <i class="file">Makefile</i>. For instance, kterm has an xaw3d flavor: &#8220;ja-kterm-xaw3d&#8221;.<div class="spacer">
</div>
Note that, to uniquely identify the version part, no flavor shall ever start with a digit. Usually, flavored packages are slightly different versions of the same package that offer very similar functionalities.</div>
<div class="section">
<h1 id="x434f4e464c49435453">CONFLICTS</h1> Most conflicts between packages are handled on a package name basis. Unless the packages have been specially prepared, it is normally not possible to install two packages with the same <i class="arg">stem</i>.<div class="spacer">
</div>
Note that the <i class="arg">stem</i> ends at the <i class="arg">version</i> part. So, for instance, &#8220;kdelibs-1.1.2&#8221; and &#8220;kdelibs-2.1.1&#8221; conflict. But &#8220;openldap-2.0.7&#8221; and &#8220;openldap-client-2.0.7&#8221; don't. Neither do &#8220;qt-1.45&#8221; and &#8220;qt2-3.0&#8221;.</div>
<div class="section">
<h1 id="x444550454e44454e43494553">DEPENDENCIES</h1> Packages may depend on other packages, as specified by their port's Makefile, in a <span class="env">BUILD_DEPENDS</span>, <span class="env">LIB_DEPENDS</span>, <span class="env">TEST_DEPENDS</span> or <span class="env">RUN_DEPENDS</span>. All those conform to<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
[pkgspec:]pkgpath</pre>
<div class="spacer">
</div>
The <a class="link-man" href="../html7/pkgpath.html">pkgpath(7)</a> part of the dependency is always used to obtain the default dependency for the given package (the package that will be built and installed if no package is found). The corresponding package name is also used as a package specification, after removing any version and flavor requirements.<div class="spacer">
</div>
Without a &#8216;pkgspec:&#8217; part, by default, any package with the right stem will do: in effect, the pkgspec used is &#8216;stem-*&#8217;.<div class="spacer">
</div>
In <span class="unix">OpenBSD&#160;4.9</span>, the dependent port may override this default, and set <span class="env">PKGSPEC</span> to achieve a more restrictive default, for instance, <i class="file">databases/db/v3</i> sets the default to &#8220;PKGSPEC = db-&gt;=3,&lt;4&#8221; to avoid collision with <i class="file">databases/db/v4</i>. Be extra cautious with this functionality: this tweaks the depends line for any including package, thus usually requiring a version bump, and is in general only required for very messy cases where several incompatible versions of the same software coexist as packages with the same stem.<div class="spacer">
</div>
An explicit specification such as &#8220;png-1.0.7&#8221;. may be used to ask for a more specific version number. Version numbers may also include ranges, separated by commas, so for instance, &#8220;foo-&gt;=1.3&#8221; would match any foo with version at least 1.3, and &#8220;foo-&gt;=1.3,&lt;=1.5&#8221; would match any version of foo between 1.3 and 1.5, inclusive.<div class="spacer">
</div>
As a convenience, the ports tree recognizes a specification that starts with STEM, and will replace this with the correct stem, which can be useful for embarrassingly long package names.<div class="spacer">
</div>
As another convenience, the ports tree recognizes constructs like &#8220;graphics/png&gt;=1.2.0&#8221; and transforms it into &#8220;STEM-&gt;=1.2.0:graphics/png&#8221;. More specifically, package paths never contain &lt;, &gt;, or =, and those characters trigger the transform.<div class="spacer">
</div>
If the flavor specification is left blank, any flavor will do. Note that most default package names don't contain flavor specification, which means that any flavor will do For instance, in<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
LIB_DEPENDS = graphics/aalib</pre>
<div class="spacer">
</div>
both &#8220;aalib-1.2&#8221; and &#8220;aalib-1.2-no_x11&#8221; will do. To restrict the specification to packages that match flavor &#8216;f&#8217;, append &#8216;-f&#8217;. To restrict the specification to packages that do not match flavor &#8216;f&#8217;, append &#8216;-!f&#8217;. In the preceding case, one may use<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
LIB_DEPENDS = aalib-*-!no_x11:graphics/aalib</pre>
<div class="spacer">
</div>
to ensure the no_x11 flavor is not picked.</div>
<div class="section">
<h1 id="x444550454e44454e43494553205245534f4c5554494f4e">DEPENDENCIES RESOLUTION</h1> Several packages may be specified for a dependency: &#8220;foo-*|bar-*&#8221; will match either any version of package foo, or any version of package bar. In the general case, each package holds a tree of dependencies. Resolution occurs at <a class="link-man" href="../html1/pkg_add.html">pkg_add(1)</a> time, and all dependencies are tracked only as far as needed.<div class="spacer">
</div>
For instance, if package &#8220;foo-1.0&#8221; depends on either &#8220;bar-*&#8221; or &#8220;fuzz-*&#8221;, and &#8220;bar-2.0&#8221; depends on &#8220;toughluck-*&#8221;, <a class="link-man" href="../html1/pkg_add.html">pkg_add(1)</a> will first check whether &#8220;bar-*&#8221; or &#8220;fuzz-*&#8221; is installed. If either is there, the &#8220;toughluck-*&#8221; dependency will never be examined. It would only be used in the case where neither &#8220;bar-*&#8221; nor &#8220;fuzz-*&#8221; are present, thus <a class="link-man" href="../html1/pkg_add.html">pkg_add(1)</a> would decide to bring in &#8220;bar-2.0&#8221;, and so would check on &#8220;toughluck-*&#8221;.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/pkg_add.html">pkg_add(1)</a>, <a class="link-man" href="../html5/bsd.port.mk.html">bsd.port.mk(5)</a>, <a class="link-man" href="../html7/library-specs.html">library-specs(7)</a>, <a class="link-man" href="../html7/packages.html">packages(7)</a>, <a class="link-man" href="../html7/pkgpath.html">pkgpath(7)</a>, <a class="link-man" href="../html7/ports.html">ports(7)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> Support for a more complex form of those package specifications first appeared in <span class="unix">OpenBSD&#160;2.9</span>. The current simplified form was introduced in <span class="unix">OpenBSD&#160;4.9</span>.</div>
</div>
</body>
</html>

