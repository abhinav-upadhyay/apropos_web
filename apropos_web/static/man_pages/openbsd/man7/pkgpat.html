<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
PKGPATH(7)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">pkgpath</b> &#8212; <span class="desc">ports tree location for a package build</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> Each location in the ports tree is uniquely identified through a <b class="name">pkgpath</b>, which encodes the directory, flavor and subpackage information that allows the build of a package. This is not to be confused with <span class="env">PKG_PATH</span>, the list of URLs from which <a class="link-man" href="../html1/pkg_add.html">pkg_add(1)</a> retrieves binary packages.<div class="spacer">
</div>
Every <b class="name">pkgpath</b> conforms to the pattern <i class="arg">some/directory[,-sub][,flavor...]</i>.<div class="spacer">
</div>
The <i class="arg">some/directory</i> part refers to the directory part, to find under the portstree, usually in <i class="file">/usr/ports</i> (or <i class="file">/usr/port/mystuff</i> for port developers).<div class="spacer">
</div>
The <i class="arg">,-sub</i> optional part refers to a specific subpackage from a multi-package port. It can be left blank for non multi-package ports, or to get the default subpackage (usually <i class="arg">-main</i>).<div class="spacer">
</div>
The <i class="arg">,flavor...</i> optional part refers to the flavors or pseudo-flavors to use when building the package. If left blank, it refers to the default flavor. An explicit empty flavor can also be specified to make sure to get an empty flavor, even if it does not correspond to the default flavor.<div class="spacer">
</div>
Note that <i class="arg">-sub</i> and <i class="arg">flavor</i> parts can be specified in any order, as all subpackages start with a dash. It is an error to ask for several subs at once, e.g. <i class="arg">some/path,-sub1,-sub2</i>, though it won't always be flagged as a problem.<div class="spacer">
</div>
For instance:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">misc/screen</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
A simple directory, default flavor, which happens to be empty.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">misc/screen,static</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Same port, <i class="arg">static</i> flavor.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">x11/kde/libs3</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
A multi-package port with no subpackage nor flavor, refers to <i class="arg">x11/kde/libs3,-main</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">net/avahi</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Multi-package port with default flavor. Will actually build with FLAVOR=&quot;no_gui no_mono no_qt3 no_qt4 bootstrap&quot; (all of which are pseudo-flavors), so that only the main package will build.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">net/avahi,no_mono,-qt3</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Build avahi with the &quot;no_mono&quot; pseudo-flavor, which will build the -main, -qt3, -qt4, -gui, -gtk, -gtk3, and -ui subpackages, and refer to the <i class="arg">-qt3</i> subpackage.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">net/avahi,</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
<i class="arg">net/avahi</i> with an explicit empty flavor, default subpackage (which happens to be <i class="arg">-main</i>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="arg">net/avahi,,-qt4</i></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
<i class="arg">net/avahi</i> with an explicit empty flavor, <i class="arg">-qt4</i> subpackage.</dd>
</dl>
<div class="spacer">
</div>
The ports tree can iterate over lists of <b class="name">pkgpath</b> through <code class="lit">SUBDIR=&quot;pkgpath1 pkgpath2...&quot;</code> or through a full list through <code class="lit">SUBDIRLIST=file</code>.<div class="spacer">
</div>
<a class="link-man" href="../html1/dpb.html">dpb(1)</a> also handles <b class="name">pkgpath</b> lists for many options.</div>
<div class="section">
<h1 id="x4e4f524d414c49534154494f4e20414e44205448452046554c4c5041544820434f4e56454e54494f4e">NORMALISATION AND THE FULLPATH CONVENTION</h1> When the ports tree handles dependencies, it passes <b class="name">pkgpath</b> from <span class="env">BUILD_DEPENDS</span>, <span class="env">LIB_DEPENDS</span>, <span class="env">RUN_DEPENDS</span>, and <span class="env">TEST_DEPENDS</span> to the dependent port for normalisation purposes. That way, the <b class="name">pkgpath</b> that gets recorded in the package doesn't have any &quot;default&quot; flavor or &quot;default&quot; subpackage left: those are always resolved to the correct value.<div class="spacer">
</div>
Likewise, pseudo-flavors vanish from the <b class="name">pkgpath</b>, since they only participate in the build process, but do not intervene in the built package.<div class="spacer">
</div>
As a result, such <b class="name">pkgpath</b> are slightly different from the description above, as a flavor left blank is the empty flavor (and not the default flavor). This is the &#8220;fullpath convention&#8221;.<div class="spacer">
</div>
Tools such as <a class="link-man" href="../html1/dpb.html">dpb(1)</a> display fullpath pkgpaths, and binary packages store full pkgpaths.<div class="spacer">
</div>
<span class="env">SUBDIR</span> and <span class="env">SUBDIRLIST</span> can be forced to follow the fullpath convention by explicitly passing <code class="lit">FULLPATH=Yes</code> to the corresponding <a class="link-man" href="../html1/make.html">make(1)</a> invocations.<div class="spacer">
</div>
Most tools that process binary packages do so.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/dpb.html">dpb(1)</a>, <a class="link-man" href="../html5/bsd.port.mk.html">bsd.port.mk(5)</a>, <a class="link-man" href="../html7/library-specs.html">library-specs(7)</a>, <a class="link-man" href="../html7/packages.html">packages(7)</a>, <a class="link-man" href="../html7/packages-specs.html">packages-specs(7)</a>, <a class="link-man" href="../html7/ports.html">ports(7)</a></div>
</div>
</body>
</html>

