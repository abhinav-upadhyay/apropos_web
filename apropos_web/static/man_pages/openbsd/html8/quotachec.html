<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
QUOTACHECK(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">quotacheck</b> &#8212; <span class="desc">filesystem quota consistency checker</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 10.00ex;"/>
<col/>
<tbody>
<tr>
<td>
quotacheck</td>
<td>
[<span class="opt"><b class="flag">-adguv</b></span>] [<span class="opt"><b class="flag">-l</b> <i class="arg">maxparallel</i></span>] <i class="arg">filesystem ...</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">quotacheck</b> examines each filesystem, builds a table of current disk usage, and compares this table against that recorded in the disk quota file for the filesystem. If any inconsistencies are detected, both the quota file and the current system copy of the incorrect quotas are updated (the latter only occurs if an active filesystem is checked). By default, both user and group quotas are checked.<div class="spacer">
</div>
Available options:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-a</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If the <b class="flag">-a</b> flag is supplied in place of any filesystem names, <b class="name">quotacheck</b> will check all the filesystems indicated in <i class="file">/etc/fstab</i> to be read-write with disk quotas. By default, only the types of quotas listed in <i class="file">/etc/fstab</i> are checked.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enable debugging mode. No actual data will be written on disk(s).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-g</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Only group quotas listed in <i class="file">/etc/fstab</i> are to be checked.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b> <i class="arg">maxparallel</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Limit the number of parallel checks to the number <i class="arg">maxparallel</i> specified in the argument (see <a class="link-man" href="../html8/fsck.html">fsck(8)</a>).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Only user quotas listed in <i class="file">/etc/fstab</i> are to be checked.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
<b class="name">quotacheck</b> reports discrepancies between the calculated and recorded disk quotas.</dd>
</dl>
<div class="spacer">
</div>
Specifying both <b class="flag">-g</b> and <b class="flag">-u</b> is equivalent to the default. Parallel passes are run on the filesystems required, using the pass numbers in <i class="file">/etc/fstab</i> in an identical fashion to <a class="link-man" href="../html8/fsck.html">fsck(8)</a>.<div class="spacer">
</div>
Normally <b class="name">quotacheck</b> operates silently.<div class="spacer">
</div>
<b class="name">quotacheck</b> expects each filesystem to be checked to have quota files named <i class="file">quota.user</i> and <i class="file">quota.group</i> located at the root of the associated file system. These defaults may be overridden in <i class="file">/etc/fstab</i>. If a file is not present, <b class="name">quotacheck</b> will create it.<div class="spacer">
</div>
<b class="name">quotacheck</b> is normally run at boot time from the <i class="file">/etc/rc</i> file (see <a class="link-man" href="../html8/rc.html">rc(8)</a>) before enabling disk quotas with <a class="link-man" href="../html8/quotaon.html">quotaon(8)</a>.<div class="spacer">
</div>
<b class="name">quotacheck</b> accesses the raw device in calculating the actual disk usage for each user. Thus, the filesystems checked should be quiescent while <b class="name">quotacheck</b> is running.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">quota.user</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
at the filesystem root with user quotas</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">quota.group</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
at the filesystem root with group quotas</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/fstab</i></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
default filesystems</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/quota.html">quota(1)</a>, <a class="link-man" href="../html2/quotactl.html">quotactl(2)</a>, <a class="link-man" href="../html5/fstab.html">fstab(5)</a>, <a class="link-man" href="../html8/edquota.html">edquota(8)</a>, <a class="link-man" href="../html8/fsck.html">fsck(8)</a>, <a class="link-man" href="../html8/quotaon.html">quotaon(8)</a>, <a class="link-man" href="../html8/repquota.html">repquota(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">quotacheck</b> command appeared in <span class="unix">4.2BSD</span>.</div>
</div>
</body>
</html>

