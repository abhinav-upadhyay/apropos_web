<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
RC(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rc</b>, <b class="name">rc.firsttime</b>, <b class="name">rc.local</b>, <b class="name">rc.securelevel</b> &#8212; <span class="desc">command scripts for system startup</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
/etc/rc</td>
<td>
</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
/etc/rc.firsttime</td>
<td>
</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
/etc/rc.local</td>
<td>
</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
/etc/rc.securelevel</td>
<td>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">rc</b> is the command script that is invoked by <a class="link-man" href="../html8/init.html">init(8)</a> when the system starts up. It performs system housekeeping chores and starts up system daemons. Additionally, <b class="name">rc</b> is intricately tied to the <a class="link-man" href="../html8/netstart.html">netstart(8)</a> script, which runs commands and daemons pertaining to the network. <b class="name">rc</b> is also used to execute any <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a> scripts defined in <a class="link-man" href="../html8/rc.conf.local.html">rc.conf.local(8)</a>. The <b class="name">rc.securelevel</b>, <b class="name">rc.firsttime</b>, and <b class="name">rc.local</b> scripts hold commands which are pertinent only to a specific site.<div class="spacer">
</div>
All of these startup scripts are controlled to some extent by variables defined in <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a>, which specify which daemons and services to run.<div class="spacer">
</div>
Before <a class="link-man" href="../html8/init.html">init(8)</a> starts <b class="name">rc</b>, it sets the process priority, umask, and resource limits according to the &#8220;daemon&#8221; login class as described in <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>. It then starts <b class="name">rc</b> and attempts to execute the sequence of commands therein.<div class="spacer">
</div>
The first part of <b class="name">rc</b> runs an <a class="link-man" href="../html8/fsck.html">fsck(8)</a> with option <b class="flag">-p</b> to &#8220;preen&#8221; all disks of minor inconsistencies resulting from the last system shutdown and to check for serious inconsistencies caused by hardware or software failure. If this auto-check and repair succeeds, then the second part of <b class="name">rc</b> is run. However, if the file <i class="file">/fastboot</i> exists, fsck will not be invoked. The file is then removed so that fsck will be run on subsequent boots.<div class="spacer">
</div>
The second part of <b class="name">rc</b> then asks <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a> for configuration variables, mounts filesystems, saves <a class="link-man" href="../html8/dmesg.html">dmesg(8)</a> output to the file <i class="file">/var/run/dmesg.boot</i>, starts system daemons, preserves editor files, clears the scratch directory <i class="file">/tmp</i>, and saves any possible core image that might have been generated as a result of a system crash, with <a class="link-man" href="../html8/savecore.html">savecore(8)</a>.<div class="spacer">
</div>
If at any point the boot script fails, <a class="link-man" href="../html8/init.html">init(8)</a> enters single-user mode, allowing the superuser a shell on the console. On exiting this mode, init again invokes <b class="name">rc</b>, but this time without performing the file system preen.<div class="spacer">
</div>
Before <b class="name">rc</b> starts most system daemons, <a class="link-man" href="../html8/netstart.html">netstart(8)</a> is executed.<div class="spacer">
</div>
<b class="name">rc.securelevel</b> is executed by <b class="name">rc</b> to start daemons that must be run before the security level changes. Following this, <b class="name">rc</b> then sets the security level to '1' if it wasn't set already by <b class="name">rc.securelevel</b>. See <a class="link-man" href="../html7/securelevel.html">securelevel(7)</a> for the effects of setting the security level.<div class="spacer">
</div>
If <b class="name">rc.firsttime</b> exists, it is executed once and then deleted. Any output is mailed to root.<div class="spacer">
</div>
<b class="name">rc.local</b> is executed towards the end of <b class="name">rc</b> (it is not the very last as there are a few services that must be started at the very end). Normally, <b class="name">rc.local</b> contains commands and daemons that are not part of the stock installation.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/netstart</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Command script for network startup.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Command scripts for system startup.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.conf</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
System daemon configuration database.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.conf.local</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Site specific daemon configuration database.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.d</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Directory to hold <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a> scripts.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.d/rc.subr</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Functions used by the <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a> scripts.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.firsttime</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Commands run on the first boot after creation.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.local</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Site specific command scripts for system startup.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.securelevel</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Commands run before the security level changes.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/rc.shutdown</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Commands run at system shutdown.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/fastboot</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
Tells <b class="name">rc</b> not to run <a class="link-man" href="../html8/fsck.html">fsck(8)</a> during the next boot.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/run/dmesg.boot</i></dt>
<dd class="list-tag" style="margin-left: 21.00ex;">
copy of <a class="link-man" href="../html8/dmesg.html">dmesg(8)</a> saved by <b class="name">rc</b> at boot time</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/sysctl.conf.html">sysctl.conf(5)</a>, <a class="link-man" href="../html7/securelevel.html">securelevel(7)</a>, <a class="link-man" href="../html8/init.html">init(8)</a>, <a class="link-man" href="../html8/netstart.html">netstart(8)</a>, <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a>, <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a>, <a class="link-man" href="../html8/rc.shutdown.html">rc.shutdown(8)</a>, <a class="link-man" href="../html8/rcctl.html">rcctl(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">rc</b> command appeared in <span class="unix">4.0BSD</span>.</div>
</div>
</body>
</html>

