<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
USERMOD(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">usermod</b> &#8212; <span class="desc">modify user login information</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;"/>
<col/>
<tbody>
<tr>
<td>
usermod</td>
<td>
[<span class="opt"><b class="flag">-moUvZ</b></span>] [<span class="opt"><b class="flag">-c</b> <i class="arg">comment</i></span>] [<span class="opt"><b class="flag">-d</b> <i class="arg">home-directory</i></span>] [<span class="opt"><b class="flag">-e</b> <i class="arg">expiry-time</i></span>] [<span class="opt"><b class="flag">-f</b> <i class="arg">inactive-time</i></span>] [<span class="opt"><b class="flag">-G</b> <i class="arg">secondary-group</i>[<span class="opt">,<i class="arg">group</i>,...</span>]</span>] [<span class="opt"><b class="flag">-g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <b class="flag">=uid</b></span>] [<span class="opt"><b class="flag">-L</b> <i class="arg">login-class</i></span>] [<span class="opt"><b class="flag">-l</b> <i class="arg">new-login</i></span>] [<span class="opt"><b class="flag">-p</b> <i class="arg">password</i></span>] [<span class="opt"><b class="flag">-S</b> <i class="arg">secondary-group</i>[<span class="opt">,<i class="arg">group</i>,...</span>]</span>] [<span class="opt"><b class="flag">-s</b> <i class="arg">shell</i></span>] [<span class="opt"><b class="flag">-u</b> <i class="arg">uid</i></span>] <i class="arg">user</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">usermod</b> utility modifies user login information on the system.<div class="spacer">
</div>
Default values are taken from the information provided in the <i class="file">/etc/usermgmt.conf</i> file, which, if running as root, is created using the built-in defaults if it does not exist.<div class="spacer">
</div>
After setting any defaults, and then reading values from <i class="file">/etc/usermgmt.conf</i>, the following command line options are processed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b> <i class="arg">comment</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the comment field (also, for historical reasons known as the GECOS field) which will be added for the user, and typically will include the user's full name and, perhaps, contact information for the user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b> <i class="arg">home-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the home directory to <i class="arg">home-directory</i> without populating it; if the <b class="flag">-m</b> option is specified, tries to move the old home directory to <i class="arg">home-directory</i>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b> <i class="arg">expiry-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the time at which the account expires. It should be entered in the form &#8220;month day year&#8221;, where month is the month name (the first three characters are sufficient), day is the day of the month, and year is the year. Time in seconds since the Epoch (UTC) is also valid. A value of 0 can be used to disable this feature. This value can be preset for new users using the <i class="arg">expire</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">inactive-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the time at which the password expires. See the <b class="flag">-e</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-G</b> <i class="arg">secondary-group</i>[<span class="opt">,<i class="arg">group</i>,...</span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Appends the user to the given groups in the <i class="file">/etc/group</i> file. <b class="flag">-G</b> and <b class="flag">-S</b> are mutually exclusive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <b class="flag">=uid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Gives the group name or identifier to be used for the user's primary group. If this is the special string <b class="flag">=uid</b>, then a UID and GID will be picked which are both unique and the same, and a line added to <i class="file">/etc/group</i> to describe the new group. This value can be preset for all users by using the <i class="arg">gid</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b> <i class="arg">login-class</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This option sets the login class for the user being created. See <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a> for more information on user login classes. This value can be preset for all users by using the <i class="arg">class</i> field in the <i class="file">/etc/usermgmt.conf</i> file. <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b> <i class="arg">new-login</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Gives the new user name. It must consist of alphanumeric characters, or the characters &#8216;<code class="lit">.</code>&#8217;, &#8216;<code class="lit">-</code>&#8217; or &#8216;<code class="lit">_</code>&#8217;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Moves the home directory from its old position to the new one. If <b class="flag">-d</b> is not specified, the <i class="arg">new-user</i> argument of the <b class="flag">-l</b> option is used; one of <b class="flag">-d</b> and <b class="flag">-l</b> is needed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Allows duplicate UIDs to be given.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-p</b> <i class="arg">password</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies an already-encrypted password for the user. This password can then be changed by using the <a class="link-man" href="../html1/chpass.html">chpass(1)</a> utility. This value can be preset for all users by using the <i class="arg">password</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-S</b> <i class="arg">secondary-group</i>[<span class="opt">,<i class="arg">group</i>,...</span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the secondary groups the user will be a member of in the <i class="file">/etc/group</i> file. Setting <i class="arg">secondary-group</i> to an empty value (e.g. '') removes the user from all secondary groups. <b class="flag">-S</b> and <b class="flag">-G</b> are mutually exclusive.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b> <i class="arg">shell</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies the login shell for the user. This value can be preset for all users by using the <i class="arg">shell</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-U</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Unlock the account by removing the trailing &#8216;<code class="lit">-</code>&#8217; from the user's shell and the &#8216;<code class="lit">*</code>&#8217; prefix from the password. <b class="flag">-U</b> and <b class="flag">-Z</b> are mutually exclusive and cannot be used with <b class="flag">-p</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b> <i class="arg">uid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies a new UID for the user. Boundaries for this value can be preset for all users by using the <i class="arg">range</i> field in the <i class="file">/etc/usermgmt.conf</i> file. See <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enables verbose mode - explain the commands as they are executed.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-Z</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Lock the account by appending a &#8216;<code class="lit">-</code>&#8217; to the user's shell and prefixing the password with &#8216;<code class="lit">*</code>&#8217;. <b class="flag">-Z</b> and <b class="flag">-U</b> are mutually exclusive and cannot be used with <b class="flag">-p</b>.</dd>
</dl>
<div class="spacer">
</div>
Once the information has been verified, <b class="name">usermod</b> uses <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a> to update the user database. This is run in the background and, at very large sites, could take several minutes. Until this update is completed, the password file is unavailable for other updates and the new information is not available to programs.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/usermgmt.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">usermod</b> utility exits&#160;0 on success, and&#160;&gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/chpass.html">chpass(1)</a>, <a class="link-man" href="../html5/group.html">group(5)</a>, <a class="link-man" href="../html5/passwd.html">passwd(5)</a>, <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a>, <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> Other implementations of the <b class="name">usermod</b> utility use the <i class="arg">inactive-time</i> parameter to refer to the maximum number of days allowed between logins (this is used to lock &quot;stale&quot; accounts that have not been used for a period of time). However, on <span class="unix">OpenBSD</span> systems this parameter refers instead to the password change time. This is due to differences in the <a class="link-man" href="../html5/passwd.html">passwd(5)</a> database compared to other operating systems.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">usermod</b> utility first appeared in <span class="unix">OpenBSD&#160;2.7</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">usermod</b> utility was written by <span class="author">Alistair G. Crooks</span> &lt;<a class="link-mail" href="mailto:agc@NetBSD.org">agc@NetBSD.org</a>&gt;.</div>
</div>
</body>
</html>

