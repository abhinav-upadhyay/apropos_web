<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
RCCTL(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">rcctl</b> &#8212; <span class="desc">configure and control daemons and services</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 5.00ex;"/>
<col/>
<tbody>
<tr>
<td>
rcctl</td>
<td>
<b class="flag">get</b>|<b class="flag">getdef</b>|<b class="flag">set</b> <i class="arg">service</i> | <i class="arg">daemon</i> [<span class="opt"><i class="arg">variable</i> [<span class="opt"><i class="arg">arguments</i></span>]</span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 5.00ex;"/>
<col/>
<tbody>
<tr>
<td>
rcctl</td>
<td>
[<span class="opt"><b class="flag">-df</b></span>] <i class="arg">action daemon ...</i></td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 5.00ex;"/>
<col/>
<tbody>
<tr>
<td>
rcctl</td>
<td>
<b class="flag">disable</b>|<b class="flag">enable</b>|<b class="flag">order</b> [<span class="opt"><i class="arg">daemon ...</i></span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 5.00ex;"/>
<col/>
<tbody>
<tr>
<td>
rcctl</td>
<td>
<b class="flag">ls</b> <i class="arg">lsarg</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">rcctl</b> utility can enable or disable a base system <i class="arg">service</i> or a base system or package <i class="arg">daemon</i> in <a class="link-man" href="../html8/rc.conf.local.html">rc.conf.local(8)</a> or display its configuration and status. For a <i class="arg">daemon</i>, it can also change the command line arguments, the user to run as, the <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a> action timeout or call its <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a> <i class="arg">daemon</i> control script.<div class="spacer">
</div>
The following commands are available (<i class="arg">variable</i> can be one of <b class="flag">class</b>, <b class="flag">flags</b>, <b class="flag">status</b>, <b class="flag">timeout</b> or <b class="flag">user</b>):<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="opt"><b class="flag">-df</b></span>] <i class="arg">action daemon ...</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Run the <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a> <i class="arg">daemon</i> scripts with the <i class="arg">action</i> argument, passing through the specified options, if any.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">disable</b> <i class="arg">service ...</i> | <i class="arg">daemon ...</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Alias for <b class="flag">set</b> <i class="arg">service</i>|<i class="arg">daemon</i> <b class="flag">status off</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">enable</b> <i class="arg">service ...</i> | <i class="arg">daemon ...</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Alias for <b class="flag">set</b> <i class="arg">service</i>|<i class="arg">daemon</i> <b class="flag">status on</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">get</b> <i class="arg">service</i> | <i class="arg">daemon</i> [<span class="opt"><i class="arg">variable</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Display the value of <i class="arg">service</i> or <i class="arg">daemon</i>_<i class="arg">variable</i>. If <i class="arg">variable</i> is empty, display all <i class="arg">service</i> or <i class="arg">daemon</i> variables and values in a format compatible with <a class="link-man" href="../html8/rc.conf.html">rc.conf(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">getdef</b> <i class="arg">service</i> | <i class="arg">daemon</i> [<span class="opt"><i class="arg">variable</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Like <b class="flag">get</b> but returns the default values.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">ls</b> <i class="arg">lsarg</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Display a list of services and daemons matching <i class="arg">lsarg</i>, which can be one of:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">all</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
all services and daemons</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">failed</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
enabled but stopped daemons</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">off</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
disabled services and daemons</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">on</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
enabled services and daemons</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">started</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
running daemons</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="flag">stopped</b></dt>
<dd class="list-tag" style="margin-left: 7.00ex;">
stopped daemons</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">order</b> [<span class="opt"><i class="arg">daemon ...</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Move the specified package daemons to the beginning of <b class="var">pkg_scripts</b>. They need to be already enabled. If no <i class="arg">daemon</i> is specified, display the current order.<div class="spacer">
</div>
The <b class="flag">order</b> command is only needed after enabling a new daemon that needs to run before one or more already enabled daemons. Specify the new daemon preceded by all that need to run before it, but not the ones depending on it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">set</b> <i class="arg">service</i> | <i class="arg">daemon variable</i> [<span class="opt"><i class="arg">arguments</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
For a daemon, set the variable <i class="arg">daemon</i>_<i class="arg">variable</i> to the specified <i class="arg">arguments</i>. If <i class="arg">variable</i> is already set, <i class="arg">daemon</i>_<i class="arg">variable</i> is reset to the optionally provided <i class="arg">arguments</i> or to its default value.<div class="spacer">
</div>
The <b class="flag">status</b> <i class="arg">variable</i> must be provided with the <b class="flag">on</b> or <b class="flag">off</b> <i class="arg">arguments</i>. It is used to enable or disable <i class="arg">service</i> or <i class="arg">daemon</i> in <a class="link-man" href="../html8/rc.conf.local.html">rc.conf.local(8)</a>. When a disabled package daemon is enabled, it is appended to the end of <b class="var">pkg_scripts</b>. When a package daemon is disabled, it is removed from <b class="var">pkg_scripts</b>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> <b class="name">rcctl</b> <i class="arg">action</i> returns with the exit status of the <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a> <i class="arg">daemon</i> script. <b class="name">rcctl</b> <b class="flag">get</b> <i class="arg">daemon</i> | <i class="arg">service</i> [<span class="opt"><b class="flag">status</b></span>] exits with 0 if the daemon or service is enabled and 1 if it is not. <b class="name">rcctl</b> <b class="flag">getdef</b> <i class="arg">daemon</i> | <i class="arg">service</i> [<span class="opt"><b class="flag">status</b></span>] exits with 0 if the daemon or service is enabled by default and 1 if it is not. <b class="name">rcctl</b> <b class="flag">ls failed</b> exits with 1 if an enabled daemon is not running. Otherwise, the <b class="name">rcctl</b> utility exits with 0 on success, and &gt;0 if an error occurs (2 indicates a non-existent <i class="arg">daemon</i> | <i class="arg">service</i>).</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Enable and set <a class="link-man" href="../html8/apmd.html">apmd(8)</a> flags:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
# rcctl set apmd status on 
# rcctl set apmd flags -A 
# rcctl get apmd 
apmd_class=daemon 
apmd_flags=-A 
apmd_rtable=0 
apmd_timeout=30 
apmd_user=root 
# echo $? 
0</pre>
<div class="spacer">
</div>
The recommended way to run a second copy of a given daemon for a different purpose is to create a symbolic link to its <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a> control script:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
# ln -s /etc/rc.d/snmpd /etc/rc.d/snmpd6 
# rcctl set snmpd6 status on 
# rcctl set snmpd6 flags -D addr=2001:db8::1234 
# rcctl start snmpd6</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html8/rc.conf.local.html">rc.conf.local(8)</a>, <a class="link-man" href="../html8/rc.d.html">rc.d(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> <b class="name">rcctl</b> first appeared in <span class="unix">OpenBSD&#160;5.7</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <b class="name">rcctl</b> was written by <span class="author">Antoine Jacoutot</span> &lt;<a class="link-mail" href="mailto:ajacoutot@openbsd.org">ajacoutot@openbsd.org</a>&gt;.</div>
</div>
</body>
</html>

