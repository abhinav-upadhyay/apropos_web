<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
USERADD(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">useradd</b> &#8212; <span class="desc">add a user to the system</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 7.00ex;"/>
<col/>
<tbody>
<tr>
<td>
useradd</td>
<td>
<b class="flag">-D</b> [<span class="opt"><b class="flag">-b</b> <i class="arg">base-directory</i></span>] [<span class="opt"><b class="flag">-e</b> <i class="arg">expiry-time</i></span>] [<span class="opt"><b class="flag">-f</b> <i class="arg">inactive-time</i></span>] [<span class="opt"><b class="flag">-g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <b class="flag">=uid</b></span>] [<span class="opt"><b class="flag">-k</b> <i class="arg">skel-directory</i></span>] [<span class="opt"><b class="flag">-L</b> <i class="arg">login-class</i></span>] [<span class="opt"><b class="flag">-r</b> <i class="arg">low</i>..<i class="arg">high</i></span>] [<span class="opt"><b class="flag">-s</b> <i class="arg">shell</i></span>]</td>
</tr>
</tbody>
</table>
<br/>
<table class="synopsis">
<col style="width: 7.00ex;"/>
<col/>
<tbody>
<tr>
<td>
useradd</td>
<td>
[<span class="opt"><b class="flag">-mov</b></span>] [<span class="opt"><b class="flag">-b</b> <i class="arg">base-directory</i></span>] [<span class="opt"><b class="flag">-c</b> <i class="arg">comment</i></span>] [<span class="opt"><b class="flag">-d</b> <i class="arg">home-directory</i></span>] [<span class="opt"><b class="flag">-e</b> <i class="arg">expiry-time</i></span>] [<span class="opt"><b class="flag">-f</b> <i class="arg">inactive-time</i></span>] [<span class="opt"><b class="flag">-G</b> <i class="arg">secondary-group</i>[<span class="opt">,<i class="arg">group</i>,...</span>]</span>] [<span class="opt"><b class="flag">-g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <b class="flag">=uid</b></span>] [<span class="opt"><b class="flag">-k</b> <i class="arg">skel-directory</i></span>] [<span class="opt"><b class="flag">-L</b> <i class="arg">login-class</i></span>] [<span class="opt"><b class="flag">-p</b> <i class="arg">password</i></span>] [<span class="opt"><b class="flag">-r</b> <i class="arg">low</i>..<i class="arg">high</i></span>] [<span class="opt"><b class="flag">-s</b> <i class="arg">shell</i></span>] [<span class="opt"><b class="flag">-u</b> <i class="arg">uid</i></span>] <i class="arg">user</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">useradd</b> utility adds a user to the system, creating and populating a home directory if necessary. Any skeleton files will be provided for the new user if they exist in the <i class="arg">skel-directory</i> directory (see the <b class="flag">-k</b> option). Default values for the base directory, the time of password expiry, the time of account expiry, primary group, the skeleton directory, the range from which the UID will be allocated, and default login shell can be provided in the <i class="file">/etc/usermgmt.conf</i> file, which, if running as root, is created using the built-in defaults if it does not exist.<div class="spacer">
</div>
The first form of the command shown above (using the <b class="flag">-D</b> option) sets and displays the defaults for the <b class="name">useradd</b> utility.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b> <i class="arg">base-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the base directory. This is the directory to which the user directory is added, which will be created if the <b class="flag">-m</b> option is specified and no <b class="flag">-d</b> option is specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-D</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Without any further options, <b class="flag">-D</b> will show the current defaults which will be used by the <b class="name">useradd</b> utility. Together with one of the options shown for the first version of the command, <b class="flag">-D</b> will set the default to be the new value. See <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a> for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b> <i class="arg">expiry-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the default time at which new accounts will expire. It should be entered in the form &#8220;month day year&#8221;, where month is the month name (the first three characters are sufficient), day is the day of the month, and year is the year. Time in seconds since the Epoch (UTC) is also valid. A value of 0 can be used to disable this feature.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">inactive-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the time at which passwords of new accounts will expire. Also see the <b class="flag">-e</b> option above.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <b class="flag">=uid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the default group for new users.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b> <i class="arg">skel-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the skeleton directory in which to find files with which to populate new users' home directories.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b> <i class="arg">login-class</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the default login class for new users. See <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a> for more information on user login classes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b> <i class="arg">low</i>..<i class="arg">high</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the low and high bounds of UID ranges for new users. A new user can only be created if there are UIDs which can be assigned from one of the free ranges.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b> <i class="arg">shell</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the default login shell for new users.</dd>
</dl>
<div class="spacer">
</div>
In the second form of the command, after setting any defaults, and then reading values from <i class="file">/etc/usermgmt.conf</i>, the following command line options are processed:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b> <i class="arg">base-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the base directory name, in which the user's new home directory will be created, should the <b class="flag">-m</b> option be specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b> <i class="arg">comment</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the comment field (also, for historical reasons known as the GECOS field) which will be added for the user, and typically will include the user's full name and, perhaps, contact information for the user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b> <i class="arg">home-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the home directory which will be created and populated for the user, should the <b class="flag">-m</b> option be specified.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-e</b> <i class="arg">expiry-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the time at which the user account will expire. It should be entered in the form &#8220;month day year&#8221;, where month is the month name (the first three characters are sufficient), day is the day of the month, and year is the year. Time in seconds since the Epoch (UTC) is also valid. A value of 0 can be used to disable this feature. See <a class="link-man" href="../html5/passwd.html">passwd(5)</a> for more details.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b> <i class="arg">inactive-time</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the time at which the current password will expire. Also see the <b class="flag">-e</b> option above.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-G</b> <i class="arg">secondary-group</i>[<span class="opt">,<i class="arg">group</i>,...</span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the secondary groups to which the user will be added in the <i class="file">/etc/group</i> file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-g</b> <i class="arg">gid</i> | <i class="arg">name</i> | <b class="flag">=uid</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Gives the group name or identifier to be used for the new user's primary group. If this is the special string <b class="flag">=uid</b>, then a UID and GID will be picked which are both unique and the same, and a line added to <i class="file">/etc/group</i> to describe the new group.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b> <i class="arg">skel-directory</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Gives the skeleton directory in which to find files with which to populate the new user's home directory.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-L</b> <i class="arg">login-class</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
This option sets the login class for the user being created. See <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a> for more information on user login classes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Create a new home directory for the new user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-o</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Allow the new user to have a UID which is already in use for another user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-p</b> <i class="arg">password</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies an already-encrypted password for the new user. This password can then be changed by using the <a class="link-man" href="../html1/chpass.html">chpass(1)</a> utility. If this option is not specified, and no default exists in <i class="file">/etc/usermgmt.conf</i>, the account will be disabled by default.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b> <i class="arg">shell</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies the login shell for the new user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b> <i class="arg">uid</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specifies a UID for the new user. Boundaries for this value can be preset for all users by using the <i class="arg">range</i> field in the <i class="file">/etc/usermgmt.conf</i> file.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Enables verbose mode - explain the commands as they are executed.</dd>
</dl>
<div class="spacer">
</div>
Once the information has been verified, <b class="name">useradd</b> uses <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a> to update the user database. This is run in the background and, at very large sites, could take several minutes. Until this update is completed, the password file is unavailable for other updates and the new information is not available to programs.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/usermgmt.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/skel/*</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/login.conf</i></dt>
<dd class="list-tag" style="margin-left: 18.00ex;">
</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">useradd</b> utility exits&#160;0 on success, and&#160;&gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/chpass.html">chpass(1)</a>, <a class="link-man" href="../html5/group.html">group(5)</a>, <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>, <a class="link-man" href="../html5/passwd.html">passwd(5)</a>, <a class="link-man" href="../html5/usermgmt.conf.html">usermgmt.conf(5)</a>, <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a>, <a class="link-man" href="../html8/user.html">user(8)</a>, <a class="link-man" href="../html8/userdel.html">userdel(8)</a>, <a class="link-man" href="../html8/usermod.html">usermod(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> Other implementations of the <b class="name">useradd</b> utility use the <i class="arg">inactive-time</i> parameter to refer to the maximum number of days allowed between logins (this is used to lock &quot;stale&quot; accounts that have not been used for a period of time). However, on <span class="unix">OpenBSD</span> systems this parameter refers instead to the password change time. This is due to differences in the <a class="link-man" href="../html5/passwd.html">passwd(5)</a> database compared to other operating systems.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">useradd</b> utility first appeared in <span class="unix">OpenBSD&#160;2.7</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">useradd</b> utility was written by <span class="author">Alistair G. Crooks</span> &lt;<a class="link-mail" href="mailto:agc@NetBSD.org">agc@NetBSD.org</a>&gt;.</div>
</div>
</body>
</html>

