<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
GENASSYM.SH(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">genassym.sh</b> &#8212; <span class="desc">emit an assym.h file</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 11.00ex;"/>
<col/>
<tbody>
<tr>
<td>
sh genassym.sh</td>
<td>
[<span class="opt"><b class="flag">-c</b></span>] <i class="arg">C compiler invocation</i></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">genassym.sh</b> is a shell script normally used during the kernel build process to create an assym.h file. This file defines a number of cpp constants derived from the configuration information <b class="name">genassym.sh</b> reads from stdin. The generated file is used by kernel sources written in assembler to gain access to information (e.g. structure offsets and sizes) normally only known to the C compiler.<div class="spacer">
</div>
<b class="name">genassym.sh</b> resides in the <i class="file">/sys/kern</i> directory. Arguments to <b class="name">genassym.sh</b> are usually of the form <i class="arg">${CC} ${CFLAGS} ${CPPFLAGS}</i> where <i class="arg">${CC}</i> is the C compiler used to compile the kernel, while <i class="arg">${CFLAGS}</i> and <i class="arg">${CPPFLAGS}</i> are flag arguments to the C compiler. The script creates a C source file from its input. Then the C compiler is called according to the script's arguments to compile this file.<div class="spacer">
</div>
Normally <b class="name">genassym.sh</b> instructs the C compiler to create an assembler source from the constructed C source. The resulting file is then processed to extract the information needed to create the assym.h file. The <b class="flag">-c</b> flag instructs <b class="name">genassym.sh</b> to create slightly different code, generate an executable from this code and run it. In both cases the assym.h file is written to stdout.</div>
<div class="section">
<h1 id="x444941474e4f5354494353">DIAGNOSTICS</h1> Either self-explanatory, or generated by one of the programs called from the script. The script will exit with the return code from the compiler or, in the <b class="flag">-c</b> case, with the return code from the generated executable.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/genassym.cf.html">genassym.cf(5)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">genassym.sh</b> script first appeared in <span class="unix">OpenBSD&#160;2.2</span>.</div>
</div>
</body>
</html>

