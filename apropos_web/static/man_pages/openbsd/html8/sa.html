<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SA(8)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sa</b> &#8212; <span class="desc">print system accounting statistics</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 2.00ex;"/>
<col/>
<tbody>
<tr>
<td>
sa</td>
<td>
[<span class="opt"><b class="flag">-abcDdfijKklmnqrstu</b></span>] [<span class="opt"><b class="flag">-v</b> <i class="arg">cutoff</i></span>] [<span class="opt"><i class="arg">file ...</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">sa</b> utility reports on, cleans up, and generally maintains system accounting files. See <a class="link-man" href="../html8/accton.html">accton(8)</a> for details on enabling system accounting.<div class="spacer">
</div>
<b class="name">sa</b> is able to condense the information in <i class="file">/var/account/acct</i> into the summary files <i class="file">/var/account/savacct</i> and <i class="file">/var/account/usracct</i>, which contain system statistics according to command name and login ID, respectively. This condensation is desirable because on a large system, <i class="file">/var/account/acct</i> can grow by hundreds of blocks per day. The summary files are normally read before the accounting file, so that reports include all available information.<div class="spacer">
</div>
If file names are supplied, they are read instead of <i class="file">/var/account/acct</i>. After each file is read, if the summary files are being updated, an updated summary will be saved to disk. Only one report is printed, after the last file is processed.<div class="spacer">
</div>
The labels used in the output indicate the following, except where otherwise specified by individual options:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">avio</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Average number of I/O operations per execution.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">cp</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Sum of user and system time, in minutes.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">cpu</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Same as <span class="define">cp</span>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">k</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
CPU time averaged core usage, in 1k units.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">k*sec</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
CPU storage integral, in 1k-core seconds.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">re</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Real time, in minutes.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">s</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
System time, in minutes.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">tio</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
Total number of I/O operations.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<span class="define">u</span></dt>
<dd class="list-tag" style="margin-left: 5.00ex;">
User time, in minutes.</dd>
</dl>
<div class="spacer">
</div>
The options are as follows:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-a</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
List all command names, including those containing unprintable characters and those used only once. By default, <b class="name">sa</b> places all names containing unprintable characters and those used only once under the name &#8220;***other&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-b</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If printing command statistics, sort output by the sum of user and system time divided by number of calls.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-c</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
In addition to the number of calls and the user, system and real times for each command, print their percentage of the total over all commands.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-D</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If printing command statistics, sort and print by the total number of disk I/O operations.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-d</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If printing command statistics, sort by the average number of disk I/O operations. If printing user statistics, print the average number of disk I/O operations per user.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-f</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force no interactive threshold comparison with the <b class="flag">-v</b> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-i</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Do not read in the summary files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-j</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Instead of the total minutes per category, give seconds per call.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-K</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If printing command statistics, print and sort by the CPU-storage integral.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-k</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If printing command statistics, sort by the CPU time average memory usage. If printing user statistics, print the CPU time average memory usage.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-l</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Separate system and user time; normally they are combined.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-m</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Print per-user statistics rather than per-command statistics.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-n</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sort by number of calls.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-q</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Create no output other than error messages.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-r</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Reverse order of sort.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-s</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Truncate the accounting files when done and merge their data into the summary files.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-t</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
For each command, report the ratio of real time to the sum of user and system CPU times. If the CPU time is too small to report, &#8220;*ignore*&#8221; appears in this field.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-u</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Superseding all other flags, for each entry in the accounting file, print the user ID, total seconds of CPU usage, total memory usage, number of I/O operations performed, and command name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="flag">-v</b> <i class="arg">cutoff</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
For each command used <i class="arg">cutoff</i> times or fewer, print the command name and await a reply from the terminal. If the reply begins with &#8220;y&#8221;, add the command to the category &#8220;**junk**&#8221;. This flag is used to strip garbage from the report.</dd>
</dl>
<div class="spacer">
</div>
By default, per-command statistics will be printed. The number of calls, the total elapsed time in minutes, total CPU and user time in minutes, average number of I/O operations, and CPU time averaged core usage will be printed. If the <b class="flag">-m</b> option is specified, per-user statistics will be printed, including the user name, the number of commands invoked, total CPU time used (in minutes), total number of I/O operations, and CPU storage integral for each user. If the <b class="flag">-u</b> option is specified, the UID, user and system time (in seconds), CPU storage integral, I/O usage, and command name will be printed for each entry in the accounting data file.<div class="spacer">
</div>
If the <b class="flag">-u</b> flag is specified, all flags other than <b class="flag">-q</b> are ignored. If the <b class="flag">-m</b> flag is specified, only the <b class="flag">-b</b>, <b class="flag">-d</b>, <b class="flag">-i</b>, <b class="flag">-k</b>, <b class="flag">-q</b>, and <b class="flag">-s</b> flags are honored.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/account/acct</i></dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
raw accounting data file</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/account/savacct</i></dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
per-command accounting summary database</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/account/usracct</i></dt>
<dd class="list-tag" style="margin-left: 20.00ex;">
per-user accounting summary database</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558495420535441545553">EXIT STATUS</h1> The <b class="utility">sa</b> utility exits&#160;0 on success, and&#160;&gt;0 if an error occurs.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/lastcomm.html">lastcomm(1)</a>, <a class="link-man" href="../html5/acct.html">acct(5)</a>, <a class="link-man" href="../html8/ac.html">ac(8)</a>, <a class="link-man" href="../html8/accton.html">accton(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> <b class="name">sa</b> was written for <span class="unix">NetBSD&#160;0.9a</span> from the specification provided by various systems' manual pages. Its date of origin is unknown to the author.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Chris G. Demetriou</span> &lt;<a class="link-mail" href="mailto:cgd@postgres.berkeley.edu">cgd@postgres.berkeley.edu</a>&gt;</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> While the behavior of the options in this version of <b class="name">sa</b> was modeled after the original version, there are some intentional differences and undoubtedly some unintentional ones as well. In particular, the <b class="flag">-q</b> option has been added, and the <b class="flag">-m</b> option now understands more options than it used to.<div class="spacer">
</div>
The formats of the summary files created by this version of <b class="name">sa</b> are very different than those used by the original version. This is not considered a problem, however, because the accounting record format has changed as well (since user IDs are now 32 bits).</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The number of options to this program is absurd, especially considering that there's not much logic behind their lettering.<div class="spacer">
</div>
The field labels should be more consistent.<div class="spacer">
</div>
OpenBSD's VM system does not record the CPU storage integral.</div>
</div>
</body>
</html>

