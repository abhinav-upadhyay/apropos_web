<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SETREUID(2)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">setreuid</b> &#8212; <span class="desc">set real and effective user IDs</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">unistd.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">setreuid</b>(<i class="farg" style="white-space:nowrap;">uid_t ruid</i>, <i class="farg" style="white-space:nowrap;">uid_t euid</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The real and effective user IDs of the current process are set according to the arguments. The saved user ID will be set to the new value of the real user ID if a real user ID is specified and either the new real user ID value is different from the current value or the new value of the effective user ID differs from the current saved user ID.<div class="spacer">
</div>
Unprivileged users may change either user ID to the current value of the real, effective, or saved user ID. Only the superuser may make other changes.<div class="spacer">
</div>
Supplying a value of -1 for either the real or effective user ID forces the system to substitute the current ID in place of the -1 parameter.<div class="spacer">
</div>
The <b class="fname">setreuid</b>() function was intended to allow swapping the real and effective user IDs in set-user-ID programs to temporarily relinquish the set-user-ID value. This purpose is now better served by the use of the <a class="link-man" href="../html2/seteuid.html">seteuid(2)</a> function.<div class="spacer">
</div>
When setting the real and effective user IDs to the same value, the <a class="link-man" href="../html2/setuid.html">setuid(2)</a> function is preferred.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Upon successful completion, the value&#160;0 is returned; otherwise the value&#160;-1 is returned and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EPERM</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The current process is not the superuser and a change other than changing the effective user ID to the real user ID was specified.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/getuid.html">getuid(2)</a>, <a class="link-man" href="../html2/seteuid.html">seteuid(2)</a>, <a class="link-man" href="../html2/setregid.html">setregid(2)</a>, <a class="link-man" href="../html2/setresuid.html">setresuid(2)</a>, <a class="link-man" href="../html2/setuid.html">setuid(2)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">setreuid</b>() function conforms to the IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;) specification, except that the conditions for changing the saved user ID differ and that, if it is changed, the saved user ID is set to the real user ID instead of the effective user ID.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">setreuid</b>() system call first appeared in <span class="unix">4.1cBSD</span>, predating POSIX. A semantically different version appeared in <span class="unix">4.4BSD</span>. The current version, with the original semantics restored, appeared in <span class="unix">OpenBSD&#160;3.3</span>.</div>
</div>
</body>
</html>

