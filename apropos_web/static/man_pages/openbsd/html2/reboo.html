<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
REBOOT(2)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">reboot</b> &#8212; <span class="desc">reboot system or halt processor</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">unistd.h</a>&gt;</b><br/>
<b class="includes">#include &lt;<a class="link-includes">sys/reboot.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">reboot</b>(<i class="farg" style="white-space:nowrap;">int howto</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="fname">reboot</b>() reboots the system. Only the superuser may reboot a machine on demand. However, a reboot is invoked automatically in the event of unrecoverable system failures.<div class="spacer">
</div>
<i class="farg">howto</i> is a mask of options; the system call interface allows the following options, defined in the include file <b class="includes">&lt;<a class="link-includes">sys/reboot.h</a>&gt;</b>, to be passed to the new kernel or the new bootstrap and init programs.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_AUTOBOOT</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The default, causing the system to reboot in its usual fashion.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_ASKNAME</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Interpreted by the bootstrap program itself, causing it to prompt on the console as to what file should be booted. Normally, the system is booted from the file &#8220;<span class="emph">xx</span>(0,0)bsd&#8221;, where <span class="emph">xx</span> is the default disk name, without prompting for the file name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_DFLTROOT</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Use the compiled in root device. Normally, the system uses the device from which it was booted as the root device if possible. (The default behavior is dependent on the ability of the bootstrap program to determine the drive from which it was loaded, which is not possible on all systems.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_DUMP</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Dump kernel memory before rebooting; see <a class="link-man" href="../html8/savecore.html">savecore(8)</a> for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_HALT</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
The processor is simply halted; no reboot takes place.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_POWERDOWN</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
If used in conjunction with <span class="define">RB_HALT</span>, and if the system hardware supports the function, the system will be powered off.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_USERREQ</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
By default, the system will halt if <b class="fname">reboot</b>() is called during startup (before the system has finished autoconfiguration), even if <span class="define">RB_HALT</span> is not specified. This is because <a class="link-man" href="../html9/panic.html">panic(9)</a>s during startup will probably just repeat on the next boot. Use of this option implies that the user has requested the action specified (for example, using the <a class="link-man" href="../html4/ddb.html">ddb(4)</a> <b class="cmd">boot reboot</b> command), so the system will reboot if a halt is not explicitly requested.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_INITNAME</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
An option allowing the specification of an init program (see <a class="link-man" href="../html8/init.html">init(8)</a>) other than <i class="file">/sbin/init</i> to be run when the system reboots. This switch is not currently available.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_KDB</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Load the symbol table and enable a built-in debugger in the system. This option will have no useful function if the kernel is not configured for debugging. Several other options have different meaning if combined with this option, although their use may not be possible via the <b class="fname">reboot</b>() call. See <a class="link-man" href="../html4/ddb.html">ddb(4)</a> for more information.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_NOSYNC</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Normally, the disks are sync'd (see <a class="link-man" href="../html8/sync.html">sync(8)</a>) before the processor is halted or rebooted. This option may be useful if file system changes have been made manually or if the processor is on fire.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_RDONLY</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Initially mount the root file system read-only. This is currently the default, and this option has been deprecated.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">RB_SINGLE</span></dt>
<dd class="list-tag" style="margin-left: 12.00ex;">
Normally, the reboot procedure involves an automatic disk consistency check and then multi-user operations. <span class="define">RB_SINGLE</span> prevents this, booting the system with a single-user shell on the console. <span class="define">RB_SINGLE</span> is actually interpreted by the <a class="link-man" href="../html8/init.html">init(8)</a> program in the newly booted system.<div class="spacer">
</div>
When no options are given (i.e., <span class="define">RB_AUTOBOOT</span> is used), the system is rebooted from file <i class="file">/bsd</i> in the root file system of unit 0 of a disk chosen in a processor specific way. An automatic consistency check of the disks is normally performed (see <a class="link-man" href="../html8/fsck.html">fsck(8)</a>).</dd>
</dl>
</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> If successful, this call never returns. Otherwise, a -1 is returned and an error is returned in the global variable <b class="var">errno</b>.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EPERM</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The caller is not the superuser.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html4/ddb.html">ddb(4)</a>, <a class="link-man" href="../html8/crash.html">crash(8)</a>, <a class="link-man" href="../html8/halt.html">halt(8)</a>, <a class="link-man" href="../html8/init.html">init(8)</a>, <a class="link-man" href="../html8/reboot.html">reboot(8)</a>, <a class="link-man" href="../html8/savecore.html">savecore(8)</a>, <a class="link-man" href="../html9/boot.html">boot(9)</a>, <a class="link-man" href="../html9/panic.html">panic(9)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">reboot</b>() system call finally appeared in <span class="unix">4.0BSD</span>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Not all platforms support all possible arguments.</div>
</div>
</body>
</html>

