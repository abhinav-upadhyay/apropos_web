<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
GETITIMER(2)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">getitimer</b>, <b class="name">setitimer</b>, <b class="name">timerclear</b>, <b class="name">timerisset</b>, <b class="name">timercmp</b>, <b class="name">timersub</b>, <b class="name">timeradd</b> &#8212; <span class="desc">get/set value of interval timer</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/time.h</a>&gt;</b><div class="spacer">
</div>
<br/>
<b class="macro">#define ITIMER_REAL		0</b><br/>
<b class="macro">#define ITIMER_VIRTUAL	1</b><br/>
<b class="macro">#define ITIMER_PROF		2</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">getitimer</b>(<i class="farg" style="white-space:nowrap;">int which</i>, <i class="farg" style="white-space:nowrap;">struct itimerval *value</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">setitimer</b>(<i class="farg" style="white-space:nowrap;">int which</i>, <i class="farg" style="white-space:nowrap;">const struct itimerval *value</i>, <i class="farg" style="white-space:nowrap;">struct itimerval *ovalue</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">timerclear</b>(<i class="farg" style="white-space:nowrap;">struct timeval *</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">timerisset</b>(<i class="farg" style="white-space:nowrap;">struct timeval *</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">timercmp</b>(<i class="farg" style="white-space:nowrap;">struct timeval *a</i>, <i class="farg" style="white-space:nowrap;">struct timeval *b</i>, <i class="farg" style="white-space:nowrap;">CMP</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">timersub</b>(<i class="farg" style="white-space:nowrap;">struct timeval *a</i>, <i class="farg" style="white-space:nowrap;">struct timeval *b</i>, <i class="farg" style="white-space:nowrap;">struct timeval *res</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">timeradd</b>(<i class="farg" style="white-space:nowrap;">struct timeval *a</i>, <i class="farg" style="white-space:nowrap;">struct timeval *b</i>, <i class="farg" style="white-space:nowrap;">struct timeval *res</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The system provides each process with three interval timers, defined in <b class="includes">&lt;<a class="link-includes">sys/time.h</a>&gt;</b>. The <b class="fname">getitimer</b>() call returns the current value for the timer specified in <i class="farg">which</i> in the structure at <i class="farg">value</i>. The <b class="fname">setitimer</b>() call sets a timer to the specified <i class="farg">value</i> (returning the previous value of the timer if <i class="farg">ovalue</i> is non-null).<div class="spacer">
</div>
A timer value is defined by the <i class="farg">itimerval</i> structure:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
struct itimerval { 
	struct	timeval it_interval;	/* timer interval */ 
	struct	timeval it_value;	/* current value */ 
};</pre>
<div class="spacer">
</div>
If <i class="farg">it_value</i> is non-zero, it indicates the time to the next timer expiration. If <i class="farg">it_interval</i> is non-zero, it specifies a value to be used in reloading <i class="farg">it_value</i> when the timer expires. Setting <i class="farg">it_value</i> to 0 disables a timer. Setting <i class="farg">it_interval</i> to 0 causes a timer to be disabled after its next expiration (assuming <i class="farg">it_value</i> is non-zero).<div class="spacer">
</div>
Time values smaller than the resolution of the system clock are rounded up to this resolution (typically 10 milliseconds).<div class="spacer">
</div>
The <span class="define">ITIMER_REAL</span> timer decrements in real time. A <span class="define">SIGALRM</span> signal is delivered when this timer expires.<div class="spacer">
</div>
The <span class="define">ITIMER_VIRTUAL</span> timer decrements in process virtual time. It runs only when the process is executing. A <span class="define">SIGVTALRM</span> signal is delivered when it expires.<div class="spacer">
</div>
The <span class="define">ITIMER_PROF</span> timer decrements both in process virtual time and when the system is running on behalf of the process. It is designed to be used by interpreters in statistically profiling the execution of interpreted programs. Each time the <span class="define">ITIMER_PROF</span> timer expires, the <span class="define">SIGPROF</span> signal is delivered. Because this signal may interrupt in-progress system calls, programs using this timer must be prepared to restart interrupted system calls.<div class="spacer">
</div>
The remaining five functions are in fact macros for manipulating time values, defined in <b class="includes">&lt;<a class="link-includes">sys/time.h</a>&gt;</b>.<div class="spacer">
</div>
<b class="fname">timerclear</b>(<i class="farg">a</i>) sets the time value in <i class="farg">a</i> to zero.<div class="spacer">
</div>
<b class="fname">timerisset</b>(<i class="farg">a</i>) tests if the time value in <i class="farg">a</i> is non-zero.<div class="spacer">
</div>
<b class="fname">timercmp</b>(<i class="farg">a</i>, <i class="farg">b</i>, <i class="farg">CMP</i>) compares two time values in the form <i class="farg">a</i> CMP <i class="farg">b</i>, where <i class="farg">CMP</i> is &lt;, &lt;=, ==, !=, &gt;=, or &gt; .<div class="spacer">
</div>
<b class="fname">timersub</b>(<i class="farg">a</i>, <i class="farg">b</i>, <i class="farg">res</i>) subtracts <i class="farg">a</i> - <i class="farg">b</i> and stores the result in <i class="farg">res</i>.<div class="spacer">
</div>
<b class="fname">timeradd</b>(<i class="farg">a</i>, <i class="farg">b</i>, <i class="farg">res</i>) adds two timers and stores the result in <i class="farg">res</i>.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> Upon successful completion, the value&#160;0 is returned; otherwise the value&#160;-1 is returned and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">getitimer</b>() and <b class="fname">setitimer</b>() will fail if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EFAULT</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">value</i> parameter specified a bad address.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
An unrecognized value for <i class="farg">which</i> was specified.</dd>
</dl>
<div class="spacer">
</div>
In addition, <b class="fname">setitimer</b>() may return the following error:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
<i class="farg">value</i> or <i class="farg">ovalue</i> specified a time that was too large to be handled.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/clock_gettime.html">clock_gettime(2)</a>, <a class="link-man" href="../html2/gettimeofday.html">gettimeofday(2)</a>, <a class="link-man" href="../html2/poll.html">poll(2)</a>, <a class="link-man" href="../html2/select.html">select(2)</a>, <a class="link-man" href="../html2/sigaction.html">sigaction(2)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">getitimer</b>() and <b class="fname">setitimer</b>() functions conform to IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;).</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">getitimer</b>() and <b class="fname">setitimer</b>() system calls first appeared in <span class="unix">4.1cBSD</span>.</div>
</div>
</body>
</html>

