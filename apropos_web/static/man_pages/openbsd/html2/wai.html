<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
WAIT(2)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">wait</b>, <b class="name">waitpid</b>, <b class="name">wait4</b>, <b class="name">wait3</b>, <b class="name">WCOREDUMP</b>, <b class="name">WEXITSTATUS</b>, <b class="name">WIFCONTINUED</b>, <b class="name">WIFEXITED</b>, <b class="name">WIFSIGNALED</b>, <b class="name">WIFSTOPPED</b>, <b class="name">WSTOPSIG</b>, <b class="name">WTERMSIG</b> &#8212; <span class="desc">wait for process termination</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">sys/wait.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">pid_t</i><br/>
<b class="fname">wait</b>(<i class="farg" style="white-space:nowrap;">int *status</i>);<div class="spacer">
</div>
<i class="ftype">pid_t</i><br/>
<b class="fname">waitpid</b>(<i class="farg" style="white-space:nowrap;">pid_t wpid</i>, <i class="farg" style="white-space:nowrap;">int *status</i>, <i class="farg" style="white-space:nowrap;">int options</i>);<div class="spacer">
</div>
<b class="includes">#include &lt;<a class="link-includes">sys/resource.h</a>&gt;</b><br/>
<b class="includes">#include &lt;<a class="link-includes">sys/wait.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">pid_t</i><br/>
<b class="fname">wait3</b>(<i class="farg" style="white-space:nowrap;">int *status</i>, <i class="farg" style="white-space:nowrap;">int options</i>, <i class="farg" style="white-space:nowrap;">struct rusage *rusage</i>);<div class="spacer">
</div>
<i class="ftype">pid_t</i><br/>
<b class="fname">wait4</b>(<i class="farg" style="white-space:nowrap;">pid_t wpid</i>, <i class="farg" style="white-space:nowrap;">int *status</i>, <i class="farg" style="white-space:nowrap;">int options</i>, <i class="farg" style="white-space:nowrap;">struct rusage *rusage</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">wait</b>() function suspends execution of its calling process until <i class="farg">status</i> information is available for a terminated child process, or a signal is received. On return from a successful <b class="fname">wait</b>() call, the <i class="farg">status</i> area, if non-zero, is filled in with termination information about the process that exited (see below).<div class="spacer">
</div>
The <b class="fname">wait4</b>() call provides a more general interface for programs that need to wait for certain child processes, that need resource utilization statistics accumulated by child processes, or that require options. The other wait functions are implemented using <b class="fname">wait4</b>().<div class="spacer">
</div>
The <i class="farg">wpid</i> parameter specifies the set of child processes for which to wait. The following symbolic constants are currently defined in <b class="includes">&lt;<a class="link-includes">sys/wait.h</a>&gt;</b>:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
#define WAIT_ANY        (-1)    /* any process */ 
#define WAIT_MYPGRP     0       /* any process in my process group */</pre>
<div class="spacer">
</div>
If <i class="farg">wpid</i> is set to <span class="define">WAIT_ANY</span>, the call waits for any child process. If <i class="farg">wpid</i> is set to <span class="define">WAIT_MYPGRP</span>, the call waits for any child process in the process group of the caller. If <i class="farg">wpid</i> is greater than zero, the call waits for the process with process ID <i class="farg">wpid</i>. If <i class="farg">wpid</i> is less than -1, the call waits for any process whose process group ID equals the absolute value of <i class="farg">wpid</i>.<div class="spacer">
</div>
The <i class="farg">status</i> parameter is defined below. The <i class="farg">options</i> argument is the bitwise OR of zero or more of the following values:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">WCONTINUED</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Causes status to be reported for stopped child processes that have been continued by receipt of a <span class="define">SIGCONT</span> signal.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">WNOHANG</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
Indicates that the call should not block if there are no processes that wish to report status.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="define">WUNTRACED</span></dt>
<dd class="list-tag" style="margin-left: 10.00ex;">
If set, children of the current process that are stopped due to a <span class="define">SIGTTIN</span>, <span class="define">SIGTTOU</span>, <span class="define">SIGTSTP</span>, or <span class="define">SIGSTOP</span> signal also have their status reported.</dd>
</dl>
<div class="spacer">
</div>
If <i class="farg">rusage</i> is non-zero, a summary of the resources used by the terminated process and all its children is returned (this information is currently not available for stopped processes).<div class="spacer">
</div>
When the <span class="define">WNOHANG</span> option is specified and no processes wish to report status, <b class="fname">wait4</b>() returns a process ID of 0.<div class="spacer">
</div>
The <b class="fname">waitpid</b>() call is identical to <b class="fname">wait4</b>() with an <i class="farg">rusage</i> value of zero. The older <b class="fname">wait3</b>() call is the same as <b class="fname">wait4</b>() with a <i class="farg">wpid</i> value of -1.<div class="spacer">
</div>
The following macros may be used to test the manner of exit of the process. One of the first three macros will evaluate to a non-zero (true) value:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">WIFCONTINUED</b>(<i class="farg">status</i>)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
True if the process has not terminated, and has continued after a job control stop. This macro can be true only if the wait call specified the <span class="define">WCONTINUED</span> option.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">WIFEXITED</b>(<i class="farg">status</i>)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
True if the process terminated normally by a call to <a class="link-man" href="../html2/_exit.html">_exit(2)</a> or <a class="link-man" href="../html3/exit.html">exit(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">WIFSIGNALED</b>(<i class="farg">status</i>)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
True if the process terminated due to receipt of a signal.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">WIFSTOPPED</b>(<i class="farg">status</i>)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
True if the process has not terminated, but has stopped and can be restarted. This macro can be true only if the wait call specified the <span class="define">WUNTRACED</span> option or if the child process is being traced (see <a class="link-man" href="../html2/ptrace.html">ptrace(2)</a>).</dd>
</dl>
<div class="spacer">
</div>
Depending on the values of those macros, the following macros produce the remaining status information about the child process:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">WEXITSTATUS</b>(<i class="farg">status</i>)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If <b class="fname">WIFEXITED</b>(<i class="farg">status</i>) is true, evaluates to the low-order 8 bits of the argument passed to <a class="link-man" href="../html2/_exit.html">_exit(2)</a> or <a class="link-man" href="../html3/exit.html">exit(3)</a> by the child.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">WTERMSIG</b>(<i class="farg">status</i>)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If <b class="fname">WIFSIGNALED</b>(<i class="farg">status</i>) is true, evaluates to the number of the signal that caused the termination of the process.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">WCOREDUMP</b>(<i class="farg">status</i>)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If <b class="fname">WIFSIGNALED</b>(<i class="farg">status</i>) is true, evaluates as true if the termination of the process was accompanied by the creation of a core file containing an image of the process when the signal was received.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="fname">WSTOPSIG</b>(<i class="farg">status</i>)</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
If <b class="fname">WIFSTOPPED</b>(<i class="farg">status</i>) is true, evaluates to the number of the signal that caused the process to stop.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4e4f544553">NOTES</h1> See <a class="link-man" href="../html2/sigaction.html">sigaction(2)</a> for a list of termination signals. A status of 0 indicates normal termination.<div class="spacer">
</div>
If a parent process terminates without waiting for all of its child processes to terminate, the remaining child processes are assigned the parent process 1 ID (the init process ID).<div class="spacer">
</div>
If a signal is caught while any of the <b class="fname">wait</b>() calls is pending, the call may be interrupted or restarted when the signal-catching routine returns, depending on the options in effect for the signal; for further information, see <a class="link-man" href="../html3/siginterrupt.html">siginterrupt(3)</a>.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> If <b class="fname">wait</b>() returns due to a stopped or terminated child process, the process ID of the child is returned to the calling process. Otherwise, a value of -1 is returned and <b class="var">errno</b> is set to indicate the error.<div class="spacer">
</div>
If <b class="fname">wait4</b>(), <b class="fname">wait3</b>() or <b class="fname">waitpid</b>() returns due to a stopped or terminated child process, the process ID of the child is returned to the calling process. If there are no children not previously awaited, -1 is returned with <b class="var">errno</b> set to [<span class="errno">ECHILD</span>]. Otherwise, if <span class="define">WNOHANG</span> is specified and there are no stopped or exited children, 0 is returned. If an error is detected or a caught signal aborts the call, a value of -1 is returned and <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">wait</b>() will fail and return immediately if:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ECHILD</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The calling process has no existing unwaited-for child processes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EFAULT</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">status</i> or <i class="farg">rusage</i> arguments point to an illegal address. (May not be detected before exit of a child process.)</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINTR</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The call was interrupted by a caught signal, or the signal did not have the <span class="define">SA_RESTART</span> flag set.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
Invalid or undefined flags were passed in the <i class="farg">options</i> argument.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/_exit.html">_exit(2)</a>, <a class="link-man" href="../html2/sigaction.html">sigaction(2)</a>, <a class="link-man" href="../html3/exit.html">exit(3)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">wait</b>() and <b class="fname">waitpid</b>() functions conform to IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;).<div class="spacer">
</div>
<b class="fname">wait4</b>() and <b class="fname">wait3</b>() are not specified by POSIX. The <b class="fname">WCOREDUMP</b>() macro and the ability to restart a pending <b class="fname">wait</b>() call are extensions to that specification.</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="fname">wait</b>() system call first appeared in Version&#160;1 AT&amp;T UNIX. The <i class="farg">status</i> argument is accepted since Version&#160;2 AT&amp;T UNIX. A <b class="fname">wait3</b>() system call first appeared in <span class="unix">4BSD</span>, but the final calling convention was only established in <span class="unix">4.2BSD</span>. The <b class="fname">wait4</b>() and <b class="fname">waitpid</b>() function calls first appeared in <span class="unix">4.3BSD-Reno</span>.</div>
</div>
</body>
</html>

