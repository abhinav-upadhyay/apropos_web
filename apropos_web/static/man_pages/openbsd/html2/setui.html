<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SETUID(2)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">setuid</b>, <b class="name">seteuid</b>, <b class="name">setgid</b>, <b class="name">setegid</b> &#8212; <span class="desc">set user and group ID</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">unistd.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">setuid</b>(<i class="farg" style="white-space:nowrap;">uid_t uid</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">seteuid</b>(<i class="farg" style="white-space:nowrap;">uid_t euid</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">setgid</b>(<i class="farg" style="white-space:nowrap;">gid_t gid</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">setegid</b>(<i class="farg" style="white-space:nowrap;">gid_t egid</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">setuid</b>() function sets the real and effective user IDs and the saved set-user-ID of the current process to the specified value. The <b class="fname">setuid</b>() function is permitted if the effective user ID is that of the superuser, or if the specified user ID is the same as the effective user ID. If not, but the specified user ID is the same as the real user ID, <b class="fname">setuid</b>() will set the effective user ID to the real user ID.<div class="spacer">
</div>
The <b class="fname">setgid</b>() function sets the real and effective group IDs and the saved set-group-ID of the current process to the specified value. The <b class="fname">setgid</b>() function is permitted if the effective user ID is that of the superuser, or if the specified group ID is the same as the effective group ID. If not, but the specified group ID is the same as the real group ID, <b class="fname">setgid</b>() will set the effective group ID to the real group ID. Supplementary group IDs remain unchanged.<div class="spacer">
</div>
The <b class="fname">seteuid</b>() function (<b class="fname">setegid</b>()) sets the effective user ID (group ID) of the current process. The effective user ID may be set to the value of the real user ID or the saved set-user-ID (see <a class="link-man" href="../html2/intro.html">intro(2)</a> and <a class="link-man" href="../html2/execve.html">execve(2)</a>); in this way, the effective user ID of a set-user-ID executable may be toggled by switching to the real user ID, then re-enabled by reverting to the set-user-ID value. Similarly, the effective group ID may be set to the value of the real group ID or the saved set-group-ID.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">setuid</b>(), <b class="fname">seteuid</b>(), <b class="fname">setgid</b>(), and <b class="fname">setegid</b>() functions return the value&#160;0 if successful; otherwise the value&#160;-1 is returned and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> <b class="fname">setuid</b>() and <b class="fname">seteuid</b>() will succeed unless:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EPERM</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The user is not the superuser and the requested <i class="farg">uid</i> or <i class="farg">euid</i> is not the process's real, effective, or saved UID.</dd>
</dl>
<div class="spacer">
</div>
<b class="fname">setgid</b>() and <b class="fname">setegid</b>() will succeed unless:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EPERM</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The user is not the superuser and the requested <i class="farg">gid</i> or <i class="farg">egid</i> is not the process's real, effective, or saved GID.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html2/getgid.html">getgid(2)</a>, <a class="link-man" href="../html2/getuid.html">getuid(2)</a>, <a class="link-man" href="../html2/issetugid.html">issetugid(2)</a>, <a class="link-man" href="../html2/setgroups.html">setgroups(2)</a>, <a class="link-man" href="../html2/setregid.html">setregid(2)</a>, <a class="link-man" href="../html2/setresgid.html">setresgid(2)</a>, <a class="link-man" href="../html2/setresuid.html">setresuid(2)</a>, <a class="link-man" href="../html2/setreuid.html">setreuid(2)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> The <b class="fname">setuid</b>(), <b class="fname">seteuid</b>(), <b class="fname">setgid</b>(), and <b class="fname">setegid</b>() functions conform to IEEE Std 1003.1-2008 (&#8220;POSIX.1&#8221;).</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="fname">setuid</b>() system call first appeared in Version&#160;1 AT&amp;T UNIX; <b class="fname">setgid</b>() in Version&#160;4 AT&amp;T UNIX; and <b class="fname">seteuid</b>() and <b class="fname">setegid</b>() in <span class="unix">4.2BSD</span>.</div>
</div>
</body>
</html>

