<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
CHANGELIST(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">changelist</b> &#8212; <span class="desc">list of backup files</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><table class="synopsis">
<col style="width: 10.00ex;"/>
<col/>
<tbody>
<tr>
<td>
/etc/changelist</td>
<td>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <i class="file">/etc/changelist</i> file is a simple text file containing the names of files to be backed up and checked for modification by the system security script, <a class="link-man" href="../html8/security.html">security(8)</a>. It is checked daily by the <i class="file">/etc/daily</i> script. See <a class="link-man" href="../html8/daily.html">daily(8)</a> for further details.<div class="spacer">
</div>
Each line of the file contains the name of a file, specified by its absolute pathname, one per line. By default, configuration files in <i class="file">/etc</i>, <i class="file">/root</i>, and <i class="file">/var</i> are added during system install. Administrators may add additional files at their discretion. Shell globbing is supported in pathnames.<div class="spacer">
</div>
Backup files are held in the directory <i class="file">/var/backups</i>. A backup of the current version of a file is kept in this directory, marked &#8220;current&#8221;. When the file is altered, the old version is marked as &#8220;backup&#8221; and the new version becomes &#8220;current&#8221;.<div class="spacer">
</div>
For example, the system shell database, <i class="file">/etc/shells</i>, is held as <i class="file">/var/backups/etc_shells.current</i>. When this file is modified, it is renamed to <i class="file">/var/backups/etc_shells.backup</i> and the new version becomes <i class="file">/var/backups/etc_shells.current</i>. Thereafter, these files are rotated.<div class="spacer">
</div>
Diffs are mailed to the root administrator, in unified <a class="link-man" href="../html1/diff.html">diff(1)</a> format, via <a class="link-man" href="../html8/daily.html">daily(8)</a>, in the following format:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
===== 
/etc/shells diffs (-OLD  +NEW) 
=====</pre>
<div class="spacer">
</div>
Files in <i class="file">/etc/changelist</i> beginning with a &#8216;+&#8217; character (generally non-text files) are stored as <a class="link-man" href="../html1/sha256.html">sha256(1)</a> checksums. Results are mailed in the following format:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
====== 
/etc/ssh/ssh_host_key SHA-256 checksums 
====== 
OLD: 
NEW:</pre>
<div class="spacer">
</div>
Lines beginning with the comment character (&#8216;#&#8217;), blank lines, and non-existent files are all silently ignored.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/changelist</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Default changelist.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/daily</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Maintenance script which runs <a class="link-man" href="../html8/security.html">security(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/var/backups/</i></dt>
<dd class="list-tag" style="margin-left: 15.00ex;">
Directory containing file backups.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/diff.html">diff(1)</a>, <a class="link-man" href="../html1/sha256.html">sha256(1)</a>, <a class="link-man" href="../html8/daily.html">daily(8)</a>, <a class="link-man" href="../html8/security.html">security(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">changelist</b> manual page first appeared in <span class="unix">OpenBSD&#160;3.5</span>.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> Anyone with the privileges to alter system configuration files could also alter the backup files in <i class="file">/var/backups</i>. It is important that this directory be owned by root:wheel and have permissions 0700 set.<div class="spacer">
</div>
Removal of the <i class="file">/etc/changelist</i> file itself could cause confusion.<div class="spacer">
</div>
<b class="name">changelist</b> cannot warn about files being added to the system, although <a class="link-man" href="../html8/security.html">security(8)</a> will pick up on any files listed in <i class="file">/etc/changelist</i> being added or deleted. Removals are only noticed for files listed explicitly, but not for files matched by globbing.<div class="spacer">
</div>
If you hose your system configuration files, you just might be able to find the information you need in <i class="file">/var/backups</i>. This is not a CAVEAT, but we had to let you know somehow!</div>
</div>
</body>
</html>

