<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
KEYNOTE(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">keynote</b> &#8212; <span class="desc">assertion format</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1><pre style="margin-left: 0.00ex;" class="lit display">
KeyNote-Version: 2 
Local-Constants: &lt;assignments&gt; 
Authorizer: &lt;public key or tag&gt; 
Licensees: &lt;public key or tag expression&gt; 
Comment: &lt;comment text&gt; 
Conditions: &lt;logic predicates&gt; 
Signature: &lt;public key signature&gt;</pre>
</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> For more details on <b class="name">keynote</b>, see RFC 2704.<div class="spacer">
</div>
KeyNote assertions are divided into sections, called &#8216;fields&#8217;, that serve various semantic functions. Each field starts with an identifying label at the beginning of a line, followed by the &#8220;:&#8221; character and the field's contents. There can be at most one field per line.<div class="spacer">
</div>
A field may be continued over more than one line by indenting subsequent lines with at least one ASCII SPACE or TAB character. Whitespace (a SPACE, TAB, or NEWLINE character) separates tokens but is otherwise ignored outside of quoted strings. Comments with a leading octothorp character ('#') may begin in any column.<div class="spacer">
</div>
One mandatory field is required in all assertions: Authorizer.<div class="spacer">
</div>
Six optional fields may also appear: Comment, Conditions, KeyNote-Version, Licensees, Local-Constants, Signature.<div class="spacer">
</div>
All field names are case-insensitive. The &#8220;KeyNote-Version&#8221; field, if present, appears first. The &#8220;Signature&#8221; field, if present, appears last. Otherwise, fields may appear in any order. Each field may appear at most once in any assertion.<div class="spacer">
</div>
Blank lines are not permitted in assertions. Multiple assertions stored in a file (e.g., in application policy configurations), therefore, can be separated from one another unambiguously by the use of blank lines between them.</div>
<div class="section">
<h1 id="x434f4d4d454e5453">COMMENTS</h1> The octothorp character (&#8216;#&#8217;, ASCII 35 decimal) can be used to introduce comments. Outside of quoted strings, all characters from the &#8220;#&#8221; character through the end of the current line are ignored. However, commented text is included in the computation of assertion signatures.</div>
<div class="section">
<h1 id="x535452494e4753">STRINGS</h1> A &#8216;string&#8217; is a lexical object containing a sequence of characters. Strings may contain any non-NUL characters, including newlines and nonprintable characters. Strings may be given as literals, computed from complex expressions, or dereferenced from attribute names.</div>
<div class="section">
<h1 id="x535452494e47204c49544552414c53">STRING LITERALS</h1> A string literal directly represents the value of a string. String literals must be quoted by preceding and following them with the double-quote character (ASCII 34 decimal).<div class="spacer">
</div>
A printable character may be &#8216;escaped&#8217; inside a quoted string literal by preceding it with the backslash character (ASCII 92 decimal) e.g., &#8220;like  <code class="none">\</code>&#8220;this\&#8221;.&#8221;. This permits the inclusion of the double-quote and backslash characters inside string literals.<div class="spacer">
</div>
A similar escape mechanism is also used to represent non-printable characters. &#8220;\n&#8221; represents the newline character (ASCII character 10 decimal), &#8220;\r&#8221; represents the carriage-return character (ASCII character 13 decimal), &#8220;\t&#8221; represents the tab character (ASCII character 9 decimal), and &#8220;\f&#8221; represents the form-feed character (ASCII character 12 decimal). A backslash character followed by a newline suppresses all subsequent whitespace (including the newline) up to the next non-whitespace character (this allows the continuation of long string constants across lines). Un-escaped newline and return characters are illegal inside string literals.<div class="spacer">
</div>
The constructs &#8220;\0o&#8221;, &#8220;\0oo&#8221;, and &#8220;\ooo&#8221; (where o represents any octal digit) may be used to represent any non-NUL ASCII characters with their corresponding octal values (thus, &#8220;\012&#8221; is the same as &#8220;\n&#8221;, &#8220;\101&#8221; is &#8220;A&#8221;, and &#8220;\377&#8221; is the ASCII character 255 decimal). However, the NUL character cannot be encoded in this manner; &#8220;\0&#8221;, &#8220;\00&#8221;, and &#8220;\000&#8221; are converted to the strings &#8220;0&#8221;, &#8220;00&#8221;, and &#8220;000&#8221; respectively. Similarly, all other escaped characters have the leading backslash removed (e.g., &#8220;\a&#8221; becomes &#8220;a&#8221;, and &#8220;\\&#8221; becomes &#8220;\&#8221;). The following four strings are equivalent:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
        &quot;this string contains a newline\n followed by one space.&quot; 
        &quot;this string contains a newline\n \ 
        followed by one space.&quot; 
        &quot;this str\ 
           ing contains a \ 
             newline\n followed by one space.&quot; 
        &quot;this string contains a newline\012\040followed by one space.&quot;</pre>
</div>
<div class="section">
<h1 id="x535452494e472045585052455353494f4e53">STRING EXPRESSIONS</h1> In general, anywhere a quoted string literal is allowed, a &#8216;string expression&#8217; can be used. A string expression constructs a string from string constants, dereferenced attributes (described below), and a string concatenation operator. String expressions may be parenthesized.<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
       &lt;StrEx&gt;:: &lt;StrEx&gt; &quot;.&quot; &lt;StrEx&gt;    /* String concatenation */ 
               | &lt;StringLiteral&gt;        /* Quoted string */ 
               | &quot;(&quot; &lt;StrEx&gt; &quot;)&quot; 
               | &lt;DerefAttribute&gt; 
               | &quot;$&quot; &lt;StrEx&gt; ;</pre>
<div class="spacer">
</div>
The &#8220;$&#8221; operator has higher precedence than the &#8220;.&#8221; operator.</div>
<div class="section">
<h1 id="x44455245464552454e4345442041545452494255544553">DEREFERENCED ATTRIBUTES</h1> Action attributes provide the primary mechanism for applications to pass information to assertions. Attribute names are strings from a limited character set (see below), and attribute values are represented internally as strings. An attribute is dereferenced simply by using its name. In general, KeyNote allows the use of an attribute anywhere a string literal is permitted.<div class="spacer">
</div>
Attributes are dereferenced as strings by default. When required, dereferenced attributes can be converted to integers or floating point numbers with the type conversion operators &#8220;@&#8221; and &#8220;&amp;&#8221;. Thus, an attribute named &#8220;foo&#8221; having the value &#8220;1.2&#8221; may be interpreted as the string &#8220;1.2&#8221; (foo), the integer value 1 (@foo), or the floating point value 1.2 (&amp;foo).<div class="spacer">
</div>
Attributes converted to integer and floating point numbers are represented according to the ANSI C &#8216;long&#8217; and &#8216;float&#8217; types, respectively. In particular, integers range from -2147483648 to 2147483647, whilst floats range from 1.17549435E-38F to 3.40282347E+38F.<div class="spacer">
</div>
Any uninitialized attribute has the empty-string value when dereferenced as a string and the value zero when dereferenced as an integer or float.<div class="spacer">
</div>
Attribute names may be given literally or calculated from string expressions and may be recursively dereferenced. In the simplest case, an attribute is dereferenced simply by using its name outside of quotes; e.g., the string value of the attribute named &#8220;foo&#8221; is by reference to &#8216;foo&#8217; (outside of quotes). The &#8220;$&#10216;StrEx&#10217;&#8221; construct dereferences the attribute named in the string expression &#10216;StrEx&#10217;. For example, if the attribute named &#8220;foo&#8221; contains the string &#8220;bar&#8221;, the attribute named &#8220;bar&#8221; contains the string &#8220;xyz&#8221;, and the attribute &#8220;xyz&#8221; contains the string &#8220;qua&#8221;, the following string comparisons are all true:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
    foo == &quot;bar&quot; 
    $(&quot;foo&quot;) == &quot;bar&quot; 
    $foo == &quot;xyz&quot; 
    $(foo) == &quot;xyz&quot; 
    $$foo == &quot;qua&quot;</pre>
<div class="spacer">
</div>
If &#10216;StrEx&#10217; evaluates to an invalid or uninitialized attribute name, its value is considered to be the empty string (or zero if used as a numeric).<div class="spacer">
</div>
The &#10216;DerefAttribute&#10217; token is defined as:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
      &lt;DerefAttribute&gt;:: &lt;AttributeID&gt; ; 
       &lt;AttributeID&gt;:: {Any string starting with a-z, A-Z, or the 
                        underscore character, followed by any number of 
                        a-z, A-Z, 0-9, or underscore characters} ;</pre>
</div>
<div class="section">
<h1 id="x5052494e434950414c204944454e54494649455253">PRINCIPAL IDENTIFIERS</h1> Principals are represented as ASCII strings called &#8216;Principal Identifiers&#8217;. Principal Identifiers may be arbitrary labels whose structure is not interpreted by the KeyNote system or they may encode cryptographic keys that are used by KeyNote for credential signature verification.<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
       &lt;PrincipalIdentifier&gt;:: &lt;OpaqueID&gt; 
                             | &lt;KeyID&gt; ;</pre>
</div>
<div class="section">
<h1 id="x4f5041515545205052494e434950414c204944454e54494649455253">OPAQUE PRINCIPAL IDENTIFIERS</h1> Principal Identifiers that are used by KeyNote only as labels are said to be &#8216;opaque&#8217;. Opaque identifiers are encoded in assertions as strings (as defined above):<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&lt;OpaqueID&gt;:: &lt;StrEx&gt;&#160;;</code></div>
</blockquote>
<div class="spacer">
</div>
Opaque identifier strings should not contain the &#8220;:&#8221; character.</div>
<div class="section">
<h1 id="x43525950544f47524150484943205052494e434950414c204944454e54494649455253">CRYPTOGRAPHIC PRINCIPAL IDENTIFIERS</h1> Principal Identifiers that are used by KeyNote as keys, e.g., to verify credential signatures, are said to be &#8216;cryptographic&#8217;. Cryptographic identifiers are also lexically encoded as strings:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&lt;KeyID&gt;:: &lt;StrEx&gt;&#160;;</code></div>
</blockquote>
<div class="spacer">
</div>
Unlike Opaque Identifiers, however, Cryptographic Identifier strings have a special form. To be interpreted by KeyNote (for signature verification), an identifier string should be of the form:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&lt;IDString&gt;:: &lt;ALGORITHM&gt;&quot;:&quot;&lt;ENCODEDBITS&gt;&#160;;</code></div>
</blockquote>
<div class="spacer">
</div>
&#8220;ALGORITHM&#8221; is an ASCII substring that describes the algorithms to be used in interpreting the key's bits. The ALGORITHM identifies the major cryptographic algorithm (e.g., RSA [RSA78], DSA [DSA94], etc.), structured format (e.g., PKCS1 [PKCS1]), and key bit encoding (e.g., HEX or BASE64). By convention, the ALGORITHM substring starts with an alphabetic character and can contain letters, digits, underscores, or dashes i.e., it should match the regular expression &#8220;[a-zA-Z][a-zA-Z0-9_-]*&#8221;. The IANA (or some other appropriate authority) will provide a registry of reserved algorithm identifiers.<div class="spacer">
</div>
&#8220;ENCODEDBITS&#8221; is a substring of characters representing the key's bits, the encoding and format of which depends on the ALGORITHM. By convention, hexadecimal encoded keys use lower-case ASCII characters.<div class="spacer">
</div>
Cryptographic Principal Identifiers are converted to a normalized canonical form for the purposes of any internal comparisons between them; see RFC 2704 for more details.</div>
<div class="section">
<h1 id="x4b45594e4f54451e56455253494f4e204649454c44">KEYNOTE-VERSION FIELD</h1> The KeyNote-Version field identifies the version of the KeyNote assertion language under which the assertion was written. The KeyNote-Version field is of the form:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
       &lt;VersionField&gt;:: &quot;KeyNote-Version:&quot; &lt;VersionString&gt; ; 
       &lt;VersionString&gt;:: &lt;StringLiteral&gt; 
                       | &lt;IntegerLiteral&gt; ;</pre>
<div class="spacer">
</div>
&#10216;VersionString&#10217; is an ASCII-encoded string. Assertions in production versions of KeyNote use decimal digits in the version representing the version number of the KeyNote language under which they are to be interpreted. Assertions written to conform with this document should be identified with the version string &#8220;2&#8221; (or the integer 2). The KeyNote-Version field, if included, should appear first.</div>
<div class="section">
<h1 id="x4c4f43414c1e434f4e5354414e5453204649454c44">LOCAL-CONSTANTS FIELD</h1> This field adds or overrides action attributes in the current assertion only. This mechanism allows the use of short names for (frequently lengthy) cryptographic principal identifiers, especially to make the Licensees field more readable. The Local-Constants field is of the form:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
       &lt;LocalConstantsField&gt;:: &quot;Local-Constants:&quot; &lt;Assignments&gt; ; 
       &lt;Assignments&gt;:: /* can be empty */ 
                     | &lt;AttributeID&gt; &quot;=&quot; &lt;StringLiteral&gt; &lt;Assignments&gt; ;</pre>
<div class="spacer">
</div>
&#10216;AttributeID&#10217; is an attribute name from the action attribute namespace. The name is available for use as an attribute in any subsequent field. If the Local-Constants field defines more than one identifier, it can occupy more than one line and be indented. &#10216;StringLiteral&#10217; is a string literal as described previously. Attributes defined in the Local-Constants field override any attributes with the same name passed in with the action attribute set.<div class="spacer">
</div>
An attribute may be initialized at most once in the Local-Constants field. If an attribute is initialized more than once in an assertion, the entire assertion is considered invalid and is not considered by the KeyNote compliance checker in evaluating queries.</div>
<div class="section">
<h1 id="x415554484f52495a4552204649454c44">AUTHORIZER FIELD</h1> The Authorizer identifies the Principal issuing the assertion. This field is of the form:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
       &lt;AuthField&gt;:: &quot;Authorizer:&quot; &lt;AuthID&gt; ; 
       &lt;AuthID&gt;:: &lt;PrincipalIdentifier&gt; 
                | &lt;DerefAttribute&gt; ;</pre>
<div class="spacer">
</div>
The Principal Identifier may be given directly or by reference to the attribute namespace.</div>
<div class="section">
<h1 id="x4c4943454e53454553204649454c44">LICENSEES FIELD</h1> The Licensees field identifies the principals authorized by the assertion. More than one principal can be authorized, and authorization can be distributed across several principals through the use of &#8216;and&#8217; and threshold constructs. This field is of the form:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
       &lt;LicenseesField&gt;:: &quot;Licensees:&quot; &lt;LicenseesExpr&gt; ; 
 
       &lt;LicenseesExpr&gt;::      /* can be empty */ 
                         | &lt;PrincExpr&gt; ; 
 
       &lt;PrincExpr&gt;:: &quot;(&quot; &lt;PrincExpr&gt; &quot;)&quot; 
                     | &lt;PrincExpr&gt; &quot;&amp;&amp;&quot; &lt;PrincExpr&gt; 
                     | &lt;PrincExpr&gt; &quot;||&quot; &lt;PrincExpr&gt; 
                     | &lt;K&gt;&quot;-of(&quot; &lt;PrincList&gt; &quot;)&quot;        /* Threshold */ 
                     | &lt;PrincipalIdentifier&gt; 
                     | &lt;DerefAttribute&gt; ; 
 
       &lt;PrincList&gt;:: &lt;PrincipalIdentifier&gt; 
                   | &lt;DerefAttribute&gt; 
                   | &lt;PrincList&gt; &quot;,&quot; &lt;PrincList&gt; ; 
 
       &lt;K&gt;:: {Decimal number starting with a digit from 1 to 9} ;</pre>
<div class="spacer">
</div>
The &#8220;&amp;&amp;&#8221; operator has higher precedence than the &#8220;||&#8221; operator. &#10216;K&#10217; is an ASCII-encoded positive decimal integer. If a &#10216;PrincList&#10217; contains fewer than &#10216;K&#10217; principals, the entire assertion is omitted from processing.</div>
<div class="section">
<h1 id="x434f4e444954494f4e53204649454c44">CONDITIONS FIELD</h1> This field gives the &#8216;conditions&#8217; under which the Authorizer trusts the Licensees to perform an action. &#8216;Conditions&#8217; are predicates that operate on the action attribute set. The Conditions field is of the form:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
    &lt;ConditionsField&gt;:: &quot;Conditions:&quot; &lt;ConditionsProgram&gt; ; 
 
    &lt;ConditionsProgram&gt;:: /* Can be empty */ 
                          | &lt;Clause&gt; &quot;;&quot; &lt;ConditionsProgram&gt; ; 
 
    &lt;Clause&gt;:: &lt;Test&gt; &quot;-&gt;&quot; &quot;{&quot; &lt;ConditionsProgram&gt; &quot;}&quot; 
             | &lt;Test&gt; &quot;-&gt;&quot; &lt;Value&gt; 
             | &lt;Test&gt; ; 
 
    &lt;Value&gt;:: &lt;StrEx&gt; ; 
 
    &lt;Test&gt;:: &lt;RelExpr&gt; ; 
 
    &lt;RelExpr&gt;:: &quot;(&quot; &lt;RelExpr&gt; &quot;)&quot;        /* Parentheses */ 
              | &lt;RelExpr&gt; &quot;&amp;&amp;&quot; &lt;RelExpr&gt; /* Logical AND */ 
              | &lt;RelExpr&gt; &quot;||&quot; &lt;RelExpr&gt; /* Logical OR */ 
              | &quot;!&quot; &lt;RelExpr&gt;         /* Logical NOT */ 
              | &lt;IntRelExpr&gt; 
              | &lt;FloatRelExpr&gt; 
              | &lt;StringRelExpr&gt; 
              | &quot;true&quot;        /* case insensitive */ 
              | &quot;false&quot; ;     /* case insensitive */ 
 
    &lt;IntRelExpr&gt;:: &lt;IntEx&gt; &quot;==&quot; &lt;IntEx&gt; 
                 | &lt;IntEx&gt; &quot;!=&quot; &lt;IntEx&gt; 
                 | &lt;IntEx&gt; &quot;&lt;&quot; &lt;IntEx&gt; 
                 | &lt;IntEx&gt; &quot;&gt;&quot; &lt;IntEx&gt; 
                 | &lt;IntEx&gt; &quot;&lt;=&quot; &lt;IntEx&gt; 
                 | &lt;IntEx&gt; &quot;&gt;=&quot; &lt;IntEx&gt; ; 
 
    &lt;FloatRelExpr&gt;:: &lt;FloatEx&gt; &quot;&lt;&quot; &lt;FloatEx&gt; 
                   | &lt;FloatEx&gt; &quot;&gt;&quot; &lt;FloatEx&gt; 
                   | &lt;FloatEx&gt; &quot;&lt;=&quot; &lt;FloatEx&gt; 
                   | &lt;FloatEx&gt; &quot;&gt;=&quot; &lt;FloatEx&gt; ; 
 
    &lt;StringRelExpr&gt;:: &lt;StrEx&gt; &quot;==&quot; &lt;StrEx&gt;  /* String equality */ 
                    | &lt;StrEx&gt; &quot;!=&quot; &lt;StrEx&gt;  /* String inequality */ 
                    | &lt;StrEx&gt; &quot;&lt;&quot; &lt;StrEx&gt;   /* Alphanum. comparisons */ 
                    | &lt;StrEx&gt; &quot;&gt;&quot; &lt;StrEx&gt; 
                    | &lt;StrEx&gt; &quot;&lt;=&quot; &lt;StrEx&gt; 
                    | &lt;StrEx&gt; &quot;&gt;=&quot; &lt;StrEx&gt; 
                    | &lt;StrEx&gt; &quot;~=&quot; &lt;RegExpr&gt; ; /* Reg. expr. matching */ 
 
    &lt;IntEx&gt;:: &lt;IntEx&gt; &quot;+&quot; &lt;IntEx&gt;        /* Integer */ 
            | &lt;IntEx&gt; &quot;-&quot; &lt;IntEx&gt; 
            | &lt;IntEx&gt; &quot;*&quot; &lt;IntEx&gt; 
            | &lt;IntEx&gt; &quot;/&quot; &lt;IntEx&gt; 
            | &lt;IntEx&gt; &quot;%&quot; &lt;IntEx&gt; 
            | &lt;IntEx&gt; &quot;^&quot; &lt;IntEx&gt;        /* Exponentiation */ 
            | &quot;-&quot; &lt;IntEx&gt; 
            | &quot;(&quot; &lt;IntEx&gt; &quot;)&quot; 
            | &lt;IntegerLiteral&gt; 
            | &quot;@&quot; &lt;StrEx&gt; ; 
 
    &lt;FloatEx&gt;:: &lt;FloatEx&gt; &quot;+&quot; &lt;FloatEx&gt;  /* Floating point */ 
              | &lt;FloatEx&gt; &quot;-&quot; &lt;FloatEx&gt; 
              | &lt;FloatEx&gt; &quot;*&quot; &lt;FloatEx&gt; 
              | &lt;FloatEx&gt; &quot;/&quot; &lt;FloatEx&gt; 
              | &lt;FloatEx&gt; &quot;^&quot; &lt;FloatEx&gt; /* Exponentiation */ 
              | &quot;-&quot; &lt;FloatEx&gt; 
              | &quot;(&quot; &lt;FloatEx&gt; &quot;)&quot; 
              | &lt;FloatLiteral&gt; 
              | &quot;&amp;&quot; &lt;StrEx&gt; ; 
 
    &lt;IntegerLiteral&gt;:: {Decimal number of at least one digit} ; 
    &lt;FloatLiteral&gt;:: &lt;IntegerLiteral&gt;&quot;.&quot;&lt;IntegerLiteral&gt; ; 
 
    &lt;StringLiteral&gt; is a quoted string as defined in previously 
    &lt;AttributeID&gt; is defined previously.</pre>
<div class="spacer">
</div>
The operation precedence classes are (from highest to lowest):<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
        { (, ) } 
        {unary -, @, &amp;, $} 
        {^} 
        {*, /, %} 
        {+, -, .}</pre>
<div class="spacer">
</div>
Operators in the same precedence class are evaluated left-to-right.<div class="spacer">
</div>
Note the inability to test for floating point equality, as most floating point implementations (hardware or otherwise) do not guarantee accurate equality testing.<div class="spacer">
</div>
Also note that integer and floating point expressions can only be used within clauses of condition fields, but in no other KeyNote field.<div class="spacer">
</div>
The keywords &#8220;true&#8221; and &#8220;false&#8221; are not reserved; they can be used as attribute or principal identifier names (although this practice makes assertions difficult to understand and is discouraged).<div class="spacer">
</div>
&#10216;RegExpr&#10217; is a standard regular expression, conforming to the IEEE Std 1003.2 (&#8220;POSIX.2&#8221;) regular expression syntax and semantics (see <a class="link-man" href="../html3/regex.html">regex(3)</a>).<div class="spacer">
</div>
Any string expression (or attribute) containing the ASCII representation of a numeric value can be converted to an integer or float with the use of the &#8220;@&#8221; and &#8220;&amp;&#8221; operators, respectively. Any fractional component of an attribute value dereferenced as an integer is rounded down. If an attribute dereferenced as a number cannot be properly converted (e.g., it contains invalid characters or is empty) its value is considered to be zero.</div>
<div class="section">
<h1 id="x434f4d4d454e54204649454c44">COMMENT FIELD</h1> The Comment field allows assertions to be annotated with information describing their purpose. It is of the form:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&lt;CommentField&gt;:: &quot;Comment:&quot; &lt;text&gt;&#160;;</code></div>
</blockquote>
<div class="spacer">
</div>
No interpretation of the contents of this field is performed by KeyNote. Note that this is one of two mechanisms for including comments in KeyNote assertions; comments can also be inserted anywhere in an assertion's body by preceding them with the &#8220;#&#8221; character (except inside string literals).</div>
<div class="section">
<h1 id="x5349474e4154555245204649454c44">SIGNATURE FIELD</h1> The Signature field identifies a signed assertion and gives the encoded digital signature of the principal identified in the Authorizer field. The Signature field is of the form:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
       &lt;SignatureField&gt;:: &quot;Signature:&quot; &lt;Signature&gt; ; 
       &lt;Signature&gt;:: &lt;StrEx&gt; ;</pre>
<div class="spacer">
</div>
The &lt;Signature&gt; string should be of the form:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">&lt;IDString&gt;:: &lt;ALGORITHM&gt;&quot;:&quot;&lt;ENCODEDBITS&gt;&#160;;</code></div>
</blockquote>
<div class="spacer">
</div>
The formats of the &#8220;ALGORITHM&#8221; and &#8220;ENCODEDBITS&#8221; substrings are as described for Cryptographic Principal Identifiers. The algorithm name should be the same as that of the principal appearing in the Authorizer field. The IANA (or some other suitable authority) will provide a registry of reserved names. It is not necessary that the encodings of the signature and the authorizer key be the same.<div class="spacer">
</div>
If the signature field is included, the principal named in the Authorizer field must be a Cryptographic Principal Identifier, the algorithm must be known to the KeyNote implementation, and the signature must be correct for the assertion body and authorizer key.<div class="spacer">
</div>
The signature is computed over the assertion text, beginning with the first field (including the field identifier string), up to (but not including) the Signature field identifier. The newline preceding the signature field identifier is the last character included in signature calculation. The signature is always the last field in a KeyNote assertion. Text following this field is not considered part of the assertion.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> Note that the keys and signatures in these examples are fictional, and generally much shorter than would be required for real security, in the interest of readability.<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
           Authorizer: &quot;POLICY&quot; 
           Licensees: &quot;RSA:abc123&quot; 
 
           KeyNote-Version: 2 
           Local-Constants: Alice=&quot;DSA:4401ff92&quot;  # Alice's key 
                            Bob=&quot;RSA:d1234f&quot;      # Bob's key 
           Authorizer: &quot;RSA:abc123&quot; 
           Licensees: Alice || Bob 
           Conditions: (app_domain == &quot;RFC822-EMAIL&quot;) &amp;&amp; 
                       (address ~=   # only applies to one domain 
                         &quot;^.*@keynote\.research\.att\.com$&quot;) -&gt; 
			&quot;true&quot;; 
           Signature: &quot;RSA-SHA1:213354f9&quot; 
 
           KeyNote-Version: 2 
           Authorizer: &quot;DSA:4401ff92&quot;  # the Alice CA 
           Licensees: &quot;DSA:12340987&quot;   # mab's key 
           Conditions: ((app_domain == &quot;RFC822-EMAIL&quot;) -&gt; { 
	                        (name == &quot;M. Blaze&quot; || name == &quot;&quot;) &amp;&amp; 
		                (address == 
                                    &quot;mab@keynote.research.att.com&quot;)); 
				(name == &quot;anonymous&quot;) -&gt; &quot;logandaccept&quot;; 
			} 
 
           Signature: &quot;DSA-SHA1:ab23487&quot; 
 
           KeyNote-Version: &quot;2&quot; 
           Authorizer: &quot;DSA:4401ff92&quot;   # the Alice CA 
           Licensees: &quot;DSA:abc991&quot; ||   # jf's DSA key 
                      &quot;RSA:cde773&quot; ||   # jf's RSA key 
                      &quot;BFIK:fd091a&quot;     # jf's BFIK key 
           Conditions: ((app_domain == &quot;RFC822-EMAIL&quot;) &amp;&amp; 
                        (name == &quot;J. Feigenbaum&quot; || name == &quot;&quot;) &amp;&amp; 
                        (address == &quot;jf@keynote.research.att.com&quot;)); 
           Signature: &quot;DSA-SHA1:8912aa&quot;</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/keynote.html">keynote(1)</a>, <a class="link-man" href="../html3/keynote.html">keynote(3)</a>, <a class="link-man" href="../html4/keynote.html">keynote(4)</a><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">M. Blaze</span>, <span class="ref-auth">J. Feigenbaum</span>, and <span class="ref-auth">J. Lacy</span>, <span class="ref-title">Decentralized Trust Management</span>, <i class="ref-jrnl">IEEE Symposium on Security and Privacy</i>, <span class="ref-date">1996</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">M. Blaze</span>, <span class="ref-auth">J. Feigenbaum</span>, and <span class="ref-auth">M. Strauss</span>, <span class="ref-title">Compliance-Checking in the PolicyMaker Trust Management System</span>, <i class="ref-jrnl">Financial Crypto Conference</i>, <span class="ref-date">1998</span>.</span></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <span class="ref"><span class="ref-auth">M. Blaze</span>, <span class="ref-auth">J. Feigenbaum</span>, <span class="ref-auth">J. Ioannidis</span>, and <span class="ref-auth">A. Keromytis</span>, <span class="ref-title">The KeyNote Trust-Management System Version 2</span>, <span class="ref-rep">RFC 2704</span>, <span class="ref-date">September 1999</span>.</span></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <span class="author">Angelos D. Keromytis</span> &lt;<a class="link-mail" href="mailto:angelos@cs.columbia.edu">angelos@cs.columbia.edu</a>&gt;</div>
<div class="section">
<h1 id="x5745422050414745">WEB PAGE</h1> <a class="link-ext" href="http://www1.cs.columbia.edu/~angelos/keynote.html">http://www1.cs.columbia.edu/~angelos/keynote.html</a></div>
</div>
</body>
</html>

