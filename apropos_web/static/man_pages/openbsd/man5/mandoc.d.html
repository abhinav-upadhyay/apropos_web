<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
MANDOC.DB(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">mandoc.db</b> &#8212; <span class="desc">manual page database</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">mandoc.db</b> SQLite3 file format is used to store information about installed manual pages to facilitate semantic searching for manuals. Each manual page tree contains its own <b class="name">mandoc.db</b> file; see <i class="link-sec"><a class="link-sec" href="#x46494c4553">FILES</a></i> for examples.<div class="spacer">
</div>
Such database files are generated by <a class="link-man" href="../html8/makewhatis.html">makewhatis(8)</a> and used by <a class="link-man" href="../html1/apropos.html">apropos(1)</a> and <a class="link-man" href="../html1/whatis.html">whatis(1)</a>.<div class="spacer">
</div>
One line in the following tables describes:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">mpages</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
One physical manual page file, no matter how many times and under which names it may appear in the file system.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">mlinks</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
One entry in the file system, no matter which content it points to.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">names</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
One manual page name, no matter whether it appears in a page header, in a NAME or SYNOPSIS section, or as a file name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">keys</span></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
One chunk of text from some macro invocation.</dd>
</dl>
<div class="spacer">
</div>
Each record in the latter three tables uses its <b class="var">pageid</b> column to point to a record in the <span class="symb">mpages</span> table.<div class="spacer">
</div>
The other columns are as follows; unless stated otherwise, they are of type <span class="type">TEXT</span>.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">mpages.desc</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The description line (&#8216;Nd&#8217;) of the page.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">mpages.form</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
An <span class="type">INTEGER</span> bit field. If bit <span class="define">FORM_GZ</span> is set, the page is compressed and requires <a class="link-man" href="../html1/gunzip.html">gunzip(1)</a> for display. If bit <span class="define">FORM_SRC</span> is set, the page is unformatted, that is in <a class="link-man" href="../html7/mdoc.html">mdoc(7)</a> or <a class="link-man" href="../html7/man.html">man(7)</a> format, and requires <a class="link-man" href="../html1/mandoc.html">mandoc(1)</a> for display. If bit <span class="define">FORM_SRC</span> is not set, the page is formatted, i.e. a &#8216;cat&#8217; page.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">mlinks.sec</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The manual section as found in the subdirectory name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">mlinks.arch</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The manual architecture as found in the subdirectory name, or &#8220;any&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">mlinks.name</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The manual name as found in the file name.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">names.bits</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
An <span class="type">INTEGER</span> bit mask telling whether the name came from a header line, from the NAME or SYNOPSIS section, or from a file name. Bits are defined in <b class="includes">&lt;<a class="link-includes">mansearch.h</a>&gt;</b>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">names.name</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The name itself.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">keys.bits</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
An <span class="type">INTEGER</span> bit mask telling which semantic contexts the key was found in; defined in <b class="includes">&lt;<a class="link-includes">mansearch.h</a>&gt;</b>, documented in <a class="link-man" href="../html1/apropos.html">apropos(1)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<span class="symb">keys.key</span></dt>
<dd class="list-tag" style="margin-left: 11.00ex;">
The string found in those contexts.</dd>
</dl>
</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/share/man/mandoc.db</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
The manual page database for the base system.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/X11R6/man/mandoc.db</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
The same for the <a class="link-man" href="../html7/X.html">X(7)</a> Window System.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/usr/local/man/mandoc.db</i></dt>
<dd class="list-tag" style="margin-left: 24.00ex;">
The same for <a class="link-man" href="../html7/packages.html">packages(7)</a>.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/apropos.html">apropos(1)</a>, <a class="link-man" href="../html1/man.html">man(1)</a>, <a class="link-man" href="../html1/sqlite3.html">sqlite3(1)</a>, <a class="link-man" href="../html1/whatis.html">whatis(1)</a>, <a class="link-man" href="../html8/makewhatis.html">makewhatis(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A manual page database <i class="file">/usr/lib/whatis</i> first appeared in <span class="unix">2BSD</span>. The present format first appeared in <span class="unix">OpenBSD&#160;5.6</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The original version of <a class="link-man" href="../html8/makewhatis.html">makewhatis(8)</a> was written by <span class="author">Bill Joy</span> in 1979. An SQLite3 version was first implemented by <span class="author">Kristaps Dzonsons</span> &lt;<a class="link-mail" href="mailto:kristaps@bsd.lv">kristaps@bsd.lv</a>&gt; in 2012. The present database format was designed by <span class="author">Ingo Schwarze</span> &lt;<a class="link-mail" href="mailto:schwarze@openbsd.org">schwarze@openbsd.org</a>&gt; in 2014.</div>
</div>
</body>
</html>

