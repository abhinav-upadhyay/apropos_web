<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SYSLOG.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">syslog.conf</b> &#8212; <span class="desc">syslogd(8) configuration file</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">syslog.conf</b> file is the configuration file for the <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a> program. It consists of blocks of lines separated by <span class="emph">program</span> specifications, with each line containing two fields: the <span class="emph">selector</span> field which specifies the types of messages and priorities to which the line applies, and an <span class="emph">action</span> field which specifies the action to be taken if a message <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a> receives matches the selection criteria. The <span class="emph">selector</span> field is separated from the <span class="emph">action</span> field by one or more tab characters.<div class="spacer">
</div>
The <span class="emph">selectors</span> are encoded as a <span class="emph">facility</span>, a period (&#8216;<code class="lit">.</code>&#8217;), and a <span class="emph">level</span>, with no intervening whitespace. Both the <span class="emph">facility</span> and the <span class="emph">level</span> are case insensitive.<div class="spacer">
</div>
The <span class="emph">facility</span> describes the part of the system generating the message, and is one of the following keywords: auth, authpriv, cron, daemon, ftp, kern, lpr, mail, mark, news, syslog, user, uucp and local0 through local7. These keywords (with the exception of mark) correspond to the similar &#8220;<span class="define">LOG_</span>&#8221; values specified to the <a class="link-man" href="../html3/openlog.html">openlog(3)</a> and <a class="link-man" href="../html3/syslog.html">syslog(3)</a> library routines.<div class="spacer">
</div>
The <span class="emph">level</span> describes the severity of the message, and is a keyword from the following ordered list (highest to lowest): emerg, alert, crit, err, warning, notice, info and debug. These keywords correspond to the similar (<span class="define">LOG_</span>) values specified to the <a class="link-man" href="../html3/syslog.html">syslog(3)</a> library routine.<div class="spacer">
</div>
Each block of lines is separated from the previous block by a tag. The tag is a line beginning with <span class="emph">!prog</span> and each block will be associated with calls to syslog from that specific program. When a message matches multiple blocks, the action of each matching block is taken. If no tag is specified at the beginning of the file, every line is checked for a match and acted upon (at least until a tag is found).<div class="spacer">
</div>
<span class="emph">!!prog</span> causes the subsequent block to abort evaluation when a message matches, ensuring that only a single set of actions is taken. <span class="emph">!*</span> can be used to ensure that any ensuing blocks are further evaluated (i.e. cancelling the effect of a <span class="emph">!prog</span> or <span class="emph">!!prog</span>).<div class="spacer">
</div>
Blocks starting with <span class="emph">+host</span> or <span class="emph">++host</span> or <span class="emph">+*</span> work the same way as their <span class="emph">prog</span> counterparts, but they match on the hostname instead of the program name.<div class="spacer">
</div>
See <a class="link-man" href="../html3/syslog.html">syslog(3)</a> for further descriptions of both the <span class="emph">facility</span> and <span class="emph">level</span> keywords and their significance. It's recommended that selections be made on <span class="emph">facility</span> rather than <span class="emph">program</span>, since the latter can easily vary in a networked environment. In some cases, though, an appropriate <span class="emph">facility</span> simply doesn't exist.<div class="spacer">
</div>
If a received message matches the specified <span class="emph">facility</span> and is of the specified <span class="emph">level</span> (<span class="emph">or a higher level</span>), and the first word in the message after the date matches the <span class="emph">program</span>, the action specified in the <span class="emph">action</span> field will be taken.<div class="spacer">
</div>
Multiple <span class="emph">selectors</span> may be specified for a single <span class="emph">action</span> by separating them with semicolon (&#8216;<code class="lit">;</code>&#8217;) characters. It is important to note, however, that each <span class="emph">selector</span> can modify the ones preceding it.<div class="spacer">
</div>
Multiple <span class="emph">facilities</span> may be specified for a single <span class="emph">level</span> by separating them with comma (&#8216;<code class="lit">,</code>&#8217;) characters.<div class="spacer">
</div>
An asterisk (&#8216;<code class="lit">*</code>&#8217;) can be used to specify all <span class="emph">facilities</span>, all <span class="emph">levels</span> or all <span class="emph">programs</span>.<div class="spacer">
</div>
The special <span class="emph">facility</span> &#8220;mark&#8221; receives a message at priority &#8220;info&#8221; every 20 minutes (see <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a>). This is not enabled by a <span class="emph">facility</span> field containing an asterisk.<div class="spacer">
</div>
The special <span class="emph">level</span> &#8220;none&#8221; disables a particular <span class="emph">facility</span>.<div class="spacer">
</div>
The <span class="emph">action</span> field of each line specifies the action to be taken when the <span class="emph">selector</span> field selects a message. There are six forms:<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 1.00em;">
A pathname (beginning with a leading slash). Selected messages are appended to the file.</li>
<li class="list-bul" style="margin-top: 1.00em;">
A pipe to another program (beginning with a leading pipe symbol). The given program is started and presented the selected messages on its standard input. If the program exits, <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a> tries to restart it.</li>
<li class="list-bul" style="margin-top: 1.00em;">
A hostname (preceded by an at (&#8216;<code class="lit">@</code>&#8217;) sign). Selected messages are forwarded to the <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a> program on the named host. A port number may be specified using the <i class="arg">host:port</i> syntax. This is optional for UDP and TLS. There is no well-known port for syslog over TCP, so in this case it is mandatory to specify the port. IPv6 addresses can be used by surrounding the address portion with square brackets (&#8216;<code class="lit">[</code>&#8217; and &#8216;<code class="lit">]</code>&#8217;). A prefix udp4:// or udp6:// in front of the hostname and after the at sign will force IPv4 or IPv6 addresses for UDP transport. The prefixes tcp[46]:// or tls[46]:// send messages over TCP or TLS, respectively, with an optional IP version 4 or 6.</li>
<li class="list-bul" style="margin-top: 1.00em;">
A comma separated list of users. Selected messages are written to those users if they are logged in.</li>
<li class="list-bul" style="margin-top: 1.00em;">
An asterisk. Selected messages are written to all logged-in users.</li>
<li class="list-bul" style="margin-top: 1.00em;">
A colon, followed by a memory buffer size (in kilobytes), followed by another colon, followed by a buffer name. Selected messages are written to an in-memory buffer that may be read using <a class="link-man" href="../html8/syslogc.html">syslogc(8)</a>. Memory buffered logging is useful to provide access to log data on devices that lack local storage (e.g. diskless workstations or routers). The largest allowed buffer size is 256kb.</li>
</ul>
<div class="spacer">
</div>
Blank lines and lines whose first non-blank character is a hash (&#8216;<code class="lit">#</code>&#8217;) character are ignored.</div>
<div class="section">
<h1 id="x46494c4553">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<i class="file">/etc/syslog.conf</i></dt>
<dd class="list-tag" style="margin-left: 16.00ex;">
The <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a> configuration file.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> A configuration file might appear as follows:<div class="spacer">
</div>
<pre style="margin-left: 0.00ex;" class="lit display">
# Log info (and higher) messages from spamd only to 
# a dedicated file, discarding debug messages. 
# Matching messages abort evaluation of further rules. 
!!spamd 
daemon.info						/var/log/spamd 
daemon.debug						/dev/null 
!* 
 
# Log all kernel messages, authentication messages of 
# level notice or higher and anything of level err or 
# higher to the console. 
# Don't log private authentication messages! 
*.err;kern.*;auth.notice;authpriv.none			/dev/console 
 
# Log anything (except mail) of level info or higher. 
# Don't log private authentication messages! 
*.info;mail.none;authpriv.none				/var/log/messages 
 
# The authpriv file has restricted access. 
authpriv.*						/var/log/secure 
 
# Log all the mail messages in one place. 
mail.*							/var/log/maillog 
 
# Everybody gets emergency messages, plus log them on another 
# machine. 
*.emerg							* 
*.emerg							@arpa.berkeley.edu 
 
# Root and Eric get alert and higher messages. 
*.alert							root,eric 
 
# Save mail and news errors of level err and higher in a 
# special file. 
mail,news.err						/var/log/spoolerr 
 
# Save ftpd transactions along with mail and news 
!ftpd 
*.*							/var/log/spoolerr 
 
# Keep a copy of all logging in a 32k memory buffer named &quot;debug&quot; 
*.debug							:32:debug 
 
# Store notices and authpriv messages in a 64k buffer named &quot;important&quot; 
*.notice,authpriv.*					:64:important 
 
# feed everything to logsurfer 
*.*						|/usr/local/sbin/logsurfer</pre>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html3/syslog.html">syslog(3)</a>, <a class="link-man" href="../html8/syslogc.html">syslogc(8)</a>, <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">syslog.conf</b> file appeared in <span class="unix">4.3BSD</span>, along with <a class="link-man" href="../html8/syslogd.html">syslogd(8)</a>.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The effects of multiple selectors are sometimes not intuitive. For example &#8220;mail.crit;*.err&#8221; will select &#8220;mail&#8221; facility messages at the level of &#8220;err&#8221; or higher, not at the level of &#8220;crit&#8221; or higher.</div>
</div>
</body>
</html>

