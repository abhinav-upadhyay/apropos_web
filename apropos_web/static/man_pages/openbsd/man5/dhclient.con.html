<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
DHCLIENT.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dhclient.conf</b> &#8212; <span class="desc">DHCP client configuration file</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">dhclient.conf</b> file contains configuration information for <a class="link-man" href="../html8/dhclient.html">dhclient(8)</a>.<div class="spacer">
</div>
The <b class="name">dhclient.conf</b> file is a free-form ASCII text file. It is parsed by the recursive-descent parser built into <a class="link-man" href="../html8/dhclient.html">dhclient(8)</a>. The file may contain extra tabs and newlines for formatting purposes. Keywords in the file are case-insensitive. Comments may be placed anywhere within the file (except within quotes). Comments begin with the &#8216;#&#8217; character and end at the end of the line.<div class="spacer">
</div>
The <b class="name">dhclient.conf</b> file can be used to configure the behaviour of the client in a wide variety of ways: protocol timing, information requested from the server, information required of the server, defaults to use if the server does not provide certain information, values with which to override information provided by the server, or values to prepend or append to information provided by the server. The configuration file can also be preinitialized with addresses to use on networks that don't have DHCP servers.</div>
<div class="section">
<h1 id="x50524f544f434f4c2054494d494e47">PROTOCOL TIMING</h1> The timing behaviour of the client need not be configured by the user. If no timing configuration is provided by the user, a fairly reasonable timing behaviour will be used by default - one which results in fairly timely updates without placing an inordinate load on the server.<div class="spacer">
</div>
The following statements can be used to adjust the timing behaviour of the DHCP client if required, however:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">timeout</b> <i class="arg">time</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">timeout</b> statement determines the amount of time that must pass between the time that the client begins to try to determine its address and the time that it decides that it's not going to be able to contact a server. By default, this timeout is sixty seconds. After the timeout has passed, if there are any static leases defined in the configuration file, or any leases remaining in the lease database that have not yet expired, the client will loop through these leases attempting to validate them, and if it finds one that appears to be valid, it will use that lease's address. If there are no valid static leases or unexpired leases in the lease database, the client will restart the protocol after the defined retry interval.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">retry</b> <i class="arg">time</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">retry</b> statement determines the time that must pass after the client has determined that there is no DHCP server present before it tries again to contact a DHCP server. By default, this is five minutes.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">select-timeout</b> <i class="arg">time</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
It is possible (some might say desirable) for there to be more than one DHCP server serving any given network. In this case, it is possible that a client may be sent more than one offer in response to its initial lease discovery message. It may be that one of these offers is preferable to the other (e.g., one offer may have the address the client previously used, and the other may not).<div class="spacer">
</div>
The <b class="cmd">select-timeout</b> is the time after the client sends its first lease discovery request at which it stops waiting for offers from servers, assuming that it has received at least one such offer. If no offers have been received by the time the <b class="cmd">select-timeout</b> has expired, the client will accept the first offer that arrives.<div class="spacer">
</div>
By default, the <b class="cmd">select-timeout</b> is zero seconds - that is, the client will take the first offer it sees.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">reboot</b> <i class="arg">time</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
When the client is restarted, it first tries to reacquire the last address it had. This is called the INIT-REBOOT state. If it is still attached to the same network it was attached to when it last ran, this is the quickest way to get started. The <b class="cmd">reboot</b> statement sets the time that must elapse after the client first tries to reacquire its old address before it gives up and tries to discover a new address.<div class="spacer">
</div>
The value of <b class="cmd">reboot</b> is also used to control how long a client will attempt unicast renewal requests before falling back to using broadcast requests.<div class="spacer">
</div>
By default, the reboot timeout is ten seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">backoff-cutoff</b> <i class="arg">time</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The client uses an exponential backoff algorithm with some randomness, so that if many clients try to configure themselves at the same time, they will not make their requests in lockstep. The <b class="cmd">backoff-cutoff</b> statement determines the maximum amount of time that the client is allowed to back off. It defaults to fifteen seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">initial-interval</b> <i class="arg">time</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">initial-interval</b> statement sets the amount of time between the first attempt to reach a server and the second attempt to reach a server. Each time a message is sent, the interval between messages is incremented by twice the current interval multiplied by a random number between zero and one. If it is greater than the backoff-cutoff amount, it is set to that amount. It defaults to three seconds.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">link-timeout</b> <i class="arg">time</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">link-timeout</b> statement sets the amount of time to wait for an interface link before timing out. The default value is ten seconds. The value zero requests that dhclient not wait for a link state change before timing out.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4c4541534520524551554952454d454e545320414e44205245515545535453">LEASE REQUIREMENTS AND REQUESTS</h1> The DHCP protocol allows the client to request that the server send it specific information, and not send it other information that it is not prepared to accept. The protocol also allows the client to reject offers from servers if they don't contain information the client needs, or if the information provided is not satisfactory.<div class="spacer">
</div>
There is a variety of data contained in offers that DHCP servers send to DHCP clients. The data that can be specifically requested is what are called <span class="emph">DHCP Options</span>. DHCP Options are defined in <a class="link-man" href="../html5/dhcp-options.html">dhcp-options(5)</a>.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">ignore</b> [<span class="opt"><i class="arg">option</i>, <i class="arg">...</i></span>];</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">ignore</b> statement causes the client to discard values provided by the server for the specified options. Only option names should be specified in the ignore statement - not option values. Only the last <b class="cmd">ignore</b> statement has any effect, overriding any previous <b class="cmd">ignore</b> statement.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">request</b> [<span class="opt"><i class="arg">option</i>, <i class="arg">...</i></span>];</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">request</b> statement causes the client to request that any server responding to the client send the client its values for the specified options. Only option names should be specified in the request statement - not option values. Only the last <b class="cmd">request</b> statement has any effect, overriding any previous <b class="cmd">request</b> statement.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">require</b> [<span class="opt"><i class="arg">option</i>, <i class="arg">...</i></span>];</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">require</b> statement lists options that must be sent in order for an offer to be accepted. Offers that do not contain all the listed options will be ignored. Only option names should be specified in the require statement - not option values. Only the last <b class="cmd">require</b> statement has any effect, overriding any previous <b class="cmd">require</b> statement.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">send</b> <i class="arg">option option-value</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">send</b> statement causes the client to send the specified option and value to the server. Options that are always sent in the DHCP protocol should not be specified here. One use for this statement is to send information to the server that will allow it to differentiate between this client and other clients or kinds of clients.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4f5054494f4e204d4f44494649455253">OPTION MODIFIERS</h1> Options in the lease can be modified before being accepted.<div class="spacer">
</div>
Several option modifiers are available.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">default</b> <i class="arg">option option-value</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">option-value</i> for the given <i class="arg">option</i>, if no value is supplied by the server.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">supersede</b> <i class="arg">option option-value</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">option-value</i> for the given <i class="arg">option</i>, regardless of the value supplied by the server.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">prepend</b> <i class="arg">option option-value</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">option-value</i> for the given <i class="arg">option</i>, and then use the value supplied by the server. <b class="cmd">prepend</b> can only be used for options which allow more than one value to be given. The restriction is not enforced - if violated, the results are unpredictable.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">append</b> <i class="arg">option option-value</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Use <i class="arg">option-value</i> for the given <i class="arg">option</i>, after first using the value supplied by the server. <b class="cmd">append</b> can only be used for options which allow more than one value to be given. The restriction is not enforced - if violated, the results are unpredictable.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4c45415345204445434c41524154494f4e53">LEASE DECLARATIONS</h1> The lease declaration:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">lease</b> <code class="none">{</code> <i class="arg">lease-declaration</i>; <i class="arg">...</i>; <code class="none">}</code></div>
</blockquote>
<div class="spacer">
</div>
The DHCP client may decide after some period of time (see <i class="link-sec"><a class="link-sec" href="#x50524f544f434f4c2054494d494e47">PROTOCOL TIMING</a></i>) that it is not going to succeed in contacting a server. At that time, it consults its own database of old leases and tests each one that has not yet timed out by pinging the listed router for that lease to see if that lease could work. It is possible to define one or more <span class="emph">fixed</span> leases in the client configuration file for networks where there is no DHCP or BOOTP service, so that the client can still automatically configure its address. This is done with the <b class="cmd">lease</b> statement.<div class="spacer">
</div>
NOTE: the lease statement is also used in the <i class="file">/var/db/dhclient.leases.</i>&#10216;<i class="arg">IFNAME</i>&#10217; file in order to record leases that have been received from DHCP servers. Some of the syntax for leases as described below is only needed in the <i class="file">/var/db/dhclient.leases.</i>&#10216;<i class="arg">IFNAME</i>&#10217; file. Such syntax is documented here for completeness.<div class="spacer">
</div>
A lease statement consists of the lease keyword, followed by a left curly brace, followed by one or more lease declaration statements, followed by a right curly brace. The following lease declarations are possible:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">bootp</b>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">bootp</b> statement is used to indicate that the lease was acquired using the BOOTP protocol rather than the DHCP protocol. It is never necessary to specify this in the client configuration file. The client uses this syntax in its lease database file.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">interface</b> &#8220;<i class="arg">string</i>&#8221;;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">interface</b> lease statement is used to indicate the interface on which the lease is valid. If set, this lease will only be tried on a particular interface. When the client receives a lease from a server, it always records the interface number on which it received that lease. If predefined leases are specified in the <b class="name">dhclient.conf</b> file, the interface should also be specified, although this is not required.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">fixed-address</b> <i class="arg">ip-address</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">fixed-address</b> statement is used to set the IP address of a particular lease. This is required for all lease statements. The IP address must be specified as a dotted quad (e.g., 12.34.56.78).<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">filename</b> &#8220;<i class="arg">string</i>&#8221;;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">filename</b> statement specifies the name of the boot filename to use. This is not used by the standard client, but is included for completeness.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">server-name</b> &#8220;<i class="arg">string</i>&#8221;;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">server-name</b> statement specifies the name of the boot server name to use. This is not used by the standard client, but is included for completeness.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">option</b> <i class="arg">option option-value</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">option</b> statement is used to specify the value of an option supplied by the server, or, in the case of predefined leases declared in <b class="name">dhclient.conf</b>, the value that the user wishes the client to use if the predefined lease is used.<div class="spacer">
</div>
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">renew</b> <i class="arg">date</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">rebind</b> <i class="arg">date</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">expire</b> <i class="arg">date</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">renew</b> statement defines the time at which the DHCP client should begin trying to contact its server to renew a lease that it is using. The <b class="cmd">rebind</b> statement defines the time at which the DHCP client should begin to try to contact <span class="emph">any</span> DHCP server in order to renew its lease. The <b class="cmd">expire</b> statement defines the time at which the DHCP client must stop using a lease if it has not been able to contact a server in order to renew it.</dd>
</dl>
<div class="spacer">
</div>
These declarations are automatically set in leases acquired by the DHCP client, but must also be configured in predefined leases - a predefined lease whose expiry time has passed will not be used by the DHCP client.<div class="spacer">
</div>
Dates are specified as follows:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
&lt;weekday&gt; &lt;year&gt;/&lt;month&gt;/&lt;day&gt; &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</div>
</blockquote>
<div class="spacer">
</div>
The weekday is present to make it easy for a human to tell when a lease expires - it's specified as a number from zero to six, with zero being Sunday. When declaring a predefined lease, it can always be specified as zero. The year is specified with the century, so it should generally be four digits except for really long leases. The month is specified as a number starting with 1 for January. The day of the month is likewise specified starting with 1. The hour is a number between 0 and 23, the minute a number between 0 and 59, and the second also a number between 0 and 59.</div>
<div class="section">
<h1 id="x4f54484552204445434c41524154494f4e53">OTHER DECLARATIONS</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">reject</b> <i class="arg">ip-address</i>;</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The <b class="cmd">reject</b> statement causes the DHCP client to reject offers from servers who use the specified address as a server identifier. This can be used to avoid being configured by rogue or misconfigured DHCP servers, although it should be a last resort - better to track down the bad DHCP server and fix it.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">interface</b> &#8220;<i class="arg">name</i>&#8221; <code class="none">{</code> <i class="arg">declaration</i>; <i class="arg">...</i>; <code class="none">}</code></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A client with more than one network interface may require different behaviour depending on which interface is being configured. All timing parameters and declarations other than lease declarations can be enclosed in an interface declaration, and those parameters will then be used only for the interface that matches the specified name. Interfaces for which there is no interface declaration will use the parameters declared outside of any interface declaration, or the default settings.</dd>
</dl>
</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The following configuration file is used on a laptop which has one interface, ep0 (a 3Com 3C589C). Booting intervals have been shortened somewhat from the default, because the client is known to spend most of its time on networks with little DHCP activity. The laptop does roam to multiple networks.<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
timeout 60; 
retry 60; 
reboot 10; 
select-timeout 5; 
initial-interval 2; 
reject 192.33.137.209; 
 
interface &quot;ep0&quot; { 
    send host-name &quot;andare.fugue.com&quot;; 
    send dhcp-client-identifier 1:0:a0:24:ab:fb:9c; 
    send dhcp-lease-time 3600; 
    supersede domain-name &quot;fugue.com rc.vix.com home.vix.com&quot;; 
    prepend domain-name-servers 127.0.0.1; 
    request subnet-mask, broadcast-address, time-offset, routers, 
	    domain-name, domain-name-servers, host-name; 
    require subnet-mask, domain-name-servers; 
}</pre>
<div class="spacer">
</div>
This is a very complicated <b class="name">dhclient.conf</b> file - in general, yours should be much simpler. In many cases, it's sufficient to just create an empty <b class="name">dhclient.conf</b> file - the defaults are usually fine.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/dhclient.leases.html">dhclient.leases(5)</a>, <a class="link-man" href="../html5/dhcp-options.html">dhcp-options(5)</a>, <a class="link-man" href="../html5/dhcpd.conf.html">dhcpd.conf(5)</a>, <a class="link-man" href="../html8/dhclient.html">dhclient(8)</a>, <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <span class="ref"><span class="ref-auth">R. Droms</span>, <span class="ref-title">Dynamic Host Configuration Protocol</span>, <span class="ref-rep">RFC 2131</span>, <span class="ref-date">March 1997</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">S. Alexander</span> and <span class="ref-auth">R. Droms</span>, <span class="ref-title">DHCP Options and BOOTP Vendor Extensions</span>, <span class="ref-rep">RFC 2132</span>, <span class="ref-date">March 1997</span>.</span></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <a class="link-man" href="../html8/dhclient.html">dhclient(8)</a> was written by <span class="author">Ted Lemon</span> &lt;<a class="link-mail" href="mailto:mellon@vix.com">mellon@vix.com</a>&gt; under a contract with Vixie Labs.<div class="spacer">
</div>
The current implementation was reworked by <span class="author">Henning Brauer</span> &lt;<a class="link-mail" href="mailto:henning@openbsd.org">henning@openbsd.org</a>&gt;.</div>
</div>
</body>
</html>

