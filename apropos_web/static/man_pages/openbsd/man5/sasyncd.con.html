<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
SASYNCD.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">sasyncd.conf</b> &#8212; <span class="desc">configuration file for sasyncd</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> <b class="name">sasyncd.conf</b> is the configuration file for the <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> daemon.<div class="spacer">
</div>
The current line can be extended over multiple lines using a backslash (&#8216;\&#8217;). Comments can be put anywhere in the file using a hash mark (&#8216;#&#8217;), and extend to the end of the current line. Care should be taken when commenting out multi-line text: the comment is effective until the end of the entire block.<div class="spacer">
</div>
Since the file contains the shared secret key used to encrypt data between this host and the others, <i class="file">/etc/sasyncd.conf</i> must be owned either by &#8220;root&#8221; or the &#8220;_isakmpd&#8221; pseudo user and be readable only by this owner, e.g.<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
# chown root /etc/sasyncd.conf 
# chmod 0600 /etc/sasyncd.conf</pre>
<div class="spacer">
</div>
The following configuration settings are understood:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">interface</b> <i class="arg">interface</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify which <a class="link-man" href="../html4/carp.html">carp(4)</a> interface <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> should track master/slave state on.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">group</b> <i class="arg">group</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify on which interface group <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> should increase the demote counter. This has the effect of suppressing <a class="link-man" href="../html4/carp.html">carp(4)</a> preemption while initial <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> state is established. The default is to use the &#8220;carp&#8221; group.<div class="spacer">
</div>
For more information on interface groups, see the <b class="cmd">group</b> keyword in <a class="link-man" href="../html8/ifconfig.html">ifconfig(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">flushmode sync</b> | <b class="cmd">startup</b> | <b class="cmd">never</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Controls how the <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> master host handles SADB_FLUSH messages to its slaves.<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">sync</b></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Pass any SADB_FLUSH messages along. For example, in this mode <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> will synchronize an <b class="cmd">ipsecctl -F</b> command to all connected slaves. For more information, see <a class="link-man" href="../html8/ipsecctl.html">ipsecctl(8)</a>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">startup</b></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Send a SADB_FLUSH message to the slaves as they connect, and act as <b class="cmd">sync</b> afterwards. This is the default.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="cmd">never</b></dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Never send SADB_FLUSH messages.</dd>
</dl>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">listen on</b> <i class="arg">address</i> [<span class="opt"><i class="arg">family</i></span>] [<span class="opt"><b class="cmd">port</b> <i class="arg">port</i></span>]</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify a local IP address, hostname, or interface the <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> daemon should listen on. The default is to listen on all local addresses. When using an interface name, <i class="arg">family</i> may be given as &#8220;inet&#8221; or &#8220;inet6&#8221; to only bind using the specified address family. Finally, <i class="arg">port</i> can be used to specify which TCP port <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> should listen to. The default is to listen to port 500.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">mode master</b> | <b class="cmd">slave</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Force the daemon to run as master or slave. Normally only intended for debugging use.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">mode skipslave</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Prevent the daemon from syncing SA or SPD messages where the source or destination address is one of the configured peers. Intended to permit IPsec <a class="link-man" href="../html4/pfsync.html">pfsync(4)</a> protection. This mode is experimental.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">peer</b> <i class="arg">address</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Specify a <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> peer IP address or hostname. May be specified multiple times. For example:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
peer 10.0.0.2 
peer 10.0.0.3 
peer 10.0.0.4</pre>
</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">sharedkey</b> <i class="arg">key</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
The shared AES key used to encrypt messages between <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> hosts. This configuration setting is required and must be either 16, 24 or 32 bytes long (corresponding to AES using a 128, 192 or 256 bit key).</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
<b class="cmd">control isakmpd</b> | <b class="cmd">iked</b> | <b class="cmd">all</b> | <b class="cmd">none</b></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
By default, <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a> tracks its local master/slave mode and toggles the passive mode of <a class="link-man" href="../html8/isakmpd.html">isakmpd(8)</a> accordingly. This option can be changed to control <a class="link-man" href="../html8/iked.html">iked(8)</a> instead, to control all supported daemons at the same time, or to turn it off to synchronize SAs only.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/chmod.html">chmod(1)</a>, <a class="link-man" href="../html4/carp.html">carp(4)</a>, <a class="link-man" href="../html8/chown.html">chown(8)</a>, <a class="link-man" href="../html8/ipsecctl.html">ipsecctl(8)</a>, <a class="link-man" href="../html8/sasyncd.html">sasyncd(8)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">sasyncd.conf</b> file format first appeared in <span class="unix">OpenBSD&#160;3.8</span>.</div>
</div>
</body>
</html>

