<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
DHCPD.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">dhcpd.conf</b> &#8212; <span class="desc">DHCP server configuration file</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">dhcpd.conf</b> file contains configuration information for <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a>, the Internet Software Consortium DHCP Server.<div class="spacer">
</div>
The <b class="name">dhcpd.conf</b> file is a free-form ASCII text file. It is parsed by the recursive-descent parser built into <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a>. The file may contain extra tabs and newlines for formatting purposes. Keywords in the file are case-insensitive. Comments may be placed anywhere within the file (except within quotes). Comments begin with the &#8216;#&#8217; character and end at the end of the line.<div class="spacer">
</div>
The file essentially consists of a list of statements. Statements fall into two broad categories - parameters and declarations.<div class="spacer">
</div>
Parameter statements say how to do something (e.g., how long a lease to offer), whether to do something (e.g., should <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> provide addresses to unknown clients), or what parameters to provide to the client (e.g., use gateway 220.177.244.7).<div class="spacer">
</div>
Declarations are used to describe the topology of the network, to describe clients on the network, to provide addresses that can be assigned to clients, or to apply a group of parameters to a group of declarations. In any group of parameters and declarations, all parameters must be specified before any declarations which depend on those parameters may be specified.<div class="spacer">
</div>
Declarations about network topology include the <b class="cmd">shared-network</b> and the <b class="cmd">subnet</b> declarations. If clients on a subnet are to be assigned addresses dynamically, a <b class="cmd">range</b> declaration must appear within the <b class="cmd">subnet</b> declaration. For clients with statically assigned addresses, or for installations where only known clients will be served, each such client must have a <b class="cmd">host</b> declaration. If parameters are to be applied to a group of declarations which are not related strictly on a per-subnet basis, the <b class="cmd">group</b> declaration can be used.<div class="spacer">
</div>
For every subnet which will be served, and for every subnet to which the dhcp server is connected, there must be one <b class="cmd">subnet</b> declaration, which tells <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> how to recognize that an address is on that subnet. A <b class="cmd">subnet</b> declaration is required for each subnet even if no addresses will be dynamically allocated on that subnet.<div class="spacer">
</div>
Some installations have physical networks on which more than one IP subnet operates. For example, if there is a site-wide requirement that 8-bit subnet masks be used, but a department with a single physical Ethernet network expands to the point where it has more than 254 nodes, it may be necessary to run two 8-bit subnets on the same Ethernet until such time as a new physical network can be added. In this case, the <b class="cmd">subnet</b> declarations for these two networks may be enclosed in a <b class="cmd">shared-network</b> declaration.<div class="spacer">
</div>
Some sites may have departments which have clients on more than one subnet, but it may be desirable to offer those clients a uniform set of parameters which are different than what would be offered to clients from other departments on the same subnet. For clients which will be declared explicitly with <b class="cmd">host</b> declarations, these declarations can be enclosed in a <b class="cmd">group</b> declaration along with the parameters which are common to that department. For clients whose addresses will be dynamically assigned, there is currently no way to group parameter assignments other than by network topology.<div class="spacer">
</div>
When a client is to be booted, its boot parameters are determined by first consulting that client's <b class="cmd">host</b> declaration (if any), then consulting the <b class="cmd">group</b> declaration (if any) which enclosed that <b class="cmd">host</b> declaration, then consulting the <b class="cmd">subnet</b> declaration for the subnet on which the client is booting, then consulting the <b class="cmd">shared-network</b> declaration (if any) containing that subnet, and finally consulting the top-level parameters which may be specified outside of any declaration.<div class="spacer">
</div>
When <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> tries to find a <b class="cmd">host</b> declaration for a client, it first looks for a <b class="cmd">host</b> declaration which has a <i class="arg">fixed-address</i> parameter which matches the subnet or shared network on which the client is booting. If it doesn't find any such entry, it then tries to find an entry which has no <i class="arg">fixed-address</i> parameter. If no such entry is found, then <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> acts as if there is no entry in the <b class="name">dhcpd.conf</b> file for that client, even if there is an entry for that client on a different subnet or shared network.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> A typical <b class="name">dhcpd.conf</b> file will look something like this:<div class="spacer">
</div>
Example 1<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
<i class="arg">global parameters...</i> 
 
shared-network ISC-BIGGIE { 
  <i class="arg">shared-network-specific parameters ...</i> 
  subnet 204.254.239.0 netmask 255.255.255.224 { 
    <i class="arg">subnet-specific parameters ...</i> 
    range 204.254.239.10 204.254.239.30; 
  } 
  subnet 204.254.239.32 netmask 255.255.255.224 { 
    <i class="arg">subnet-specific parameters ...</i> 
    range 204.254.239.42 204.254.239.62; 
  } 
} 
 
subnet 204.254.239.64 netmask 255.255.255.224 { 
  <i class="arg">subnet-specific parameters ...</i> 
  range 204.254.239.74 204.254.239.94; 
} 
 
group { 
  <i class="arg">group-specific parameters ...</i> 
  host zappo.test.isc.org { 
    <i class="arg">host-specific parameters ...</i> 
  } 
  host beppo.test.isc.org { 
    <i class="arg">host-specific parameters ...</i> 
  } 
  host harpo.test.isc.org { 
    <i class="arg">host-specific parameters ...</i> 
  } 
}</pre>
<div class="spacer">
</div>
Notice that at the beginning of the file, there's a place for global parameters. These might be things like the organization's domain name, the addresses of the name servers (if they are common to the entire organization), and so on. So, for example:<div class="spacer">
</div>
Example 2<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
option domain-name &quot;isc.org&quot;; 
option domain-name-servers ns1.isc.org, ns2.isc.org;</pre>
<div class="spacer">
</div>
As you can see in Example 2, it's legal to specify host addresses in parameters as domain names rather than as numeric IP addresses. If a given hostname resolves to more than one IP address (for example, if that host has two Ethernet interfaces), both addresses are supplied to the client.<div class="spacer">
</div>
In Example 1, you can see that both the shared-network statement and the subnet statements can have parameters. Let us say that the shared network ISC-BIGGIE supports an entire department - perhaps the accounting department. If accounting has its own domain, then a shared-network-specific parameter might be:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">option domain-name &quot;accounting.isc.org&quot;;</code></div>
</blockquote>
<div class="spacer">
</div>
All subnet declarations appearing in the shared-network declaration would then have the domain-name option set to &#8220;accounting.isc.org&#8221; instead of just &#8220;isc.org&#8221;.<div class="spacer">
</div>
The most obvious reason for having subnet-specific parameters as shown in Example 1 is that each subnet, of necessity, has its own router. So for the first subnet, for example, there should be something like:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">option routers 204.254.239.1;</code></div>
</blockquote>
<div class="spacer">
</div>
Note that the address here is specified numerically. This is not required - if you have a different domain name for each interface on your router, it's perfectly legitimate to use the domain name for that interface instead of the numeric address. However, in many cases there may be only one domain name for all of a router's IP addresses, and it would not be appropriate to use that name here.<div class="spacer">
</div>
In Example 1 there is also a <b class="cmd">group</b> statement, which provides common parameters for a set of three hosts - zappo, beppo and harpo. As you can see, these hosts are all in the test.isc.org domain, so it might make sense for a group-specific parameter to override the domain name supplied to these hosts:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">option domain-name &quot;test.isc.org&quot;;</code></div>
</blockquote>
<div class="spacer">
</div>
Also, given the domain they're in, these are probably test machines. If we wanted to test the DHCP leasing mechanism, we might set the lease timeout somewhat shorter than the default:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
max-lease-time 120; 
default-lease-time 120;</pre>
<div class="spacer">
</div>
You may have noticed that while some parameters start with the <b class="cmd">option</b> keyword, some do not. Parameters starting with the <b class="cmd">option</b> keyword correspond to actual DHCP options, while parameters that do not start with the option keyword either control the behaviour of the DHCP server (e.g., how long a lease <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> will give out), or specify client parameters that are not optional in the DHCP protocol (for example, server-name and filename).<div class="spacer">
</div>
In Example 1, each host had <i class="arg">host-specific parameters</i>. These could include such things as the <b class="cmd">hostname</b> option, the name of a file to download (the <i class="arg">filename</i> parameter) and the address of the server from which to download the file (the <i class="arg">next-server</i> parameter). In general, any parameter can appear anywhere that parameters are allowed, and will be applied according to the scope in which the parameter appears.<div class="spacer">
</div>
Imagine that you have a site with a lot of NCD X-Terminals. These terminals come in a variety of models, and you want to specify the boot files for each model. One way to do this would be to have host declarations for each server and group them by model:<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
group { 
  filename &quot;Xncd19r&quot;; 
  next-server ncd-booter; 
 
  host ncd1 { hardware ethernet 0:c0:c3:49:2b:57; } 
  host ncd4 { hardware ethernet 0:c0:c3:80:fc:32; } 
  host ncd8 { hardware ethernet 0:c0:c3:22:46:81; } 
} 
 
group { 
  filename &quot;Xncd19c&quot;; 
  next-server ncd-booter; 
 
  host ncd2 { hardware ethernet 0:c0:c3:88:2d:81; } 
  host ncd3 { hardware ethernet 0:c0:c3:00:14:11; } 
} 
 
group { 
  filename &quot;XncdHMX&quot;; 
  next-server ncd-booter; 
 
  host ncd5 { hardware ethernet 0:c0:c3:11:90:23; } 
  host ncd6 { hardware ethernet 0:c0:c3:91:a7:8; } 
  host ncd7 { hardware ethernet 0:c0:c3:cc:a:8f; } 
}</pre>
</div>
<div class="section">
<h1 id="x5245464552454e43453a204445434c41524154494f4e53">REFERENCE: DECLARATIONS</h1> The <b class="cmd">shared-network</b> statement<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
<b class="cmd">shared-network</b> <i class="arg">name</i> <code class="none">{</code> 
  [<span class="opt"><i class="arg">parameters</i></span>] 
  [<span class="opt"><i class="arg">declarations</i></span>] 
}</pre>
<div class="spacer">
</div>
The <b class="cmd">shared-network</b> statement is used to inform the DHCP server that some IP subnets actually share the same physical network. Any subnets in a shared network should be declared within a <b class="cmd">shared-network</b> statement. Parameters specified in the <b class="cmd">shared-network</b> statement will be used when booting clients on those subnets unless parameters provided at the subnet or host level override them. If any subnet in a shared network has addresses available for dynamic allocation, those addresses are collected into a common pool for that shared network and assigned to clients as needed. There is no way to distinguish on which subnet of a shared network a client should boot.<div class="spacer">
</div>
<i class="arg">name</i> should be the name of the shared network. This name is used when printing debugging messages, so it should be descriptive for the shared network. The name may have the syntax of a valid domain name (although it will never be used as such), or it may be any arbitrary name, enclosed in quotes.<div class="spacer">
</div>
The <b class="cmd">subnet</b> statement<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
<b class="cmd">subnet</b> <i class="arg">subnet-number</i> <b class="cmd">netmask</b> <i class="arg">netmask</i> <code class="none">{</code> 
  [<span class="opt"><i class="arg">parameters</i></span>] 
  [<span class="opt"><i class="arg">declarations</i></span>] 
}</pre>
<div class="spacer">
</div>
The <b class="cmd">subnet</b> statement is used to provide <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> with enough information to tell whether or not an IP address is on that subnet. It may also be used to provide subnet-specific parameters and to specify what addresses may be dynamically allocated to clients booting on that subnet. Such addresses are specified using the <b class="cmd">range</b> declaration.<div class="spacer">
</div>
The <i class="arg">subnet-number</i> and <i class="arg">netmask</i> should be specified as numeric IP addresses. The subnet number, together with the netmask, are sufficient to determine whether any given IP address is on the specified subnet.<div class="spacer">
</div>
Although a netmask must be given with every subnet declaration, it is recommended that if there is any variance in subnet masks at a site, a subnet-mask option statement be used in each subnet declaration to set the desired subnet mask, since any subnet-mask option statement will override the subnet mask declared in the subnet statement.<div class="spacer">
</div>
The <b class="cmd">range</b> statement<div class="spacer">
</div>
<b class="cmd">range</b> [<span class="opt"><b class="cmd">dynamic-bootp</b></span>] <i class="arg">low-address</i> [<span class="opt"><i class="arg">high-address</i></span>];<div class="spacer">
</div>
For any subnet on which addresses will be assigned dynamically, there must be at least one <b class="cmd">range</b> statement. The range statement gives the lowest and highest IP addresses in a range. All IP addresses in the range should be in the subnet in which the <b class="cmd">range</b> statement is declared. The <b class="cmd">dynamic-bootp</b> flag may be specified if addresses in the specified range may be dynamically assigned to BOOTP clients as well as DHCP clients. When specifying a single address, <i class="arg">high-address</i> can be omitted.<div class="spacer">
</div>
The <b class="cmd">host</b> statement<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
<b class="cmd">host</b> <i class="arg">hostname</i> <code class="none">{</code> 
  [<span class="opt"><i class="arg">parameters</i></span>] 
  [<span class="opt"><i class="arg">declarations</i></span>] 
}</pre>
<div class="spacer">
</div>
There must be at least one <b class="cmd">host</b> statement for every BOOTP client that is to be served. <b class="cmd">host</b> statements may also be specified for DHCP clients, although this is not required unless booting is only enabled for known hosts.<div class="spacer">
</div>
If it is desirable to be able to boot a DHCP or BOOTP client on more than one subnet with fixed addresses, more than one address may be specified in the <i class="arg">fixed-address</i> parameter, or more than one <b class="cmd">host</b> statement may be specified.<div class="spacer">
</div>
If client-specific boot parameters must change based on the network to which the client is attached, then multiple <b class="cmd">host</b> statements should be used.<div class="spacer">
</div>
If a client is to be booted using a fixed address if it's possible, but should be allocated a dynamic address otherwise, then a <b class="cmd">host</b> statement must be specified without a <i class="arg">fixed-address</i> clause. <i class="arg">hostname</i> should be a name identifying the host. If a <i class="arg">hostname</i> option is not specified for the host, <i class="arg">hostname</i> is used.<div class="spacer">
</div>
<b class="cmd">host</b> declarations are matched to actual DHCP or BOOTP clients by matching the <b class="cmd">dhcp-client-identifier</b> option specified in the <b class="cmd">host</b> declaration to the one supplied by the client or, if the <b class="cmd">host</b> declaration or the client does not provide a <b class="cmd">dhcp-client-identifier</b> option, by matching the <i class="arg">hardware</i> parameter in the <b class="cmd">host</b> declaration to the network hardware address supplied by the client. BOOTP clients do not normally provide a <i class="arg">dhcp-client-identifier</i>, so the hardware address must be used for all clients that may boot using the BOOTP protocol.<div class="spacer">
</div>
The <b class="cmd">group</b> statement<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
<b class="cmd">group</b> <code class="none">{</code> 
  [<span class="opt"><i class="arg">parameters</i></span>] 
  [<span class="opt"><i class="arg">declarations</i></span>] 
}</pre>
<div class="spacer">
</div>
The <b class="cmd">group</b> statement is used simply to apply one or more parameters to a group of declarations. It can be used to group hosts, shared networks, subnets, or even other groups.</div>
<div class="section">
<h1 id="x5245464552454e43453a20414c4c4f5720616e642044454e59">REFERENCE: ALLOW and DENY</h1> The <b class="cmd">allow</b> and <b class="cmd">deny</b> statements can be used to control the behaviour of <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> to various sorts of requests.<div class="spacer">
</div>
The <i class="arg">unknown-clients</i> keyword<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
allow unknown-clients; 
deny unknown-clients;</pre>
<div class="spacer">
</div>
The <i class="arg">unknown-clients</i> flag is used to tell <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> whether or not to dynamically assign addresses to unknown clients. Dynamic address assignment to unknown clients is allowed by default.<div class="spacer">
</div>
The <i class="arg">bootp</i> keyword<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
allow bootp; 
deny bootp;</pre>
<div class="spacer">
</div>
The <i class="arg">bootp</i> flag is used to tell <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> whether or not to respond to bootp queries. Bootp queries are allowed by default.<div class="spacer">
</div>
The <i class="arg">booting</i> keyword<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
allow booting; 
deny booting;</pre>
<div class="spacer">
</div>
The <i class="arg">booting</i> flag is used to tell <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> whether or not to respond to queries from a particular client. This keyword only has meaning when it appears in a host declaration. By default, booting is allowed, but if it is disabled for a particular client, then that client will not be able to get an address from the DHCP server.</div>
<div class="section">
<h1 id="x5245464552454e43453a20504152414d4554455253">REFERENCE: PARAMETERS</h1> The <b class="cmd">default-lease-time</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">default-lease-time</b> <i class="arg">time</i>;</div>
</blockquote>
<div class="spacer">
</div>
<i class="arg">time</i> should be the length in seconds that will be assigned to a lease if the client requesting the lease does not ask for a specific expiration time.<div class="spacer">
</div>
The <b class="cmd">max-lease-time</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">max-lease-time</b> <i class="arg">time</i>;</div>
</blockquote>
<div class="spacer">
</div>
<i class="arg">time</i> should be the maximum length in seconds that will be assigned to a lease if the client requesting the lease asks for a specific expiration time.<div class="spacer">
</div>
The <b class="cmd">hardware</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">hardware</b> <i class="arg">hardware-type hardware-address</i>;</div>
</blockquote>
<div class="spacer">
</div>
In order for a BOOTP client to be recognized, its network hardware address must be declared using a <b class="cmd">hardware</b> clause in the <b class="cmd">host</b> statement. <i class="arg">hardware-type</i> must be the name of a hardware interface type. Currently, the <i class="arg">ethernet</i>, <i class="arg">token-ring</i> and <i class="arg">fddi</i> physical interface types are recognized, although support for DHCP-over-IPSec virtual interface type <i class="arg">ipsec-tunnel</i> is provided. The <i class="arg">hardware-address</i> should be a set of hexadecimal octets (numbers from 0 through ff) separated by colons. The <b class="cmd">hardware</b> statement may also be used for DHCP clients.<div class="spacer">
</div>
The <b class="cmd">filename</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">filename</b> &#8220;<i class="arg">filename</i>&#8221;;</div>
</blockquote>
<div class="spacer">
</div>
The <b class="cmd">filename</b> statement can be used to specify the name of the initial boot file which is to be loaded by a client. The <i class="arg">filename</i> should be a filename recognizable to whatever file transfer protocol the client can be expected to use to load the file.<div class="spacer">
</div>
The <b class="cmd">server-name</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">server-name</b> &#8220;<i class="arg">name</i>&#8221;;</div>
</blockquote>
<div class="spacer">
</div>
The <b class="cmd">server-name</b> statement can be used to inform the client of the name of the server from which it is booting. <i class="arg">name</i> should be the name that will be provided to the client.<div class="spacer">
</div>
The <b class="cmd">next-server</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">next-server</b> <i class="arg">server-name</i>;</div>
</blockquote>
<div class="spacer">
</div>
The <b class="cmd">next-server</b> statement is used to specify the host address of the server from which the initial boot file (specified in the <b class="cmd">filename</b> statement) is to be loaded. <i class="arg">server-name</i> should be a numeric IP address or a domain name. If no <b class="cmd">next-server</b> parameter applies to a given client, the DHCP server's IP address is used.<div class="spacer">
</div>
The <b class="cmd">fixed-address</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">fixed-address</b> <i class="arg">address</i> [<span class="opt">, <i class="arg">address ...</i></span>];</div>
</blockquote>
<div class="spacer">
</div>
The <b class="cmd">fixed-address</b> statement is used to assign one or more fixed IP addresses to a client. It should only appear in a <b class="cmd">host</b> declaration. If more than one address is supplied, then when the client boots, it will be assigned the address which corresponds to the network on which it is booting. If none of the addresses in the <b class="cmd">fixed-address</b> statement are on the network on which the client is booting, that client will not match the <b class="cmd">host</b> declaration containing that <b class="cmd">fixed-address</b> statement. Each <i class="arg">address</i> should be either an IP address or a domain name which resolves to one or more IP addresses.<div class="spacer">
</div>
Clients with fixed addresses are not assigned DHCP leases, and may therefore not be used with the <b class="flag">-ACL</b> table options of <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a>.<div class="spacer">
</div>
The <b class="cmd">dynamic-bootp-lease-cutoff</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">dynamic-bootp-lease-cutoff</b> <i class="arg">date</i>;</div>
</blockquote>
<div class="spacer">
</div>
The <b class="cmd">dynamic-bootp-lease-cutoff</b> statement sets the ending time for all leases assigned dynamically to BOOTP clients. Because BOOTP clients do not have any way of renewing leases, and don't know that their leases could expire, by default <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> assigns infinite leases to all BOOTP clients. However, it may make sense in some situations to set a cutoff date for all BOOTP leases - for example, the end of a school term, or the time at night when a facility is closed and all machines are required to be powered off.<div class="spacer">
</div>
<i class="arg">date</i> should be the date on which all assigned BOOTP leases will end. The date is specified in the form:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">W YYYY/MM/DD HH:MM:SS</code></div>
</blockquote>
<div class="spacer">
</div>
W is the day of the week expressed as a number from zero (Sunday) to six (Saturday). YYYY is the year, including the century. MM is the month expressed as a number from 1 to 12. DD is the day of the month, counting from 1. HH is the hour, from zero to 23. MM is the minute and SS is the second. The time is always in Coordinated Universal Time (UTC), not local time.<div class="spacer">
</div>
The <b class="cmd">dynamic-bootp-lease-length</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">dynamic-bootp-lease-length</b> <i class="arg">length</i>;</div>
</blockquote>
<div class="spacer">
</div>
The <b class="cmd">dynamic-bootp-lease-length</b> statement is used to set the length of leases dynamically assigned to BOOTP clients. At some sites, it may be possible to assume that a lease is no longer in use if its holder has not used BOOTP or DHCP to get its address within a certain time period. The period is specified in <i class="arg">length</i> as a number of seconds. If a client reboots using BOOTP during the timeout period, the lease duration is reset to <i class="arg">length</i>, so a BOOTP client that boots frequently enough will never lose its lease. Needless to say, this parameter should be adjusted with extreme caution.<div class="spacer">
</div>
The <b class="cmd">get-lease-hostnames</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">get-lease-hostnames</b> <i class="arg">flag</i>;</div>
</blockquote>
<div class="spacer">
</div>
The <b class="cmd">get-lease-hostnames</b> statement is used to tell <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> whether or not to look up the domain name corresponding to the IP address of each address in the lease pool and use that address for the DHCP <b class="cmd">hostname</b> option. If <i class="arg">flag</i> is true, then this lookup is done for all addresses in the current scope. By default, or if <i class="arg">flag</i> is false, no lookups are done.<div class="spacer">
</div>
The <b class="cmd">use-host-decl-names</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">use-host-decl-names</b> <i class="arg">flag</i>;</div>
</blockquote>
<div class="spacer">
</div>
If the <b class="cmd">use-host-decl-names</b> parameter is true in a given scope, then for every host declaration within that scope, the name provided for the host declaration will be supplied to the client as its hostname. So, for example,<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
group { 
  use-host-decl-names on; 
 
  host joe { 
    hardware ethernet 08:00:2b:4c:29:32; 
    fixed-address joe.fugue.com; 
  } 
}</pre>
<div class="spacer">
</div>
is equivalent to<div class="spacer">
</div>
<pre style="margin-left: 5.00ex;" class="lit display">
host joe { 
  hardware ethernet 08:00:2b:4c:29:32; 
  fixed-address joe.fugue.com; 
  option host-name &quot;joe&quot;; 
}</pre>
<div class="spacer">
</div>
An <b class="cmd">option host-name</b> statement within a host declaration will override the use of the name in the host declaration.<div class="spacer">
</div>
The <b class="cmd">authoritative</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">authoritative</b>;</div>
</blockquote>
<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">not authoritative</b>;</div>
</blockquote>
<div class="spacer">
</div>
The DHCP server will normally assume that the configuration information about a given network segment is known to be correct and is authoritative. So if a client requests an IP address on a given network segment that the server knows is not valid for that segment, the server will respond with a DHCPNAK message, causing the client to forget its IP address and try to get a new one.<div class="spacer">
</div>
If a DHCP server is being configured by somebody who is not the network administrator and who therefore does not wish to assert this level of authority, then the statement &#8220;not authoritative&#8221; should be written in the appropriate scope in the configuration file.<div class="spacer">
</div>
Usually, writing <span class="emph">not authoritative;</span> at the top level of the file should be sufficient. However, if a DHCP server is to be set up so that it is aware of some networks for which it is authoritative and some networks for which it is not, it may be more appropriate to declare authority on a per-network-segment basis.<div class="spacer">
</div>
Note that the most specific scope for which the concept of authority makes any sense is the physical network segment - either a shared-network statement or a subnet statement that is not contained within a shared-network statement. It is not meaningful to specify that the server is authoritative for some subnets within a shared network, but not authoritative for others, nor is it meaningful to specify that the server is authoritative for some host declarations and not others.<div class="spacer">
</div>
The <b class="cmd">use-lease-addr-for-default-route</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">use-lease-addr-for-default-route</b> <i class="arg">flag</i>;</div>
</blockquote>
<div class="spacer">
</div>
If the <b class="cmd">use-lease-addr-for-default-route</b> parameter is true in a given scope, then instead of sending the value specified in the routers option (or sending no value at all), the IP address of the lease being assigned is sent to the client. This supposedly causes Win95 machines to ARP for all IP addresses, which can be helpful if your router is configured for proxy ARP.<div class="spacer">
</div>
If <b class="cmd">use-lease-addr-for-default-route</b> is enabled and an option routers statement are both in scope, the routers option will be preferred. The rationale for this is that in situations where you want to use this feature, you probably want it enabled for a whole bunch of Windows 95 machines, and you want to override it for a few other machines. Unfortunately, if the opposite happens to be true for your site, you are probably better off not trying to use this flag.<div class="spacer">
</div>
The <b class="cmd">always-reply-rfc1048</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">always-reply-rfc1048</b> <i class="arg">flag</i>;</div>
</blockquote>
<div class="spacer">
</div>
Some BOOTP clients expect RFC 1048-style responses, but do not follow RFC 1048 when sending their requests. You can tell that a client is having this problem if it is not getting the options you have configured for it and if you see in the server log the message &#8220;(non-rfc1048)&#8221; printed with each BOOTREQUEST that is logged.<div class="spacer">
</div>
If you want to send RFC 1048 options to such a client, you can set the <b class="cmd">always-reply-rfc1048</b> option in that client's host declaration, and the DHCP server will respond with an RFC 1048-style vendor options field. This flag can be set in any scope, and will affect all clients covered by that scope.<div class="spacer">
</div>
The <b class="cmd">server-identifier</b> statement<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<b class="cmd">server-identifier</b> <i class="arg">hostname</i>;</div>
</blockquote>
<div class="spacer">
</div>
The <b class="cmd">server-identifier</b> statement can be used to define the value that is sent in the DHCP Server Identifier option for a given scope. The value specified <span class="emph">must</span> be an IP address for the DHCP server, and must be reachable by all clients served by a particular scope.<div class="spacer">
</div>
The use of the server-identifier statement is not recommended - the only reason to use it is to force a value other than the default value to be sent on occasions where the default value would be incorrect. The default value is the first IP address associated with the physical network interface on which the request arrived.<div class="spacer">
</div>
The usual case where the <b class="cmd">server-identifier</b> statement needs to be sent is when a physical interface has more than one IP address, and the one being sent by default isn't appropriate for some or all clients served by that interface. Another common case is when an alias is defined for the purpose of having a consistent IP address for the DHCP server, and it is desired that the clients use this IP address when contacting the server.<div class="spacer">
</div>
Supplying a value for the <b class="cmd">dhcp-server-identifier</b> option is equivalent to using the <b class="cmd">server-identifier</b> statement.</div>
<div class="section">
<h1 id="x5245464552454e43453a204f5054494f4e2053544154454d454e5453">REFERENCE: OPTION STATEMENTS</h1> DHCP option statements are documented in the <a class="link-man" href="../html5/dhcp-options.html">dhcp-options(5)</a> manual page.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html5/dhcp-options.html">dhcp-options(5)</a>, <a class="link-man" href="../html5/dhcpd.leases.html">dhcpd.leases(5)</a>, <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a></div>
<div class="section">
<h1 id="x5354414e4441524453">STANDARDS</h1> <span class="ref"><span class="ref-auth">R. Droms</span>, <span class="ref-title">Dynamic Host Configuration Protocol</span>, <span class="ref-rep">RFC 2131</span>, <span class="ref-date">March 1997</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">S. Alexander</span> and <span class="ref-auth">R. Droms</span>, <span class="ref-title">DHCP Options and BOOTP Vendor Extensions</span>, <span class="ref-rep">RFC 2132</span>, <span class="ref-date">March 1997</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">M. Patrick</span>, <span class="ref-title">DHCP Relay Agent Information Option</span>, <span class="ref-rep">RFC 3046</span>, <span class="ref-date">January 2001</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">B. Patel</span>, <span class="ref-auth">B. Aboba</span>, <span class="ref-auth">S. Kelly</span>, and <span class="ref-auth">V. Gupta</span>, <span class="ref-title">Dynamic Host Configuration Protocol (DHCPv4) Configuration of IPsec Tunnel Mode</span>, <span class="ref-rep">RFC 3456</span>, <span class="ref-date">January 2003</span>.</span></div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> <a class="link-man" href="../html8/dhcpd.html">dhcpd(8)</a> was written by <span class="author">Ted Lemon</span> &lt;<a class="link-mail" href="mailto:mellon@vix.com">mellon@vix.com</a>&gt; under a contract with Vixie Labs.<div class="spacer">
</div>
The current implementation was reworked by <span class="author">Henning Brauer</span> &lt;<a class="link-mail" href="mailto:henning@openbsd.org">henning@openbsd.org</a>&gt;.</div>
</div>
</body>
</html>

