<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
PASSWD(5)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">passwd</b>, <b class="name">master.passwd</b> &#8212; <span class="desc">format of the password file</span></div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="name">master.passwd</b> file, readable only by root, consists of newline-separated records, one per user, containing ten colon separated fields. These fields are as follows:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
name</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
User's login name.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
password</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
User's <span class="emph">encrypted</span> password.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
uid</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
User's login user ID.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
gid</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
User's login group ID.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
class</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
User's general classification (see <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>).</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
change</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Password change time.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
expire</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
Account expiration time.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
gecos</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
General information about the user.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
home_dir</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
User's home directory.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
shell</dt>
<dd class="list-tag" style="margin-left: 8.00ex;">
User's login shell.</dd>
</dl>
<div class="spacer">
</div>
The publicly-readable <b class="name">passwd</b> file is generated from the <b class="name">master.passwd</b> file by <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a> and has the class, change, and expire fields removed. Also, the encrypted password field is replaced by an asterisk.<div class="spacer">
</div>
The password files should never be edited by hand; <a class="link-man" href="../html8/vipw.html">vipw(8)</a> should be used instead.<div class="spacer">
</div>
The <i class="arg">name</i> field is the login used to access the computer account, and the <i class="arg">uid</i> field is the number associated with it. They should both be unique across the system (and often across a group of systems) since they control file access.<div class="spacer">
</div>
While it is possible to have multiple entries with identical login names and/or identical user IDs, it is usually a mistake to do so. Routines that manipulate these files will often return only one of the multiple entries, and that one by random selection.<div class="spacer">
</div>
The login name may be up to 31 characters long. For compatibility with legacy software, a login name should start with a letter and consist solely of letters, numbers, dashes and underscores. The login name must never begin with a dash (&#8216;<code class="lit">-</code>&#8217;); also, it is strongly suggested that neither uppercase characters nor dots (&#8216;<code class="lit">.</code>&#8217;) be part of the name, as this tends to confuse mailers. No field may contain a colon as this has been used historically to separate the fields in the user database.<div class="spacer">
</div>
The password field is the <span class="emph">encrypted</span> form of the password. If the <i class="arg">password</i> field is empty, no password will be required to gain access to the machine. This is almost invariably a mistake. By convention, accounts that are not intended to be logged in to (e.g. bin, daemon, sshd) only contain a single asterisk in the <i class="arg">password</i> field. Note that there is nothing special about &#8216;<code class="lit">*</code>&#8217;, it is just one of many characters that cannot occur in a valid encrypted password (see <a class="link-man" href="../html3/crypt.html">crypt(3)</a>). Similarly, login accounts not allowing password authentication but allowing other authentication methods, for example public key authentication, conventionally have 13 asterisks in the <i class="arg">password</i> field. Because <b class="name">master.passwd</b> contains the encrypted user passwords, it should not be readable by anyone without appropriate privileges.<div class="spacer">
</div>
Configuration for the cipher used to encrypt the password information is contained in <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>.<div class="spacer">
</div>
The <i class="arg">group</i> field is the primary group that the user will be placed in upon login. Note that the <a class="link-man" href="../html5/group.html">group(5)</a> file may grant the user access to supplementary groups.<div class="spacer">
</div>
The <i class="arg">class</i> field is used by <a class="link-man" href="../html1/login.html">login(1)</a> and other programs to determine which entry in the <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a> database should be used.<div class="spacer">
</div>
The <i class="arg">change</i> field is the number in seconds, GMT, from the Epoch, until the password for the account must be changed. This field may be left empty to turn off the password aging feature.<div class="spacer">
</div>
The <i class="arg">expire</i> field is the number in seconds, GMT, from the Epoch, until the account expires. This field may be left empty to turn off the account aging feature.<div class="spacer">
</div>
The <i class="arg">gecos</i> field normally contains comma separated subfields as follows:<div class="spacer">
</div>
<dl style="margin-top: 0.00em;margin-bottom: 0.00em;margin-left: 6.00ex;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
name</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
User's full name.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
office</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
User's office location.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
wphone</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
User's work phone number.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
hphone</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
User's home phone number.</dd>
</dl>
<div class="spacer">
</div>
The full name may contain an ampersand (&#8216;<code class="lit">&amp;</code>&#8217;), which will be replaced by the capitalized login name when the gecos field is displayed or used by various programs such as <a class="link-man" href="../html1/finger.html">finger(1)</a>, <a class="link-man" href="../html8/sendmail.html">sendmail(8)</a>, etc.<div class="spacer">
</div>
The office and phone number subfields, if they exist, are used by the <a class="link-man" href="../html1/finger.html">finger(1)</a> program and possibly by other applications.<div class="spacer">
</div>
The <i class="arg">home_dir</i> field is the full path name of a directory to be used as the initial working directory for the user's login shell. Usually, it is owned by the user and by the user's primary <i class="arg">group</i>.<div class="spacer">
</div>
The <i class="arg">shell</i> field is the command interpreter the user prefers. If there is nothing in the <i class="arg">shell</i> field, the default shell (<i class="file">/bin/sh</i>) is assumed. Accounts that are not intended to be logged in to usually have a shell of <i class="file">/sbin/nologin</i>.</div>
<div class="section">
<h1 id="x595020535550504f5254">YP SUPPORT</h1> If YP is active, the <b class="name">passwd</b> file also supports standard YP exclusions and inclusions, based on user names and netgroups.<div class="spacer">
</div>
Lines beginning with a &#8216;<code class="lit">-</code>&#8217; (minus sign) are entries marked as being excluded from any following inclusions, which are marked with a &#8216;<code class="lit">+</code>&#8217; (plus sign).<div class="spacer">
</div>
If the second character of the line is a &#8216;<code class="lit">@</code>&#8217; (at sign), the operation involves the user fields of all entries in the netgroup specified by the remaining characters of the <i class="arg">name</i> field. Otherwise, the remainder of the <i class="arg">name</i> field is assumed to be a specific user name.<div class="spacer">
</div>
The &#8216;<code class="lit">+</code>&#8217; token may also be alone in the <i class="arg">name</i> field, which causes all users from the <i class="file">passwd.byname</i> and <i class="file">passwd.byuid</i> YP maps to be included.<div class="spacer">
</div>
If the entry contains non-empty <i class="arg">uid</i> or <i class="arg">gid</i> fields, the specified numbers will override the information retrieved from the YP maps. Additionally, if the <i class="arg">gecos</i>, <i class="arg">dir</i>, or <i class="arg">shell</i> entries contain text, it will override the information included via YP. On some systems, the <i class="arg">passwd</i> field may also be overridden. It is recommended that the standard way to enable YP passwd support in <i class="file">/etc/master.passwd</i> is:<div class="spacer">
</div>
+:*::::::::<div class="spacer">
</div>
which after <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a> will result in <i class="file">/etc/passwd</i> containing:<div class="spacer">
</div>
+:*:0:0:::<div class="spacer">
</div>
When YP is enabled but temporarily unavailable, login becomes impossible for all users except those having an entry in the <a class="link-man" href="../html5/netid.html">netid(5)</a> file.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="../html1/chpass.html">chpass(1)</a>, <a class="link-man" href="../html1/login.html">login(1)</a>, <a class="link-man" href="../html1/passwd.html">passwd(1)</a>, <a class="link-man" href="../html3/crypt.html">crypt(3)</a>, <a class="link-man" href="../html3/getpwent.html">getpwent(3)</a>, <a class="link-man" href="../html5/login.conf.html">login.conf(5)</a>, <a class="link-man" href="../html5/netgroup.html">netgroup(5)</a>, <a class="link-man" href="../html5/netid.html">netid(5)</a>, <a class="link-man" href="../html8/adduser.html">adduser(8)</a>, <a class="link-man" href="../html8/Makefile.yp.html">Makefile.yp(8)</a>, <a class="link-man" href="../html8/pwd_mkdb.html">pwd_mkdb(8)</a>, <a class="link-man" href="../html8/vipw.html">vipw(8)</a>, <a class="link-man" href="../html8/yp.html">yp(8)</a><div class="spacer">
</div>
<span class="ref-title">Managing NFS and NIS</span> (O'Reilly &amp; Associates)</div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> A <b class="name">passwd</b> file format first appeared in Version&#160;1 AT&amp;T UNIX. The gecos field first appeared in Version&#160;3 AT&amp;T UNIX; since the same version, the passwords are encrypted. The gid field first appeared in Version&#160;5 AT&amp;T UNIX; the class, change and expire fields as well as the <b class="name">master.passwd</b> file in <span class="unix">4.3BSD-Reno</span>.<div class="spacer">
</div>
The YP file format first appeared in SunOS.</div>
<div class="section">
<h1 id="x43415645415453">CAVEATS</h1> Placing YP exclusions in the file after any inclusions does not cancel the earlier inclusions.</div>
</div>
</body>
</html>

