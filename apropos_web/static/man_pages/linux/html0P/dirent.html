<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
&lt;dirent.h&gt;(0P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
&lt;dirent.h&gt;(0P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
&lt;dirent.h&gt;(0P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> dirent.h - format of directory entries</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;dirent.h&gt;</b></div>
<div class="section">
<h1>DESCRIPTION</h1> The internal format of directories is unspecified.<div class="spacer">
</div>
The <i>&lt;dirent.h&gt;</i> header shall define the following type:<dl>
<dt>
<b>DIR</b></dt>
<dd>
A type representing a directory stream.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
It shall also define the structure <b>dirent</b> which shall include the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b></b><br/>
<b>ino_t  d_ino      </b> File serial number. <b></b><div class="spacer">
</div>
<br/>
<b>char   d_name[]   </b> Name of entry. <b></b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The type <b>ino_t</b> shall be defined as described in <i>&lt;sys/types.h&gt;</i> .<div class="spacer">
</div>
The character array <i>d_name</i> is of unspecified size, but the number of bytes preceding the terminating null byte shall not exceed {NAME_MAX}.<div class="spacer">
</div>
The following shall be declared as functions and may also be defined as macros. Function prototypes shall be provided.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>int            closedir(DIR *);</b><br/>
<b>DIR           *opendir(const char *);</b><br/>
<b>struct dirent *readdir(DIR *);</b><div class="spacer">
</div>
<br/>
<b>int            readdir_r(DIR *restrict, struct dirent *restrict,</b><br/>
<b>                   struct dirent **restrict);</b><div class="spacer">
</div>
<br/>
<b>void           rewinddir(DIR *);</b><div class="spacer">
</div>
<br/>
<b>void           seekdir(DIR *, long);</b><br/>
<b>long           telldir(DIR *);</b><div class="spacer">
</div>
<br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> Information similar to that in the  <i>&lt;dirent.h&gt;</i> header is contained in a file  <i>&lt;sys/dir.h&gt;</i> in 4.2 BSD and 4.3 BSD. The equivalent in these implementations of  <b>struct dirent</b> from this volume of IEEE&#160;Std&#160;1003.1-2001 is  <b>struct direct</b>. The filename was changed because the name <i>&lt;sys/dir.h&gt;</i> was also used in earlier implementations to refer to definitions related to the older access method; this produced name conflicts. The name of the structure was changed because this volume of IEEE&#160;Std&#160;1003.1-2001 does not completely define what is in the structure, so it could be different on some implementations from  <b>struct direct</b>.<div class="spacer">
</div>
The name of an array of <b>char</b> of an unspecified size should not be used as an lvalue. Use of:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>sizeof(d_name)</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
is incorrect; use:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>strlen(d_name)</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
instead.<div class="spacer">
</div>
The array of <b>char</b> <i>d_name</i> is not a fixed size. Implementations may need to declare  <b>struct dirent</b> with an array size for  <i>d_name</i> of 1, but the actual number of characters provided matches (or only slightly exceeds) the length of the filename.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>&lt;sys/types.h&gt;</i>, the System Interfaces volume of IEEE&#160;Std&#160;1003.1-2001,  <i>closedir</i>(), <i>opendir</i>(), <i>readdir</i>(), <i>readdir_r</i>(),  <i>rewinddir</i>(), <i>seekdir</i>(), <i>telldir</i>()</div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

