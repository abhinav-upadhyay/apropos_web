<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
PAM_MKHOMEDIR(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
PAM_MKHOMEDIR(8)</td>
<td class="head-vol">
Linux-PAM Manual</td>
<td class="head-rtitle">
PAM_MKHOMEDIR(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> pam_mkhomedir - PAM module to create users home directory</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 18.00ex;text-indent: -18.00ex;" class="spacer">
<b>pam_mkhomedir.so</b> [silent] [umask=<i>mode</i>] [skel=<i>skeldir</i>]</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The pam_mkhomedir PAM module will create a users home directory if it does not exist when the session begins. This allows users to be present in central database (such as NIS, kerberos or LDAP) without using a distributed file system or pre-creating a large number of directories. The skeleton directory (usually /etc/skel/) is used to copy default files and also sets a umask for the creation.<div class="spacer">
</div>
The new users home directory will not be removed after logout of the user.</div>
<div class="section">
<h1>OPTIONS</h1>  <b>silent</b><div style="margin-left: 4.00ex;">
Don't print informative messages.</div>
<div class="spacer">
</div>
<b>umask=</b><b></b><i>mask</i><div style="margin-left: 4.00ex;">
The user file-creation mask is set to  <i>mask</i>. The default value of mask is 0022.</div>
<div class="spacer">
</div>
<b>skel=</b><b></b><i>/path/to/skel/directory</i><div style="margin-left: 4.00ex;">
Indicate an alternative skel directory to override the default /etc/skel.</div>
</div>
<div class="section">
<h1>MODULE TYPES PROVIDED</h1> Only the  <b>session</b> module type is provided.</div>
<div class="section">
<h1>RETURN VALUES</h1> PAM_BUF_ERR<div style="margin-left: 4.00ex;">
Memory buffer error.</div>
<div class="spacer">
</div>
PAM_CRED_INSUFFICIENT<div style="margin-left: 4.00ex;">
Insufficient credentials to access authentication data.</div>
<div class="spacer">
</div>
PAM_PERM_DENIED<div style="margin-left: 4.00ex;">
Not enough permissions to create the new directory or read the skel directory.</div>
<div class="spacer">
</div>
PAM_USER_UNKNOWN<div style="margin-left: 4.00ex;">
User not known to the underlying authentication module.</div>
<div class="spacer">
</div>
PAM_SUCCESS<div style="margin-left: 4.00ex;">
Environment variables were set.</div>
</div>
<div class="section">
<h1>FILES</h1> /etc/skel<div style="margin-left: 4.00ex;">
Default skel directory</div>
</div>
<div class="section">
<h1>EXAMPLES</h1> A sample /etc/pam.d/login file:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
  auth       requisite   pam_securetty.so<br/>
  auth       sufficient  pam_ldap.so<br/>
  auth       required    pam_unix.so<br/>
  auth       required    pam_nologin.so<br/>
  account    sufficient  pam_ldap.so<br/>
  account    required    pam_unix.so<br/>
  password   required    pam_unix.so<br/>
  session    required    pam_mkhomedir.so skel=/etc/skel/ umask=0022<br/>
  session    required    pam_unix.so<br/>
  session    optional    pam_lastlog.so<br/>
  session    optional    pam_mail.so standard<br/>
      <br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>pam.d</b>(5),  <b>pam</b>(7).</div>
<div class="section">
<h1>AUTHOR</h1> pam_mkhomedir was written by Jason Gunthorpe &lt;jgg@debian.org&gt;.</div>
<table class="foot">
<tr>
<td class="foot-date">
06/04/2011</td>
<td class="foot-os">
Linux-PAM Manual</td>
</tr>
</table>
</div>
</body>
</html>

