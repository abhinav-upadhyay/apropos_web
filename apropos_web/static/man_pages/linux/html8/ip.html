<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
IP(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
IP(8)</td>
<td class="head-vol">
Linux</td>
<td class="head-rtitle">
IP(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ip - show / manipulate routing, devices, policy routing and tunnels</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
<b>ip</b> [ <i>OPTIONS</i> ] <i>OBJECT</i> { <i>COMMAND</i> |  <b>help</b> }<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>OBJECT</i> := {  <b>link</b> | <b>addr</b> | <b>addrlabel</b> | <b>route</b> | <b>rule</b> | <b>neigh</b> | <b>tunnel</b> | <b>maddr</b> | <b>mroute</b> }<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>OPTIONS</i> := {   <b>-V</b>[<i>ersion</i>] |  <b>-s</b>[<i>tatistics</i>] |  <b>-r</b>[<i>esolve</i>] |  <b>-f</b>[<i>amily</i>] { <b>inet</b> | <b>inet6</b> | <b>ipx</b> | <b>dnet</b> | <b>link</b> } |   <b>-o</b>[<i>neline</i>] }<div style="height: 1.00em;">
&#160;</div>
<b>ip link add link </b><i>DEVICE</i> [ <b>name</b> ] <i>NAME</i><div style="height: 0.00em;">
&#160;</div>
[ <b>txqueuelen</b> <i>PACKETS</i> ]<div style="height: 0.00em;">
&#160;</div>
[ <b>address</b> <i>LLADDR</i> ] [ <b>broadcast</b> <i>LLADDR</i> ]<div style="height: 0.00em;">
&#160;</div>
[ <b>mtu</b> <i>MTU</i> ]<div style="height: 0.00em;">
&#160;</div>
<b>type</b> TYPE [ <i>ARGS</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>TYPE</i> := [  <b>vlan</b> | <b>veth</b> | <b>vcan</b> | <b>dummy</b> | <b>ifb</b> | <b>macvlan</b> | <b>can</b> | <b>bridge</b>]&quot;<div style="height: 1.00em;">
&#160;</div>
<b>ip link delete </b><i>DEVICE</i> <b>type</b><i> TYPE</i> [ <i>ARGS</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip link set </b>{ <i>DEVICE</i> |  <b>group </b><i>GROUP</i> } { <b>up</b> | <b>down</b> | <b>arp</b> { <b>on</b> | <b>off</b> } |<div style="height: 0.00em;">
&#160;</div>
<b>promisc</b> { <b>on</b> | <b>off</b> } |<div style="height: 0.00em;">
&#160;</div>
<b>allmulticast</b> { <b>on</b> | <b>off</b> } |<div style="height: 0.00em;">
&#160;</div>
<b>dynamic</b> { <b>on</b> | <b>off</b> } |<div style="height: 0.00em;">
&#160;</div>
<b>multicast</b> { <b>on</b> | <b>off</b> } |<div style="height: 0.00em;">
&#160;</div>
<b>txqueuelen</b> <i>PACKETS</i> |<div style="height: 0.00em;">
&#160;</div>
<b>name</b> <i>NEWNAME</i> |<div style="height: 0.00em;">
&#160;</div>
<b>address</b> <i>LLADDR</i> | <b>broadcast</b> <i>LLADDR</i> |<div style="height: 0.00em;">
&#160;</div>
<b>mtu</b> <i>MTU</i> |<div style="height: 0.00em;">
&#160;</div>
<b>netns</b> <i>PID</i> |<div style="height: 0.00em;">
&#160;</div>
<b>netns</b> <i>NETNSNAME</i> |<div style="height: 0.00em;">
&#160;</div>
<b>alias</b> <i>NAME</i> |<div style="height: 0.00em;">
&#160;</div>
<b>vf</b> <i>NUM</i> [ <b>mac</b> <i>LLADDR</i> ] [ <b>vlan</b> <i>VLANID</i> [  <b>qos</b> <i>VLAN-QOS</i> ] ] [ <b>rate</b> <i>TXRATE</i> ] |<div style="height: 0.00em;">
&#160;</div>
<b>master</b> <i>DEVICE</i><div style="height: 0.00em;">
&#160;</div>
<b>nomaster</b> <b> }</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>ip link show</b> [ <i>DEVICE</i> |  <b>group</b> <i>GROUP</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip addr</b> { <b>add</b> | <b>del</b> }  <i>IFADDR</i><b> dev </b><i>STRING</i><div style="height: 1.00em;">
&#160;</div>
<b>ip addr</b> { <b>show</b> | <b>flush</b> } [ <b>dev</b> <i>STRING</i> ] [  <b>scope</b> <i>SCOPE-ID</i> ] [  <b>to</b> <i>PREFIX</i> ] [ <i>FLAG-LIST</i> ] [  <b>label</b> <i>PATTERN</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>IFADDR</i> := <i>PREFIX</i> | <i>ADDR</i> <b>peer</b> <i>PREFIX</i> [  <b>broadcast</b> <i>ADDR</i> ] [  <b>anycast</b> <i>ADDR</i> ] [  <b>label</b> <i>STRING</i> ] [  <b>scope</b> <i>SCOPE-ID</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>SCOPE-ID</i> :=  [ <b>host</b> | <b>link</b> | <b>global</b> |  <i>NUMBER</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>FLAG-LIST</i> := [ <i>FLAG-LIST</i> ] <i>FLAG</i><div style="height: 1.00em;">
&#160;</div>
<i>FLAG</i> :=  [ <b>permanent</b> | <b>dynamic</b> | <b>secondary</b> | <b>primary</b> | <b>tentative</b> | <b>deprecated</b> | <b>dadfailed</b> | <b>temporary</b> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip addrlabel</b> { <b>add</b> | <b>del</b> } <b>prefix</b> <b>PREFIX</b> [  <b>dev</b> <i>DEV</i> ] [  <b>label</b> <i>NUMBER</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip addrlabel</b> { <b>list</b> | <b>flush</b> }<div style="height: 1.00em;">
&#160;</div>
<b>ip netns</b> { <b>list</b> } <div style="height: 1.00em;">
&#160;</div>
<b>ip netns</b> { <b>add</b> | <b>delete</b> }  <i>NETNSNAME</i><div style="height: 1.00em;">
&#160;</div>
<b>ip netns exec </b> <i>NETNSNAME command ...</i><div style="height: 1.00em;">
&#160;</div>
<b>ip route</b> {  <b>list</b> | <b>flush</b> }  <i>SELECTOR</i><div style="height: 1.00em;">
&#160;</div>
<b>ip route save</b> <i>SELECTOR</i><div style="height: 1.00em;">
&#160;</div>
<b>ip route restore</b><div style="height: 1.00em;">
&#160;</div>
<b>ip route get</b> <i>ADDRESS</i> [  <b>from</b><i> ADDRESS </i><b>iif</b><i> STRING</i>  ] [ <b>oif</b> <i>STRING</i> ] [  <b>tos</b> <i>TOS</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip route</b> { <b>add</b> | <b>del</b> | <b>change</b> | <b>append</b> | <b>replace</b> }  <i>ROUTE</i><div style="height: 1.00em;">
&#160;</div>
<i>SELECTOR</i> :=  [ <b>root</b> <i>PREFIX</i> ] [  <b>match</b> <i>PREFIX</i> ] [  <b>exact</b> <i>PREFIX</i> ] [  <b>table</b> <i>TABLE_ID</i> ] [  <b>proto</b> <i>RTPROTO</i> ] [  <b>type</b> <i>TYPE</i> ] [  <b>scope</b> <i>SCOPE</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>ROUTE</i> := <i>NODE_SPEC</i> [ <i>INFO_SPEC</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>NODE_SPEC</i> := [ <i>TYPE</i> ] <i>PREFIX</i> [ <b>tos</b> <i>TOS</i> ] [  <b>table</b> <i>TABLE_ID</i> ] [  <b>proto</b> <i>RTPROTO</i> ] [  <b>scope</b> <i>SCOPE</i> ] [  <b>metric</b> <i>METRIC</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>INFO_SPEC</i> := <i>NH OPTIONS FLAGS</i> [ <b>nexthop</b> <i>NH</i> ] ...<div style="height: 1.00em;">
&#160;</div>
<i>NH</i> := [  <b>via</b> <i>ADDRESS</i> ] [  <b>dev</b> <i>STRING</i> ] [  <b>weight</b> <i>NUMBER</i> ] <i>NHFLAGS</i><div style="height: 1.00em;">
&#160;</div>
<i>OPTIONS</i> := <i>FLAGS</i> [  <b>mtu</b> <i>NUMBER</i> ] [  <b>advmss</b> <i>NUMBER</i> ] [  <b>rtt</b> <i>TIME</i> ] [  <b>rttvar</b> <i>TIME</i> ] [  <b>window</b> <i>NUMBER</i> ] [  <b>cwnd</b> <i>NUMBER</i> ] [  <b>ssthresh</b> <i>REALM</i> ] [  <b>realms</b> <i>REALM</i> ] [  <b>rto_min</b> <i>TIME</i> ] [  <b>initcwnd</b> <i>NUMBER</i> ] [  <b>initrwnd</b> <i>NUMBER</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>TYPE</i> := [  <b>unicast</b> | <b>local</b> | <b>broadcast</b> | <b>multicast</b> | <b>throw</b> | <b>unreachable</b> | <b>prohibit</b> | <b>blackhole</b> | <b>nat</b> ]<div style="height: 1.00em;">
&#160;</div>
<i>TABLE_ID</i> := [  <b>local</b>| <b>main</b> | <b>default</b> | <b>all</b> | <i>NUMBER</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>SCOPE</i> := [  <b>host</b> | <b>link</b> | <b>global</b> | <i>NUMBER</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>NHFLAGS</i> := [  <b>onlink</b> | <b>pervasive</b> ]<div style="height: 1.00em;">
&#160;</div>
<i>RTPROTO</i> := [  <b>kernel</b> | <b>boot</b> | <b>static</b> | <i>NUMBER</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip rule</b>  [ <b>list</b> | <b>add</b> | <b>del</b> | <b>flush</b> ] <i>SELECTOR ACTION</i><div style="height: 1.00em;">
&#160;</div>
<i>SELECTOR</i> := [  <b>from</b> <i>PREFIX</i> ] [  <b>to</b> <i>PREFIX</i> ] [  <b>tos</b> <i>TOS</i> ] [  <b>fwmark</b> <i>FWMARK[/MASK]</i> ] [  <b>iif</b> <i>STRING</i> ] [  <b>oif</b> <i>STRING</i> ] [  <b>pref</b> <i>NUMBER</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>ACTION</i> := [  <b>table</b> <i>TABLE_ID</i> ] [  <b>nat</b> <i>ADDRESS</i> ] [  <b>prohibit</b> | <b>reject</b> | <b>unreachable</b> ] [ <b>realms</b> [<i>SRCREALM</i>/]<i>DSTREALM</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>TABLE_ID</i> := [  <b>local</b> | <b>main</b> | <b>default</b> | <i>NUMBER</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip neigh</b> { <b>add</b> | <b>del</b> | <b>change</b> | <b>replace</b> } {  <i>ADDR</i> [  <b>lladdr</b> <i>LLADDR</i> ] [  <b>nud</b> { <b>permanent</b> | <b>noarp</b> | <b>stale</b> | <b>reachable</b> } ] | <b>proxy</b> <i>ADDR</i> } [  <b>dev</b> <i>DEV</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip neigh</b> { <b>show</b> | <b>flush</b> } [ <b>to</b> <i>PREFIX</i> ] [  <b>dev</b> <i>DEV</i> ] [  <b>nud</b> <i>STATE</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip ntable change name</b> <i>NAME</i> [  <b>dev</b> <i>DEV</i> ] <i>PARMS</i><div style="height: 1.00em;">
&#160;</div>
<i>PARMS</i> := {  <b>thresh1</b> <i>VAL</i> |  <b>thresh2</b> <i>VAL</i> |  <b>thresh3</b> <i>VAL</i> |  <b>gc_int</b> <i>MSEC</i> |  <b>base_reachable</b> <i>MSEC</i> |  <b>retrans</b> <i>MSEC</i> | <i>gc_stale MSEC </i> |  <b>delay_probe</b> <i>MSEC</i> | <i>queue LEN </i> |  <b>app_probs</b> <i>VAL</i> |  <b>ucast_probes</b> <i>VAL</i> | <i>mcast_probes VAL </i> |  <b>anycast_delay</b> <i>MSEC</i> |  <b>proxy_delay</b> <i>MSEC</i> | <i>proxy_queue LEN </i> |  <b>locktime</b> <i>MSEC</i> }<div style="height: 1.00em;">
&#160;</div>
<b>ip ntable show</b> [  <b>dev</b> <i>DEV</i> ] [  <b>name</b> <i>NAME</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip tunnel</b> { <b>add</b> | <b>change</b> | <b>del</b> | <b>show</b> | <b>prl</b> } [ <i>NAME</i> ]<div style="height: 0.00em;">
&#160;</div>
[ <b>mode</b> <i>MODE</i> ] [  <b>remote</b> <i>ADDR</i> ] [  <b>local</b> <i>ADDR</i> ]<div style="height: 0.00em;">
&#160;</div>
[ [<b>i</b>|<b>o</b>]<b>seq</b> ] [ [<b>i</b>|<b>o</b>]<b>key</b> <i>KEY</i> ] [  [<b>i</b>|<b>o</b>]<b>csum</b> ] ]<div style="height: 0.00em;">
&#160;</div>
[ <b>encaplimit</b> <i>ELIM</i> ] [ <b>ttl</b> <i>TTL</i> ]<div style="height: 0.00em;">
&#160;</div>
[ <b>tos</b> <i>TOS</i> ] [  <b>flowlabel</b> <i>FLOWLABEL</i> ]<div style="height: 0.00em;">
&#160;</div>
[ <b>prl-default</b> <i>ADDR</i> ] [  <b>prl-nodefault</b> <i>ADDR</i> ] [  <b>prl-delete</b> <i>ADDR</i> ]<div style="height: 0.00em;">
&#160;</div>
[ [<b>no</b>]<b>pmtudisc</b> ] [ <b>dev</b> <i>PHYS_DEV</i> ] [ <b>dscp inherit</b> ]<div style="height: 1.00em;">
&#160;</div>
<i>MODE</i> :=   { <b>ipip</b> | <b>gre</b> | <b>sit</b> | <b>isatap</b> | <b>ip6ip6</b> | <b>ipip6</b> | <b>any</b> }<div style="height: 1.00em;">
&#160;</div>
<i>ADDR</i> := { <i>IP_ADDRESS</i> | <b>any</b> }<div style="height: 1.00em;">
&#160;</div>
<i>TOS</i> := { <i>NUMBER</i> | <b>inherit</b> }<div style="height: 1.00em;">
&#160;</div>
<i>ELIM</i> := { <b>none</b> |  <i>0</i>..<i>255</i> }<div style="height: 1.00em;">
&#160;</div>
<i>TTL</i> := { <i>1</i>..<i>255</i> |  <b>inherit</b> }<div style="height: 1.00em;">
&#160;</div>
<i>KEY</i> := { <i>DOTTED_QUAD</i> | <i>NUMBER</i> }<div style="height: 1.00em;">
&#160;</div>
<i>TIME</i> := <i>NUMBER</i>[s|ms]<div style="height: 1.00em;">
&#160;</div>
<b>ip maddr</b> [ <b>add</b> | <b>del</b> ] <i>MULTIADDR</i><b> dev </b><i>STRING</i><div style="height: 1.00em;">
&#160;</div>
<b>ip maddr show</b> [ <b>dev</b> <i>STRING</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip mroute show</b> [ <i>PREFIX</i> ] [  <b>from</b> <i>PREFIX</i> ] [  <b>iif</b> <i>DEVICE</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip monitor</b> [ <b>all</b> | <i>LISTofOBJECTS</i> ]<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm</b> <i>XFRM-OBJECT</i> { <i>COMMAND</i> |  <b>help</b> }<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>XFRM-OBJECT</i> := <b>state</b> | <b>policy</b> | <b>monitor</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm state </b>{<b> add </b>|<b> update </b>}<b><div class="spacer">
</div>
</b><i>ID</i> [ <i>ALGO-LIST</i> ] [ <b>mode</b> <i>MODE</i> ] [ <b>mark</b> <i>MARK</i> [ <b>mask</b> <i>MASK</i> ] ] [ <b>reqid</b> <i>REQID</i> ] [ <b>seq</b> <i>SEQ</i> ] [ <b>replay-window</b> <i>SIZE</i> ] [ <b>replay-seq</b> <i>SEQ</i> ] [ <b>replay-oseq</b> <i>SEQ</i> ] [ <b>flag</b> <i>FLAG-LIST</i> ] [ <b>sel</b> <i>SELECTOR</i> ] [ <i>LIMIT-LIST</i> ] [ <b>encap</b> <i>ENCAP</i> ] [ <b>coa</b> <i>ADDR</i>[/<i>PLEN</i>] ] [ <b>ctx</b> <i>CTX</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm state allocspi</b> <i>ID</i> [ <b>mode</b> <i>MODE</i> ] [ <b>mark</b> <i>MARK</i> [ <b>mask</b> <i>MASK</i> ] ] [ <b>reqid</b> <i>REQID</i> ] [ <b>seq</b> <i>SEQ</i> ] [ <b>min</b> <i>SPI</i> <b>max</b> <i>SPI</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm state</b> { <b>delete</b> | <b>get</b> }  <i>ID</i> [ <b>mark</b> <i>MARK</i> [ <b>mask</b> <i>MASK</i> ] ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm state</b> { <b>deleteall</b> | <b>list</b> } [ <i>ID</i> ] [ <b>mode</b> <i>MODE</i> ] [ <b>reqid</b> <i>REQID</i> ] [ <b>flag</b> <i>FLAG-LIST</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm state flush</b> [ <b>proto</b> <i>XFRM-PROTO</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm state count</b><div style="height: 1.00em;">
&#160;</div>
<i>ID</i> := [ <b>src</b> <i>ADDR</i> ] [ <b>dst</b> <i>ADDR</i> ] [ <b>proto</b> <i>XFRM-PROTO</i> ] [ <b>spi</b> <i>SPI</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>XFRM-PROTO</i> := <b>esp</b> | <b>ah</b> | <b>comp</b> | <b>route2</b> | <b>hao</b><div style="height: 1.00em;">
&#160;</div>
<i>ALGO-LIST</i> := [ <i>ALGO-LIST</i> ] <i>ALGO</i><div style="height: 1.00em;">
&#160;</div>
<i>ALGO</i> := { <b>enc</b> | <b>auth</b> | <b>comp</b> }  <i>ALGO-NAME</i> <i>ALGO-KEY</i> |<div style="height: 0.00em;">
&#160;</div>
<b>aead</b> <i>ALGO-NAME</i> <i>ALGO-KEY</i> <i>ALGO-ICV-LEN</i> |<div style="height: 0.00em;">
&#160;</div>
<b>auth-trunc</b> <i>ALGO-NAME</i> <i>ALGO-KEY</i> <i>ALGO-TRUNC-LEN</i><div style="height: 1.00em;">
&#160;</div>
<i>MODE</i> :=  <b>transport</b> | <b>tunnel</b> | <b>ro</b> | <b>in_trigger</b> | <b>beet</b><div style="height: 1.00em;">
&#160;</div>
<i>FLAG-LIST</i> := [ <i>FLAG-LIST</i> ] <i>FLAG</i><div style="height: 1.00em;">
&#160;</div>
<i>FLAG</i> := <b>noecn</b> | <b>decap-dscp</b> | <b>nopmtudisc</b> | <b>wildrecv</b> | <b>icmp</b> | <b>af-unspec</b> | <b>align4</b><div style="height: 1.00em;">
&#160;</div>
<i>SELECTOR</i> := [ <b>src</b> <i>ADDR</i>[/<i>PLEN</i>] ] [ <b>dst</b> <i>ADDR</i>[/<i>PLEN</i>] ] [ <b>dev</b> <i>DEV</i> ]<div style="height: 0.00em;">
&#160;</div>
[ <i>UPSPEC</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>UPSPEC</i> :=  <b>proto</b> { <i>PROTO</i> |<div style="height: 0.00em;">
&#160;</div>
{ <b>tcp</b> | <b>udp</b> | <b>sctp</b> | <b>dccp</b> } [ <b>sport</b> <i>PORT</i> ] [ <b>dport</b> <i>PORT</i> ] |<div style="height: 0.00em;">
&#160;</div>
{ <b>icmp</b> | <b>ipv6-icmp</b> | <b>mobility-header</b> } [ <b>type</b> <i>NUMBER</i> ] [ <b>code</b> <i>NUMBER</i> ] |<div style="height: 0.00em;">
&#160;</div>
<b>gre</b> [ <b>key</b> { <i>DOTTED-QUAD</i> | <i>NUMBER</i> } ] }<div style="height: 1.00em;">
&#160;</div>
<i>LIMIT-LIST</i> := [ <i>LIMIT-LIST</i> ] <b>limit</b> <i>LIMIT</i><div style="height: 1.00em;">
&#160;</div>
<i>LIMIT</i> := { <b>time-soft</b> | <b>time-hard</b> | <b>time-use-soft</b> | <b>time-use-hard</b> } <i>SECONDS</i> |<div style="height: 0.00em;">
&#160;</div>
{ <b>byte-soft</b> | <b>byte-hard</b> } <i>SIZE</i> |<div style="height: 0.00em;">
&#160;</div>
{ <b>packet-soft</b> | <b>packet-hard</b> } <i>COUNT</i><div style="height: 1.00em;">
&#160;</div>
<i>ENCAP</i> := { <b>espinudp</b> | <b>espinudp-nonike</b> } <i>SPORT</i> <i>DPORT</i> <i>OADDR</i><div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm policy</b> { <b>add</b> | <b>update</b> } <i>SELECTOR</i> <b>dir</b> <i>DIR</i> [ <b>ctx</b> <i>CTX</i> ] [ <b>mark</b> <i>MARK</i> [ <b>mask</b> <i>MASK</i> ] ] [ <b>index</b> <i>INDEX</i> ] [ <b>ptype</b> <i>PTYPE</i> ] [ <b>action</b> <i>ACTION</i> ] [ <b>priority</b> <i>PRIORITY</i> ] [ <b>flag</b> <i>FLAG-LIST</i> ] [ <i>LIMIT-LIST</i> ] [ <i>TMPL-LIST</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm policy</b> { <b>delete</b> | <b>get</b> } { <i>SELECTOR</i> |  <b>index</b> <i>INDEX</i> } <b>dir</b> <i>DIR</i> [ <b>ctx</b> <i>CTX</i> ] [ <b>mark</b> <i>MARK</i> [ <b>mask</b> <i>MASK</i> ] ] [ <b>ptype</b> <i>PTYPE</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm policy</b> { <b>deleteall</b> | <b>list</b> } [ <i>SELECTOR</i> ] [ <b>dir</b> <i>DIR</i> ] [ <b>index</b> <i>INDEX</i> ] [ <b>ptype</b> <i>PTYPE</i> ] [ <b>action</b> <i>ACTION</i> ] [ <b>priority</b> <i>PRIORITY</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm policy flush</b> [ <b>ptype</b> <i>PTYPE</i> ]<div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm policy count</b><div style="height: 1.00em;">
&#160;</div>
<i>SELECTOR</i> := [ <b>src</b> <i>ADDR</i>[/<i>PLEN</i>] ] [ <b>dst</b> <i>ADDR</i>[/<i>PLEN</i>] ] [ <b>dev</b> <i>DEV</i> ] [ <i>UPSPEC</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>UPSPEC</i> :=  <b>proto</b> { <i>PROTO</i> |<div style="height: 0.00em;">
&#160;</div>
{ <b>tcp</b> | <b>udp</b> | <b>sctp</b> | <b>dccp</b> } [ <b>sport</b> <i>PORT</i> ] [ <b>dport</b> <i>PORT</i> ] |<div style="height: 0.00em;">
&#160;</div>
{ <b>icmp</b> | <b>ipv6-icmp</b> | <b>mobility-header</b> } [ <b>type</b> <i>NUMBER</i> ] [ <b>code</b> <i>NUMBER</i> ] |<div style="height: 0.00em;">
&#160;</div>
<b>gre</b> [ <b>key</b> { <i>DOTTED-QUAD</i> | <i>NUMBER</i> } ] }<div style="height: 1.00em;">
&#160;</div>
<i>DIR</i> :=  <b>in</b> | <b>out</b> | <b>fwd</b><div style="height: 1.00em;">
&#160;</div>
<i>PTYPE</i> :=  <b>main</b> | <b>sub</b><div style="height: 1.00em;">
&#160;</div>
<i>ACTION</i> :=  <b>allow</b> | <b>block</b><div style="height: 1.00em;">
&#160;</div>
<i>FLAG-LIST</i> := [ <i>FLAG-LIST</i> ] <i>FLAG</i><div style="height: 1.00em;">
&#160;</div>
<i>FLAG</i> := <b>localok</b> | <b>icmp</b><div style="height: 1.00em;">
&#160;</div>
<i>LIMIT-LIST</i> := [ <i>LIMIT-LIST</i> ] <b>limit</b> <i>LIMIT</i><div style="height: 1.00em;">
&#160;</div>
<i>LIMIT</i> := { <b>time-soft</b> | <b>time-hard</b> | <b>time-use-soft</b> | <b>time-use-hard</b> } <i>SECONDS</i> |<div style="height: 0.00em;">
&#160;</div>
{ <b>byte-soft</b> | <b>byte-hard</b> } <i>SIZE</i> |<div style="height: 0.00em;">
&#160;</div>
{ <b>packet-soft</b> | <b>packet-hard</b> } <i>COUNT</i><div style="height: 1.00em;">
&#160;</div>
<i>TMPL-LIST</i> := [ <i>TMPL-LIST</i> ] <b>tmpl</b> <i>TMPL</i><div style="height: 1.00em;">
&#160;</div>
<i>TMPL</i> := <i>ID</i> [ <b>mode</b> <i>MODE</i> ] [ <b>reqid</b> <i>REQID</i> ] [ <b>level</b> <i>LEVEL</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>ID</i> := [ <b>src</b> <i>ADDR</i> ] [ <b>dst</b> <i>ADDR</i> ] [ <b>proto</b> <i>XFRM-PROTO</i> ] [ <b>spi</b> <i>SPI</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>XFRM-PROTO</i> := <b>esp</b> | <b>ah</b> | <b>comp</b> | <b>route2</b> | <b>hao</b><div style="height: 1.00em;">
&#160;</div>
<i>MODE</i> :=  <b>transport</b> | <b>tunnel</b> | <b>ro</b> | <b>in_trigger</b> | <b>beet</b><div style="height: 1.00em;">
&#160;</div>
<i>LEVEL</i> := <b>required</b> | <b>use</b><div style="height: 1.00em;">
&#160;</div>
<b>ip xfrm monitor</b> [ <b>all</b> | <i>LISTofXFRM-OBJECTS</i> ]<div style="height: 1.00em;">
&#160;</div>
<br/>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>-V</b>,<b> -Version</b></dt>
<dd>
print the version of the <b>ip</b> utility and exit.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-s</b>,<b> -stats</b>,<b> -statistics</b></dt>
<dd>
output more information.  If the option appears twice or more, the amount of information increases. As a rule, the information is statistics or some time values.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-l</b>,<b> -loops</b></dt>
<dd>
Specify maximum number of loops the 'ip addr flush' logic will attempt before giving up.  The default is 10. Zero (0) means loop until all addresses are removed.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-f</b>,<b> -family</b></dt>
<dd>
followed by protocol family identifier: <b>inet</b>,<b> inet6</b> or <b>link</b> ,enforce the protocol family to use.  If the option is not present, the protocol family is guessed from other arguments.  If the rest of the command line does not give enough information to guess the family, <b>ip</b> falls back to the default one, usually <b>inet</b> or <b>any</b>. <b>link</b> is a special family identifier meaning that no networking protocol is involved.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-4</b></dt>
<dd>
shortcut for <b>-family inet</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-6</b></dt>
<dd>
shortcut for <b>-family inet6</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-0</b></dt>
<dd>
shortcut for <b>-family link</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-o</b>,<b> -oneline</b></dt>
<dd>
output each record on a single line, replacing line feeds with the <b>'\&#180;</b> character. This is convenient when you want to count records with <b>wc</b>(1)<br/>
 or to <b>grep</b>(1) the output.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-r</b>,<b> -resolve</b></dt>
<dd>
use the system's name resolver to print DNS names instead of host addresses.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>IP - COMMAND SYNTAX</h1><div class="subsection">
<h2><i>OBJECT</i></h2><dl>
<dt>
<b>link</b></dt>
<dd>
- network device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>address</b></dt>
<dd>
- protocol (IP or IPv6) address on a device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>addrlabel</b></dt>
<dd>
- label configuration for protocol address selection.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>neighbour</b></dt>
<dd>
- ARP or NDISC cache entry.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>route</b></dt>
<dd>
- routing table entry.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>rule</b></dt>
<dd>
- rule in routing policy database.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>maddress</b></dt>
<dd>
- multicast address.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>mroute</b></dt>
<dd>
- multicast routing cache entry.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>tunnel</b></dt>
<dd>
- tunnel over IP.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The names of all objects may be written in full or abbreviated form, f.e. <b>address</b> is abbreviated as <b>addr</b> or just <b>a.</b><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2><i>COMMAND</i></h2> Specifies the action to perform on the object. The set of possible actions depends on the object type. As a rule, it is possible to <b>add</b>,<b> delete</b> and <b>show</b> (or <b>list</b> ) objects, but some objects do not allow all of these operations or have some additional commands.  The <b>help</b> command is available for all objects.  It prints out a list of available commands and argument syntax conventions.<div style="height: 1.00em;">
&#160;</div>
If no command is given, some default command is assumed. Usually it is <b>list</b> or, if the objects of this class cannot be listed, <b>help</b>.<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>ip link - network device configuration</h1> <b>link</b> is a network device and the corresponding commands display and change the state of devices.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip link add - add virtual link</h2><dl>
<dt>
<b>link</b><i> DEVICE </i></dt>
<dd>
specifies the physical device to act operate on.<div style="height: 1.00em;">
&#160;</div>
<i>NAME</i> specifies the name of the new virtual device.<div style="height: 1.00em;">
&#160;</div>
<i>TYPE</i> specifies the type of the new device.<div style="height: 1.00em;">
&#160;</div>
Link types:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>vlan</b> - 802.1q tagged virtual LAN interface<div style="height: 1.00em;">
&#160;</div>
<b>veth</b> - Virtual ethernet interface<div style="height: 1.00em;">
&#160;</div>
<b>vcan</b> - Virtual Local CAN interface<div style="height: 1.00em;">
&#160;</div>
<b>dummy</b> - Dummy network interface<div style="height: 1.00em;">
&#160;</div>
<b>ifb</b> - Intermediate Functional Block device<div style="height: 1.00em;">
&#160;</div>
<b>macvlan</b> - virtual interface base on link layer address (MAC)<div style="height: 1.00em;">
&#160;</div>
<b>can</b> - Controller Area Network interface<div style="height: 1.00em;">
&#160;</div>
<b>bridge</b> - Ethernet Bridge device<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip link delete - delete virtual link</h2> <i>DEVICE</i> specifies the virtual  device to act operate on. <i>TYPE</i> specifies the type of the device.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>dev</b><i> DEVICE </i></dt>
<dd>
specifies the physical device to act operate on.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip link set - change device attributes</h2><dl>
<dt>
<b>dev</b><i> DEVICE </i></dt>
<dd>
<i>DEVICE</i> specifies network device to operate on. When configuring SR-IOV Virtual Fuction (VF) devices, this keyword should specify the associated Physical Function (PF) device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>group</b><i> GROUP </i></dt>
<dd>
<i>GROUP</i> has a dual role: If both group and dev are present, then move the device to the specified group.  If only a group is specified, then the command operates on all devices in that group.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>up</b> and <b>down</b></dt>
<dd>
change the state of the device to <b>UP</b> or <b>DOWN</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>arp on </b>or<b> arp off</b></dt>
<dd>
change the <b>NOARP</b> flag on the device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>multicast on </b>or<b> multicast off</b></dt>
<dd>
change the <b>MULTICAST</b> flag on the device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dynamic on </b>or<b> dynamic off</b></dt>
<dd>
change the <b>DYNAMIC</b> flag on the device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>name</b><i> NAME</i></dt>
<dd>
change the name of the device.  This operation is not recommended if the device is running or has some addresses already configured.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>txqueuelen</b><i> NUMBER</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>txqlen</b><i> NUMBER</i></dt>
<dd>
change the transmit queue length of the device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>mtu</b><i> NUMBER</i></dt>
<dd>
change the <i>MTU</i> of the device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>address</b><i> LLADDRESS</i></dt>
<dd>
change the station address of the interface.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>broadcast</b><i> LLADDRESS</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>brd</b><i> LLADDRESS</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>peer</b><i> LLADDRESS</i></dt>
<dd>
change the link layer broadcast address or the peer address when the interface is <i>POINTOPOINT</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>netns</b><i> PID</i></dt>
<dd>
move the device to the network namespace associated with the process <i>PID</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>netns</b><i> NETNSNAME</i></dt>
<dd>
move the device to the network namespace associated with name <i>NETNSNAME</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>alias</b><i> NAME</i></dt>
<dd>
give the device a symbolic name for easy reference.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>group</b><i> GROUP</i></dt>
<dd>
specify the group the device belongs to. The available groups are listed in file <b>/etc/iproute2/group</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>vf</b><i> NUM</i></dt>
<dd>
specify a Virtual Function device to be configured. The associated PF device must be specified using the <b>dev</b> parameter.<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>mac</b><i> LLADDRESS</i> - change the station address for the specified VF. The <b>vf</b> parameter must be specified.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>vlan</b><i> VLANID</i> - change the assigned VLAN for the specified VF. When specified, all traffic sent from the VF will be tagged with the specified VLAN ID. Incoming traffic will be filtered for the specified VLAN ID, and will have all VLAN tags stripped before being passed to the VF. Setting this parameter to 0 disables VLAN tagging and filtering. The <b>vf</b> parameter must be specified.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>qos</b><i> VLAN-QOS</i> - assign VLAN QOS (priority) bits for the VLAN tag. When specified, all VLAN tags transmitted by the VF will include the specified priority bits in the VLAN tag. If not specified, the value is assumed to be 0. Both the <b>vf</b> and <b>vlan</b> parameters must be specified. Setting both <b>vlan</b> and <b>qos</b> as 0 disables VLAN tagging and filtering for the VF.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>rate</b><i> TXRATE</i> - change the allowed transmit bandwidth, in Mbps, for the specified VF. Setting this parameter to 0 disables rate limiting. The <b>vf</b> parameter must be specified.<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>master</b><i> DEVICE</i></dt>
<dd>
set master device of the device (enslave device).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>nomaster</b></dt>
<dd>
unset master device of the device (release device).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<b>Warning:</b> If multiple parameter changes are requested, <b>ip</b> aborts immediately after any of the changes have failed. This is the only case when <b>ip</b> can move the system to an unpredictable state.  The solution is to avoid changing several parameters with one <b>ip link set</b> call.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>ip link show - display device attributes</h2><dl>
<dt>
<b>dev</b><i> NAME </i><b>(default)</b></dt>
<dd>
<i>NAME</i> specifies the network device to show. If this argument is omitted all devices in the default group are listed.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>group</b><i> GROUP </i></dt>
<dd>
<i>GROUP</i> specifies what group of devices to show.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>up</b></dt>
<dd>
only display running interfaces.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>ip address - protocol address management.</h1> The <b>address</b> is a protocol (IP or IPv6) address attached to a network device.  Each device must have at least one address to use the corresponding protocol.  It is possible to have several different addresses attached to one device.  These addresses are not discriminated, so that the term <b>alias</b> is not quite appropriate for them and we do not use it in this document.<div style="height: 1.00em;">
&#160;</div>
The <b>ip addr</b> command displays addresses and their properties, adds new addresses and deletes old ones.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip address add - add new protocol address.</h2><dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
the name of the device to add the address to.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>local</b><i> ADDRESS </i><b>(default)</b></dt>
<dd>
the address of the interface. The format of the address depends on the protocol. It is a dotted quad for IP and a sequence of hexadecimal halfwords separated by colons for IPv6.  The <i>ADDRESS</i> may be followed by a slash and a decimal number which encodes the network prefix length.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>peer</b><i> ADDRESS</i></dt>
<dd>
the address of the remote endpoint for pointopoint interfaces. Again, the <i>ADDRESS</i> may be followed by a slash and a decimal number, encoding the network prefix length.  If a peer address is specified, the local address cannot have a prefix length.  The network prefix is associated with the peer rather than with the local address.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>broadcast</b><i> ADDRESS</i></dt>
<dd>
the broadcast address on the interface.<div style="height: 1.00em;">
&#160;</div>
It is possible to use the special symbols <b>'+'</b> and <b>'-'</b> instead of the broadcast address.  In this case, the broadcast address is derived by setting/resetting the host bits of the interface prefix.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>label</b><i> NAME</i></dt>
<dd>
Each address may be tagged with a label string. In order to preserve compatibility with Linux-2.0 net aliases, this string must coincide with the name of the device or must be prefixed with the device name followed by colon.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>scope</b><i> SCOPE_VALUE</i></dt>
<dd>
the scope of the area where this address is valid. The available scopes are listed in file <b>/etc/iproute2/rt_scopes</b>. Predefined scope values are:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>global</b> - the address is globally valid.<div style="height: 1.00em;">
&#160;</div>
<b>site</b> - (IPv6 only) the address is site local, i.e. it is valid inside this site.<div style="height: 1.00em;">
&#160;</div>
<b>link</b> - the address is link local, i.e. it is valid only on this device.<div style="height: 1.00em;">
&#160;</div>
<b>host</b> - the address is valid only inside this host.<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip address delete - delete protocol address</h2> <b>Arguments:</b> coincide with the arguments of <b>ip addr add.</b> The device name is a required argument.  The rest are optional. If no arguments are given, the first address is deleted.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>ip address show - look at protocol addresses</h2><dl>
<dt>
<b>dev</b><i> NAME </i><b>(default)</b></dt>
<dd>
name of device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>scope</b><i> SCOPE_VAL</i></dt>
<dd>
only list addresses with this scope.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>to</b><i> PREFIX</i></dt>
<dd>
only list addresses matching this prefix.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>label</b><i> PATTERN</i></dt>
<dd>
only list addresses with labels matching the <i>PATTERN</i>. <i>PATTERN</i> is a usual shell style pattern.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dynamic</b> and <b>permanent</b></dt>
<dd>
(IPv6 only) only list addresses installed due to stateless address configuration or only list permanent (not dynamic) addresses.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>tentative</b></dt>
<dd>
(IPv6 only) only list addresses which have not yet passed duplicate address detection.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>deprecated</b></dt>
<dd>
(IPv6 only) only list deprecated addresses.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dadfailed</b></dt>
<dd>
(IPv6 only) only list addresses which have failed duplicate address detection.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>temporary</b></dt>
<dd>
(IPv6 only) only list temporary addresses.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>primary</b> and <b>secondary</b></dt>
<dd>
only list primary (or secondary) addresses.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip address flush - flush protocol addresses</h2> This command flushes the protocol addresses selected by some criteria.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
This command has the same arguments as <b>show.</b> The difference is that it does not run when no arguments are given.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<b>Warning:</b> This command (and other <b>flush</b> commands described below) is pretty dangerous.  If you make a mistake, it will not forgive it, but will cruelly purge all the addresses.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
With the <b>-statistics</b> option, the command becomes verbose. It prints out the number of deleted addresses and the number of rounds made to flush the address list.  If this option is given twice, <b>ip addr flush</b> also dumps all the deleted addresses in the format described in the previous subsection.<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>ip addrlabel - protocol address label management.</h1> IPv6 address label is used for address selection described in RFC 3484.  Precedence is managed by userspace, and only label is stored in kernel.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip addrlabel add - add an address label</h2> the command adds an address label entry to the kernel.<dl>
<dt>
<b>prefix</b><i> PREFIX</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> DEV</i></dt>
<dd>
the outgoing interface.</dd>
</dl>
<dl>
<dt>
<b>label</b><i> NUMBER</i></dt>
<dd>
the label for the prefix. 0xffffffff is reserved.</dd>
</dl>
</div>
<div class="subsection">
<h2>ip addrlabel del - delete an address label</h2> the command deletes an address label entry in the kernel. <b>Arguments:</b> coincide with the arguments of <b>ip addrlabel add</b> but label is not required.</div>
<div class="subsection">
<h2>ip addrlabel list - list address labels</h2> the command show contents of address labels.</div>
<div class="subsection">
<h2>ip addrlabel flush - flush address labels</h2> the command flushes the contents of address labels and it does not restore default settings.</div>
</div>
<div class="section">
<h1>ip neighbour - neighbour/arp tables management.</h1> <b>neighbour</b> objects establish bindings between protocol addresses and link layer addresses for hosts sharing the same link. Neighbour entries are organized into tables. The IPv4 neighbour table is known by another name - the ARP table.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The corresponding commands display neighbour bindings and their properties, add new neighbour entries and delete old ones.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip neighbour add - add a new neighbour entry</h2></div>
<div class="subsection">
<h2>ip neighbour change - change an existing entry</h2></div>
<div class="subsection">
<h2>ip neighbour replace - add a new entry or change an existing one</h2> These commands create new neighbour records or update existing ones.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>to</b><i> ADDRESS </i><b>(default)</b></dt>
<dd>
the protocol address of the neighbour. It is either an IPv4 or IPv6 address.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
the interface to which this neighbour is attached.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>lladdr</b><i> LLADDRESS</i></dt>
<dd>
the link layer address of the neighbour. <i>LLADDRESS</i> can also be <b>null</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>nud</b><i> NUD_STATE</i></dt>
<dd>
the state of the neighbour entry. <b>nud</b> is an abbreviation for 'Neighbour Unreachability Detection'. The state can take one of the following values:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>permanent</b> - the neighbour entry is valid forever and can be only be removed administratively.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>noarp</b> - the neighbour entry is valid. No attempts to validate this entry will be made but it can be removed when its lifetime expires.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>reachable</b> - the neighbour entry is valid until the reachability timeout expires.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>stale</b> - the neighbour entry is valid but suspicious. This option to <b>ip neigh</b> does not change the neighbour state if it was valid and the address is not changed by this command.<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip neighbour delete - delete a neighbour entry</h2> This command invalidates a neighbour entry.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The arguments are the same as with <b>ip neigh add</b>, except that <b>lladdr</b> and <b>nud</b> are ignored.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<b>Warning:</b> Attempts to delete or manually change a <b>noarp</b> entry created by the kernel may result in unpredictable behaviour. Particularly, the kernel may try to resolve this address even on a <b>NOARP</b> interface or if the address is multicast or broadcast.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>ip neighbour show - list neighbour entries</h2> This commands displays neighbour tables.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>to</b><i> ADDRESS </i><b>(default)</b></dt>
<dd>
the prefix selecting the neighbours to list.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
only list the neighbours attached to this device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>unused</b></dt>
<dd>
only list neighbours which are not currently in use.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>nud</b><i> NUD_STATE</i></dt>
<dd>
only list neighbour entries in this state. <i>NUD_STATE</i> takes values listed below or the special value <b>all</b> which means all states.  This option may occur more than once. If this option is absent, <b>ip</b> lists all entries except for <b>none</b> and <b>noarp</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip neighbour flush - flush neighbour entries</h2> This command flushes neighbour tables, selecting entries to flush by some criteria.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
This command has the same arguments as <b>show.</b> The differences are that it does not run when no arguments are given, and that the default neighbour states to be flushed do not include <b>permanent</b> and <b>noarp</b>.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
With the <b>-statistics</b> option, the command becomes verbose.  It prints out the number of deleted neighbours and the number of rounds made to flush the neighbour table.  If the option is given twice, <b>ip neigh flush</b> also dumps all the deleted neighbours.<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>ip ntable - neighbour table configuration</h1> Display and change the parameters for the neighbour tables.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip ntable show - list the ip neighbour tables</h2> This commands displays neighbour table parameters and statistics.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>dev</b><i> DEV</i></dt>
<dd>
only list the table attached to this device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>name</b><i> NAME</i></dt>
<dd>
only lists the table with the given name.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip ntable change - modify table parameter</h2> This command allows modifying table parameters such as timers and queue lengths.<dl>
<dt>
<b>name</b><i> NAME</i></dt>
<dd>
the name of the table to modify.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> DEV</i></dt>
<dd>
the name of the device to modify the table values.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>ip route - routing table management</h1> Manipulate route entries in the kernel routing tables keep information about paths to other networked nodes.<div style="height: 1.00em;">
&#160;</div>
<b>Route types:</b><div style="height: 1.00em;">
&#160;</div>
<br/>
<b>unicast</b> - the route entry describes real paths to the destinations covered by the route prefix.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>unreachable</b> - these destinations are unreachable.  Packets are discarded and the ICMP message <i>host unreachable</i> is generated. The local senders get an <i>EHOSTUNREACH</i> error.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>blackhole</b> - these destinations are unreachable.  Packets are discarded silently. The local senders get an <i>EINVAL</i> error.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>prohibit</b> - these destinations are unreachable.  Packets are discarded and the ICMP message <i>communication administratively prohibited</i> is generated.  The local senders get an <i>EACCES</i> error.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>local</b> - the destinations are assigned to this host.  The packets are looped back and delivered locally.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>broadcast</b> - the destinations are broadcast addresses.  The packets are sent as link broadcasts.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>throw</b> - a special control route used together with policy rules. If such a route is selected, lookup in this table is terminated pretending that no route was found.  Without policy routing it is equivalent to the absence of the route in the routing table.  The packets are dropped and the ICMP message <i>net unreachable</i> is generated.  The local senders get an <i>ENETUNREACH</i> error.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>nat</b> - a special NAT route.  Destinations covered by the prefix are considered to be dummy (or external) addresses which require translation to real (or internal) ones before forwarding.  The addresses to translate to are selected with the attribute <b>Warning:</b> Route NAT is no longer supported in Linux 2.6.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>via</b>.<div style="height: 1.00em;">
&#160;</div>
<b>anycast</b> - <i>not implemented</i> the destinations are <i>anycast</i> addresses assigned to this host.  They are mainly equivalent to <b>local</b> with one difference: such addresses are invalid when used as the source address of any packet.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>multicast</b> - a special type used for multicast routing.  It is not present in normal routing tables.<br/>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<b>Route tables:</b> Linux-2.x can pack routes into several routing tables identified by a number in the range from 1 to 2^31 or by name from the file <b>/etc/iproute2/rt_tables</b> By default all normal routes are inserted into the <b>main</b> table (ID 254) and the kernel only uses this table when calculating routes. Values (0, 253, 254, and 255) are reserved for built-in use.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
Actually, one other table always exists, which is invisible but even more important.  It is the <b>local</b> table (ID 255).  This table consists of routes for local and broadcast addresses.  The kernel maintains this table automatically and the administrator usually need not modify it or even look at it.<div style="height: 1.00em;">
&#160;</div>
The multiple routing tables enter the game when <i>policy routing</i> is used.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip route add - add new route</h2></div>
<div class="subsection">
<h2>ip route change - change route</h2></div>
<div class="subsection">
<h2>ip route replace - change or add new one</h2><dl>
<dt>
<b>to</b><i> TYPE PREFIX </i><b>(default)</b></dt>
<dd>
the destination prefix of the route.  If <i>TYPE</i> is omitted, <b>ip</b> assumes type <b>unicast</b>. Other values of <i>TYPE</i> are listed above. <i>PREFIX</i> is an IP or IPv6 address optionally followed by a slash and the prefix length.  If the length of the prefix is missing, <b>ip</b> assumes a full-length host route.  There is also a special <i>PREFIX</i> <b>default</b> - which is equivalent to IP <b>0/0</b> or to IPv6 <b>::/0</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>tos</b><i> TOS</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>dsfield</b><i> TOS</i></dt>
<dd>
the Type Of Service (TOS) key.  This key has no associated mask and the longest match is understood as: First, compare the TOS of the route and of the packet.  If they are not equal, then the packet may still match a route with a zero TOS. <i>TOS</i> is either an 8 bit hexadecimal number or an identifier from <b>/etc/iproute2/rt_dsfield</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>metric</b><i> NUMBER</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>preference</b><i> NUMBER</i></dt>
<dd>
the preference value of the route. <i>NUMBER</i> is an arbitrary 32bit number.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>table</b><i> TABLEID</i></dt>
<dd>
the table to add this route to. <i>TABLEID</i> may be a number or a string from the file <b>/etc/iproute2/rt_tables</b>. If this parameter is omitted, <b>ip</b> assumes the <b>main</b> table, with the exception of <b>local</b> , <b>broadcast</b> and <b>nat</b> routes, which are put into the <b>local</b> table by default.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
the output device name.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>via</b><i> ADDRESS</i></dt>
<dd>
the address of the nexthop router.  Actually, the sense of this field depends on the route type.  For normal <b>unicast</b> routes it is either the true next hop router or, if it is a direct route installed in BSD compatibility mode, it can be a local address of the interface.  For NAT routes it is the first address of the block of translated IP destinations.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>src</b><i> ADDRESS</i></dt>
<dd>
the source address to prefer when sending to the destinations covered by the route prefix.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>realm</b><i> REALMID</i></dt>
<dd>
the realm to which this route is assigned. <i>REALMID</i> may be a number or a string from the file <b>/etc/iproute2/rt_realms</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>mtu</b><i> MTU</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>mtu lock</b><i> MTU</i></dt>
<dd>
the MTU along the path to the destination.  If the modifier <b>lock</b> is not used, the MTU may be updated by the kernel due to Path MTU Discovery.  If the modifier <b>lock</b> is used, no path MTU discovery will be tried, all packets will be sent without the DF bit in IPv4 case or fragmented to MTU for IPv6.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>window</b><i> NUMBER</i></dt>
<dd>
the maximal window for TCP to advertise to these destinations, measured in bytes.  It limits maximal data bursts that our TCP peers are allowed to send to us.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>rtt</b><i> TIME</i></dt>
<dd>
the initial RTT ('Round Trip Time') estimate. If no suffix is specified the units are raw values passed directly to the routing code to maintain compatibility with previous releases. Otherwise if a suffix of s, sec or secs is used to specify seconds and ms, msec or msecs to specify milliseconds.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>rttvar</b><i> TIME </i><b>(2.3.15+ only)</b></dt>
<dd>
the initial RTT variance estimate. Values are specified as with <b>rtt</b> above.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>rto_min</b><i> TIME </i><b>(2.6.23+ only)</b></dt>
<dd>
the minimum TCP Retransmission TimeOut to use when communicating with this destination.  Values are specified as with <b>rtt</b> above.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>ssthresh</b><i> NUMBER </i><b>(2.3.15+ only)</b></dt>
<dd>
an estimate for the initial slow start threshold.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>cwnd</b><i> NUMBER </i><b>(2.3.15+ only)</b></dt>
<dd>
the clamp for congestion window.  It is ignored if the <b>lock</b> flag is not used.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>initcwnd</b><i> NUMBER </i><b>(2.5.70+ only)</b></dt>
<dd>
the initial congestion window size for connections to this destination. Actual window size is this value multiplied by the MSS (``Maximal Segment Size'') for same connection. The default is zero, meaning to use the values specified in RFC2414.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>initrwnd</b><i> NUMBER </i><b>(2.6.33+ only)</b></dt>
<dd>
the initial receive window size for connections to this destination. Actual window size is this value multiplied by the MSS of the connection. The default value is zero, meaning to use Slow Start value.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>advmss</b><i> NUMBER </i><b>(2.3.15+ only)</b></dt>
<dd>
the MSS ('Maximal Segment Size') to advertise to these destinations when establishing TCP connections.  If it is not given, Linux uses a default value calculated from the first hop device MTU. (If the path to these destination is asymmetric, this guess may be wrong.)<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>reordering</b><i> NUMBER </i><b>(2.3.15+ only)</b></dt>
<dd>
Maximal reordering on the path to this destination. If it is not given, Linux uses the value selected with <b>sysctl</b> variable <b>net/ipv4/tcp_reordering</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>nexthop</b><i> NEXTHOP</i></dt>
<dd>
the nexthop of a multipath route. <i>NEXTHOP</i> is a complex value with its own syntax similar to the top level argument lists:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>via</b><i> ADDRESS</i> - is the nexthop router.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>dev</b><i> NAME</i> - is the output device.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>weight</b><i> NUMBER</i> - is a weight for this element of a multipath route reflecting its relative bandwidth or quality.<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>scope</b><i> SCOPE_VAL</i></dt>
<dd>
the scope of the destinations covered by the route prefix. <i>SCOPE_VAL</i> may be a number or a string from the file <b>/etc/iproute2/rt_scopes</b>. If this parameter is omitted, <b>ip</b> assumes scope <b>global</b> for all gatewayed <b>unicast</b> routes, scope <b>link</b> for direct <b>unicast</b> and <b>broadcast</b> routes and scope <b>host</b> for <b>local</b> routes.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>protocol</b><i> RTPROTO</i></dt>
<dd>
the routing protocol identifier of this route. <i>RTPROTO</i> may be a number or a string from the file <b>/etc/iproute2/rt_protos</b>. If the routing protocol ID is not given, <b>ip assumes protocol</b> <b>boot</b> (i.e. it assumes the route was added by someone who doesn't understand what they are doing).  Several protocol values have a fixed interpretation. Namely:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>redirect</b> - the route was installed due to an ICMP redirect.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>kernel</b> - the route was installed by the kernel during autoconfiguration.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>boot</b> - the route was installed during the bootup sequence. If a routing daemon starts, it will purge all of them.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>static</b> - the route was installed by the administrator to override dynamic routing. Routing daemon will respect them and, probably, even advertise them to its peers.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>ra</b> - the route was installed by Router Discovery protocol.<br/>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
The rest of the values are not reserved and the administrator is free to assign (or not to assign) protocol tags.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>onlink</b></dt>
<dd>
pretend that the nexthop is directly attached to this link, even if it does not match any interface prefix.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip route delete - delete route</h2> <b>ip route del</b> has the same arguments as <b>ip route add</b>, but their semantics are a bit different.<div style="height: 1.00em;">
&#160;</div>
Key values (<b>to</b>, <b>tos</b>, <b>preference</b> and <b>table</b>) select the route to delete.  If optional attributes are present, <b>ip</b> verifies that they coincide with the attributes of the route to delete. If no route with the given key and attributes was found, <b>ip route del</b> fails.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>ip route show - list routes</h2> the command displays the contents of the routing tables or the route(s) selected by some criteria.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>to</b><i> SELECTOR </i><b>(default)</b></dt>
<dd>
only select routes from the given range of destinations. <i>SELECTOR</i> consists of an optional modifier (<b>root</b>, <b>match</b> or <b>exact</b>) and a prefix. <b>root</b><i> PREFIX</i> selects routes with prefixes not shorter than <i>PREFIX</i>. F.e. <b>root</b><i> 0/0</i> selects the entire routing table. <b>match</b><i> PREFIX</i> selects routes with prefixes not longer than <i>PREFIX</i>. F.e. <b>match</b><i> 10.0/16</i> selects <i>10.0/16</i>, <i>10/8</i> and <i>0/0</i>, but it does not select <i>10.1/16</i> and <i>10.0.0/24</i>. And <b>exact</b><i> PREFIX</i> (or just <i>PREFIX</i>) selects routes with this exact prefix. If neither of these options are present, <b>ip</b> assumes <b>root</b><i> 0/0</i> i.e. it lists the entire table.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>tos</b><i> TOS</i></dt>
<dd>
<b>dsfield</b><i> TOS</i> only select routes with the given TOS.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>table</b><i> TABLEID</i></dt>
<dd>
show the routes from this table(s).  The default setting is to show <b>table</b>main<b>.</b> <i>TABLEID</i> may either be the ID of a real table or one of the special values:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>all</b> - list all of the tables.<div style="height: 1.00em;">
&#160;</div>
<b>cache</b> - dump the routing cache.<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>cloned</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>cached</b></dt>
<dd>
list cloned routes i.e. routes which were dynamically forked from other routes because some route attribute (f.e. MTU) was updated. Actually, it is equivalent to <b>table cache</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>from</b><i> SELECTOR</i></dt>
<dd>
the same syntax as for <b>to</b>, but it binds the source address range rather than destinations. Note that the <b>from</b> option only works with cloned routes.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>protocol</b><i> RTPROTO</i></dt>
<dd>
only list routes of this protocol.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>scope</b><i> SCOPE_VAL</i></dt>
<dd>
only list routes with this scope.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>type</b><i> TYPE</i></dt>
<dd>
only list routes of this type.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
only list routes going via this device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>via</b><i> PREFIX</i></dt>
<dd>
only list routes going via the nexthop routers selected by <i>PREFIX</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>src</b><i> PREFIX</i></dt>
<dd>
only list routes with preferred source addresses selected by <i>PREFIX</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>realm</b><i> REALMID</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>realms</b><i> FROMREALM/TOREALM</i></dt>
<dd>
only list routes with these realms.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip route flush - flush routing tables</h2> this command flushes routes selected by some criteria.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
The arguments have the same syntax and semantics as the arguments of <b>ip route show</b>, but routing tables are not listed but purged.  The only difference is the default action: <b>show</b> dumps all the IP main routing table but <b>flush</b> prints the helper page.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
With the <b>-statistics</b> option, the command becomes verbose. It prints out the number of deleted routes and the number of rounds made to flush the routing table. If the option is given twice, <b>ip route flush</b> also dumps all the deleted routes in the format described in the previous subsection.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>ip route get - get a single route</h2> this command gets a single route to a destination and prints its contents exactly as the kernel sees it.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>to</b><i> ADDRESS </i><b>(default)</b></dt>
<dd>
the destination address.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>from</b><i> ADDRESS</i></dt>
<dd>
the source address.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>tos</b><i> TOS</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>dsfield</b><i> TOS</i></dt>
<dd>
the Type Of Service.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>iif</b><i> NAME</i></dt>
<dd>
the device from which this packet is expected to arrive.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>oif</b><i> NAME</i></dt>
<dd>
force the output device on which this packet will be routed.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>connected</b></dt>
<dd>
if no source address (option <b>from</b>) was given, relookup the route with the source set to the preferred address received from the first lookup. If policy routing is used, it may be a different route.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
Note that this operation is not equivalent to <b>ip route show</b>. <b>show</b> shows existing routes. <b>get</b> resolves them and creates new clones if necessary.  Essentially, <b>get</b> is equivalent to sending a packet along this path. If the <b>iif</b> argument is not given, the kernel creates a route to output packets towards the requested destination. This is equivalent to pinging the destination with a subsequent <b>ip route ls cache</b>, however, no packets are actually sent.  With the <b>iif</b> argument, the kernel pretends that a packet arrived from this interface and searches for a path to forward the packet.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>ip route save - save routing table information to stdout</h2> this command behaves like <b>ip route show</b> except that the output is raw data suitable for passing to <b>ip route restore</b>.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>ip route restore - restore routing table information from stdin</h2> this command expects to read a data stream as returned from <b>ip route save</b>. It will attempt to restore the routing table information exactly as it was at the time of the save, so any translation of information in the stream (such as device indexes) must be done first.  Any existing routes are left unchanged.  Any routes specified in the data stream that already exist in the table will be ignored.<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>ip rule - routing policy database management</h1> <b>Rule</b>s in the routing policy database control the route selection algorithm.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Classic routing algorithms used in the Internet make routing decisions based only on the destination address of packets (and in theory, but not in practice, on the TOS field).<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
In some circumstances we want to route packets differently depending not only on destination addresses, but also on other packet fields: source address, IP protocol, transport protocol ports or even packet payload. This task is called 'policy routing'.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
To solve this task, the conventional destination based routing table, ordered according to the longest match rule, is replaced with a 'routing policy database' (or RPDB), which selects routes by executing some set of rules.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Each policy routing rule consists of a <b>selector</b> and an <b>action predicate.</b> The RPDB is scanned in the order of increasing priority. The selector of each rule is applied to {source address, destination address, incoming interface, tos, fwmark} and, if the selector matches the packet, the action is performed.  The action predicate may return with success. In this case, it will either give a route or failure indication and the RPDB lookup is terminated. Otherwise, the RPDB program continues on the next rule.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Semantically, natural action is to select the nexthop and the output device.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
At startup time the kernel configures the default RPDB consisting of three rules:<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
1.</dt>
<dd>
Priority: 0, Selector: match anything, Action: lookup routing table <b>local</b> (ID 255). The <b>local</b> table is a special routing table containing high priority control routes for local and broadcast addresses.<div style="height: 1.00em;">
&#160;</div>
Rule 0 is special. It cannot be deleted or overridden.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
2.</dt>
<dd>
Priority: 32766, Selector: match anything, Action: lookup routing table <b>main</b> (ID 254). The <b>main</b> table is the normal routing table containing all non-policy routes. This rule may be deleted and/or overridden with other ones by the administrator.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
3.</dt>
<dd>
Priority: 32767, Selector: match anything, Action: lookup routing table <b>default</b> (ID 253). The <b>default</b> table is empty.  It is reserved for some post-processing if no previous default rules selected the packet. This rule may also be deleted.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
Each RPDB entry has additional attributes.  F.e. each rule has a pointer to some routing table.  NAT and masquerading rules have an attribute to select new IP address to translate/masquerade.  Besides that, rules have some optional attributes, which routes have, namely <b>realms</b>. These values do not override those contained in the routing tables.  They are only used if the route did not select any attributes.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
The RPDB may contain rules of the following types:<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>unicast</b> - the rule prescribes to return the route found in the routing table referenced by the rule.<div style="height: 1.00em;">
&#160;</div>
<b>blackhole</b> - the rule prescribes to silently drop the packet.<div style="height: 1.00em;">
&#160;</div>
<b>unreachable</b> - the rule prescribes to generate a 'Network is unreachable' error.<div style="height: 1.00em;">
&#160;</div>
<b>prohibit</b> - the rule prescribes to generate 'Communication is administratively prohibited' error.<div style="height: 1.00em;">
&#160;</div>
<b>nat</b> - the rule prescribes to translate the source address of the IP packet into some other value.<br/>
<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip rule add - insert a new rule</h2></div>
<div class="subsection">
<h2>ip rule delete - delete a rule</h2><dl>
<dt>
<b>type</b><i> TYPE </i><b>(default)</b></dt>
<dd>
the type of this rule.  The list of valid types was given in the previous subsection.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>from</b><i> PREFIX</i></dt>
<dd>
select the source prefix to match.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>to</b><i> PREFIX</i></dt>
<dd>
select the destination prefix to match.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>iif</b><i> NAME</i></dt>
<dd>
select the incoming device to match.  If the interface is loopback, the rule only matches packets originating from this host.  This means that you may create separate routing tables for forwarded and local packets and, hence, completely segregate them.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>oif</b><i> NAME</i></dt>
<dd>
select the outgoing device to match.  The outgoing interface is only available for packets originating from local sockets that are bound to a device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>tos</b><i> TOS</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>dsfield</b><i> TOS</i></dt>
<dd>
select the TOS value to match.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>fwmark</b><i> MARK</i></dt>
<dd>
select the <b>fwmark</b> value to match.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>priority</b><i> PREFERENCE</i></dt>
<dd>
the priority of this rule.  Each rule should have an explicitly set <i>unique</i> priority value. The options preference and order are synonyms with priority.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>table</b><i> TABLEID</i></dt>
<dd>
the routing table identifier to lookup if the rule selector matches. It is also possible to use lookup instead of table.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>realms</b><i> FROM/TO</i></dt>
<dd>
Realms to select if the rule matched and the routing table lookup succeeded.  Realm <i>TO</i> is only used if the route did not select any realm.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>nat</b><i> ADDRESS</i></dt>
<dd>
The base of the IP address block to translate (for source addresses). The <i>ADDRESS</i> may be either the start of the block of NAT addresses (selected by NAT routes) or a local host address (or even zero). In the last case the router does not translate the packets, but masquerades them to this address. Using map-to instead of nat means the same thing.<div style="height: 1.00em;">
&#160;</div>
<b>Warning:</b> Changes to the RPDB made with these commands do not become active immediately.  It is assumed that after a script finishes a batch of updates, it flushes the routing cache with <b>ip route flush cache</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip rule flush - also dumps all the deleted rules.</h2> This command has no arguments.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>ip rule show - list rules</h2> This command has no arguments. The options list or lst are synonyms with show.<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>ip maddress - multicast addresses management</h1> <b>maddress</b> objects are multicast addresses.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip maddress show - list multicast addresses</h2><dl>
<dt>
<b>dev</b><i> NAME </i><b>(default)</b></dt>
<dd>
the device name.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip maddress add - add a multicast address</h2></div>
<div class="subsection">
<h2>ip maddress delete - delete a multicast address</h2> these commands attach/detach a static link layer multicast address to listen on the interface. Note that it is impossible to join protocol multicast groups statically.  This command only manages link layer addresses.<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>address</b><i> LLADDRESS </i><b>(default)</b></dt>
<dd>
the link layer multicast address.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
the device to join/leave this multicast address.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>ip mroute - multicast routing cache management</h1> <b>mroute</b> objects are multicast routing cache entries created by a user level mrouting daemon (f.e. <b>pimd</b> or <b>mrouted</b> ).<div style="height: 1.00em;">
&#160;</div>
Due to the limitations of the current interface to the multicast routing engine, it is impossible to change <b>mroute</b> objects administratively, so we may only display them.  This limitation will be removed in the future.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip mroute show - list mroute cache entries</h2><dl>
<dt>
<b>to</b><i> PREFIX </i><b>(default)</b></dt>
<dd>
the prefix selecting the destination multicast addresses to list.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>iif</b><i> NAME</i></dt>
<dd>
the interface on which multicast packets are received.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>from</b><i> PREFIX</i></dt>
<dd>
the prefix selecting the IP source addresses of the multicast route.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>ip tunnel - tunnel configuration</h1> <b>tunnel</b> objects are tunnels, encapsulating packets in IP packets and then sending them over the IP infrastructure. The encapulating (or outer) address family is specified by the <b>-f</b> option.  The default is IPv4.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip tunnel add - add a new tunnel</h2></div>
<div class="subsection">
<h2>ip tunnel change - change an existing tunnel</h2></div>
<div class="subsection">
<h2>ip tunnel delete - destroy a tunnel</h2><dl>
<dt>
<b>name</b><i> NAME </i><b>(default)</b></dt>
<dd>
select the tunnel device name.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>mode</b><i> MODE</i></dt>
<dd>
set the tunnel mode. Available modes depend on the encapsulating address family.<div style="height: 0.00em;">
&#160;</div>
Modes for IPv4 encapsulation available: <b>ipip</b>, <b>sit</b>, <b>isatap</b> and <b>gre</b>.<div style="height: 0.00em;">
&#160;</div>
Modes for IPv6 encapsulation available: <b>ip6ip6</b>, <b>ipip6</b> and <b>any</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>remote</b><i> ADDRESS</i></dt>
<dd>
set the remote endpoint of the tunnel.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>local</b><i> ADDRESS</i></dt>
<dd>
set the fixed local address for tunneled packets. It must be an address on another interface of this host.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>ttl</b><i> N</i></dt>
<dd>
set a fixed TTL <i>N</i> on tunneled packets. <i>N</i> is a number in the range 1--255. 0 is a special value meaning that packets inherit the TTL value. The default value for IPv4 tunnels is: <b>inherit</b>. The default value for IPv6 tunnels is: <b>64</b>.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>tos</b><i> T</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>dsfield</b><i> T</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>tclass</b><i> T</i></dt>
<dd>
set a fixed TOS (or traffic class in IPv6) <i>T</i> on tunneled packets. The default value is: <b>inherit</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
bind the tunnel to the device <i>NAME</i> so that tunneled packets will only be routed via this device and will not be able to escape to another device when the route to endpoint changes.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>nopmtudisc</b></dt>
<dd>
disable Path MTU Discovery on this tunnel. It is enabled by default.  Note that a fixed ttl is incompatible with this option: tunnelling with a fixed ttl always makes pmtu discovery.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>key</b><i> K</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>ikey</b><i> K</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>okey</b><i> K</i></dt>
<dd>
(<b> only GRE tunnels </b>) use keyed GRE with key <i>K</i>. <i>K</i> is either a number or an IP address-like dotted quad. The <b>key</b> parameter sets the key to use in both directions. The <b>ikey</b> and <b>okey</b> parameters set different keys for input and output.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>csum</b>, <b>icsum</b>, <b>ocsum</b></dt>
<dd>
(<b> only GRE tunnels </b>) generate/require checksums for tunneled packets. The <b>ocsum</b> flag calculates checksums for outgoing packets. The <b>icsum</b> flag requires that all input packets have the correct checksum.  The <b>csum</b> flag is equivalent to the combination <b>icsum ocsum</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>seq</b>, <b>iseq</b>, <b>oseq</b></dt>
<dd>
(<b> only GRE tunnels </b>) serialize packets. The <b>oseq</b> flag enables sequencing of outgoing packets. The <b>iseq</b> flag requires that all input packets are serialized. The <b>seq</b> flag is equivalent to the combination <b>iseq oseq</b>. <b>It isn't work. Don't use it.</b><div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dscp inherit</b></dt>
<dd>
(<b> only IPv6 tunnels </b>) Inherit DS field between inner and outer header.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>encaplim</b><i> ELIM</i></dt>
<dd>
(<b> only IPv6 tunnels </b>) set a fixed encapsulation limit.  Default is 4.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>flowlabel</b><i> FLOWLABEL</i></dt>
<dd>
(<b> only IPv6 tunnels </b>) set a fixed flowlabel.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip tunnel prl - potential router list (ISATAP only)</h2><dl>
<dt>
<b>dev</b><i> NAME</i></dt>
<dd>
mandatory device name.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>prl-default</b><i> ADDR</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>prl-nodefault</b><i> ADDR</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>prl-delete</b><i> ADDR</i></dt>
<dd>
Add or delete <b>ADDR</b> as a potential router or default router.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip tunnel show - list tunnels</h2> This command has no arguments.<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>ip monitor and rtmon - state monitoring</h1> The <b>ip</b> utility can monitor the state of devices, addresses and routes continuously.  This option has a slightly different format. Namely, the <b>monitor</b> command is the first in the command line and then the object list follows:<div style="height: 1.00em;">
&#160;</div>
<b>ip monitor</b> [ <b>all</b> | <i>LISTofOBJECTS</i> ]<div style="height: 1.00em;">
&#160;</div>
<i>OBJECT-LIST</i> is the list of object types that we want to monitor. It may contain <b>link</b>, <b>address</b> and <b>route</b>. If no <b>file</b> argument is given, <b>ip</b> opens RTNETLINK, listens on it and dumps state changes in the format described in previous sections.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
If a file name is given, it does not listen on RTNETLINK, but opens the file containing RTNETLINK messages saved in binary format and dumps them.  Such a history file can be generated with the <b>rtmon</b> utility.  This utility has a command line syntax similar to <b>ip monitor</b>. Ideally, <b>rtmon</b> should be started before the first network configuration command is issued. F.e. if you insert:<div style="height: 1.00em;">
&#160;</div>
<br/>
rtmon file /var/log/rtmon.log<br/>
<div style="height: 1.00em;">
&#160;</div>
in a startup script, you will be able to view the full history later.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Certainly, it is possible to start <b>rtmon</b> at any time. It prepends the history with the state snapshot dumped at the moment of starting.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>ip netns - process network namespace management</h1> A network namespace is logically another copy of the network stack, with it's own routes, firewall rules, and network devices.<div style="height: 1.00em;">
&#160;</div>
By convention a named network namespace is an object at <b>/var/run/netns/</b>NAME that can be opened.  The file descriptor resulting from opening <b>/var/run/netns/</b>NAME refers to the specified network namespace.  Holding that file descriptor open keeps the network namespace alive.  The file descriptor can be used with the <b>setns(2)</b> system call to change the network namespace associated with a task.<div style="height: 1.00em;">
&#160;</div>
The convention for network namespace aware applications is to look for global network configuration files first in <b>/etc/netns/</b>NAME<b>/</b> then in <b>/etc/</b>. For example, if you want a different version of <b>/etc/resolv.conf</b> for a network namespace used to isolate your vpn you would name it <b>/etc/netns/myvpn/resolv.conf.</b><div style="height: 1.00em;">
&#160;</div>
<b>ip netns exec</b> automates handling of this configuration, file convention for network namespace unaware applications, by creating a mount namespace and bind mounting all of the per network namespace configure files into their traditional location in /etc.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip netns list - show all of the named network namespaces</h2></div>
<div class="subsection">
<h2>ip netns add NAME - create a new named network namespace</h2></div>
<div class="subsection">
<h2>ip netns delete NAME - delete the name of a network namespace</h2></div>
<div class="subsection">
<h2>ip netns exec NAME cmd ... - Run cmd in the named network namespace</h2></div>
</div>
<div class="section">
<h1>ip xfrm - transform configuration</h1> xfrm is an IP framework for transforming packets (such as encrypting their payloads). This framework is used to implement the IPsec protocol suite (with the <b>state</b> object operating on the Security Association Database, and the <b>policy</b> object operating on the Security Policy Database). It is also used for the IP Payload Compression Protocol and features of Mobile IPv6.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>ip xfrm state add - add new state into xfrm</h2></div>
<div class="subsection">
<h2>ip xfrm state update - update existing state in xfrm</h2></div>
<div class="subsection">
<h2>ip xfrm state allocspi - allocate an SPI value</h2></div>
<div class="subsection">
<h2>ip xfrm state delete - delete existing state in xfrm</h2></div>
<div class="subsection">
<h2>ip xfrm state get - get existing state in xfrm</h2></div>
<div class="subsection">
<h2>ip xfrm state deleteall - delete all existing state in xfrm</h2></div>
<div class="subsection">
<h2>ip xfrm state list - print out the list of existing state in xfrm</h2></div>
<div class="subsection">
<h2>ip xfrm state flush - flush all state in xfrm</h2></div>
<div class="subsection">
<h2>ip xfrm state count - count all existing state in xfrm</h2><dl>
<dt>
<i>ID</i></dt>
<dd>
is specified by a source address, destination address, transform protocol <i>XFRM-PROTO</i>, and/or Security Parameter Index <i>SPI</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>XFRM-PROTO</i></dt>
<dd>
specifies a transform protocol: IPsec Encapsulating Security Payload (<b>esp</b>), IPsec Authentication Header (<b>ah</b>), IP Payload Compression (<b>comp</b>), Mobile IPv6 Type 2 Routing Header (<b>route2</b>), or Mobile IPv6 Home Address Option (<b>hao</b>).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>ALGO-LIST</i></dt>
<dd>
specifies one or more algorithms <i>ALGO</i> to use. Algorithm types include encryption (<b>enc</b>), authentication (<b>auth</b>), authentication with a specified truncation length (<b>auth-trunc</b>), authenticated encryption with associated data (<b>aead</b>), and compression (<b>comp</b>). For each algorithm used, the algorithm type, the algorithm name <i>ALGO-NAME</i>, and the key <i>ALGO-KEY</i> must be specified. For <b>aead</b>, the Integrity Check Value length <i>ALGO-ICV-LEN</i> must additionally be specified. For <b>auth-trunc</b>, the signature truncation length <i>ALGO-TRUNC-LEN</i> must additionally be specified.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>MODE</i></dt>
<dd>
specifies a mode of operation: IPsec transport mode (<b>transport</b>),  IPsec tunnel mode (<b>tunnel</b>),  Mobile IPv6 route optimization mode (<b>ro</b>),  Mobile IPv6 inbound trigger mode (<b>in_trigger</b>), or  IPsec ESP Bound End-to-End Tunnel Mode (<b>beet</b>).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>FLAG-LIST</i></dt>
<dd>
contains one or more of the following optional flags: <b>noecn</b>, <b>decap-dscp</b>, <b>nopmtudisc</b>, <b>wildrecv</b>, <b>icmp</b>,  <b>af-unspec</b>, or <b>align4</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>SELECTOR</i></dt>
<dd>
selects the traffic that will be controlled by the policy, based on the source address, the destination address, the network device, and/or <i>UPSPEC</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>UPSPEC</i></dt>
<dd>
selects traffic by protocol. For the <b>tcp</b>, <b>udp</b>, <b>sctp</b>, or <b>dccp</b> protocols, the source and destination port can optionally be specified. For the <b>icmp</b>, <b>ipv6-icmp</b>, or <b>mobility-header</b> protocols, the type and code numbers can optionally be specified. For the <b>gre</b> protocol, the key can optionally be specified as a dotted-quad or number. Other protocols can be selected by name or number <i>PROTO</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>LIMIT-LIST</i></dt>
<dd>
sets limits in seconds, bytes, or numbers of packets.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>ENCAP</i></dt>
<dd>
encapsulates packets with protocol <b>espinudp</b> or <b>espinudp-nonike</b>, using source port <i>SPORT</i>, destination port <i>DPORT</i> , and original address <i>OADDR</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip xfrm policy add - add a new policy</h2></div>
<div class="subsection">
<h2>ip xfrm policy update - update an existing policy</h2></div>
<div class="subsection">
<h2>ip xfrm policy delete - delete an existing policy</h2></div>
<div class="subsection">
<h2>ip xfrm policy get - get an existing policy</h2></div>
<div class="subsection">
<h2>ip xfrm policy deleteall - delete all existing xfrm policies</h2></div>
<div class="subsection">
<h2>ip xfrm policy list - print out the list of xfrm policies</h2></div>
<div class="subsection">
<h2>ip xfrm policy flush - flush policies</h2></div>
<div class="subsection">
<h2>ip xfrm policy count - count existing policies</h2><dl>
<dt>
<i>SELECTOR</i></dt>
<dd>
selects the traffic that will be controlled by the policy, based on the source address, the destination address, the network device, and/or <i>UPSPEC</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>UPSPEC</i></dt>
<dd>
selects traffic by protocol. For the <b>tcp</b>, <b>udp</b>, <b>sctp</b>, or <b>dccp</b> protocols, the source and destination port can optionally be specified. For the <b>icmp</b>, <b>ipv6-icmp</b>, or <b>mobility-header</b> protocols, the type and code numbers can optionally be specified. For the <b>gre</b> protocol, the key can optionally be specified as a dotted-quad or number. Other protocols can be selected by name or number <i>PROTO</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>DIR</i></dt>
<dd>
selects the policy direction as <b>in</b>, <b>out</b>, or <b>fwd</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>CTX</i></dt>
<dd>
sets the security context.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>PTYPE</i></dt>
<dd>
can be <b>main</b> (default) or <b>sub</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>ACTION</i></dt>
<dd>
can be <b>allow</b> (default) or <b>block</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>PRIORITY</i></dt>
<dd>
is a number that defaults to zero.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>FLAG-LIST</i></dt>
<dd>
contains one or both of the following optional flags: <b>local</b> or <b>icmp</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>LIMIT-LIST</i></dt>
<dd>
sets limits in seconds, bytes, or numbers of packets.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>TMPL-LIST</i></dt>
<dd>
is a template list specified using <i>ID</i>, <i>MODE</i>, <i>REQID</i>, and/or <i>LEVEL</i>. <div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>ID</i></dt>
<dd>
is specified by a source address, destination address, transform protocol <i>XFRM-PROTO</i>, and/or Security Parameter Index <i>SPI</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>XFRM-PROTO</i></dt>
<dd>
specifies a transform protocol: IPsec Encapsulating Security Payload (<b>esp</b>), IPsec Authentication Header (<b>ah</b>), IP Payload Compression (<b>comp</b>), Mobile IPv6 Type 2 Routing Header (<b>route2</b>), or Mobile IPv6 Home Address Option (<b>hao</b>).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>MODE</i></dt>
<dd>
specifies a mode of operation: IPsec transport mode (<b>transport</b>),  IPsec tunnel mode (<b>tunnel</b>),  Mobile IPv6 route optimization mode (<b>ro</b>),  Mobile IPv6 inbound trigger mode (<b>in_trigger</b>), or  IPsec ESP Bound End-to-End Tunnel Mode (<b>beet</b>).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>LEVEL</i></dt>
<dd>
can be <b>required</b> (default) or <b>use</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>ip xfrm monitor - state monitoring for xfrm objects</h2> The xfrm objects to monitor can be optionally specified.<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>HISTORY</h1> <b>ip</b> was written by Alexey N. Kuznetsov and added in Linux 2.2.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>tc</b>(8)<div style="height: 0.00em;">
&#160;</div>
IP Command reference <b>ip-cref.ps</b><div style="height: 0.00em;">
&#160;</div>
IP tunnels <b>ip-cref.ps</b><div style="height: 0.00em;">
&#160;</div>
User documentation at <b>http://lartc.org/</b>, but please direct bugreports and patches to: <b>&lt;netdev@vger.kernel.org&gt;</b><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Original Manpage  by Michail Litvak &lt;mci@owl.openwall.com&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
17 January 2002</td>
<td class="foot-os">
iproute2</td>
</tr>
</table>
</div>
</body>
</html>

