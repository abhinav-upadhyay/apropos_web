<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
updatedb(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
updatedb(8)</td>
<td class="head-vol">
System Manager's Manual</td>
<td class="head-rtitle">
updatedb(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> updatedb - update a database for mlocate<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>updatedb</b> [<i>OPTION</i>]...<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>updatedb</b> creates or updates a database used by <b>locate</b>(1). If the database already exists, its data is reused to avoid rereading directories that have not changed.<div style="height: 1.00em;">
&#160;</div>
<b>updatedb</b> is usually run daily by <b>cron</b>(8) to update the default database.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>EXIT STATUS</h1> <b>updatedb</b> returns with exit status 0 on success, 1 on error.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1> The  <b>PRUNE_BIND_MOUNTS</b>, <b>PRUNEFS</b>, <b>PRUNENAMES</b> and <b>PRUNEPATHS</b> variables, which are modified by some of the options, are documented in detail in <b>updatedb.conf</b>(5).<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<b>-f</b>, <b>--add-prunefs</b><b> </b><i>FS</i></dt>
<dd>
Add entries in white-space-separated list <i>FS</i> to <b>PRUNEFS</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-n</b>, <b>--add-prunenames</b><b> </b><i>NAMES</i></dt>
<dd>
Add entries in white-space-separated list <i>NAMES</i> to <b>PRUNENAMES</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-e</b>, <b>--add-prunepaths</b><b> </b><i>PATHS</i></dt>
<dd>
Add entries in white-space-separated list <i>PATHS</i> to <b>PRUNEPATHS</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-U</b>, <b>--database-root</b> <i>PATH</i></dt>
<dd>
Store only results of scanning the file system subtree rooted at <i>PATH</i> to the generated database. The whole file system is scanned by default.<div style="height: 1.00em;">
&#160;</div>
<b>locate</b>(1) outputs entries as absolute path names which don't contain symbolic links, regardless of the form of  <i>PATH</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>--debug-pruning</b></dt>
<dd>
Write debugging information about pruning decisions to standard error output.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-h</b>, <b>--help</b></dt>
<dd>
Write a summary of the available options to standard output and exit successfully.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-o</b>, <b>--output</b> <i>FILE</i></dt>
<dd>
Write the database to <i>FILE</i> instead of using the default database.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>--prune-bind-mounts</b> <i>FLAG</i></dt>
<dd>
Set <b>PRUNE_BIND_MOUNTS</b> to  <i>FLAG</i>, overriding the configuration file.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>--prunefs</b> <i>FS</i></dt>
<dd>
Set <b>PRUNEFS</b> to <i>FS</i>, overriding the configuration file.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>--prunenames</b> <i>NAMES</i></dt>
<dd>
Set <b>PRUNENAMES</b> to <i>NAMES</i>, overriding the configuration file.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>--prunepaths</b> <i>PATHS</i></dt>
<dd>
Set <b>PRUNEPATHS</b> to <i>PATHS</i>, overriding the configuration file.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-l</b>, <b>--require-visibility</b> <i>FLAG</i></dt>
<dd>
Set the &#8220;require file visibility before reporting it&#8221; flag in the generated database to  <i>FLAG</i>.<div style="height: 1.00em;">
&#160;</div>
If <i>FLAG</i> is <b>0</b> or  <b>no</b>, or if the database file is readable by &quot;others&quot; or it is not owned by  <b>mlocate</b>, <b>locate</b>(1) outputs the database entries even if the user running <b>locate</b>(1) could not have read the directory necessary to find out the file described by the database entry.<div style="height: 1.00em;">
&#160;</div>
If <i>FLAG</i> is <b>1</b> or <b>yes</b> (the default), <b>locate</b>(1) checks the permissions of parent directories of each entry before reporting it to the invoking user. To make the file existence truly hidden from other users, the database group is set to <b>mlocate</b> and the database permissions prohibit reading the database by users using other means than <b>locate</b>(1), which is set-gid  <b>mlocate</b>.<div style="height: 1.00em;">
&#160;</div>
Note that the visibility flag is checked only if the database is owned by <b>mlocate</b> and it is not readable by &quot;others&quot;.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-v</b>, <b>--verbose</b></dt>
<dd>
Output path names of files to standard output, as soon as they are found.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>-V</b>, <b>--version</b></dt>
<dd>
Write information about the version and licence of <b>locate</b> on standard output and exit successfully.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>EXAMPLES</h1> To create a private mlocate database as an user other than  <b>root</b>, run<div style="margin-left: 5.00ex;">
<b>updatedb -l 0 -o</b> <i>db_file</i> <b>-U</b> <i>source_directory</i></div>
Note that all users that can read <i>db_file</i> can get the complete list of files in the subtree of  <i>source_directory</i>.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<b>/etc/updatedb.conf</b></dt>
<dd>
A configuration file.  See <b>updatedb.conf</b>(5).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>/var/lib/mlocate/mlocate.db</b></dt>
<dd>
The database updated by default.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>SECURITY</h1> Databases built with <b>--require-visibility no</b> allow users to find names of files and directories of other users, which they would not otherwise be able to do.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>NOTES</h1> The accompanying <b>locate</b>(1) utility was designed to be compatible to <b>slocate</b> and attempts to be compatible to <small>GNU</small> <b>locate</b> where possible. This is not the case for  <b>updatedb</b>.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Miloslav Trmac &lt;mitr@redhat.com&gt;<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>locate</b>(1), <b>mlocate.db</b>(5), <b>updatedb.conf</b>(5)</div>
<table class="foot">
<tr>
<td class="foot-date">
Jun 2008</td>
<td class="foot-os">
mlocate</td>
</tr>
</table>
</div>
</body>
</html>

