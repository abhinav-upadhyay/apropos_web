<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
MII-TOOL(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
MII-TOOL(8)</td>
<td class="head-vol">
System Manager's Manual</td>
<td class="head-rtitle">
MII-TOOL(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> mii-tool - view, manipulate media-independent interface status<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>mii-tool</b> [ <b>-v</b>, <b>--verbose</b>] [ <b>-V</b>, <b>--version</b>] [ <b>-R</b>, <b>--reset</b>] [ <b>-r</b>, <b>--restart</b>] [ <b>-w</b>, <b>--watch</b>] [ <b>-l</b>, <b>--log</b>] [ <b>-A</b>, <b>--advertise=</b><i>media,...</i>] [ <b>-F</b>, <b>--force=</b><i>media</i>] [<i>interface&#160;...</i>]<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This utility checks or sets the status of a network interface's Media Independent Interface (MII) unit.  Most fast ethernet adapters use an MII to autonegotiate link speed and duplex setting.<div class="spacer">
</div>
Most intelligent network devices use an autonegotiation protocol to communicate what media technologies they support, and then select the fastest mutually supported media technology.  The  <b>-A</b> or  <b>--advertise</b> options can be used to tell the MII to only advertise a subset of its capabilities.  Some passive devices, such as single-speed hubs, are unable to autonegotiate.  To handle such devices, the MII protocol also allows for establishing a link by simply detecting either a 10baseT or 100baseT link beat.  The  <b>-F</b> or  <b>--force</b> options can be used to force the MII to operate in one mode, instead of autonegotiating.  The  <b>-A</b> and <b>-F</b> options are mutually exclusive.<div class="spacer">
</div>
The default short output reports the negotiated link speed and link status for each interface.  If an interface or interfaces are not specified on the command line, then  <b>mii-tool</b> will check any available interfaces from  <b>eth0</b> through <b>eth7</b>.</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>-v</b>, <b>--verbose</b></dt>
<dd>
Display more detailed MII status information.  If used twice, also display raw MII register contents.</dd>
</dl>
<dl>
<dt>
<b>-V</b>, <b>--version</b></dt>
<dd>
Display program version information.</dd>
</dl>
<dl>
<dt>
<b>-R</b>, <b>--reset</b></dt>
<dd>
Reset the MII to its default configuration.</dd>
</dl>
<dl>
<dt>
<b>-r</b>, <b>--restart</b></dt>
<dd>
Restart autonegotiation.</dd>
</dl>
<dl>
<dt>
<b>-w</b>, <b>--watch</b></dt>
<dd>
Watch interface(s) and report changes in link status.  The MII interfaces are polled at one second intervals.</dd>
</dl>
<dl>
<dt>
<b>-l</b>, <b>--log</b></dt>
<dd>
Used with <b>-w</b>, records link status changes in the system log instead of printing on standard output.</dd>
</dl>
<dl>
<dt>
<b>-F</b><i> media</i>, <b>--force=</b><i>media</i></dt>
<dd>
Disable autonegotiation, and force the MII to either <b>100baseTx-FD</b>,  <b>100baseTx-HD</b>, <b>10baseT-FD</b>, or <b>10baseT-HD</b> operation.</dd>
</dl>
<dl>
<dt>
<b>-A</b><i> media,...</i>, <b>--advertise=</b><i>media,...</i></dt>
<dd>
Enable and restart autonegotiation, and advertise only the specified media technologies.  Multiple technologies should be separated by commas.  Valid media are  <b>100baseT4</b>, <b>100baseTx-FD</b>,  <b>100baseTx-HD</b>, <b>10baseT-FD</b>, and <b>10baseT-HD</b>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><dl>
<dt>
SIOCGMIIPHY on 'eth?' failed: Invalid argument</dt>
<dd>
If the interface is not running (up), kernel will refuse to report its link state.</dd>
</dl>
<dl>
<dt>
SIOCGMIIPHY on 'eth?' failed: Operation not permitted</dt>
<dd>
Most kernels restrict access to root.</dd>
</dl>
<dl>
<dt>
SIOCGMIIPHY on 'eth?' failed: No such device</dt>
<dd>
This error is shown, if the kernel does not know about the named device.</dd>
</dl>
<dl>
<dt>
SIOCGMIIPHY on 'eth?' failed: Operation not supported</dt>
<dd>
The interface in question does not support MII queries. Most likely, it does not have MII transceivers, at all.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>AUTHORS</h1> David Hinds - dhinds@pcmcia.sourceforge.org<div style="height: 0.00em;">
&#160;</div>
Donald Becker - becker@scyld.com<div style="height: 0.00em;">
&#160;</div>
Bernd Eckenfels - ecki@debian.org</div>
<table class="foot">
<tr>
<td class="foot-date">
2004/03/28 23:30:00</td>
<td class="foot-os">
net-tools</td>
</tr>
</table>
</div>
</body>
</html>

