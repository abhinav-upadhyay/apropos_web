<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
SUDO(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SUDO(8)</td>
<td class="head-vol">
MAINTENANCE COMMANDS</td>
<td class="head-rtitle">
SUDO(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sudo, sudoedit - execute a command as another user</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>sudo</b> [<b>-D</b>&#160;<i>level</i>] <b>-h</b> | <b>-K</b> | <b>-k</b> | <b>-V</b><div class="spacer">
</div>
<b>sudo</b> <b>-v</b> [<b>-AknS</b>] [ <b>-D</b>&#160;<i>level</i>] [ <b>-g</b>&#160;<i>group&#160;name</i>|<i>#gid</i>] [<b>-p</b>&#160;<i>prompt</i>] [ <b>-u</b>&#160;<i>user&#160;name</i>|<i>#uid</i>]<div class="spacer">
</div>
<b>sudo</b> <b>-l[l]</b> [<b>-AknS</b>] [ <b>-D</b>&#160;<i>level</i>] [ <b>-g</b>&#160;<i>group&#160;name</i>|<i>#gid</i>] [<b>-p</b>&#160;<i>prompt</i>] [ <b>-U</b>&#160;<i>user&#160;name</i>] [<b>-u</b>&#160;<i>user&#160;name</i>|<i>#uid</i>] [<i>command</i>]<div class="spacer">
</div>
<b>sudo</b> [<b>-AbEHnPS</b>] [ <b>-C</b>&#160;<i>fd</i>] [ <b>-D</b>&#160;<i>level</i>] [ <b>-g</b>&#160;<i>group&#160;name</i>|<i>#gid</i>] [<b>-p</b>&#160;<i>prompt</i>] [ <b>-u</b>&#160;<i>user&#160;name</i>|<i>#uid</i>] [ <b>VAR</b>=<i>value</i>] [<b>-i</b>&#160;|&#160;<b>-s</b>] [<i>command</i>]<div class="spacer">
</div>
<b>sudoedit</b> [<b>-AnS</b>] [ <b>-C</b>&#160;<i>fd</i>] [ <b>-D</b>&#160;<i>level</i>] [ <b>-g</b>&#160;<i>group&#160;name</i>|<i>#gid</i>] [<b>-p</b>&#160;<i>prompt</i>] [ <b>-u</b>&#160;<i>user&#160;name</i>|<i>#uid</i>] file ...</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>sudo</b> allows a permitted user to execute a <i>command</i> as the superuser or another user, as specified by the security policy. The real and effective uid and gid are set to match those of the target user, as specified in the password database, and the group vector is initialized based on the group database (unless the  <b>-P</b> option was specified).<div class="spacer">
</div>
<b>sudo</b> supports a plugin architecture for security policies and input/output logging.  Third parties can develop and distribute their own policy and I/O logging modules to work seemlessly with the  <b>sudo</b> front end.  The default security policy is <i>sudoers</i>, which is configured via the file  <i>/etc/sudoers</i>, or via LDAP.  See the PLUGINS section for more information.<div class="spacer">
</div>
The security policy determines what privileges, if any, a user has to run  <b>sudo</b>.  The policy may require that users authenticate themselves with a password or another authentication mechanism.  If authentication is required,  <b>sudo</b> will exit if the user's password is not entered within a configurable time limit.  This limit is policy-specific; the default password prompt timeout for the  <i>sudoers</i> security policy is unlimited.<div class="spacer">
</div>
Security policies may support credential caching to allow the user to run  <b>sudo</b> again for a period of time without requiring authentication.  The  <i>sudoers</i> policy caches credentials for 15 minutes, unless overridden in  <i>sudoers</i>(5).  By running  <b>sudo</b> with the <b>-v</b> option, a user can update the cached credentials without running a  <i>command</i>.<div class="spacer">
</div>
When invoked as <b>sudoedit</b>, the <b>-e</b> option (described below), is implied.<div class="spacer">
</div>
Security policies may log successful and failed attempts to use  <b>sudo</b>.  If an I/O plugin is configured, the running command's input and output may be logged as well.</div>
<div class="section">
<h1>OPTIONS</h1>  <b>sudo</b> accepts the following command line options:<dl>
<dt>
-A</dt>
<dd>
Normally, if <b>sudo</b> requires a password, it will read it from the user's terminal.  If the  <b>-A</b> (<i>askpass</i>) option is specified, a (possibly graphical) helper program is executed to read the user's password and output the password to the standard output.  If the SUDO_ASKPASS environment variable is set, it specifies the path to the helper program.  Otherwise, if  <i>/etc/sudo.conf</i> contains a line specifying the askpass program, that value will be used.  For example:<div style="height: 1.00em;">
&#160;</div>
<br/>
    # Path to askpass helper program<br/>
    Path askpass /usr/X11R6/bin/ssh-askpass<br/>
<div style="height: 1.00em;">
&#160;</div>
If no askpass program is available, sudo will exit with an error.</dd>
</dl>
<dl>
<dt>
-b</dt>
<dd>
The <b>-b</b> (<i>background</i>) option tells <b>sudo</b> to run the given command in the background.  Note that if you use the  <b>-b</b> option you cannot use shell job control to manipulate the process. Most interactive commands will fail to work properly in background mode.</dd>
</dl>
<dl>
<dt>
-C <i>fd</i></dt>
<dd>
Normally, <b>sudo</b> will close all open file descriptors other than standard input, standard output and standard error.  The  <b>-C</b> ( <i>close from</i>) option allows the user to specify a starting point above the standard error (file descriptor three).  Values less than three are not permitted.  The security policy may restrict the user's ability to use the  <b>-C</b> option.  The <i>sudoers</i> policy only permits use of the  <b>-C</b> option when the administrator has enabled the  <i>closefrom_override</i> option.</dd>
</dl>
<dl>
<dt>
-D <i>level</i></dt>
<dd>
Enable debugging of <b>sudo</b> plugins and <b>sudo</b> itself.  The <i>level</i> may be a value from 1 through 9.</dd>
</dl>
<dl>
<dt>
-E</dt>
<dd>
The <b>-E</b> (<i>preserve</i> <i>environment</i>) option indicates to the security policy that the user wishes to preserve their existing environment variables.  The security policy may return an error if the  <b>-E</b> option is specified and the user does not have permission to preserve the environment.</dd>
</dl>
<dl>
<dt>
-e</dt>
<dd>
The <b>-e</b> (<i>edit</i>) option indicates that, instead of running a command, the user wishes to edit one or more files.  In lieu of a command, the string &quot;sudoedit&quot; is used when consulting the security policy.  If the user is authorized by the policy, the following steps are taken:</dd>
</dl>
<div style="margin-left: 12.00ex;">
<dl>
<dt>
1.</dt>
<dd>
Temporary copies are made of the files to be edited with the owner set to the invoking user.</dd>
</dl>
<dl>
<dt>
2.</dt>
<dd>
The editor specified by the policy is run to edit the temporary files. The  <i>sudoers</i> policy uses the SUDO_EDITOR, VISUAL and EDITOR environment variables (in that order).  If none of SUDO_EDITOR, VISUAL or EDITOR are set, the first program listed in the  <i>editor</i> <i>sudoers</i>(5) option is used.</dd>
</dl>
<dl>
<dt>
3.</dt>
<dd>
If they have been modified, the temporary files are copied back to their original location and the temporary versions are removed.</dd>
</dl>
</div>
<div style="margin-left: 12.00ex;">
<div style="height: 1.00em;">
&#160;</div>
If the specified file does not exist, it will be created.  Note that unlike most commands run by  <b>sudo</b>, the editor is run with the invoking user's environment unmodified.  If, for some reason,  <b>sudo</b> is unable to update a file with its edited version, the user will receive a warning and the edited copy will remain in a temporary file.</div>
<dl>
<dt>
-g <i>group</i></dt>
<dd>
Normally, <b>sudo</b> runs a command with the primary group set to the one specified by the password database for the user the command is being run as (by default, root).  The  <b>-g</b> (<i>group</i>) option causes  <b>sudo</b> to run the command with the primary group set to <i>group</i> instead.  To specify a  <i>gid</i> instead of a <i>group name</i>, use  <i>#gid</i>.  When running commands as a <i>gid</i>, many shells require that the '#' be escaped with a backslash ('\').  If no  <b>-u</b> option is specified, the command will be run as the invoking user (not root).  In either case, the primary group will be set to  <i>group</i>.</dd>
</dl>
<dl>
<dt>
-H</dt>
<dd>
The <b>-H</b> (<i>HOME</i>) option requests that the security policy set the HOME environment variable to the home directory of the target user (root by default) as specified by the password database. Depending on the policy, this may be the default behavior.</dd>
</dl>
<dl>
<dt>
-h</dt>
<dd>
The <b>-h</b> (<i>help</i>) option causes <b>sudo</b> to print a short help message to the standard output and exit.</dd>
</dl>
<dl>
<dt>
-i [command]</dt>
<dd>
The <b>-i</b> (<i>simulate initial login</i>) option runs the shell specified by the password database entry of the target user as a login shell. This means that login-specific resource files such as .profile or .login will be read by the shell.  If a command is specified, it is passed to the shell for execution via the shell's  <b>-c</b> option. If no command is specified, an interactive shell is executed.  <b>sudo</b> attempts to change to that user's home directory before running the shell.  The security policy shall initialize the environment to a minimal set of variables, similar to what is present when a user logs in.  The  <i>Command Environment</i> section in the  <i>sudoers</i>(5) manual documents how the <b>-i</b> option affects the environment in which a command is run when the  <i>sudoers</i> policy is in use.</dd>
</dl>
<dl>
<dt>
-K</dt>
<dd>
The <b>-K</b> (sure <i>kill</i>) option is like <b>-k</b> except that it removes the user's cached credentials entirely and may not be used in conjunction with a command or other option.  This option does not require a password.  Not all security policies support credential caching.</dd>
</dl>
<dl>
<dt>
-k [command]</dt>
<dd>
When used alone, the <b>-k</b> (<i>kill</i>) option to <b>sudo</b> invalidates the user's cached credentials.  The next time  <b>sudo</b> is run a password will be required.  This option does not require a password and was added to allow a user to revoke  <b>sudo</b> permissions from a .logout file.  Not all security policies support credential caching.<div style="height: 1.00em;">
&#160;</div>
When used in conjunction with a command or an option that may require a password, the  <b>-k</b> option will cause <b>sudo</b> to ignore the user's cached credentials.  As a result,  <b>sudo</b> will prompt for a password (if one is required by the security policy) and will not update the user's cached credentials.</dd>
</dl>
<dl>
<dt>
-l[l] [<i>command</i>]</dt>
<dd>
If no <i>command</i> is specified, the <b>-l</b> (<i>list</i>) option will list the allowed (and forbidden) commands for the invoking user (or the user specified by the  <b>-U</b> option) on the current host.  If a  <i>command</i> is specified and is permitted by the security policy, the fully-qualified path to the command is displayed along with any command line arguments.  If  <i>command</i> is specified but not allowed,  <b>sudo</b> will exit with a status value of 1.  If the <b>-l</b> option is specified with an  <b>l</b> argument (i.e. <b>-ll</b>), or if <b>-l</b> is specified multiple times, a longer list format is used.</dd>
</dl>
<dl>
<dt>
-n</dt>
<dd>
The <b>-n</b> (<i>non-interactive</i>) option prevents <b>sudo</b> from prompting the user for a password.  If a password is required for the command to run,  <b>sudo</b> will display an error messages and exit.</dd>
</dl>
<dl>
<dt>
-P</dt>
<dd>
The <b>-P</b> (<i>preserve</i> <i>group vector</i>) option causes <b>sudo</b> to preserve the invoking user's group vector unaltered.  By default, the  <i>sudoers</i> policy will initialize the group vector to the list of groups the target user is in.  The real and effective group IDs, however, are still set to match the target user.</dd>
</dl>
<dl>
<dt>
-p <i>prompt</i></dt>
<dd>
The <b>-p</b> (<i>prompt</i>) option allows you to override the default password prompt and use a custom one.  The following percent (`%') escapes are supported by the  <i>sudoers</i> policy:</dd>
</dl>
<div style="margin-left: 12.00ex;">
<dl>
<dt>
%H</dt>
<dd>
expanded to the host name including the domain name (on if the machine's host name is fully qualified or the  <i>fqdn</i> option is set in  <i>sudoers</i>(5))</dd>
</dl>
<dl>
<dt>
%h</dt>
<dd>
expanded to the local host name without the domain name</dd>
</dl>
<dl>
<dt>
%p</dt>
<dd>
expanded to the name of the user whose password is being requested (respects the  <i>rootpw</i>, <i>targetpw</i> and <i>runaspw</i> flags in  <i>sudoers</i>(5))</dd>
</dl>
<dl>
<dt>
%U</dt>
<dd>
expanded to the login name of the user the command will be run as (defaults to root unless the -u option is also specified)</dd>
</dl>
<dl>
<dt>
%u</dt>
<dd>
expanded to the invoking user's login name</dd>
</dl>
<dl>
<dt>
%%</dt>
<dd>
two consecutive % characters are collapsed into a single % character</dd>
</dl>
</div>
<div style="margin-left: 12.00ex;">
<div style="height: 1.00em;">
&#160;</div>
The prompt specified by the <b>-p</b> option will override the system password prompt on systems that support PAM unless the  <i>passprompt_override</i> flag is disabled in <i>sudoers</i>.</div>
<dl>
<dt>
-S</dt>
<dd>
The <b>-S</b> (<i>stdin</i>) option causes <b>sudo</b> to read the password from the standard input instead of the terminal device.  The password must be followed by a newline character.</dd>
</dl>
<dl>
<dt>
-s [command]</dt>
<dd>
The <b>-s</b> (<i>shell</i>) option runs the shell specified by the <i>SHELL</i> environment variable if it is set or the shell as specified in the password database.  If a command is specified, it is passed to the shell for execution via the shell's  <b>-c</b> option.  If no command is specified, an interactive shell is executed.</dd>
</dl>
<dl>
<dt>
-U <i>user</i></dt>
<dd>
The <b>-U</b> (<i>other user</i>) option is used in conjunction with the  <b>-l</b> option to specify the user whose privileges should be listed. The security policy may restrict listing other users' privileges. The  <i>sudoers</i> policy only allows root or a user with the ALL privilege on the current host to use this option.</dd>
</dl>
<dl>
<dt>
-u <i>user</i></dt>
<dd>
The <b>-u</b> (<i>user</i>) option causes <b>sudo</b> to run the specified command as a user other than  <i>root</i>.  To specify a <i>uid</i> instead of a  <i>user name</i>, use <i>#uid</i>.  When running commands as a <i>uid</i>, many shells require that the '#' be escaped with a backslash ('\'). Security policies may restrict  <i>uid</i>s to those listed in the password database.  The  <i>sudoers</i> policy allows <i>uid</i>s that are not in the password database as long as the  <i>targetpw</i> option is not set.  Other security policies may not support this.</dd>
</dl>
<dl>
<dt>
-V</dt>
<dd>
The <b>-V</b> (<i>version</i>) option causes <b>sudo</b> to print its version string and the version string of the security policy plugin and any I/O plugins.  If the invoking user is already root the  <b>-V</b> option will display the arguments passed to configure when  <i>sudo</i> was built and plugins may display more verbose information such as default options.</dd>
</dl>
<dl>
<dt>
-v</dt>
<dd>
When given the <b>-v</b> (<i>validate</i>) option, <b>sudo</b> will update the user's cached credentials, authenticating the user's password if necessary.  For the  <i>sudoers</i> plugin, this extends the <b>sudo</b> timeout for another 15 minutes (or whatever the timeout is set to in  <i>sudoers</i>) but does not run a command.  Not all security policies support cached credentials.</dd>
</dl>
<dl>
<dt>
--</dt>
<dd>
The <b>--</b> option indicates that <b>sudo</b> should stop processing command line arguments.</dd>
</dl>
<div class="spacer">
</div>
Environment variables to be set for the command may also be passed on the command line in the form of  <b>VAR</b>=<i>value</i>, e.g.  <b>LD_LIBRARY_PATH</b>=<i>/usr/local/pkg/lib</i>.  Variables passed on the command line are subject to the same restrictions as normal environment variables with one important exception.  If the  <i>setenv</i> option is set in  <i>sudoers</i>, the command to be run has the SETENV tag set or the command matched is ALL, the user may set variables that would overwise be forbidden.  See  <i>sudoers</i>(5) for more information.</div>
<div class="section">
<h1>PLUGINS</h1> Plugins are dynamically loaded based on the contents of the  <i>/etc/sudo.conf</i> file.  If no <i>/etc/sudo.conf</i> file is present, or it contains no Plugin lines,  <b>sudo</b> will use the traditional  <i>sudoers</i> security policy and I/O logging, which corresponds to the following  <i>/etc/sudo.conf</i> file.<div class="spacer">
</div>
<br/>
 #<br/>
 # Default /etc/sudo.conf file<br/>
 #<br/>
 # Format:<br/>
 #   Plugin plugin_name plugin_path<br/>
 #   Path askpass /path/to/askpass<br/>
 #   Path noexec /path/to/noexec.so<br/>
 #<br/>
 # The plugin_path is relative to /usr/libexec unless<br/>
 #   fully qualified.<br/>
 # The plugin_name corresponds to a global symbol in the plugin<br/>
 #   that contains the plugin interface structure.<br/>
 #<br/>
 Plugin policy_plugin sudoers.so<br/>
 Plugin io_plugin sudoers.so<br/>
<div class="spacer">
</div>
A Plugin line consists of the Plugin keyword, followed by the  <i>symbol_name</i> and the <i>path</i> to the shared object containing the plugin.  The  <i>symbol_name</i> is the name of the struct policy_plugin or struct io_plugin in the plugin shared object.  The  <i>path</i> may be fully qualified or relative.  If not fully qualified it is relative to the  <i>/usr/libexec</i> directory.  Any additional parameters after the  <i>path</i> are ignored.  Lines that don't begin with Plugin or Path are silently ignored<div class="spacer">
</div>
For more information, see the <i>sudo_plugin</i>(8) manual.</div>
<div class="section">
<h1>PATHS</h1> A Path line consists of the Path keyword, followed by the name of the path to set and its value.  E.g.<div class="spacer">
</div>
<br/>
 Path noexec /usr/lib/sudo/sudo_noexec.so<br/>
 Path askpass /usr/X11R6/bin/ssh-askpass<br/>
<div class="spacer">
</div>
The following plugin-agnostic paths may be set in the  <i>/etc/sudo.conf</i> file.<dl>
<dt>
askpass</dt>
<dd>
The fully qualified path to a helper program used to read the user's password when no terminal is available.  This may be the case when  <b>sudo</b> is executed from a graphical (as opposed to text-based) application.  The program specified by  <i>askpass</i> should display the argument passed to it as the prompt and write the user's password to the standard output.  The value of  <i>askpass</i> may be overridden by the SUDO_ASKPASS environment variable.</dd>
</dl>
<dl>
<dt>
noexec</dt>
<dd>
The fully-qualified path to a shared library containing dummy versions of the  <i>execv()</i>, <i>execve()</i> and <i>fexecve()</i> library functions that just return an error.  This is used to implement the  <i>noexec</i> functionality on systems that support LD_PRELOAD or its equivalent. Defaults to  <i>/usr/lib/sudo/sudo_noexec.so</i>.</dd>
</dl>
</div>
<div class="section">
<h1>RETURN VALUES</h1> Upon successful execution of a program, the exit status from  <b>sudo</b> will simply be the exit status of the program that was executed.<div class="spacer">
</div>
Otherwise, <b>sudo</b> exits with a value of 1 if there is a configuration/permission problem or if  <b>sudo</b> cannot execute the given command.  In the latter case the error string is printed to the standard error.  If  <b>sudo</b> cannot <i>stat</i>(2) one or more entries in the user's PATH, an error is printed on stderr.  (If the directory does not exist or if it is not really a directory, the entry is ignored and no error is printed.)  This should not happen under normal circumstances.  The most common reason for  <i>stat</i>(2) to return &quot;permission denied&quot; is if you are running an automounter and one of the directories in your PATH is on a machine that is currently unreachable.</div>
<div class="section">
<h1>SECURITY NOTES</h1>  <b>sudo</b> tries to be safe when executing external commands.<div class="spacer">
</div>
To prevent command spoofing, <b>sudo</b> checks &quot;.&quot; and &quot;&quot; (both denoting current directory) last when searching for a command in the user's PATH (if one or both are in the PATH).  Note, however, that the actual PATH environment variable is  <i>not</i> modified and is passed unchanged to the program that  <b>sudo</b> executes.<div class="spacer">
</div>
Please note that <b>sudo</b> will normally only log the command it explicitly runs.  If a user runs a command such as sudo su or sudo sh, subsequent commands run from that shell are not subject to  <b>sudo</b>'s security policy.  The same is true for commands that offer shell escapes (including most editors).  If I/O logging is enabled, subsequent commands will have their input and/or output logged, but there will not be traditional logs for those commands. Because of this, care must be taken when giving users access to commands via  <b>sudo</b> to verify that the command does not inadvertently give the user an effective root shell.  For more information, please see the PREVENTING SHELL ESCAPES section in  <i>sudoers</i>(5).</div>
<div class="section">
<h1>ENVIRONMENT</h1>  <b>sudo</b> utilizes the following environment variables.  The security policy has control over the content of the command's environment.<dl>
<dt>
EDITOR</dt>
<dd>
Default editor to use in <b>-e</b> (sudoedit) mode if neither SUDO_EDITOR nor VISUAL is set</dd>
</dl>
<dl>
<dt>
MAIL</dt>
<dd>
In <b>-i</b> mode or when <i>env_reset</i> is enabled in <i>sudoers</i>, set to the mail spool of the target user</dd>
</dl>
<dl>
<dt>
HOME</dt>
<dd>
Set to the home directory of the target user if <b>-i</b> or <b>-H</b> are specified,  <i>env_reset</i> or <i>always_set_home</i> are set in <i>sudoers</i>, or when the  <b>-s</b> option is specified and <i>set_home</i> is set in  <i>sudoers</i></dd>
</dl>
<dl>
<dt>
PATH</dt>
<dd>
May be overridden by the security policy.</dd>
</dl>
<dl>
<dt>
SHELL</dt>
<dd>
Used to determine shell to run with -s option</dd>
</dl>
<dl>
<dt>
SUDO_ASKPASS</dt>
<dd>
Specifies the path to a helper program used to read the password if no terminal is available or if the -A option is specified.</dd>
</dl>
<dl>
<dt>
SUDO_COMMAND</dt>
<dd>
Set to the command run by sudo</dd>
</dl>
<dl>
<dt>
SUDO_EDITOR</dt>
<dd>
Default editor to use in <b>-e</b> (sudoedit) mode</dd>
</dl>
<dl>
<dt>
SUDO_GID</dt>
<dd>
Set to the group ID of the user who invoked sudo</dd>
</dl>
<dl>
<dt>
SUDO_PROMPT</dt>
<dd>
Used as the default password prompt</dd>
</dl>
<dl>
<dt>
SUDO_PS1</dt>
<dd>
If set, PS1 will be set to its value for the program being run</dd>
</dl>
<dl>
<dt>
SUDO_UID</dt>
<dd>
Set to the user ID of the user who invoked sudo</dd>
</dl>
<dl>
<dt>
SUDO_USER</dt>
<dd>
Set to the login of the user who invoked sudo</dd>
</dl>
<dl>
<dt>
USER</dt>
<dd>
Set to the target user (root unless the <b>-u</b> option is specified)</dd>
</dl>
<dl>
<dt>
VISUAL</dt>
<dd>
Default editor to use in <b>-e</b> (sudoedit) mode if SUDO_EDITOR is not set</dd>
</dl>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<i>/etc/sudo.conf</i></dt>
<dd>
<b>sudo</b> plugin and path configuration</dd>
</dl>
</div>
<div class="section">
<h1>EXAMPLES</h1> Note: the following examples assume a properly configured security policy.<div class="spacer">
</div>
To get a file listing of an unreadable directory:<div class="spacer">
</div>
<br/>
 $ sudo ls /usr/local/protected<br/>
<div class="spacer">
</div>
To list the home directory of user yaz on a machine where the file system holding ~yaz is not exported as root:<div class="spacer">
</div>
<br/>
 $ sudo -u yaz ls ~yaz<br/>
<div class="spacer">
</div>
To edit the <i>index.html</i> file as user www:<div class="spacer">
</div>
<br/>
 $ sudo -u www vi ~www/htdocs/index.html<br/>
<div class="spacer">
</div>
To view system logs only accessible to root and users in the adm group:<div class="spacer">
</div>
<br/>
 $ sudo -g adm view /var/log/syslog<br/>
<div class="spacer">
</div>
To run an editor as jim with a different primary group:<div class="spacer">
</div>
<br/>
 $ sudo -u jim -g audio vi ~jim/sound.txt<br/>
<div class="spacer">
</div>
To shutdown a machine:<div class="spacer">
</div>
<br/>
 $ sudo shutdown -r +15 &quot;quick reboot&quot;<br/>
<div class="spacer">
</div>
To make a usage listing of the directories in the /home partition.  Note that this runs the commands in a sub-shell to make the cd and file redirection work.<div class="spacer">
</div>
<br/>
 $ sudo sh -c &quot;cd /home ; du -s * | sort -rn &gt; USAGE&quot;<br/>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>grep</i>(1), <i>su</i>(1), <i>stat</i>(2),  <i>passwd</i>(5), <i>sudoers</i>(5), <i>sudo_plugin</i>(8), <i>sudoreplay</i>(8), <i>visudo</i>(8)</div>
<div class="section">
<h1>AUTHORS</h1> Many people have worked on  <b>sudo</b> over the years; this version consists of code written primarily by:<div class="spacer">
</div>
<br/>
        Todd C. Miller<br/>
<div class="spacer">
</div>
See the HISTORY file in the <b>sudo</b> distribution or visit http://www.sudo.ws/sudo/history.html for a short history of  <b>sudo</b>.</div>
<div class="section">
<h1>CAVEATS</h1> There is no easy way to prevent a user from gaining a root shell if that user is allowed to run arbitrary commands via  <b>sudo</b>. Also, many programs (such as editors) allow the user to run commands via shell escapes, thus avoiding  <b>sudo</b>'s checks.  However, on most systems it is possible to prevent shell escapes with the  <i>sudoers</i>(5) module's <i>noexec</i> functionality.<div class="spacer">
</div>
It is not meaningful to run the cd command directly via sudo, e.g.,<div class="spacer">
</div>
<br/>
 $ sudo cd /usr/local/protected<br/>
<div class="spacer">
</div>
since when the command exits the parent process (your shell) will still be the same.  Please see the EXAMPLES section for more information.<div class="spacer">
</div>
Running shell scripts via <b>sudo</b> can expose the same kernel bugs that make setuid shell scripts unsafe on some operating systems (if your OS has a /dev/fd/ directory, setuid shell scripts are generally safe).</div>
<div class="section">
<h1>BUGS</h1> If you feel you have found a bug in  <b>sudo</b>, please submit a bug report at http://www.sudo.ws/sudo/bugs/</div>
<div class="section">
<h1>SUPPORT</h1> Limited free support is available via the sudo-users mailing list, see http://www.sudo.ws/mailman/listinfo/sudo-users to subscribe or search the archives.</div>
<div class="section">
<h1>DISCLAIMER</h1>  <b>sudo</b> is provided ``AS IS'' and any express or implied warranties, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose are disclaimed.  See the LICENSE file distributed with  <b>sudo</b> or http://www.sudo.ws/sudo/license.html for complete details.</div>
<table class="foot">
<tr>
<td class="foot-date">
September 16, 2011</td>
<td class="foot-os">
1.8.3</td>
</tr>
</table>
</div>
</body>
</html>

