<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
PAM_UMASK(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
PAM_UMASK(8)</td>
<td class="head-vol">
Linux-PAM Manual</td>
<td class="head-rtitle">
PAM_UMASK(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> pam_umask - PAM module to set the file mode creation mask</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 14.00ex;text-indent: -14.00ex;" class="spacer">
<b>pam_umask.so</b> [debug] [silent] [usergroups] [umask=<i>mask</i>]</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> pam_umask is a PAM module to set the file mode creation mask of the current environment. The umask affects the default permissions assigned to newly created files.<div class="spacer">
</div>
The PAM module tries to get the umask value from the following places in the following order:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;umask= argument</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;umask= entry of the users GECOS field</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;pri= entry of the users GECOS field</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;ulimit= entry of the users GECOS field</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;UMASK= entry from /etc/default/login</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;UMASK entry from /etc/login.defs (influenced by USERGROUPS_ENAB in /etc/login.defs)</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1>  <b>debug</b><div style="margin-left: 4.00ex;">
Print debug information.</div>
<div class="spacer">
</div>
<b>silent</b><div style="margin-left: 4.00ex;">
Don't print informative messages.</div>
<div class="spacer">
</div>
<b>usergroups</b><div style="margin-left: 4.00ex;">
If the user is not root and the username is the same as primary group name, the umask group bits are set to be the same as owner bits (examples: 022 -&gt; 002, 077 -&gt; 007). Note that using this option explicitly is discouraged. pam_umask enables this functionality by default if /etc/login.defs enables USERGROUPS_ENAB, and the umask is not set explicitly in other places than /etc/login.defs (this is compatible with login's behaviour without PAM).</div>
<div class="spacer">
</div>
<b>umask=</b><b></b><i>mask</i><div style="margin-left: 4.00ex;">
Sets the calling process's file mode creation mask (umask) to  <b>mask</b> &amp; 0777. The value is interpreted as Octal.</div>
</div>
<div class="section">
<h1>MODULE TYPES PROVIDED</h1> Only the  <b>session</b> type is provided.</div>
<div class="section">
<h1>RETURN VALUES</h1> PAM_SUCCESS<div style="margin-left: 4.00ex;">
The new umask was set successfully.</div>
<div class="spacer">
</div>
PAM_SERVICE_ERR<div style="margin-left: 4.00ex;">
No username was given.</div>
<div class="spacer">
</div>
PAM_USER_UNKNOWN<div style="margin-left: 4.00ex;">
User not known.</div>
</div>
<div class="section">
<h1>EXAMPLES</h1> Add the following line to /etc/pam.d/login to set the user specific umask at login:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
        session optional pam_umask.so umask=0022<br/>
      <br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>pam.conf</b>(5),  <b>pam.d</b>(5),  <b>pam</b>(7)</div>
<div class="section">
<h1>AUTHOR</h1> pam_umask was written by Thorsten Kukuk &lt;kukuk@thkukuk.de&gt;.</div>
<table class="foot">
<tr>
<td class="foot-date">
03/17/2016</td>
<td class="foot-os">
Linux-PAM Manual</td>
</tr>
</table>
</div>
</body>
</html>

