<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
NTPD(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
NTPD(8)</td>
<td class="head-vol">
The Network Time Protocol (NTP) Distribution</td>
<td class="head-rtitle">
NTPD(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ntpd - Network Time Protocol (NTP) daemon</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>ntpd</b> [ -46aAbgLmnNqx ] [ -c  <i>conffile</i> ] [ -f  <i>driftfile</i> ] [ -i  <i>jaildir</i> ] [ -k  <i>keyfile</i> ] [ -l  <i>logfile</i> ] [ -p  <i>pidfile</i> ] [ -P  <i>priority</i> ] [ -r  <i>broadcastdelay</i> ] [ -s  <i>statsdir</i> ] [ -t  <i>key</i> ] [ -u  <i>user</i>[:<i>group</i>] ] [ -U  <i>interface_update_interval</i> ] [ -v  <i>variable</i> ] [ -V  <i>variable</i> ]</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <b>ntpd</b> program is an operating system daemon which sets and maintains the system time of day in synchronism with Internet standard time servers. It is a complete implementation of the Network Time Protocol (NTP) version 4, but also retains compatibility with version 3, as defined by RFC-1305, and version 1 and 2, as defined by RFC-1059 and RFC-1119, respectively.  <b>ntpd</b> does most computations in 64-bit floating-point arithmetic and does relatively clumsy 64-bit fixed-point operations only when necessary to preserve the ultimate precision, about 232 picoseconds. While the ultimate precision is not achievable with ordinary workstations and networks of today, it may be required with future gigahertz CPU clocks and gigabit LANs.<div class="spacer">
</div>
The daemon can operate in any of several modes, including symmetric active/passive, client/server broadcast/multicast and manycast.  A broadcast/multicast or manycast client can discover remote servers, compute server-client propagation delay correction factors and configure itself automatically.  This makes it possible to deploy a fleet of workstations without specifying configuration details specific to the local environment.<div class="spacer">
</div>
Ordinarily, <b>ntpd</b> reads the <i>ntp.conf</i> configuration file at startup time in order to determine the synchronization sources and operating modes. It is also possible to specify a working, although limited configuration entirely on the command line, obviating the need for a configuration file.  This may be particularly appropriate when the local host is to be configured as a broadcast/multicast client or manycast client, with all peers being determined by listening to broadcasts at run time.<div class="spacer">
</div>
Various internal <b>ntpd</b> variables can be displayed and configuration options altered while the daemon is running using the <b>ntpq</b> and <b>ntpd</b> utility programs.<div class="spacer">
</div>
When <b>ntpd</b> starts it looks at the value of umask, and if it is zero <b>ntpd</b> will set the umask to 0222.</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>-a</b></dt>
<dd>
Require cryptographic authentication for broadcast client, multicast client and symmetric passive associations. This is the default.</dd>
</dl>
<dl>
<dt>
<b>-A</b></dt>
<dd>
Do not require cryptographic authentication for broadcast client, multicast client and symmetric passive associations. This is almost never a good idea.</dd>
</dl>
<dl>
<dt>
<b>-b</b></dt>
<dd>
Enable the client to synchronize to broadcast servers.</dd>
</dl>
<dl>
<dt>
<b>-c</b> <i>conffile</i></dt>
<dd>
Specify the name and path of the configuration file, default <i>/etc/ntp.conf</i>.</dd>
</dl>
<dl>
<dt>
<b>-f</b> <i>driftfile</i></dt>
<dd>
Specify the name and path of the frequency file, default <i>/etc/ntp.drift</i>. This is the same operation as the driftfile  <i>driftfile</i> configuration command.</dd>
</dl>
<dl>
<dt>
<b>-g</b></dt>
<dd>
Normally, <b>ntpd</b> exits with a message to the system log if the offset exceeds the panic threshold, which is 1000 s by default. This option allows the time to be set to any value without restriction; however, this can happen only once. If the threshold is exceeded after that,  <b>ntpd</b> will exit with a message to the system log. This option can be used with the  <b>-q</b> and <b>-x</b> options.</dd>
</dl>
<dl>
<dt>
<b>-i</b> <i>jaildir</i></dt>
<dd>
Chroot the server to the directory <i>jaildir</i>. This option also implies that the server attempts to drop root privileges at startup (otherwise, chroot gives very little additional security). You may need to also specify a  <b>-u</b> option.</dd>
</dl>
<dl>
<dt>
<b>-I [<i>address</i> | <i>interface name</i>]</b></dt>
<dd>
Open the network address given, or all the addresses associated with the given interface name.  This option may appear multiple times. This option also implies not opening other addresses, except wildcard and localhost.  This option is deprecated.  Please consider using the configuration file  <b>interface</b> command, which is more versatile.</dd>
</dl>
<dl>
<dt>
<b>-k</b> <i>keyfile</i></dt>
<dd>
Specify the name and path of the symmetric key file, default <i>/etc/ntp.keys</i>. This is the same operation as the keys  <i>keyfile</i> configuration command.</dd>
</dl>
<dl>
<dt>
<b>-l</b> <i>logfile</i></dt>
<dd>
Specify the name and path of the log file. The default is the system log file. This is the same operation as the logfile  <i>logfile</i> configuration command.</dd>
</dl>
<dl>
<dt>
<b>-L</b></dt>
<dd>
Do not listen to virtual IPs. The default is to listen.</dd>
</dl>
<dl>
<dt>
<b>-n</b></dt>
<dd>
Don't fork.</dd>
</dl>
<dl>
<dt>
<b>-N</b></dt>
<dd>
To the extent permitted by the operating system, run the <b>ntpd</b> at the highest priority.</dd>
</dl>
<dl>
<dt>
<b>-p</b> <i>pidfile</i></dt>
<dd>
Specify the name and path of the file used to record the <b>ntpd</b> process ID. This is the same operation as the pidfile  <i>pidfile</i> configuration command.</dd>
</dl>
<dl>
<dt>
<b>-P</b> <i>priority</i></dt>
<dd>
To the extent permitted by the operating system, run the <b>ntpd</b> at the specified priority.</dd>
</dl>
<dl>
<dt>
<b>-q</b></dt>
<dd>
Exit the <b>ntpd</b> just after the first time the clock is set. This behavior mimics that of the  <b>ntpdate</b> program, which is to be retired. The  <b>-g</b> and <b>-x</b> options can be used with this option. Note: The kernel time discipline is disabled with this option.</dd>
</dl>
<dl>
<dt>
<b>-r</b> <i>broadcastdelay</i></dt>
<dd>
Specify the default propagation delay from the broadcast/multicast server to this client. This is necessary only if the delay cannot be computed automatically by the protocol.</dd>
</dl>
<dl>
<dt>
<b>-s</b> <i>statsdir</i></dt>
<dd>
Specify the directory path for files created by the statistics facility. This is the same operation as the statsdir  <i>statsdir</i> configuration command.</dd>
</dl>
<dl>
<dt>
<b>-t</b> <i>key</i></dt>
<dd>
Add a key number to the trusted key list. This option can occur more than once.</dd>
</dl>
<dl>
<dt>
<b>-u</b> <i>user</i>[:<i>group</i>]</dt>
<dd>
Specify a user, and optionally a group, to switch to.</dd>
</dl>
<dl>
<dt>
<b>-U</b> <i>interface_update_interval</i></dt>
<dd>
Number of seconds to wait between interface list scans to pick up new and delete network interface. Set to 0 to disable dynamic interface list updating. The default is to scan every 5 minutes.</dd>
</dl>
<dl>
<dt>
<b>-v</b> <i>variable</i>, <b>-V</b> <i>variable</i></dt>
<dd>
Add a system variable listed by default.</dd>
</dl>
<dl>
<dt>
<b>-x</b></dt>
<dd>
Normally, the time is slewed if the offset is less than the step threshold, which is 128 ms by default, and stepped if above the threshold. This option sets the threshold to 600 s, which is well within the accuracy window to set the clock manually. Note: Since the slew rate of typical Unix kernels is limited to 0.5 ms/s, each second of adjustment requires an amortization interval of 2000 s. Thus, an adjustment as much as 600 s will take almost 14 days to complete. This option can be used with the  <b>-g</b> and <b>-q</b> options. Note: The kernel time discipline is disabled with this option.</dd>
</dl>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<i>/etc/ntp.conf</i></dt>
<dd>
default name of the configuration file</dd>
</dl>
<dl>
<dt>
<i>/etc/ntp.drift</i></dt>
<dd>
default name of the drift file</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>ntp.conf</b>(5), <b>ntpdate</b>(8)<div class="spacer">
</div>
The complete documentation can be found at <i>/usr/share/doc/ntp-doc/html/ntpd.html</i> in the package ntp-doc.</div>
<table class="foot">
<tr>
<td class="foot-date">
2007-12-07</td>
<td class="foot-os">
Debian</td>
</tr>
</table>
</div>
</body>
</html>

