<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
SULOGIN(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SULOGIN(8)</td>
<td class="head-vol">
Linux System Administrator's Manual</td>
<td class="head-rtitle">
SULOGIN(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sulogin - Single-user login</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>sulogin</b> [  <b>-e</b> ] [  <b>-p</b> ] [  <b>-t</b> <i>SECONDS</i> ] [  <i>TTY</i> ]</div>
<div class="section">
<h1>DESCRIPTION</h1> <i>sulogin</i> is invoked by  <b>init(8)</b> when the system goes into single user mode. (This is done through an entry in  <i>inittab(5)</i>.)  <b>Init</b> also tries to execute  <i>sulogin</i> when the boot loader (e.g.,  <b>grub</b>(8)) passes it the  <b>-b</b> option.<div class="spacer">
</div>
The user is prompted<dl>
<dt>
<div class="spacer">
</div>
</dt>
<dd>
Give root password for system maintenance<div style="height: 0.00em;">
&#160;</div>
(or type Control-D for normal startup):</dd>
</dl>
<div class="spacer">
</div>
If the root account is locked, as is the default on Ubuntu, no password prompt is displayed and  <i>sulogin</i> behaves as if the correct password were entered.<div class="spacer">
</div>
<i>sulogin</i> will be connected to the current terminal, or to the optional device that can be specified on the command line (typically  <b>/dev/console</b>).<div class="spacer">
</div>
If the <b>-t</b> option is used then the program only waits the given number of seconds for user input.<div class="spacer">
</div>
If the <b>-p</b> option is used then the single-user shell is invoked with a  <i>dash</i> as the first character in <i>argv[0]</i>. This causes the shell process to behave as a login shell. The default is  <i>not</i> to do this, so that the shell will  <i>not</i> read <b>/etc/profile</b> or  <b>$HOME/.profile</b> at startup.<div class="spacer">
</div>
After the user exits the single-user shell, or presses control-D at the prompt, the system will (continue to) boot to the default runlevel.</div>
<div class="section">
<h1>ENVIRONMENT VARIABLES</h1>  <i>sulogin</i> looks for the environment variable <b>SUSHELL</b> or  <b>sushell</b> to determine what shell to start. If the environment variable is not set, it will try to execute root's shell from /etc/passwd. If that fails it will fall back to  <b>/bin/sh</b>.<div class="spacer">
</div>
This is very valuable together with the <b>-b</b> option to init. To boot the system into single user mode, with the root file system mounted read/write, using a special &quot;fail safe&quot; shell that is statically linked (this example is valid for the LILO bootprompt)<div class="spacer">
</div>
boot: linux -b rw sushell=/sbin/sash</div>
<div class="section">
<h1>FALLBACK METHODS</h1>  <i>sulogin</i> checks the root password using the standard method (getpwnam) first. Then, if the  <b>-e</b> option was specified,  <i>sulogin</i> examines these files directly to find the root password:<div class="spacer">
</div>
/etc/passwd,<div style="height: 0.00em;">
&#160;</div>
/etc/shadow (if present)<div class="spacer">
</div>
If they are damaged or nonexistent, sulogin will start a root shell without asking for a password. Only use the  <b>-e</b> option if you are sure the console is physically protected against unauthorized access.</div>
<div class="section">
<h1>AUTHOR</h1> Miquel van Smoorenburg &lt;miquels@cistron.nl&gt;</div>
<div class="section">
<h1>SEE ALSO</h1> init(8), inittab(5).</div>
<table class="foot">
<tr>
<td class="foot-date">
17 Jan 2006</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

