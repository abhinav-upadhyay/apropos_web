<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
PAM_EXEC(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
PAM_EXEC(8)</td>
<td class="head-vol">
Linux-PAM Manual</td>
<td class="head-rtitle">
PAM_EXEC(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> pam_exec - PAM module which calls an external command</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 13.00ex;text-indent: -13.00ex;" class="spacer">
<b>pam_exec.so</b> [debug] [expose_authtok] [seteuid] [quiet] [log=<i>file</i>] <i>command</i> [<i>...</i>]</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> pam_exec is a PAM module that can be used to run an external command.<div class="spacer">
</div>
The child's environment is set to the current PAM environment list, as returned by  <b>pam_getenvlist</b>(3) In addition, the following PAM items are exported as environment variables:  <i>PAM_RHOST</i>,  <i>PAM_RUSER</i>,  <i>PAM_SERVICE</i>,  <i>PAM_TTY</i>,  <i>PAM_USER</i> and  <i>PAM_TYPE</i>, which contains one of the module types:  <b>account</b>,  <b>auth</b>,  <b>password</b>,  <b>open_session</b> and  <b>close_session</b>.<div class="spacer">
</div>
Commands called by pam_exec need to be aware of that the user can have controll over the environment.</div>
<div class="section">
<h1>OPTIONS</h1>  <b>debug</b><div style="margin-left: 4.00ex;">
Print debug information.</div>
<div class="spacer">
</div>
<b>expose_authtok</b><div style="margin-left: 4.00ex;">
During authentication the calling command can read the password from  <b>stdin</b>(3). Only first  <i>PAM_MAX_RESP_SIZE</i> bytes of a password are provided to the command.</div>
<div class="spacer">
</div>
<b>log=</b><b></b><i>file</i><div style="margin-left: 4.00ex;">
The output of the command is appended to file</div>
<div class="spacer">
</div>
<b>quiet</b><div style="margin-left: 4.00ex;">
Per default pam_exec.so will echo the exit status of the external command if it fails. Specifying this option will suppress the message.</div>
<div class="spacer">
</div>
<b>seteuid</b><div style="margin-left: 4.00ex;">
Per default pam_exec.so will execute the external command with the real user ID of the calling process. Specifying this option means the command is run with the effective user ID.</div>
</div>
<div class="section">
<h1>MODULE TYPES PROVIDED</h1> All module types ( <b>auth</b>,  <b>account</b>,  <b>password</b> and  <b>session</b>) are provided.</div>
<div class="section">
<h1>RETURN VALUES</h1> PAM_SUCCESS<div style="margin-left: 4.00ex;">
The external command was run successfully.</div>
<div class="spacer">
</div>
PAM_SERVICE_ERR<div style="margin-left: 4.00ex;">
No argument or a wrong number of arguments were given.</div>
<div class="spacer">
</div>
PAM_SYSTEM_ERR<div style="margin-left: 4.00ex;">
A system error occurred or the command to execute failed.</div>
<div class="spacer">
</div>
PAM_IGNORE<div style="margin-left: 4.00ex;">
<b>pam_setcred</b> was called, which does not execute the command.</div>
</div>
<div class="section">
<h1>EXAMPLES</h1> Add the following line to /etc/pam.d/passwd to rebuild the NIS database after each local password change:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
        password optional pam_exec.so seteuid /usr/bin/make -C /var/yp<br/>
      <br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
This will execute the command<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
make -C /var/yp<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
with effective user ID.</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>pam.conf</b>(5),  <b>pam.d</b>(5),  <b>pam</b>(7)</div>
<div class="section">
<h1>AUTHOR</h1> pam_exec was written by Thorsten Kukuk &lt;kukuk@thkukuk.de&gt;.</div>
<table class="foot">
<tr>
<td class="foot-date">
03/17/2016</td>
<td class="foot-os">
Linux-PAM Manual</td>
</tr>
</table>
</div>
</body>
</html>

