<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
sudo_root(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
sudo_root(8)</td>
<td class="head-vol">
System Manager's Manual</td>
<td class="head-rtitle">
sudo_root(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sudo_root - How to run administrative commands<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>sudo</b> <i>command</i><div style="height: 1.00em;">
&#160;</div>
<b>sudo -i</b><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>INTRODUCTION</h1> By default, the password for the user &quot;root&quot; (the system administrator) is locked. This means you cannot login as root or use su. Instead, the installer will set up sudo to allow the user that is created during install to run all administrative commands.<div style="height: 1.00em;">
&#160;</div>
This means that in the terminal you can use sudo for commands that require root privileges. All programs in the menu will use a graphical sudo to prompt for a password. When sudo asks for a password, it needs <b>your password,</b> this means that a root password is not needed.<div style="height: 1.00em;">
&#160;</div>
To run a command which requires root privileges in a terminal, simply prepend <b>sudo</b> in front of it. To get an interactive root shell, use <b>sudo -i.</b><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>ALLOWING OTHER USERS TO RUN SUDO</h1> By default, only the user who installed the system is permitted to run sudo. To add more administrators, i. e. users who can run sudo, you have to add these users to the group 'admin' by doing one of the following steps:<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
*</dt>
<dd>
In a shell, do<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 4.00ex;">
<b>sudo adduser</b> <i>username</i> <b>admin</b></div>
<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
*</dt>
<dd>
Use the graphical &quot;Users &amp; Groups&quot; program in the &quot;System settings&quot; menu to add the new user to the <b>admin</b> group.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>BENEFITS OF USING SUDO</h1> The benefits of leaving root disabled by default include the following:<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
*</dt>
<dd>
Users do not have to remember an extra password, which they are likely to forget.</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
The installer is able to ask fewer questions.</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
It avoids the &quot;I can do anything&quot; interactive login by default - you will be prompted for a password before major changes can happen, which should make you think about the consequences of what you are doing.</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
Sudo adds a log entry of the command(s) run (in <b>/var/log/auth.log</b>).</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
Every attacker trying to brute-force their way into your box will know it has an account named root and will try that first. What they do not know is what the usernames of your other users are.</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
Allows easy transfer for admin rights, in a short term or long term period, by adding and removing users from the admin group, while not compromising the root account.</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
sudo can be set up with a much more fine-grained security policy.</dd>
</dl>
<dl>
<dt>
*</dt>
<dd>
On systems with more than one administrator using sudo avoids sharing a password amongst them.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>DOWNSIDES OF USING SUDO</h1> Although for desktops the benefits of using sudo are great, there are possible issues which need to be noted:<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
*</dt>
<dd>
Redirecting the output of commands run with sudo can be confusing at first. For instance consider<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 4.00ex;">
<b>sudo ls &gt; /root/somefile</b></div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 2.00ex;">
will not work since it is the shell that tries to write to that file. You can use</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<b>ls | sudo tee /root/somefile</b></div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 2.00ex;">
to get the behaviour you want.</div>
<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
*</dt>
<dd>
In a lot of office environments the ONLY local user on a system is root. All other users are imported using NSS techniques such as nss-ldap. To setup a workstation, or fix it, in the case of a network failure where nss-ldap is broken, root is required. This tends to leave the system unusable. An extra local user, or an enabled root password is needed here.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>GOING BACK TO A TRADITIONAL ROOT ACCOUNT</h1> <b>This is not recommended!</b><div style="height: 1.00em;">
&#160;</div>
To enable the root account (i.e. set a password) use:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<b>sudo passwd root</b></div>
<div style="height: 1.00em;">
&#160;</div>
Afterwards, edit the sudo configuration with <b>sudo visudo</b> and comment out the line<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
%admin  ALL=(ALL) ALL</div>
<div style="height: 1.00em;">
&#160;</div>
to disable sudo access to members of the admin group.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>sudo</b>(8), <b>https://wiki.ubuntu.com/RootSudo</b><div style="height: 1.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
February 8, 2006</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

