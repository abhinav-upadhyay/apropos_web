<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
PUPPET-DEVICE(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
PUPPET-DEVICE(8)</td>
<td class="head-vol">
Puppet manual</td>
<td class="head-rtitle">
PUPPET-DEVICE(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1>  <b>puppet-device</b> - Manage remote network devices</div>
<div class="section">
<h1>SYNOPSIS</h1> Retrieves all configurations from the puppet master and apply them to the remote devices configured in /etc/puppet/device.conf.<div class="spacer">
</div>
Currently must be run out periodically, using cron or something similar.</div>
<div class="section">
<h1>USAGE</h1> puppet device [-d|--debug] [--detailed-exitcodes] [-V|--version]<dl>
<dt>
<div class="spacer">
</div>
</dt>
<dd>
<div class="spacer">
</div>
<br/>
            [-h|--help] [-l|--logdest syslog|&lt;file&gt;|console]<br/>
            [-v|--verbose] [-w|--waitforcert &lt;seconds&gt;]<br/>
</dd>
</dl>
<dl>
<dt>
<div class="spacer">
</div>
</dt>
<dd>
</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Once the client has a signed certificate for a given remote device, it will retrieve its configuration and apply it.</div>
<div class="section">
<h1>USAGE NOTES</h1> One need a /etc/puppet/device.conf file with the following content:<div class="spacer">
</div>
[remote.device.fqdn] type <i>type</i> url <i>url</i><div class="spacer">
</div>
where: * type: the current device type (the only value at this time is cisco) * url: an url allowing to connect to the device<div class="spacer">
</div>
Supported url must conforms to: scheme://user:password@hostname/?query<div class="spacer">
</div>
with: * scheme: either ssh or telnet * user: username, can be omitted depending on the switch/router configuration * password: the connection password * query: this is device specific. Cisco devices supports an enable parameter whose value would be the enable password.</div>
<div class="section">
<h1>OPTIONS</h1> Note that any configuration parameter that&#180;s valid in the configuration file is also a valid long argument. For example, &#180;server&#180; is a valid configuration parameter, so you can specify &#180;--server  <i>servername</i>&#180; as an argument.<dl>
<dt>
--debug</dt>
<dd>
Enable full debugging.</dd>
</dl>
<dl>
<dt>
--detailed-exitcodes</dt>
<dd>
Provide transaction information via exit codes. If this is enabled, an exit code of &#180;2&#180; means there were changes, an exit code of &#180;4&#180; means there were failures during the transaction, and an exit code of &#180;6&#180; means there were both changes and failures.</dd>
</dl>
<dl>
<dt>
--help</dt>
<dd>
Print this help message</dd>
</dl>
<dl>
<dt>
--logdest</dt>
<dd>
Where to send messages. Choose between syslog, the console, and a log file. Defaults to sending messages to syslog, or the console if debugging or verbosity is enabled.</dd>
</dl>
<dl>
<dt>
--verbose</dt>
<dd>
Turn on verbose reporting.</dd>
</dl>
<dl>
<dt>
--waitforcert</dt>
<dd>
This option only matters for daemons that do not yet have certificates and it is enabled by default, with a value of 120 (seconds). This causes +puppet agent+ to connect to the server every 2 minutes and ask it to sign a certificate request. This is useful for the initial setup of a puppet client. You can turn off waiting for certificates by specifying a time of 0.</dd>
</dl>
</div>
<div class="section">
<h1>EXAMPLE</h1><div class="spacer">
</div>
<br/>
  $ puppet device --server puppet.domain.com<br/>
</div>
<div class="section">
<h1>AUTHOR</h1> Brice Figureau</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright (c) 2011 Puppet Labs, LLC Licensed under the Apache 2.0 License</div>
<table class="foot">
<tr>
<td class="foot-date">
January 2013</td>
<td class="foot-os">
Puppet Labs, LLC</td>
</tr>
</table>
</div>
</body>
</html>

