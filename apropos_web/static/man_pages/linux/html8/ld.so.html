<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
LD.SO(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LD.SO(8)</td>
<td class="head-vol">
System Manager's Manual</td>
<td class="head-rtitle">
LD.SO(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ld.so/ld-linux.so - dynamic linker/loader</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>ld.so</b> loads the shared libraries needed by a program, prepares the program to run, and then runs it. Unless explicitly specified via the <b>-static</b> option to <b>ld</b> during compilation, all Linux programs are incomplete and require further linking at run time.<div class="spacer">
</div>
The necessary shared libraries needed by the program are searched for in the following order<dl>
<dt>
o</dt>
<dd>
Using the environment variable <b>LD_LIBRARY_PATH</b> (<b>LD_AOUT_LIBRARY_PATH</b> for a.out programs). Except if the executable is a setuid/setgid binary, in which case it is ignored.</dd>
</dl>
<dl>
<dt>
o</dt>
<dd>
From the cache file <b>/etc/ld.so.cache</b> which contains a compiled list of candidate libraries previously found in the augmented library path. Libraries installed in hardware capabilities directories (see below) are prefered to other libraries.</dd>
</dl>
<dl>
<dt>
o</dt>
<dd>
In the default path <b>/lib</b>, and then <b>/usr/lib</b>.</dd>
</dl>
</div>
<div class="section">
<h1>COMMAND LINE OPTIONS</h1><dl>
<dt>
<b>--list</b></dt>
<dd>
List all dependencies and how they are resolved.</dd>
</dl>
<dl>
<dt>
<b>--verify</b></dt>
<dd>
Verify that program is dynamically linked and this dynamic linker can handle it.</dd>
</dl>
<dl>
<dt>
<b>--library-path PATH</b></dt>
<dd>
Override <b>LD_LIBRARY_PATH</b> environment variable setting (see below).</dd>
</dl>
<dl>
<dt>
<b>--ignore-rpath LIST</b></dt>
<dd>
Ignore RPATH and RUNPATH information in object names in LIST. This option has been supported by glibc2 for about one hour. Then it was renamed into:</dd>
</dl>
<dl>
<dt>
<b>--inhibit-rpath LIST</b></dt>
<dd>
</dd>
</dl>
</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>LD_LIBRARY_PATH</b></dt>
<dd>
A colon-separated list of directories in which to search for ELF libraries at execution-time. Similar to the <b>PATH</b> environment variable.</dd>
</dl>
<dl>
<dt>
<b>LD_PRELOAD</b></dt>
<dd>
A whitespace-separated list of additional, user-specified, ELF shared libraries to be loaded before all others. This can be used to selectively override functions in other shared libraries. For setuid/setgid ELF binaries, only libraries in the standard search directories that are also setgid will be loaded.</dd>
</dl>
<dl>
<dt>
<b>LD_TRACE_LOADED_OBJECTS</b></dt>
<dd>
If present, causes the program to list its dynamic library dependencies, as if run by ldd, instead of running normally.</dd>
</dl>
<dl>
<dt>
<b>LD_BIND_NOW</b></dt>
<dd>
If present, causes the dynamic linker to resolve all symbols at program startup instead of when they are first referenced.</dd>
</dl>
<dl>
<dt>
<b>LD_BIND_NOT</b></dt>
<dd>
Do not update the GOT (global offset table) and PLT (procedure linkage table) after resolving a symbol.</dd>
</dl>
<dl>
<dt>
<b>LD_AOUT_LIBRARY_PATH</b></dt>
<dd>
A colon-separated list of directories in which to search for a.out libraries at execution-time. Similar to the <b>PATH</b> environment variable.</dd>
</dl>
<dl>
<dt>
<b>LD_AOUT_PRELOAD</b></dt>
<dd>
The name of an additional, user-specified, a.out shared library to be loaded after all others. This can be used to selectively override functions in other shared libraries.</dd>
</dl>
<dl>
<dt>
<b>LD_NOWARN</b></dt>
<dd>
Suppress warnings about a.out libraries with incompatible minor version numbers.</dd>
</dl>
<dl>
<dt>
<b>LD_WARN</b></dt>
<dd>
If set to non-empty string, warn about unresolved symbols.</dd>
</dl>
<dl>
<dt>
<b>LD_KEEPDIR</b></dt>
<dd>
Don't ignore the directory in the names of a.out libraries to be loaded. Use of this option is strongly discouraged.</dd>
</dl>
<dl>
<dt>
<b>LD_DEBUG</b></dt>
<dd>
Output verbose debugging information about the dynamic linker. If set to `all' prints all debugging information it has, if set to `help' prints a help message about which categories can be specified in this environment variable.</dd>
</dl>
<dl>
<dt>
<b>LD_DEBUG_OUTPUT</b></dt>
<dd>
File where LD_DEBUG output should be fed into, default is standard output. LD_DEBUG_OUTPUT is ignored for setuid/setgid binaries.</dd>
</dl>
<dl>
<dt>
<b>LD_VERBOSE</b></dt>
<dd>
If set to non-empty string, output symbol versioning information about the program if querying information about the program (ie. either <b>LD_TRACE_LOADED_OBJECTS</b> has been set, or --list or --verify options have been given to the dynamic linker).</dd>
</dl>
<dl>
<dt>
<b>LD_PROFILE</b></dt>
<dd>
Shared object to be profiled.</dd>
</dl>
<dl>
<dt>
<b>LD_PROFILE_OUTPUT</b></dt>
<dd>
File where <b>LD_PROFILE</b> output should be stored, default is standard output. LD_PROFILE_OUTPUT is ignored for setuid/setgid binaries.</dd>
</dl>
<dl>
<dt>
<b>LD_ASSUME_KERNEL</b></dt>
<dd>
Every DSO (Dynamic Shared Object, aka shared library) can tell the dynamic linker in glibc which minimum OS ABI version is needed. The information about the minimum OS ABI version is encoded in a ELF note section usually named .note.ABI-tag. This is used to determine which library to load when multiple version of the same library is installed on the system. The <b>LD_ASSUME_KERNEL</b> environment variable overrides the kernel version used by the dynamic linker to determine which library to load.</dd>
</dl>
</div>
<div class="section">
<h1>RPATH TOKEN EXPANSION</h1> The runtime linker provides a number of tokens that can be used in an rpath specification ( <b>DT_RPATH</b> or <b>DT_RUNPATH</b>).<dl>
<dt>
<b>$ORIGIN</b></dt>
<dd>
ld.so understands the string <b>$ORIGIN</b> (or equivalently <b>${ORIGIN}</b>) in an rpath specification to mean the directory containing the application executable. Thus, an application located in somedir/app could be compiled with gcc -Wl,-rpath,'$ORIGIN/../lib' so that it finds an associated shared library in somedir/lib no matter where somedir is located in the directory hierarchy.</dd>
</dl>
<dl>
<dt>
<b>$PLATFORM</b></dt>
<dd>
The string <b>$PLATFORM</b> (or equivalently <b>${PLATFORM}</b>) in an rpath specifcation expands to the processor type of the current machine. Please note that on some architectures the Linux kernel doesn't provide a platform string to the dynamic linker.</dd>
</dl>
<dl>
<dt>
<b>$LIB</b></dt>
<dd>
The string <b>$LIB</b> (or equivalently <b>${LIB}</b>) in an rpath corresponds to the system libraries directory, which is /lib for the native architecture on FHS compliant GNU/Linux systems.</dd>
</dl>
</div>
<div class="section">
<h1>HARDWARE CAPABILITIES</h1> Libraries might be compiled using hardware-specific instructions which do not exist on all CPU. Such libraries should be installed in directories whose name defines the hardware capabilities such as  <b>/usr/lib/sse2/</b>. The dynamic linker checks these directories against the hardware of the machine and selects the best suitable version of a given library. Hardware capabilities directories could be cascaded to combine CPU features. Hardware capabilities depends on the CPU. The following names are currently recognized:<dl>
<dt>
<b>Alpha</b></dt>
<dd>
ev4, ev5, ev56, ev6, ev67</dd>
</dl>
<dl>
<dt>
<b>MIPS</b></dt>
<dd>
loongson2e, loongson2f, octeon, octeon2</dd>
</dl>
<dl>
<dt>
<b>PowerPC</b></dt>
<dd>
4xxmac, altivec, arch_2_05, arch_2_06, booke, cellbe, dfp, efpdouble, efpsingle, fpu, ic_snoop, mmu, notb, pa6t, power4, power5, power5+, power6x, ppc32, ppc601, ppc64, smt, spe, ucache, vsx</dd>
</dl>
<dl>
<dt>
<b>SPARC</b></dt>
<dd>
flush, muldiv, stbar, swap, ultra3, v9, v9v, v9v2</dd>
</dl>
<dl>
<dt>
<b>s390</b></dt>
<dd>
dfp, eimm, esan3, etf3enh, g5, highgprs, hpage, ldisp, msa, stfle, z900, z990, z9-109, z10, zarch</dd>
</dl>
<dl>
<dt>
<b>x86 (32-bit only)</b></dt>
<dd>
acpi, apic, clflush, cmov, cx8, dts, fxsr, ht, i386, i486, i586, i686, mca, mmx, mtrr, pat, pbe, pge, pn, pse36, sep, ss, sse, sse2, tm</dd>
</dl>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<b>/lib/ld.so</b></dt>
<dd>
a.out dynamic linker/loader</dd>
</dl>
<dl>
<dt>
<b>/lib/ld-linux.so.*</b></dt>
<dd>
ELF dynamic linker/loader</dd>
</dl>
<dl>
<dt>
<b>/etc/ld.so.cache</b></dt>
<dd>
File containing a compiled list of directories in which to search for libraries and an ordered list of candidate libraries.</dd>
</dl>
<dl>
<dt>
<b>/etc/ld.so.preload</b></dt>
<dd>
File containing a whitespace separated list of ELF shared libraries to be loaded before the program. libraries and an ordered list of candidate libraries.</dd>
</dl>
<dl>
<dt>
<b>/etc/ld.so.nohwcap</b></dt>
<dd>
When this file is present the dynamic linker will load the non-optimized version of a library, even if the CPU supports the optimized version.</dd>
</dl>
<dl>
<dt>
<b>lib*.so*</b></dt>
<dd>
shared libraries</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>ldd</b>(1), <b>ldconfig</b>(8).</div>
<div class="section">
<h1>BUGS</h1> Currently <b>ld.so</b> has no means of unloading and searching for compatible or newer version of libraries.<div class="spacer">
</div>
<b>ld.so</b> functionality is only available for executables compiled using libc version 4.4.3 or greater.</div>
<div class="section">
<h1>AUTHORS</h1> David Engel, Eric Youngdale, Peter MacDonald, Hongjiu Lu, Linus Torvalds, Lars Wirzenius and Mitch D'Souza (not necessarily in that order).</div>
<table class="foot">
<tr>
<td class="foot-date">
26 May 2007</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

