<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
NET(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
NET(8)</td>
<td class="head-vol">
System Administration tools</td>
<td class="head-rtitle">
NET(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> net - Tool for administration of Samba and remote CIFS servers.</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 1.00ex;text-indent: -1.00ex;" class="spacer">
net {&lt;ads|rap|rpc&gt;} [-h] [-w&#160;workgroup] [-W&#160;myworkgroup] [-U&#160;user] [-I&#160;ip-address] [-p&#160;port] [-n&#160;myname] [-s&#160;conffile] [-S&#160;server] [-l] [-P] [-d&#160;debuglevel] [-V] [--request-timeout&#160;seconds]</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This tool is part of the  <b>samba</b>(7) suite.<div class="spacer">
</div>
The Samba net utility is meant to work just like the net utility available for windows and DOS. The first argument should be used to specify the protocol to use when executing a certain command. ADS is used for ActiveDirectory, RAP is using for old (Win9x/NT3) clients and RPC can be used for NT4 and Windows 2000. If this argument is omitted, net will try to determine it automatically. Not all commands are available on all protocols.</div>
<div class="section">
<h1>OPTIONS</h1> -h|--help<div style="margin-left: 4.00ex;">
Print a summary of command line options.</div>
<div class="spacer">
</div>
-k|--kerberos<div style="margin-left: 4.00ex;">
Try to authenticate with kerberos. Only useful in an Active Directory environment.</div>
<div class="spacer">
</div>
-w target-workgroup<div style="margin-left: 4.00ex;">
Sets target workgroup or domain. You have to specify either this option or the IP address or the name of a server.</div>
<div class="spacer">
</div>
-W workgroup<div style="margin-left: 4.00ex;">
Sets client workgroup or domain</div>
<div class="spacer">
</div>
-U user<div style="margin-left: 4.00ex;">
User name to use</div>
<div class="spacer">
</div>
-I ip-address<div style="margin-left: 4.00ex;">
IP address of target server to use. You have to specify either this option or a target workgroup or a target server.</div>
<div class="spacer">
</div>
-p port<div style="margin-left: 4.00ex;">
Port on the target server to connect to (usually 139 or 445). Defaults to trying 445 first, then 139.</div>
<div class="spacer">
</div>
-n|--netbiosname &lt;primary NetBIOS name&gt;<div style="margin-left: 4.00ex;">
This option allows you to override the NetBIOS name that Samba uses for itself. This is identical to setting the  <b>netbios name</b> parameter in the smb.conf file. However, a command line setting will take precedence over settings in smb.conf.</div>
<div class="spacer">
</div>
-s|--configfile &lt;configuration file&gt;<div style="margin-left: 4.00ex;">
The file specified contains the configuration details required by the server. The information in this file includes server-specific information such as what printcap file to use, as well as descriptions of all the services that the server is to provide. See smb.conf for more information. The default configuration file name is determined at compile time.</div>
<div class="spacer">
</div>
-S server<div style="margin-left: 4.00ex;">
Name of target server. You should specify either this option or a target workgroup or a target IP address.</div>
<div class="spacer">
</div>
-l<div style="margin-left: 4.00ex;">
When listing data, give more information on each item.</div>
<div class="spacer">
</div>
-P<div style="margin-left: 4.00ex;">
Make queries to the external server using the machine account of the local server.</div>
<div class="spacer">
</div>
--request-timeout 30<div style="margin-left: 4.00ex;">
Let client requests timeout after 30 seconds the default is 10 seconds.</div>
<div class="spacer">
</div>
-d|--debuglevel=level<div style="margin-left: 4.00ex;">
<i>level</i> is an integer from 0 to 10. The default value if this parameter is not specified is 0.<div style="height: 1.00em;">
&#160;</div>
The higher this value, the more detail will be logged to the log files about the activities of the server. At level 0, only critical errors and serious warnings will be logged. Level 1 is a reasonable level for day-to-day running - it generates a small amount of information about operations carried out.<div style="height: 1.00em;">
&#160;</div>
Levels above 1 will generate considerable amounts of log data, and should only be used when investigating a problem. Levels above 3 are designed for use only by developers and generate HUGE amounts of log data, most of which is extremely cryptic.<div style="height: 1.00em;">
&#160;</div>
Note that specifying this parameter here will override the  <b>log level</b> parameter in the smb.conf file.</div>
</div>
<div class="section">
<h1>COMMANDS</h1><div class="subsection">
<h2>CHANGESECRETPW</h2> This command allows the Samba machine account password to be set from an external application to a machine account password that has already been stored in Active Directory. DO NOT USE this command unless you know exactly what you are doing. The use of this command requires that the force flag (-f) be used also. There will be NO command prompt. Whatever information is piped into stdin, either by typing at the command line or otherwise, will be stored as the literal machine password. Do NOT use this without care and attention as it will overwrite a legitimate machine password without warning. YOU HAVE BEEN WARNED.</div>
<div class="subsection">
<h2>TIME</h2> The NET TIME command allows you to view the time on a remote server or synchronise the time on the local server with the time on the remote server.</div>
<div class="subsection">
<h2>TIME</h2> Without any options, the NET TIME command displays the time on the remote server.</div>
<div class="subsection">
<h2>TIME SYSTEM</h2> Displays the time on the remote server in a format ready for /bin/date.</div>
<div class="subsection">
<h2>TIME SET</h2> Tries to set the date and time of the local server to that on the remote server using /bin/date.</div>
<div class="subsection">
<h2>TIME ZONE</h2> Displays the timezone in hours from GMT on the remote computer.</div>
<div class="subsection">
<h2>[RPC|ADS] JOIN [TYPE] [-U username[%password]] [createupn=UPN] [createcomputer=OU] [options]</h2> Join a domain. If the account already exists on the server, and [TYPE] is MEMBER, the machine will attempt to join automatically. (Assuming that the machine has been created in server manager) Otherwise, a password will be prompted for, and a new account may be created.<div class="spacer">
</div>
[TYPE] may be PDC, BDC or MEMBER to specify the type of server joining the domain.<div class="spacer">
</div>
[UPN] (ADS only) set the principalname attribute during the join. The default format is host/netbiosname@REALM.<div class="spacer">
</div>
[OU] (ADS only) Precreate the computer account in a specific OU. The OU string reads from top to bottom without RDNs, and is delimited by a '/'. Please note that '\' is used for escape by both the shell and ldap, so it may need to be doubled or quadrupled to pass through, and it is not used as a delimiter.</div>
<div class="subsection">
<h2>[RPC] OLDJOIN [options]</h2> Join a domain. Use the OLDJOIN option to join the domain using the old style of domain joining - you need to create a trust account in server manager first.</div>
<div class="subsection">
<h2>[RPC|ADS] USER</h2></div>
<div class="subsection">
<h2>[RPC|ADS] USER</h2> List all users</div>
<div class="subsection">
<h2>[RPC|ADS] USER DELETE target</h2> Delete specified user</div>
<div class="subsection">
<h2>[RPC|ADS] USER INFO target</h2> List the domain groups of the specified user.</div>
<div class="subsection">
<h2>[RPC|ADS] USER RENAME oldname newname</h2> Rename specified user.</div>
<div class="subsection">
<h2>[RPC|ADS] USER ADD name [password] [-F user flags] [-C comment]</h2> Add specified user.</div>
<div class="subsection">
<h2>[RPC|ADS] GROUP</h2></div>
<div class="subsection">
<h2>[RPC|ADS] GROUP [misc options] [targets]</h2> List user groups.</div>
<div class="subsection">
<h2>[RPC|ADS] GROUP DELETE name [misc. options]</h2> Delete specified group.</div>
<div class="subsection">
<h2>[RPC|ADS] GROUP ADD name [-C comment]</h2> Create specified group.</div>
<div class="subsection">
<h2>[RAP|RPC] SHARE</h2></div>
<div class="subsection">
<h2>[RAP|RPC] SHARE [misc. options] [targets]</h2> Enumerates all exported resources (network shares) on target server.</div>
<div class="subsection">
<h2>[RAP|RPC] SHARE ADD name=serverpath [-C comment] [-M maxusers] [targets]</h2> Adds a share from a server (makes the export active). Maxusers specifies the number of users that can be connected to the share simultaneously.</div>
<div class="subsection">
<h2>SHARE DELETE sharename</h2> Delete specified share.</div>
<div class="subsection">
<h2>[RPC|RAP] FILE</h2></div>
<div class="subsection">
<h2>[RPC|RAP] FILE</h2> List all open files on remote server.</div>
<div class="subsection">
<h2>[RPC|RAP] FILE CLOSE fileid</h2> Close file with specified  <i>fileid</i> on remote server.</div>
<div class="subsection">
<h2>[RPC|RAP] FILE INFO fileid</h2> Print information on specified  <i>fileid</i>. Currently listed are: file-id, username, locks, path, permissions.</div>
<div class="subsection">
<h2>[RAP|RPC] FILE USER user</h2> List files opened by specified  <i>user</i>. Please note that net rap file user does not work against Samba servers.</div>
<div class="subsection">
<h2>SESSION</h2></div>
<div class="subsection">
<h2>RAP SESSION</h2> Without any other options, SESSION enumerates all active SMB/CIFS sessions on the target server.</div>
<div class="subsection">
<h2>RAP SESSION DELETE|CLOSE CLIENT_NAME</h2> Close the specified sessions.</div>
<div class="subsection">
<h2>RAP SESSION INFO CLIENT_NAME</h2> Give a list with all the open files in specified session.</div>
<div class="subsection">
<h2>RAP SERVER <i>DOMAIN</i></h2> List all servers in specified domain or workgroup. Defaults to local domain.</div>
<div class="subsection">
<h2>RAP DOMAIN</h2> Lists all domains and workgroups visible on the current network.</div>
<div class="subsection">
<h2>RAP PRINTQ</h2></div>
<div class="subsection">
<h2>RAP PRINTQ INFO QUEUE_NAME</h2> Lists the specified print queue and print jobs on the server. If the  <i>QUEUE_NAME</i> is omitted, all queues are listed.</div>
<div class="subsection">
<h2>RAP PRINTQ DELETE JOBID</h2> Delete job with specified id.</div>
<div class="subsection">
<h2>RAP VALIDATE <i>user</i> [<i>password</i>]</h2> Validate whether the specified user can log in to the remote server. If the password is not specified on the commandline, it will be prompted.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 0.00em;">
&#160;</div>
<b>Note</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<div class="spacer">
</div>
Currently NOT implemented.<div style="height: 0.50em;">
&#160;</div>
</div>
</div>
<div class="subsection">
<h2>RAP GROUPMEMBER</h2></div>
<div class="subsection">
<h2>RAP GROUPMEMBER LIST GROUP</h2> List all members of the specified group.</div>
<div class="subsection">
<h2>RAP GROUPMEMBER DELETE GROUP USER</h2> Delete member from group.</div>
<div class="subsection">
<h2>RAP GROUPMEMBER ADD GROUP USER</h2> Add member to group.</div>
<div class="subsection">
<h2>RAP ADMIN <i>command</i></h2> Execute the specified  <i>command</i> on the remote server. Only works with OS/2 servers.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 0.00em;">
&#160;</div>
<b>Note</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<div class="spacer">
</div>
Currently NOT implemented.<div style="height: 0.50em;">
&#160;</div>
</div>
</div>
<div class="subsection">
<h2>RAP SERVICE</h2></div>
<div class="subsection">
<h2>RAP SERVICE START NAME [arguments...]</h2> Start the specified service on the remote server. Not implemented yet.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 0.00em;">
&#160;</div>
<b>Note</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<div class="spacer">
</div>
Currently NOT implemented.<div style="height: 0.50em;">
&#160;</div>
</div>
</div>
<div class="subsection">
<h2>RAP SERVICE STOP</h2> Stop the specified service on the remote server.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 0.00em;">
&#160;</div>
<b>Note</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<div class="spacer">
</div>
Currently NOT implemented.<div style="height: 0.50em;">
&#160;</div>
</div>
</div>
<div class="subsection">
<h2>RAP PASSWORD <i>USER</i> <i>OLDPASS</i> <i>NEWPASS</i></h2> Change password of  <i>USER</i> from  <i>OLDPASS</i> to  <i>NEWPASS</i>.</div>
<div class="subsection">
<h2>LOOKUP</h2></div>
<div class="subsection">
<h2>LOOKUP HOST HOSTNAME [TYPE]</h2> Lookup the IP address of the given host with the specified type (netbios suffix). The type defaults to 0x20 (workstation).</div>
<div class="subsection">
<h2>LOOKUP LDAP [DOMAIN]</h2> Give IP address of LDAP server of specified  <i>DOMAIN</i>. Defaults to local domain.</div>
<div class="subsection">
<h2>LOOKUP KDC [REALM]</h2> Give IP address of KDC for the specified  <i>REALM</i>. Defaults to local realm.</div>
<div class="subsection">
<h2>LOOKUP DC [DOMAIN]</h2> Give IP's of Domain Controllers for specified  <i> DOMAIN</i>. Defaults to local domain.</div>
<div class="subsection">
<h2>LOOKUP MASTER DOMAIN</h2> Give IP of master browser for specified  <i>DOMAIN</i> or workgroup. Defaults to local domain.</div>
<div class="subsection">
<h2>CACHE</h2> Samba uses a general caching interface called 'gencache'. It can be controlled using 'NET CACHE'.<div class="spacer">
</div>
All the timeout parameters support the suffixes:<div style="margin-left: 4.00ex;">
s - Seconds</div>
<div style="margin-left: 4.00ex;">
m - Minutes</div>
<div style="margin-left: 4.00ex;">
h - Hours</div>
<div style="margin-left: 4.00ex;">
d - Days</div>
<div style="margin-left: 4.00ex;">
w - Weeks</div>
</div>
<div class="subsection">
<h2>CACHE ADD key data time-out</h2> Add specified key+data to the cache with the given timeout.</div>
<div class="subsection">
<h2>CACHE DEL key</h2> Delete key from the cache.</div>
<div class="subsection">
<h2>CACHE SET key data time-out</h2> Update data of existing cache entry.</div>
<div class="subsection">
<h2>CACHE SEARCH PATTERN</h2> Search for the specified pattern in the cache data.</div>
<div class="subsection">
<h2>CACHE LIST</h2> List all current items in the cache.</div>
<div class="subsection">
<h2>CACHE FLUSH</h2> Remove all the current items from the cache.</div>
<div class="subsection">
<h2>GETLOCALSID [DOMAIN]</h2> Prints the SID of the specified domain, or if the parameter is omitted, the SID of the local server.</div>
<div class="subsection">
<h2>SETLOCALSID S-1-5-21-x-y-z</h2> Sets SID for the local server to the specified SID.</div>
<div class="subsection">
<h2>GETDOMAINSID</h2> Prints the local machine SID and the SID of the current domain.</div>
<div class="subsection">
<h2>SETDOMAINSID</h2> Sets the SID of the current domain.</div>
<div class="subsection">
<h2>GROUPMAP</h2> Manage the mappings between Windows group SIDs and UNIX groups. Common options include:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;unixgroup - Name of the UNIX group</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;ntgroup - Name of the Windows NT group (must be resolvable to a SID</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;rid - Unsigned 32-bit integer</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;sid - Full SID in the form of &quot;S-1-...&quot;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;type - Type of the group; either 'domain', 'local', or 'builtin'</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;comment - Freeform text description of the group</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>GROUPMAP ADD</h2> Add a new group mapping entry:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
net groupmap add {rid=int|sid=string} unixgroup=string \<br/>
	[type={domain|local}] [ntgroup=string] [comment=string]<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>GROUPMAP DELETE</h2> Delete a group mapping entry. If more than one group name matches, the first entry found is deleted.<div class="spacer">
</div>
net groupmap delete {ntgroup=string|sid=SID}</div>
<div class="subsection">
<h2>GROUPMAP MODIFY</h2> Update en existing group entry.<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
net groupmap modify {ntgroup=string|sid=SID} [unixgroup=string] \<br/>
       [comment=string] [type={domain|local}]<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>GROUPMAP LIST</h2> List existing group mapping entries.<div class="spacer">
</div>
net groupmap list [verbose] [ntgroup=string] [sid=SID]</div>
<div class="subsection">
<h2>MAXRID</h2> Prints out the highest RID currently in use on the local server (by the active 'passdb backend').</div>
<div class="subsection">
<h2>RPC INFO</h2> Print information about the domain of the remote server, such as domain name, domain sid and number of users and groups.</div>
<div class="subsection">
<h2>[RPC|ADS] TESTJOIN</h2> Check whether participation in a domain is still valid.</div>
<div class="subsection">
<h2>[RPC|ADS] CHANGETRUSTPW</h2> Force change of domain trust password.</div>
<div class="subsection">
<h2>RPC TRUSTDOM</h2></div>
<div class="subsection">
<h2>RPC TRUSTDOM ADD DOMAIN</h2> Add a interdomain trust account for  <i>DOMAIN</i>. This is in fact a Samba account named  <i>DOMAIN$</i> with the account flag  <b>'I'</b> (interdomain trust account). This is required for incoming trusts to work. It makes Samba be a trusted domain of the foreign (trusting) domain. Users of the Samba domain will be made available in the foreign domain. If the command is used against localhost it has the same effect as smbpasswd -a -i DOMAIN. Please note that both commands expect a appropriate UNIX account.</div>
<div class="subsection">
<h2>RPC TRUSTDOM DEL DOMAIN</h2> Remove interdomain trust account for  <i>DOMAIN</i>. If it is used against localhost it has the same effect as smbpasswd -x DOMAIN$.</div>
<div class="subsection">
<h2>RPC TRUSTDOM ESTABLISH DOMAIN</h2> Establish a trust relationship to a trusted domain. Interdomain account must already be created on the remote PDC. This is required for outgoing trusts to work. It makes Samba be a trusting domain of a foreign (trusted) domain. Users of the foreign domain will be made available in our domain. You'll need winbind and a working idmap config to make them appear in your system.</div>
<div class="subsection">
<h2>RPC TRUSTDOM REVOKE DOMAIN</h2> Abandon relationship to trusted domain</div>
<div class="subsection">
<h2>RPC TRUSTDOM LIST</h2> List all interdomain trust relationships.</div>
<div class="subsection">
<h2>RPC TRUSTDOM LIST</h2> List all interdomain trust relationships.</div>
<div class="subsection">
<h2>RPC TRUST</h2></div>
<div class="subsection">
<h2>RPC TRUST CREATE</h2> Create a trust trust object by calling lsaCreateTrustedDomainEx2. The can be done on a single server or on two servers at once with the possibility to use a random trust password.<div class="spacer">
</div>
<b>Options:</b><div class="spacer">
</div>
otherserver<div style="margin-left: 4.00ex;">
Domain controller of the second domain</div>
<div class="spacer">
</div>
otheruser<div style="margin-left: 4.00ex;">
Admin user in the second domain</div>
<div class="spacer">
</div>
otherdomainsid<div style="margin-left: 4.00ex;">
SID of the second domain</div>
<div class="spacer">
</div>
other_netbios_domain<div style="margin-left: 4.00ex;">
NetBIOS (short) name of the second domain</div>
<div class="spacer">
</div>
otherdomain<div style="margin-left: 4.00ex;">
DNS (full) name of the second domain</div>
<div class="spacer">
</div>
trustpw<div style="margin-left: 4.00ex;">
Trust password</div>
<div class="spacer">
</div>
<b>Examples:</b><div class="spacer">
</div>
Create a trust object on srv1.dom1.dom for the domain dom2<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
net rpc trust create \<br/>
    otherdomainsid=S-x-x-xx-xxxxxxxxxx-xxxxxxxxxx-xxxxxxxxx \<br/>
    other_netbios_domain=dom2 \<br/>
    otherdomain=dom2.dom \<br/>
    trustpw=12345678 \<br/>
    -S srv1.dom1.dom<br/>
</div>
</div>
<div class="spacer">
</div>
Create a trust relationship between dom1 and dom2<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
net rpc trust create \<br/>
    otherserver=srv2.dom2.test \<br/>
    otheruser=dom2adm \<br/>
    -S srv1.dom1.dom<br/>
</div>
</div>
</div>
<div class="subsection">
<h2>RPC TRUST DELETE</h2> Delete a trust trust object by calling lsaDeleteTrustedDomain. The can be done on a single server or on two servers at once.<div class="spacer">
</div>
<b>Options:</b><div class="spacer">
</div>
otherserver<div style="margin-left: 4.00ex;">
Domain controller of the second domain</div>
<div class="spacer">
</div>
otheruser<div style="margin-left: 4.00ex;">
Admin user in the second domain</div>
<div class="spacer">
</div>
otherdomainsid<div style="margin-left: 4.00ex;">
SID of the second domain</div>
<div class="spacer">
</div>
<b>Examples:</b><div class="spacer">
</div>
Delete a trust object on srv1.dom1.dom for the domain dom2<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
net rpc trust delete \<br/>
    otherdomainsid=S-x-x-xx-xxxxxxxxxx-xxxxxxxxxx-xxxxxxxxx \<br/>
    -S srv1.dom1.dom<br/>
</div>
</div>
<div class="spacer">
</div>
Delete a trust relationship between dom1 and dom2<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
net rpc trust delete \<br/>
    otherserver=srv2.dom2.test \<br/>
    otheruser=dom2adm \<br/>
    -S srv1.dom1.dom<br/>
</div>
</div>
</div>
<div class="subsection">
<h2><div class="spacer">
</div>
</h2></div>
<div class="subsection">
<h2>RPC RIGHTS</h2> This subcommand is used to view and manage Samba's rights assignments (also referred to as privileges). There are three options currently available:  <i>list</i>,  <i>grant</i>, and  <i>revoke</i>. More details on Samba's privilege model and its use can be found in the Samba-HOWTO-Collection.</div>
<div class="subsection">
<h2>RPC ABORTSHUTDOWN</h2> Abort the shutdown of a remote server.</div>
<div class="subsection">
<h2>RPC SHUTDOWN [-t timeout] [-r] [-f] [-C message]</h2> Shut down the remote server.<div class="spacer">
</div>
-r<div style="margin-left: 4.00ex;">
Reboot after shutdown.</div>
<div class="spacer">
</div>
-f<div style="margin-left: 4.00ex;">
Force shutting down all applications.</div>
<div class="spacer">
</div>
-t timeout<div style="margin-left: 4.00ex;">
Timeout before system will be shut down. An interactive user of the system can use this time to cancel the shutdown.</div>
<div class="spacer">
</div>
-C message<div style="margin-left: 4.00ex;">
Display the specified message on the screen to announce the shutdown.</div>
</div>
<div class="subsection">
<h2>RPC SAMDUMP</h2> Print out sam database of remote server. You need to run this against the PDC, from a Samba machine joined as a BDC.</div>
<div class="subsection">
<h2>RPC VAMPIRE</h2> Export users, aliases and groups from remote server to local server. You need to run this against the PDC, from a Samba machine joined as a BDC.</div>
<div class="subsection">
<h2>RPC VAMPIRE KEYTAB</h2> Dump remote SAM database to local Kerberos keytab file.</div>
<div class="subsection">
<h2>RPC VAMPIRE LDIF</h2> Dump remote SAM database to local LDIF file or standard output.</div>
<div class="subsection">
<h2>RPC GETSID</h2> Fetch domain SID and store it in the local secrets.tdb.</div>
<div class="subsection">
<h2>ADS LEAVE</h2> Make the remote host leave the domain it is part of.</div>
<div class="subsection">
<h2>ADS STATUS</h2> Print out status of machine account of the local machine in ADS. Prints out quite some debug info. Aimed at developers, regular users should use NET ADS TESTJOIN.</div>
<div class="subsection">
<h2>ADS PRINTER</h2></div>
<div class="subsection">
<h2>ADS PRINTER INFO [PRINTER] [SERVER]</h2> Lookup info for  <i>PRINTER</i> on  <i>SERVER</i>. The printer name defaults to &quot;*&quot;, the server name defaults to the local host.</div>
<div class="subsection">
<h2>ADS PRINTER PUBLISH PRINTER</h2> Publish specified printer using ADS.</div>
<div class="subsection">
<h2>ADS PRINTER REMOVE PRINTER</h2> Remove specified printer from ADS directory.</div>
<div class="subsection">
<h2>ADS SEARCH <i>EXPRESSION</i> <i>ATTRIBUTES...</i></h2> Perform a raw LDAP search on a ADS server and dump the results. The expression is a standard LDAP search expression, and the attributes are a list of LDAP fields to show in the results.<div class="spacer">
</div>
Example:  <b>net ads search '(objectCategory=group)' sAMAccountName</b></div>
<div class="subsection">
<h2>ADS DN <i>DN</i> <i>(attributes)</i></h2> Perform a raw LDAP search on a ADS server and dump the results. The DN standard LDAP DN, and the attributes are a list of LDAP fields to show in the result.<div class="spacer">
</div>
Example:  <b>net ads dn 'CN=administrator,CN=Users,DC=my,DC=domain' SAMAccountName</b></div>
<div class="subsection">
<h2>ADS WORKGROUP</h2> Print out workgroup name for specified kerberos realm.</div>
<div class="subsection">
<h2>SAM CREATEBUILTINGROUP &lt;NAME&gt;</h2> (Re)Create a BUILTIN group. Only a wellknown set of BUILTIN groups can be created with this command. This is the list of currently recognized group names: Administrators, Users, Guests, Power Users, Account Operators, Server Operators, Print Operators, Backup Operators, Replicator, RAS Servers, Pre-Windows 2000 compatible Access. This command requires a running Winbindd with idmap allocation properly configured. The group gid will be allocated out of the winbindd range.</div>
<div class="subsection">
<h2>SAM CREATELOCALGROUP &lt;NAME&gt;</h2> Create a LOCAL group (also known as Alias). This command requires a running Winbindd with idmap allocation properly configured. The group gid will be allocated out of the winbindd range.</div>
<div class="subsection">
<h2>SAM DELETELOCALGROUP &lt;NAME&gt;</h2> Delete an existing LOCAL group (also known as Alias).</div>
<div class="subsection">
<h2>SAM MAPUNIXGROUP &lt;NAME&gt;</h2> Map an existing Unix group and make it a Domain Group, the domain group will have the same name.</div>
<div class="subsection">
<h2>SAM UNMAPUNIXGROUP &lt;NAME&gt;</h2> Remove an existing group mapping entry.</div>
<div class="subsection">
<h2>SAM ADDMEM &lt;GROUP&gt; &lt;MEMBER&gt;</h2> Add a member to a Local group. The group can be specified only by name, the member can be specified by name or SID.</div>
<div class="subsection">
<h2>SAM DELMEM &lt;GROUP&gt; &lt;MEMBER&gt;</h2> Remove a member from a Local group. The group and the member must be specified by name.</div>
<div class="subsection">
<h2>SAM LISTMEM &lt;GROUP&gt;</h2> List Local group members. The group must be specified by name.</div>
<div class="subsection">
<h2>SAM LIST &lt;users|groups|localgroups|builtin|workstations&gt; [verbose]</h2> List the specified set of accounts by name. If verbose is specified, the rid and description is also provided for each account.</div>
<div class="subsection">
<h2>SAM RIGHTS LIST</h2> List all available privileges.</div>
<div class="subsection">
<h2>SAM RIGHTS GRANT &lt;NAME&gt; &lt;PRIVILEGE&gt;</h2> Grant one or more privileges to a user.</div>
<div class="subsection">
<h2>SAM RIGHTS REVOKE &lt;NAME&gt; &lt;PRIVILEGE&gt;</h2> Revoke one or more privileges from a user.</div>
<div class="subsection">
<h2>SAM SHOW &lt;NAME&gt;</h2> Show the full DOMAIN\\NAME the SID and the type for the corresponding account.</div>
<div class="subsection">
<h2>SAM SET HOMEDIR &lt;NAME&gt; &lt;DIRECTORY&gt;</h2> Set the home directory for a user account.</div>
<div class="subsection">
<h2>SAM SET PROFILEPATH &lt;NAME&gt; &lt;PATH&gt;</h2> Set the profile path for a user account.</div>
<div class="subsection">
<h2>SAM SET COMMENT &lt;NAME&gt; &lt;COMMENT&gt;</h2> Set the comment for a user or group account.</div>
<div class="subsection">
<h2>SAM SET FULLNAME &lt;NAME&gt; &lt;FULL NAME&gt;</h2> Set the full name for a user account.</div>
<div class="subsection">
<h2>SAM SET LOGONSCRIPT &lt;NAME&gt; &lt;SCRIPT&gt;</h2> Set the logon script for a user account.</div>
<div class="subsection">
<h2>SAM SET HOMEDRIVE &lt;NAME&gt; &lt;DRIVE&gt;</h2> Set the home drive for a user account.</div>
<div class="subsection">
<h2>SAM SET WORKSTATIONS &lt;NAME&gt; &lt;WORKSTATIONS&gt;</h2> Set the workstations a user account is allowed to log in from.</div>
<div class="subsection">
<h2>SAM SET DISABLE &lt;NAME&gt;</h2> Set the &quot;disabled&quot; flag for a user account.</div>
<div class="subsection">
<h2>SAM SET PWNOTREQ &lt;NAME&gt;</h2> Set the &quot;password not required&quot; flag for a user account.</div>
<div class="subsection">
<h2>SAM SET AUTOLOCK &lt;NAME&gt;</h2> Set the &quot;autolock&quot; flag for a user account.</div>
<div class="subsection">
<h2>SAM SET PWNOEXP &lt;NAME&gt;</h2> Set the &quot;password do not expire&quot; flag for a user account.</div>
<div class="subsection">
<h2>SAM SET PWDMUSTCHANGENOW &lt;NAME&gt; [yes|no]</h2> Set or unset the &quot;password must change&quot; flag for a user account.</div>
<div class="subsection">
<h2>SAM POLICY LIST</h2> List the available account policies.</div>
<div class="subsection">
<h2>SAM POLICY SHOW &lt;account policy&gt;</h2> Show the account policy value.</div>
<div class="subsection">
<h2>SAM POLICY SET &lt;account policy&gt; &lt;value&gt;</h2> Set a value for the account policy. Valid values can be: &quot;forever&quot;, &quot;never&quot;, &quot;off&quot;, or a number.</div>
<div class="subsection">
<h2>SAM PROVISION</h2> Only available if ldapsam:editposix is set and winbindd is running. Properly populates the ldap tree with the basic accounts (Administrator) and groups (Domain Users, Domain Admins, Domain Guests) on the ldap tree.</div>
<div class="subsection">
<h2>IDMAP DUMP &lt;local tdb file name&gt;</h2> Dumps the mappings contained in the local tdb file specified. This command is useful to dump only the mappings produced by the idmap_tdb backend.</div>
<div class="subsection">
<h2>IDMAP RESTORE [input file]</h2> Restore the mappings from the specified file or stdin.</div>
<div class="subsection">
<h2>IDMAP SECRET &lt;DOMAIN&gt; &lt;secret&gt;</h2> Store a secret for the specified domain, used primarily for domains that use idmap_ldap as a backend. In this case the secret is used as the password for the user DN used to bind to the ldap server.</div>
<div class="subsection">
<h2>IDMAP DELETE [-f] [--db=&lt;DB&gt;] &lt;ID&gt;</h2> Delete a mapping sid &lt;-&gt; gid or sid &lt;-&gt; uid from the IDMAP database. The mapping is given by &lt;ID&gt; which may either be a sid: S-x-..., a gid: &quot;GID number&quot; or a uid: &quot;UID number&quot;. Use -f to delete an invalid partial mapping &lt;ID&gt; -&gt; xx<div class="spacer">
</div>
Use &quot;smbcontrol all idmap ...&quot; to notify running smbd instances. See the  <b>smbcontrol</b>(1) manpage for details.</div>
<div class="subsection">
<h2>IDMAP CHECK [-v] [-r] [-a] [-T] [-f] [-l] [--db=&lt;DB&gt;]</h2> Check and repair the IDMAP database. If no option is given a read only check of the database is done. Among others an interactive or automatic repair mode may be chosen with one of the following options:<div class="spacer">
</div>
-r|--repair<div style="margin-left: 4.00ex;">
Interactive repair mode, ask a lot of questions.</div>
<div class="spacer">
</div>
-a|--auto<div style="margin-left: 4.00ex;">
Noninteractive repair mode, use default answers.</div>
<div class="spacer">
</div>
-v|--verbose<div style="margin-left: 4.00ex;">
Produce more output.</div>
<div class="spacer">
</div>
-f|--force<div style="margin-left: 4.00ex;">
Try to apply changes, even if they do not apply cleanly.</div>
<div class="spacer">
</div>
-T|--test<div style="margin-left: 4.00ex;">
Dry run, show what changes would be made but don't touch anything.</div>
<div class="spacer">
</div>
-l|--lock<div style="margin-left: 4.00ex;">
Lock the database while doing the check.</div>
<div class="spacer">
</div>
--db &lt;DB&gt;<div style="margin-left: 4.00ex;">
Check the specified database.</div>
<div class="spacer">
</div>
<div style="margin-left: 4.00ex;">
</div>
It reports about the finding of the following errors:<div class="spacer">
</div>
Missing reverse mapping:<div style="margin-left: 4.00ex;">
A record with mapping A-&gt;B where there is no B-&gt;A. Default action in repair mode is to &quot;fix&quot; this by adding the reverse mapping.</div>
<div class="spacer">
</div>
Invalid mapping:<div style="margin-left: 4.00ex;">
A record with mapping A-&gt;B where B-&gt;C. Default action is to &quot;delete&quot; this record.</div>
<div class="spacer">
</div>
Missing or invalid HWM:<div style="margin-left: 4.00ex;">
A high water mark is not at least equal to the largest ID in the database. Default action is to &quot;fix&quot; this by setting it to the largest ID found +1.</div>
<div class="spacer">
</div>
Invalid record:<div style="margin-left: 4.00ex;">
Something we failed to parse. Default action is to &quot;edit&quot; it in interactive and &quot;delete&quot; it in automatic mode.</div>
</div>
<div class="subsection">
<h2>USERSHARE</h2> Starting with version 3.0.23, a Samba server now supports the ability for non-root users to add user-defined shares to be exported using the &quot;net usershare&quot; commands.<div class="spacer">
</div>
Members of the UNIX group &quot;sambashare&quot; can create user-defined shares on demand using the commands below.<div class="spacer">
</div>
The usershare commands are:<div style="margin-left: 4.00ex;">
net usershare add sharename path [comment [acl] [guest_ok=[y|n]]] - to add or change a user defined share.</div>
<div style="margin-left: 4.00ex;">
net usershare delete sharename - to delete a user defined share.</div>
<div style="margin-left: 4.00ex;">
net usershare info [-l|--long] [wildcard sharename] - to print info about a user defined share.</div>
<div style="margin-left: 4.00ex;">
net usershare list [-l|--long] [wildcard sharename] - to list user defined shares.</div>
</div>
<div class="subsection">
<h2>USERSHARE ADD sharename path [comment] [acl] [guest_ok=[y|n]]</h2> Add or replace a new user defined share, with name &quot;sharename&quot;.<div class="spacer">
</div>
&quot;path&quot; specifies the absolute pathname on the system to be exported. Restrictions may be put on this, see the global smb.conf parameters: &quot;usershare owner only&quot;, &quot;usershare prefix allow list&quot;, and &quot;usershare prefix deny list&quot;.<div class="spacer">
</div>
The optional &quot;comment&quot; parameter is the comment that will appear on the share when browsed to by a client.<div class="spacer">
</div>
The optional &quot;acl&quot; field specifies which users have read and write access to the entire share. Note that guest connections are not allowed unless the smb.conf parameter &quot;usershare allow guests&quot; has been set. The definition of a user defined share acl is: &quot;user:permission&quot;, where user is a valid username on the system and permission can be &quot;F&quot;, &quot;R&quot;, or &quot;D&quot;. &quot;F&quot; stands for &quot;full permissions&quot;, ie. read and write permissions. &quot;D&quot; stands for &quot;deny&quot; for a user, ie. prevent this user from accessing this share. &quot;R&quot; stands for &quot;read only&quot;, ie. only allow read access to this share (no creation of new files or directories or writing to files).<div class="spacer">
</div>
The default if no &quot;acl&quot; is given is &quot;Everyone:R&quot;, which means any authenticated user has read-only access.<div class="spacer">
</div>
The optional &quot;guest_ok&quot; has the same effect as the parameter of the same name in smb.conf, in that it allows guest access to this user defined share. This parameter is only allowed if the global parameter &quot;usershare allow guests&quot; has been set to true in the smb.conf.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
There is no separate command to modify an existing user defined share, just use the &quot;net usershare add [sharename]&quot; command using the same sharename as the one you wish to modify and specify the new options you wish. The Samba smbd daemon notices user defined share modifications at connect time so will see the change immediately, there is no need to restart smbd on adding, deleting or changing a user defined share.</div>
<div class="subsection">
<h2>USERSHARE DELETE sharename</h2> Deletes the user defined share by name. The Samba smbd daemon immediately notices this change, although it will not disconnect any users currently connected to the deleted share.</div>
<div class="subsection">
<h2>USERSHARE INFO [-l|--long] [wildcard sharename]</h2> Get info on user defined shares owned by the current user matching the given pattern, or all users.<div class="spacer">
</div>
net usershare info on its own dumps out info on the user defined shares that were created by the current user, or restricts them to share names that match the given wildcard pattern ('*' matches one or more characters, '?' matches only one character). If the '-l' or '--long' option is also given, it prints out info on user defined shares created by other users.<div class="spacer">
</div>
The information given about a share looks like: [foobar] path=/home/jeremy comment=testme usershare_acl=Everyone:F guest_ok=n And is a list of the current settings of the user defined share that can be modified by the &quot;net usershare add&quot; command.</div>
<div class="subsection">
<h2>USERSHARE LIST [-l|--long] wildcard sharename</h2> List all the user defined shares owned by the current user matching the given pattern, or all users.<div class="spacer">
</div>
net usershare list on its own list out the names of the user defined shares that were created by the current user, or restricts the list to share names that match the given wildcard pattern ('*' matches one or more characters, '?' matches only one character). If the '-l' or '--long' option is also given, it includes the names of user defined shares created by other users.</div>
<div class="subsection">
<h2>CONF</h2> Starting with version 3.2.0, a Samba server can be configured by data stored in registry. This configuration data can be edited with the new &quot;net conf&quot; commands.<div class="spacer">
</div>
The deployment of this configuration data can be activated in two levels from the  <i>smb.conf</i> file: Share definitions from registry are activated by setting  <i>registry shares</i> to &#8220;yes&#8221; in the [global] section and global configuration options are activated by setting  <b>include = registry</b> in the [global] section for a mixed configuration or by setting  <b>config backend = registry</b> in the [global] section for a registry-only configuration. See the  <b>smb.conf</b>(5) manpage for details.<div class="spacer">
</div>
The conf commands are:<div style="margin-left: 4.00ex;">
net conf list - Dump the complete configuration in smb.conf like format.</div>
<div style="margin-left: 4.00ex;">
net conf import - Import configuration from file in smb.conf format.</div>
<div style="margin-left: 4.00ex;">
net conf listshares - List the registry shares.</div>
<div style="margin-left: 4.00ex;">
net conf drop - Delete the complete configuration from registry.</div>
<div style="margin-left: 4.00ex;">
net conf showshare - Show the definition of a registry share.</div>
<div style="margin-left: 4.00ex;">
net conf addshare - Create a new registry share.</div>
<div style="margin-left: 4.00ex;">
net conf delshare - Delete a registry share.</div>
<div style="margin-left: 4.00ex;">
net conf setparm - Store a parameter.</div>
<div style="margin-left: 4.00ex;">
net conf getparm - Retrieve the value of a parameter.</div>
<div style="margin-left: 4.00ex;">
net conf delparm - Delete a parameter.</div>
<div style="margin-left: 4.00ex;">
net conf getincludes - Show the includes of a share definition.</div>
<div style="margin-left: 4.00ex;">
net conf setincludes - Set includes for a share.</div>
<div style="margin-left: 4.00ex;">
net conf delincludes - Delete includes from a share definition.</div>
</div>
<div class="subsection">
<h2>CONF LIST</h2> Print the configuration data stored in the registry in a smb.conf-like format to standard output.</div>
<div class="subsection">
<h2>CONF IMPORT [--test|-T] filename [section]</h2> This command imports configuration from a file in smb.conf format. If a section encountered in the input file is present in registry, its contents is replaced. Sections of registry configuration that have no counterpart in the input file are not affected. If you want to delete these, you will have to use the &quot;net conf drop&quot; or &quot;net conf delshare&quot; commands. Optionally, a section may be specified to restrict the effect of the import command to that specific section. A test mode is enabled by specifying the parameter &quot;-T&quot; on the commandline. In test mode, no changes are made to the registry, and the resulting configuration is printed to standard output instead.</div>
<div class="subsection">
<h2>CONF LISTSHARES</h2> List the names of the shares defined in registry.</div>
<div class="subsection">
<h2>CONF DROP</h2> Delete the complete configuration data from registry.</div>
<div class="subsection">
<h2>CONF SHOWSHARE sharename</h2> Show the definition of the share or section specified. It is valid to specify &quot;global&quot; as sharename to retrieve the global configuration options from registry.</div>
<div class="subsection">
<h2>CONF ADDSHARE sharename path [writeable={y|N} [guest_ok={y|N} [comment]]] </h2> Create a new share definition in registry. The sharename and path have to be given. The share name may  <i>not</i> be &quot;global&quot;. Optionally, values for the very common options &quot;writeable&quot;, &quot;guest ok&quot; and a &quot;comment&quot; may be specified. The same result may be obtained by a sequence of &quot;net conf setparm&quot; commands.</div>
<div class="subsection">
<h2>CONF DELSHARE sharename</h2> Delete a share definition from registry.</div>
<div class="subsection">
<h2>CONF SETPARM section parameter value</h2> Store a parameter in registry. The section may be global or a sharename. The section is created if it does not exist yet.</div>
<div class="subsection">
<h2>CONF GETPARM section parameter</h2> Show a parameter stored in registry.</div>
<div class="subsection">
<h2>CONF DELPARM section parameter</h2> Delete a parameter stored in registry.</div>
<div class="subsection">
<h2>CONF GETINCLUDES section</h2> Get the list of includes for the provided section (global or share).<div class="spacer">
</div>
Note that due to the nature of the registry database and the nature of include directives, the includes need special treatment: Parameters are stored in registry by the parameter name as valuename, so there is only ever one instance of a parameter per share. Also, a specific order like in a text file is not guaranteed. For all real parameters, this is perfectly ok, but the include directive is rather a meta parameter, for which, in the smb.conf text file, the place where it is specified between the other parameters is very important. This can not be achieved by the simple registry smbconf data model, so there is one ordered list of includes per share, and this list is evaluated after all the parameters of the share.<div class="spacer">
</div>
Further note that currently, only files can be included from registry configuration. In the future, there will be the ability to include configuration data from other registry keys.</div>
<div class="subsection">
<h2>CONF SETINCLUDES section [filename]+</h2> Set the list of includes for the provided section (global or share) to the given list of one or more filenames. The filenames may contain the usual smb.conf macros like %I.</div>
<div class="subsection">
<h2>CONF DELINCLUDES section</h2> Delete the list of includes from the provided section (global or share).</div>
<div class="subsection">
<h2>REGISTRY</h2> Manipulate Samba's registry.<div class="spacer">
</div>
The registry commands are:<div style="margin-left: 4.00ex;">
net registry enumerate   - Enumerate registry keys and values.</div>
<div style="margin-left: 4.00ex;">
net registry enumerate_recursive - Enumerate registry key and its subkeys.</div>
<div style="margin-left: 4.00ex;">
net registry createkey   - Create a new registry key.</div>
<div style="margin-left: 4.00ex;">
net registry deletekey   - Delete a registry key.</div>
<div style="margin-left: 4.00ex;">
net registry deletekey_recursive - Delete a registry key with subkeys.</div>
<div style="margin-left: 4.00ex;">
net registry getvalue    - Print a registry value.</div>
<div style="margin-left: 4.00ex;">
net registry getvalueraw - Print a registry value (raw format).</div>
<div style="margin-left: 4.00ex;">
net registry setvalue    - Set a new registry value.</div>
<div style="margin-left: 4.00ex;">
net registry increment   - Increment a DWORD registry value under a lock.</div>
<div style="margin-left: 4.00ex;">
net registry deletevalue - Delete a registry value.</div>
<div style="margin-left: 4.00ex;">
net registry getsd       - Get security descriptor.</div>
<div style="margin-left: 4.00ex;">
net registry getsd_sdd1  - Get security descriptor in sddl format.</div>
<div style="margin-left: 4.00ex;">
net registry setsd_sdd1  - Set security descriptor from sddl format string.</div>
<div style="margin-left: 4.00ex;">
net registry import      - Import a registration entries (.reg) file.</div>
<div style="margin-left: 4.00ex;">
net registry export      - Export a registration entries (.reg) file.</div>
<div style="margin-left: 4.00ex;">
net registry convert     - Convert a registration entries (.reg) file.</div>
</div>
<div class="subsection">
<h2>REGISTRY ENUMERATE key </h2> Enumerate subkeys and values of  <i>key</i>.</div>
<div class="subsection">
<h2>REGISTRY ENUMERATE_RECURSIVE key </h2> Enumerate values of  <i>key</i> and its subkeys.</div>
<div class="subsection">
<h2>REGISTRY CREATEKEY key </h2> Create a new  <i>key</i> if not yet existing.</div>
<div class="subsection">
<h2>REGISTRY DELETEKEY key </h2> Delete the given  <i>key</i> and its values from the registry, if it has no subkeys.</div>
<div class="subsection">
<h2>REGISTRY DELETEKEY_RECURSIVE key </h2> Delete the given  <i>key</i> and all of its subkeys and values from the registry.</div>
<div class="subsection">
<h2>REGISTRY GETVALUE key name</h2> Output type and actual value of the value  <i>name</i> of the given  <i>key</i>.</div>
<div class="subsection">
<h2>REGISTRY GETVALUERAW key name</h2> Output the actual value of the value  <i>name</i> of the given  <i>key</i>.</div>
<div class="subsection">
<h2>REGISTRY SETVALUE key name type value ...</h2> Set the value  <i>name</i> of an existing  <i>key</i>.  <i>type</i> may be one of  <i>sz</i>,  <i>multi_sz</i> or  <i>dword</i>. In case of  <i>multi_sz</i>  <i>value</i> may be given multiple times.</div>
<div class="subsection">
<h2>REGISTRY INCREMENT key name [inc]</h2> Increment the DWORD value  <i>name</i> of  <i>key</i> by  <i>inc</i> while holding a g_lock.  <i>inc</i> defaults to 1.</div>
<div class="subsection">
<h2>REGISTRY DELETEVALUE key name</h2> Delete the value  <i>name</i> of the given  <i>key</i>.</div>
<div class="subsection">
<h2>REGISTRY GETSD key</h2> Get the security descriptor of the given  <i>key</i>.</div>
<div class="subsection">
<h2>REGISTRY GETSD_SDDL key</h2> Get the security descriptor of the given  <i>key</i> as a Security Descriptor Definition Language (SDDL) string.</div>
<div class="subsection">
<h2>REGISTRY SETSD_SDDL keysd</h2> Set the security descriptor of the given  <i>key</i> from a Security Descriptor Definition Language (SDDL) string  <i>sd</i>.</div>
<div class="subsection">
<h2>REGISTRY IMPORT file[opt]</h2> Import a registration entries (.reg)  <i>file</i>.</div>
<div class="subsection">
<h2>REGISTRY EXPORT keyfile[opt]</h2> Export a  <i>key</i> to a registration entries (.reg)  <i>file</i>.</div>
<div class="subsection">
<h2>REGISTRY CONVERT in out [[inopt] outopt]</h2> Convert a registration entries (.reg) file  <i>in</i>.</div>
<div class="subsection">
<h2>EVENTLOG</h2> Starting with version 3.4.0 net can read, dump, import and export native win32 eventlog files (usually *.evt). evt files are used by the native Windows eventviewer tools.<div class="spacer">
</div>
The import and export of evt files can only succeed when  <i>eventlog list</i> is used in  <i>smb.conf</i> file. See the  <b>smb.conf</b>(5) manpage for details.<div class="spacer">
</div>
The eventlog commands are:<div style="margin-left: 4.00ex;">
net eventlog dump - Dump a eventlog *.evt file on the screen.</div>
<div style="margin-left: 4.00ex;">
net eventlog import - Import a eventlog *.evt into the samba internal tdb based representation of eventlogs.</div>
<div style="margin-left: 4.00ex;">
net eventlog export - Export the samba internal tdb based representation of eventlogs into an eventlog *.evt file.</div>
</div>
<div class="subsection">
<h2>EVENTLOG DUMP filename</h2> Prints a eventlog *.evt file to standard output.</div>
<div class="subsection">
<h2>EVENTLOG IMPORT filename eventlog</h2> Imports a eventlog *.evt file defined by  <i>filename</i> into the samba internal tdb representation of eventlog defined by  <i>eventlog</i>.  <i>eventlog</i> needs to part of the  <i>eventlog list</i> defined in smb.conf. See the  <b>smb.conf</b>(5) manpage for details.</div>
<div class="subsection">
<h2>EVENTLOG EXPORT filename eventlog</h2> Exports the samba internal tdb representation of eventlog defined by  <i>eventlog</i> to a eventlog *.evt file defined by  <i>filename</i>.  <i>eventlog</i> needs to part of the  <i>eventlog list</i> defined in smb.conf. See the  <b>smb.conf</b>(5) manpage for details.</div>
<div class="subsection">
<h2>DOM</h2> Starting with version 3.2.0 Samba has support for remote join and unjoin APIs, both client and server-side. Windows supports remote join capabilities since Windows 2000.<div class="spacer">
</div>
In order for Samba to be joined or unjoined remotely an account must be used that is either member of the Domain Admins group, a member of the local Administrators group or a user that is granted the SeMachineAccountPrivilege privilege.<div class="spacer">
</div>
The client side support for remote join is implemented in the net dom commands which are:<div style="margin-left: 4.00ex;">
net dom join - Join a remote computer into a domain.</div>
<div style="margin-left: 4.00ex;">
net dom unjoin - Unjoin a remote computer from a domain.</div>
<div style="margin-left: 4.00ex;">
net dom renamecomputer - Renames a remote computer joined to a domain.</div>
</div>
<div class="subsection">
<h2>DOM JOIN	domain=DOMAIN ou=OU account=ACCOUNT password=PASSWORD reboot</h2> Joins a computer into a domain. This command supports the following additional parameters:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>DOMAIN</i> can be a NetBIOS domain name (also known as short domain name) or a DNS domain name for Active Directory Domains. As in Windows, it is also possible to control which Domain Controller to use. This can be achieved by appending the DC name using the \ separator character. Example: MYDOM\MYDC. The  <i>DOMAIN</i> parameter cannot be NULL.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>OU</i> can be set to a RFC 1779 LDAP DN, like  <i>ou=mymachines,cn=Users,dc=example,dc=com</i> in order to create the machine account in a non-default LDAP container. This optional parameter is only supported when joining Active Directory Domains.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>ACCOUNT</i> defines a domain account that will be used to join the machine to the domain. This domain account needs to have sufficient privileges to join machines.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>PASSWORD</i> defines the password for the domain account defined with  <i>ACCOUNT</i>.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>REBOOT</i> is an optional parameter that can be set to reboot the remote machine after successful join to the domain.</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Note that you also need to use standard net parameters to connect and authenticate to the remote machine that you want to join. These additional parameters include: -S computer and -U user.<div class="spacer">
</div>
Example: net dom join -S xp -U XP\\administrator%secret domain=MYDOM account=MYDOM\\administrator password=topsecret reboot.<div class="spacer">
</div>
This example would connect to a computer named XP as the local administrator using password secret, and join the computer into a domain called MYDOM using the MYDOM domain administrator account and password topsecret. After successful join, the computer would reboot.</div>
<div class="subsection">
<h2>DOM UNJOIN account=ACCOUNT password=PASSWORD reboot</h2> Unjoins a computer from a domain. This command supports the following additional parameters:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>ACCOUNT</i> defines a domain account that will be used to unjoin the machine from the domain. This domain account needs to have sufficient privileges to unjoin machines.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>PASSWORD</i> defines the password for the domain account defined with  <i>ACCOUNT</i>.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>REBOOT</i> is an optional parameter that can be set to reboot the remote machine after successful unjoin from the domain.</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Note that you also need to use standard net parameters to connect and authenticate to the remote machine that you want to unjoin. These additional parameters include: -S computer and -U user.<div class="spacer">
</div>
Example: net dom unjoin -S xp -U XP\\administrator%secret account=MYDOM\\administrator password=topsecret reboot.<div class="spacer">
</div>
This example would connect to a computer named XP as the local administrator using password secret, and unjoin the computer from the domain using the MYDOM domain administrator account and password topsecret. After successful unjoin, the computer would reboot.</div>
<div class="subsection">
<h2>DOM RENAMECOMPUTER newname=NEWNAME account=ACCOUNT password=PASSWORD reboot</h2> Renames a computer that is joined to a domain. This command supports the following additional parameters:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>NEWNAME</i> defines the new name of the machine in the domain.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>ACCOUNT</i> defines a domain account that will be used to rename the machine in the domain. This domain account needs to have sufficient privileges to rename machines.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>PASSWORD</i> defines the password for the domain account defined with  <i>ACCOUNT</i>.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>REBOOT</i> is an optional parameter that can be set to reboot the remote machine after successful rename in the domain.</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Note that you also need to use standard net parameters to connect and authenticate to the remote machine that you want to rename in the domain. These additional parameters include: -S computer and -U user.<div class="spacer">
</div>
Example: net dom renamecomputer -S xp -U XP\\administrator%secret newname=XPNEW account=MYDOM\\administrator password=topsecret reboot.<div class="spacer">
</div>
This example would connect to a computer named XP as the local administrator using password secret, and rename the joined computer to XPNEW using the MYDOM domain administrator account and password topsecret. After successful rename, the computer would reboot.</div>
<div class="subsection">
<h2>G_LOCK</h2> Manage global locks.</div>
<div class="subsection">
<h2>G_LOCK DO lockname timeout command</h2> Execute a shell command under a global lock. This might be useful to define the order in which several shell commands will be executed. The locking information is stored in a file called g_lock.tdb. In setups with CTDB running, the locking information will be available on all cluster nodes.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>LOCKNAME</i> defines the name of the global lock.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>TIMEOUT</i> defines the timeout.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<i>COMMAND</i> defines the shell command to execute.</div>
</div>
<div class="subsection">
<h2>G_LOCK LOCKS</h2> Print a list of all currently existing locknames.</div>
<div class="subsection">
<h2>G_LOCK DUMP lockname</h2> Dump the locking table of a certain global lock.</div>
<div class="subsection">
<h2>HELP [COMMAND]</h2> Gives usage information for the specified command.</div>
</div>
<div class="section">
<h1>VERSION</h1> This man page is complete for version 3 of the Samba suite.</div>
<div class="section">
<h1>AUTHOR</h1> The original Samba software and related utilities were created by Andrew Tridgell. Samba is now developed by the Samba Team as an Open Source project similar to the way the Linux kernel is developed.<div class="spacer">
</div>
The net manpage was written by Jelmer Vernooij.</div>
<table class="foot">
<tr>
<td class="foot-date">
09/18/2013</td>
<td class="foot-os">
Samba 3.6</td>
</tr>
</table>
</div>
</body>
</html>

