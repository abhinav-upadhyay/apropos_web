<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
&lt;fcntl.h&gt;(0P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
&lt;fcntl.h&gt;(0P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
&lt;fcntl.h&gt;(0P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> fcntl.h - file control options</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;fcntl.h&gt;</b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>&lt;fcntl.h&gt;</i> header shall define the following requests and arguments for use by the functions  <i>fcntl</i>() and <i>open</i>().<div class="spacer">
</div>
Values for <i>cmd</i> used by <i>fcntl</i>() (the following values are unique) are as follows:<dl>
<dt>
F_DUPFD</dt>
<dd>
Duplicate file descriptor.</dd>
</dl>
<dl>
<dt>
F_GETFD</dt>
<dd>
Get file descriptor flags.</dd>
</dl>
<dl>
<dt>
F_SETFD</dt>
<dd>
Set file descriptor flags.</dd>
</dl>
<dl>
<dt>
F_GETFL</dt>
<dd>
Get file status flags and file access modes.</dd>
</dl>
<dl>
<dt>
F_SETFL</dt>
<dd>
Set file status flags.</dd>
</dl>
<dl>
<dt>
F_GETLK</dt>
<dd>
Get record locking information.</dd>
</dl>
<dl>
<dt>
F_SETLK</dt>
<dd>
Set record locking information.</dd>
</dl>
<dl>
<dt>
F_SETLKW</dt>
<dd>
Set record locking information; wait if blocked.</dd>
</dl>
<dl>
<dt>
F_GETOWN</dt>
<dd>
Get process or process group ID to receive SIGURG signals.</dd>
</dl>
<dl>
<dt>
F_SETOWN</dt>
<dd>
Set process or process group ID to receive SIGURG signals.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
File descriptor flags used for <i>fcntl</i>() are as follows:<dl>
<dt>
FD_CLOEXEC</dt>
<dd>
Close the file descriptor upon execution of an <i>exec</i> family function.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
Values for <i>l_type</i> used for record locking with <i>fcntl</i>() (the following values are unique) are as follows:<dl>
<dt>
F_RDLCK</dt>
<dd>
Shared or read lock.</dd>
</dl>
<dl>
<dt>
F_UNLCK</dt>
<dd>
Unlock.</dd>
</dl>
<dl>
<dt>
F_WRLCK</dt>
<dd>
Exclusive or write lock.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The values used for <i>l_whence</i>, SEEK_SET, SEEK_CUR, and SEEK_END shall be defined as described in  <i>&lt;unistd.h&gt;</i> .<div class="spacer">
</div>
The following values are file creation flags and are used in the <i>oflag</i> value to  <i>open</i>(). They shall be bitwise-distinct.<dl>
<dt>
O_CREAT</dt>
<dd>
Create file if it does not exist.</dd>
</dl>
<dl>
<dt>
O_EXCL</dt>
<dd>
Exclusive use flag.</dd>
</dl>
<dl>
<dt>
O_NOCTTY</dt>
<dd>
Do not assign controlling terminal.</dd>
</dl>
<dl>
<dt>
O_TRUNC</dt>
<dd>
Truncate flag.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
File status flags used for <i>open</i>() and <i>fcntl</i>() are as follows:<dl>
<dt>
O_APPEND</dt>
<dd>
Set append mode.</dd>
</dl>
<dl>
<dt>
O_DSYNC</dt>
<dd>
Write according to synchronized I/O data integrity completion.</dd>
</dl>
<dl>
<dt>
O_NONBLOCK</dt>
<dd>
Non-blocking mode.</dd>
</dl>
<dl>
<dt>
O_RSYNC</dt>
<dd>
Synchronized read I/O operations.</dd>
</dl>
<dl>
<dt>
O_SYNC</dt>
<dd>
Write according to synchronized I/O file integrity completion.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
Mask for use with file access modes is as follows:<dl>
<dt>
O_ACCMODE</dt>
<dd>
Mask for file access modes.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
File access modes used for <i>open</i>() and <i>fcntl</i>() are as follows:<dl>
<dt>
O_RDONLY</dt>
<dd>
Open for reading only.</dd>
</dl>
<dl>
<dt>
O_RDWR</dt>
<dd>
Open for reading and writing.</dd>
</dl>
<dl>
<dt>
O_WRONLY</dt>
<dd>
Open for writing only.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The symbolic names for file modes for use as values of <b>mode_t</b> shall be defined as described in  <i>&lt;sys/stat.h&gt;</i> .<div class="spacer">
</div>
Values for <i>advice</i> used by <i>posix_fadvise</i>() are as follows:<dl>
<dt>
POSIX_FADV_NORMAL</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application has no advice to give on its behavior with respect to the specified data. It is the default characteristic if no advice is given for an open file.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_SEQUENTIAL</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects to access the specified data sequentially from lower offsets to higher offsets.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_RANDOM</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects to access the specified data in a random order.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_WILLNEED</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects to access the specified data in the near future.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_DONTNEED</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects that it will not access the specified data in the near future.</dd>
</dl>
<dl>
<dt>
POSIX_FADV_NOREUSE</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects to access the specified data once and then not reuse it thereafter.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The structure <b>flock</b> describes a file lock. It shall include the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>short  l_type  </b> Type of lock; F_RDLCK, F_WRLCK, F_UNLCK. <b></b><br/>
<b>short  l_whence</b> Flag for starting offset. <b></b><br/>
<b>off_t  l_start </b> Relative offset in bytes. <b></b><br/>
<b>off_t  l_len   </b> Size; if 0 then until EOF. <b></b><br/>
<b>pid_t  l_pid   </b> Process ID of the process holding the lock; returned with F_GETLK. <b></b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The <b>mode_t</b>, <b>off_t</b>, and <b>pid_t</b> types shall be defined as described in  <i>&lt;sys/types.h&gt;</i> .<div class="spacer">
</div>
The following shall be declared as functions and may also be defined as macros. Function prototypes shall be provided.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>int  creat(const char *, mode_t);</b><br/>
<b>int  fcntl(int, int, ...);</b><br/>
<b>int  open(const char *, int, ...);</b><div class="spacer">
</div>
<br/>
<b>int  posix_fadvise(int, off_t, size_t, int);</b><br/>
<b>int  posix_fallocate(int, off_t, size_t);</b><div class="spacer">
</div>
<br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
Inclusion of the <i>&lt;fcntl.h&gt;</i> header may also make visible all symbols from  <i>&lt;sys/stat.h&gt;</i> and <i>&lt;unistd.h&gt;</i>.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>&lt;sys/stat.h&gt;</i>, <i>&lt;sys/types.h&gt;</i>, <i>&lt;unistd.h&gt;</i>, the System Interfaces volume of IEEE&#160;Std&#160;1003.1-2001,  <i>creat</i>(),  <i>exec</i>, <i>fcntl</i>(), <i>open</i>(), <i>posix_fadvise</i>(), <i>posix_fallocate</i>(),  <i>posix_madvise</i>()</div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

