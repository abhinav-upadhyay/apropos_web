<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
GLIB-MKENUMS(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GLIB-MKENUMS(1)</td>
<td class="head-vol">
User Commands</td>
<td class="head-rtitle">
GLIB-MKENUMS(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> glib-mkenums - C language enum description generation utility</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 13.00ex;text-indent: -13.00ex;" class="spacer">
<b>glib-mkenums</b> [options...] [files...]</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>glib-mkenums</b> is a small perl-script utility that parses C code to extract enum definitions and produces enum descriptions based on text templates specified by the user. Most frequently this script is used to produce C code that contains enum values as strings so programs can provide value name strings for introspection.</div>
<div class="section">
<h1>INVOCATION</h1>  <b>glib-mkenums</b> takes a list of valid C code files as input. The options specified control the text that is output, certain substitutions are performed on the text templates for keywords enclosed in @ characters.<div class="subsection">
<h2>Options</h2>  <b>--fhead</b> <i>text</i><div style="margin-left: 4.00ex;">
Put out  <i>text</i> prior to processing input files.</div>
<div class="spacer">
</div>
<b>--fprod</b> <i>text</i><div style="margin-left: 4.00ex;">
Put out  <i>text</i> everytime a new input file is being processed.</div>
<div class="spacer">
</div>
<b>--ftail</b> <i>text</i><div style="margin-left: 4.00ex;">
Put out  <i>text</i> after all input files have been processed.</div>
<div class="spacer">
</div>
<b>--eprod</b> <i>text</i><div style="margin-left: 4.00ex;">
Put out  <i>text</i> everytime an enum is encountered in the input files.</div>
<div class="spacer">
</div>
<b>--vhead</b> <i>text</i><div style="margin-left: 4.00ex;">
Put out  <i>text</i> before iterating over the set of values of an enum.</div>
<div class="spacer">
</div>
<b>--vprod</b> <i>text</i><div style="margin-left: 4.00ex;">
Put out  <i>text</i> for every value of an enum.</div>
<div class="spacer">
</div>
<b>--vtail</b> <i>text</i><div style="margin-left: 4.00ex;">
Put out  <i>text</i> after iterating over all values of an enum.</div>
<div class="spacer">
</div>
<b>--comments</b> <i>text</i><div style="margin-left: 4.00ex;">
Template for auto-generated comments, the default (for C code generations) is &quot;/* @comment@ */&quot;.</div>
<div class="spacer">
</div>
<b>--template</b> <i>file</i><div style="margin-left: 4.00ex;">
Read templates from the given file. The templates are enclosed in specially-formatted C comments<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
/*** BEGIN section ***/<br/>
/*** END section ***/<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
where section may be file-header, file-production, file-tail, enumeration-production, value-header, value-production, value-tail or comment.</div>
<div class="spacer">
</div>
<b>--identifier-prefix</b> <i>prefix</i><div style="margin-left: 4.00ex;">
Indicates what portion of the enum name should be intepreted as the prefix (eg, the &quot;Gtk&quot; in &quot;GtkDirectionType&quot;). Normally this will be figured out automatically, but you may need to override the default if your namespace is capitalized oddly.</div>
<div class="spacer">
</div>
<b>--symbol-prefix</b> <i>prefix</i><div style="margin-left: 4.00ex;">
Indicates what prefix should be used to correspond to the identifier prefix in related C function names (eg, the &quot;gtk&quot; in &quot;gtk_direction_type_get_type&quot;. Equivalently, this is the lowercase version of the prefix component of the enum value names (eg, the &quot;GTK&quot; in &quot;GTK_DIR_UP&quot;. The default value is the identifier prefix, converted to lowercase.</div>
<div class="spacer">
</div>
<b>--help</b><div style="margin-left: 4.00ex;">
Print brief help and exit.</div>
<div class="spacer">
</div>
<b>--version</b><div style="margin-left: 4.00ex;">
Print version and exit.</div>
</div>
<div class="subsection">
<h2>Production text substitutions</h2> Certain keywords enclosed in @ characters will be substituted in the emitted text. For the substitution examples of the keywords below, the following example enum definition is assumed:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef enum<br/>
{<br/>
  PREFIX_THE_XVALUE    = 1 &lt;&lt; 3,<br/>
  PREFIX_ANOTHER_VALUE = 1 &lt;&lt; 4<br/>
} PrefixTheXEnum;<br/>
</div>
<div class="spacer">
</div>
@EnumName@<div style="margin-left: 4.00ex;">
The name of the enum currently being processed, enum names are assumed to be properly namespaced and to use mixed capitalization to separate words (e.g. PrefixTheXEnum).</div>
<div class="spacer">
</div>
@enum_name@<div style="margin-left: 4.00ex;">
The enum name with words lowercase and word-separated by underscores (e.g. prefix_the_xenum).</div>
<div class="spacer">
</div>
@ENUMNAME@<div style="margin-left: 4.00ex;">
The enum name with words uppercase and word-separated by underscores (e.g. PREFIX_THE_XENUM).</div>
<div class="spacer">
</div>
@ENUMSHORT@<div style="margin-left: 4.00ex;">
The enum name with words uppercase and word-separated by underscores, prefix stripped (e.g. THE_XENUM).</div>
<div class="spacer">
</div>
@VALUENAME@<div style="margin-left: 4.00ex;">
The enum value name currently being processed with words uppercase and word-separated by underscores, this is the assumed literal notation of enum values in the C sources (e.g. PREFIX_THE_XVALUE).</div>
<div class="spacer">
</div>
@valuenick@<div style="margin-left: 4.00ex;">
A nick name for the enum value currently being processed, this is usually generated by stripping common prefix words of all the enum values of the current enum, the words are lowercase and underscores are substituted by a minus (e.g. the-xvalue).</div>
<div class="spacer">
</div>
@valuenum@<div style="margin-left: 4.00ex;">
The integer value for the enum value currently being processed. This is calculated by using  <b>perl</b> to attempt to evaluate the expression as it appears in the C source code. If evaluation fails then  <b>glib-mkenums</b> will exit with an error status, but this only happens if @valuenum@ appears in your value production template. (Since: 2.26)</div>
<div class="spacer">
</div>
@type@<div style="margin-left: 4.00ex;">
This is substituted either by &quot;enum&quot; or &quot;flags&quot;, depending on whether the enum value definitions contained bit-shift operators or not (e.g. flags).</div>
<div class="spacer">
</div>
@Type@<div style="margin-left: 4.00ex;">
The same as @type@ with the first letter capitalized (e.g. Flags).</div>
<div class="spacer">
</div>
@TYPE@<div style="margin-left: 4.00ex;">
The same as @type@ with all letters uppercased (e.g. FLAGS).</div>
<div class="spacer">
</div>
@filename@<div style="margin-left: 4.00ex;">
The name of the input file currently being processed (e.g. foo.h).</div>
<div class="spacer">
</div>
@basename@<div style="margin-left: 4.00ex;">
The base name of the input file currently being processed (e.g. foo.h). (Since: 2.22)</div>
</div>
<div class="subsection">
<h2>Trigraph extensions</h2> Some C comments are treated specially in the parsed enum definitions, such comments start out with the trigraph sequence /*&lt; and end with the trigraph sequence &gt;*/. Per enum definition, the options &quot;skip&quot; and &quot;flags&quot; can be specified, to indicate this enum definition to be skipped, or for it to be treated as a flags definition, or to specify the common prefix to be stripped from all values to generate value nicknames, respectively. The &quot;underscore_name&quot; option can be used to specify the word separation used in the *_get_type() function. For instance, /*&lt; underscore_name=gnome_vfs_uri_hide_options &gt;*/.<div class="spacer">
</div>
Per value definition, the options &quot;skip&quot; and &quot;nick&quot; are supported. The former causes the value to be skipped, and the latter can be used to specify the otherwise auto-generated nickname. Examples:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef enum /*&lt; skip &gt;*/<br/>
{<br/>
  PREFIX_FOO<br/>
} PrefixThisEnumWillBeSkipped;<br/>
typedef enum /*&lt; flags,prefix=PREFIX &gt;*/<br/>
{<br/>
  PREFIX_THE_ZEROTH_VALUE,	/*&lt; skip &gt;*/<br/>
  PREFIX_THE_FIRST_VALUE,<br/>
  PREFIX_THE_SECOND_VALUE,<br/>
  PREFIX_THE_THIRD_VALUE,	/*&lt; nick=the-last-value &gt;*/<br/>
} PrefixTheFlagsEnum;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>glib-genmarshal</b>(1)</div>
<table class="foot">
<tr>
<td class="foot-date">
07/14/2012</td>
<td class="foot-os">
User Commands</td>
</tr>
</table>
</div>
</body>
</html>

