<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
GLIB-GENMARSHAL(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GLIB-GENMARSHAL(1)</td>
<td class="head-vol">
User Commands</td>
<td class="head-rtitle">
GLIB-GENMARSHAL(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> glib-genmarshal - C code marshaller generation utility for GLib closures</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 16.00ex;text-indent: -16.00ex;" class="spacer">
<b>glib-genmarshal</b> [options...] [files...]</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>glib-genmarshal</b> is a small utility that generates C code marshallers for callback functions of the GClosure mechanism in the GObject sublibrary of GLib. The marshaller functions have a standard signature, they get passed in the invoking closure, an array of value structures holding the callback function parameters and a value structure for the return value of the callback. The marshaller is then responsible to call the respective C code function of the closure with all the parameters on the stack and to collect its return value.</div>
<div class="section">
<h1>INVOCATION</h1>  <b>glib-genmarshal</b> takes a list of marshallers to generate as input. The marshaller list is either read from standard input or from files passed as additional arguments on the command line.<div class="subsection">
<h2>Options</h2>  <b>--header</b><div style="margin-left: 4.00ex;">
Generate header file contents of the marshallers.</div>
<div class="spacer">
</div>
<b>--body</b><div style="margin-left: 4.00ex;">
Generate C code file contents of the marshallers.</div>
<div class="spacer">
</div>
<b>--prefix=string</b>, <b>--prefix string</b><div style="margin-left: 4.00ex;">
Specify marshaller prefix. The default prefix is `g_cclosure_marshal'.</div>
<div class="spacer">
</div>
<b>--skip-source</b><div style="margin-left: 4.00ex;">
Skip source location remarks in generated comments.</div>
<div class="spacer">
</div>
<b>--nostdinc</b><div style="margin-left: 4.00ex;">
Do not use the standard marshallers of the GObject library, and skip gmarshal.h include directive in generated header files.</div>
<div class="spacer">
</div>
<b>--internal</b><div style="margin-left: 4.00ex;">
Mark generated functions as internal, using G_GNUC_INTERNAL.</div>
<div class="spacer">
</div>
<b>--valist-marshallers</b><div style="margin-left: 4.00ex;">
Generate valist marshallers, for use with g_signal_set_va_marshaller().</div>
<div class="spacer">
</div>
<b>-v</b>, <b>--version</b><div style="margin-left: 4.00ex;">
Print version information.</div>
<div class="spacer">
</div>
<b>--g-fatal-warnings</b><div style="margin-left: 4.00ex;">
Make warnings fatal, that is, exit immediately once a warning occurs.</div>
<div class="spacer">
</div>
<b>-h</b>, <b>--help</b><div style="margin-left: 4.00ex;">
Print brief help and exit.</div>
<div class="spacer">
</div>
<b>-v</b>, <b>--version</b><div style="margin-left: 4.00ex;">
Print version and exit.</div>
</div>
<div class="subsection">
<h2>Marshaller list format</h2> The marshaller lists are processed line by line, a line can contain a comment in the form of<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
# this is a comment<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
or a marshaller specification of the form<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
<i>RTYPE</i>:<i>PTYPE</i><br/>
<i>RTYPE</i>:<i>PTYPE</i>,<i>PTYPE</i><br/>
<i>RTYPE</i>:<i>PTYPE</i>,<i>PTYPE</i>,<i>PTYPE</i><br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
(up to 16  <i>PTYPE</i>s may be present).<div class="spacer">
</div>
The  <i>RTYPE</i> part specifies the callback's return type and the  <i>PTYPE</i>s right to the colon specify the callback's parameter list, except for the first and the last arguments which are always pointers.</div>
<div class="subsection">
<h2>Parameter types</h2> Currently, the following types are supported:<div class="spacer">
</div>
<i>VOID</i><div style="margin-left: 4.00ex;">
indicates no return type, or no extra parameters. If  <i>VOID</i> is used as the parameter list, no additional parameters may be present.</div>
<div class="spacer">
</div>
<i>BOOLEAN</i><div style="margin-left: 4.00ex;">
for boolean types (gboolean)</div>
<div class="spacer">
</div>
<i>CHAR</i><div style="margin-left: 4.00ex;">
for signed char types (gchar)</div>
<div class="spacer">
</div>
<i>UCHAR</i><div style="margin-left: 4.00ex;">
for unsigned char types (guchar)</div>
<div class="spacer">
</div>
<i>INT</i><div style="margin-left: 4.00ex;">
for signed integer types (gint)</div>
<div class="spacer">
</div>
<i>UINT</i><div style="margin-left: 4.00ex;">
for unsigned integer types (guint)</div>
<div class="spacer">
</div>
<i>LONG</i><div style="margin-left: 4.00ex;">
for signed long integer types (glong)</div>
<div class="spacer">
</div>
<i>ULONG</i><div style="margin-left: 4.00ex;">
for unsigned long integer types (gulong)</div>
<div class="spacer">
</div>
<i>INT64</i><div style="margin-left: 4.00ex;">
for signed 64bit integer types (gint64)</div>
<div class="spacer">
</div>
<i>UINT64</i><div style="margin-left: 4.00ex;">
for unsigned 64bit integer types (guint64)</div>
<div class="spacer">
</div>
<i>ENUM</i><div style="margin-left: 4.00ex;">
for enumeration types (gint)</div>
<div class="spacer">
</div>
<i>FLAGS</i><div style="margin-left: 4.00ex;">
for flag enumeration types (guint)</div>
<div class="spacer">
</div>
<i>FLOAT</i><div style="margin-left: 4.00ex;">
for single-precision float types (gfloat)</div>
<div class="spacer">
</div>
<i>DOUBLE</i><div style="margin-left: 4.00ex;">
for double-precision float types (gdouble)</div>
<div class="spacer">
</div>
<i>STRING</i><div style="margin-left: 4.00ex;">
for string types (gchar*)</div>
<div class="spacer">
</div>
<i>BOXED</i><div style="margin-left: 4.00ex;">
for boxed (anonymous but reference counted) types (GBoxed*)</div>
<div class="spacer">
</div>
<i>PARAM</i><div style="margin-left: 4.00ex;">
for GParamSpec or derived types (GParamSpec*)</div>
<div class="spacer">
</div>
<i>POINTER</i><div style="margin-left: 4.00ex;">
for anonymous pointer types (gpointer)</div>
<div class="spacer">
</div>
<i>OBJECT</i><div style="margin-left: 4.00ex;">
for GObject or derived types (GObject*)</div>
<div class="spacer">
</div>
<i>VARIANT</i><div style="margin-left: 4.00ex;">
for GVariant types (GVariant*)</div>
<div class="spacer">
</div>
<i>NONE</i><div style="margin-left: 4.00ex;">
deprecated alias for  <i>VOID</i></div>
<div class="spacer">
</div>
<i>BOOL</i><div style="margin-left: 4.00ex;">
deprecated alias for  <i>BOOLEAN</i></div>
</div>
</div>
<div class="section">
<h1>EXAMPLE</h1> To generate marshallers for the following callback functions:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
void   foo (gpointer data1,<br/>
            gpointer data2);<br/>
void   bar (gpointer data1,<br/>
            gint     param1,<br/>
            gpointer data2);<br/>
gfloat baz (gpointer data1,<br/>
            gboolean param1,<br/>
            guchar   param2,<br/>
            gpointer data2);<br/>
</div>
<div class="spacer">
</div>
The marshaller list has to look like this:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
VOID:VOID<br/>
VOID:INT<br/>
FLOAT:BOOLEAN,UCHAR<br/>
</div>
<div class="spacer">
</div>
The generated marshallers have the arguments encoded in their function name. For this particular list, they are<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
g_cclosure_marshal_VOID__VOID(),<br/>
g_cclosure_marshal_VOID__INT(), <br/>
g_cclosure_marshal_FLOAT__BOOLEAN_UCHAR().<br/>
</div>
<div class="spacer">
</div>
They can be used directly for GClosures or be passed in as the GSignalCMarshaller c_marshaller; argument upon creation of signals:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
GClosure *cc_foo, *cc_bar, *cc_baz;<div class="spacer">
</div>
<br/>
cc_foo = g_cclosure_new (NULL, foo, NULL);<br/>
g_closure_set_marshal (cc_foo, g_cclosure_marshal_VOID__VOID);<br/>
cc_bar = g_cclosure_new (NULL, bar, NULL);<br/>
g_closure_set_marshal (cc_bar, g_cclosure_marshal_VOID__INT);<br/>
cc_baz = g_cclosure_new (NULL, baz, NULL);<br/>
g_closure_set_marshal (cc_baz, g_cclosure_marshal_FLOAT__BOOLEAN_UCHAR);<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>glib-mkenums</b>(1)</div>
<div class="section">
<h1>BUGS</h1> None known yet.</div>
<div class="section">
<h1>AUTHOR</h1>  <b>glib-genmarshal</b> has been written by Tim Janik timj@gtk.org.<div class="spacer">
</div>
This manual page was provided by Tim Janik timj@gtk.org.</div>
<table class="foot">
<tr>
<td class="foot-date">
07/14/2012</td>
<td class="foot-os">
User Commands</td>
</tr>
</table>
</div>
</body>
</html>

