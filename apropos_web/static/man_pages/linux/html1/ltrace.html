<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ltrace(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
ltrace(1)</td>
<td class="head-vol">
General Commands Manual</td>
<td class="head-rtitle">
ltrace(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ltrace - A library call tracer<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>ltrace</b> <i>[-CfhiLrStttV] [-a column] [-A maxelts] [-D level] [-e expr] [-l filename] [-n nr] [-o filename] [-p pid] ... [-s strsize] [-u username] [-X extern] [-x extern] ... [--align=column] [--debug=level] [--demangle] [--help] [--indent=nr] [--library=filename] [--output=filename] [--version] [command [arg ...]]</i><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>ltrace</b> is a program that simply runs the specified <i>command</i> until it exits.  It intercepts and records the dynamic library calls which are called by the executed process and the signals which are received by that process. It can also intercept and print the system calls executed by the program.<div class="spacer">
</div>
Its use is very similar to <b>strace(1)</b>.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<i>-a, --align column</i></dt>
<dd>
Align return values in a specific column (default column is 5/8 of screen width).</dd>
</dl>
<dl>
<dt>
<i>-A maxelts</i></dt>
<dd>
Maximum number of array elements to print before suppressing the rest with an ellipsis (&quot;...&quot;)</dd>
</dl>
<dl>
<dt>
<i>-c</i></dt>
<dd>
Count time and calls for each library call and report a summary on program exit.</dd>
</dl>
<dl>
<dt>
<i>-C, --demangle</i></dt>
<dd>
Decode (demangle) low-level symbol names into user-level names. Besides removing any initial underscore prefix used by the system, this makes C++ function names readable.</dd>
</dl>
<dl>
<dt>
<i>-D, --debug level</i></dt>
<dd>
Show debugging output of <b>ltrace</b> itself. <i>level</i> must be a sum of some of the following numbers:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>01</b></dt>
<dd>
DEBUG_GENERAL.  Shows helpful progress information</dd>
</dl>
<dl>
<dt>
<b>010</b></dt>
<dd>
DEBUG_EVENT.  Shows every event received by a traced program</dd>
</dl>
<dl>
<dt>
<b>020</b></dt>
<dd>
DEBUG_PROCESS.  Shows every action <b>ltrace</b> carries upon a traced process</dd>
</dl>
<dl>
<dt>
<b>040</b></dt>
<dd>
DEBUG_FUNCTION.  Shows every entry to internal functions</dd>
</dl>
</div>
<dl>
<dt>
<i>-e expr</i></dt>
<dd>
A qualifying expression which modifies which events to trace. The format of the expression is:<div style="height: 0.00em;">
&#160;</div>
[!]value1[,value2]...<div style="height: 0.00em;">
&#160;</div>
where the values are the functions to trace.  Using an exclamation mark negates the set of values.  For example <i>-e printf</i> means to trace only the printf library call.  By contrast, <i>-e !printf</i> means to trace every library call except printf.</dd>
</dl>
<dl>
<dt>
</dt>
<dd>
Note that some shells use the exclamation point for history expansion; even inside quoted arguments.  If so, you must escape the exclamation point with a backslash.</dd>
</dl>
<dl>
<dt>
<i>-f</i></dt>
<dd>
Trace child processes as they are created by currently traced processes as a result of the fork(2) or clone(2) system calls. The new process is attached immediately.</dd>
</dl>
<dl>
<dt>
<i>-F</i></dt>
<dd>
Load an alternate config file. Normally, /etc/ltrace.conf and ~/.ltrace.conf will be read (the latter only if it exists). Use this option to load the given file or files instead of those two default files.</dd>
</dl>
<dl>
<dt>
<i>-h, --help</i></dt>
<dd>
Show a summary of the options to ltrace and exit.</dd>
</dl>
<dl>
<dt>
<i>-i</i></dt>
<dd>
Print the instruction pointer at the time of the library call.</dd>
</dl>
<dl>
<dt>
<i>-l, --library filename</i></dt>
<dd>
Display only the symbols included in the library <i>filename.</i> Up to 30 library names can be specified with several instances of this option.</dd>
</dl>
<dl>
<dt>
<i>-L</i></dt>
<dd>
DON'T display library calls (use it with the <i>-S</i> option).</dd>
</dl>
<dl>
<dt>
<i>-n, --indent nr</i></dt>
<dd>
Indent trace output by <i>nr</i> number of spaces for each new nested call. Using this option makes the program flow visualization easy to follow.</dd>
</dl>
<dl>
<dt>
<i>-o, --output filename</i></dt>
<dd>
Write the trace output to the file <i>filename</i> rather than to stderr.</dd>
</dl>
<dl>
<dt>
<i>-p pid</i></dt>
<dd>
Attach to the process with the process ID <i>pid</i> and begin tracing.</dd>
</dl>
<dl>
<dt>
<i>-r</i></dt>
<dd>
Print a relative timestamp with each line of the trace. This records the time difference between the beginning of successive lines.</dd>
</dl>
<dl>
<dt>
<i>-s strsize</i></dt>
<dd>
Specify the maximum string size to print (the default is 32).</dd>
</dl>
<dl>
<dt>
<i>-S</i></dt>
<dd>
Display system calls as well as library calls</dd>
</dl>
<dl>
<dt>
<i>-t</i></dt>
<dd>
Prefix each line of the trace with the time of day.</dd>
</dl>
<dl>
<dt>
<i>-tt</i></dt>
<dd>
If given twice, the time printed will include the microseconds.</dd>
</dl>
<dl>
<dt>
<i>-ttt</i></dt>
<dd>
If given thrice, the time printed will include the microseconds and the leading portion will be printed as the number of seconds since the epoch.</dd>
</dl>
<dl>
<dt>
<i>-T</i></dt>
<dd>
Show  the  time  spent inside each call. This records the time difference between the beginning and the end of each call.</dd>
</dl>
<dl>
<dt>
<i>-u username</i></dt>
<dd>
Run command with the userid, groupid and supplementary groups of <i>username</i>. This option is only useful when running as root and enables the correct execution of setuid and/or setgid binaries.</dd>
</dl>
<dl>
<dt>
<i>-X extern</i></dt>
<dd>
Some architectures need to know where to set a breakpoint that will be hit after the dynamic linker has run.  If this flag is used, then the breakpoint is set at <i>extern</i>, which must be an external function.  By default, '_start' is used. NOTE: this flag is only available on the architectures that need it.</dd>
</dl>
<dl>
<dt>
<i>-x extern</i></dt>
<dd>
Trace the external function <i>extern</i>. This option may be repeated.</dd>
</dl>
<dl>
<dt>
<i>-V, --version</i></dt>
<dd>
Show the version number of ltrace and exit.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>BUGS</h1> It has most of the bugs stated in <b>strace(1)</b>.<div class="spacer">
</div>
Manual page and documentation are not very up-to-date.<div class="spacer">
</div>
Option -f sometimes fails to trace some children.<div class="spacer">
</div>
It only works on Linux and in a small subset of architectures.<div class="spacer">
</div>
Only ELF32 binaries are supported.<div class="spacer">
</div>
Calls to dlopen()ed libraries will not be traced.<div class="spacer">
</div>
If you would like to report a bug, send a message to the mailing list (ltrace-devel@lists.alioth.debian.org), or use the <b>reportbug(1)</b> program if you are under the Debian GNU/Linux distribution.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<i>/etc/ltrace.conf</i></dt>
<dd>
System configuration file</dd>
</dl>
<dl>
<dt>
<i>~/.ltrace.conf</i></dt>
<dd>
Personal config file, overrides <i>/etc/ltrace.conf</i><div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> Juan Cespedes &lt;cespedes@debian.org&gt;<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>strace(1)</b>, <b>ptrace(2)</b><div style="height: 1.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

