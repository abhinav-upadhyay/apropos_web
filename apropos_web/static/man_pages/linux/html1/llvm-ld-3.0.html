<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
LLVM-LD(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LLVM-LD(1)</td>
<td class="head-vol">
LLVM Command Guide</td>
<td class="head-rtitle">
LLVM-LD(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> llvm-ld - LLVM linker</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>llvm-ld</b> &lt;options&gt; &lt;files&gt;</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <b>llvm-ld</b> tool takes a set of LLVM bitcode files and links them together into a single LLVM bitcode file.  The output bitcode file can be another bitcode file or an executable bitcode program.  Using additional options,  <b>llvm-ld</b> is able to produce native code executables.<div class="spacer">
</div>
The <b>llvm-ld</b> tool is the main linker for LLVM. It is used to link together the output of LLVM front-end compilers and run &quot;link time&quot; optimizations (mostly the inter-procedural kind).<div class="spacer">
</div>
The <b>llvm-ld</b> tools attempts to mimic the interface provided by the default system linker so that it can act as a  <i>drop-in</i> replacement.<div class="subsection">
<h2>Search Order</h2> When looking for objects specified on the command line,  <b>llvm-ld</b> will search for the object first in the current directory and then in the directory specified by the  <b>LLVM_LIB_SEARCH_PATH</b> environment variable.  If it cannot find the object, it fails.<div class="spacer">
</div>
When looking for a library specified with the <b>-l</b> option, <b>llvm-ld</b> first attempts to load a file with that name from the current directory.  If that fails, it looks for lib <i>library</i>.bc, lib<i>library</i>.a, or lib<i>library</i>.<i>shared</i>  <i>library extension</i>, in that order, in each directory added to the library search path with the  <b>-L</b> option.  These directories are searched in the order they are specified.  If the library cannot be located, then  <b>llvm-ld</b> looks in the directory specified by the  <b>LLVM_LIB_SEARCH_PATH</b> environment variable.  If it does not find a library there, it fails.<div class="spacer">
</div>
The <i>shared library extension</i> may be <i>.so</i>, <i>.dyld</i>, <i>.dll</i>, or something different, depending upon the system.<div class="spacer">
</div>
The <b>-L</b> option is global.  It does not matter where it is specified in the list of command line arguments; the directory is simply added to the search path and is applied to all libraries, preceding or succeeding, in the command line.</div>
<div class="subsection">
<h2>Link order</h2> All object and bitcode files are linked first in the order they were specified on the command line.  All library files are linked next. Some libraries may not be linked into the object program; see below.</div>
<div class="subsection">
<h2>Library Linkage</h2> Object files and static bitcode objects are always linked into the output file.  Library archives (.a files) load only the objects within the archive that define symbols needed by the output file.  Hence, libraries should be listed after the object files and libraries which need them; otherwise, the library may not be linked in, and the dependent library will not have its undefined symbols defined.</div>
<div class="subsection">
<h2>Native code generation</h2> The  <b>llvm-ld</b> program has limited support for native code generation, when using the  <b>-native</b> or <b>-native-cbe</b> options. Native code generation is performed by converting the linked bitcode into native assembly (.s) or C code and running the system compiler (typically gcc) on the result.</div>
</div>
<div class="section">
<h1>OPTIONS</h1><div class="subsection">
<h2>General Options</h2><dl>
<dt>
<b>-help</b></dt>
<dd>
Print a summary of command line options.</dd>
</dl>
<dl>
<dt>
<b>-v</b></dt>
<dd>
Specifies verbose mode. In this mode the linker will print additional information about the actions it takes, programs it executes, etc.</dd>
</dl>
<dl>
<dt>
<b>-stats</b></dt>
<dd>
Print statistics.</dd>
</dl>
<dl>
<dt>
<b>-time-passes</b></dt>
<dd>
Record the amount of time needed for each pass and print it to standard error.</dd>
</dl>
</div>
<div class="subsection">
<h2>Input/Output Options</h2><dl>
<dt>
<b>-o</b> <i>filename</i></dt>
<dd>
This overrides the default output file and specifies the name of the file that should be generated by the linker. By default,  <b>llvm-ld</b> generates a file named  <i>a.out</i> for compatibility with <b>ld</b>. The output will be written to  <i>filename</i>.</dd>
</dl>
<dl>
<dt>
<b>-b</b> <i>filename</i></dt>
<dd>
This option can be used to override the output bitcode file name. By default, the name of the bitcode output file is one more &quot;.bc&quot; suffix added to the name specified by  <b>-o filename</b> option.</dd>
</dl>
<dl>
<dt>
<b>-l</b><i>name</i></dt>
<dd>
This option specifies the <i>name</i> of a library to search when resolving symbols for the program. Only the base name should be specified as  <i>name</i>, without a  <i>lib</i> prefix or any suffix.</dd>
</dl>
<dl>
<dt>
<b>-L</b><i>Path</i></dt>
<dd>
This option tells <b>llvm-ld</b> to look in <i>Path</i> to find any library subsequently specified with the  <b>-l</b> option. The paths will be searched in the order in which they are specified on the command line. If the library is still not found, a small set of system specific directories will also be searched. Note that libraries specified with the  <b>-l</b> option that occur <i>before</i> any <b>-L</b> options will not search the paths given by the  <b>-L</b> options following it.</dd>
</dl>
<dl>
<dt>
<b>-link-as-library</b></dt>
<dd>
Link the bitcode files together as a library, not an executable. In this mode, undefined symbols will be permitted.</dd>
</dl>
<dl>
<dt>
<b>-r</b></dt>
<dd>
An alias for -link-as-library.</dd>
</dl>
<dl>
<dt>
<b>-native</b></dt>
<dd>
Generate a native machine code executable.<div style="height: 1.00em;">
&#160;</div>
When generating native executables, <b>llvm-ld</b> first checks for a bitcode version of the library and links it in, if necessary.  If the library is missing,  <b>llvm-ld</b> skips it.  Then, <b>llvm-ld</b> links in the same libraries as native code.<div style="height: 1.00em;">
&#160;</div>
In this way, <b>llvm-ld</b> should be able to link in optimized bitcode subsets of common libraries and then link in any part of the library that hasn't been converted to bitcode.</dd>
</dl>
<dl>
<dt>
<b>-native-cbe</b></dt>
<dd>
Generate a native machine code executable with the LLVM C backend.<div style="height: 1.00em;">
&#160;</div>
This option is identical to the <b>-native</b> option, but uses the C backend to generate code for the program instead of an LLVM native code generator.</dd>
</dl>
</div>
<div class="subsection">
<h2>Optimization Options</h2><dl>
<dt>
<b>-disable-inlining</b></dt>
<dd>
Do not run the inlining pass. Functions will not be inlined into other functions.</dd>
</dl>
<dl>
<dt>
<b>-disable-opt</b></dt>
<dd>
Completely disable optimization.</dd>
</dl>
<dl>
<dt>
<b>-disable-internalize</b></dt>
<dd>
Do not mark all symbols as internal.</dd>
</dl>
<dl>
<dt>
<b>-verify-each</b></dt>
<dd>
Run the verification pass after each of the passes to verify intermediate results.</dd>
</dl>
<dl>
<dt>
<b>-strip-all</b></dt>
<dd>
Strip all debug and symbol information from the executable to make it smaller.</dd>
</dl>
<dl>
<dt>
<b>-strip-debug</b></dt>
<dd>
Strip all debug information from the executable to make it smaller.</dd>
</dl>
<dl>
<dt>
<b>-s</b></dt>
<dd>
An alias for <b>-strip-all</b>.</dd>
</dl>
<dl>
<dt>
<b>-S</b></dt>
<dd>
An alias for <b>-strip-debug</b>.</dd>
</dl>
<dl>
<dt>
<b>-export-dynamic</b></dt>
<dd>
An alias for <b>-disable-internalize</b></dd>
</dl>
<dl>
<dt>
<b>-post-link-opt</b><i>Path</i></dt>
<dd>
Run post-link optimization program. After linking is completed a bitcode file will be generated. It will be passed to the program specified by  <i>Path</i> as the first argument. The second argument to the program will be the name of a temporary file into which the program should place its optimized output. For example, the &quot;no-op optimization&quot; would be a simple shell script:<div style="height: 1.00em;">
&#160;</div>
<br/>
    #!/bin/bash<br/>
    cp $1 $2<br/>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>EXIT STATUS</h1> If  <b>llvm-ld</b> succeeds, it will exit with 0 return code.  If an error occurs, it will exit with a non-zero return code.</div>
<div class="section">
<h1>ENVIRONMENT</h1> The &quot;LLVM_LIB_SEARCH_PATH&quot; environment variable is used to find bitcode libraries. Any paths specified in this variable will be searched after the &quot;-L&quot; options.</div>
<div class="section">
<h1>SEE ALSO</h1> llvm-link</div>
<div class="section">
<h1>AUTHORS</h1> Maintained by the LLVM Team (&lt;http://llvm.org/&gt;).</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-04-09</td>
<td class="foot-os">
CVS</td>
</tr>
</table>
</div>
</body>
</html>

