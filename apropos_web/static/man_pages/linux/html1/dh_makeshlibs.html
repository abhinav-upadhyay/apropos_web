<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
DH_MAKESHLIBS(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
DH_MAKESHLIBS(1)</td>
<td class="head-vol">
Debhelper</td>
<td class="head-rtitle">
DH_MAKESHLIBS(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> dh_makeshlibs - automatically create shlibs file and call dpkg-gensymbols</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>dh_makeshlibs</b> [<i>debhelper&#160;options</i>] [<b>-m</b><i>major</i>] [<b>-V</b><i>[dependencies]</i>] [<b>-n</b>] [<b>-X</b><i>item</i>] [<b>--</b>&#160;<i>params</i>]</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>dh_makeshlibs</b> is a debhelper program that automatically scans for shared libraries, and generates a shlibs file for the libraries it finds.<div class="spacer">
</div>
It also adds a call to ldconfig in the <i>postinst</i> and <i>postrm</i> scripts (in v3 mode and above only) to any packages in which it finds shared libraries.<div class="spacer">
</div>
Packages that support multiarch are detected, and a Pre-Dependency on multiarch-support is set in ${misc:Pre-Depends} ; you should make sure to put that token into an appropriate place in your debian/control file for packages supporting multiarch.</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
debian/<i>package</i>.symbols</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
debian/<i>package</i>.symbols.<i>arch</i></dt>
<dd>
These symbols files, if present, are passed to <i>dpkg-gensymbols</i>(1) to be processed and installed. Use the  <i>arch</i> specific names if you need to provide different symbols files for different architectures.</dd>
</dl>
</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>-m</b><i>major</i>, <b>--major=</b><i>major</i></dt>
<dd>
Instead of trying to guess the major number of the library with objdump, use the major number specified after the -m parameter. This is much less useful than it used to be, back in the bad old days when this program looked at library filenames rather than using objdump.</dd>
</dl>
<dl>
<dt>
<b>-V</b>, <b>-V</b><i>dependencies</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>--version-info</b>, <b>--version-info=</b><i>dependencies</i></dt>
<dd>
By default, the shlibs file generated by this program does not make packages depend on any particular version of the package containing the shared library. It may be necessary for you to add some version dependency information to the shlibs file. If  <b>-V</b> is specified with no dependency information, the current upstream version of the package is plugged into a dependency that looks like &quot; <i>packagename</i> <b>(&gt;</b>= <i>packageversion</i><b>)</b>&quot;. Note that in debhelper compatibility levels before v4, the Debian part of the package version number is also included. If  <b>-V</b> is specified with parameters, the parameters can be used to specify the exact dependency information needed (be sure to include the package name).<div style="height: 1.00em;">
&#160;</div>
Beware of using <b>-V</b> without any parameters; this is a conservative setting that always ensures that other packages' shared library dependencies are at least as tight as they need to be (unless your library is prone to changing ABI without updating the upstream version number), so that if the maintainer screws up then they won't break. The flip side is that packages might end up with dependencies that are too tight and so find it harder to be upgraded.</dd>
</dl>
<dl>
<dt>
<b>-n</b>, <b>--noscripts</b></dt>
<dd>
Do not modify <i>postinst</i>/<i>postrm</i> scripts.</dd>
</dl>
<dl>
<dt>
<b>-X</b><i>item</i>, <b>--exclude=</b><i>item</i></dt>
<dd>
Exclude files that contain <i>item</i> anywhere in their filename or directory from being treated as shared libraries.</dd>
</dl>
<dl>
<dt>
<b>--add-udeb=</b><i>udeb</i></dt>
<dd>
Create an additional line for udebs in the shlibs file and use <i>udeb</i> as the package name for udebs to depend on instead of the regular library package.</dd>
</dl>
<dl>
<dt>
<b>--</b> <i>params</i></dt>
<dd>
Pass <i>params</i> to <i>dpkg-gensymbols</i>(1).</dd>
</dl>
</div>
<div class="section">
<h1>EXAMPLES</h1><dl>
<dt>
<b>dh_makeshlibs</b></dt>
<dd>
Assuming this is a package named <i>libfoobar1</i>, generates a shlibs file that looks something like:<br/>
 libfoobar 1 libfoobar1</dd>
</dl>
<dl>
<dt>
<b>dh_makeshlibs -V</b></dt>
<dd>
Assuming the current version of the package is 1.1-3, generates a shlibs file that looks something like:<br/>
 libfoobar 1 libfoobar1 (&gt;= 1.1)</dd>
</dl>
<dl>
<dt>
<b>dh_makeshlibs -V 'libfoobar1 (&gt;= 1.0)'</b></dt>
<dd>
Generates a shlibs file that looks something like:<br/>
  libfoobar 1 libfoobar1 (&gt;= 1.0)</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>debhelper</i>(7)<div class="spacer">
</div>
This program is a part of debhelper.</div>
<div class="section">
<h1>AUTHOR</h1> Joey Hess &lt;joeyh@debian.org&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-10-20</td>
<td class="foot-os">
9.20120115ubuntu3</td>
</tr>
</table>
</div>
</body>
</html>

