<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
OCSINVENTORY-AGENT(1p)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
OCSINVENTORY-AGENT(1p)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
OCSINVENTORY-AGENT(1p)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ocsinventory-agent - Unified client for OCS-Inventory</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>ocsinventory-agent</b> [&#160;<b>-fhilpruw</b>&#160;] [&#160;<i>--server&#160;server</i>&#160;|&#160;<i>--local&#160;/tmp</i>&#160;]...</div>
<div class="section">
<h1>EXAMPLES</h1><br/>
    % ocsinventory-agent --server localhost<br/>
    # send an inventory to the OCS server<br/>
<br/>
    % ocsinventory-agent --server http://localhost/ocsinventory2<br/>
    # send an inventory over http to a server with a non standard<br/>
    # virtual directory<br/>
<br/>
    % ocsinventory-agent --server https://localhost/ocsinventory<br/>
    # send an inventory over https to the OCS server<br/>
<br/>
    % ocsinventory-agent --local /tmp<br/>
    # write an inventory in the /tmp directory<br/>
<br/>
    % ocsinventory-agent --server localhost --user=toto --password=pw --realm=&quot;Restricted Area&quot;<br/>
    # send a report to a server protected by a basic authentication<br/>
    % ocsinventory-agent --lazy<br/>
    # send an inventory only if the a random delay between 0 and PROLOG_FREQ had been run over.<br/>
<br/>
    % ocsinventory-agent --delaytime 60 -d<br/>
    # If NO PROLOG_FREQ has been preset, pick a time between execution and --delaytime for the agent to contact the server [default is 3600 seconds]<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <i>ocsinventory-agent</i> creates inventory and send or write them. This agent is the successor of the former linux_agent which was released with OCS 1.01 and prior. It also replaces the Solaris/AIX/BSD unofficial agents. The detailed list of supported Operating System is available in the Wiki.<dl>
<dt>
<i>GNU/Linux</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>Solaris</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>FreeBSD</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>NetBSD</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>OpenBSD</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>AIX</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>MacOSX</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>GNU/kFreeBSD</i></dt>
<dd>
</dd>
</dl>
</div>
<div class="section">
<h1>OPTIONS</h1> Most of the options are available in a  <i>short</i> form and a <i>long</i> form.  For example, the two lines below are all equivalent:<div class="spacer">
</div>
<br/>
    % ocsinventory-agent -s localhost<br/>
    % ocsinventory-agent --server localhost<br/>
<dl>
<dt>
<b>--backend-collect-timeout=SECONDS_BEFORE_KILL</b></dt>
<dd>
Time before OCS kills modules processing which don't end before the timeout.</dd>
</dl>
<dl>
<dt>
<b>--basevardir</b>=<i>DIR</i></dt>
<dd>
Indicate the place where the agent should store its files.</dd>
</dl>
<dl>
<dt>
<b>-d</b>, <b>--daemon</b></dt>
<dd>
Launch ocsinventory-agent in background. Proc::Daemon is needed.</dd>
</dl>
<dl>
<dt>
<b>--debug</b></dt>
<dd>
Turn the debug mode on.</dd>
</dl>
<dl>
<dt>
<b>--devlib</b></dt>
<dd>
This option is designed for backend module developer. With it enabled, ocsinventry-agent won't try to load the Backend module installed on the system. Instead it will scan the ./lib directory.</dd>
</dl>
<dl>
<dt>
<b>--delaytime=SECONDS_TO_WAIT</b></dt>
<dd>
This option defaults to waiting a <i>random()</i> time between 0 and 3600 before initially contacting the server assuming NO PROLOG_FREQ has been set. Once PROLOG_FREQ has been set, it uses that number at the top end of it's random setting. Useful for pre-setting a deployed agent's initial start time (so you don't jam the server all at once, but don't have to wait an hour to make sure the deployment worked).</dd>
</dl>
<dl>
<dt>
<b>-f</b>, <b>--force</b></dt>
<dd>
The agent will first contact the server during the PROLOG period. If the server doesn't know the machine or has outdated informations, it will ask for an inventory. With this option, the agent doesn't run the PROLOG with the server first but directly sends an inventory.</dd>
</dl>
<dl>
<dt>
<b>-i</b>, <b>--info</b></dt>
<dd>
Turn the verbose mode on. The flag is ignored if <b>--debug</b> is enable.</dd>
</dl>
<dl>
<dt>
<b>--lazy</b></dt>
<dd>
Do not contact the server more than one time during the PROLOG_FREQ and do an exit if there is nothing to do. Useful if you want to start the agent script regulary from the crontab but don't want to overload the server.</dd>
</dl>
<dl>
<dt>
<b>-l</b>, <b>--local</b>=<i>DIR</i></dt>
<dd>
Write an inventory in the <i>DIR</i> directory. A new file will be created if needed.</dd>
</dl>
<dl>
<dt>
<b>--logfile</b>=<i>FILE</i></dt>
<dd>
Log message in <i>FILE</i> and turn off STDERR</dd>
</dl>
<dl>
<dt>
<b>-p</b>, <b>--password</b>=<i>PASSWORD</i></dt>
<dd>
Use <i>PASSWORD</i> for an HTTP identification with the server.</dd>
</dl>
<dl>
<dt>
<b>-P</b>, <b>--proxy</b>=<i>PROXY</i></dt>
<dd>
Use <i>PROXY</i> to specify a proxy HTTP server. By default, the agent uses HTTP_PROXY environment variable.</dd>
</dl>
<dl>
<dt>
<b>-r</b>, <b>--realm</b>=<i>REALM</i></dt>
<dd>
Use <i>REALM</i> for an HTTP identification with the server. For example, the value can be 'Restricted Area'. You can find it in the login popup of your Internet browser.</dd>
</dl>
<dl>
<dt>
<b>-s</b>, <b>--server</b>=<i>URI</i></dt>
<dd>
The uri of the server. If <i>URI</i> doesn't start with http:// or https://, the assume the parameter is a hostname and rewrite it like that:<div style="height: 1.00em;">
&#160;</div>
<br/>
    % http://servername/ocsinventory<br/>
<div style="height: 1.00em;">
&#160;</div>
If you want to use https or another virtual directory you need to enter the full path.<div style="height: 1.00em;">
&#160;</div>
<b>--server</b> is ignored if <b>--local</b> is in use.</dd>
</dl>
<dl>
<dt>
<b>--stdout</b></dt>
<dd>
Print the inventory on stdout.<div style="height: 1.00em;">
&#160;</div>
<br/>
    % ocsinventory-agent --stdout &gt; /tmp/report.xml<br/>
    # prepare an inventory and write it in the /tmp/report.xml file.<br/>
    # A file will be created.<br/>
</dd>
</dl>
<dl>
<dt>
<b>--scan-homedirs</b></dt>
<dd>
Authorized OCS to scan home directories to increase the Virtual Machine inventory. WARNING: beware with user privacy by using this option because it may encounter private data scans (even if it's not designed for !).</dd>
</dl>
<dl>
<dt>
<b>--tag</b>=<i>TAG</i></dt>
<dd>
Mark the machine with the <i>TAG</i> tag. Once the initial inventory is accepted by the server this value is ignored and you've to change the information directly on the server. The server do so in order to centralize the administration of the machine.</dd>
</dl>
<dl>
<dt>
<b>-u</b> <i>USER</i>, <b>--user</b>=<i>USER</i></dt>
<dd>
Use <i>USER</i> for the server authentication.</dd>
</dl>
<dl>
<dt>
<b>--version</b>=<i>USER</i></dt>
<dd>
Print the version and exit.</dd>
</dl>
<dl>
<dt>
<b>-w</b> <i>DURATION</i>, <b>--wait</b>=<i>DURATION</i></dt>
<dd>
Wait before initializing the connexion with the server. If <i>DURATION</i> equal <i>server</i> the agent will use the PROLOG_FREQ of the server to determine the duration of this periode. Exactly like it would had done if it was in --daemon mode. Else if duration is a numerical value, it will be used directly.<div style="height: 1.00em;">
&#160;</div>
<br/>
    % ocsinventory-agent --wait 5 --server localhost<br/>
</dd>
</dl>
<dl>
<dt>
<b>--nosoftware</b></dt>
<dd>
Do not inventory the software installed on the machine. <b>--nosoft</b> also works but is deperecated.</dd>
</dl>
<dl>
<dt>
<b>--nolocal</b></dt>
<dd>
Desactivate local mode even if it is set in config file or command line</dd>
</dl>
</div>
<div class="section">
<h1>CONFIG FILE</h1> The agent try to initialize the settings from the  <b>ocsinventory-agent.cfg</b> config file.<div class="spacer">
</div>
It looks for the file in these directories:<dl>
<dt>
/etc/ocsinventory</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
/usr/local/etc/ocsinventory</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
/etc/ocsinventory-agent</dt>
<dd>
</dd>
</dl>
</div>
<div class="section">
<h1>AUTHORS</h1> The maintainer is Guillaume PROTET &lt;guillaume.protet@mortheres.info&gt;<div class="spacer">
</div>
Please read the AUTHORS, Changes and THANKS files to see who is behind OCS Inventory Agent.</div>
<div class="section">
<h1>SEE ALSO</h1><dl>
<dt>
OCS-Inventory website,</dt>
<dd>
<br/>
 http://www.ocsinventory-ng.org/<br/>
</dd>
</dl>
<dl>
<dt>
LaunchPad project page,</dt>
<dd>
<br/>
 http://launchpad.net/ocsinventory-unix-agent<br/>
</dd>
</dl>
<dl>
<dt>
forum,</dt>
<dd>
<br/>
 http://forums.ocsinventory-ng.org/<br/>
</dd>
</dl>
<dl>
<dt>
and wiki</dt>
<dd>
<br/>
 http://wiki.ocsinventory-ng.org/<br/>
</dd>
</dl>
</div>
<div class="section">
<h1>BUGS</h1> Please, use the forum as much as possible. You can open your own bug tickets. Patches are welcome. You can also use LaunchPad bugtracker or push your Bazaar branch on LaunchPad and do a merge request.</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright (C) 2006-2011 OCS Inventory contributors<div class="spacer">
</div>
<br/>
 This program is free software; you can redistribute it and/or modify<br/>
 it under the terms of the GNU General Public License as published by<br/>
 the Free Software Foundation; either version 2 of the License, or<br/>
 (at your option) any later version.<br/>
<br/>
 This program is distributed in the hope that it will be useful,<br/>
 but WITHOUT ANY WARRANTY; without even the implied warranty of<br/>
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the<br/>
 GNU General Public License for more details.<br/>
<br/>
 You should have received a copy of the GNU General Public License<br/>
 along with this program; if not, write to the Free Software<br/>
 Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-05-08</td>
<td class="foot-os">
perl v5.12.4</td>
</tr>
</table>
</div>
</body>
</html>

