<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
PERLAMIGA(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
PERLAMIGA(1)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
PERLAMIGA(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> perlamiga - Perl under Amiga OS</div>
<div class="section">
<h1>NOTE</h1>  <b>Perl 5.8.0 cannot be built in AmigaOS.  You can use either the</b>  <b>maintenance release Perl 5.6.1 or the development release Perl 5.7.2</b>  <b>in AmigaOS.  See &quot;PERL 5.8.0 BROKEN IN AMIGAOS&quot; if you want to help</b>  <b>fixing this problem.</b></div>
<div class="section">
<h1>SYNOPSIS</h1> One can read this document in the following formats:<div class="spacer">
</div>
<br/>
        man perlamiga<br/>
        multiview perlamiga.guide<br/>
<div class="spacer">
</div>
to list some (not all may be available simultaneously), or it may be read  <i>as is</i>: either as <i>README.amiga</i>, or <i>pod/perlamiga.pod</i>.<div class="spacer">
</div>
A recent version of perl for the Amiga can be found at the Geek Gadgets section of the Aminet:<div class="spacer">
</div>
<br/>
      http://www.aminet.net/~aminet/dev/gg<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div class="subsection">
<h2>Prerequisites for Compiling Perl on AmigaOS</h2><dl>
<dt>
<b>Unix emulation for AmigaOS: ixemul.library</b></dt>
<dd>
You need the Unix emulation for AmigaOS, whose most important part is  <b>ixemul.library</b>. For a minimum setup, get the latest versions of the following packages from the Aminet archives ( &lt;http://www.aminet.net/~aminet/&gt; ):<div style="height: 1.00em;">
&#160;</div>
<br/>
        ixemul-bin<br/>
        ixemul-env-bin<br/>
        pdksh-bin<br/>
<div style="height: 1.00em;">
&#160;</div>
Note also that this is a minimum setup; you might want to add other packages of  <b>ADE</b> (the <i>Amiga Developers Environment</i>).</dd>
</dl>
<dl>
<dt>
<b>Version of Amiga OS</b></dt>
<dd>
You need at the very least AmigaOS version 2.0. Recommended is version 3.1.</dd>
</dl>
</div>
<div class="subsection">
<h2>Starting Perl programs under AmigaOS</h2> Start your Perl program  <i>foo</i> with arguments &quot;arg1 arg2 arg3&quot; the same way as on any other platform, by<div class="spacer">
</div>
<br/>
        perl foo arg1 arg2 arg3<br/>
<div class="spacer">
</div>
If you want to specify perl options &quot;-my_opts&quot; to the perl itself (as opposed to your program), use<div class="spacer">
</div>
<br/>
        perl -my_opts foo arg1 arg2 arg3<br/>
<div class="spacer">
</div>
Alternately, you can try to get a replacement for the system's <b>Execute</b> command that honors the #!/usr/bin/perl syntax in scripts and set the s-Bit of your scripts. Then you can invoke your scripts like under UNIX with<div class="spacer">
</div>
<br/>
        foo arg1 arg2 arg3<br/>
<div class="spacer">
</div>
(Note that having *nixish full path to perl <i>/usr/bin/perl</i> is not necessary,  <i>perl</i> would be enough, but having full path would make it easier to use your script under *nix.)</div>
<div class="subsection">
<h2>Shortcomings of Perl under AmigaOS</h2> Perl under AmigaOS lacks some features of perl under UNIX because of deficiencies in the UNIX-emulation, most notably:<dl>
<dt>
&#8226;</dt>
<dd>
<i>fork()</i></dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
some features of the UNIX filesystem regarding link count and file dates</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
inplace operation (the -i switch) without backup file</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
<i>umask()</i> works, but the correct permissions are only set when the file is finally  <i>close()</i>d</dd>
</dl>
</div>
</div>
<div class="section">
<h1>INSTALLATION</h1> Change to the installation directory (most probably ADE:), and extract the binary distribution:<div class="spacer">
</div>
lha -mraxe x perl-$VERSION-bin.lha<div class="spacer">
</div>
or<div class="spacer">
</div>
tar xvzpf perl-$VERSION-bin.tgz<div class="spacer">
</div>
(Of course you need lha or tar and gunzip for this.)<div class="spacer">
</div>
For installation of the Unix emulation, read the appropriate docs.</div>
<div class="section">
<h1>Accessing documentation</h1><div class="subsection">
<h2>Manpages for Perl on AmigaOS</h2> If you have &quot;man&quot; installed on your system, and you installed perl manpages, use something like this:<div class="spacer">
</div>
<br/>
        man perlfunc<br/>
        man less<br/>
        man ExtUtils.MakeMaker<br/>
<div class="spacer">
</div>
to access documentation for different components of Perl. Start with<div class="spacer">
</div>
<br/>
        man perl<br/>
<div class="spacer">
</div>
Note: You have to modify your man.conf file to search for manpages in the /ade/lib/perl5/man/man3 directory, or the man pages for the perl library will not be found.<div class="spacer">
</div>
Note that dot (<i>.</i>) is used as a package separator for documentation for packages, and as usual, sometimes you need to give the section - 3 above - to avoid shadowing by the  <i></i><i>less</i><i>(1) manpage</i>.</div>
<div class="subsection">
<h2>Perl HTML Documentation on AmigaOS</h2> If you have some WWW browser available, you can build  <b>HTML</b> docs. Cd to directory with  <i>.pod</i> files, and do like this<div class="spacer">
</div>
<br/>
        cd /ade/lib/perl5/pod<br/>
        pod2html<br/>
<div class="spacer">
</div>
After this you can direct your browser the file <i>perl.html</i> in this directory, and go ahead with reading docs.<div class="spacer">
</div>
Alternatively you may be able to get these docs prebuilt from &quot;CPAN&quot;.</div>
<div class="subsection">
<h2>Perl GNU Info Files on AmigaOS</h2> Users of &quot;Emacs&quot; would appreciate it very much, especially with &quot;CPerl&quot; mode loaded. You need to get latest &quot;pod2info&quot; from &quot;CPAN&quot;, or, alternately, prebuilt info pages.</div>
<div class="subsection">
<h2>Perl LaTeX Documentation on AmigaOS</h2> Can be constructed using &quot;pod2latex&quot;.</div>
</div>
<div class="section">
<h1>BUILDING PERL ON AMIGAOS</h1> Here we discuss how to build Perl under AmigaOS.<div class="subsection">
<h2>Build Prerequisites for Perl on AmigaOS</h2> You need to have the latest  <b>ixemul</b> (Unix emulation for Amiga) from Aminet.</div>
<div class="subsection">
<h2>Getting the Perl Source for AmigaOS</h2> You can either get the latest perl-for-amiga source from Ninemoons and extract it with:<div class="spacer">
</div>
<br/>
  tar xvzpf perl-$VERSION-src.tgz<br/>
<div class="spacer">
</div>
or get the official source from CPAN:<div class="spacer">
</div>
<br/>
  http://www.cpan.org/src/5.0<br/>
<div class="spacer">
</div>
Extract it like this<div class="spacer">
</div>
<br/>
  tar xvzpf perl-$VERSION.tar.gz<br/>
<div class="spacer">
</div>
You will see a message about errors while extracting <i>Configure</i>. This is normal and expected. (There is a conflict with a similarly-named file  <i>configure</i>, but it causes no harm.)</div>
<div class="subsection">
<h2>Making Perl on AmigaOS</h2> Remember to use a hefty wad of stack (I use 2000000)<div class="spacer">
</div>
<br/>
  sh configure.gnu --prefix=/gg<br/>
<div class="spacer">
</div>
Now type<div class="spacer">
</div>
<br/>
  make depend<br/>
<div class="spacer">
</div>
Now!<div class="spacer">
</div>
<br/>
  make<br/>
</div>
<div class="subsection">
<h2>Testing Perl on AmigaOS</h2> Now run<div class="spacer">
</div>
<br/>
  make test<br/>
<div class="spacer">
</div>
Some tests will be skipped because they need the <i>fork()</i> function:<div class="spacer">
</div>
<i>io/pipe.t</i>, <i>op/fork.t</i>, <i>lib/filehand.t</i>, <i>lib/open2.t</i>, <i>lib/open3.t</i>,  <i>lib/io_pipe.t</i>, <i>lib/io_sock.t</i></div>
<div class="subsection">
<h2>Installing the built Perl on AmigaOS</h2> Run<div class="spacer">
</div>
<br/>
  make install<br/>
</div>
</div>
<div class="section">
<h1>PERL 5.8.0 BROKEN IN AMIGAOS</h1> As told above, Perl 5.6.1 was still good in AmigaOS, as was 5.7.2. After Perl 5.7.2 (change #11423, see the Changes file, and the file pod/perlhack.pod for how to get the individual changes) Perl dropped its internal support for  <i>vfork()</i>, and that was very probably the step that broke AmigaOS (since the ixemul library has only vfork). The build finally fails when the ext/DynaLoader is being built, and PERL ends up as &quot;0&quot; in the produced Makefile, trying to run &quot;0&quot; does not quite work.  Also, executing miniperl in backticks seems to generate nothing: very probably related to the (v)fork problems.  <b>Fixing the breakage requires someone quite familiar with the ixemul</b>  <b>library, and how one is supposed to run external commands in AmigaOS</b>  <b>without </b><b><i>fork()</i></b><b>.</b></div>
<div class="section">
<h1>AUTHORS</h1> Norbert Pueschel, pueschel@imsdd.meb.uni-bonn.de Jan-Erik Karlsson, trg@privat.utfors.se</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>perl</i>(1).</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-19</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

