<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
PERLMPEIX(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
PERLMPEIX(1)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
PERLMPEIX(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> README.mpeix - Perl/iX for HP e3000 MPE</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
   http://www.bixby.org/mark/perlix.html<br/>
   Perl language for MPE<br/>
   Last updated January 12, 2006 @ 2100 UTC<br/>
</div>
<div class="section">
<h1>NOTE</h1> This is a podified version of what used to be on the above-mentioned web page, podified by Jarkko Hietaniemi 2001-Jan-01.</div>
<div class="section">
<h1>What's New in Perl for MPE/iX</h1> January 12, 2006<dl>
<dt>
&#8226;</dt>
<dd>
Updated for perl-5.8.8 and perl-5.9.3 by Ken Hirsch.<div style="height: 1.00em;">
&#160;</div>
Simplified the build process by using the MPEAUTOCONF functionality in Mark Klein's ld.<div style="height: 1.00em;">
&#160;</div>
If you build this from scratch, make sure you have a version of ld which supports it.  In the shell, type<div style="height: 1.00em;">
&#160;</div>
<br/>
  ld --help<br/>
    and look for AUTOCONF or MPEAUTOCONF near the bottom<br/>
<br/>
  or do this:<br/>
  ld --help 2&gt;&amp;1 | grep AUTOCONF<br/>
<div style="height: 1.00em;">
&#160;</div>
If you see don't see AUTOCONF or MPEAUTOCONF, make sure you get a new version.<div style="height: 1.00em;">
&#160;</div>
You also do not have to use mpeix/relink after building, so the recommend sequence is:<div style="height: 1.00em;">
&#160;</div>
<br/>
  ./Configure -de<br/>
<br/>
      # or ./Configure -de -Dusedevel <br/>
      # if you're building a development version<br/>
<br/>
  make<br/>
  make test<br/>
     # if you run this in a job, do &quot;make test_notty&quot;<br/>
<br/>
  make install<br/>
<div style="height: 1.00em;">
&#160;</div>
Be prepared for a wait. These take much longer on MPE/iX than on a Unix system, because of a slow forking, mostly.  On a lightly-loaded HP3000 Series 979 running MPE/iX 7.5:<div style="height: 1.00em;">
&#160;</div>
<br/>
    Configure: 1 hour<br/>
    make:      1 hour 15 minutes<br/>
    make test  1 hour 45 minutes<br/>
<div style="height: 1.00em;">
&#160;</div>
Various socket problems were fixed in mpeix.c.<div style="height: 1.00em;">
&#160;</div>
Mark Klein provided a fixed sigsetjmp (that works with dynamic libraries) in mpeix_setjmp.c</dd>
</dl>
<div class="spacer">
</div>
June 1, 2000<dl>
<dt>
&#8226;</dt>
<dd>
Rebuilt to be compatible with mod_perl.  If you plan on using mod_perl, you MUST download and install this version of Perl/iX!</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
uselargefiles=&quot;undef&quot;: not available in MPE for POSIX files yet.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Now bundled with various add-on packages:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
libnet (as seen on CPAN)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
libwww-perl (LWP) which lets Perl programs behave like web browsers:</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
mod_perl (just the perl portion; the actual DSO will be released soon with Apache/iX 1.3.12 from bixby.org).  This module allows you to write high performance persistent Perl CGI scripts and all sorts of cool things. (&lt;http://perl.apache.org/&gt;)<div style="height: 1.00em;">
&#160;</div>
and much much more hiding under /PERL/PUB/.cpan/</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The CPAN module now works for automatic downloading and installing of add-on packages:<div style="height: 1.00em;">
&#160;</div>
<br/>
    1. export FTP_PASSIVE=1<br/>
    2. perl -MCPAN -e shell<br/>
    3. Ignore any terminal I/O related complaints!<br/>
<div style="height: 1.00em;">
&#160;</div>
(&lt;http://search.cpan.org/dist/CPAN/&gt;)</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<div class="spacer">
</div>
May 20, 2000<dl>
<dt>
&#8226;</dt>
<dd>
Updated to version 5.6.0.  Builds straight out of the box on MPE/iX.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Perl's <i>getpwnam()</i> function which had regressed to being unimplemented on MPE is now implemented once again.</dd>
</dl>
<div class="spacer">
</div>
September 17, 1999<dl>
<dt>
&#8226;</dt>
<dd>
Migrated from cccd.edu to bixby.org.</dd>
</dl>
</div>
<div class="section">
<h1>Welcome to Perl/iX</h1> This is the official home page for the HP e3000 MPE/iX ( &lt;http://www.hp.com/go/e3000&gt; ) port of the Perl scripting language ( &lt;http://www.perl.com/&gt; ) which gives you all of the power of C, awk, sed, and sh in a single language. Check here for the latest news, implemented functionality, known bugs, to-do list, etc. Status reports about major milestones will also be posted to the HP3000-L mailing list ( http://www.lsoft.com/scripts/wl.exe?SL1=HP3000-L&amp;H=RAVEN.UTC.EDU &lt;http://www.lsoft.com/scripts/wl.exe?SL1=HP3000-L&amp;H=RAVEN.UTC.EDU&gt; ) and its associated gatewayed newsgroup comp.sys.hp.mpe.<div class="spacer">
</div>
I'm doing this port because I can't live without Perl on the Unix machines that I administer, and I want to have the same power available to me on MPE.<div class="spacer">
</div>
Please send your comments, questions, and bug reports directly to me, Mark Bixby ( &lt;http://www.bixby.org/mark/&gt; ). Or just post them to HP3000-L.<div class="spacer">
</div>
The platform I'm using to do this port is an HP 3000 957RX running MPE/iX 6.0 and using the GNU gcc C compiler ( &lt;http://jazz.external.hp.com/src/gnu/gnuframe.html&gt; ).<div class="spacer">
</div>
The combined porting wisdom from all of my ports can be found in my MPE/iX Porting Guide (&lt;http://www.bixby.org/mark/porting.html&gt;).<div class="spacer">
</div>
IMPORTANT NOTICE: Yes, I do work for the HP CSY R&amp;D lab, but ALL of the software you download from bixby.org is my personal freeware that is NOT supported by HP.</div>
<div class="section">
<h1>System Requirements for Perl/iX</h1><dl>
<dt>
&#8226;</dt>
<dd>
MPE/iX 5.5 or later. This version of Perl/iX does NOT run on MPE/iX 5.0 or earlier, nor does it run on &quot;classic&quot; MPE/V machines.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
If you wish to recompile Perl, you must install both GNUCORE and GNUGCC from jazz (&lt;http://jazz.external.hp.com/src/gnu/gnuframe.html&gt;).</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Perl/iX will be happier on MPE/iX 5.5 if you install the MPEKX40B extended POSIX filename characters patch, but this is optional.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Patch LBCJXT6A is required on MPE/iX 5.5 machines in order to prevent Perl/iX from dying with an unresolved external reference to _getenv_libc.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
If you will be compiling Perl/iX yourself, you will also need Syslog/iX ( &lt;http://www.bixby.org/mark/syslogix.html&gt; ) and the /BIND/PUB/include and /BIND/PUB/lib portions of BIND/iX ( &lt;http://www.bixby.org/mark/bindix.html&gt; ).</dd>
</dl>
</div>
<div class="section">
<h1>How to Obtain Perl/iX</h1><dl>
<dt>
1.</dt>
<dd>
Download Perl using either FTP.ARPA.SYS or some other client</dd>
</dl>
<dl>
<dt>
2.</dt>
<dd>
Extract the installation script</dd>
</dl>
<dl>
<dt>
3.</dt>
<dd>
Edit the installation script</dd>
</dl>
<dl>
<dt>
4.</dt>
<dd>
Run the installation script</dd>
</dl>
<dl>
<dt>
5.</dt>
<dd>
Convert your *.a system archive libraries to *.sl shared libraries</dd>
</dl>
<div class="spacer">
</div>
Download Perl using FTP.ARPA.SYS from your HP 3000 (the preferred method).....<div class="spacer">
</div>
<br/>
    :HELLO MANAGER.SYS<br/>
    :XEQ FTP.ARPA.SYS<br/>
    open ftp.bixby.org<br/>
    anonymous<br/>
    your@email.address<br/>
    bytestream<br/>
    cd /pub/mpe<br/>
    get perl-5.6.0-mpe.tar.Z /tmp/perl.tar.Z;disc=2147483647<br/>
    exit<br/>
<div class="spacer">
</div>
.....Or download using some other generic web or ftp client (the alternate method)<div class="spacer">
</div>
Download the following files (make sure that you use &quot;binary mode&quot; or whatever client feature that is 8-bit clean):<dl>
<dt>
&#8226;</dt>
<dd>
Perl from<div style="height: 1.00em;">
&#160;</div>
<br/>
    http://www.bixby.org/ftp/pub/mpe/perl-5.6.0-mpe.tar.Z<br/>
<div style="height: 1.00em;">
&#160;</div>
or<div style="height: 1.00em;">
&#160;</div>
<br/>
    ftp://ftp.bixby.org/pub/mpe/perl-5.6.0-mpe.tar.Z<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Upload those files to your HP 3000 in an 8-bit clean bytestream manner to:<div style="height: 1.00em;">
&#160;</div>
<br/>
    /tmp/perl.tar.Z<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Then extract the installation script (after both download methods)<div style="height: 1.00em;">
&#160;</div>
<br/>
    :CHDIR /tmp<br/>
    :XEQ TAR.HPBIN.SYS 'xvfopz /tmp/perl.tar.Z INSTALL'<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Edit the installation script<div style="height: 1.00em;">
&#160;</div>
Examine the accounting structure creation commands and modify if necessary (adding additional capabilities, choosing a non-system volume set, etc).<div style="height: 1.00em;">
&#160;</div>
<br/>
    :XEQ VI.HPBIN.SYS /tmp/INSTALL<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Run the installation script.<div style="height: 1.00em;">
&#160;</div>
The accounting structure will be created and then all files will be extracted from the archive.<div style="height: 1.00em;">
&#160;</div>
<br/>
    :XEQ SH.HPBIN.SYS /tmp/INSTALL<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Convert your *.a system archive libraries to *.sl shared libraries<div style="height: 1.00em;">
&#160;</div>
You only have to do this ONCE on your MPE/iX 5.5 machine in order to convert /lib/lib*.a and /usr/lib/lib*.a libraries to their *.sl equivalents.  This step should not be necessary on MPE/iX 6.0 or later machines because the 6.0 or later update process does it for you.<div style="height: 1.00em;">
&#160;</div>
<br/>
    :XEQ SH.HPBIN.SYS /PERL/PUB/LIBSHP3K<br/>
</dd>
</dl>
</div>
<div class="section">
<h1>Perl/iX Distribution Contents Highlights</h1><dl>
<dt>
README</dt>
<dd>
The file you're reading now.</dd>
</dl>
<dl>
<dt>
INSTALL</dt>
<dd>
Perl/iX Installation script.</dd>
</dl>
<dl>
<dt>
LIBSHP3K</dt>
<dd>
Script to convert *.a system archive libraries to *.sl shared libraries.</dd>
</dl>
<dl>
<dt>
PERL</dt>
<dd>
Perl NMPRG executable.  A version-numbered backup copy also exists.  You might wish to &quot;ln -s /PERL/PUB/PERL /usr/local/bin/perl&quot;.</dd>
</dl>
<dl>
<dt>
.cpan/</dt>
<dd>
Much add-on source code downloaded with the CPAN module.</dd>
</dl>
<dl>
<dt>
lib/</dt>
<dd>
Perl libraries, both core and add-on.</dd>
</dl>
<dl>
<dt>
man/</dt>
<dd>
Perl man page documentation.</dd>
</dl>
<dl>
<dt>
public_html/feedback.cgi</dt>
<dd>
Sample feedback CGI form written in Perl.</dd>
</dl>
<dl>
<dt>
src/perl-5.6.0-mpe</dt>
<dd>
Source code.</dd>
</dl>
</div>
<div class="section">
<h1>How to Compile Perl/iX</h1><dl>
<dt>
1.</dt>
<dd>
cd src/perl-5.6.0-mpe</dd>
</dl>
<dl>
<dt>
2.</dt>
<dd>
Read the INSTALL file for the official instructions</dd>
</dl>
<dl>
<dt>
3.</dt>
<dd>
./Configure -d</dd>
</dl>
<dl>
<dt>
4.</dt>
<dd>
make</dd>
</dl>
<dl>
<dt>
5.</dt>
<dd>
./mpeix/relink</dd>
</dl>
<dl>
<dt>
6.</dt>
<dd>
make test (expect approximately 15 out of 11306 subtests to fail, mostly due to MPE not supporting hard links, UDP socket problems, and handling  <i>exit()</i> return codes improperly)</dd>
</dl>
<dl>
<dt>
7.</dt>
<dd>
make install</dd>
</dl>
<dl>
<dt>
8.</dt>
<dd>
Optionally create symbolic links that point to the Perl executable, i.e. ln -s /PERL/PUB/PERL /usr/local/bin/perl</dd>
</dl>
<div class="spacer">
</div>
The summary test results from &quot;cd t; ./perl -I../lib harness&quot;:<div class="spacer">
</div>
<br/>
  Failed Test  Status Wstat Total Fail  Failed  List of failed<br/>
  ---------------------------------------------------------------------------<br/>
  io/fs.t                      29    8  27.59%  2-5, 7-9, 11<br/>
  io/openpid.t                 10    1  10.00%  7<br/>
  lib/io_sock.t                14    1   7.14%  13<br/>
  lib/io_udp.t                  7    2  28.57%  3, 5<br/>
  lib/posix.t                  27    1   3.70%  12<br/>
  op/lex_assign.t             187    1   0.53%  13<br/>
  op/stat.t                    58    1   1.72%  3<br/>
  15 tests and 94 subtests skipped.<br/>
  Failed 7/236 test scripts, 97.03% okay. 15/11306 subtests failed, 99.87% okay.<br/>
</div>
<div class="section">
<h1>Getting Started with Perl/iX</h1> Create your Perl script files with &quot;#!/PERL/PUB/perl&quot; (or an equivalent symbolic link) as the first line.  Use the chmod command to make sure that your script has execute permission. Run your script!<div class="spacer">
</div>
Be sure to take a look at the CPAN module list ( &lt;http://www.cpan.org/CPAN.html&gt; ). A wide variety of free Perl software is available.  You can automatically download these packages by using the CPAN module ( &lt;http://search.cpan.org/dist/CPAN/&gt; ).</div>
<div class="section">
<h1>MPE/iX Implementation Considerations</h1> There some minor functionality issues to be aware of when comparing Perl for Unix (Perl/UX) to Perl/iX:<dl>
<dt>
&#8226;</dt>
<dd>
MPE gcc/ld doesn't properly support linking NMPRG executables against NMXL dynamic libraries, so you must manually run mpeix/relink after each re-build of Perl.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Perl/iX File::Copy will use MPE's /bin/cp command to copy files by name in order to preserve file attributes like file code.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
MPE (and thus Perl/iX) lacks support for <i>setgrent()</i>, <i>endgrent()</i>,  <i>setpwent()</i>, <i>endpwent()</i>.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
MPE (and thus Perl/iX) lacks support for hard links.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
MPE requires <i>GETPRIVMODE()</i> in order to <i>bind()</i> to ports less than 1024. Perl/iX will call  <i>GETPRIVMODE()</i> automatically on your behalf if you attempt to  <i>bind()</i> to these low-numbered ports.  Note that the Perl/iX executable and the PERL account do not normally have CAP=PM, so if you will be  <i>bind()</i>-ing to these privileged ports, you will manually need to add PM capability as appropriate.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
MPE requires that you <i>bind()</i> to an IP address of zero.  Perl/iX automatically replaces the IP address that you pass to  <i>bind()</i> with a zero.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
MPE requires <i>GETPRIVMODE()</i> in order to <i>setuid()</i>.  There are too many calls to  <i>setuid()</i> within Perl/iX, so I have not attempted an automatic  <i>GETPRIVMODE()</i> solution similar to <i>bind()</i>.</dd>
</dl>
</div>
<div class="section">
<h1>Known Perl/iX Bugs Under Investigation</h1> None.</div>
<div class="section">
<h1>Perl/iX To-Do List</h1><dl>
<dt>
&#8226;</dt>
<dd>
Make <i>setuid()</i>/<i>setgid()</i> support work.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Make sure that <i>fcntl()</i> against a socket descriptor is redirected to <i>sfcntl()</i>.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Add support for Berkeley DB once I've finished porting Berkeley DB.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Write an MPE XS extension library containing miscellaneous important MPE functions like  <i>GETPRIVMODE()</i>, <i>GETUSERMODE()</i>, and <i>sfcntl()</i>.</dd>
</dl>
</div>
<div class="section">
<h1>Perl/iX Change History</h1> May 6, 1999<dl>
<dt>
&#8226;</dt>
<dd>
Patch LBCJXT6A is required on MPE/iX 5.5 machines in order to prevent Perl/iX from dying with an unresolved external reference to _getenv_libc.</dd>
</dl>
<div class="spacer">
</div>
April 7, 1999<dl>
<dt>
&#8226;</dt>
<dd>
Updated to version 5.005_03.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The official source distribution once again compiles &quot;straight out of the box&quot; for MPE.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The current incarnation of the 5.5 POSIX filename extended characters patch is now MPEKX40B.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The LIBSHP3K *.a -&gt; *.sl library conversion script is now included as /PERL/PUB/LIBSHP3K.</dd>
</dl>
<div class="spacer">
</div>
November 20, 1998<dl>
<dt>
&#8226;</dt>
<dd>
Updated to version 5.005_02.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Fixed a DynaLoader bug that was unable to load symbols from relative path name libraries.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Fixed a .xs compilation bug where the mpeixish.sh include file wasn't being installed into the proper directory.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
All bugfixes will be submitted back to the official Perl developers.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The current incarnation of the POSIX filename extended characters patch is now MPEKXJ3A.</dd>
</dl>
<div class="spacer">
</div>
August 14, 1998<dl>
<dt>
&#8226;</dt>
<dd>
The previous POSIX filename extended characters patch MPEKX44C has been superseded by MPEKXB5A.</dd>
</dl>
<div class="spacer">
</div>
August 7, 1998<dl>
<dt>
&#8226;</dt>
<dd>
The previous POSIX filename extended characters patch MPEKX76A has been superseded by MPEKX44C.</dd>
</dl>
<div class="spacer">
</div>
July 28, 1998<dl>
<dt>
&#8226;</dt>
<dd>
Updated to version 5.005_01.</dd>
</dl>
<div class="spacer">
</div>
July 23, 1998<dl>
<dt>
&#8226;</dt>
<dd>
Updated to version 5.005 (production release).  The public freeware sources are now 100% MPE-ready &quot;straight out of the box&quot;.</dd>
</dl>
<div class="spacer">
</div>
July 17, 1998<dl>
<dt>
&#8226;</dt>
<dd>
Updated to version 5.005b1 (public beta release).  The public freeware sources are now 99.9% MPE-ready.  By installing and testing this beta on your own HP3000, you will be helping to insure that the final release of 5.005 will be 100% MPE-ready and 100% bug free.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
My MPE binary release is now extracted using my standard INSTALL script.</dd>
</dl>
<div class="spacer">
</div>
July 15, 1998<dl>
<dt>
&#8226;</dt>
<dd>
Changed startperl to #!/PERL/PUB/perl so that Perl will recognize scripts more easily and efficiently.</dd>
</dl>
<div class="spacer">
</div>
July 8, 1998<dl>
<dt>
&#8226;</dt>
<dd>
Updated to version 5.004_70 (internal developer release) which is now MPE-ready.  The next public freeware release of Perl should compile &quot;straight out of the box&quot; on MPE.  Note that this version of Perl/iX was strictly internal to me and never publicly released.  Note that [21]BIND/iX is now required (well, the include files and libbind.a) if you wish to compile Perl/iX.</dd>
</dl>
<div class="spacer">
</div>
November 6, 1997<dl>
<dt>
&#8226;</dt>
<dd>
Updated to version 5.004_04.  No changes in MPE-specific functionality.</dd>
</dl>
<div class="spacer">
</div>
October 16, 1997<dl>
<dt>
&#8226;</dt>
<dd>
Added Demos section to the Perl/iX home page so you can see some sample Perl applications running on my 3000.</dd>
</dl>
<div class="spacer">
</div>
October 3, 1997<dl>
<dt>
&#8226;</dt>
<dd>
Added System Requirements section to the Perl/iX home page just so the prerequisites stand out more. Various other home page tweaks.</dd>
</dl>
<div class="spacer">
</div>
October 2, 1997<dl>
<dt>
&#8226;</dt>
<dd>
Initial public release.</dd>
</dl>
<div class="spacer">
</div>
September 1997<dl>
<dt>
&#8226;</dt>
<dd>
Porting begins.</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> Mark Bixby, &lt;http://www.bixby.org/mark/&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

