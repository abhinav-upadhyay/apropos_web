<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
GDBUS(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GDBUS(1)</td>
<td class="head-vol">
User Commands</td>
<td class="head-rtitle">
GDBUS(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> gdbus - Tool for working with D-Bus objects</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 6.00ex;text-indent: -6.00ex;" class="spacer">
<b>gdbus</b> introspect [--system | --session | --address&#160;<i>address</i>] --dest&#160;<i>bus_name</i> --object-path&#160;<i>/path/to/object</i> [--xml] [--recurse] [--only-properties]</div>
<div class="spacer">
</div>
<div style="margin-left: 6.00ex;text-indent: -6.00ex;" class="spacer">
<b>gdbus</b> monitor [--system | --session | --address&#160;<i>address</i>] --dest&#160;<i>bus_name</i> [--object-path&#160;<i>/path/to/object</i>]</div>
<div class="spacer">
</div>
<div style="margin-left: 6.00ex;text-indent: -6.00ex;" class="spacer">
<b>gdbus</b> call [--system | --session | --address&#160;<i>address</i>] --dest&#160;<i>bus_name</i> --object-path&#160;<i>/path/to/object</i> --method&#160;<i>org.project.InterfaceName.MethodName</i> [--timeout&#160;<i>seconds</i>] ARG1 ARG2...</div>
<div class="spacer">
</div>
<div style="margin-left: 6.00ex;text-indent: -6.00ex;" class="spacer">
<b>gdbus</b> emit [--system | --session | --address&#160;<i>address</i>] --object-path&#160;<i>/path/to/object</i> --signal&#160;<i>org.project.InterfaceName.SignalName</i> [--dest&#160;<i>unique_bus_name</i>] ARG1 ARG2...</div>
<div class="spacer">
</div>
<div style="margin-left: 6.00ex;text-indent: -6.00ex;" class="spacer">
<b>gdbus</b> help</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="height: 1.00em;">
&#160;</div>
<b>gdbus</b> is a simple tool for working with D-Bus objects.<div class="subsection">
<h2>Commands</h2>  <b>introspect</b><div style="margin-left: 4.00ex;">
Prints out interfaces and property values for a remote object. For this to work, the owner of the object needs to implement the org.freedesktop.DBus.Introspectable interface. If the  <b>--xml</b> option is used, the returned introspection XML is printed, otherwise a parsed pretty representation is printed. The  <b>--recurse</b> option can be used to introspect children (and their children and so on) and the  <b>--only-properties</b> option can be used to only print the interfaces with properties.</div>
<div class="spacer">
</div>
<b>monitor</b><div style="margin-left: 4.00ex;">
Monitors one or all objects owned by the owner of  <i>bus_name</i>.</div>
<div class="spacer">
</div>
<b>call</b><div style="margin-left: 4.00ex;">
Invokes a method on a remote object. Each argument to pass to the method must be specified as a serialized  <b>GVariant</b> except that strings do not need explicit quotes. The return values are printed out as serialized  <b>GVariant</b> values.</div>
<div class="spacer">
</div>
<b>emit</b><div style="margin-left: 4.00ex;">
Emits a signal. Each argument to include in the signal must be specified as a serialized  <b>GVariant</b> except that strings do not need explicit quotes.</div>
<div class="spacer">
</div>
<b>help</b><div style="margin-left: 4.00ex;">
Prints help and exit.</div>
</div>
</div>
<div class="section">
<h1>BASH COMPLETION</h1><div style="height: 1.00em;">
&#160;</div>
<b>gdbus</b> ships with a bash completion script to complete commands, destinations, bus names, object paths and interface/method names.</div>
<div class="section">
<h1>EXAMPLES</h1><br/>
  This shows how to introspect an object - note that the value of each<br/>
  property is displayed:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ gdbus introspect --system \<br/>
        --dest org.freedesktop.NetworkManager \<br/>
        --object-path /org/freedesktop/NetworkManager/Devices/0<br/>
node /org/freedesktop/NetworkManager/Devices/0 {<br/>
  interface org.freedesktop.DBus.Introspectable {<br/>
    methods:<br/>
      Introspect(out s data);<br/>
  };<br/>
  interface org.freedesktop.DBus.Properties {<br/>
    methods:<br/>
      Get(in  s interface,<br/>
          in  s propname,<br/>
          out v value);<br/>
      Set(in  s interface,<br/>
          in  s propname,<br/>
          in  v value);<br/>
      GetAll(in  s interface,<br/>
             out a{sv} props);<br/>
  };<br/>
  interface org.freedesktop.NetworkManager.Device.Wired {<br/>
    signals:<br/>
      PropertiesChanged(a{sv} arg_0);<br/>
    properties:<br/>
      readonly b Carrier = false;<br/>
      readonly u Speed = 0;<br/>
      readonly s HwAddress = '00:1D:72:88:BE:97';<br/>
  };<br/>
  interface org.freedesktop.NetworkManager.Device {<br/>
    methods:<br/>
      Disconnect();<br/>
    signals:<br/>
      StateChanged(u arg_0,<br/>
                   u arg_1,<br/>
                   u arg_2);<br/>
    properties:<br/>
      readonly u DeviceType = 1;<br/>
      readonly b Managed = true;<br/>
      readwrite o Ip6Config = '/';<br/>
      readwrite o Dhcp4Config = '/';<br/>
      readwrite o Ip4Config = '/';<br/>
      readonly u State = 2;<br/>
      readwrite u Ip4Address = 0;<br/>
      readonly u Capabilities = 3;<br/>
      readonly s Driver = 'e1000e';<br/>
      readwrite s Interface = 'eth0';<br/>
      readonly s Udi = '/sys/devices/pci0000:00/0000:00:19.0/net/eth0';<br/>
  };<br/>
};<br/>
</div>
<div class="spacer">
</div>
The  <b>--recurse</b> and  <b>--only-properties</b> options can be useful when wanting to inspect all objects owned by a particular process:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ gdbus introspect --system --dest org.freedesktop.UPower --object-path / --recurse  --only-properties <br/>
node / {<br/>
  node /org {<br/>
    node /org/freedesktop {<br/>
      node /org/freedesktop/UPower {<br/>
        interface org.freedesktop.UPower {<br/>
          properties:<br/>
            readonly b IsDocked = true;<br/>
            readonly b LidForceSleep = false;<br/>
            readonly b LidIsPresent = false;<br/>
            readonly b LidIsClosed = false;<br/>
            readonly b OnLowBattery = false;<br/>
            readonly b OnBattery = false;<br/>
            readonly b CanHibernate = true;<br/>
            readonly b CanSuspend = true;<br/>
            readonly s DaemonVersion = '0.9.10';<br/>
        };<br/>
        node /org/freedesktop/UPower/Policy {<br/>
        };<br/>
        node /org/freedesktop/UPower/Wakeups {<br/>
          interface org.freedesktop.UPower.Wakeups {<br/>
            properties:<br/>
              readonly b HasCapability = true;<br/>
          };<br/>
        };<br/>
      };<br/>
    };<br/>
  };<br/>
};<br/>
</div>
<div class="spacer">
</div>
In a similar fashion, the  <b>introspect</b> command can be used to learn details about the Notify method:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
[...]<br/>
  interface org.freedesktop.Notifications {<br/>
    methods:<br/>
      GetServerInformation(out s return_name,<br/>
                           out s return_vendor,<br/>
                           out s return_version,<br/>
                           out s return_spec_version);<br/>
      GetCapabilities(out as return_caps);<br/>
      CloseNotification(in  u id);<br/>
      Notify(in  s app_name,<br/>
             in  u id,<br/>
             in  s icon,<br/>
             in  s summary,<br/>
             in  s body,<br/>
             in  as actions,<br/>
             in  a{sv} hints,<br/>
             in  i timeout,<br/>
             out u return_id);<br/>
  };<br/>
[...]<br/>
</div>
<div class="spacer">
</div>
With this information, it's easy to use the  <b>call</b> command to display a notification<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ gdbus call --session \<br/>
             --dest org.freedesktop.Notifications \<br/>
             --object-path /org/freedesktop/Notifications \<br/>
             --method org.freedesktop.Notifications.Notify \<br/>
             my_app_name \<br/>
             42 \<br/>
             gtk-dialog-info \<br/>
             &quot;The Summary&quot; \<br/>
             &quot;Here's the body of the notification&quot; \<br/>
             [] \<br/>
             {} \<br/>
             5000<br/>
(uint32 12,)<br/>
</div>
<div class="spacer">
</div>
Monitoring all objects on a service:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ gdbus monitor --system --dest org.freedesktop.ConsoleKit<br/>
Monitoring signals from all objects owned by org.freedesktop.ConsoleKit<br/>
The name org.freedesktop.ConsoleKit is owned by :1.15<br/>
/org/freedesktop/ConsoleKit/Session2: org.freedesktop.ConsoleKit.Session.ActiveChanged (false,)<br/>
/org/freedesktop/ConsoleKit/Seat1: org.freedesktop.ConsoleKit.Seat.ActiveSessionChanged ('',)<br/>
/org/freedesktop/ConsoleKit/Session2: org.freedesktop.ConsoleKit.Session.ActiveChanged (true,)<br/>
/org/freedesktop/ConsoleKit/Seat1: org.freedesktop.ConsoleKit.Seat.ActiveSessionChanged ('/org/freedesktop/ConsoleKit/Session2',)<br/>
</div>
<div class="spacer">
</div>
Monitoring a single object on a service:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ gdbus monitor --system --dest org.freedesktop.NetworkManager --object-path /org/freedesktop/NetworkManager/AccessPoint/4141<br/>
Monitoring signals on object /org/freedesktop/NetworkManager/AccessPoint/4141 owned by org.freedesktop.NetworkManager<br/>
The name org.freedesktop.NetworkManager is owned by :1.5<br/>
/org/freedesktop/NetworkManager/AccessPoint/4141: org.freedesktop.NetworkManager.AccessPoint.PropertiesChanged ({'Strength': &lt;byte 0x5c&gt;},)<br/>
/org/freedesktop/NetworkManager/AccessPoint/4141: org.freedesktop.NetworkManager.AccessPoint.PropertiesChanged ({'Strength': &lt;byte 0x64&gt;},)<br/>
/org/freedesktop/NetworkManager/AccessPoint/4141: org.freedesktop.NetworkManager.AccessPoint.PropertiesChanged ({'Strength': &lt;byte 0x5e&gt;},)<br/>
/org/freedesktop/NetworkManager/AccessPoint/4141: org.freedesktop.NetworkManager.AccessPoint.PropertiesChanged ({'Strength': &lt;byte 0x64&gt;},)<br/>
</div>
<div class="spacer">
</div>
Emitting a signal:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ gdbus emit --session --object-path /foo --signal org.bar.Foo &quot;['foo', 'bar', 'baz']&quot;<br/>
</div>
<div class="spacer">
</div>
Emitting a signal to a specific process:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ gdbus emit --session --object-path /bar --signal org.bar.Bar someString --dest :1.42<br/>
</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Written by David Zeuthen zeuthen@gmail.com with a lot of help from many others.</div>
<div class="section">
<h1>BUGS</h1> Please send bug reports to either the distribution bug tracker or the upstream bug tracker at  <b>https://bugzilla.gnome.org/enter_bug.cgi?product=glib</b>.</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>dbus-send</b>(1)</div>
<table class="foot">
<tr>
<td class="foot-date">
07/14/2012</td>
<td class="foot-os">
User Commands</td>
</tr>
</table>
</div>
</body>
</html>

