<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
SHAR(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SHAR(1)</td>
<td class="head-vol">
General Commands Manual</td>
<td class="head-rtitle">
SHAR(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> shar - create shell archives</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
shar [ options ] file ...<br/>
shar -S [ options ]<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Shar creates &quot;shell archives&quot; (or shar files) which are in text format and can be mailed.  These files may be unpacked later by executing them with /bin/sh.  The resulting archive is sent to standard out unless the  <i>-o</i> option is given.  A wide range of features provide extensive flexibility in manufacturing shars and in specifying shar &quot;smartness&quot;. Archives may be &quot;vanilla&quot; or comprehensive.</div>
<div class="section">
<h1>OPTIONS</h1> Options have a one letter version starting with - or a long version starting with --.  The exception is  <i>--help</i>, <i>--version</i>,  <i>--no-i18n</i> and <i>--print-text-domain-dir</i> which does not have short versions. Mandatory arguments to long options are mandatory for short options too. Options can be given in any order.  Some options depend on each other:<br/>
	The <i>-o</i> option is required if the <i>-l</i> or <i>-L</i> option is used.<br/>
	The <i>-n</i> option is required if the <i>-a</i> option is used.<br/>
	See <i>-V</i> below.<br/>
<div class="subsection">
<h2>Giving feedback:</h2><dl>
<dt>
<i>--help</i></dt>
<dd>
Print a help summary on standard output, then immediately exits.</dd>
</dl>
<dl>
<dt>
<i>--version</i></dt>
<dd>
Print the version number of the program on standard output, then immediately exits.</dd>
</dl>
<dl>
<dt>
<i>-q</i> <i>--quiet</i> <i>--silent</i></dt>
<dd>
Do not output verbose messages locally when producing the archive.</dd>
</dl>
</div>
<div class="subsection">
<h2>Selecting files:</h2><dl>
<dt>
<i>-p</i>  <i>--intermix-type</i></dt>
<dd>
Allow positional parameter options.  The options <i>-B</i>, <i>-T</i>,  <i>-z</i> and <i>-Z</i> may be embedded, and files to the right of the option will be processed in the specified mode.</dd>
</dl>
<dl>
<dt>
<i>-S</i>  <i>--stdin-file-list</i></dt>
<dd>
Read list of files to be packed from the standard input rather than from the command line.  Input must be in a form similar to that generated by the find command, one filename per line.  This switch is especially useful when the command line will not hold the list of files to be packed.  For example:<div class="spacer">
</div>
<br/>
find . -type f -print | \<br/>
  sort | \<br/>
  shar -S -Z -L50 -o /somewhere/big<div class="spacer">
</div>
<br/>
If <i>-p</i> is specified on the command line, then the options  <i>-B</i>, <i>-T</i>, <i>-z</i> and <i>-Z</i> may be included in the standard input (on a line separate from filenames). The maximum number of lines of standard input, file names and options, may not exceed 1024.</dd>
</dl>
</div>
<div class="subsection">
<h2>Splitting output:</h2><dl>
<dt>
<i>-o</i> XXX  <i>--output-prefix=</i>XXX</dt>
<dd>
Save the archive to files XXX.01 thru XXX.nn instead of sending it to standard out. Must be used when the  <i>-l</i> or the <i>-L</i> switches are used.</dd>
</dl>
<dl>
<dt>
<i>-l</i> XX  <i>--whole-size-limit=</i>XX</dt>
<dd>
Limit the output file size to XXk bytes but don't split input files.</dd>
</dl>
<dl>
<dt>
<i>-L</i> XX  <i>--split-size-limit=</i>XX</dt>
<dd>
Limit output file size to XXk bytes and split files if necessary.  The archive parts created with this option must be unpacked in correct order.</dd>
</dl>
</div>
<div class="subsection">
<h2>Controlling the shar headers:</h2><dl>
<dt>
<i>-n</i> name  <i>--archive-name=</i>name</dt>
<dd>
Name of archive to be included in the header of the shar files. See the  <i>-a</i> switch.</dd>
</dl>
<dl>
<dt>
<i>-s</i> who@where  <i>--submitter=</i>who@where</dt>
<dd>
Override automatically determined submitter name.</dd>
</dl>
<dl>
<dt>
<i>-a</i>  <i>--net-headers</i></dt>
<dd>
Allows automatic generation of headers:<br/>
	Submitted-by: who@where<br/>
	Archive-name: &lt;name&gt;/part##<br/>
The &lt;name&gt; must be given with the <i>-n</i> switch. If name includes a '/' &quot;/part&quot; isn't used.  Thus:</dd>
</dl>
<div style="margin-left: 10.00em;">
<br/>
-n xyzzy	produces:<br/>
	xyzzy/part01<br/>
	xyzzy/part02<div class="spacer">
</div>
<br/>
-n xyzzy/patch	produces:<br/>
	xyzzy/patch01<br/>
	xyzzy/patch02<div class="spacer">
</div>
<br/>
-n xyzzy/patch01.	produces:<br/>
	xyzzy/patch01.01<br/>
	xyzzy/patch01.02</div>
<br/>
<dl>
<dt>
<div class="spacer">
</div>
</dt>
<dd>
The who@where can be explicitly stated with the  <i>-s</i> switch if the default isn't appropriate. Who@where is essentially built as `whoami`@`uname`.</dd>
</dl>
<dl>
<dt>
<i>-c</i>  <i>--cut-mark</i></dt>
<dd>
Start the shar with a cut line.  A line saying 'Cut here' is placed at the start of each output file.</dd>
</dl>
<dl>
<dt>
<i>-t</i>  <i>--translate</i></dt>
<dd>
Translate messages in the script.  If you have set the <i>LANG</i> environment variable, messages printed by  <i>shar</i> will be in the specified language. The produced script will still be emitted using messages in the lingua franca of the computer world:  English.  This option will cause the script messages to appear in the languages specified by the  <i>LANG</i> environment variable set when the script is produced.</dd>
</dl>
</div>
<div class="subsection">
<h2>Selecting how files are stocked:</h2><dl>
<dt>
<i>-M</i>  <i>--mixed-uuencode</i></dt>
<dd>
Mixed mode.  Determine if the files are text or binary and archive correctly (default).  Files found to be binary are uudecoded prior to packing (USE OF UUENCODE IS NOT APPRECIATED BY MANY ON THE NET).</dd>
</dl>
<dl>
<dt>
<i>-T</i>  <i>--text-files</i></dt>
<dd>
Treat all files as text.</dd>
</dl>
<dl>
<dt>
<i>-B</i>  <i>--uuencode</i></dt>
<dd>
Treat all files as binary, use uuencode prior to packing.  This increases the size of the archive.  The recipient must have uudecode in order to unpack. (USE OF UUENCODE IS NOT APPRECIATED BY MANY ON THE NET).</dd>
</dl>
<dl>
<dt>
<i>-z</i>  <i>--gzip</i></dt>
<dd>
Gzip and uuencode all files prior to packing.  The recipient must have uudecode and gzip in order to unpack (USE OF UUENCODE AND GZIP IS NOT APPRECIATED BY MANY ON THE NET).</dd>
</dl>
<dl>
<dt>
<i>-g</i> LEVEL  <i>--level-for-gzip=</i>LEVEL</dt>
<dd>
When doing compression, use '-LEVEL' as a parameter to gzip.  Default is 9. The  <i>-g</i> option turns on the <i>-z</i> option by default.</dd>
</dl>
<dl>
<dt>
<i>-Z</i>  <i>--compress</i></dt>
<dd>
Compress and uuencode all files prior to packing.  The recipient must have uudecode and compress in order to unpack (USE OF UUENCODE AND COMPRESS IS NOT APPRECIATED BY MANY ON THE NET). Option  <i>-C</i> is synonymous to <i>-Z</i>, but is being deprecated.</dd>
</dl>
<dl>
<dt>
<i>-b</i> BITS  <i>--bits-per-code=</i>BITS</dt>
<dd>
When doing compression, use '-bBITS' as a parameter to compress. The  <i>-B</i> option turns on the <i>-Z</i> option by default.  Default value is 12.</dd>
</dl>
</div>
<div class="subsection">
<h2>Protecting against transmission errors:</h2><dl>
<dt>
<i>-w</i>  <i>--no-character-count</i></dt>
<dd>
Do NOT check each file with 'wc -c' after unpack.  The default is to check.</dd>
</dl>
<dl>
<dt>
<i>-D</i>  <i>--no-md5-digest</i></dt>
<dd>
Do NOT use 'md5sum' digest to verify the unpacked files. The default is to check.</dd>
</dl>
<dl>
<dt>
<i>-F</i>  <i>--force-prefix</i></dt>
<dd>
Forces the prefix character (normally 'X' unless the parameter to the <i>-d</i> option starts with 'X') to be prepended to every line even if not required.  This option may slightly increase the size of the archive, especially if  <i>-B</i> or <i>-Z</i> is used.</dd>
</dl>
<dl>
<dt>
<i>-d</i> XXX  <i>--here-delimiter=</i>XXX</dt>
<dd>
Use XXX to delimit the files in the shar instead of SHAR_EOF. This is for those who want to personalize their shar files.</dd>
</dl>
</div>
<div class="subsection">
<h2>Producing different kinds of shars:</h2><dl>
<dt>
<i>-V</i>  <i>--vanilla-operation</i></dt>
<dd>
Produce &quot;vanilla&quot; shars which rely only upon the existence of sed and echo in the unsharing environment.  In addition, &quot;if test&quot; must also be supported unless the  <i>-x</i> option is used.  The <i>-V</i> silently disables options offensive to the &quot;network cop&quot; (or &quot;brown shirt&quot;), but does warn you if it is specified with  <i>-B</i>, <i>-z</i>,  <i>-Z</i>, <i>-p</i> or <i>-M</i> (any of which does or might require uudecode, gzip or compress in the unsharing environment).</dd>
</dl>
<dl>
<dt>
<i>-P</i>  <i>--no-piping</i></dt>
<dd>
Use temporary files instead of pipes in the shar file.</dd>
</dl>
<dl>
<dt>
<i>-x</i>  <i>--no-check-existing</i></dt>
<dd>
Overwrite existing files without checking. If neither  <i>-x</i> nor <i>-X</i> is specified, the unpack will check for and not overwrite existing files when unpacking the archive. If  <i>-c</i> is passed as a parameter to the script when unpacking:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 10.00em;">
sh archive -c</div>
<dl>
<dt>
<div class="spacer">
</div>
</dt>
<dd>
then existing files will be overwritten unconditionally.</dd>
</dl>
<dl>
<dt>
<i>-X</i>  <i>--query-user</i></dt>
<dd>
When unpacking, interactively ask the user if files should be overwritten. (DO NOT USE FOR SHARS SUBMITTED TO THE NET).</dd>
</dl>
<dl>
<dt>
<i>-m</i>  <i>--no-timestamp</i></dt>
<dd>
Avoid generating 'touch' commands to restore the file modification dates when unpacking files from the archive.</dd>
</dl>
<dl>
<dt>
<i>-Q</i>  <i>--quiet-unshar</i></dt>
<dd>
Verbose OFF.  Disables the inclusion of comments to be output when the archive is unpacked.</dd>
</dl>
<dl>
<dt>
<i>-f</i>  <i>--basename</i></dt>
<dd>
Restore by filename only, rather than path.  This option causes only file names to be used, which is useful when building a shar from several directories, or another directory.  Note that if a directory name is passed to shar, the substructure of that directory will be restored whether  <i>-f</i> is specified or not.</dd>
</dl>
</div>
<div class="subsection">
<h2>Internationalization:</h2><dl>
<dt>
<i>--no-i18n</i></dt>
<dd>
Do not produce internationalized shell archives, use default English messages. By default, shar produces archives that will try to output messages in the unpackers preferred language (as determined by the LANG/LC_MESSAGES environmental variables) when they are unpacked. If no message file for the unpackers language is found at unpack time, messages will be in English.</dd>
</dl>
<dl>
<dt>
<i>--print-text-domain-dir</i></dt>
<dd>
Prints the directory shar looks in to find messages files for different languages, then immediately exits.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>EXAMPLES</h1><br/>
shar *.c &gt; cprog.shar	# all C prog sources<br/>
shar -Q *.[ch] &gt; cprog.shar	# non-verbose, .c and .h files<br/>
shar -B -l28 -oarc.sh *.arc	# all binary .arc files, into<br/>
	# files arc.sh.01 thru arc.sh.NN<br/>
shar -f /lcl/src/u*.c &gt; u.sh	# use only the filenames<br/>
</div>
<div class="section">
<h1>WARNINGS</h1> No chmod or touch is ever generated for directories created when unpacking. Thus, if a directory is given to shar, the protection and modification dates of corresponding unpacked directory may not match those of the original.<div class="spacer">
</div>
If a directory is passed to shar, it may be scanned more than once.  Therefore, one should be careful not change the directory while shar is running.<div class="spacer">
</div>
Be careful that the output file(s) are not included in the inputs or shar may loop until the disk fills up.  Be particularly careful when a directory is passed to shar that the output files are not in that directory (or a subdirectory of that directory).<div class="spacer">
</div>
Use of the <i>-B</i>, <i>-z</i> or <i>-Z</i>, and especially  <i>-M</i>, may slow the archive process considerably, depending on the number of files.<div class="spacer">
</div>
Use of <i>-X</i> produces shars which <i>WILL</i> cause problems with many unshar procedures.  Use this feature only for archives to be passed among agreeable parties.  Certainly,  <i>-X</i> is NOT for shell archives which are to be submitted to Usenet.  Usage of  <i>-B</i>, <i>-z</i> or <i>-Z</i> in net shars will cause you to be flamed off the earth.  Not using  <i>-m</i> or not using <i>-F</i> may also get you occasional complaints.</div>
<div class="section">
<h1>SEE ALSO</h1> unshar(1)</div>
<div class="section">
<h1>DIAGNOSTICS</h1> Error messages for illegal or incompatible options, for non-regular, missing or inaccessible files or for (unlikely) memory allocation failure.</div>
<div class="section">
<h1>AUTHORS</h1> The shar and unshar programs is the collective work of many authors. Many people contributed by reporting problems, suggesting various improvements or submitting actual code.  A list of these people is in the THANKS file in the sharutils distribution.</div>
<div class="section">
<h1>REPORTING BUGS</h1> Report bugs to &lt;bug-gnu-utils@gnu.org&gt;.  Please put <i>sharutils</i> or <i>uuencode</i> in the subject line.  It helps to spot the message.</div>
<table class="foot">
<tr>
<td class="foot-date">
July 1, 2005</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

