<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
CPAN2DIST(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CPAN2DIST(1)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
CPAN2DIST(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> cpan2dist - The CPANPLUS distribution creator</div>
<div class="section">
<h1>DESCRIPTION</h1> This script will create distributions of &quot;CPAN&quot; modules of the format you specify, including its prerequisites. These packages can then be installed using the corresponding package manager for the format.<div class="spacer">
</div>
Note, you can also do this interactively from the default shell, &quot;CPANPLUS::Shell::Default&quot;. See the &quot;CPANPLUS::Dist&quot; documentation, as well as the documentation of your format of choice for any format specific documentation.</div>
<div class="section">
<h1>USAGE</h1><br/>
 Usage: cpan2dist [--format FMT] [OPTS] Mod::Name [Mod::Name, ...]<br/>
        cpan2dist [--format FMT] [OPTS] --modulelist /tmp/mods.list<br/>
        cpan2dist [--format FMT] [OPTS] --archive /tmp/dist [/tmp/dist2] <br/>
<br/>
    Will create a distribution of type FMT of the modules<br/>
    specified on the command line, and all their prerequisites.<br/>
    <br/>
    Can also create a distribution of type FMT from a local<br/>
    archive and all of its prerequisites.<br/>
<div class="spacer">
</div>
Options:<div class="spacer">
</div>
<br/>
    ### take no argument:<br/>
    --help          Show this help message<br/>
    --install       Install this package (and any prerequisites you built)<br/>
                    after building it. <br/>
    --skiptest      Skip tests. Can be negated using --noskiptest<br/>
    --force         Force operation. Can be negated using --noforce<br/>
    --verbose       Be verbose. Can be negated using --noverbose<br/>
    --keepsource    Keep sources after building distribution. Can be<br/>
                    negated by --nokeepsource. May not be supported <br/>
                    by all formats<br/>
    --makefile      Prefer Makefile.PL over Build.PL. Can be negated<br/>
                    using --nomakefile. Defaults to your config setting<br/>
    --buildprereq   Build packages of any prerequisites, even if they are<br/>
                    already uptodate on the local system. Can be negated<br/>
                    using --nobuildprereq. Defaults to false.<br/>
    --archive       Indicate that all modules listed are actually archives<br/>
    --flushcache    Update CPANPLUS' cache before commencing any operation<br/>
    --defaults      Instruct ExtUtils::MakeMaker and Module::Build to use<br/>
                    default answers during 'perl Makefile.PL' or 'perl<br/>
                    Build.PL' calls where possible<br/>
    --edit-metafile Edit the distributions metafile(s) before the distribution<br/>
                    is built. Requires a configured editor.<br/>
<br/>
    ### take argument:<br/>
    --format      Installer format to use (defaults to config setting)<br/>
    --ban         Patterns of module names to skip during installation,<br/>
                  case-insensitive (affects prerequisites too)<br/>
                  May be given multiple times<br/>
    --banlist     File containing patterns that could be given to --ban<br/>
                  Are appended to the ban list built up by --ban<br/>
                  May be given multiple times.<br/>
    --ignore      Patterns of modules to exclude from prereq list. Useful<br/>
                  for when a prereq listed by a CPAN module is resolved <br/>
                  in another way than from its corresponding CPAN package<br/>
                  (Match is done on both module name, and package name of<br/>
                  the package the module is in, case-insensitive)<br/>
    --ignorelist  File containing patterns that may be given to --ignore.<br/>
                  Are appended to the ban list built up by --ignore.<br/>
                  May be given multiple times.<br/>
    --modulelist  File containing a list of modules that should be built.<br/>
                  Are appended to the list of command line modules.<br/>
                  May be given multiple times.<br/>
    --logfile     File to log all output to. By default, all output goes<br/>
                  to the console.<br/>
    --timeout     The allowed time for buliding a distribution before<br/>
                  aborting. This is useful to terminate any build that <br/>
                  hang or happen to be interactive despite being told not <br/>
                  to be. Defaults to 300 seconds. To turn off, you can <br/>
                  set it to 0.<br/>
    --set-config  Change any options as specified in your config for this<br/>
                  invocation only. See CPANPLUS::Config for a list of <br/>
                  supported options.<br/>
    --set-program Change any programs as specified in your config for this<br/>
                  invocation only. See CPANPLUS::Config for a list of <br/>
                  supported programs.<br/>
    --dist-opts   Arbitrary options passed along to the chosen installer<br/>
                  format's prepare()/create() routine. Please see the<br/>
                  documentation of the installer of your choice for <br/>
                  options it accepts.<br/>
<br/>
    ### builtin lists<br/>
    --default-banlist    Use our builtin banlist. Works just like --ban<br/>
                         and --banlist, but with pre-set lists. See the<br/>
                         &quot;Builtin Lists&quot; section for details.<br/>
    --default-ignorelist Use our builtin ignorelist. Works just like <br/>
                         --ignore and --ignorelist but with pre-set lists. <br/>
                         See the &quot;Builtin Lists&quot; section for details.<br/>
<div class="spacer">
</div>
Examples:<div class="spacer">
</div>
<br/>
    ### build a debian package of DBI and its prerequisites, <br/>
    ### don't bother running tests<br/>
    cpan2dist --format CPANPLUS::Dist::Deb --buildprereq --skiptest DBI<br/>
    <br/>
    ### build a debian package of DBI and its prerequisites and install them<br/>
    cpan2dist --format CPANPLUS::Dist::Deb --buildprereq --install DBI<br/>
    <br/>
    ### Build a package, whose format is determined by your config, of <br/>
    ### the local tarball, reloading cpanplus' indices first and using<br/>
    ### the tarballs Makefile.PL if it has one.<br/>
    cpan2dist --makefile --flushcache --archive /path/to/Cwd-1.0.tgz<br/>
    <br/>
    ### build a package from Net::FTP, but dont build any packages or<br/>
    ### dependencies whose name match 'Foo', 'Bar' or any of the <br/>
    ### patterns mentioned in /tmp/ban<br/>
    cpan2dist --ban Foo --ban Bar --banlist /tmp/ban Net::FTP<br/>
    <br/>
    ### build a package from Net::FTP, but ignore its listed dependency<br/>
    ### on IO::Socket, as it's shipped per default with the OS we're on<br/>
    cpan2dist --ignore IO::Socket Net::FTP<br/>
    <br/>
    ### building all modules listed, plus their prerequisites<br/>
    cpan2dist --ignorelist /tmp/modules.ignore --banlist /tmp/modules.ban <br/>
      --modulelist /tmp/modules.list --buildprereq --flushcache <br/>
      --makefile --defaults<br/>
    <br/>
    ### pass arbitrary options to the format's prepare()/create() routine<br/>
    cpan2dist --dist-opts deb_version=3 --dist-opts prefix=corp<br/>
</div>
<div class="section">
<h1>Built-In Filter Lists</h1> Some modules you'd rather not package. Some because they are part of core-perl and you dont want a new package. Some because they won't build on your system. Some because your package manager of choice already packages them for you.<div class="spacer">
</div>
There may be a myriad of reasons. You can use the &quot;--ignore&quot; and &quot;--ban&quot; options for this, but we provide some built-in lists that catch common cases. You can use these built-in lists if you like, or supply your own if need be.<div class="subsection">
<h2>Built-In Ignore List</h2> You can use this list of regexes to ignore modules matching to be listed as prerequisites of a package. Particularly useful if they are bundled with core-perl anyway and they have known issues building.<div class="spacer">
</div>
Toggle it by supplying the &quot;--default-ignorelist&quot; option.<div class="spacer">
</div>
<br/>
    ^IO$                    # Provided with core anyway<br/>
    ^Cwd$                   # Provided with core anyway<br/>
    ^File::Spec             # Provided with core anyway<br/>
    ^Config$                # Perl's own config, not shipped separately<br/>
    ^ExtUtils::MakeMaker$   # Shipped with perl, recent versions <br/>
                            # have bug 14721 (see rt.cpan.org)<br/>
    ^ExtUtils::Install$     # Part of of EU::MM, same reason<br/>
</div>
<div class="subsection">
<h2>Built-In Ban list</h2> You can use this list of regexes to disable building of these modules altogether.<div class="spacer">
</div>
Toggle it by supplying the &quot;--default-banlist&quot; option.<div class="spacer">
</div>
<br/>
    ^GD$                # Needs c libaries<br/>
    ^Berk.*DB           # DB packages require specific options &amp; linking<br/>
    ^DBD::              # DBD drivers require database files/headers<br/>
    ^XML::              # XML modules usually require expat libraries<br/>
    Apache              # These usually require apache libraries<br/>
    SSL                 # These usually require SSL certificates &amp; libs<br/>
    Image::Magick       # Needs ImageMagick C libraries<br/>
    Mail::ClamAV        # Needs ClamAV C Libraries<br/>
    ^Verilog            # Needs Verilog C Libraries<br/>
    ^Authen::PAM$       # Needs PAM C libraries &amp; Headers<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> CPANPLUS::Dist, CPANPLUS::Module, CPANPLUS::Shell::Default, &quot;cpanp&quot;</div>
<div class="section">
<h1>BUG REPORTS</h1> Please report bugs or other issues to &lt;bug-cpanplus@rt.cpan.org&lt;gt&gt;.</div>
<div class="section">
<h1>AUTHOR</h1> This module by Jos Boumans &lt;kane@cpan.org&gt;.</div>
<div class="section">
<h1>COPYRIGHT</h1> The CPAN++ interface (of which this module is a part of) is copyright (c) 2001 - 2007, Jos Boumans &lt;kane@cpan.org&gt;. All rights reserved.<div class="spacer">
</div>
This library is free software; you may redistribute and/or modify it under the same terms as Perl itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2016-03-01</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

