<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
dpkg(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
dpkg(1)</td>
<td class="head-vol">
dpkg suite</td>
<td class="head-rtitle">
dpkg(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> dpkg - package manager for Debian</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>dpkg</b> [<i>option</i>...] <i>action</i></div>
<div class="section">
<h1>WARNING</h1> This manual is intended for users wishing to understand  <b>dpkg</b>'s command line options and package states in more detail than that provided by  <b>dpkg --help</b>.<div style="height: 1.00em;">
&#160;</div>
It should <i>not</i> be used by package maintainers wishing to understand how  <b>dpkg</b> will install their packages. The descriptions of what  <b>dpkg</b> does when installing and removing packages are particularly inadequate.</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>dpkg</b> is a tool to install, build, remove and manage Debian packages. The primary and more user-friendly front-end for  <b>dpkg</b> is <b>aptitude</b>(1). <b>dpkg</b> itself is controlled entirely via command line parameters, which consist of exactly one action and zero or more options. The action-parameter tells  <b>dpkg</b> what to do and options control the behavior of the action in some way.<div style="height: 1.00em;">
&#160;</div>
<b>dpkg</b> can also be used as a front-end to <b>dpkg-deb</b>(1) and  <b>dpkg-query</b>(1). The list of supported actions can be found later on in the  <b>ACTIONS</b> section. If any such action is encountered <b>dpkg</b> just runs  <b>dpkg-deb</b> or <b>dpkg-query</b> with the parameters given to it, but no specific options are currently passed to them, to use any such option the back-ends need to be called directly.</div>
<div class="section">
<h1>INFORMATION ABOUT PACKAGES</h1>  <b>dpkg</b> maintains some usable information about available packages. The information is divided in three classes:  <b>states</b>,  <b>selection states</b> and <b>flags</b>. These values are intended to be changed mainly with  <b>dselect</b>.<div class="subsection">
<h2>PACKAGE STATES</h2><dl>
<dt>
<b>not-installed</b></dt>
<dd>
The package is not installed on your system.</dd>
</dl>
<dl>
<dt>
<b>config-files</b></dt>
<dd>
Only the configuration files of the package exist on the system.</dd>
</dl>
<dl>
<dt>
<b>half-installed</b></dt>
<dd>
The installation of the package has been started, but not completed for some reason.</dd>
</dl>
<dl>
<dt>
<b>unpacked</b></dt>
<dd>
The package is unpacked, but not configured.</dd>
</dl>
<dl>
<dt>
<b>half-configured</b></dt>
<dd>
The package is unpacked and configuration has been started, but not yet completed for some reason.</dd>
</dl>
<dl>
<dt>
<b>triggers-awaited</b></dt>
<dd>
The package awaits trigger processing by another package.</dd>
</dl>
<dl>
<dt>
<b>triggers-pending</b></dt>
<dd>
The package has been triggered.</dd>
</dl>
<dl>
<dt>
<b>installed</b></dt>
<dd>
The package is unpacked and configured OK.</dd>
</dl>
</div>
<div class="subsection">
<h2>PACKAGE SELECTION STATES</h2><dl>
<dt>
<b>install</b></dt>
<dd>
The package is selected for installation.</dd>
</dl>
<dl>
<dt>
<b>hold</b></dt>
<dd>
A package marked to be on <b>hold</b> is not handled by <b>dpkg</b>, unless forced to do that with option  <b>--force-hold</b>.</dd>
</dl>
<dl>
<dt>
<b>deinstall</b></dt>
<dd>
The package is selected for deinstallation (i.e. we want to remove all files, except configuration files).</dd>
</dl>
<dl>
<dt>
<b>purge</b></dt>
<dd>
The package is selected to be purged (i.e. we want to remove everything from system directories, even configuration files).</dd>
</dl>
</div>
<div class="subsection">
<h2>PACKAGE FLAGS</h2><dl>
<dt>
<b>reinst-required</b></dt>
<dd>
A package marked <b>reinst-required</b> is broken and requires reinstallation. These packages cannot be removed, unless forced with option  <b>--force-remove-reinstreq</b>.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>ACTIONS</h1><dl>
<dt>
<b>-i</b>, <b>--install</b> <i>package-file</i>...</dt>
<dd>
Install the package. If <b>--recursive</b> or <b>-R</b> option is specified,  <i>package-file</i> must refer to a directory instead.<div style="height: 1.00em;">
&#160;</div>
Installation consists of the following steps:<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>1.</b> Extract the control files of the new package.<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>2.</b> If another version of the same package was installed before the new installation, execute  <i>prerm</i> script of the old package.<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>3.</b> Run <i>preinst</i> script, if provided by the package.<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>4.</b> Unpack the new files, and at the same time back up the old files, so that if something goes wrong, they can be restored.<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>5.</b> If another version of the same package was installed before the new installation, execute the  <i>postrm</i> script of the old package. Note that this script is executed after the  <i>preinst</i> script of the new package, because new files are written at the same time old files are removed.<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>6.</b> Configure the package. See <b>--configure</b> for detailed information about how this is done.</dd>
</dl>
<dl>
<dt>
<b>--unpack </b><i>package-file</i>...</dt>
<dd>
Unpack the package, but don't configure it. If <b>--recursive</b> or  <b>-R</b> option is specified, <i>package-file</i> must refer to a directory instead.</dd>
</dl>
<dl>
<dt>
<b>--configure </b><i>package</i>...|<b>-a</b>|<b>--pending</b></dt>
<dd>
Configure a package which has been unpacked but not yet configured. If  <b>-a</b> or <b>--pending</b> is given instead of <i>package</i>, all unpacked but unconfigured packages are configured.<div style="height: 1.00em;">
&#160;</div>
To reconfigure a package which has already been configured, try the <b>dpkg-reconfigure</b>(8) command instead.<div style="height: 1.00em;">
&#160;</div>
Configuring consists of the following steps:<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>1.</b> Unpack the conffiles, and at the same time back up the old conffiles, so that they can be restored if something goes wrong.<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>2.</b> Run <i>postinst</i> script, if provided by the package.</dd>
</dl>
<dl>
<dt>
<b>--triggers-only</b> <i>package</i>...|<b>-a</b>|<b>--pending</b></dt>
<dd>
Processes only triggers. All pending triggers will be processed. If package names are supplied only those packages' triggers will be processed, exactly once each where necessary. Use of this option may leave packages in the improper  <b>triggers-awaited</b> and <b>triggers-pending</b> states. This can be fixed later by running:  <b>dpkg --configure --pending</b>.</dd>
</dl>
<dl>
<dt>
<b>-r</b>, <b>--remove</b>, <b>-P</b>, <b>--purge </b><i>package</i>...|<b>-a</b>|<b>--pending</b></dt>
<dd>
Remove an installed package. <b>-r</b> or <b>--remove</b> remove everything except conffiles. This may avoid having to reconfigure the package if it is reinstalled later. (Conffiles are configuration files that are listed in the  <i>DEBIAN/conffiles</i> control file).  <b>-P</b> or <b>--purge</b> removes everything, including conffiles. If  <b>-a</b> or <b>--pending</b> is given instead of a package name, then all packages unpacked, but marked to be removed or purged in file  <i>/var/lib/dpkg/status</i>, are removed or purged, respectively. Note: some configuration files might be unknown to  <b>dpkg</b> because they are created and handled separately through the configuration scripts. In that case,  <b>dpkg</b> won't remove them by itself, but the package's  <i>postrm</i> script (which is called by  <b>dpkg</b>), has to take care of their removal during purge. Of course, this only applies to files in system directories, not configuration files written to individual users' home directories.<div style="height: 1.00em;">
&#160;</div>
Removing of a package consists of the following steps:<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>1.</b> Run <i>prerm</i> script<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>2.</b> Remove the installed files<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>3.</b> Run <i>postrm</i> script<div style="height: 0.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>--update-avail</b>, <b>--merge-avail</b> <i>Packages-file</i></dt>
<dd>
Update <b>dpkg</b>'s and <b>dselect</b>'s idea of which packages are available. With action  <b>--merge-avail</b>, old information is combined with information from  <i>Packages-file</i>. With action  <b>--update-avail</b>, old information is replaced with the information in the  <i>Packages-file</i>. The <i>Packages-file</i> distributed with Debian is simply named  <i>Packages</i>. <b>dpkg</b> keeps its record of available packages in  <i>/var/lib/dpkg/available</i>.<div style="height: 1.00em;">
&#160;</div>
A simpler one-shot command to retrieve and update the <i>available</i> file is  <b>dselect update</b>. Note that this file is mostly useless if you don't use  <b>dselect</b> but an APT-based frontend: APT has its own system to keep track of available packages.</dd>
</dl>
<dl>
<dt>
<b>-A</b>, <b>--record-avail</b> <i>package-file</i>...</dt>
<dd>
Update <b>dpkg</b> and <b>dselect</b>'s idea of which packages are available with information from the package  <i>package-file</i>. If  <b>--recursive</b> or <b>-R</b> option is specified, <i>package-file</i> must refer to a directory instead.</dd>
</dl>
<dl>
<dt>
<b>--forget-old-unavail</b></dt>
<dd>
Now <b>obsolete</b> and a no-op as <b>dpkg</b> will automatically forget uninstalled unavailable packages.</dd>
</dl>
<dl>
<dt>
<b>--clear-avail</b></dt>
<dd>
Erase the existing information about what packages are available.</dd>
</dl>
<dl>
<dt>
<b> -C</b>, <b>--audit</b></dt>
<dd>
Searches for packages that have been installed only partially on your system.  <b>dpkg</b> will suggest what to do with them to get them working.</dd>
</dl>
<dl>
<dt>
<b>--get-selections</b> [<i>package-name-pattern</i>...]</dt>
<dd>
Get list of package selections, and write it to stdout. Without a pattern, non-installed packages (i.e. those which have been previously purged) will not be shown.</dd>
</dl>
<dl>
<dt>
<b>--set-selections</b></dt>
<dd>
Set package selections using file read from stdin. This file should be in the format ' <i>package</i> <i>state</i>', where state is one of  <b>install</b>, <b>hold</b>, <b>deinstall</b> or <b>purge</b>. Blank lines and comment lines beginning with '#' are also permitted.</dd>
</dl>
<dl>
<dt>
<b>--clear-selections</b></dt>
<dd>
Set the requested state of every non-essential package to deinstall. This is intended to be used immediately before --set-selections, to deinstall any packages not in list given to --set-selections.</dd>
</dl>
<dl>
<dt>
<b>--yet-to-unpack</b></dt>
<dd>
Searches for packages selected for installation, but which for some reason still haven't been installed.</dd>
</dl>
<dl>
<dt>
<b>--print-architecture</b></dt>
<dd>
Print architecture of packages <b>dpkg</b> installs (for example, &quot;i386&quot;).</dd>
</dl>
<dl>
<dt>
<b>--foreign-architecture <i>architecture</i></b></dt>
<dd>
Add <i>architecture</i> to the list of architectures for which packages can be installed without using  <b>--force-architecture</b>, in addition to the architecture  <b>dpkg</b> is built for (i.e.: the output of  <b>--print-architecture</b>).</dd>
</dl>
<dl>
<dt>
<b>--print-foreign-architectures</b></dt>
<dd>
Print a space-separated list of the extra architectures <b>dpkg</b> is configured to allow packages to be installed for.</dd>
</dl>
<dl>
<dt>
<b>--compare-versions <i>ver1 op ver2</i></b></dt>
<dd>
Compare version numbers, where <i>op</i> is a binary operator. <b>dpkg</b> returns success (zero result) if the specified condition is satisfied, and failure (nonzero result) otherwise. There are two groups of operators, which differ in how they treat an empty  <i>ver1</i> or <i>ver2</i>. These treat an empty version as earlier than any version:  <b>lt le eq ne ge gt</b>. These treat an empty version as later than any version:  <b>lt-nl le-nl ge-nl gt-nl</b>. These are provided only for compatibility with control file syntax:  <b>&lt; &lt;&lt; &lt;= = &gt;= &gt;&gt;</b>  <b>&gt;</b>.</dd>
</dl>
<dl>
<dt>
<b>--command-fd <i>n</i></b></dt>
<dd>
Accept a series of commands on input file descriptor <i>n</i>. Note: additional options set on the command line, and through this file descriptor, are not reset for subsequent commands executed during the same run.</dd>
</dl>
<dl>
<dt>
<b>--help</b></dt>
<dd>
Display a brief help message.</dd>
</dl>
<dl>
<dt>
<b>--force-help</b></dt>
<dd>
Give help about the <b>--force-</b><i>thing</i> options.</dd>
</dl>
<dl>
<dt>
<b>-Dh</b>, <b>--debug=help</b></dt>
<dd>
Give help about debugging options.</dd>
</dl>
<dl>
<dt>
<b>--version</b></dt>
<dd>
Display <b>dpkg</b> version information.</dd>
</dl>
<dl>
<dt>
<b>dpkg-deb actions</b></dt>
<dd>
See <b>dpkg-deb</b>(1) for more information about the following actions.<div style="height: 1.00em;">
&#160;</div>
<br/>
<b>-b</b>, <b>--build</b> <i>directory</i> [<i>archive</i>|<i>directory</i>]<br/>
    Build a deb package.<br/>
<b>-c</b>, <b>--contents</b> <i>archive</i><br/>
    List contents of a deb package.<br/>
<b>-e</b>, <b>--control</b> <i>filename</i> [<i>directory</i>]<br/>
    Extract control-information from a package.<br/>
<b>-x</b>, <b>--extract</b> <i>archive directory</i><br/>
    Extract the files contained by package.<br/>
<b>-X</b>, <b>--vextract</b> <i>archive directory</i><br/>
    Extract and display the filenames contained by a<br/>
    package.<br/>
<b>-f</b>, <b>--field</b>  <i>archive</i> [<i>control-field</i>...]<br/>
    Display control field(s) of a package.<br/>
<b>--fsys-tarfile</b> <i>archive</i><br/>
    Display the filesystem tar-file contained by a<br/>
    Debian package.<br/>
<b>-I</b>, <b>--info</b> <i>archive</i> [<i>control-file</i>...]<br/>
    Show information about a package.<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>dpkg-query actions</b></dt>
<dd>
See <b>dpkg-query</b>(1) for more information about the following actions.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
<b>-l</b>, <b>--list</b> <i>package-name-pattern</i>...<br/>
    List packages matching given pattern.<br/>
<b>-s</b>, <b>--status</b> <i>package-name</i>...<br/>
    Report status of specified package.<br/>
<b>-L</b>, <b>--listfiles</b> <i>package-name</i>...<br/>
    List files installed to your system from <i>package-name</i>.<br/>
<b>-S</b>, <b>--search</b> <i>filename-search-pattern</i>...<br/>
    Search for a filename from installed packages.<br/>
<b>-p</b>, <b>--print-avail</b> <i>package-name</i>...<br/>
    Display details about <i>package-name</i>, as found in<br/>
    <i>/var/lib/dpkg/available</i>. Users of APT-based frontends<br/>
    should use <b>apt-cache show</b> <i>package-name</i> instead.<br/>
</dd>
</dl>
</div>
<div class="section">
<h1>OPTIONS</h1> All options can be specified both on the command line and in the  <b>dpkg</b> configuration file  <i>/etc/dpkg/dpkg.cfg</i> or the files on the configuration directory  <i>/etc/dpkg/dpkg.cfg.d/</i>. Each line in the configuration file is either an option (exactly the same as the command line option but without leading dashes) or a comment (if it starts with a  <b>#</b>).<div style="height: 0.00em;">
&#160;</div>
<dl>
<dt>
<b>--abort-after=</b><i>number</i></dt>
<dd>
Change after how many errors <b>dpkg</b> will abort. The default is 50.</dd>
</dl>
<dl>
<dt>
<b>-B</b>, <b>--auto-deconfigure</b></dt>
<dd>
When a package is removed, there is a possibility that another installed package depended on the removed package. Specifying this option will cause automatic deconfiguration of the package which depended on the removed package.</dd>
</dl>
<dl>
<dt>
<b>-D</b><i>octal</i><b>, </b><b>--debug=</b><b></b><i>octal</i><b></b></dt>
<dd>
Switch debugging on. <i>octal</i> is formed by bitwise-orring desired values together from the list below (note that these values may change in future releases).  <b>-Dh</b> or <b>--debug=help</b> display these debugging values.<div style="height: 1.00em;">
&#160;</div>
<br/>
    Number   Description<br/>
         1   Generally helpful progress information<br/>
         2   Invocation and status of maintainer scripts<br/>
        10   Output for each file processed<br/>
       100   Lots of output for each file processed<br/>
        20   Output for each configuration file<br/>
       200   Lots of output for each configuration file<br/>
        40   Dependencies and conflicts<br/>
       400   Lots of dependencies/conflicts output<br/>
     10000   Trigger activation and processing<br/>
     20000   Lots of output regarding triggers<br/>
     40000   Silly amounts of output regarding triggers<br/>
      1000   Lots of drivel about e.g. the dpkg/info dir<br/>
      2000   Insane amounts of drivel</dd>
</dl>
<dl>
<dt>
<b>--force-</b><i>things</i>, <b>--no-force-</b><i>things</i>, <b>--refuse-</b><i>things</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Force or refuse (<b>no-force</b> and <b>refuse</b> mean the same thing) to do some things.  <i>things</i> is a comma separated list of things specified below.  <b>--force-help</b> displays a message describing them. Things marked with (*) are forced by default.<div style="height: 1.00em;">
&#160;</div>
<i>Warning: These options are mostly intended to be used by experts</i>  <i>only. Using them without fully understanding their effects may break</i>  <i>your whole system.</i><div style="height: 1.00em;">
&#160;</div>
<b>all</b>: Turns on (or off) all force options.<div style="height: 1.00em;">
&#160;</div>
<b>downgrade</b>(*): Install a package, even if newer version of it is already installed.<div style="height: 1.00em;">
&#160;</div>
<i>Warning: At present dpkg does not do any dependency</i>  <i>checking on downgrades and therefore will not warn you</i>  <i>if the downgrade breaks the dependency of some other</i>  <i>package. This can have serious side effects, downgrading</i>  <i>essential system components can even make your whole</i>  <i>system unusable. Use with care.</i><div style="height: 1.00em;">
&#160;</div>
<b>configure-any</b>: Configure also any unpacked but unconfigured packages on which the current package depends.<div style="height: 1.00em;">
&#160;</div>
<b>hold</b>: Process packages even when marked &quot;hold&quot;.<div style="height: 1.00em;">
&#160;</div>
<b>remove-reinstreq</b>: Remove a package, even if it's broken and marked to require reinstallation. This may, for example, cause parts of the package to remain on the system, which will then be forgotten by  <b>dpkg</b>.<div style="height: 1.00em;">
&#160;</div>
<b>remove-essential</b>: Remove, even if the package is considered essential. Essential packages contain mostly very basic Unix commands. Removing them might cause the whole system to stop working, so use with caution.<div style="height: 1.00em;">
&#160;</div>
<b>depends</b>: Turn all dependency problems into warnings.<div style="height: 1.00em;">
&#160;</div>
<b>depends-version</b>: Don't care about versions when checking dependencies.<div style="height: 1.00em;">
&#160;</div>
<b>breaks</b>: Install, even if this would break another package.<div style="height: 1.00em;">
&#160;</div>
<b>conflicts</b>: Install, even if it conflicts with another package. This is dangerous, for it will usually cause overwriting of some files.<div style="height: 1.00em;">
&#160;</div>
<b>confmiss</b>: Always install a missing conffile. This is dangerous, since it means not preserving a change (removing) made to the file.<div style="height: 1.00em;">
&#160;</div>
<b>confnew</b>: If a conffile has been modified always install the new version without prompting, unless the  <b>--force-confdef</b> is also specified, in which case the default action is preferred.<div style="height: 1.00em;">
&#160;</div>
<b>confold</b>: If a conffile has been modified always keep the old version without prompting, unless the  <b>--force-confdef</b> is also specified, in which case the default action is preferred.<div style="height: 1.00em;">
&#160;</div>
<b>confdef</b>: If a conffile has been modified always choose the default action. If there is no default action it will stop to ask the user unless  <b>--force-confnew</b> or <b>--force-confold</b> is also been given, in which case it will use that to decide the final action.<div style="height: 1.00em;">
&#160;</div>
<b>confask</b>: If a conffile has been modified always offer to replace it with the version in the package, even if the version in the package did not change. If any of  <b>--force-confmiss</b>, <b>--force-confnew</b>,  <b>--force-confold</b>, or <b>--force-confdef</b> is also given, it will be used to decide the final action.<div style="height: 1.00em;">
&#160;</div>
<b>overwrite</b>: Overwrite one package's file with another's file.<div style="height: 1.00em;">
&#160;</div>
<b>overwrite-dir</b> Overwrite one package's directory with another's file.<div style="height: 1.00em;">
&#160;</div>
<b>overwrite-diverted</b>: Overwrite a diverted file with an undiverted version.<div style="height: 1.00em;">
&#160;</div>
<b>unsafe-io</b>: Do not perform safe I/O operations when unpacking. Currently this implies not performing file system syncs before file renames, which is known to cause substantial performance degradation on some file systems, unfortunately the ones that require the safe I/O on the first place due to their unreliable behaviour causing zero-length files on abrupt system crashes.<div style="height: 1.00em;">
&#160;</div>
<i>Note</i>: For ext4, the main offender, consider using instead the mount option  <b>nodelalloc</b>, which will fix both the performance degradation and the data safety issues, the latter by making the file system not produce zero-length files on abrupt system crashes with any software not doing syncs before atomic renames.<div style="height: 1.00em;">
&#160;</div>
<i>Warning: Using this option might improve performance at the cost of</i>  <i>losing data, use with care.</i><div style="height: 1.00em;">
&#160;</div>
<b>architecture</b>: Process even packages with wrong or no architecture.<div style="height: 1.00em;">
&#160;</div>
<b>bad-version</b>: Process even packages with wrong versions.<div style="height: 1.00em;">
&#160;</div>
<b>bad-path</b>:  <b>PATH</b> is missing important programs, so problems are likely.<div style="height: 1.00em;">
&#160;</div>
<b>not-root</b>: Try to (de)install things even when not root.<div style="height: 1.00em;">
&#160;</div>
<b>bad-verify</b>: Install a package even if it fails authenticity check.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b>--ignore-depends</b>=<i>package</i>,...</dt>
<dd>
Ignore dependency-checking for specified packages (actually, checking is performed, but only warnings about conflicts are given, nothing else).</dd>
</dl>
<dl>
<dt>
<b>--no-act</b>, <b>--dry-run</b>, <b>--simulate</b></dt>
<dd>
Do everything which is supposed to be done, but don't write any changes. This is used to see what would happen with the specified action, without actually modifying anything.<div style="height: 1.00em;">
&#160;</div>
Be sure to give <b>--no-act</b> before the action-parameter, or you might end up with undesirable results. (e.g.  <b>dpkg --purge foo</b>  <b>--no-act</b> will first purge package foo and then try to purge package --no-act, even though you probably expected it to actually do nothing)</dd>
</dl>
<dl>
<dt>
<b>-R</b>, <b>--recursive</b></dt>
<dd>
Recursively handle all regular files matching pattern <b>*.deb</b> found at specified directories and all of its subdirectories. This can be used with  <b>-i</b>, <b>-A</b>, <b>--install</b>, <b>--unpack</b> and  <b>--avail</b> actions.</dd>
</dl>
<dl>
<dt>
<b>-G</b></dt>
<dd>
Don't install a package if a newer version of the same package is already installed. This is an alias of  <b>--refuse-downgrade</b>.</dd>
</dl>
<dl>
<dt>
<b>--admindir=</b><i>dir</i></dt>
<dd>
Change default administrative directory, which contains many files that give information about status of installed or uninstalled packages, etc. (Defaults to  <i>/var/lib/dpkg</i>)</dd>
</dl>
<dl>
<dt>
<b>--instdir=</b><i>dir</i></dt>
<dd>
Change default installation directory which refers to the directory where packages are to be installed.  <b>instdir</b> is also the directory passed to  <b>chroot</b>(2) before running package's installation scripts, which means that the scripts see  <b>instdir</b> as a root directory. (Defaults to  <i>/</i>)</dd>
</dl>
<dl>
<dt>
<b>--root=</b><i>dir</i></dt>
<dd>
Changing <b>root</b> changes <b>instdir</b> to <i>dir</i> and <b>admindir</b> to  <i>dir</i><b>/var/lib/dpkg</b>.</dd>
</dl>
<dl>
<dt>
<b>-O</b>, <b>--selected-only</b></dt>
<dd>
Only process the packages that are selected for installation. The actual marking is done with  <b>dselect</b> or by <b>dpkg</b>, when it handles packages. For example, when a package is removed, it will be marked selected for deinstallation.</dd>
</dl>
<dl>
<dt>
<b>-E</b>, <b>--skip-same-version</b></dt>
<dd>
Don't install the package if the same version of the package is already installed.</dd>
</dl>
<div class="spacer">
</div>
<b>--pre-invoke=</b><i>command</i><div style="height: 0.00em;">
&#160;</div>
<b>--post-invoke=</b><i>command</i><div style="margin-left: 5.00ex;">
Set an invoke hook <i>command</i> to be run via &#8220;sh -c&#8221; before or after the dpkg run for the  <i>unpack</i>, <i>configure</i>, <i>install</i>,  <i>triggers-only</i>, <i>remove</i> and <i>purge</i> dpkg actions. This option can be specified multiple times. The order the options are specified is preserved, with the ones from the configuration files taking precedence. The environment variable  <b>DPKG_HOOK_ACTION</b> is set for the hooks to the current dpkg action. Note: front-ends might call dpkg several times per invocation, which might run the hooks more times than expected.</div>
<div class="spacer">
</div>
<b>--path-exclude=</b><i>glob-pattern</i><div style="height: 0.00em;">
&#160;</div>
<b>--path-include=</b><i>glob-pattern</i><div style="margin-left: 5.00ex;">
Set <i>glob-pattern</i> as a path filter, either by excluding or re-including previously excluded paths matching the specified patterns during install.<div style="height: 1.00em;">
&#160;</div>
<i>Warning: take into account that depending on the excluded paths you</i>  <i>might completely break your system, use with caution.</i><div style="height: 1.00em;">
&#160;</div>
The glob patterns use the same wildcards used in the shell, were '*' matches any sequence of characters, including the empty string and also '/'. For example,  <i>'/usr/*/READ*'</i> matches <i>'/usr/share/doc/package/README'</i>. As usual, '?' matches any single character (again, including '/'). And '[' starts a character class, which can contain a list of characters, ranges and complementations. See  <b>glob</b>(7) for detailed information about globbing. Note: the current implementation might re-include more directories and symlinks than needed, to be on the safe side and avoid possible unpack failures, future work might fix this.<div style="height: 1.00em;">
&#160;</div>
This can be used to remove all paths except some particular ones; a typical case is:<div style="height: 1.00em;">
&#160;</div>
<b>--path-exclude=/usr/share/doc/*</b> <b>--path-include=/usr/share/doc/*/copyright</b><br/>
<div style="height: 1.00em;">
&#160;</div>
to remove all documentation files except the copyright files.<div style="height: 1.00em;">
&#160;</div>
These two options can be specified multiple times, and interleaved with each other. Both are processed in the given order, with the last rule that matches a file name making the decision.</div>
<dl>
<dt>
<b>--status-fd </b><i>n</i></dt>
<dd>
Send machine-readable package status and progress information to file descriptor  <i>n</i>. This option can be specified multiple times. The information is generally one record per line, in one of the following forms:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
<b>status: </b><i>package</i><b>: </b><i>status</i></dt>
<dd>
Package status changed; <i>status</i> is as in the status file.</dd>
</dl>
<dl>
<dt>
<b>status: </b><i>package</i><b> : error : </b><i>extended-error-message</i></dt>
<dd>
An error occurred. Any possible newlines in <i>extended-error-message</i> will be converted to spaces before output.</dd>
</dl>
<dl>
<dt>
<b>status: </b><i>file</i><b> : conffile-prompt : '</b><i>real-old</i><b>' '</b><i>real-new</i><b>' </b><i>useredited</i><b> </b><i>distedited</i></dt>
<dd>
User is being asked a conffile question.</dd>
</dl>
<dl>
<dt>
<b>processing: </b><i>stage</i><b>: </b><i>package</i></dt>
<dd>
Sent just before a processing stage starts. <i>stage</i> is one of <b>upgrade</b>, <b>install</b> (both sent before unpacking), <b>configure</b>, <b>trigproc</b>, <b>disappear</b>, <b>remove</b>, <b>purge</b>.</dd>
</dl>
</div>
<dl>
<dt>
<b>--status-logger</b>=<i>command</i></dt>
<dd>
Send machine-readable package status and progress information to the shell  <i>command</i>'s standard input. This option can be specified multiple times. The output format used is the same as in  <b>--status-fd.</b></dd>
</dl>
<dl>
<dt>
<b>--log=</b><i>filename</i></dt>
<dd>
Log status change updates and actions to <i>filename</i>, instead of the default  <i>/var/log/dpkg.log</i>. If this option is given multiple times, the last filename is used. Log messages are of the form `YYYY-MM-DD HH:MM:SS status  <i>state</i> <i>pkg</i> <i>installed-version</i>' for status change updates; `YYYY-MM-DD HH:MM:SS  <i>action</i> <i>pkg</i> <i>installed-version</i>  <i>available-version</i>' for actions where <i>action</i> is one of  <b>install</b>, <b>upgrade</b>, <b>remove</b>, <b>purge</b>; and `YYYY-MM-DD HH:MM:SS conffile  <i>filename</i> <i>decision</i>' for conffile changes where  <i>decision</i> is either <b>install</b> or <b>keep</b>.</dd>
</dl>
<dl>
<dt>
<b>--no-debsig</b></dt>
<dd>
Do not try to verify package signatures.</dd>
</dl>
<dl>
<dt>
<b>--no-triggers</b></dt>
<dd>
Do not run any triggers in this run (activations will still be recorded). If used with  <b>--configure</b> <i>package</i> or  <b>--triggers-only</b> <i>package</i> then the named package postinst will still be run even if only a triggers run is needed. Use of this option may leave packages in the improper  <b>triggers-awaited</b> and  <b>triggers-pending</b> states. This can be fixed later by running:  <b>dpkg --configure --pending</b>.</dd>
</dl>
<dl>
<dt>
<b>--triggers</b></dt>
<dd>
Cancels a previous <b>--no-triggers</b>.</dd>
</dl>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<i>/etc/dpkg/dpkg.cfg</i></dt>
<dd>
Configuration file with default options.</dd>
</dl>
<dl>
<dt>
<i>/var/log/dpkg.log</i></dt>
<dd>
Default log file (see <i>/etc/dpkg/dpkg.cfg</i>(5) and option  <b>--log</b>).</dd>
</dl>
<div class="spacer">
</div>
The other files listed below are in their default directories, see option  <b>--admindir</b> to see how to change locations of these files.<dl>
<dt>
<i>/var/lib/dpkg/available</i></dt>
<dd>
List of available packages.</dd>
</dl>
<dl>
<dt>
<i>/var/lib/dpkg/status</i></dt>
<dd>
Statuses of available packages. This file contains information about whether a package is marked for removing or not, whether it is installed or not, etc. See section  <b>INFORMATION ABOUT PACKAGES</b> for more info.<div style="height: 1.00em;">
&#160;</div>
The status file is backed up daily in <i>/var/backups</i>. It can be useful if it's lost or corrupted due to filesystems troubles.</dd>
</dl>
<div class="spacer">
</div>
The following files are components of a binary package. See <b>deb</b>(5) for more information about them:<dl>
<dt>
<i>control</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>conffiles</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>preinst</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>postinst</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>prerm</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>postrm</i></dt>
<dd>
</dd>
</dl>
</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>HOME</b></dt>
<dd>
If set, <b>dpkg</b> will use it as the directory from which to read the user specific configuration file.</dd>
</dl>
<dl>
<dt>
<b>TMPDIR</b></dt>
<dd>
If set, <b>dpkg</b> will use it as the directory in which to create temporary files and directories.</dd>
</dl>
<dl>
<dt>
<b>PAGER</b></dt>
<dd>
The program <b>dpkg</b> will execute when displaying the conffiles.</dd>
</dl>
<dl>
<dt>
<b>SHELL</b></dt>
<dd>
The program <b>dpkg</b> will execute when starting a new shell.</dd>
</dl>
<dl>
<dt>
<b>COLUMNS</b></dt>
<dd>
Sets the number of columns <b>dpkg</b> should use when displaying formatted text. Currently only used by -l.</dd>
</dl>
<dl>
<dt>
<b>DPKG_SHELL_REASON</b></dt>
<dd>
Defined by <b>dpkg</b> on the shell spawned on the conffile prompt to examine the situation. Current valid value:  <b>conffile-prompt</b>.</dd>
</dl>
<dl>
<dt>
<b>DPKG_CONFFILE_OLD</b></dt>
<dd>
Defined by <b>dpkg</b> on the shell spawned on the conffile prompt to examine the situation. Contains the path to the old conffile.</dd>
</dl>
<dl>
<dt>
<b>DPKG_CONFFILE_NEW</b></dt>
<dd>
Defined by <b>dpkg</b> on the shell spawned on the conffile prompt to examine the situation. Contains the path to the new conffile.</dd>
</dl>
<dl>
<dt>
<b>DPKG_RUNNING_VERSION</b></dt>
<dd>
Defined by <b>dpkg</b> on the maintainer script environment to the version of the currently running  <b>dpkg</b> instance.</dd>
</dl>
<dl>
<dt>
<b>DPKG_MAINTSCRIPT_PACKAGE</b></dt>
<dd>
Defined by <b>dpkg</b> on the maintainer script environment to the package name being handled.</dd>
</dl>
<dl>
<dt>
<b>DPKG_MAINTSCRIPT_ARCH</b></dt>
<dd>
Defined by <b>dpkg</b> on the maintainer script environment to the architecture the package got built for.</dd>
</dl>
<dl>
<dt>
<b>DPKG_MAINTSCRIPT_NAME</b></dt>
<dd>
Defined by <b>dpkg</b> on the maintainer script environment to the name of the script running (preinst, postinst, prerm, postrm).</dd>
</dl>
</div>
<div class="section">
<h1>EXAMPLES</h1> To list packages related to the editor  <b>vi</b>(1):<div style="height: 0.00em;">
&#160;</div>
<b>     dpkg -l '*vi*'</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
To see the entries in <i>/var/lib/dpkg/available</i> of two packages:<div style="height: 0.00em;">
&#160;</div>
<b>     dpkg --print-avail elvis vim | less</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
To search the listing of packages yourself:<div style="height: 0.00em;">
&#160;</div>
<b>     less /var/lib/dpkg/available</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
To remove an installed elvis package:<div style="height: 0.00em;">
&#160;</div>
<b>     dpkg -r elvis</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
To install a package, you first need to find it in an archive or CDROM. The &quot;available&quot; file shows that the vim package is in section &quot;editors&quot;:<div style="height: 0.00em;">
&#160;</div>
<b>     cd /media/cdrom/pool/main/v/vim</b>  <b>     dpkg -i vim_4.5-3.deb</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
To make a local copy of the package selection states:<div style="height: 0.00em;">
&#160;</div>
<b>     dpkg --get-selections &gt;myselections</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
You might transfer this file to another computer, and install it there with:<div style="height: 0.00em;">
&#160;</div>
<b>     dpkg --clear-selections</b>  <b>     dpkg --set-selections &lt;myselections</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
Note that this will not actually install or remove anything, but just set the selection state on the requested packages. You will need some other application to actually download and install the requested packages. For example, run  <b>apt-get dselect-upgrade</b>.<div style="height: 1.00em;">
&#160;</div>
Ordinarily, you will find that <b>dselect</b>(1) provides a more convenient way to modify the package selection states.<div style="height: 0.00em;">
&#160;</div>
</div>
<div class="section">
<h1>ADDITIONAL FUNCTIONALITY</h1> Additional functionality can be gained by installing any of the following packages:  <b>apt</b>, <b>aptitude</b> and <b>debsums</b>.</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>aptitude</b>(1),  <b>apt</b>(1),  <b>dselect</b>(1),  <b>dpkg-deb</b>(1),  <b>dpkg-query</b>(1),  <b>deb</b>(5),  <b>deb-control</b>(5),  <b>dpkg.cfg</b>(5), and  <b>dpkg-reconfigure</b>(8).</div>
<div class="section">
<h1>BUGS</h1>  <b>--no-act</b> usually gives less information than might be helpful.</div>
<div class="section">
<h1>AUTHORS</h1> See  <i>/usr/share/doc/dpkg/THANKS</i> for the list of people who have contributed to  <b>dpkg</b>.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-08-14</td>
<td class="foot-os">
Debian Project</td>
</tr>
</table>
</div>
</body>
</html>

