<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
DH_INSTALLINIT(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
DH_INSTALLINIT(1)</td>
<td class="head-vol">
Debhelper</td>
<td class="head-rtitle">
DH_INSTALLINIT(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> dh_installinit - install upstart jobs or init scripts into package build directories</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>dh_installinit</b> [<i>debhelper&#160;options</i>] [<b>--name=</b><i>name</i>] [<b>-n</b>] [<b>-R</b>] [<b>-r</b>] [<b>-d</b>] [<b>--</b>&#160;<i>params</i>]</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>dh_installinit</b> is a debhelper program that is responsible for installing upstart job files or init scripts with associated defaults files into package build directories, and in the former case providing compatibility handling for non-upstart systems.<div class="spacer">
</div>
It also automatically generates the <i>postinst</i> and <i>postrm</i> and <i>prerm</i> commands needed to set up the symlinks in  <i>/etc/rc*.d/</i> to start and stop the init scripts.</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
debian/<i>package</i>.upstart</dt>
<dd>
If this exists, it is installed into etc/init/<i>package</i>.conf in the package build directory.</dd>
</dl>
<dl>
<dt>
debian/<i>package</i>.init</dt>
<dd>
Otherwise, if this exists, it is installed into etc/init.d/ <i>package</i> in the package build directory.</dd>
</dl>
<dl>
<dt>
debian/<i>package</i>.default</dt>
<dd>
If this exists, it is installed into etc/default/<i>package</i> in the package build directory.</dd>
</dl>
</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>-n</b>, <b>--noscripts</b></dt>
<dd>
Do not modify <i>postinst</i>/<i>postrm</i>/<i>prerm</i> scripts.</dd>
</dl>
<dl>
<dt>
<b>-o</b>, <b>--onlyscripts</b></dt>
<dd>
Only modify <i>postinst</i>/<i>postrm</i>/<i>prerm</i> scripts, do not actually install any init script, default files, or upstart job. May be useful if the init script or upstart job is shipped and/or installed by upstream in a way that doesn't make it easy to let  <b>dh_installinit</b> find it.<div style="height: 1.00em;">
&#160;</div>
If no upstart job file is installed in the target directory when  <b>dh_installinit --onlyscripts</b> is called, this program will assume that an init script is being installed and not provide the compatibility symlinks or upstart dependencies.</dd>
</dl>
<dl>
<dt>
<b>-R</b>, <b>--restart-after-upgrade</b></dt>
<dd>
Do not stop the init script until after the package upgrade has been completed. This is different than the default behavior, which stops the script in the  <i>prerm</i>, and starts it again in the <i>postinst</i>.<div style="height: 1.00em;">
&#160;</div>
This can be useful for daemons that should not have a possibly long downtime during upgrade. But you should make sure that the daemon will not get confused by the package being upgraded while it's running before using this option.</dd>
</dl>
<dl>
<dt>
<b>-r</b>, <b>--no-restart-on-upgrade</b></dt>
<dd>
Do not stop init script on upgrade.</dd>
</dl>
<dl>
<dt>
<b>--no-start</b></dt>
<dd>
Do not start the init script on install or upgrade, or stop it on removal. Only call  <b>update-rc.d</b>. Useful for rcS scripts.</dd>
</dl>
<dl>
<dt>
<b>-d</b>, <b>--remove-d</b></dt>
<dd>
Remove trailing <b>d</b> from the name of the package, and use the result for the filename the upstart job file is installed as in  <i>etc/init/</i> , or for the filename the init script is installed as in etc/init.d and the default file is installed as in  <i>etc/default/</i> . This may be useful for daemons with names ending in  <b>d</b>. (Note: this takes precedence over the <b>--init-script</b> parameter described below.)</dd>
</dl>
<dl>
<dt>
<b>-u</b><i>params</i> <b>--update-rcd-params=</b><i>params</i></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>--</b> <i>params</i></dt>
<dd>
Pass <i>params</i> to <i>update-rc.d</i>(8). If not specified, <b>defaults</b> will be passed to  <i>update-rc.d</i>(8).</dd>
</dl>
<dl>
<dt>
<b>--name=</b><i>name</i></dt>
<dd>
Install the upstart job file or the init script (and default file) using the filename  <i>name</i> instead of the default filename, which is the package name. When this parameter is used,  <b>dh_installinit</b> looks for and installs files named  <i>debian/package.name.upstart</i>, <i>debian/package.name.init</i> and  <i>debian/package.name.default</i>, instead of the usual <i>debian/package.upstart</i>,  <i>debian/package.init</i> and <i>debian/package.default</i>.</dd>
</dl>
<dl>
<dt>
<b>--init-script=</b><i>scriptname</i></dt>
<dd>
Use <i>scriptname</i> as the filename the init script is installed as in  <i>etc/init.d/</i> (and also use it as the filename for the defaults file, if it is installed). If you use this parameter,  <b>dh_installinit</b> will look to see if a file in the  <i>debian/</i> directory exists that looks like  <i>package.scriptname</i> and if so will install it as the init script in preference to the files it normally installs.<div style="height: 1.00em;">
&#160;</div>
This parameter is deprecated, use the <b>--name</b> parameter instead. This parameter will be ignored completely for upstart jobs.</dd>
</dl>
<dl>
<dt>
<b>--upstart-only</b></dt>
<dd>
Only install an upstart job file, and do not include maintainer script code to replace an init script with that upstart job.<div style="height: 1.00em;">
&#160;</div>
This parameter is intended for use when the &quot;package.upstart&quot; file is new and only to be used on Upstart-based systems.</dd>
</dl>
<dl>
<dt>
<b>--error-handler=</b><i>function</i></dt>
<dd>
Call the named shell <i>function</i> if running the init script fails. The function should be provided in the  <i>prerm</i> and <i>postinst</i> scripts, before the  <b>#DEBHELPER#</b> token.</dd>
</dl>
</div>
<div class="section">
<h1>NOTES</h1> Note that this command is not idempotent.  <i>dh_prep</i>(1) should be called between invocations of this command. Otherwise, it may cause multiple instances of the same text to be added to maintainer scripts.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>debhelper</i>(7)<div class="spacer">
</div>
This program is a part of debhelper.</div>
<div class="section">
<h1>AUTHORS</h1> Joey Hess &lt;joeyh@debian.org&gt;<div class="spacer">
</div>
Steve Langasek &lt;steve.langasek@canonical.com&gt;<div class="spacer">
</div>
Scott James Remnant &lt;scott@canonical.com&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
2012-01-23</td>
<td class="foot-os">
9.20120115ubuntu3</td>
</tr>
</table>
</div>
</body>
</html>

