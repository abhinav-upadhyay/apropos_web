<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
CONFIG-EDIT(1p)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CONFIG-EDIT(1p)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
CONFIG-EDIT(1p)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> config-edit - Edit data of configuration managed by Config::Model</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  config-edit [options] ( -application popcon | -model Popcon ) [ ... ] [ commands  ... ]<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> &quot;config-edit&quot; program will use Config::Model configuration descriptions to validate or modify the configuration file of an application.<div class="spacer">
</div>
You can specify commands as arguments that will be run on the configuration root before launching the UI. These command follow the syntax defined in Config::Model::Loader.<div class="spacer">
</div>
&quot;config-edit&quot; can be run in several modes depending on your needs.<div class="subsection">
<h2>Graphical interface</h2><br/>
  config-edit -application popcon<br/>
<div class="spacer">
</div>
Provides a user interface so user can easily and securely modify the configuration of their system.</div>
<div class="subsection">
<h2>Curses interface</h2><br/>
  config-edit -ui curses -application popcon<br/>
<div class="spacer">
</div>
Provides a curses user interface</div>
<div class="subsection">
<h2>Shell like interface</h2><br/>
  config-edit -ui shell -application popcon<br/>
<div class="spacer">
</div>
Provides a shell like interface</div>
<div class="subsection">
<h2>upgrade mode</h2><br/>
  config-edit -ui none -application popcon -save<br/>
<div class="spacer">
</div>
Loads configuration date, perform validation and migration of old data (if specified by the model) and save the new configuration file.</div>
<div class="subsection">
<h2>Direct modification of configuration data</h2><br/>
  config-edit -ui none -application popcon PARTICIPATE=yes<br/>
<div class="spacer">
</div>
Loads old configuration data, update &quot;PARTICIPATE&quot; data, checks the modification and save the configuration back. Option &quot;-save&quot; is not needed as the data was modified by the command line.</div>
<div class="subsection">
<h2>Generation of configuration documentation</h2><br/>
  config-edit -model Popcon -gen-pod [ output_dir ]<br/>
<div class="spacer">
</div>
Generate pod documentation on STDOUT or write them in the specified directory. Note that one pod file will be created per class.<div class="spacer">
</div>
To get man pages or text docuement, you can pipe the output of the command:<div class="spacer">
</div>
<br/>
 config-edit -model Popcon -doc  | pod2man &gt; popcon-conf.3<br/>
</div>
</div>
<div class="section">
<h1>Options</h1><dl>
<dt>
application</dt>
<dd>
Application name to be configured. Specify &quot;help&quot; to get a list of available applications.</dd>
</dl>
<dl>
<dt>
file</dt>
<dd>
Configuration file name. Used only for models without standard configuration file name. (e.g. multistrap)</dd>
</dl>
<dl>
<dt>
-model</dt>
<dd>
Specifies the model used to edit configuration data. Specify &quot;help&quot; to get a list of available applications. This option is ignored when &quot;- application&quot; is specified</dd>
</dl>
<dl>
<dt>
-ui</dt>
<dd>
Specify the user interface type.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
&quot;tk&quot;: provides a Tk graphical interface (If Config::Model::TkUI is installed).</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
&quot;curses&quot;: provides a curses user interface (If Config::Model::CursesUI is installed).</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
&quot;shell&quot;: provides a shell like interface.  See Config::Model::TermUI for details.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
&quot;fuse&quot;: provides an interface through a FUSE virtual file system. You must give a directory where the virtual file system will be mounted with option &quot;-fuse_dir&quot;. To stop (and write the configuration data back to the configuration file), run &quot;fusermount -u &lt;mounted_fuse_dir&gt;&quot;. (This is experimental. Mount point specification may change in the future)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
&quot;none&quot;: No UI provided. Only command line arguments are handled.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
-dev</dt>
<dd>
Use this option if you want to test a model under development. This option will add &quot;lib&quot; in @INC and use &quot;lib/Config/Model/models&quot; as model directory. This option is ignored when run as root.</dd>
</dl>
<dl>
<dt>
-model-dir</dt>
<dd>
Specify an alternate directory to find model files. Mostly useful for tests.</dd>
</dl>
<dl>
<dt>
-instance-name</dt>
<dd>
Specify an instance name. By default the instance name is copied from model name.</dd>
</dl>
<dl>
<dt>
-root-dir</dt>
<dd>
Specify a pseudo root directory to read and write the configuration files. (Actual default directory and file names depends on the model (See &quot;-model&quot; option). For instance, if you specify &quot;~/mytest&quot;, the &quot;/etc/ssh/sshd_config&quot; files will be written in &quot;~/mytest/etc/ssh/&quot; directory.</dd>
</dl>
<dl>
<dt>
-config-file</dt>
<dd>
Specify the configuration file to edit (which may override the file specified by the model).<br/>
 Note that some applicaitions (like multistrap) will require this option. For other models (like Debian::Dpkg), this option may not make sense as several files are used.</dd>
</dl>
<dl>
<dt>
-verbose</dt>
<dd>
Be (very) verbose</dd>
</dl>
<dl>
<dt>
-debug</dt>
<dd>
Provide debug infos.</dd>
</dl>
<dl>
<dt>
-trace</dt>
<dd>
Provides a full stack trace when exiting on error.</dd>
</dl>
<dl>
<dt>
-force-load</dt>
<dd>
Load file even if error are found in data. Bad data are discarded</dd>
</dl>
<dl>
<dt>
-apply-fixes</dt>
<dd>
Apply fixes mentioned in model description. For details, see &quot;warn_if_match&quot; or &quot;warn_unless_match&quot; in &quot;&quot; in Config::Model::Value. Configuration files will be saved if invoked with &quot;-ui none&quot; .</dd>
</dl>
<dl>
<dt>
-backend</dt>
<dd>
Specify a read/write backend. The actual backend name depends on the model passed to &quot;-model&quot; option. See Config::Model::AutoRead for details.</dd>
</dl>
<dl>
<dt>
-dump [ file ]</dt>
<dd>
Dump configuration content on STDOUT or in the specified with Config::Model syntax.<div style="height: 1.00em;">
&#160;</div>
By default, dump only custom values, i.e. different from application built-in values or model default values. See -dumptype option for other types of dump</dd>
</dl>
<dl>
<dt>
-dumptype [ full | preset | custom ]</dt>
<dd>
Choose to dump every values (full), only preset values or only customized values (default)</dd>
</dl>
<dl>
<dt>
-load &lt;cds_file_to_load&gt;</dt>
<dd>
Load configuration data in model from cds file (using Config::Model serialisation format, typically done with -dump option). When this option is used, the usual configuration files will not be read.<div style="height: 1.00em;">
&#160;</div>
If used with &quot;-ui none&quot;, this option will load configuration data, validate it and save it in configuration file (if no error was found).</dd>
</dl>
<dl>
<dt>
-save</dt>
<dd>
Force re-writing the configuration. (useful for configuration upgrade)</dd>
</dl>
<dl>
<dt>
-open-item 'path'</dt>
<dd>
In graphical mode, force the UI to open the node specified. E.g.<div style="height: 1.00em;">
&#160;</div>
<br/>
 -open-item 'foo bar'<br/>
</dd>
</dl>
<dl>
<dt>
-fuse-dir</dt>
<dd>
Directory where the FUSE virtual file system will be mounted (with &quot;-ui fuse&quot;)</dd>
</dl>
</div>
<div class="section">
<h1>Search</h1> You can search the configuration with the following options<dl>
<dt>
-search</dt>
<dd>
Specifies a string or pattern to search. &quot;config-edit&quot; will a list of path pointing to the matching tree element and their value. See &quot;grab(...)&quot; in Config::Model::AnyThing for details on the path syntax.</dd>
</dl>
<dl>
<dt>
-narrow-search</dt>
<dd>
Narrows down the search to:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
element</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
value</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
key</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
summary</dt>
<dd>
Summary text</dd>
</dl>
<dl>
<dt>
description</dt>
<dd>
description text</dd>
</dl>
<dl>
<dt>
help</dt>
<dd>
value help text</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
</div>
<div class="section">
<h1>Embedding config-edit</h1> You can use config-edit from another program by using &quot;-ui simple&quot; option. This way you will be able to send command on the standard input of &quot;config-edit&quot; and get the results from the standard output.</div>
<div class="section">
<h1>Saving configuration data</h1> Configuration data are saved only when :<dl>
<dt>
&#8226;</dt>
<dd>
Requested through the user interface</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
When commands are specified with arguments</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
When &quot;-load&quot; option is used</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
When &quot;-save&quot; option is used</dd>
</dl>
<div class="spacer">
</div>
You can run safely &quot;config-edit -ui none&quot; to test a configuration, configuration files will not be modified in this case.</div>
<div class="section">
<h1>Logging</h1> All Config::Model logging is now based on Log::Log4perl. Logging can be configured in the following files:<dl>
<dt>
&#8226;</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br/>
 ~/.log4config-model<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br/>
 /etc/log4config-model.conf<br/>
</dd>
</dl>
<div class="spacer">
</div>
Without these files, the following Log4perl config is used:<div class="spacer">
</div>
<br/>
 log4perl.logger=WARN, Screen<br/>
 log4perl.appender.Screen        = Log::Log4perl::Appender::Screen<br/>
 log4perl.appender.Screen.stderr = 0<br/>
 log4perl.appender.Screen.layout = Log::Log4perl::Layout::PatternLayout<br/>
 log4perl.appender.Screen.layout.ConversionPattern = %d %m %n<br/>
<div class="spacer">
</div>
Log4perl uses the following categories:<dl>
<dt>
Anything</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend::Debian::Dpkg</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend::Debian::Dpkg::Control</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend::Debian::Dpkg::Copyright</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend::Fstab</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend::IniFile</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend::PlainFile</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend::ShellVar</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Backend::Yaml</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
FuseUI</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Instance</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Loader</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Model::Searcher</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Tree::Element::CheckList</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Tree::Element::Id</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Tree::Element::Id::Hash</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Tree::Element::Id::List</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Tree::Element::Value</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Tree::Element::Value::Dependency</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Tree::Node</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Tree::Node::Warped</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
ValueComputer</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Warper</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Wizard::Helper</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Model</dt>
<dd>
</dd>
</dl>
<div class="spacer">
</div>
More categories will come.</div>
<div class="section">
<h1>SUPPORT</h1> For support, please check the following resources:<dl>
<dt>
&#8226;</dt>
<dd>
The config-model users mailing list:<div style="height: 1.00em;">
&#160;</div>
<br/>
 config-model-users at lists.sourceforge.net<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The config-model wiki: http://config-model.wiki.sourceforge.net/ &lt;http://config-model.wiki.sourceforge.net/&gt;</dd>
</dl>
</div>
<div class="section">
<h1>FEEDBACKS</h1> Feedback from users are highly desired. If you find this module useful, please share your use cases, success stories with the author or with the config-model- users mailing list.</div>
<div class="section">
<h1>AUTHOR</h1> Dominique Dumont, ddumont at cpan dot org</div>
<div class="section">
<h1>SEE ALSO</h1> Config::Model::Model, Config::Model::Instance, Config::Model::Node, Config::Model::HashId, Config::Model::ListId, Config::Model::WarpedNode, Config::Model::Value</div>
<table class="foot">
<tr>
<td class="foot-date">
2012-02-24</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

