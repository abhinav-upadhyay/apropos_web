<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
PERF-BENCH(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
PERF-BENCH(1)</td>
<td class="head-vol">
perf Manual</td>
<td class="head-rtitle">
PERF-BENCH(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> perf-bench - General framework for benchmark suites</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
<i>perf bench</i> [&lt;common options&gt;] &lt;subsystem&gt; &lt;suite&gt; [&lt;options&gt;]<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This  <i>perf bench</i> command is general framework for benchmark suites.</div>
<div class="section">
<h1>COMMON OPTIONS</h1> -f, --format=<div style="margin-left: 4.00ex;">
Specify format style. Current available format styles are:</div>
<div class="spacer">
</div>
<i>default</i><div style="margin-left: 4.00ex;">
Default style. This is mainly for human reading.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div class="spacer">
</div>
<br/>
.ft C<br/>
% perf bench sched pipe                      # with no style specified<br/>
(executing 1000000 pipe operations between two tasks)<br/>
        Total time:5.855 sec<br/>
                5.855061 usecs/op<br/>
                170792 ops/sec<br/>
.ft<div class="spacer">
</div>
<br/>
</div>
<div class="spacer">
</div>
<i>simple</i><div style="margin-left: 4.00ex;">
This simple style is friendly for automated processing by scripts.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div class="spacer">
</div>
<br/>
.ft C<br/>
% perf bench --format=simple sched pipe      # specified simple<br/>
5.988<br/>
.ft<div class="spacer">
</div>
<br/>
</div>
</div>
<div class="section">
<h1>SUBSYSTEM</h1>  <i>sched</i><div style="margin-left: 4.00ex;">
Scheduler and IPC mechanisms.</div>
<div class="subsection">
<h2>SUITES FOR <i>sched</i></h2>  <b>messaging</b><div style="margin-left: 4.00ex;">
Suite for evaluating performance of scheduler and IPC mechanisms. Based on hackbench by Rusty Russell.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<b>Options of pipe</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div class="spacer">
</div>
-p, --pipe<div style="margin-left: 4.00ex;">
Use pipe() instead of socketpair()</div>
<div class="spacer">
</div>
-t, --thread<div style="margin-left: 4.00ex;">
Be multi thread instead of multi process</div>
<div class="spacer">
</div>
-g, --group=<div style="margin-left: 4.00ex;">
Specify number of groups</div>
<div class="spacer">
</div>
-l, --loop=<div style="margin-left: 4.00ex;">
Specify number of loops</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<b>Example of messaging</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div class="spacer">
</div>
<br/>
.ft C<br/>
% perf bench sched messaging                 # run with default<br/>
options (20 sender and receiver processes per group)<br/>
(10 groups == 400 processes run)<div class="spacer">
</div>
<br/>
      Total time:0.308 sec<div class="spacer">
</div>
<br/>
% perf bench sched messaging -t -g 20        # be multi-thread, with 20 groups<br/>
(20 sender and receiver threads per group)<br/>
(20 groups == 800 threads run)<div class="spacer">
</div>
<br/>
      Total time:0.582 sec<br/>
.ft<div class="spacer">
</div>
<br/>
</div>
<div class="spacer">
</div>
<b>pipe</b><div style="margin-left: 4.00ex;">
Suite for pipe() system call. Based on pipe-test-1m.c by Ingo Molnar.</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<b>Options of pipe</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div class="spacer">
</div>
-l, --loop=<div style="margin-left: 4.00ex;">
Specify number of loops.</div>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
<b>Example of pipe</b><div style="height: 0.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div class="spacer">
</div>
<br/>
.ft C<br/>
% perf bench sched pipe<br/>
(executing 1000000 pipe operations between two tasks)<div class="spacer">
</div>
<br/>
        Total time:8.091 sec<br/>
                8.091833 usecs/op<br/>
                123581 ops/sec<div class="spacer">
</div>
<br/>
% perf bench sched pipe -l 1000              # loop 1000<br/>
(executing 1000 pipe operations between two tasks)<div class="spacer">
</div>
<br/>
        Total time:0.016 sec<br/>
                16.948000 usecs/op<br/>
                59004 ops/sec<br/>
.ft<div class="spacer">
</div>
<br/>
</div>
</div>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>perf</b>(1)</div>
<table class="foot">
<tr>
<td class="foot-date">
03/10/2016</td>
<td class="foot-os">
perf 3.2.76</td>
</tr>
</table>
</div>
</body>
</html>

