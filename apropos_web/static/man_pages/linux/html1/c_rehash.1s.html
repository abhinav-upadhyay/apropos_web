<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
C_REHASH(1SSL)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
C_REHASH(1SSL)</td>
<td class="head-vol">
OpenSSL</td>
<td class="head-rtitle">
C_REHASH(1SSL)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> c_rehash - Create symbolic links to files named by the hash values</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>c_rehash</b> [directory] ...</div>
<div class="section">
<h1>DESCRIPTION</h1> c_rehash scans directories and takes a hash value of each .pem and .crt file in the directory. It then creates symbolic links for each of the files named by the hash value. This is useful as many programs require directories to be set up like this in order to find the certificates they require.<div class="spacer">
</div>
If any directories are named on the command line then these directories are processed in turn. If not then and the environment variable SSL_CERT_DIR is defined then that is consulted. This variable should be a colon (:) separated list of directories, all of which will be processed. If neither of these conditions are true then /usr/lib/ssl/certs is processed.<div class="spacer">
</div>
For each directory that is to be processed he user must have write permissions on the directory, if they do not then nothing will be printed for that directory.<div class="spacer">
</div>
Note that this program deletes all the symbolic links that look like ones that it creates before processing a directory. Beware that if you run the program on a directory that contains symbolic links for other purposes that are named in the same format as those created by this program they will be lost.<div class="spacer">
</div>
The hashes for certificate files are of the form &lt;hash&gt;.&lt;n&gt; where n is an integer. If the hash value already exists then n will be incremented, unless the file is a duplicate. Duplicates are detected using the fingerprint of the certificate. A warning will be printed if a duplicate is detected. The hashes for CRL files are of the form &lt;hash&gt;.r&lt;n&gt; and have the same behavior.<div class="spacer">
</div>
The program will also warn if there are files with extension .pem which are not certificate or CRL files.<div class="spacer">
</div>
The program uses the openssl program to compute the hashes and fingerprints. It expects the executable to be named openssl and be on the PATH, or in the /usr/lib/ssl/bin directory. If the OPENSSL environment variable is defined then this is used instead as the executable that provides the hashes and fingerprints. When called as $OPENSSL x509 -hash -fingerprint -noout -in $file it must output the hash of $file on the first line followed by the fingerprint on the second line, optionally prefixed with some text and an equals sign (=).</div>
<div class="section">
<h1>OPTIONS</h1> None</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>OPENSSL</b></dt>
<dd>
The name (and path) of an executable to use to generate hashes and fingerprints (see above).</dd>
</dl>
<dl>
<dt>
<b>SSL_CERT_DIR</b></dt>
<dd>
Colon separated list of directories to operate on. Ignored if directories are listed on the command line.</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>openssl</i>(1), <i>x509</i>(1)</div>
<div class="section">
<h1>BUGS</h1> No known bugs</div>
<table class="foot">
<tr>
<td class="foot-date">
2016-02-29</td>
<td class="foot-os">
1.0.1</td>
</tr>
</table>
</div>
</body>
</html>

