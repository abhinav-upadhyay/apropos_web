<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
PERF-STAT(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
PERF-STAT(1)</td>
<td class="head-vol">
perf Manual</td>
<td class="head-rtitle">
PERF-STAT(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> perf-stat - Run a command and gather performance counter statistics</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
<i>perf stat</i> [-e &lt;EVENT&gt; | --event=EVENT] [-a] &lt;command&gt;<br/>
<i>perf stat</i> [-e &lt;EVENT&gt; | --event=EVENT] [-a] &#8212; &lt;command&gt; [&lt;options&gt;]<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This command runs a command and gathers performance counter statistics from it.</div>
<div class="section">
<h1>OPTIONS</h1> &lt;command&gt;...<div style="margin-left: 4.00ex;">
Any command you can specify in a shell.</div>
<div class="spacer">
</div>
-e, --event=<div style="margin-left: 4.00ex;">
Select the PMU event. Selection can be a symbolic event name (use  <i>perf list</i> to list all events) or a raw PMU event (eventsel+umask) in the form of rNNN where NNN is a hexadecimal event descriptor.</div>
<div class="spacer">
</div>
-i, --no-inherit<div style="margin-left: 4.00ex;">
child tasks do not inherit counters</div>
<div class="spacer">
</div>
-p, --pid=&lt;pid&gt;<div style="margin-left: 4.00ex;">
stat events on existing process id</div>
<div class="spacer">
</div>
-t, --tid=&lt;tid&gt;<div style="margin-left: 4.00ex;">
stat events on existing thread id</div>
<div class="spacer">
</div>
-a, --all-cpus<div style="margin-left: 4.00ex;">
system-wide collection from all CPUs</div>
<div class="spacer">
</div>
-c, --scale<div style="margin-left: 4.00ex;">
scale/normalize counter values</div>
<div class="spacer">
</div>
-r, --repeat=&lt;n&gt;<div style="margin-left: 4.00ex;">
repeat command and print average + stddev (max: 100)</div>
<div class="spacer">
</div>
-B, --big-num<div style="margin-left: 4.00ex;">
print large numbers with thousands' separators according to locale</div>
<div class="spacer">
</div>
-C, --cpu=<div style="margin-left: 4.00ex;">
Count only on the list of CPUs provided. Multiple CPUs can be provided as a comma-separated list with no space: 0,1. Ranges of CPUs are specified with -: 0-2. In per-thread mode, this option is ignored. The -a option is still necessary to activate system-wide monitoring. Default is to count on all CPUs.</div>
<div class="spacer">
</div>
-A, --no-aggr<div style="margin-left: 4.00ex;">
Do not aggregate counts across all monitored CPUs in system-wide mode (-a). This option is only valid in system-wide mode.</div>
<div class="spacer">
</div>
-n, --null<div style="margin-left: 4.00ex;">
null run - don&#8217;t start any counters</div>
<div class="spacer">
</div>
-v, --verbose<div style="margin-left: 4.00ex;">
be more verbose (show counter open errors, etc)</div>
<div class="spacer">
</div>
-x SEP, --field-separator SEP<div style="margin-left: 4.00ex;">
print counts using a CSV-style output to make it easy to import directly into spreadsheets. Columns are separated by the string specified in SEP.</div>
<div class="spacer">
</div>
-G name, --cgroup name<div style="margin-left: 4.00ex;">
monitor only in the container (cgroup) called &quot;name&quot;. This option is available only in per-cpu mode. The cgroup filesystem must be mounted. All threads belonging to container &quot;name&quot; are monitored when they run on the monitored CPUs. Multiple cgroups can be provided. Each cgroup is applied to the corresponding event, i.e., first cgroup to first event, second cgroup to second event and so on. It is possible to provide an empty cgroup (monitor all the time) using, e.g., -G foo,,bar. Cgroups must have corresponding events, i.e., they always refer to events defined earlier on the command line.</div>
<div class="spacer">
</div>
-o file, --output file<div style="margin-left: 4.00ex;">
Print the output into the designated file.</div>
<div class="spacer">
</div>
--append<div style="margin-left: 4.00ex;">
Append to the output file designated with the -o option. Ignored if -o is not specified.</div>
<div class="spacer">
</div>
--log-fd<div style="margin-left: 4.00ex;">
Log output to fd, instead of stderr. Complementary to --output, and mutually exclusive with it. --append may be used here. Examples: 3&gt;results perf stat --log-fd 3  &#8212; $cmd 3&gt;&gt;results perf stat --log-fd 3 --append &#8212; $cmd</div>
</div>
<div class="section">
<h1>EXAMPLES</h1> $ perf stat &#8212; make -j<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Performance counter stats for 'make -j':<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
8117.370256  task clock ticks     #      11.281 CPU utilization factor<br/>
        678  context switches     #       0.000 M/sec<br/>
        133  CPU migrations       #       0.000 M/sec<br/>
     235724  pagefaults           #       0.029 M/sec<br/>
24821162526  CPU cycles           #    3057.784 M/sec<br/>
18687303457  instructions         #    2302.138 M/sec<br/>
  172158895  cache references     #      21.209 M/sec<br/>
   27075259  cache misses         #       3.335 M/sec<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Wall-clock time elapsed:   719.554352 msecs<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>perf-top</b>(1), <b>perf-list</b>(1)</div>
<table class="foot">
<tr>
<td class="foot-date">
03/10/2016</td>
<td class="foot-os">
perf 3.2.76</td>
</tr>
</table>
</div>
</body>
</html>

