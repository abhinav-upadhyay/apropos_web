<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
GIT-TAG(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GIT-TAG(1)</td>
<td class="head-vol">
Git Manual</td>
<td class="head-rtitle">
GIT-TAG(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> git-tag - Create, list, delete or verify a tag object signed with GPG</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
<i>git tag</i> [-a | -s | -u &lt;keyid&gt;] [-f] [-m &lt;msg&gt; | -F &lt;file&gt;]<br/>
        &lt;tagname&gt; [&lt;commit&gt; | &lt;object&gt;]<br/>
<i>git tag</i> -d &lt;tagname&gt;...<br/>
<i>git tag</i> [-n[&lt;num&gt;]] -l [--contains &lt;commit&gt;] [--points-at &lt;object&gt;]<br/>
        [--column[=&lt;options&gt;] | --no-column] [--create-reflog] [--sort=&lt;key&gt;]<br/>
        [--format=&lt;format&gt;] [--[no-]merged [&lt;commit&gt;]] [&lt;pattern&gt;...]<br/>
<i>git tag</i> -v &lt;tagname&gt;...<br/>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Add a tag reference in refs/tags/, unless -d/-l/-v is given to delete, list or verify tags.<div style="height: 1.00em;">
&#160;</div>
Unless -f is given, the named tag must not yet exist.<div style="height: 1.00em;">
&#160;</div>
If one of -a, -s, or -u &lt;keyid&gt; is passed, the command creates a <i>tag</i> object, and requires a tag message. Unless -m &lt;msg&gt; or -F &lt;file&gt; is given, an editor is started for the user to type in the tag message.<div style="height: 1.00em;">
&#160;</div>
If -m &lt;msg&gt; or -F &lt;file&gt; is given and -a, -s, and -u &lt;keyid&gt; are absent, -a is implied.<div style="height: 1.00em;">
&#160;</div>
Otherwise just a tag reference for the SHA-1 object name of the commit object is created (i.e. a lightweight tag).<div style="height: 1.00em;">
&#160;</div>
A GnuPG signed tag object will be created when -s or -u &lt;keyid&gt; is used. When -u &lt;keyid&gt; is not used, the committer identity for the current user is used to find the GnuPG key for signing. The configuration variable gpg.program is used to specify custom GnuPG binary.<div style="height: 1.00em;">
&#160;</div>
Tag objects (created with -a, -s, or -u) are called &quot;annotated&quot; tags; they contain a creation date, the tagger name and e-mail, a tagging message, and an optional GnuPG signature. Whereas a &quot;lightweight&quot; tag is simply a name for an object (usually a commit object).<div style="height: 1.00em;">
&#160;</div>
Annotated tags are meant for release while lightweight tags are meant for private or temporary object labels. For this reason, some git commands for naming objects (like git describe) will ignore lightweight tags by default.</div>
<div class="section">
<h1>OPTIONS</h1> -a, --annotate<div style="margin-left: 4.00ex;">
Make an unsigned, annotated tag object</div>
<div class="spacer">
</div>
-s, --sign<div style="margin-left: 4.00ex;">
Make a GPG-signed tag, using the default e-mail address&#8217;s key.</div>
<div class="spacer">
</div>
-u &lt;keyid&gt;, --local-user=&lt;keyid&gt;<div style="margin-left: 4.00ex;">
Make a GPG-signed tag, using the given key.</div>
<div class="spacer">
</div>
-f, --force<div style="margin-left: 4.00ex;">
Replace an existing tag with the given name (instead of failing)</div>
<div class="spacer">
</div>
-d, --delete<div style="margin-left: 4.00ex;">
Delete existing tags with the given names.</div>
<div class="spacer">
</div>
-v, --verify<div style="margin-left: 4.00ex;">
Verify the gpg signature of the given tag names.</div>
<div class="spacer">
</div>
-n&lt;num&gt;<div style="margin-left: 4.00ex;">
&lt;num&gt; specifies how many lines from the annotation, if any, are printed when using -l. The default is not to print any annotation lines. If no number is given to -n, only the first line is printed. If the tag is not annotated, the commit message is displayed instead.</div>
<div class="spacer">
</div>
-l &lt;pattern&gt;, --list &lt;pattern&gt;<div style="margin-left: 4.00ex;">
List tags with names that match the given pattern (or all if no pattern is given). Running &quot;git tag&quot; without arguments also lists all tags. The pattern is a shell wildcard (i.e., matched using fnmatch(3)). Multiple patterns may be given; if any of them matches, the tag is shown.</div>
<div class="spacer">
</div>
--sort=&lt;key&gt;<div style="margin-left: 4.00ex;">
Sort based on the key given. Prefix - to sort in descending order of the value. You may use the --sort=&lt;key&gt; option multiple times, in which case the last key becomes the primary key. Also supports &quot;version:refname&quot; or &quot;v:refname&quot; (tag names are treated as versions). The &quot;version:refname&quot; sort order can also be affected by the &quot;versionsort.prereleaseSuffix&quot; configuration variable. The keys supported are the same as those in git for-each-ref. Sort order defaults to the value configured for the  <i>tag.sort</i> variable if it exists, or lexicographic order otherwise. See  <b>git-config</b>(1).</div>
<div class="spacer">
</div>
--column[=&lt;options&gt;], --no-column<div style="margin-left: 4.00ex;">
Display tag listing in columns. See configuration variable column.tag for option syntax.--column and --no-column without options are equivalent to  <i>always</i> and  <i>never</i> respectively.<div style="height: 1.00em;">
&#160;</div>
This option is only applicable when listing tags without annotation lines.</div>
<div class="spacer">
</div>
--contains [&lt;commit&gt;]<div style="margin-left: 4.00ex;">
Only list tags which contain the specified commit (HEAD if not specified).</div>
<div class="spacer">
</div>
--points-at &lt;object&gt;<div style="margin-left: 4.00ex;">
Only list tags of the given object.</div>
<div class="spacer">
</div>
-m &lt;msg&gt;, --message=&lt;msg&gt;<div style="margin-left: 4.00ex;">
Use the given tag message (instead of prompting). If multiple -m options are given, their values are concatenated as separate paragraphs. Implies -a if none of -a, -s, or -u &lt;keyid&gt; is given.</div>
<div class="spacer">
</div>
-F &lt;file&gt;, --file=&lt;file&gt;<div style="margin-left: 4.00ex;">
Take the tag message from the given file. Use  <i>-</i> to read the message from the standard input. Implies -a if none of -a, -s, or -u &lt;keyid&gt; is given.</div>
<div class="spacer">
</div>
--cleanup=&lt;mode&gt;<div style="margin-left: 4.00ex;">
This option sets how the tag message is cleaned up. The  <i>&lt;mode&gt;</i> can be one of  <i>verbatim</i>,  <i>whitespace</i> and  <i>strip</i>. The  <i>strip</i> mode is default. The  <i>verbatim</i> mode does not change message at all,  <i>whitespace</i> removes just leading/trailing whitespace lines and  <i>strip</i> removes both whitespace and commentary.</div>
<div class="spacer">
</div>
--create-reflog<div style="margin-left: 4.00ex;">
Create a reflog for the tag.</div>
<div class="spacer">
</div>
&lt;tagname&gt;<div style="margin-left: 4.00ex;">
The name of the tag to create, delete, or describe. The new tag name must pass all checks defined by  <b>git-check-ref-format</b>(1). Some of these checks may restrict the characters allowed in a tag name.</div>
<div class="spacer">
</div>
&lt;commit&gt;, &lt;object&gt;<div style="margin-left: 4.00ex;">
The object that the new tag will refer to, usually a commit. Defaults to HEAD.</div>
<div class="spacer">
</div>
&lt;format&gt;<div style="margin-left: 4.00ex;">
A string that interpolates %(fieldname) from the object pointed at by a ref being shown. The format is the same as that of  <b>git-for-each-ref</b>(1). When unspecified, defaults to %(refname:strip=2).</div>
<div class="spacer">
</div>
--[no-]merged [&lt;commit&gt;]<div style="margin-left: 4.00ex;">
Only list tags whose tips are reachable, or not reachable if  <i>--no-merged</i> is used, from the specified commit ( <i>HEAD</i> if not specified).</div>
</div>
<div class="section">
<h1>CONFIGURATION</h1> By default,  <i>git tag</i> in sign-with-default mode (-s) will use your committer identity (of the form Your Name &lt;your@email.address&gt;) to find a key. If you want to use a different default key, you can specify it in the repository configuration as follows:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
[user]<br/>
    signingKey = &lt;gpg-keyid&gt;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DISCUSSION</h1><div class="subsection">
<h2>On Re-tagging</h2> What should you do when you tag a wrong commit and you would want to re-tag?<div style="height: 1.00em;">
&#160;</div>
If you never pushed anything out, just re-tag it. Use &quot;-f&quot; to replace the old one. And you&#8217;re done.<div style="height: 1.00em;">
&#160;</div>
But if you have pushed things out (or others could just read your repository directly), then others will have already seen the old tag. In that case you can do one of two things:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
 1.The sane thing. Just admit you screwed up, and use a different name. Others have already seen one tag-name, and if you keep the same name, you may be in the situation that two people both have &quot;version X&quot;, but they actually have  <i>different</i> &quot;X&quot;'s. So just call it &quot;X.1&quot; and be done with it.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
 2.The insane thing. You really want to call the new version &quot;X&quot; too,  <i>even though</i> others have already seen the old one. So just use  <i>git tag -f</i> again, as if you hadn&#8217;t already published the old one.</div>
<div style="height: 1.00em;">
&#160;</div>
However, Git does <b>not</b> (and it should not) change tags behind users back. So if somebody already got the old tag, doing a <i>git pull</i> on your tree shouldn&#8217;t just make them overwrite the old one.<div style="height: 1.00em;">
&#160;</div>
If somebody got a release tag from you, you cannot just change the tag for them by updating your own one. This is a big security issue, in that people MUST be able to trust their tag-names. If you really want to do the insane thing, you need to just fess up to it, and tell people that you messed up. You can do that by making a very public announcement saying:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Ok, I messed up, and I pushed out an earlier version tagged as X. I<br/>
then fixed something, and retagged the *fixed* tree as X again.<div class="spacer">
</div>
<br/>
If you got the wrong tag, and want the new one, please delete<br/>
the old one and fetch the new one by doing:<div class="spacer">
</div>
<br/>
        git tag -d X<br/>
        git fetch origin tag X<div class="spacer">
</div>
<br/>
to get my updated tag.<div class="spacer">
</div>
<br/>
You can test which tag you have by doing<div class="spacer">
</div>
<br/>
        git rev-parse X<div class="spacer">
</div>
<br/>
which should return 0123456789abcdef.. if you have the new version.<div class="spacer">
</div>
<br/>
Sorry for the inconvenience.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
Does this seem a bit complicated? It <b>should</b> be. There is no way that it would be correct to just &quot;fix&quot; it automatically. People need to know that their tags might have been changed.</div>
<div class="subsection">
<h2>On Automatic following</h2> If you are following somebody else&#8217;s tree, you are most likely using remote-tracking branches (refs/heads/origin in traditional layout, or refs/remotes/origin/master in the separate-remote layout). You usually want the tags from the other end.<div style="height: 1.00em;">
&#160;</div>
On the other hand, if you are fetching because you would want a one-shot merge from somebody else, you typically do not want to get tags from there. This happens more often for people near the toplevel but not limited to them. Mere mortals when pulling from each other do not necessarily want to automatically get private anchor point tags from the other person.<div style="height: 1.00em;">
&#160;</div>
Often, &quot;please pull&quot; messages on the mailing list just provide two pieces of information: a repo URL and a branch name; this is designed to be easily cut&amp;pasted at the end of a <i>git fetch</i> command line:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Linus, please pull from<div class="spacer">
</div>
<br/>
        git://git..../proj.git master<div class="spacer">
</div>
<br/>
to get the following updates...<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
becomes:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ git pull git://git..../proj.git master<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
In such a case, you do not want to automatically follow the other person&#8217;s tags.<div style="height: 1.00em;">
&#160;</div>
One important aspect of Git is its distributed nature, which largely means there is no inherent &quot;upstream&quot; or &quot;downstream&quot; in the system. On the face of it, the above example might seem to indicate that the tag namespace is owned by the upper echelon of people and that tags only flow downwards, but that is not the case. It only shows that the usage pattern determines who are interested in whose tags.<div style="height: 1.00em;">
&#160;</div>
A one-shot pull is a sign that a commit history is now crossing the boundary between one circle of people (e.g. &quot;people who are primarily interested in the networking part of the kernel&quot;) who may have their own set of tags (e.g. &quot;this is the third release candidate from the networking group to be proposed for general consumption with 2.6.21 release&quot;) to another circle of people (e.g. &quot;people who integrate various subsystem improvements&quot;). The latter are usually not interested in the detailed tags used internally in the former group (that is what &quot;internal&quot; means). That is why it is desirable not to follow tags automatically in this case.<div style="height: 1.00em;">
&#160;</div>
It may well be that among networking people, they may want to exchange the tags internal to their group, but in that workflow they are most likely tracking each other&#8217;s progress by having remote-tracking branches. Again, the heuristic to automatically follow such tags is a good thing.</div>
<div class="subsection">
<h2>On Backdating Tags</h2> If you have imported some changes from another VCS and would like to add tags for major releases of your work, it is useful to be able to specify the date to embed inside of the tag object; such data in the tag object affects, for example, the ordering of tags in the gitweb interface.<div style="height: 1.00em;">
&#160;</div>
To set the date used in future tag objects, set the environment variable GIT_COMMITTER_DATE (see the later discussion of possible values; the most common form is &quot;YYYY-MM-DD HH:MM&quot;).<div style="height: 1.00em;">
&#160;</div>
For example:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ GIT_COMMITTER_DATE=&quot;2006-10-02 10:31&quot; git tag -s v1.0.1<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>DATE FORMATS</h1> The GIT_AUTHOR_DATE, GIT_COMMITTER_DATE environment variables support the following date formats:<div class="spacer">
</div>
Git internal format<div style="margin-left: 4.00ex;">
It is &lt;unix timestamp&gt; &lt;time zone offset&gt;, where &lt;unix timestamp&gt; is the number of seconds since the UNIX epoch. &lt;time zone offset&gt; is a positive or negative offset from UTC. For example CET (which is 2 hours ahead UTC) is +0200.</div>
<div class="spacer">
</div>
RFC 2822<div style="margin-left: 4.00ex;">
The standard email format as described by RFC 2822, for example Thu, 07 Apr 2005 22:13:13 +0200.</div>
<div class="spacer">
</div>
ISO 8601<div style="margin-left: 4.00ex;">
Time and date specified by the ISO 8601 standard, for example 2005-04-07T22:13:13. The parser accepts a space instead of the T character as well.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 0.00em;">
&#160;</div>
<b>Note</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
In addition, the date part is accepted in the following formats: YYYY.MM.DD, MM/DD/YYYY and DD.MM.YYYY.<div style="height: 0.50em;">
&#160;</div>
</div>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>git-check-ref-format</b>(1). <b>git-config</b>(1).</div>
<div class="section">
<h1>GIT</h1> Part of the  <b>git</b>(1) suite</div>
<table class="foot">
<tr>
<td class="foot-date">
04/03/2016</td>
<td class="foot-os">
Git 2.8.1</td>
</tr>
</table>
</div>
</body>
</html>

