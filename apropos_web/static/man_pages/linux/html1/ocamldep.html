<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
OCAMLDEP(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
OCAMLDEP(1)</td>
<td class="head-vol">
General Commands Manual</td>
<td class="head-rtitle">
OCAMLDEP(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ocamldep - Dependency generator for OCaml<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>ocamldep</b> [ <i>options</i> ] <i>filename ...</i><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>ocamldep</b>(1) command scans a set of OCaml source files (.ml and .mli files) for references to external compilation units, and outputs dependency lines in a format suitable for the <b>make</b>(1) utility. This ensures that make will compile the source files in the correct order, and recompile those files that need to when a source file is modified.<div style="height: 1.00em;">
&#160;</div>
The typical usage is:<div class="spacer">
</div>
ocamldep <i>options</i> *.mli *.ml &gt; .depend<div class="spacer">
</div>
where .depend is the file that should contain the dependencies.<div style="height: 1.00em;">
&#160;</div>
Dependencies are generated both for compiling with the bytecode compiler <b>ocamlc</b>(1) and with the native-code compiler <b>ocamlopt</b>(1).<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1> The following command-line options are recognized by <b>ocamldep</b>(1).<dl>
<dt>
<b>-absname</b></dt>
<dd>
Show absolute filenames in error messages.</dd>
</dl>
<dl>
<dt>
<b>-I</b><i>&#160;directory</i></dt>
<dd>
Add the given directory to the list of directories searched for source files. If a source file foo.ml mentions an external compilation unit Bar, a dependency on that unit's interface bar.cmi is generated only if the source for bar is found in the current directory or in one of the directories specified with <b>-I</b>. Otherwise, Bar is assumed to be a module from the standard library, and no dependencies are generated. For programs that span multiple directories, it is recommended to pass <b>ocamldep</b>(1) the same <b>-I</b> options that are passed to the compiler.</dd>
</dl>
<dl>
<dt>
<b>-ml-synonym</b><i>&#160;.ext</i></dt>
<dd>
Consider the given extension (with leading dot) to be a synonym for .ml.</dd>
</dl>
<dl>
<dt>
<b>-mli-synonym</b><i>&#160;.ext</i></dt>
<dd>
Consider the given extension (with leading dot) to be a synonym for .mli.</dd>
</dl>
<dl>
<dt>
<b>-modules</b></dt>
<dd>
Output raw dependencies of the form <i>filename</i>:<i>&#160;Module1&#160;Module2</i>&#160;...<i>&#160;ModuleN</i> where <i>Module1</i>,&#160;...,<i>&#160;ModuleN</i> are the names of the compilation units referenced within the file <i>filename</i>, but these names are not resolved to source file names.  Such raw dependencies cannot be used by <b>make</b>(1), but can be post-processed by other tools such as <b>Omake</b>(1).</dd>
</dl>
<dl>
<dt>
<b>-native</b></dt>
<dd>
Generate dependencies for a pure native-code program (no bytecode version).  When an implementation file (.ml file) has no explicit interface file (.mli file), <b>ocamldep</b>(1) generates dependencies on the bytecode compiled file (.cmo file) to reflect interface changes. This can cause unnecessary bytecode recompilations for programs that are compiled to native-code only.  The flag <b>-native</b> causes dependencies on native compiled files (.cmx) to be generated instead of on .cmo files.  (This flag makes no difference if all source files have explicit .mli interface files.)</dd>
</dl>
<dl>
<dt>
<b>-pp</b><i>&#160;command</i></dt>
<dd>
Cause <b>ocamldep</b>(1) to call the given <i>command</i> as a preprocessor for each source file.</dd>
</dl>
<dl>
<dt>
<b>-ppx</b><i>&#160;command</i></dt>
<dd>
Pipe abstract syntax tree through preprocessor <i>command</i>.</dd>
</dl>
<dl>
<dt>
<b>-slash</b></dt>
<dd>
Under Unix, this option does nothing.</dd>
</dl>
<dl>
<dt>
<b>-version</b></dt>
<dd>
Print version string and exit.</dd>
</dl>
<dl>
<dt>
<b>-vnum</b></dt>
<dd>
Print short version number and exit.</dd>
</dl>
<dl>
<dt>
<b>-help</b>&#160;or<b>&#160;--help</b></dt>
<dd>
Display a short usage summary and exit.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>ocamlc</b>(1), <b>ocamlopt</b>(1).<div style="height: 0.00em;">
&#160;</div>
<i>The&#160;OCaml&#160;user's&#160;manual</i>, chapter &quot;Dependency generator&quot;.</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

