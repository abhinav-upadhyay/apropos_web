<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
OCAMLCP(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
OCAMLCP(1)</td>
<td class="head-vol">
General Commands Manual</td>
<td class="head-rtitle">
OCAMLCP(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ocamlcp, ocamloptp - The OCaml profiling compilers<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>ocamlcp</b> [ <i>ocamlc options</i> ] [ <b>-P</b><i>&#160;flags</i> ] <i>filename ...</i><div style="height: 1.00em;">
&#160;</div>
<b>ocamloptp</b> [ <i>ocamlopt options</i> ] [ <b>-P</b><i>&#160;flags</i> ] <i>filename ...</i><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>ocamlcp</b> and <b>ocamloptp</b> commands are front-ends to <b>ocamlc</b>(1) and <b>ocamlopt</b>(1) that instrument the source code, adding code to record how many times functions are called, branches of conditionals are taken, etc. Execution of instrumented code produces an execution profile in the file ocamlprof.dump, which can be read using <b>ocamlprof</b>(1).<div style="height: 1.00em;">
&#160;</div>
<b>ocamlcp</b> accepts the same arguments and options as <b>ocamlc</b>(1) and <b>ocamloptp</b> accepts the same arguments and options as <b>ocamlopt</b>(1). There is only one exception: in both cases, the <b>-pp</b> option is not supported.  If you need to preprocess your source files, you will have to do it separately before calling <b>ocamlcp</b> or <b>ocamloptp</b>.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1> In addition to the <b>ocamlc</b>(1) or <b>ocamlopt</b>(1) options, <b>ocamlcp</b> and <b>ocamloptp</b> accept one option to control the kind of profiling information, the <b>-P</b><i>&#160;letters</i> option. The <i>letters</i> indicate which parts of the program should be profiled:<dl>
<dt>
<b>a</b></dt>
<dd>
all options</dd>
</dl>
<dl>
<dt>
<b>f</b></dt>
<dd>
function calls : a count point is set at the beginning of each function body</dd>
</dl>
<dl>
<dt>
<b>i</b></dt>
<dd>
<b>if</b>&#160;...<b>&#160;then</b>&#160;...<b>&#160;else</b>: count points are set in both <b>then</b>&#160;and<b>&#160;else</b> branches</dd>
</dl>
<dl>
<dt>
<b>l</b></dt>
<dd>
<b>while</b>,<b>&#160;for</b> loops: a count point is set at the beginning of the loop body</dd>
</dl>
<dl>
<dt>
<b>m</b></dt>
<dd>
<b>match</b> branches: a count point is set at the beginning of the body of each branch of a pattern-matching</dd>
</dl>
<dl>
<dt>
<b>t</b></dt>
<dd>
<b>try</b>&#160;...<b>&#160;with</b> branches: a count point is set at the beginning of the body of each branch of an exception catcher<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
For instance, compiling with <b>ocamlcp -P film</b> profiles function calls, <b>if</b>&#160;...<b>&#160;then</b>&#160;...<b>&#160;else</b>&#160;..., loops, and pattern matching.<div style="height: 1.00em;">
&#160;</div>
Calling <b>ocamlcp</b>(1) or <b>ocamloptp</b>(1) without the <b>-P</b> option defaults to <b>-P&#160;fm</b>, meaning that only function calls and pattern matching are profiled.<div style="height: 1.00em;">
&#160;</div>
Note: for compatibility with previous versions, <b>ocamlcp</b>(1) also accepts the option <b>-p</b> with the same argument and meaning as <b>-P</b>.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>ocamlc</b>(1), <b>ocamlopt</b>(1), <b>ocamlprof</b>(1).<div style="height: 0.00em;">
&#160;</div>
<i>The OCaml user's manual</i>, chapter &quot;Profiling&quot;.</div>
<table class="foot">
<tr>
<td class="foot-date">
</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

