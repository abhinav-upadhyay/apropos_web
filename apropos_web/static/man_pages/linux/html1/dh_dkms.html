<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
DH_DKMS(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
DH_DKMS(1)</td>
<td class="head-vol">
DKMS Debhelper</td>
<td class="head-rtitle">
DH_DKMS(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> dh_dkms - correctly handle DKMS usage by a kernel module package</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>dh_dkms</b> [<i>debhelper&#160;options</i>] [<b>-l</b>] [<b>-V</b>[<i>version</i>]] [<b>--</b>&#160;<i>file</i>]</div>
<div class="section">
<h1>DESCRIPTION</h1> dh_dkms is a debhelper program that is responsible for correctly setting postinst, postrm and dependencies in kernel module packages using DKMS.<div class="spacer">
</div>
If a file named debian/package.dkms exists, then different actions are performed, depending on its contents.</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
debian/<i>package</i>.dkms</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
debian/dkms</dt>
<dd>
It can be a proper configuration file, and in this case it would be installed in the proper directory as dkms.conf.<div style="height: 1.00em;">
&#160;</div>
It can also point to another file (this should be used when the configuration is provided by upstream), and in this case that file will be installed as dkms.conf in the proper directory.<div style="height: 1.00em;">
&#160;</div>
This file can only miss if a filename is provided when calling dh_dkms.</dd>
</dl>
</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
<b>-l</b>, <b>--legacy</b></dt>
<dd>
Add code to also support DKMS versions &lt; 2.1.0.0.</dd>
</dl>
<dl>
<dt>
<b>-V</b>, <b>-V</b> <i>version</i></dt>
<dd>
If &quot;PACKAGE_VERSION&quot; in <i>dkms.conf</i> is set to &quot;#MODULE_VERSION#&quot;, set it to the given  <i>version</i> or, if none is given, default to the upstream version of the current package. Otherwise, leave the value specified in  <i>dkms.conf</i>.</dd>
</dl>
<dl>
<dt>
<b>--</b> <i>file</i></dt>
<dd>
Don't look for debian/<i>package</i>.dkms or debian/dkms, but install <i>file</i> as dkms.conf.</dd>
</dl>
</div>
<div class="section">
<h1>NOTES</h1> Note that this command is not idempotent.  <i>dh_prep</i>(1) should be called between invocations of this command. Otherwise, it may cause multiple instances of the same text to be added to maintainer scripts.<div style="height: 1.00em;">
&#160;</div>
IMPORTANT: binary packages using dh_dkms must have a name that ends in '-dkms'.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>debhelper</i>(1)<div class="spacer">
</div>
This program is part of the Debian DKMS package.<div class="spacer">
</div>
<i>dkms</i>(8)</div>
<div class="section">
<h1>AUTHOR</h1> David Paleino &lt;dapal@debian.org&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-02-17</td>
<td class="foot-os">
2.1.1.1</td>
</tr>
</table>
</div>
</body>
</html>

