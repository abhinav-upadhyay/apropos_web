<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
sane-umax_pp(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
sane-umax_pp(5)</td>
<td class="head-vol">
SANE Scanner Access Now Easy</td>
<td class="head-rtitle">
sane-umax_pp(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sane-umax_pp - SANE backend for Umax Astra parallel port flatbed scanners</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>sane-umax_pp</b> library implements a SANE (Scanner Access Now Easy) backend that provides access to Umax parallel port flatbed scanners.  The following scanners work with this backend:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
Model:<div style="height: 0.00em;">
&#160;</div>
--------------------<div style="height: 0.00em;">
&#160;</div>
Astra 610P<div style="height: 0.00em;">
&#160;</div>
Astra 1220P<div style="height: 0.00em;">
&#160;</div>
HP3200C<div style="height: 0.00em;">
&#160;</div>
Astra 1600P<div style="height: 0.00em;">
&#160;</div>
Astra 2000P<div style="height: 0.00em;">
&#160;</div>
Genius ColorPage-Life Pro<div style="height: 0.00em;">
&#160;</div>
</div>
<div class="spacer">
</div>
This backend handles 75x75, 150x150, 300x300, 600x600 and 600x1200 for 1220P/1600P/2000P dpi scan reslutions,and 75x75, 150x150, 300x300 and 300x600 for 610P. In color and gray levels, there is a software lineart mode.<div class="spacer">
</div>
The new generation models share a newer version of the 610P ASIC embedded in an EPAT chip. Only parts such as CCD and ADC change from one to another. They even all reports being UMAX Astra 1220P via IEEE1284. There isn't software way to recognize them properly. Under windows, model is set by the driver installed, regardless of the hardware.<dl>
<dt>
<b>EPP/ECP MODES ONLY</b></dt>
<dd>
The current version of the backend uses only EPP or ECP mode to communicate with the scanner. PS/2 mode isn't implemented. The 610P only use SPP. It is recommended that you set your parallel port to EPP in BIOS with the current version of this backend. You can leave it to ECP or ECP+EPP, but in this case you may not use ppdev but only direct hardware access if you have to use ECP.  ECPEPP will only work if you use a 2.4 or 2.6 kernel with ppdev character device support.</dd>
</dl>
<div class="spacer">
</div>
This backend does support parport sharing only <i>if you have a kernel with ppdev support.</i><div class="spacer">
</div>
Note that if you don't use the ppdev character device, the backend needs to run as root. To allow user access to the scanner run the backend through the network interface (See saned(8) and sane-net(5)). A more relaxed solution (security wise) is to add suid bit to the frontend (See chmod(1)). The backend drop root priviledges as soon as it can, right after gaining direct access to IO ports, which lessen risks when being root.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DEVICE NAMES</h1> This backend expects device names of the form:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<i>port value</i></div>
<div class="spacer">
</div>
Where  <b>value</b> is :<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
auto</dt>
<dd>
autodetect all parallel ports and probe them for scanner</dd>
</dl>
<dl>
<dt>
safe-auto</dt>
<dd>
autodetect all parallel ports and probe them for scanner, but does not try direct hardware access</dd>
</dl>
<dl>
<dt>
/dev/ppi0</dt>
<dd>
uses *BSD ppi device, depending on the number of available parallel port, you have to use /dev/ppi1, /dev/ppi2, ...</dd>
</dl>
<dl>
<dt>
/dev/parport0</dt>
<dd>
uses linux ppdev device, depending on the number of available parallel port, you have to use /dev/parport1, /dev/parport2, ...</dd>
</dl>
<dl>
<dt>
0x378</dt>
<dd>
does direct hardware access on the given address. Usual values are 0x378, 0x278, 0x3BC In this case, you have to run the scanner as root (*BSD and linux), or with 'IOPL=yes' on OS/2</dd>
</dl>
</div>
<div class="spacer">
</div>
<b>NOTE:</b> in all cases, you must have sufficient priviledges to get access to the chosen device or address. Depending on the security settings, devices may not be available for all users. You have to change permissions on the dev/ppi* or /dev/parport* devices. You can rename any device using the<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<i>name devname</i><div style="height: 0.00em;">
&#160;</div>
<i>model model</i><div style="height: 0.00em;">
&#160;</div>
<i>vendor vendor</i></div>
<div class="spacer">
</div>
options. These options apply to the last port option.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>CONFIGURATION</h1> Please make sure to edit umax_pp.conf <b>before</b> you use the backend.<div class="spacer">
</div>
The contents of the <b>umax_pp.conf</b> file is a list of options and device names that correspond to Umax scanners.  Empty lines and lines starting with a hash mark (#) are ignored.<div class="spacer">
</div>
The eight options supported are <b>red-gain</b>, <b>green-gain</b>, <b>blue-gain</b>, <b>red-offset</b>, <b>green-offset</b>, <b>blue-offset</b>, <b>astra</b>, and <b>buffer</b>.<div style="height: 1.00em;">
&#160;</div>
Options <b>red-gain</b> , <b>green-gain</b> and <b>blue-gain</b> allow you to adjust the sensitivy of your scanner for the given color. Values range from 0 (lowest gain) to 15 (highest). If the advanced option &quot;Gain&quot; isn't checked in the frontend, the backend does automatic gain calibration, and do not use user provided values.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
Options <b>red-offset</b> , <b>green-offset</b> and <b>blue-offset</b> allow you to adjust the offset of your scanner for the given color. Values range from 0 (lowest offset) to 15 (highest).<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
Option <b>astra</b> allows you to change the model of your scanner. Current auto detection is based on side effects on scanning when using 1220P command set on other models, so it may fail on unkown hardware combination. Valid values are 610, 1220, 1600 and 2000. It is usefull only when autodetection fails to detect properly your scanner model. If your scanner work properly but is reported wrongly, let it be that way. The only valid case to change the model is when your scanner produces &quot;black&quot; or &quot;inverted&quot; scans. In this case you can put the model. Be aware that it will prevent scanner model autodetection.<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
Option <b>buffer</b> allows you to change the size of the scan buffer. The size must be specified in bytes. The default value is 2 megabytes. Decreasing this value will improve the smoothness of progress bar in the frontend, but will stall the scan more often.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<i>/etc/sane.d/umax_pp.conf</i></dt>
<dd>
The backend configuration file (see also description of <b>SANE_CONFIG_DIR</b> below).</dd>
</dl>
<dl>
<dt>
<i>/usr/lib/arch_triplet/sane/libsane-umax_pp.a</i></dt>
<dd>
The static library implementing this backend.</dd>
</dl>
<dl>
<dt>
<i>/usr/lib/arch_triplet/sane/libsane-umax_pp.so</i></dt>
<dd>
The shared library implementing this backend (present on systems that support dynamic loading).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>SANE_CONFIG_DIR</b></dt>
<dd>
This environment variable specifies the list of directories that may contain the configuration file.  Under UNIX, the directories are separated by a colon (`:'), under OS/2, they are separated by a semi-colon (`;').  If this variable is not set, the configuration file is searched in two default directories: first, the current working directory (&quot;.&quot;) and then in /etc/sane.d.  If the value of the environment variable ends with the directory separator character, then the default directories are searched after the explicitly specified directories.  For example, setting <b>SANE_CONFIG_DIR</b> to &quot;/tmp/config:&quot; would result in directories &quot;tmp/config&quot;, &quot;.&quot;, and &quot;/etc/sane.d&quot; being searched (in this order).</dd>
</dl>
<dl>
<dt>
<b>SANE_DEBUG_UMAX_PP</b></dt>
<dd>
If the library was compiled with debug support enabled, this environment variable controls the debug level for this backend.  E.g., a value of 128 requests all debug output to be printed.  Smaller levels reduce verbosity.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<br/>
level   debug output<br/>
------- ------------------------------<br/>
 0       nothing<br/>
 1       errors<br/>
 2       warnings &amp; minor errors<br/>
 3       additional information<br/>
 4       debug information<br/>
 5       code flow (not supported yet)<br/>
 6       special debug information<br/>
</div>
<dl>
<dt>
<b>SANE_DEBUG_UMAX_PP_LOW</b></dt>
<dd>
This variable sets the debug level for the SANE interface for the Umax ASIC. Note that enabling this will spam your terminal with some million lines of debug output.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<br/>
level   debug output<br/>
------- -------------------------------<br/>
 0       nothing<br/>
 1       errors<br/>
 8       command blocks<br/>
 16      detailed code flow<br/>
 32      dump datafiles      <br/>
 255     everything<br/>
</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> sane(7), sane-net(5), saned(8)<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
For latest bug fixes and information see</dt>
<dd>
<i>http://umax1220p.sourceforge.net/</i><div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> St&#233;phane Voltz &lt;stef.dev@free.fr&gt;<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>CREDITS</h1> Support for the 610P has been made possible thank to an hardware donation by William Stuart.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>BUG REPORTS</h1> If something doesn't work, please contact me. But I need some information about your scanner to be able to help you...<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
<i>SANE version</i></dt>
<dd>
run &quot;scanimage -V&quot; to determine this</dd>
</dl>
<dl>
<dt>
<i>the backend version and your scanner hardware</i></dt>
<dd>
run &quot;SANE_DEBUG_UMAX_PP=255 scanimage -L 2&gt;log&quot; as root. If you don't get any output from the umax_pp backend, make sure a line &quot;umax_pp&quot; is included into your /etc/sane.d/dll.conf. If your scanner isn't detected, make sure you've defined the right port address, or the correct device in your umax_pp.conf.</dd>
</dl>
<dl>
<dt>
<i>the name of your scanner/vendor</i></dt>
<dd>
also a worthy information. Please also include the optical resolution and lamp type of your scanner, both can be found in the manual of your scanner.</dd>
</dl>
<dl>
<dt>
<i>any further comments</i></dt>
<dd>
if you have comments about the documentation (what could be done better), or you think I should know something, please include it.</dd>
</dl>
</div>
<table class="foot">
<tr>
<td class="foot-date">
14 Jul 2008</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

