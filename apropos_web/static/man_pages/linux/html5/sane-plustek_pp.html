<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
sane-plustek_pp(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
sane-plustek_pp(5)</td>
<td class="head-vol">
SANE Scanner Access Now Easy</td>
<td class="head-rtitle">
sane-plustek_pp(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sane-plustek_pp - SANE backend for Plustek parallel port flatbed scanners</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>sane-plustek_pp</b> library implements a SANE (Scanner Access Now Easy) backend that provides access to Plustek ASIC 9600[1/3] and P9800[1/3] based parallel port flatbed scanners. The access of the scanner is either done directly by the backend or via kernel module, called pt_drv which can be created out of the plustek_pp backend code - see also section <b>BUILDING THE KERNEL MODULE</b> for further information.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SUPPORTED DEVICES</h1> At present, the following scanners should work with this backend and/or the kernel module:<div class="spacer">
</div>
<b>PLUSTEK SCANNERS</b><div class="spacer">
</div>
<br/>
Parallelport Model:    ASIC: Properties:<br/>
---------------------- ----- ------------------------<br/>
OpticPro PT12          98003 600x1200 dpi 36bit 512Kb<br/>
OpticPro P12           98003 600x1200 dpi 36bit 512Kb<br/>
OpticPro 9636T/12000T  98001 600x1200 dpi 36bit 512Kb<br/>
OpticPro 12000P Turbo  98001 600x1200 dpi 36bit 512Kb<br/>
OpticPro 9636P+/Turbo  98001 600x1200 dpi 36bit 512Kb<br/>
OpticPro 9636P         96003 600x1200 dpi 36bit 128Kb<br/>
OpticPro 12000P/96000P 96003 600x1200 dpi 36bit 128Kb<br/>
OpticPro 1236P         96003 600x1200 dpi 30bit 128Kb<br/>
OpticPro 9600P         96003 600x1200 dpi 30bit 128Kb<br/>
OpticPro 9630P/FBIV    96003 600x1200 dpi 30bit 128Kb<br/>
OpticPro 9630PL (14&quot;)  96003 600x1200 dpi 30bit 128Kb<br/>
OpticPro A3I           96003  400x800 dpi 36bit 128Kb<br/>
OpticPro 600P/6000P    96003  300x600 dpi 30bit  32Kb<br/>
OpticPro 4831P         96003  300x600 dpi 30bit  32Kb<br/>
OpticPro 4830P/FBIII   96003  300x600 dpi 30bit  32Kb<br/>
OpticPro 4800P/FBII    96001  300x600 dpi 24bit  32Kb<br/>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>PRIMAX SCANNERS</b><div style="height: 1.00em;">
&#160;</div>
There are some scanners sold by Primax, but they are in fact Plustek devices. These scanners are also supported. The following table will show the relationship:<div class="spacer">
</div>
<br/>
Model:                      Plustek Model:  Remarks:<br/>
--------------------------- --------------  ------------<br/>
Colorado 4800               OpticPro 4800   not tested<br/>
Compact 4800 Direct         OpticPro 600    mov=2<br/>
Compact 4800 Direct 30bit   OpticPro 4830   mov=7<br/>
Compact 9600 Direct 30bit   OpticPro 9630   works<br/>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>GENIUS SCANNERS</b><div style="height: 1.00em;">
&#160;</div>
The following devices are sold as Genius Scanners, but are in fact Plustek devices. The table will show the relationship:<div class="spacer">
</div>
<br/>
Model:                      Remarks:<br/>
--------------------------- ----------------------------<br/>
Colorpage Vivid III V2      Like P12 but has two buttons<br/>
                            and Wolfson DAC<br/>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>ARIES SCANNERS</b><div style="height: 1.00em;">
&#160;</div>
There's one scanner sold as Aries Scanner, but is in fact a Plustek device. The following table will show the relationship:<div class="spacer">
</div>
<br/>
Model:                      Plustek Model:  Remarks:<br/>
--------------------------- --------------  ------------<br/>
Scan-It 4800                OpticPro 600    mov=2<br/>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>BrightScan SCANNERS</b><div style="height: 1.00em;">
&#160;</div>
There's one scanner sold as BrightScan OpticPro Scanner, this is also a rebadged Plustek device. The following table will show the relationship:<div class="spacer">
</div>
<br/>
Model:                      Remarks:<br/>
--------------------------- ----------------------------<br/>
BrightScan OpticPro         OpticPro P12<br/>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DEVICE NAMES</h1> This backend works in two modes, the so called &quot;direct-mode&quot; and the &quot;kernel-mode&quot;. In direct-mode, the user-space backend is used, in kernel-mode, you should have a kernel-module named pt_drv loaded. This backends default device is:<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<i>0x378</i></div>
<div class="spacer">
</div>
This &quot;default device&quot; will be used, if no configuration file can be found. It is rather the base address of the parallel port on i386 machines.<div class="spacer">
</div>
As the backend supports up to four devices, it is possible to specify them in the configuration file<div class="spacer">
</div>
<div style="margin-left: 5.00ex;">
<i>/etc/sane.d/plustek_pp.conf</i></div>
<div class="spacer">
</div>
See this file for examples.<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>CONFIGURATION</h1> This section describes the backends' configuration file entries. The file is located at: <i>/etc/sane.d/plustek_pp.conf</i><div class="spacer">
</div>
For a proper setup, you will need at least two entries:<div style="margin-left: 5.00ex;">
<i>[direct]</i><div style="height: 0.00em;">
&#160;</div>
<i>device 0x378</i></div>
<div class="spacer">
</div>
or<div style="margin-left: 5.00ex;">
<i>[kernel]</i><div style="height: 0.00em;">
&#160;</div>
<i>device /dev/pt_drv</i></div>
<div class="spacer">
</div>
<i>direct</i> tells the backend, that the following devicename (here <i>0x378</i>) has to be interpreted as parallel port scanner device. In fact it is the address to use, alternatively you can use <i>/dev/parport0</i> if the backend has been compiled with libieee1284 support. <i>kernel</i> should only be used, when a kernel-module has been built out of the backend sources. See below for more instructions about this.<div class="spacer">
</div>
Further options:<div class="spacer">
</div>
option warmup t<div style="margin-left: 5.00ex;">
<i>t</i> specifies the warmup period in seconds</div>
<div class="spacer">
</div>
option lampOff t<div style="margin-left: 5.00ex;">
<i>t</i> is the time in seconds for switching off the lamps in standby mode</div>
<div class="spacer">
</div>
option lOffonEnd b<div style="margin-left: 5.00ex;">
<i>b</i> specifies the behaviour when closing the backend, 1 --&gt; switch lamps off, 0 --&gt; do not change lamp status</div>
<div class="spacer">
</div>
option mov m<div style="margin-left: 5.00ex;">
<i>m</i> is the model override switch, which only works in direct mode.<dl>
<dt>
<i>m</i> = 0</dt>
<dd>
default: no override</dd>
</dl>
<dl>
<dt>
<i>m</i> = 1</dt>
<dd>
OpticPro 9630PL override (works if OP9630 has been detected) forces legal size (14&quot;)</dd>
</dl>
<dl>
<dt>
<i>m</i> = 2</dt>
<dd>
Primax 4800Direct override (works if OP600 has been detected) swaps red/green color</dd>
</dl>
<dl>
<dt>
<i>m</i> = 3</dt>
<dd>
OpticPro 9636 override (works if OP9636 has been detected) disables backends transparency/negative capabilities</dd>
</dl>
<dl>
<dt>
<i>m</i> = 4</dt>
<dd>
OpticPro 9636P override (works if OP9636 has been detected) disables backends transparency/negative capabilities</dd>
</dl>
<dl>
<dt>
<i>m</i> = 5</dt>
<dd>
OpticPro A3I override (works if OP12000 has been detected) enables A3 scanning</dd>
</dl>
<dl>
<dt>
<i>m</i> = 6</dt>
<dd>
OpticPro 4800P override (works if OP600 has been detected) swaps red/green color</dd>
</dl>
<dl>
<dt>
<i>m</i> = 7</dt>
<dd>
Primax 4800Direct 30bit override (works if OP4830 has been detected)</dd>
</dl>
</div>
<div class="spacer">
</div>
See the plustek_pp.conf file for examples.<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>BUILDING THE KERNEL MODULE</h1> As mentioned before, the plustek_pp backend code can also be compiled and installed as linux kernel module. To do so, you will need the source-files of this sane-backend installation. Unpack this tar-ball and go to the directory:<div style="height: 0.00em;">
&#160;</div>
<i>sane-backends/doc/plustek</i><div style="height: 0.00em;">
&#160;</div>
Within this directory, you should find a script called:<div style="height: 0.00em;">
&#160;</div>
<i>MakeModule.sh</i><div style="height: 0.00em;">
&#160;</div>
Now if your Linux kernelsources are installed correctly, it should be possible to build, install and load the module <b>pt_drv.</b> <b>Please note,</b> that the kernelsources need to be configured correctly. Refer to your distributions manual on how this is done. As root user, try<div style="height: 0.00em;">
&#160;</div>
<i>./MakeModule.sh</i><div style="height: 0.00em;">
&#160;</div>
the script will try and get all necessary information about your running kernel and will lead you through the whole installation process.<div style="height: 0.00em;">
&#160;</div>
<b>Note: Installing and loading the can only be done as</b> superuser.<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>KERNEL MODULE SETUP</h1> The configuration of the kernel module is done by providing some or more options found below to the kernel module at load time. This can be done by invoking insmod with the appropriate parameters or appending the options to the file <b>/etc/modules.conf (kernel &lt; 2.6.x)</b> or <b>/etc/modprobe.conf (kernel &gt;= 2.6.x)</b><div class="spacer">
</div>
<b>The Options:</b><div style="height: 0.00em;">
&#160;</div>
lampoff=lll<div style="margin-left: 5.00ex;">
The value <i>lll</i> tells the driver, after how many seconds to switch-off the lamp(s). The default value is 180. 0 will disable this feature.<div style="height: 0.00em;">
&#160;</div>
<b>HINT:</b> Do not use a value that is too small, because often switching on/off the lamps will reduce their lifetime.</div>
<div class="spacer">
</div>
port=ppp<div style="margin-left: 5.00ex;">
<i>ppp</i> specifies the port base address, where the scanner is connected to. The default value is 0x378, which normaly is standard.</div>
<div class="spacer">
</div>
warmup=www<div style="margin-left: 5.00ex;">
<i>www</i> specifies the time in seconds, how long a lamp has to be on, until the driver will start to scan. The default value is 30.</div>
<div class="spacer">
</div>
lOffonEnd=e<div style="margin-left: 5.00ex;">
<i>e</i> specifies the behaviour when unloading the driver, 1 --&gt; switch lamps off, 0 --&gt; do not change lamp status</div>
<div class="spacer">
</div>
slowIO=s<div style="margin-left: 5.00ex;">
<i>s</i> specifies which I/O functions the driver should use, 1 --&gt; use delayed functions, 0 --&gt; use the non-delayed ones</div>
<div class="spacer">
</div>
forceMode=fm<div style="margin-left: 5.00ex;">
<i>fm</i> specifies port mode which should be used, 0 --&gt; autodetection, 1 --&gt; use SPP mode and 2 --&gt; use EPP mode</div>
<div class="spacer">
</div>
mov=m<div style="margin-left: 5.00ex;">
<dl>
<dt>
<i>m</i> = 0</dt>
<dd>
default: no override</dd>
</dl>
<dl>
<dt>
<i>m</i> = 1</dt>
<dd>
OpticPro 9630PL override (works if OP9630 has been detected) forces legal size (14&quot;)</dd>
</dl>
<dl>
<dt>
<i>m</i> = 2</dt>
<dd>
Primax 4800Direct override (works if OP600 has been detected) swaps red/green color</dd>
</dl>
<dl>
<dt>
<i>m</i> = 3</dt>
<dd>
OpticPro 9636 override (works if OP9636 has been detected) disables backends transparency/negative capabilities</dd>
</dl>
<dl>
<dt>
<i>m</i> = 4</dt>
<dd>
OpticPro 9636P override (works if OP9636 has been detected) disables backends transparency/negative capabilities</dd>
</dl>
<dl>
<dt>
<i>m</i> = 5</dt>
<dd>
OpticPro A3I override (works if OP12000 has been detected) enables A3 scanning</dd>
</dl>
<dl>
<dt>
<i>m</i> = 6</dt>
<dd>
OpticPro 4800P override (works if OP600 has been detected) swaps red/green color</dd>
</dl>
<dl>
<dt>
<i>m</i> = 7</dt>
<dd>
Primax 4800Direct 30bit override (works if OP4830 has been detected)</dd>
</dl>
</div>
<div class="spacer">
</div>
Sample entry for file <b>/etc/modules.conf</b> :<div style="height: 0.00em;">
&#160;</div>
<i>alias char-major-40 pt_drv</i><div style="height: 0.00em;">
&#160;</div>
<i>pre-install pt_drv modprobe -k parport</i><div style="height: 0.00em;">
&#160;</div>
<i>options pt_drv lampoff=180 warmup=15 port=0x378 lOffonEnd=0 mov=0 slowIO=0 forceMode=0</i><div class="spacer">
</div>
For multidevice support, simply add values separated by commas to the different options<div style="height: 0.00em;">
&#160;</div>
<i>options pt_drv port=0x378,0x278 mov=0,4 slowIO=0,1 forceMode=0,1</i><div class="spacer">
</div>
Remember to call depmod after changing /etc/conf.modules.<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>PARALLEL PORT MODES</h1> The current driver works best, when the parallel port has been set to EPP-mode. When detecting any other mode such as ECP or PS/2 the driver tries to set to a faster, supported mode. If this fails, it will use the SPP mode, as this mode should work with all Linux supported parallel ports. If in doubt, enter your BIOS and set it to any mode except ECP.<div class="spacer">
</div>
Former Plustek scanner models (4830, 9630) supplied a ISA parallel port adapter card. This card is <b>not</b> supported by the driver.<div class="spacer">
</div>
The ASIC 96001/3 based models have sometimes trouble with high resolution modes. If you encounter sporadic corrupted images (parts duplicated or shifted horizontally) kill all other applications before scanning and (if sufficient memory available) disable swapping.<div class="spacer">
</div>
See the plustek_pp.conf file for examples.<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<i>/etc/sane.d/plustek_pp.conf</i></dt>
<dd>
The backend configuration file</dd>
</dl>
<dl>
<dt>
<i>/usr/lib/arch_triplet/sane/libsane-plustek_pp.a</i></dt>
<dd>
The static library implementing this backend.</dd>
</dl>
<dl>
<dt>
<i>/usr/lib/arch_triplet/sane/libsane-plustek_pp.so</i></dt>
<dd>
The shared library implementing this backend (present on systems that support dynamic loading).</dd>
</dl>
<dl>
<dt>
<i>/lib/modules/&lt;Kernel-Version&gt;/kernel/drivers/parport/pt_drv.o</i></dt>
<dd>
The Linux kernelmodule for kernels &lt; 2.6.x.</dd>
</dl>
<dl>
<dt>
<i>/lib/modules/&lt;Kernel-Version&gt;/kernel/drivers/parport/pt_drv.ko</i></dt>
<dd>
The Linux kernelmodule for kernels &gt;= 2.6.x.</dd>
</dl>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>SANE_CONFIG_DIR</b></dt>
<dd>
This environment variable specifies the list of directories that may contain the configuration file.  Under UNIX, the directories are separated by a colon (`:'), under OS/2, they are separated by a semi-colon (`;').  If this variable is not set, the configuration file is searched in two default directories: first, the current working directory (&quot;.&quot;) and then in /etc/sane.d.  If the value of the environment variable ends with the directory separator character, then the default directories are searched after the explicitly specified directories.  For example, setting <b>SANE_CONFIG_DIR</b> to &quot;/tmp/config:&quot; would result in directories &quot;tmp/config&quot;, &quot;.&quot;, and &quot;/etc/sane.d&quot; being searched (in this order).</dd>
</dl>
<dl>
<dt>
<b>SANE_DEBUG_PLUSTEK_PP</b></dt>
<dd>
If the library was compiled with debug support enabled, this environment variable controls the debug level for this backend.  Higher debug levels increase the verbosity of the output.<div style="height: 1.00em;">
&#160;</div>
Example: export SANE_DEBUG_PLUSTEK_PP=10<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>sane</b>(7),<div style="height: 0.00em;">
&#160;</div>
<i>/usr/share/doc/libsane/plustek/Plustek-PARPORT.changes</i><div style="height: 0.00em;">
&#160;</div>
<i>http://www.gjaeger.de/scanner/plustek_pp/</i><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>CONTACT AND BUG-REPORTS</h1> Please send any information and bug-reports to:<div style="height: 0.00em;">
&#160;</div>
<b>SANE Mailing List</b><div class="spacer">
</div>
Additional info and hints can be obtained from our<div style="height: 0.00em;">
&#160;</div>
Mailing-List archive at:<div style="height: 0.00em;">
&#160;</div>
<b>http://www.sane-project.org/mailing-lists.html</b><div class="spacer">
</div>
or directly from the projects' homepage at:<div style="height: 0.00em;">
&#160;</div>
<b>http://www.gjaeger.de/scanner/plustek_pp/</b><div class="spacer">
</div>
To obtain debug messages from the backend, please set the environment-variable <i>SANE_DEBUG_PLUSTEK_PP</i> before calling your favorite scan-frontend (i.e. xscanimage).<div style="height: 0.00em;">
&#160;</div>
<b>i.e.: export SANE_DEBUG_PLUSTEK_PP=20 ; xscanimage</b><div class="spacer">
</div>
The value controls the verbosity of the backend.<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>KNOWN BUGS &amp; RESTRICTIONS</h1> * The Halftoning works, but the quality is poor<div class="spacer">
</div>
* Printers (especially HP models) will start to print during scanning. This in fact is a problem to other printers too, using bidirectional protocol (see www.plustek.com (TAIWAN) page for further details)<div class="spacer">
</div>
* The driver does not support these manic scalings up to 16 times the physical resolution. The only scaling is done on resolutions between the physical resolution of the CCD-sensor and the stepper motor i.e. you have a 600x1200 dpi scanner and you are scanning using 800dpi, so scaling is necessary, because the sensor only delivers 600dpi but the motor is capable to perform 800dpi steps.<div class="spacer">
</div>
* On some devices, the pictures seems bluish<div class="spacer">
</div>
<i>ASIC 98001 based models:</i><div class="spacer">
</div>
* The 300dpi transparency and negative mode does not work correctly.<div class="spacer">
</div>
* There is currently no way to distinguish a model with and without transparency unit.<div class="spacer">
</div>
* The scanned images seem to be too dark (P9636T)<div class="spacer">
</div>
<i>ASIC 96003/1 based models:</i><div class="spacer">
</div>
* 30bit mode is currently not supported.<div class="spacer">
</div>
* On low end systems under heavy system load the driver may lose data, which can result in picture corruption or cause the sensor to hit the scan bed.<div class="spacer">
</div>
* The scanning speed on 600x1200 dpi models is slow.<div class="spacer">
</div>
* The scanning quality of the A3I is poor</div>
<table class="foot">
<tr>
<td class="foot-date">
14 Jul 2008</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

