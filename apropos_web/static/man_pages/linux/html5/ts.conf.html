<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
TS.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
TS.CONF(5)</td>
<td class="head-vol">
tslib</td>
<td class="head-rtitle">
TS.CONF(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ts.conf - Configuration file for tslib, controlling touch screens for embedded devices.</div>
<div class="section">
<h1>DESCRIPTION</h1> The idea of tslib is to have a core library that provides standardised services, and a set of plugins to manage the conversion and filtering as needed.<div class="spacer">
</div>
The plugins for a particular touchscreen are loaded automatically by the library under the control of a static configuration file, /etc/ts.conf. /etc/ts.conf gives the library basic configuration information. Each line specifies one module, and the parameters for that module. The modules are loaded in order, with the first one processing the touchscreen data first. For example:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
  module_raw input<br/>
  module variance delta=30<br/>
  module dejitter delta=100<br/>
  module linear<br/>
   <br/>
</div>
</div>
<div class="section">
<h1>MODULE PARAMETERS</h1>  <b>variance</b><div style="margin-left: 4.00ex;">
Tries to do it's best in order to filter out random noise coming from touchscreen ADC's. This is achieved by limiting the sample movement speed to some value (e.g. the pen is not supposed to move quicker than some threshold).<div style="height: 1.00em;">
&#160;</div>
This is a 'greedy' filter, e.g. it gives less samples on output than receives on input.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<b>Parameters:</b>  <b>delta</b>.<div style="height: 1.00em;">
&#160;</div>
Set the squared distance in touchscreen units between previous and current pen position (e.g. (X2-X1)^2 + (Y2-Y1)^2). This defines the criteria for determining whenever two samples are 'near' or 'far' to each other.<div style="height: 1.00em;">
&#160;</div>
If the distance between previous and current sample is 'far', the sample is marked as 'potential noise'. This doesn't mean yet that it will be discarded; if the next reading will be close to it, this will be considered just a regular 'quick motion' event, and it will sneak to the next layer. Also, if the sample after the 'potential noise' is 'far' from both previously discussed samples, this is also considered a 'quick motion' event and the sample sneaks into the output stream.</div>
</div>
<div class="spacer">
</div>
<b>dejitter</b><div style="margin-left: 4.00ex;">
Removes jitter on the X and Y co-ordinates. This is achieved by applying a weighted smoothing filter. The latest samples have most weight; earlier samples have less weight. This allows to achieve 1:1 input-&gt;output rate.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<b>Parameters:</b>  <b>delta</b>.<div style="height: 1.00em;">
&#160;</div>
Squared distance between two samples ((X2-X1)^2 + (Y2-Y1)^2) that defines the 'quick motion' threshold. If the pen moves quick, it is not feasible to smooth pen motion, besides quick motion is not precise anyway; so if quick motion is detected the module just discards the backlog and simply copies input to output.</div>
</div>
<div class="spacer">
</div>
<b>linear</b><div style="margin-left: 4.00ex;">
Linear scaling module, primarily used for conversion of touch screen co-ordinates to screen co-ordinates.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;<b>Parameters:</b>  <b>xyswap</b>.<div style="height: 1.00em;">
&#160;</div>
Interchange the X and Y co-ordinates -- no longer used or needed if the new linear calibration utility ts_calibrate is used.</div>
</div>
</div>
<div class="section">
<h1>ENVIRONMENT VARIABLES</h1> Latest versions of the Xorg tslib input driver use  <b>hal</b> to configure the touchscreen within Xorg. Environment variables are only needed for the tslib commands.<div class="spacer">
</div>
<b>TSLIB_TSDEVICE</b><div style="margin-left: 4.00ex;">
If the default touchscreen device cannot be found, set the  <b>TSLIB_TSDEVICE</b> environment variable to the touchscreen device to use.<div style="height: 1.00em;">
&#160;</div>
Default: /dev/input/event0</div>
<div class="spacer">
</div>
<b>TSLIB_CONSOLEDEVICE</b><div style="margin-left: 4.00ex;">
Tslib default console device.<div style="height: 1.00em;">
&#160;</div>
Default: /dev/tty</div>
<div class="spacer">
</div>
<b>TSLIB_CALIBFILE </b><div style="margin-left: 4.00ex;">
Stores calibration data obtained using ts_calibrate.<div style="height: 1.00em;">
&#160;</div>
Default: /etc/pointercal</div>
<div class="spacer">
</div>
<b>TSLIB_CONFFILE</b><div style="margin-left: 4.00ex;">
Set a different location for the ts.conf configuration file itself.<div style="height: 1.00em;">
&#160;</div>
Default; /etc/ts.conf.</div>
<div class="spacer">
</div>
<b>TSLIB_FBDEVICE</b><div style="margin-left: 4.00ex;">
Framebuffer device to use for the touchscreen support.<div style="height: 1.00em;">
&#160;</div>
Default: /dev/fb0.</div>
<div class="spacer">
</div>
<b>TSLIB_PLUGINDIR</b><div style="margin-left: 4.00ex;">
Plugin directory for tslib.<div style="height: 1.00em;">
&#160;</div>
Default: /usr/lib/$triplet/ts0/ where triplet is the MultiArch path, e.g. arm-linux-gnueabi.</div>
</div>
<div class="section">
<h1>AUTHOR</h1> This manual page was written by Neil Williams codehelp@debian.org for the Debian(TM) distribution because the original program does not have a manual page, but may be used by others. Permission is granted to copy, distribute and/or modify this document under the terms of the GNU General Public License, Version 2 any later version published by the Free Software Foundation.<div class="spacer">
</div>
On Debian systems, the complete text of the GNU General Public License can be found in /usr/share/common-licenses/GPL.</div>
<div class="section">
<h1>AUTHOR</h1>  <b>Russell King</b><div style="margin-left: 4.00ex;">
Author.</div>
</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright &#169; 2008 Neil Williams<div style="height: 0.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
Wed 06 Aug 2008 10:46:33 ART</td>
<td class="foot-os">
Debian 5</td>
</tr>
</table>
</div>
</body>
</html>

