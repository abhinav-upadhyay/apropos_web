<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ACCESS.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
ACCESS.CONF(5)</td>
<td class="head-vol">
Linux-PAM Manual</td>
<td class="head-rtitle">
ACCESS.CONF(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> access.conf - the login access control table file</div>
<div class="section">
<h1>DESCRIPTION</h1> The /etc/security/access.conf file specifies ( <i>user/group</i>,  <i>host</i>), (<i>user/group</i>,  <i>network/netmask</i>) or (<i>user/group</i>,  <i>tty</i>) combinations for which a login will be either accepted or refused.<div class="spacer">
</div>
When someone logs in, the file access.conf is scanned for the first entry that matches the ( <i>user/group</i>,  <i>host</i>) or (<i>user/group</i>,  <i>network/netmask</i>) combination, or, in case of non-networked logins, the first entry that matches the (<i>user/group</i>,  <i>tty</i>) combination. The permissions field of that table entry determines whether the login will be accepted or refused.<div class="spacer">
</div>
Each line of the login access control table has three fields separated by a &quot;:&quot; character (colon):<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>permission</i>:<i>users/groups</i>:<i>origins</i><div class="spacer">
</div>
The first field, the  <i>permission</i> field, can be either a &quot; <i>+</i>&quot; character (plus) for access granted or a &quot;<i>-</i>&quot; character (minus) for access denied.<div class="spacer">
</div>
The second field, the  <i>users</i>/<i>group</i> field, should be a list of one or more login names, group names, or  <i>ALL</i> (which always matches). To differentiate user entries from group entries, group entries should be written with brackets, e.g.  <i>(group)</i>.<div class="spacer">
</div>
The third field, the  <i>origins</i> field, should be a list of one or more tty names (for non-networked logins), host names, domain names (begin with &quot;.&quot;), host addresses, internet network numbers (end with &quot;.&quot;), internet network addresses with network mask (where network mask can be a decimal number or an internet address also),  <i>ALL</i> (which always matches) or  <i>LOCAL</i>.  <i>LOCAL</i> keyword matches if and only if the  <i>PAM_RHOST</i> is not set and &lt;origin&gt; field is thus set from  <i>PAM_TTY</i> or  <i>PAM_SERVICE</i>&quot;. If supported by the system you can use  <i>@netgroupname</i> in host or user patterns. The  <i>@@netgroupname</i> syntax is supported in the user pattern only and it makes the local system hostname to be passed to the netgroup match call in addition to the user name. This might not work correctly on some libc implementations causing the match to always fail.<div class="spacer">
</div>
The  <i>EXCEPT</i> operator makes it possible to write very compact rules.<div class="spacer">
</div>
If the  <b>nodefgroup</b> is not set, the group file is searched when a name does not match that of the logged-in user. Only groups are matched in which users are explicitly listed. However the PAM module does not look at the primary group id of a user.<div class="spacer">
</div>
The &quot;<i>#</i>&quot; character at start of line (no space at front) can be used to mark this line as a comment line.</div>
<div class="section">
<h1>EXAMPLES</h1> These are some example lines which might be specified in /etc/security/access.conf.<div class="spacer">
</div>
User  <i>root</i> should be allowed to get access via  <i>cron</i>, X11 terminal  <i>:0</i>,  <i>tty1</i>, ...,  <i>tty5</i>,  <i>tty6</i>.<div class="spacer">
</div>
+ : root : crond :0 tty1 tty2 tty3 tty4 tty5 tty6<div class="spacer">
</div>
User  <i>root</i> should be allowed to get access from hosts which own the IPv4 addresses. This does not mean that the connection have to be a IPv4 one, a IPv6 connection from a host with one of this IPv4 addresses does work, too.<div class="spacer">
</div>
+ : root : 192.168.200.1 192.168.200.4 192.168.200.9<div class="spacer">
</div>
+ : root : 127.0.0.1<div class="spacer">
</div>
User  <i>root</i> should get access from network 192.168.201. where the term will be evaluated by string matching. But it might be better to use network/netmask instead. The same meaning of 192.168.201. is  <i>192.168.201.0/24</i> or  <i>192.168.201.0/255.255.255.0</i>.<div class="spacer">
</div>
+ : root : 192.168.201.<div class="spacer">
</div>
User  <i>root</i> should be able to have access from hosts  <i>foo1.bar.org</i> and  <i>foo2.bar.org</i> (uses string matching also).<div class="spacer">
</div>
+ : root : foo1.bar.org foo2.bar.org<div class="spacer">
</div>
User  <i>root</i> should be able to have access from domain  <i>foo.bar.org</i> (uses string matching also).<div class="spacer">
</div>
+ : root : .foo.bar.org<div class="spacer">
</div>
User  <i>root</i> should be denied to get access from all other sources.<div class="spacer">
</div>
- : root : ALL<div class="spacer">
</div>
User  <i>foo</i> and members of netgroup  <i>admins</i> should be allowed to get access from all sources. This will only work if netgroup service is available.<div class="spacer">
</div>
+ : @admins foo : ALL<div class="spacer">
</div>
User  <i>john</i> and  <i>foo</i> should get access from IPv6 host address.<div class="spacer">
</div>
+ : john foo : 2001:db8:0:101::1<div class="spacer">
</div>
User  <i>john</i> should get access from IPv6 net/mask.<div class="spacer">
</div>
+ : john : 2001:db8:0:101::/64<div class="spacer">
</div>
Disallow console logins to all but the shutdown, sync and all other accounts, which are a member of the wheel group.<div class="spacer">
</div>
-:ALL EXCEPT (wheel) shutdown sync:LOCAL<div class="spacer">
</div>
All other users should be denied to get access from all sources.<div class="spacer">
</div>
- : ALL : ALL</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>pam_access</b>(8),  <b>pam.d</b>(5),  <b>pam</b>(7)</div>
<div class="section">
<h1>AUTHORS</h1> Original  <b>login.access</b>(5) manual was provided by Guido van Rooij which was renamed to  <b>access.conf</b>(5) to reflect relation to default config file.<div class="spacer">
</div>
Network address / netmask description and example text was introduced by Mike Becher &lt;mike.becher@lrz-muenchen.de&gt;.</div>
<table class="foot">
<tr>
<td class="foot-date">
06/04/2011</td>
<td class="foot-os">
Linux-PAM Manual</td>
</tr>
</table>
</div>
</body>
</html>

