<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
INITRAMFS.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
INITRAMFS.CONF(5)</td>
<td class="head-vol">
initramfs.conf manual</td>
<td class="head-rtitle">
INITRAMFS.CONF(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> initramfs.conf - configuration file for mkinitramfs<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The behaviour of <b>mkinitramfs</b> can be modified by its configuration file.<div style="height: 1.00em;">
&#160;</div>
Each line in the file can be a configuration variable, a blank line, or a comment. The value of an variable is assigned by an statement of the form:  <i>name</i>=[<i>value</i>]<div style="height: 1.00em;">
&#160;</div>
Configuration options can be broken out into configuration snippets and placed in individual files in the /etc/mkinitramfs/conf.d directory.  Files in this directory are always read  <b>after</b> the main configuration file, so you can override the settings in the main config file without editing it directly.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>GENERAL VARIABLES</h1><dl>
<dt>
<b> MODULES</b></dt>
<dd>
Specifies the modules for the initramfs image.<div style="height: 1.00em;">
&#160;</div>
Modules listed in <i>/etc/initramfs-tools/modules</i> and  <i>/usr/share/initramfs-tools/modules.d/*</i> are always included in the initramfs, and are loaded early in the boot process.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>list</i> doesn't load any additional modules at boot time, other than those listed in the above files.<div style="height: 1.00em;">
&#160;</div>
<i>most</i> adds most file system, all ata, sata, scsi and usb drivers.<div style="height: 1.00em;">
&#160;</div>
<i>dep</i> tries to guess which modules are necessary for the running box and only adds those modules.<div style="height: 1.00em;">
&#160;</div>
<i>netboot</i> adds the base and network modules, but skips block devices.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
The default setting is <i>most</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b> BUSYBOX</b></dt>
<dd>
Include busybox utilities for the boot scripts. If set to 'n' <b>mkinitramfs</b> will build an initramfs without busybox. Beware that many boot scripts need busybox utilities.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b> COMPRESS</b></dt>
<dd>
Specifies the compression method used for the initramfs image. <b>mkinitramfs</b> will default to gzip if the kernel lacks support (CONFIG_RD) or the corresponding userspace utility is not present.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b> UMASK</b></dt>
<dd>
Set the umask value of the generated initramfs file. Useful to not disclose eventual keys.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b> COMPCACHE_SIZE</b></dt>
<dd>
Amount of RAM to use for RAM-based compressed swap space. The default is not to use compcache.<div style="height: 1.00em;">
&#160;</div>
An empty value - compcache isn't used, or added to the initramfs at all.<div style="height: 1.00em;">
&#160;</div>
An integer and K (e.g. <i>65536 K</i>) - use a number of kilobytes.<div style="height: 1.00em;">
&#160;</div>
An integer and M (e.g. <i>256 M</i>) - use a number of megabytes.<div style="height: 1.00em;">
&#160;</div>
An integer and G (e.g. <i>1 G</i>) - use a number of gigabytes.<div style="height: 1.00em;">
&#160;</div>
An integer and % (e.g. <i>50 %</i>) - use a percentage of the amount of RAM.<div style="height: 1.00em;">
&#160;</div>
You can optionally install the <i>compcache</i> package to configure this setting via debconf and have userspace scripts to load and unload compcache.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>NFS VARIABLES</h1><dl>
<dt>
<b> BOOT</b></dt>
<dd>
Allows one to use an nfs drive as the root of the drive. The default is to boot from  <i>local</i> media (hard drive, USB stick). Set to  <i>nfs</i> for an NFS root share.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b> DEVICE</b></dt>
<dd>
Specifies the network interface, like eth0.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b> ROOT</b></dt>
<dd>
Allows optional root bootarg hardcoding, when no root bootarg can be passed. A root bootarg overrides that special setting.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<b> NFSROOT</b></dt>
<dd>
Defaults to <i>auto</i> in order to pick up value from DHCP server. Otherwise you need to specify  <i>HOST:MOUNT</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
<i>/etc/initramfs-tools/initramfs.conf</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> The initramfs-tools are written by Maximilian Attems &lt;maks@debian.org&gt;, Jeff Bailey &lt;jbailey@raspberryginger.com&gt; and numerous others. Loosely based on mkinitrd.conf by Herbert Xu.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <i>initramfs-tools</i>(8), <i>mkinitramfs</i>(8), <i>update-initramfs</i>(8).</div>
<table class="foot">
<tr>
<td class="foot-date">
2010/11/22</td>
<td class="foot-os">
Linux</td>
</tr>
</table>
</div>
</body>
</html>

