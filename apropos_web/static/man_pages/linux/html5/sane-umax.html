<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
sane-umax(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
sane-umax(5)</td>
<td class="head-vol">
SANE Scanner Access Now Easy</td>
<td class="head-rtitle">
sane-umax(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sane-umax - SANE backend for UMAX scanners<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>ABOUT THIS FILE</h1> This file only is a short descripton of the umax-backend for sane! For detailled information take a look at sane-umax-doc.html (it is included in the sane source directory and in the xsane online help)!<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>sane-umax</b> library implements a SANE backend that provides acces to several UMAX-SCSI-scanners and some Linotye Hell SCSI-scanners, parallel- and USB-scanners are not (and propably will never be) supported!<div style="height: 1.00em;">
&#160;</div>
<b>I suggest you hold one hand on the power-button of the scanner while you try the first scans!</b><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>CONFIGURATION</h1> The configuration file for this backend resides in <i>/etc/sane.d/umax.conf</i>.<div style="height: 1.00em;">
&#160;</div>
Its contents is a list of device names that correspond to UMAX and UMAX compatible scanners. Empty lines and lines starting with a hash mark (#) are ignored. A sample configuration file is shown below:<div style="height: 1.00em;">
&#160;</div>
<br/>
 # this is a comment<br/>
 #<br/>
 option scsi-maxqueue 4<br/>
 option scsi-buffer-size-min 65536<br/>
 option scsi-buffer-size-max 131072<br/>
 option scan-lines 40<br/>
 option preview-lines 10<br/>
 option scsi-maxqueue 2<br/>
 option execute-request-sense 0<br/>
 option force-preview-bit-rgb 0<br/>
 option slow-speed -1<br/>
 option care-about-smearing -1<br/>
 option calibration-full-ccd -1<br/>
 option calibration-width-offset -1<br/>
 option calibration-bytes-pixel -1<br/>
 option exposure-time-rgb-bind -1<br/>
 option invert-shading-data -1 <br/>
 option lamp-control-available 0<br/>
 option gamma-lsb-padded 0<br/>
 /dev/sge <br/>
&#160;<br/>
 #scsi Vendor Model Type Bus Channel ID LUN <br/>
 # The following scanner supports lamp control<br/>
 option lamp-control-available 1<br/>
 scsi UMAX * Scanner * * * * * <br/>
&#160;<br/>
 # scanner on /dev/scanner does not support lamp control<br/>
 option lamp-control-available 0<br/>
 /dev/scanner <br/>
<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
execute-request-sense:</dt>
<dd>
values: 0 = disabled, 1 = enabled<div style="height: 0.00em;">
&#160;</div>
default = 0<div style="height: 0.00em;">
&#160;</div>
If set to 1 umax_do_request_sense is called in umax_do_calibration. This can hang the system (but has been enabled until this version)</dd>
</dl>
<dl>
<dt>
scsi-buffer-size-min, scsi-buffer-size-max:</dt>
<dd>
values: 4096-1048576<div style="height: 0.00em;">
&#160;</div>
default min = 32768, max = 131072<div style="height: 0.00em;">
&#160;</div>
Especially the minimum value is very important. If this value is set too small the backend is not able to send gamma tables to the scanner or to do a correct color calibration. This may result in strange color effects. If the minimum value is set too large then the backend is not able to allocate the requested scsi buffer size and aborts with out of memory error. The default is 32KB, for some scanners it should be increased to 64KB.</dd>
</dl>
<dl>
<dt>
scan-lines, preview-lines:</dt>
<dd>
values: 1-65535<div style="height: 0.00em;">
&#160;</div>
default: scan-lines = 40, preview-lines = 10<div style="height: 0.00em;">
&#160;</div>
define the maximum number of lines that are scanned into one buffer</dd>
</dl>
<dl>
<dt>
force-preview-bit-rgb:</dt>
<dd>
values: 0 = disabled, 1 = enabled<div style="height: 0.00em;">
&#160;</div>
default = 0<div style="height: 0.00em;">
&#160;</div>
set preview bit in rgb real scan</dd>
</dl>
<dl>
<dt>
slow-speed, care-about-smearing:</dt>
<dd>
values: -1 = auto, 0 = disabled, 1 = enabled<div style="height: 0.00em;">
&#160;</div>
default = -1<div style="height: 0.00em;">
&#160;</div>
dangerous options, needed for some scanners do not changed these options until you really know what you do, you may destroy your scanner when you define wrong values for this options</dd>
</dl>
<dl>
<dt>
calibration-full-ccd:</dt>
<dd>
values: -1 = auto, 0 = disabled, 1 = enabled<div style="height: 0.00em;">
&#160;</div>
default = -1<div style="height: 0.00em;">
&#160;</div>
do calibration for each pixel of ccd instead of selected image</dd>
</dl>
<dl>
<dt>
calibration-width-offset:</dt>
<dd>
values: -99999 = auto, &gt; -99999 set value<div style="height: 0.00em;">
&#160;</div>
add an offset width to the calculated with for image/ccd</dd>
</dl>
<dl>
<dt>
calibration-bytes-pixel:</dt>
<dd>
values: -1 = disabled, 0 = not set, 1 = 1 byte/pixel, 2 = 2 bytes/pixel<div style="height: 0.00em;">
&#160;</div>
use # bytes per pixel for calibration</dd>
</dl>
<dl>
<dt>
exposure-time-rgb-bind:</dt>
<dd>
values: -1 = automatically set by driver - if known, 0 = disabled (own selection for red, green and blue), 1 = enabled (same values for red, green and blue)</dd>
</dl>
<dl>
<dt>
invert-shading-data:</dt>
<dd>
values: -1 = automatically set by driver - if known, 0 = disabled, 1 = enabled<div style="height: 0.00em;">
&#160;</div>
default = -1<div style="height: 0.00em;">
&#160;</div>
invert shading data before sending it back to the scanner</dd>
</dl>
<dl>
<dt>
lamp-control-available:</dt>
<dd>
values: 0 = automatically set by driver - if known, 1 = available<div style="height: 0.00em;">
&#160;</div>
default = 0</dd>
</dl>
<dl>
<dt>
gamma-lsb-padded:</dt>
<dd>
values: -1 = automatically set by driver - if known, 0 = gamma data is msb padded, 1 = gamma data is lsb padded<div style="height: 0.00em;">
&#160;</div>
default = -1</dd>
</dl>
<dl>
<dt>
handle-bad-sense-error:</dt>
<dd>
values: 0 = handle as device busy, 1 = handle as ok, 2 = handle as i/o error, 3 = ignore bad error code - continue sense handler<div style="height: 0.00em;">
&#160;</div>
default = 0</dd>
</dl>
<dl>
<dt>
scsi-maxqueue:</dt>
<dd>
values: 1..# (maximum defined at compile time)<div style="height: 0.00em;">
&#160;</div>
default = 2<div style="height: 0.00em;">
&#160;</div>
most scsi drivers allow internal command queueing with a depth of 2 commands. In most cases it does not mprove anything when you increase this value. When your scsi driver does not support any command queueing you can try to set this value to 1.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The special device name must be a generic SCSI device or a symlink to such a device. To find out to which device your scanner is assigned and how you have to set the permissions of that device, have a look at sane-scsi.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SCSI ADAPTER TIPS</h1> The ISA-SCSI-adapters that are shipped with some Umax-scanners are not supported very well by Linux (I suggest not to use it), the PCI-SCSI-adapters that come with some Umax-scanners are not supported at all (as far as I know). On other platforms these SCSI-adapters are not supported. So you typically need to purchase another SCSI-adapter that is supported by your platform. See the relevant hardware FAQs and HOWTOs for your platform for more information.<div style="height: 1.00em;">
&#160;</div>
The UMAX-scanners do block the scsi-bus for a few seconds while scanning. It is not necessary to connect the scanner to its own SCSI-adapter. But if you need short response time for your SCSI-harddisk (e.g. if your computer is a file-server) or other scsi devices, I suggest you use an own SCSI-adapter for your UMAX-scanner.<div style="height: 1.00em;">
&#160;</div>
If you have any problems with your Umax scanner, check your scsi chain (cable length, termination, ...).<div style="height: 1.00em;">
&#160;</div>
See also: sane-scsi(5)<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>FILES</h1><dl>
<dt>
The backend configuration file:</dt>
<dd>
<i>/etc/sane.d/umax.conf</i></dd>
</dl>
<dl>
<dt>
The static library implementing this backend:</dt>
<dd>
<i>/usr/lib/arch_triplet/sane/libsane-umax.a</i></dd>
</dl>
<dl>
<dt>
The shared library implementing this backend:</dt>
<dd>
<i>/usr/lib/arch_triplet/sane/libsane-umax.so</i> (present on systems that support dynamic loading)<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>SANE_DEBUG_UMAX</b></dt>
<dd>
If the library was compiled with debug support enabled, this environment variable controls the debug level for this backend. E.g., a value of 128 requests all debug output to be printed. Smaller levels reduce verbosity: SANE_DEBUG_UMAX values<div style="height: 1.00em;">
&#160;</div>
<br/>
Number  Remark<br/>
&#160;<br/>
 0       print important errors (printed each time)<br/>
 1       print errors<br/>
 2       print sense<br/>
 3       print warnings<br/>
 4       print scanner-inquiry<br/>
 5       print informations<br/>
 6       print less important informations<br/>
 7       print called procedures<br/>
 8       print reader_process messages<br/>
 10      print called sane-init-routines<br/>
 11      print called sane-procedures<br/>
 12      print sane infos<br/>
 13      print sane option-control messages<br/>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
Example:</dt>
<dd>
export SANE_DEBUG_UMAX=8<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>BUGS</h1> X-resolutions greater than 600 dpi sometimes make problems<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> sane(7)<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Oliver Rauch<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>EMAIL-CONTACT</h1> Oliver.Rauch@Rauch-Domain.DE</div>
<table class="foot">
<tr>
<td class="foot-date">
14 Jul 2008</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

