<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
WPA_SUPPLICANT.CONF(5)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
WPA_SUPPLICANT.CONF(5)</td>
<td class="head-vol">
</td>
<td class="head-rtitle">
WPA_SUPPLICANT.CONF(5)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> wpa_supplicant.conf - configuration file for wpa_supplicant</div>
<div class="section">
<h1>OVERVIEW</h1>  <b>wpa_supplicant</b> is configured using a text file that lists all accepted networks and security policies, including pre-shared keys. See the example configuration file, probably in  <b>/usr/share/doc/wpa_supplicant/</b>, for detailed information about the configuration format and supported fields.<div class="spacer">
</div>
All file paths in this configuration file should use full (absolute, not relative to working directory) path in order to allow working directory to be changed. This can happen if wpa_supplicant is run in the background.<div class="spacer">
</div>
Changes to configuration file can be reloaded be sending SIGHUP signal to  <b>wpa_supplicant</b> ('killall -HUP wpa_supplicant'). Similarly, reloading can be triggered with the  <b>wpa_cli reconfigure</b> command.<div class="spacer">
</div>
Configuration file can include one or more network blocks, e.g., one for each used SSID. wpa_supplicant will automatically select the best network based on the order of network blocks in the configuration file, network security level (WPA/WPA2 is preferred), and signal strength.</div>
<div class="section">
<h1>QUICK EXAMPLES</h1><dl>
<dt>
1.</dt>
<dd>
WPA-Personal (PSK) as home network and WPA-Enterprise with EAP-TLS as work network.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<br/>
# allow frontend (e.g., wpa_cli) to be used by all users in 'wheel' group<br/>
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel<br/>
#<br/>
# home network; allow all valid ciphers<br/>
network={<br/>
	ssid=&quot;home&quot;<br/>
	scan_ssid=1<br/>
	key_mgmt=WPA-PSK<br/>
	psk=&quot;very secret passphrase&quot;<br/>
}<br/>
#<br/>
# work network; use EAP-TLS with WPA; allow only CCMP and TKIP ciphers<br/>
network={<br/>
	ssid=&quot;work&quot;<br/>
	scan_ssid=1<br/>
	key_mgmt=WPA-EAP<br/>
	pairwise=CCMP TKIP<br/>
	group=CCMP TKIP<br/>
	eap=TLS<br/>
	identity=&quot;user@example.com&quot;<br/>
	ca_cert=&quot;/etc/cert/ca.pem&quot;<br/>
	client_cert=&quot;/etc/cert/user.pem&quot;<br/>
	private_key=&quot;/etc/cert/user.prv&quot;<br/>
	private_key_passwd=&quot;password&quot;<br/>
}<br/>
</div>
<dl>
<dt>
2.</dt>
<dd>
WPA-RADIUS/EAP-PEAP/MSCHAPv2 with RADIUS servers that use old peaplabel (e.g., Funk Odyssey and SBR, Meetinghouse Aegis, Interlink RAD-Series)<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<br/>
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel<br/>
network={<br/>
	ssid=&quot;example&quot;<br/>
	scan_ssid=1<br/>
	key_mgmt=WPA-EAP<br/>
	eap=PEAP<br/>
	identity=&quot;user@example.com&quot;<br/>
	password=&quot;foobar&quot;<br/>
	ca_cert=&quot;/etc/cert/ca.pem&quot;<br/>
	phase1=&quot;peaplabel=0&quot;<br/>
	phase2=&quot;auth=MSCHAPV2&quot;<br/>
}<br/>
</div>
<dl>
<dt>
3.</dt>
<dd>
EAP-TTLS/EAP-MD5-Challenge configuration with anonymous identity for the unencrypted use. Real identity is sent only within an encrypted TLS tunnel.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<br/>
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel<br/>
network={<br/>
	ssid=&quot;example&quot;<br/>
	scan_ssid=1<br/>
	key_mgmt=WPA-EAP<br/>
	eap=TTLS<br/>
	identity=&quot;user@example.com&quot;<br/>
	anonymous_identity=&quot;anonymous@example.com&quot;<br/>
	password=&quot;foobar&quot;<br/>
	ca_cert=&quot;/etc/cert/ca.pem&quot;<br/>
	phase2=&quot;auth=MD5&quot;<br/>
}<br/>
</div>
<dl>
<dt>
4.</dt>
<dd>
IEEE 802.1X (i.e., no WPA) with dynamic WEP keys (require both unicast and broadcast); use EAP-TLS for authentication<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<br/>
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel<br/>
network={<br/>
	ssid=&quot;1x-test&quot;<br/>
	scan_ssid=1<br/>
	key_mgmt=IEEE8021X<br/>
	eap=TLS<br/>
	identity=&quot;user@example.com&quot;<br/>
	ca_cert=&quot;/etc/cert/ca.pem&quot;<br/>
	client_cert=&quot;/etc/cert/user.pem&quot;<br/>
	private_key=&quot;/etc/cert/user.prv&quot;<br/>
	private_key_passwd=&quot;password&quot;<br/>
	eapol_flags=3<br/>
}<br/>
</div>
<dl>
<dt>
5.</dt>
<dd>
Catch all example that allows more or less all configuration modes. The configuration options are used based on what security policy is used in the selected SSID. This is mostly for testing and is not recommended for normal use.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<br/>
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel<br/>
network={<br/>
	ssid=&quot;example&quot;<br/>
	scan_ssid=1<br/>
	key_mgmt=WPA-EAP WPA-PSK IEEE8021X NONE<br/>
	pairwise=CCMP TKIP<br/>
	group=CCMP TKIP WEP104 WEP40<br/>
	psk=&quot;very secret passphrase&quot;<br/>
	eap=TTLS PEAP TLS<br/>
	identity=&quot;user@example.com&quot;<br/>
	password=&quot;foobar&quot;<br/>
	ca_cert=&quot;/etc/cert/ca.pem&quot;<br/>
	client_cert=&quot;/etc/cert/user.pem&quot;<br/>
	private_key=&quot;/etc/cert/user.prv&quot;<br/>
	private_key_passwd=&quot;password&quot;<br/>
	phase1=&quot;peaplabel=0&quot;<br/>
	ca_cert2=&quot;/etc/cert/ca2.pem&quot;<br/>
	client_cert2=&quot;/etc/cer/user.pem&quot;<br/>
	private_key2=&quot;/etc/cer/user.prv&quot;<br/>
	private_key2_passwd=&quot;password&quot;<br/>
}<br/>
</div>
<dl>
<dt>
6.</dt>
<dd>
Authentication for wired Ethernet. This can be used with  <b>wired</b> or <b>roboswitch</b> interface (-Dwired or -Droboswitch on command line).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<br/>
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel<br/>
ap_scan=0<br/>
network={<br/>
	key_mgmt=IEEE8021X<br/>
	eap=MD5<br/>
	identity=&quot;user&quot;<br/>
	password=&quot;password&quot;<br/>
	eapol_flags=0<br/>
}<br/>
</div>
</div>
<div class="section">
<h1>CERTIFICATES</h1> Some EAP authentication methods require use of certificates. EAP-TLS uses both server side and client certificates whereas EAP-PEAP and EAP-TTLS only require the server side certificate. When client certificate is used, a matching private key file has to also be included in configuration. If the private key uses a passphrase, this has to be configured in wpa_supplicant.conf (&quot;private_key_passwd&quot;).<div class="spacer">
</div>
wpa_supplicant supports X.509 certificates in PEM and DER formats. User certificate and private key can be included in the same file.<div class="spacer">
</div>
If the user certificate and private key is received in PKCS#12/PFX format, they need to be converted to suitable PEM/DER format for wpa_supplicant. This can be done, e.g., with following commands:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">
&#160;</div>
<br/>
# convert client certificate and private key to PEM format<br/>
openssl pkcs12 -in example.pfx -out user.pem -clcerts<br/>
# convert CA certificate (if included in PFX file) to PEM format<br/>
openssl pkcs12 -in example.pfx -out ca.pem -cacerts -nokeys<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <b>wpa_supplicant</b>(8)  <b>openssl</b>(1)</div>
<table class="foot">
<tr>
<td class="foot-date">
07 September 2010</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

