<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
s3(4)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
s3(4)</td>
<td class="head-vol">
Device Drivers Manual</td>
<td class="head-rtitle">
s3(4)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> s3 - S3 video driver</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>Section &quot;Device&quot;</b><div style="margin-left: 2.00ex;">
<b>Identifier &quot;<i>devname</i>&quot;</b><div style="height: 0.00em;">
&#160;</div>
<b>Driver &quot;s3&quot;</b><div style="height: 0.00em;">
&#160;</div>
<b>...</b><div style="height: 0.00em;">
&#160;</div>
[<b>Option</b> &quot;optionname&quot; [&quot;optionvalue&quot;]]</div>
<b>EndSection</b><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SUPPORTED HARDWARE</h1> The <b>s3</b> driver supports PCI video cards based on the following S3 chips:<dl>
<dt>
<b>Trio32</b></dt>
<dd>
86C732</dd>
</dl>
<dl>
<dt>
<b>Trio64</b></dt>
<dd>
86C764</dd>
</dl>
<dl>
<dt>
<b>Trio64V+</b></dt>
<dd>
86C765</dd>
</dl>
<dl>
<dt>
<b>Aurora64V+</b></dt>
<dd>
86CM65</dd>
</dl>
<dl>
<dt>
<b>Trio64UV+</b></dt>
<dd>
86C767</dd>
</dl>
<dl>
<dt>
<b>Trio64V2/DX</b></dt>
<dd>
86C775</dd>
</dl>
<dl>
<dt>
<b>Trio64V2/GX</b></dt>
<dd>
86C785</dd>
</dl>
<dl>
<dt>
<b>Vision964</b></dt>
<dd>
86C964</dd>
</dl>
<dl>
<dt>
<b>Vision968</b></dt>
<dd>
86C968<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
Also driver supports the following RAMDACs:<dl>
<dt>
<b>IBM 524, IBM 524A, IBM 526, IBM 526DB</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>TI ViewPoint 3025</b></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>s3</b> is an Xorg driver for S3 based video cards. The driver provides full accelerated support for the following colour depths: 8, 15, 16 and 24. The overlay video (Xv) is supported in depths 16 and 24 for the Trio64V+, Trio64UV+, Trio64V2/DX and Trio64V2/GX chips.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>CONFIGURATION DETAILS</h1> Please refer to xorg.conf(5) for general configuration details.  This section only covers configuration details specific to this driver. All options names are case and white space insensitive when parsed by the server, for example, &quot;trio 32/64&quot; and &quot;Trio32/64&quot; are equivalent.<div style="height: 1.00em;">
&#160;</div>
<div class="subsection">
<h2>Chip overriding</h2> The driver auto-detects the chipset and RAMDAC, but the following  <b>Chipset</b> names may optionally be specified in the configuration file  <b>&quot;Device&quot;</b> section, and will override the auto-detection:<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
&quot;964-0&quot;, &quot;964-1&quot;</dt>
<dd>
86C964 (rev.0 and rev.1)</dd>
</dl>
<dl>
<dt>
&quot;968&quot;</dt>
<dd>
86C968</dd>
</dl>
<dl>
<dt>
&quot;Trio32/64&quot;</dt>
<dd>
86C732/86C764</dd>
</dl>
<dl>
<dt>
&quot;Aurora64V+&quot;</dt>
<dd>
86CM65</dd>
</dl>
<dl>
<dt>
&quot;Trio64UV+&quot;</dt>
<dd>
86C767</dd>
</dl>
<dl>
<dt>
&quot;Trio64V2/DX/GX&quot;</dt>
<dd>
86C775/86C785</dd>
</dl>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The 86C765 (Trio64V+) is <b>Chipset</b> &quot;Trio32/64&quot; with <b>ChipRev</b> greater or equal 0x40.<div style="height: 1.00em;">
&#160;</div>
An overriding of RAMDAC auto-detection currently is not implemented.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>Colour depth</h2> For every supported colour depth the X server automatically selects an appropriate number of bits per pixel (bpp) for framebuffer. The depth 8 is represented by 8 bpp framebuffer (1 byte/pixel), the depths 15 and 16 (respectively 5.5.5 and 5.6.5 pixel formats) are represented by the 16 bpp framebuffer (2 bytes/pixel). Whenever the depth 24 is configured, the X server by default uses the 32 bpp framebuffer (4 bytes/pixel), and the hardware is adjusted accordingly to the X.8.8.8 pixel format, where X is the ignored upper byte.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
As the second option for the depth 24, the X server can be configured to use 24 bpp framebuffer with the 8.8.8 pixel format (3 bytes/pixel), which is supported by Trio64V+, Trio64UV+, Trio64V2/DX and Trio64V2/GX. If the video board has limited video RAM the 24 bpp framebuffer has an advantage over 32 bpp framebuffer as it requires less memory to store screen, and, therefore, more space will be available for a video frame (see &quot;Overlay video&quot; section).  The 24 bpp framebuffer can be selected by X server's option  <b>-fbbpp 24</b> or by specifying  <b>DefaultFbBpp</b> option in xorg.conf(5):<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<b>Section &quot;Screen&quot;</b><div style="margin-left: 2.00ex;">
<b>DefaultFbBpp 24</b><div style="height: 0.00em;">
&#160;</div>
<b>DefaultDepth 24</b><div style="height: 0.00em;">
&#160;</div>
<b>...</b></div>
<b>EndSection</b></div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
However, the 24 bpp framebuffer mode has the hardware limitations: (i) the 2D acceleration doesn't work with this mode (use the  <b>&quot;shadowFB&quot;</b> option to speed up drawing routines in this case); (ii) 24 bpp framebuffer cannot be used with either interlaced or doublescan graphics modes.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>Overlay video</h2> If your video board has limited RAM it would be useful to estimate how large video frame might be placed in offscreen video memory. Suppose that the video board has 2 MB of RAM, and X server is configured to display 800x600 with the depth 24. By default the 32 bpp framebuffer will be chosen for this depth, so 800 x 600 x 4 = 1875 kB will be reserved for screen, and 2 MB - 1875 kB = 173 kB will remain for the offscreen area. This is sufficient space, for example, for the VCD NTSC 352x240 frame. If you need to upscale video with a bigger frame, but it doesn't fit the offscreen area, the only way to do this is to lower either the resolution or framebuffer's depth or both before the viewing, otherwise, you will get the allocation error and will not see the video. For example, with 24 bpp framebuffer and the same resolution 800x600 the offscreen area will be about 640 kB - it's enough for the 640x480 frame. 800x600 with the 16 bpp framebuffer gives about 1110 kB of offscreen area - this allows to upscale up to 768x576 movies. Note, that all movie resolutions in examples above are provided as a reference; the movies can have the different aspect ratios and non-standard dimensions. A total pixel amount is the main consideration not the certain width and height.<div class="spacer">
</div>
Due to hardware limitation the overlay video will not work with the interlaced/doublescan modes. Downscaling is not implemented in hardware.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>Configuration options</h2> The following display <b>Options</b> are supported:<dl>
<dt>
<b>Option &quot;HWCursor&quot; &quot;</b><i>boolean</i><b>&quot;</b></dt>
<dd>
Enable or disable the hardware cursor. Currently, hardware cursor is not implemented, so the option will be ignored. Default: off (software cursor).</dd>
</dl>
<dl>
<dt>
<b>Option &quot;NoAccel&quot; &quot;</b><i>boolean</i><b>&quot;</b></dt>
<dd>
Disable acceleration. Very useful for determining if the driver has problems with drawing and acceleration routines. This is the first option to try if your server runs but you see graphic corruption on the screen. Using it decreases performance, as it uses software emulation for drawing operations the video driver can accelerate with hardware. Default: off (acceleration is enabled).</dd>
</dl>
<dl>
<dt>
<b>Option &quot;ShadowFB&quot; &quot;</b><i>boolean</i><b>&quot;</b></dt>
<dd>
Use shadow framebuffer. Disables hardware acceleration. Use this option when the hardware acceleration is not available or undesirable. Default: off.</dd>
</dl>
<dl>
<dt>
<b>Option &quot;XVideo&quot; &quot;</b><i>boolean</i><b>&quot;</b></dt>
<dd>
Enable or disable Xv support. Default: on.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The following video memory <b>Options</b> are supported:<dl>
<dt>
<b>Option &quot;slow_dram_refresh&quot; &quot;</b><i>boolean</i><b>&quot;</b></dt>
<dd>
Enable three refresh cycles per scanline. Default: off (one refresh cycle).</dd>
</dl>
<dl>
<dt>
<b>Option &quot;slow_edodram&quot; &quot;</b><i>boolean</i><b>&quot;</b></dt>
<dd>
Switch to 2-cycle EDO mode. Try this if you encounter pixel corruption. Using this option will cause a decrease in performance. Default: off (BIOS defaults).</dd>
</dl>
<dl>
<dt>
<b>Option &quot;slow_dram&quot; &quot;</b><i>boolean</i><b>&quot;</b></dt>
<dd>
For Trio and Aurora64V+ chips: increase -RAS Precharge Timing to 3.5 MCLK. Try this option if you encounter pixel errors. Default: off (BIOS defaults).</dd>
</dl>
<dl>
<dt>
<b>Option &quot;slow_vram&quot; &quot;</b><i>boolean</i><b>&quot;</b></dt>
<dd>
For Vision964, Vision968 chips: increase -RAS Low Timing to 4.5 MCLK. Default: off (BIOS defaults).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> Xorg(1), xorg.conf(5), Xserver(1), X(7)<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>AUTHORS</h1> Thomas Roell, Mark Vojkovich, Kevin E. Martin, Amancio Hasty, Jon N. Tombs and others were the original authors of driver for XFree86 3.x. Ani Joshi reworked driver for XFree86 4.x. The further modifications were made by the following contributors: Adam Jackson, Alan Coopersmith, Dave Airlie, Andrew Radrianasulu, Paulo Cesar Pereira de Andrade, Eric Anholt, S&#248;ren Sandmann Pedersen, Alex Deucher, Evgeny M. Zubok, Daniel Stone and others.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The manual was written by Evgeny M. Zubok &lt;evgeny.zubok@tochka.ru&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
xf86-video-s3 0.6.5</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

