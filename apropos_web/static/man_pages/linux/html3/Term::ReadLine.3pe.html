<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Term::ReadLine(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Term::ReadLine(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
Term::ReadLine(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Term::ReadLine - Perl interface to various &quot;readline&quot; packages. If no real package is found, substitutes stubs instead of basic functions.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use Term::ReadLine;<br/>
  my $term = Term::ReadLine-&gt;new('Simple Perl calc');<br/>
  my $prompt = &quot;Enter your arithmetic expression: &quot;;<br/>
  my $OUT = $term-&gt;OUT || \*STDOUT;<br/>
  while ( defined ($_ = $term-&gt;readline($prompt)) ) {<br/>
    my $res = eval($_);<br/>
    warn $@ if $@;<br/>
    print $OUT $res, &quot;\n&quot; unless $@;<br/>
    $term-&gt;addhistory($_) if /\S/;<br/>
  }<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This package is just a front end to some other packages. It's a stub to set up a common interface to the various ReadLine implementations found on CPAN (under the &quot;Term::ReadLine::*&quot; namespace).</div>
<div class="section">
<h1>Minimal set of supported functions</h1> All the supported functions should be called as methods, i.e., either as<div class="spacer">
</div>
<br/>
  $term = Term::ReadLine-&gt;new('name');<br/>
<div class="spacer">
</div>
or as<div class="spacer">
</div>
<br/>
  $term-&gt;addhistory('row');<br/>
<div class="spacer">
</div>
where $term is a return value of Term::ReadLine-&gt;<i>new()</i>.<dl>
<dt>
&quot;ReadLine&quot;</dt>
<dd>
returns the actual package that executes the commands. Among possible values are &quot;Term::ReadLine::Gnu&quot;, &quot;Term::ReadLine::Perl&quot;, &quot;Term::ReadLine::Stub&quot;.</dd>
</dl>
<dl>
<dt>
&quot;new&quot;</dt>
<dd>
returns the handle for subsequent calls to following functions. Argument is the name of the application. Optionally can be followed by two arguments for &quot;IN&quot; and &quot;OUT&quot; filehandles. These arguments should be globs.</dd>
</dl>
<dl>
<dt>
&quot;readline&quot;</dt>
<dd>
gets an input line, <i>possibly</i> with actual &quot;readline&quot; support. Trailing newline is removed. Returns &quot;undef&quot; on &quot;EOF&quot;.</dd>
</dl>
<dl>
<dt>
&quot;addhistory&quot;</dt>
<dd>
adds the line to the history of input, from where it can be used if the actual &quot;readline&quot; is present.</dd>
</dl>
<dl>
<dt>
&quot;IN&quot;, &quot;OUT&quot;</dt>
<dd>
return the filehandles for input and output or &quot;undef&quot; if &quot;readline&quot; input and output cannot be used for Perl.</dd>
</dl>
<dl>
<dt>
&quot;MinLine&quot;</dt>
<dd>
If argument is specified, it is an advice on minimal size of line to be included into history.  &quot;undef&quot; means do not include anything into history. Returns the old value.</dd>
</dl>
<dl>
<dt>
&quot;findConsole&quot;</dt>
<dd>
returns an array with two strings that give most appropriate names for files for input and output using conventions &quot;&lt;$in&quot;, &quot;&gt;out&quot;.</dd>
</dl>
<dl>
<dt>
Attribs</dt>
<dd>
returns a reference to a hash which describes internal configuration of the package. Names of keys in this hash conform to standard conventions with the leading &quot;rl_&quot; stripped.</dd>
</dl>
<dl>
<dt>
&quot;Features&quot;</dt>
<dd>
Returns a reference to a hash with keys being features present in current implementation. Several optional features are used in the minimal interface: &quot;appname&quot; should be present if the first argument to &quot;new&quot; is recognized, and &quot;minline&quot; should be present if &quot;MinLine&quot; method is not dummy.  &quot;autohistory&quot; should be present if lines are put into history automatically (maybe subject to &quot;MinLine&quot;), and &quot;addhistory&quot; if &quot;addhistory&quot; method is not dummy.<div style="height: 1.00em;">
&#160;</div>
If &quot;Features&quot; method reports a feature &quot;attribs&quot; as present, the method &quot;Attribs&quot; is not dummy.</dd>
</dl>
</div>
<div class="section">
<h1>Additional supported functions</h1> Actually &quot;Term::ReadLine&quot; can use some other package, that will support a richer set of commands.<div class="spacer">
</div>
All these commands are callable via method interface and have names which conform to standard conventions with the leading &quot;rl_&quot; stripped.<div class="spacer">
</div>
The stub package included with the perl distribution allows some additional methods:<dl>
<dt>
&quot;tkRunning&quot;</dt>
<dd>
makes Tk event loop run when waiting for user input (i.e., during &quot;readline&quot; method).</dd>
</dl>
<dl>
<dt>
&quot;ornaments&quot;</dt>
<dd>
makes the command line stand out by using termcap data.  The argument to &quot;ornaments&quot; should be 0, 1, or a string of a form &quot;aa,bb,cc,dd&quot;.  Four components of this string should be names of  <i>terminal capacities</i>, first two will be issued to make the prompt standout, last two to make the input line standout.</dd>
</dl>
<dl>
<dt>
&quot;newTTY&quot;</dt>
<dd>
takes two arguments which are input filehandle and output filehandle. Switches to use these filehandles.</dd>
</dl>
<div class="spacer">
</div>
One can check whether the currently loaded ReadLine package supports these methods by checking for corresponding &quot;Features&quot;.</div>
<div class="section">
<h1>EXPORTS</h1> None</div>
<div class="section">
<h1>ENVIRONMENT</h1> The environment variable &quot;PERL_RL&quot; governs which ReadLine clone is loaded. If the value is false, a dummy interface is used. If the value is true, it should be tail of the name of the package to use, such as &quot;Perl&quot; or &quot;Gnu&quot;.<div class="spacer">
</div>
As a special case, if the value of this variable is space-separated, the tail might be used to disable the ornaments by setting the tail to be &quot;o=0&quot; or &quot;ornaments=0&quot;.  The head should be as described above, say<div class="spacer">
</div>
If the variable is not set, or if the head of space-separated list is empty, the best available package is loaded.<div class="spacer">
</div>
<br/>
  export &quot;PERL_RL=Perl o=0&quot;     # Use Perl ReadLine without ornaments<br/>
  export &quot;PERL_RL= o=0&quot;         # Use best available ReadLine without ornaments<br/>
<div class="spacer">
</div>
(Note that processing of &quot;PERL_RL&quot; for ornaments is in the discretion of the particular used &quot;Term::ReadLine::*&quot; package).</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

