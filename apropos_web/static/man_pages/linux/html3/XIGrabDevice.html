<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XIGRABDEVICE(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XIGRABDEVICE(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XIGRABDEVICE(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XIGrabDevice, XIUngrabDevice - grab or ungrab the device.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput2.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
Status XIGrabDevice( Display *display,<br/>
                     int deviceid,<br/>
                     Window grab_window,<br/>
                     Time time,<br/>
                     Cursor cursor,<br/>
                     int grab_mode,<br/>
                     int paired_device_mode,<br/>
                     Bool owner_events,<br/>
                     XIEventMask *mask);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
Status XIUngrabDevice( Display *display,<br/>
                       int deviceid,<br/>
                       Time time);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
cursor<br/>
       Specifies the cursor image to display for the duration<br/>
       of the grab.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
deviceid<br/>
       Specifies the device that should be grabbed or<br/>
       ungrabbed.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
grab_mode, paired_device_mode<br/>
       The grab mode for this device and (if applicable) the<br/>
       paired device.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
grab_window<br/>
       The grab window.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
mask<br/>
       Event mask.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
owner_events<br/>
       True if events are to be reported normally.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
time<br/>
       A valid timestamp or CurrentTime.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
XIGrabDevice actively grabs control of the device. Further<br/>
device events are reported only to the grabbing client.<br/>
XIGrabDevice overrides any active device grab by this client.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If the device is an attached slave device, the device is<br/>
automatically detached from the master device and reattached to<br/>
the same master device when client ungrabs the device. If the<br/>
master device is removed while the device is floating as a<br/>
result of a grab, the device remains floating once the grab<br/>
deactivates.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If owner_events is False, all generated device events are<br/>
reported with respect to grab_window if selected. If<br/>
owner_events is True and if a generated device event would<br/>
normally be reported to this client, it is reported normally;<br/>
otherwise, the event is reported with respect to the<br/>
grab_window, and is only reported if specified in the event<br/>
mask.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If the grab_mode argument is XIGrabModeAsync, device event<br/>
processing continues as usual. If the device is currently<br/>
frozen by this client, then processing of device events is<br/>
resumed. If the grab_mode argument is XIGrabModeSync, the state<br/>
of the device (as seen by client applications) appears to<br/>
freeze, and the X server generates no further device events<br/>
until the grabbing client issues a releasing XIAllowEvents call<br/>
or until the device grab is released. Actual device changes are<br/>
not lost while the device is frozen; they are simply queued in<br/>
the server for later processing.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If paired_device_mode is XIGrabModeAsync, processing of events<br/>
from the paired master device is unaffected by activation of<br/>
the grab. If paired_device_mode is XIGrabModeSync, the state of<br/>
the paired master device (as seen by client applications)<br/>
appears to freeze, and the X server generates no further events<br/>
from this device until the grabbing client issues a releasing<br/>
XIAllowEvents call or until the device grab is released. Actual<br/>
events are not lost while the devices are frozen; they are<br/>
simply queued in the server for later processing. If the device<br/>
is a slave device paired_device_mode is ignored.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If the device is actively grabbed by some other client,<br/>
XIGrabDevice fails and returns AlreadyGrabbed. If grab_window<br/>
is not viewable, it fails and returns GrabNotViewable. If the<br/>
device is frozen by an active grab of another client, it fails<br/>
and returns GrabFrozen. If the specified time is earlier than<br/>
the last-device-grab time or later than the current X server<br/>
time, it fails and returns GrabInvalidTime. Otherwise, the<br/>
last-device-grab time is set to the specified time. CurrentTime<br/>
is replaced by the current X server time.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If cursor is not None this cursor is displayed until the client<br/>
calls XIUngrabDevice.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIGrabDevice can generate BadDevice, BadValue, and BadWindow<br/>
errors.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XIUngrabDevice request releases the device and any queued<br/>
events if this client has it actively grabbed from either<br/>
XIGrabDevice or XIGrabKey or XIGrabButton. If other devices are<br/>
frozen by the grab, XUngrabDevice thaws them. XUngrabDevice<br/>
does not release the device and any queued events if the<br/>
specified time is earlier than the last-device-grab time or is<br/>
later than the current X server time. The X server<br/>
automatically performs an XIUngrabDevice request if the event<br/>
window for an active device grab becomes not viewable.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIUngrabDevice can generate a BadDevice error.<br/>
</div>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><div style="margin-left: 4.00ex;">
<br/>
BadValue<br/>
       A value is outside of the permitted range.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadDevice<br/>
       An invalid device was specified. The device does not<br/>
       exist or is not a appropriate for the type of change.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadMatch<br/>
       The window is not viewable.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadWindow<br/>
       A value for a Window argument does not name a defined<br/>
       Window.<br/>
</div>
</div>
<div class="section">
<h1>BUGS</h1><div style="margin-left: 4.00ex;">
<br/>
The protocol headers for XI 2.0 did not provide<br/>
XIGrabModeAsync or XIGrabModeSync. Use GrabModeSync and<br/>
GrabModeAsync instead, respectively.<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1><div style="margin-left: 4.00ex;">
<br/>
XIAllowEvents(3)<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

