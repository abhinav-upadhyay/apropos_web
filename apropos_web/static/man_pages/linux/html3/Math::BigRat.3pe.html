<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Math::BigRat(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Math::BigRat(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
Math::BigRat(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Math::BigRat - Arbitrary big rational numbers</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
        use Math::BigRat;<br/>
<br/>
        my $x = Math::BigRat-&gt;new('3/7'); $x += '5/9';<br/>
<br/>
        print $x-&gt;bstr(),&quot;\n&quot;;<br/>
        print $x ** 2,&quot;\n&quot;;<br/>
<br/>
        my $y = Math::BigRat-&gt;new('inf');<br/>
        print &quot;$y &quot;, ($y-&gt;is_inf ? 'is' : 'is not') , &quot; infinity\n&quot;;<br/>
<br/>
        my $z = Math::BigRat-&gt;new(144); $z-&gt;bsqrt();<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Math::BigRat complements Math::BigInt and Math::BigFloat by providing support for arbitrary big rational numbers.<div class="subsection">
<h2>MATH LIBRARY</h2> You can change the underlying module that does the low-level math operations by using:<div class="spacer">
</div>
<br/>
        use Math::BigRat try =&gt; 'GMP';<br/>
<div class="spacer">
</div>
Note: This needs Math::BigInt::GMP installed.<div class="spacer">
</div>
The following would first try to find Math::BigInt::Foo, then Math::BigInt::Bar, and when this also fails, revert to Math::BigInt::Calc:<div class="spacer">
</div>
<br/>
        use Math::BigRat try =&gt; 'Foo,Math::BigInt::Bar';<br/>
<div class="spacer">
</div>
If you want to get warned when the fallback occurs, replace &quot;try&quot; with &quot;lib&quot;:<div class="spacer">
</div>
<br/>
        use Math::BigRat lib =&gt; 'Foo,Math::BigInt::Bar';<br/>
<div class="spacer">
</div>
If you want the code to die instead, replace &quot;try&quot; with &quot;only&quot;:<div class="spacer">
</div>
<br/>
        use Math::BigRat only =&gt; 'Foo,Math::BigInt::Bar';<br/>
</div>
</div>
<div class="section">
<h1>METHODS</h1> Any methods not listed here are derived from Math::BigFloat (or Math::BigInt), so make sure you check these two modules for further information.<div class="subsection">
<h2><i>new()</i></h2><br/>
        $x = Math::BigRat-&gt;new('1/3');<br/>
<div class="spacer">
</div>
Create a new Math::BigRat object. Input can come in various forms:<div class="spacer">
</div>
<br/>
        $x = Math::BigRat-&gt;new(123);                            # scalars<br/>
        $x = Math::BigRat-&gt;new('inf');                          # infinity<br/>
        $x = Math::BigRat-&gt;new('123.3');                        # float<br/>
        $x = Math::BigRat-&gt;new('1/3');                          # simple string<br/>
        $x = Math::BigRat-&gt;new('1 / 3');                        # spaced<br/>
        $x = Math::BigRat-&gt;new('1 / 0.1');                      # w/ floats<br/>
        $x = Math::BigRat-&gt;new(Math::BigInt-&gt;new(3));           # BigInt<br/>
        $x = Math::BigRat-&gt;new(Math::BigFloat-&gt;new('3.1'));     # BigFloat<br/>
        $x = Math::BigRat-&gt;new(Math::BigInt::Lite-&gt;new('2'));   # BigLite<br/>
<br/>
        # You can also give D and N as different objects:<br/>
        $x = Math::BigRat-&gt;new(<br/>
                Math::BigInt-&gt;new(-123),<br/>
                Math::BigInt-&gt;new(7),<br/>
                );                      # =&gt; -123/7<br/>
</div>
<div class="subsection">
<h2><i>numerator()</i></h2><br/>
        $n = $x-&gt;numerator();<br/>
<div class="spacer">
</div>
Returns a copy of the numerator (the part above the line) as signed BigInt.</div>
<div class="subsection">
<h2><i>denominator()</i></h2><br/>
        $d = $x-&gt;denominator();<br/>
<div class="spacer">
</div>
Returns a copy of the denominator (the part under the line) as positive BigInt.</div>
<div class="subsection">
<h2><i>parts()</i></h2><br/>
        ($n,$d) = $x-&gt;parts();<br/>
<div class="spacer">
</div>
Return a list consisting of (signed) numerator and (unsigned) denominator as BigInts.</div>
<div class="subsection">
<h2><i>numify()</i></h2><br/>
        my $y = $x-&gt;numify();<br/>
<div class="spacer">
</div>
Returns the object as a scalar. This will lose some data if the object cannot be represented by a normal Perl scalar (integer or float), so use  <i>as_int()</i> or <i>as_float()</i> instead.<div class="spacer">
</div>
This routine is automatically used whenever a scalar is required:<div class="spacer">
</div>
<br/>
        my $x = Math::BigRat-&gt;new('3/1');<br/>
        @array = (0,1,2,3);<br/>
        $y = $array[$x];                # set $y to 3<br/>
</div>
<div class="subsection">
<h2><i>as_int()</i>/<i>as_number()</i></h2><br/>
        $x = Math::BigRat-&gt;new('13/7');<br/>
        print $x-&gt;as_int(),&quot;\n&quot;;                # '1'<br/>
<div class="spacer">
</div>
Returns a copy of the object as BigInt, truncated to an integer.<div class="spacer">
</div>
&quot;as_number()&quot; is an alias for &quot;as_int()&quot;.</div>
<div class="subsection">
<h2><i>as_float()</i></h2><br/>
        $x = Math::BigRat-&gt;new('13/7');<br/>
        print $x-&gt;as_float(),&quot;\n&quot;;              # '1'<br/>
<br/>
        $x = Math::BigRat-&gt;new('2/3');<br/>
        print $x-&gt;as_float(5),&quot;\n&quot;;             # '0.66667'<br/>
<div class="spacer">
</div>
Returns a copy of the object as BigFloat, preserving the accuracy as wanted, or the default of 40 digits.<div class="spacer">
</div>
This method was added in v0.22 of Math::BigRat (April 2008).</div>
<div class="subsection">
<h2><i>as_hex()</i></h2><br/>
        $x = Math::BigRat-&gt;new('13');<br/>
        print $x-&gt;as_hex(),&quot;\n&quot;;                # '0xd'<br/>
<div class="spacer">
</div>
Returns the BigRat as hexadecimal string. Works only for integers.</div>
<div class="subsection">
<h2><i>as_bin()</i></h2><br/>
        $x = Math::BigRat-&gt;new('13');<br/>
        print $x-&gt;as_bin(),&quot;\n&quot;;                # '0x1101'<br/>
<div class="spacer">
</div>
Returns the BigRat as binary string. Works only for integers.</div>
<div class="subsection">
<h2><i>as_oct()</i></h2><br/>
        $x = Math::BigRat-&gt;new('13');<br/>
        print $x-&gt;as_oct(),&quot;\n&quot;;                # '015'<br/>
<div class="spacer">
</div>
Returns the BigRat as octal string. Works only for integers.</div>
<div class="subsection">
<h2><i>from_hex()</i>/<i>from_bin()</i>/<i>from_oct()</i></h2><br/>
        my $h = Math::BigRat-&gt;from_hex('0x10');<br/>
        my $b = Math::BigRat-&gt;from_bin('0b10000000');<br/>
        my $o = Math::BigRat-&gt;from_oct('020');<br/>
<div class="spacer">
</div>
Create a BigRat from an hexadecimal, binary or octal number in string form.</div>
<div class="subsection">
<h2><i>length()</i></h2><br/>
        $len = $x-&gt;length();<br/>
<div class="spacer">
</div>
Return the length of $x in digits for integer values.</div>
<div class="subsection">
<h2><i>digit()</i></h2><br/>
        print Math::BigRat-&gt;new('123/1')-&gt;digit(1);     # 1<br/>
        print Math::BigRat-&gt;new('123/1')-&gt;digit(-1);    # 3<br/>
<div class="spacer">
</div>
Return the N'ths digit from X when X is an integer value.</div>
<div class="subsection">
<h2><i>bnorm()</i></h2><br/>
        $x-&gt;bnorm();<br/>
<div class="spacer">
</div>
Reduce the number to the shortest form. This routine is called automatically whenever it is needed.</div>
<div class="subsection">
<h2><i>bfac()</i></h2><br/>
        $x-&gt;bfac();<br/>
<div class="spacer">
</div>
Calculates the factorial of $x. For instance:<div class="spacer">
</div>
<br/>
        print Math::BigRat-&gt;new('3/1')-&gt;bfac(),&quot;\n&quot;;    # 1*2*3<br/>
        print Math::BigRat-&gt;new('5/1')-&gt;bfac(),&quot;\n&quot;;    # 1*2*3*4*5<br/>
<div class="spacer">
</div>
Works currently only for integers.</div>
<div class="subsection">
<h2><i>bround()</i>/<i>round()</i>/<i>bfround()</i></h2> Are not yet implemented.</div>
<div class="subsection">
<h2><i>bmod()</i></h2><br/>
        use Math::BigRat;<br/>
        my $x = Math::BigRat-&gt;new('7/4');<br/>
        my $y = Math::BigRat-&gt;new('4/3');<br/>
        print $x-&gt;bmod($y);<br/>
<div class="spacer">
</div>
Set $x to the remainder of the division of $x by $y.</div>
<div class="subsection">
<h2><i>bneg()</i></h2><br/>
        $x-&gt;bneg();<br/>
<div class="spacer">
</div>
Used to negate the object in-place.</div>
<div class="subsection">
<h2><i>is_one()</i></h2><br/>
        print &quot;$x is 1\n&quot; if $x-&gt;is_one();<br/>
<div class="spacer">
</div>
Return true if $x is exactly one, otherwise false.</div>
<div class="subsection">
<h2><i>is_zero()</i></h2><br/>
        print &quot;$x is 0\n&quot; if $x-&gt;is_zero();<br/>
<div class="spacer">
</div>
Return true if $x is exactly zero, otherwise false.</div>
<div class="subsection">
<h2><i>is_pos()</i>/<i>is_positive()</i></h2><br/>
        print &quot;$x is &gt;= 0\n&quot; if $x-&gt;is_positive();<br/>
<div class="spacer">
</div>
Return true if $x is positive (greater than or equal to zero), otherwise false. Please note that '+inf' is also positive, while 'NaN' and '-inf' aren't.<div class="spacer">
</div>
&quot;is_positive()&quot; is an alias for &quot;is_pos()&quot;.</div>
<div class="subsection">
<h2><i>is_neg()</i>/<i>is_negative()</i></h2><br/>
        print &quot;$x is &lt; 0\n&quot; if $x-&gt;is_negative();<br/>
<div class="spacer">
</div>
Return true if $x is negative (smaller than zero), otherwise false. Please note that '-inf' is also negative, while 'NaN' and '+inf' aren't.<div class="spacer">
</div>
&quot;is_negative()&quot; is an alias for &quot;is_neg()&quot;.</div>
<div class="subsection">
<h2><i>is_int()</i></h2><br/>
        print &quot;$x is an integer\n&quot; if $x-&gt;is_int();<br/>
<div class="spacer">
</div>
Return true if $x has a denominator of 1 (e.g. no fraction parts), otherwise false. Please note that '-inf', 'inf' and 'NaN' aren't integer.</div>
<div class="subsection">
<h2><i>is_odd()</i></h2><br/>
        print &quot;$x is odd\n&quot; if $x-&gt;is_odd();<br/>
<div class="spacer">
</div>
Return true if $x is odd, otherwise false.</div>
<div class="subsection">
<h2><i>is_even()</i></h2><br/>
        print &quot;$x is even\n&quot; if $x-&gt;is_even();<br/>
<div class="spacer">
</div>
Return true if $x is even, otherwise false.</div>
<div class="subsection">
<h2><i>bceil()</i></h2><br/>
        $x-&gt;bceil();<br/>
<div class="spacer">
</div>
Set $x to the next bigger integer value (e.g. truncate the number to integer and then increment it by one).</div>
<div class="subsection">
<h2><i>bfloor()</i></h2><br/>
        $x-&gt;bfloor();<br/>
<div class="spacer">
</div>
Truncate $x to an integer value.</div>
<div class="subsection">
<h2><i>bsqrt()</i></h2><br/>
        $x-&gt;bsqrt();<br/>
<div class="spacer">
</div>
Calculate the square root of $x.</div>
<div class="subsection">
<h2><i>broot()</i></h2><br/>
        $x-&gt;broot($n);<br/>
<div class="spacer">
</div>
Calculate the N'th root of $x.</div>
<div class="subsection">
<h2><i>badd()</i>/<i>bmul()</i>/<i>bsub()</i>/<i>bdiv()</i>/<i>bdec()</i>/<i>binc()</i></h2> Please see the documentation in Math::BigInt.</div>
<div class="subsection">
<h2><i>copy()</i></h2><br/>
        my $z = $x-&gt;copy();<br/>
<div class="spacer">
</div>
Makes a deep copy of the object.<div class="spacer">
</div>
Please see the documentation in Math::BigInt for further details.</div>
<div class="subsection">
<h2><i>bstr()</i>/<i>bsstr()</i></h2><br/>
        my $x = Math::BigInt-&gt;new('8/4');<br/>
        print $x-&gt;bstr(),&quot;\n&quot;;                  # prints 1/2<br/>
        print $x-&gt;bsstr(),&quot;\n&quot;;                 # prints 1/2<br/>
<div class="spacer">
</div>
Return a string representing this object.</div>
<div class="subsection">
<h2><i>bacmp()</i>/<i>bcmp()</i></h2> Used to compare numbers.<div class="spacer">
</div>
Please see the documentation in Math::BigInt for further details.</div>
<div class="subsection">
<h2><i>blsft()</i>/<i>brsft()</i></h2> Used to shift numbers left/right.<div class="spacer">
</div>
Please see the documentation in Math::BigInt for further details.</div>
<div class="subsection">
<h2><i>bpow()</i></h2><br/>
        $x-&gt;bpow($y);<br/>
<div class="spacer">
</div>
Compute $x ** $y.<div class="spacer">
</div>
Please see the documentation in Math::BigInt for further details.</div>
<div class="subsection">
<h2><i>bexp()</i></h2><br/>
        $x-&gt;bexp($accuracy);            # calculate e ** X<br/>
<div class="spacer">
</div>
Calculates two integers A and B so that A/B is equal to &quot;e ** $x&quot;, where &quot;e&quot; is Euler's number.<div class="spacer">
</div>
This method was added in v0.20 of Math::BigRat (May 2007).<div class="spacer">
</div>
See also <i>blog()</i>.</div>
<div class="subsection">
<h2><i>bnok()</i></h2><br/>
        $x-&gt;bnok($y);              # x over y (binomial coefficient n over k)<br/>
<div class="spacer">
</div>
Calculates the binomial coefficient n over k, also called the &quot;choose&quot; function. The result is equivalent to:<div class="spacer">
</div>
<br/>
        ( n )      n!<br/>
        | - |  = -------<br/>
        ( k )    k!(n-k)!<br/>
<div class="spacer">
</div>
This method was added in v0.20 of Math::BigRat (May 2007).</div>
<div class="subsection">
<h2><i>config()</i></h2><br/>
        use Data::Dumper;<br/>
<br/>
        print Dumper ( Math::BigRat-&gt;config() );<br/>
        print Math::BigRat-&gt;config()-&gt;{lib},&quot;\n&quot;;<br/>
<div class="spacer">
</div>
Returns a hash containing the configuration, e.g. the version number, lib loaded etc. The following hash keys are currently filled in with the appropriate information.<div class="spacer">
</div>
<br/>
        key             RO/RW   Description<br/>
                                Example<br/>
        ============================================================<br/>
        lib             RO      Name of the Math library<br/>
                                Math::BigInt::Calc<br/>
        lib_version     RO      Version of 'lib'<br/>
                                0.30<br/>
        class           RO      The class of config you just called<br/>
                                Math::BigRat<br/>
        version         RO      version number of the class you used<br/>
                                0.10<br/>
        upgrade         RW      To which class numbers are upgraded<br/>
                                undef<br/>
        downgrade       RW      To which class numbers are downgraded<br/>
                                undef<br/>
        precision       RW      Global precision<br/>
                                undef<br/>
        accuracy        RW      Global accuracy<br/>
                                undef<br/>
        round_mode      RW      Global round mode<br/>
                                even<br/>
        div_scale       RW      Fallback accuracy for div<br/>
                                40<br/>
        trap_nan        RW      Trap creation of NaN (undef = no)<br/>
                                undef<br/>
        trap_inf        RW      Trap creation of +inf/-inf (undef = no)<br/>
                                undef<br/>
<div class="spacer">
</div>
By passing a reference to a hash you may set the configuration values. This works only for values that a marked with a &quot;RW&quot; above, anything else is read-only.</div>
<div class="subsection">
<h2><i>objectify()</i></h2> This is an internal routine that turns scalars into objects.</div>
</div>
<div class="section">
<h1>BUGS</h1> Some things are not yet implemented, or only implemented half-way:<dl>
<dt>
inf handling (partial)</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
NaN handling (partial)</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
rounding (not implemented except for bceil/bfloor)</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
$x ** $y where $y is not an integer</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<i>bmod()</i>, <i>blog()</i>, <i>bmodinv()</i> and <i>bmodpow()</i> (partial)</dt>
<dd>
</dd>
</dl>
</div>
<div class="section">
<h1>LICENSE</h1> This program is free software; you may redistribute it and/or modify it under the same terms as Perl itself.</div>
<div class="section">
<h1>SEE ALSO</h1> Math::BigFloat and Math::Big as well as Math::BigInt::BitVect, Math::BigInt::Pari and  Math::BigInt::GMP.<div class="spacer">
</div>
See &lt;http://search.cpan.org/search?dist=bignum&gt; for a way to use Math::BigRat.<div class="spacer">
</div>
The package at &lt;http://search.cpan.org/search?dist=Math%3A%3ABigRat&gt; may contain more documentation and examples as well as testcases.</div>
<div class="section">
<h1>AUTHORS</h1> (C) by Tels &lt;http://bloodgate.com/&gt; 2001 - 2009.<div class="spacer">
</div>
Currently maintained by Jonathan &quot;Duke&quot; Leto &lt;jonathan@leto.net&gt; &lt;http://leto.net&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

