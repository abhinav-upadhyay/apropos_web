<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XInitThreads(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XInitThreads(3)</td>
<td class="head-vol">
XLIB FUNCTIONS</td>
<td class="head-rtitle">
XInitThreads(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XInitThreads, XLockDisplay, XUnlockDisplay - multi-threading support</div>
<div class="section">
<h1>SYNTAX</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
Status XInitThreads(void);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
void XLockDisplay(Display *<i>display</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
void XUnlockDisplay(Display *<i>display</i>);</div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>display</i></dt>
<dd>
Specifies the connection to the X server.</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>XInitThreads</i> function initializes Xlib support for concurrent threads. This function must be the first Xlib function a multi-threaded program calls, and it must complete before any other Xlib call is made. This function returns a nonzero status if initialization was successful; otherwise, it returns zero. On systems that do not support threads, this function always returns zero.<div class="spacer">
</div>
It is only necessary to call this function if multiple threads might use Xlib concurrently.  If all calls to Xlib functions are protected by some other access mechanism (for example, a mutual exclusion lock in a toolkit or through explicit client programming), Xlib thread initialization is not required. It is recommended that single-threaded programs not call this function.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The  <i>XLockDisplay</i> function locks out all other threads from using the specified display. Other threads attempting to use the display will block until the display is unlocked by this thread. Nested calls to  <i>XLockDisplay</i> work correctly; the display will not actually be unlocked until  <i>XUnlockDisplay</i> has been called the same number of times as  <i>XLockDisplay</i>. This function has no effect unless Xlib was successfully initialized for threads using  <i>XInitThreads</i>.<div class="spacer">
</div>
The  <i>XUnlockDisplay</i> function allows other threads to use the specified display again. Any threads that have blocked on the display are allowed to continue. Nested locking works correctly; if  <i>XLockDisplay</i> has been called multiple times by a thread, then  <i>XUnlockDisplay</i> must be called an equal number of times before the display is actually unlocked. This function has no effect unless Xlib was successfully initialized for threads using  <i>XInitThreads</i>.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>Xlib - C Language X Interface</i></div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

