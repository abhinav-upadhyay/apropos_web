<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Devel::GlobalDestruction(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Devel::GlobalDestruction(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Devel::GlobalDestruction(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Devel::GlobalDestruction - Expose the flag which marks global destruction.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
        package Foo;<br/>
        use Devel::GlobalDestruction;<br/>
<br/>
        use namespace::clean; # to avoid having an &quot;in_global_destruction&quot; method<br/>
<br/>
        sub DESTROY {<br/>
                return if in_global_destruction;<br/>
<br/>
                do_something_a_little_tricky();<br/>
        }<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Perl's global destruction is a little tricky to deal with WRT finalizers because it's not ordered and objects can sometimes disappear.<div class="spacer">
</div>
Writing defensive destructors is hard and annoying, and usually if global destruction is happenning you only need the destructors that free up non process local resources to actually execute.<div class="spacer">
</div>
For these constructors you can avoid the mess by simply bailing out if global destruction is in effect.</div>
<div class="section">
<h1>EXPORTS</h1> This module uses Sub::Exporter so the exports may be renamed, aliased, etc.<dl>
<dt>
in_global_destruction</dt>
<dd>
Returns true if the interpreter is in global destruction. In perl 5.14+, this returns &quot;${^GLOBAL_PHASE} eq 'DESTRUCT'&quot;, and on earlier perls, it returns the current value of &quot;PL_dirty&quot;.</dd>
</dl>
</div>
<div class="section">
<h1>VERSION CONTROL</h1> This module is maintained using Darcs. You can get the latest version from &lt;http://nothingmuch.woobling.org/code&gt;, and use &quot;darcs send&quot; to commit changes.</div>
<div class="section">
<h1>AUTHORS</h1> Yuval Kogman &lt;nothingmuch@woobling.org&gt;<div class="spacer">
</div>
Florian Ragwitz &lt;rafl@debian.org&gt;<div class="spacer">
</div>
Jesse Luehrs &lt;doy@tozt.net&gt;</div>
<div class="section">
<h1>COPYRIGHT</h1><br/>
        Copyright (c) 2008 Yuval Kogman. All rights reserved<br/>
        This program is free software; you can redistribute<br/>
        it and/or modify it under the same terms as Perl itself.<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-07-03</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

