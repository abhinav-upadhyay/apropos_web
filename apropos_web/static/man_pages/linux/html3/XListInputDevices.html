<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XLISTINPUTDEVICES(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XLISTINPUTDEVICES(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XLISTINPUTDEVICES(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XListInputDevices, XFreeDeviceList - list available input devices</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
XDeviceInfo *XListInputDevices( Display *display,<br/>
                                int *ndevices_return);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
int XFreeDeviceList( XDeviceInfo *list);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
ndevices_return<br/>
       Specifies a pointer to a variable where the number of<br/>
       available devices canbe returned.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
list<br/>
       Specifies the list of devices to free. The<br/>
       XFreeDeviceList functionfrees the list of available<br/>
       extension input devices.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
The XListInputDevices request lists the available input<br/>
devices. This list includes the core keyboard and any physical<br/>
input device currently accessible through the X server, and any<br/>
input devices that are not currently accessible through the X<br/>
server but could be accessed if requested.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
A master pointer is a virtual pointer device that does not<br/>
represent a physical device. It is visually represented through<br/>
a cursor. A master keyboard is a virtual keyboard device that<br/>
does not represent a physical device. It is virtually<br/>
representd through a keyboard focus. A master pointer and a<br/>
master keyboard are always paired (i.e. if shift is pressed on<br/>
the master keyboard, a pointer click would be a shift-click).<br/>
Multiple master pointer/keyboard pairs can exist.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
X servers supporting the X Input Extension version 2,<br/>
XListInputDevices only returns the first master pointer, the<br/>
first master keyboard and all slave devices. Additional master<br/>
devices are not listed.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Physical devices (so-called slave devices) are attached to<br/>
either a master pointer or a master keyboard, depending on<br/>
their capabilities. If a slave device generates an event, the<br/>
event is also generated by the respective master device.<br/>
Multiple slave devices can be attached to a single master<br/>
device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Some server implementations may make all physical input devices<br/>
available at the time the server is initialized. Others may<br/>
wait until requested by a client to access an input device. In<br/>
the latter case, it is possible that an input device will be<br/>
listed as available at one time but not at another.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
For each input device available to the server, the<br/>
XListInputDevices request returns an XDeviceInfo structure.<br/>
That structure contains a pointer to a list of structures, each<br/>
of which contains information about one class of input<br/>
supported by the device. The XDeviceInfo structure is defined<br/>
as follows:<br/>
             typedef struct _XDeviceInfo {<br/>
             XID     id;<br/>
             Atom    type;<br/>
             char    *name;<br/>
             int         num_classes;<br/>
             int         use;<br/>
             XAnyClassPtr inputclassinfo;<br/>
             } XDeviceInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The id is a number in the range 0-128 that uniquely identifies<br/>
the device. It is assigned to the device when it is initialized<br/>
by the server.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The type field is of type Atom and indicates the nature of the<br/>
device. The type will correspond to one of the following strings<br/>
(defined in the header file XI.h):<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XI_MOUSE XI_TABLET XI_KEYBOARD XI_TOUCHSCREEN XI_TOUCHPAD<br/>
XI_BUTTONBOX XI_BARCODE XI_TRACKBALL XI_QUADRATURE XI_ID_MODULE<br/>
XI_ONE_KNOB XI_NINE_KNOB XI_KNOB_BOX XI_SPACEBALL XI_DATAGLOVE<br/>
XI_EYETRACKER XI_CURSORKEYS XI_FOOTMOUSE XI_JOYSTICK<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
These strings may be used in an XInternAtom request to return<br/>
an atom that can be compared with the type field of the<br/>
XDeviceInfo structure.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The name field contains a pointer to a null-terminated string<br/>
that serves as identifier of the device. This identifier may be<br/>
user-configured or automatically assigned by the server.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The num_classes field is a number in the range 0-255 that<br/>
specifies the number of input classes supported by the device<br/>
for which information is returned by ListInputDevices. Some<br/>
input classes, such as class Focus and class Proximity do not<br/>
have any information to be returned by ListInputDevices.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
All devices provide an AttachClass. This class specifies the<br/>
master device a given slave device is attached to. For master<br/>
devices, the class specifies the respective paired master<br/>
device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The use field specifies how the device is currently being used.<br/>
If the value is IsXKeyboard, the device is a master keyboard.<br/>
If the value is IsXPointer, the device is a master pointer. If<br/>
the value is IsXExtensionPointer, the device is a slave<br/>
pointer. If the value is IsXExtensionKeyboard, the device is a<br/>
slave keyboard. If the value is IsXExtensionDevice, the device<br/>
is available for use as an extension device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The inputclassinfo field contains a pointer to the first<br/>
input-class specific data. The first two fields are common to<br/>
all classes.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The class field is a number in the range 0-255. It uniquely<br/>
identifies the class of input for which information is<br/>
returned. Currently defined classes are KeyClass, ButtonClass,<br/>
and ValuatorClass.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The length field is a number in the range 0- 255. It specifies<br/>
the number of bytes of data that are contained in this input<br/>
class. The length includes the class and length fields.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XKeyInfo structure describes the characteristics of the<br/>
keys on the device. It is defined as follows:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct _XKeyInfo {<br/>
XID class;<br/>
int length;<br/>
unsigned short min_keycode;<br/>
unsigned short max_keycode;<br/>
unsigned short num_keys;<br/>
} XKeyInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
min_keycode is of type KEYCODE. It specifies the minimum<br/>
keycode that the device will report. The minimum keycode will<br/>
not be smaller than 8.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
max_keycode is of type KEYCODE. It specifies the maximum<br/>
keycode that the device will report. The maximum keycode will<br/>
not be larger than 255.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
num_keys specifies the number of keys that the device has.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XButtonInfo structure defines the characteristics of the<br/>
buttons on the device. It is defined as follows:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct _XButtonInfo {<br/>
XID class;<br/>
int length;<br/>
short num_buttons;<br/>
} XButtonInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
num_buttons specifies the number of buttons that the device<br/>
has.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XValuatorInfo structure defines the characteristics of the<br/>
valuators on the device. It is defined as follows:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct  _XValuatorInfo {<br/>
XID class;<br/>
int length;<br/>
unsigned char num_axes;<br/>
unsigned char mode;<br/>
unsigned long motion_buffer;<br/>
XAxisInfoPtr axes;<br/>
} XValuatorInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
num_axes contains the number of axes the device supports.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
mode is a constant that has one of the following values:<br/>
Absolute or Relative. Some devices allow the mode to be changed<br/>
dynamically via the SetDeviceMode request.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
motion_buffer_size is a cardinal number that specifies the<br/>
number of elements that can be contained in the motion history<br/>
buffer for the device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The axes field contains a pointer to an XAxisInfo structure.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XAxisInfo structure is defined as follows:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct _XAxisInfo {<br/>
int resolution;<br/>
int min_value;<br/>
int max_value;<br/>
} XAxisInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The resolution contains a number in counts/meter.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The min_val field contains a number that specifies the minimum<br/>
value the device reports for this axis. For devices whose mode<br/>
is Relative, the min_val field will contain 0.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The max_val field contains a number that specifies the maximum<br/>
value the device reports for this axis. For devices whose mode<br/>
is Relative, the max_val field will contain 0.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XAttachInfo structure is defined as follows:<br/>
             typedef struct _XAttachInfo {<br/>
             int     attached;<br/>
             } XAttachInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If the device is a slave device, attached specifies the device<br/>
ID of the master device this device is attached to. If the<br/>
device is not attached to a master device, attached is<br/>
Floating. If the device is a master device, attached specifies<br/>
the device ID of the master device this device is paired with.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
To free the XDeviceInfo array created by XListInputDevices, use<br/>
XFreeDeviceList.<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

