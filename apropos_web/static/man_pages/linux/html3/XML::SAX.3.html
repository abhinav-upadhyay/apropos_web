<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
SAX(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SAX(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
SAX(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XML::SAX - Simple API for XML</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use XML::SAX;<br/>
  <br/>
  # get a list of known parsers<br/>
  my $parsers = XML::SAX-&gt;parsers();<br/>
  <br/>
  # add/update a parser<br/>
  XML::SAX-&gt;add_parser(q(XML::SAX::PurePerl));<br/>
<br/>
  # remove parser<br/>
  XML::SAX-&gt;remove_parser(q(XML::SAX::Foodelberry));<br/>
<br/>
  # save parsers<br/>
  XML::SAX-&gt;save_parsers();<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> XML::SAX is a SAX parser access API for Perl. It includes classes and APIs required for implementing SAX drivers, along with a factory class for returning any SAX parser installed on the user's system.</div>
<div class="section">
<h1>USING A SAX2 PARSER</h1> The factory class is XML::SAX::ParserFactory. Please see the documentation of that module for how to instantiate a SAX parser: XML::SAX::ParserFactory. However if you don't want to load up another manual page, here's a short synopsis:<div class="spacer">
</div>
<br/>
  use XML::SAX::ParserFactory;<br/>
  use XML::SAX::XYZHandler;<br/>
  my $handler = XML::SAX::XYZHandler-&gt;new();<br/>
  my $p = XML::SAX::ParserFactory-&gt;parser(Handler =&gt; $handler);<br/>
  $p-&gt;parse_uri(&quot;foo.xml&quot;);<br/>
  # or $p-&gt;parse_string(&quot;&lt;foo/&gt;&quot;) or $p-&gt;parse_file($fh);<br/>
<div class="spacer">
</div>
This will automatically load a SAX2 parser (defaulting to XML::SAX::PurePerl if no others are found) and return it to you.<div class="spacer">
</div>
In order to learn how to use SAX to parse XML, you will need to read XML::SAX::Intro and for reference, XML::SAX::Specification.</div>
<div class="section">
<h1>WRITING A SAX2 PARSER</h1> The first thing to remember in writing a SAX2 parser is to subclass XML::SAX::Base. This will make your life infinitely easier, by providing a number of methods automagically for you. See XML::SAX::Base for more details.<div class="spacer">
</div>
When writing a SAX2 parser that is compatible with XML::SAX, you need to inform XML::SAX of the presence of that driver when you install it. In order to do that, XML::SAX contains methods for saving the fact that the parser exists on your system to a &quot;INI&quot; file, which is then loaded to determine which parsers are installed.<div class="spacer">
</div>
The best way to do this is to follow these rules:<dl>
<dt>
&#8226;</dt>
<dd>
Add XML::SAX as a prerequisite in Makefile.PL:<div style="height: 1.00em;">
&#160;</div>
<br/>
  WriteMakefile(<br/>
      ...<br/>
      PREREQ_PM =&gt; { 'XML::SAX' =&gt; 0 },<br/>
      ...<br/>
  );<br/>
<div style="height: 1.00em;">
&#160;</div>
Alternatively you may wish to check for it in other ways that will cause more than just a warning.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Add the following code snippet to your Makefile.PL:<div style="height: 1.00em;">
&#160;</div>
<br/>
  sub MY::install {<br/>
    package MY;<br/>
    my $script = shift-&gt;SUPER::install(@_);<br/>
    if (ExtUtils::MakeMaker::prompt(<br/>
      &quot;Do you want to modify ParserDetails.ini?&quot;, 'Y')<br/>
      =~ /^y/i) {<br/>
      $script =~ s/install :: (.*)$/install :: $1 install_sax_driver/m;<br/>
      $script .= &lt;&lt;&quot;INSTALL&quot;;<br/>
  <br/>
  install_sax_driver :<br/>
  \t\@\$(PERL) -MXML::SAX -e &quot;XML::SAX-&gt;add_parser(q(\$(NAME)))-&gt;save_parsers()&quot;<br/>
  <br/>
  INSTALL<br/>
    }<br/>
    return $script;<br/>
  }<br/>
<div style="height: 1.00em;">
&#160;</div>
Note that you should check the output of this - \$(NAME) will use the name of your distribution, which may not be exactly what you want. For example XML::LibXML has a driver called XML::LibXML::SAX::Generator, which is used in place of \$(NAME) in the above.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Add an XML::SAX test:<div style="height: 1.00em;">
&#160;</div>
A test file should be added to your t/ directory containing something like the following:<div style="height: 1.00em;">
&#160;</div>
<br/>
  use Test;<br/>
  BEGIN { plan tests =&gt; 3 }<br/>
  use XML::SAX;<br/>
  use XML::SAX::PurePerl::DebugHandler;<br/>
  XML::SAX-&gt;add_parser(q(XML::SAX::MyDriver));<br/>
  local $XML::SAX::ParserPackage = 'XML::SAX::MyDriver';<br/>
  eval {<br/>
    my $handler = XML::SAX::PurePerl::DebugHandler-&gt;new();<br/>
    ok($handler);<br/>
    my $parser = XML::SAX::ParserFactory-&gt;parser(Handler =&gt; $handler);<br/>
    ok($parser);<br/>
    ok($parser-&gt;isa('XML::SAX::MyDriver');<br/>
    $parser-&gt;parse_string(&quot;&lt;tag/&gt;&quot;);<br/>
    ok($handler-&gt;{seen}{start_element});<br/>
  };<br/>
</dd>
</dl>
</div>
<div class="section">
<h1>EXPORTS</h1> By default, XML::SAX exports nothing into the caller's namespace. However you can request the symbols &quot;Namespaces&quot; and &quot;Validation&quot; which are the URIs for those features, allowing an easier way to request those features via ParserFactory:<div class="spacer">
</div>
<br/>
  use XML::SAX qw(Namespaces Validation);<br/>
  my $factory = XML::SAX::ParserFactory-&gt;new();<br/>
  $factory-&gt;require_feature(Namespaces);<br/>
  $factory-&gt;require_feature(Validation);<br/>
  my $parser = $factory-&gt;parser();<br/>
</div>
<div class="section">
<h1>AUTHOR</h1> Current maintainer: Grant McLean, grantm@cpan.org<div class="spacer">
</div>
Originally written by:<div class="spacer">
</div>
Matt Sergeant, matt@sergeant.org<div class="spacer">
</div>
Kip Hampton, khampton@totalcinema.com<div class="spacer">
</div>
Robin Berjon, robin@knowscape.com</div>
<div class="section">
<h1>LICENSE</h1> This is free software, you may use it and distribute it under the same terms as Perl itself.</div>
<div class="section">
<h1>SEE ALSO</h1> XML::SAX::Base for writing SAX Filters and Parsers<div class="spacer">
</div>
XML::SAX::PurePerl for an XML parser written in 100% pure perl.<div class="spacer">
</div>
XML::SAX::Exception for details on exception handling</div>
<table class="foot">
<tr>
<td class="foot-date">
2014-07-29</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

