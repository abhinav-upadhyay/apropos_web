<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Config::Model::DumpAsData(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Config::Model::DumpAsData(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Config::Model::DumpAsData(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Config::Model::DumpAsData - Dump configuration content as a perl data structure</div>
<div class="section">
<h1>VERSION</h1> version 2.005</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 use Config::Model ;<br/>
 use Log::Log4perl qw(:easy) ;<br/>
 use Data::Dumper ;<br/>
<br/>
 Log::Log4perl-&gt;easy_init($WARN);<br/>
<br/>
 # define configuration tree object<br/>
 my $model = Config::Model-&gt;new ;<br/>
 $model -&gt;create_config_class (<br/>
    name =&gt; &quot;MyClass&quot;,<br/>
    element =&gt; [ <br/>
        [qw/foo bar/] =&gt; { <br/>
            type =&gt; 'leaf',<br/>
            value_type =&gt; 'string'<br/>
        },<br/>
        baz =&gt; { <br/>
            type =&gt; 'hash',<br/>
            index_type =&gt; 'string' ,<br/>
            cargo =&gt; {<br/>
                type =&gt; 'leaf',<br/>
                value_type =&gt; 'string',<br/>
            },<br/>
        },<br/>
        <br/>
    ],<br/>
 ) ;<br/>
<br/>
 my $inst = $model-&gt;instance(root_class_name =&gt; 'MyClass' );<br/>
<br/>
 my $root = $inst-&gt;config_root ;<br/>
<br/>
 # put some data in config tree the hard way<br/>
 $root-&gt;fetch_element('foo')-&gt;store('yada') ;<br/>
 $root-&gt;fetch_element('bar')-&gt;store('bla bla') ;<br/>
 $root-&gt;fetch_element('baz')-&gt;fetch_with_id('en')-&gt;store('hello') ;<br/>
<br/>
 # put more data the easy way<br/>
 my $step = 'baz:fr=bonjour baz:hr=&quot;dobar dan&quot;';<br/>
 $root-&gt;load( step =&gt; $step ) ;<br/>
<br/>
 print Dumper($root-&gt;dump_as_data);<br/>
 # $VAR1 = {<br/>
 #         'bar' =&gt; 'bla bla',<br/>
 #         'baz' =&gt; {<br/>
 #                    'en' =&gt; 'hello',<br/>
 #                    'fr' =&gt; 'bonjour',<br/>
 #                    'hr' =&gt; 'dobar dan'<br/>
 #                  },<br/>
 #         'foo' =&gt; 'yada'<br/>
 #       };<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module is used directly by Config::Model::Node to dump the content of a configuration tree in perl data structure.<div class="spacer">
</div>
The perl data structure is a hash of hash. Only CheckList content will be stored in an array ref.<div class="spacer">
</div>
Note that undefined values are skipped for list element. I.e. if a list element contains &quot;('a',undef,'b')&quot;, the data structure will contain 'a','b'.</div>
<div class="section">
<h1>CONSTRUCTOR</h1><div class="subsection">
<h2>new ( )</h2> No parameter. The constructor should be used only by Config::Model::Node.</div>
</div>
<div class="section">
<h1>Methods</h1><div class="subsection">
<h2>dump_as_data(...)</h2> Return a perl data structure<div class="spacer">
</div>
Parameters are:<dl>
<dt>
node</dt>
<dd>
Reference to a Config::Model::Node object. Mandatory</dd>
</dl>
<dl>
<dt>
full_dump</dt>
<dd>
Also dump default values in the data structure. Useful if the dumped configuration data will be used by the application. (default is yes)</dd>
</dl>
<dl>
<dt>
skip_auto_write</dt>
<dd>
Skip node that have a &quot;perl write&quot; capability in their model. See Config::Model::AutoRead.</dd>
</dl>
<dl>
<dt>
auto_vivify</dt>
<dd>
Scan and create data for nodes elements even if no actual data was stored in them. This may be useful to trap missing mandatory values.</dd>
</dl>
<dl>
<dt>
ordered_hash_as_list</dt>
<dd>
By default, ordered hash (i.e. the order of the keys are important) are dumped as Perl list. This is the faster way to dump such hashed while keeping the key order. But it's the less readable way.<div style="height: 1.00em;">
&#160;</div>
When this parameter is 1 (default), the ordered hash is dumped as a list:<div style="height: 1.00em;">
&#160;</div>
<br/>
  [ A =&gt; 'foo', B =&gt; 'bar', C =&gt; 'baz' ]<br/>
<div style="height: 1.00em;">
&#160;</div>
When this parameter is set as 0, the ordered hash is dumped with a special key that specifies the order of keys. E.g.:<div style="height: 1.00em;">
&#160;</div>
<br/>
  { __order =&gt; [ 'A', 'B', 'C' ] ,<br/>
    B =&gt; 'bar', A =&gt; 'foo', C =&gt; 'baz' <br/>
  }<br/>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>Methods</h1><div class="subsection">
<h2>dump_annotations_as_pod(...)</h2> Return a string formatted in pod (See perlpod) with the annotations.<div class="spacer">
</div>
Parameters are:<dl>
<dt>
node</dt>
<dd>
Reference to a Config::Model::Node object. Mandatory</dd>
</dl>
<dl>
<dt>
experience</dt>
<dd>
master, advanced or beginner</dd>
</dl>
<dl>
<dt>
check_list</dt>
<dd>
Yes, no or skip</dd>
</dl>
</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Dominique Dumont, (ddumont at cpan dot org)</div>
<div class="section">
<h1>SEE ALSO</h1> Config::Model,Config::Model::Node,Config::Model::ObjTreeScanner</div>
<table class="foot">
<tr>
<td class="foot-date">
2012-02-24</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

