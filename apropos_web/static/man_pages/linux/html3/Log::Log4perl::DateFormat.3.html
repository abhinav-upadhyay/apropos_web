<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
DateFormat(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
DateFormat(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
DateFormat(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Log::Log4perl::DateFormat - Log4perl advanced date formatter helper class</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    use Log::Log4perl::DateFormat;<br/>
<br/>
    my $format = Log::Log4perl::DateFormat-&gt;new(&quot;HH:mm:ss,SSS&quot;);<br/>
<br/>
    # Simple time, resolution in seconds<br/>
    my $time = time();<br/>
    print $format-&gt;format($time), &quot;\n&quot;;<br/>
        # =&gt; &quot;17:02:39,000&quot;<br/>
<br/>
    # Advanced time, resultion in milliseconds<br/>
    use Time::HiRes;<br/>
    my ($secs, $msecs) = Time::HiRes::gettimeofday();<br/>
    print $format-&gt;format($secs, $msecs), &quot;\n&quot;;<br/>
        # =&gt; &quot;17:02:39,959&quot;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> &quot;Log::Log4perl::DateFormat&quot; is a low-level helper class for the advanced date formatting functions in &quot;Log::Log4perl::Layout::PatternLayout&quot;.<div class="spacer">
</div>
Unless you're writing your own Layout class like Log::Log4perl::Layout::PatternLayout, there's probably not much use for you to read this.<div class="spacer">
</div>
&quot;Log::Log4perl::DateFormat&quot; is a formatter which allows dates to be formatted according to the log4j spec on<div class="spacer">
</div>
<br/>
    http://java.sun.com/j2se/1.5.0/docs/api/java/text/SimpleDateFormat.html<br/>
<div class="spacer">
</div>
which allows the following placeholders to be recognized and processed:<div class="spacer">
</div>
<br/>
    Symbol Meaning              Presentation    Example<br/>
    ------ -------              ------------    -------<br/>
    G      era designator       (Text)          AD<br/>
    y      year                 (Number)        1996<br/>
    M      month in year        (Text &amp; Number) July &amp; 07<br/>
    d      day in month         (Number)        10<br/>
    h      hour in am/pm (1~12) (Number)        12<br/>
    H      hour in day (0~23)   (Number)        0<br/>
    m      minute in hour       (Number)        30<br/>
    s      second in minute     (Number)        55<br/>
    S      millisecond          (Number)        978<br/>
    E      day in week          (Text)          Tuesday<br/>
    D      day in year          (Number)        189<br/>
    F      day of week in month (Number)        2 (2nd Wed in July)<br/>
    w      week in year         (Number)        27<br/>
    W      week in month        (Number)        2<br/>
    a      am/pm marker         (Text)          PM<br/>
    k      hour in day (1~24)   (Number)        24<br/>
    K      hour in am/pm (0~11) (Number)        0<br/>
    z      time zone            (Text)          Pacific Standard Time<br/>
    Z      RFC 822 time zone    (Text)          -0800<br/>
    '      escape for text      (Delimiter)<br/>
    ''     single quote         (Literal)       '<br/>
<div class="spacer">
</div>
For example, if you want to format the current Unix time in &quot;MM/dd HH:mm&quot; format, all you have to do is this:<div class="spacer">
</div>
<br/>
    use Log::Log4perl::DateFormat;<br/>
<br/>
    my $format = Log::Log4perl::DateFormat-&gt;new(&quot;MM/dd HH:mm&quot;);<br/>
<br/>
    my $time = time();<br/>
    print $format-&gt;format($time), &quot;\n&quot;;<br/>
<div class="spacer">
</div>
While the &quot;new()&quot; method is expensive, because it parses the format strings and sets up all kinds of structures behind the scenes, followup calls to &quot;format()&quot; are fast, because &quot;DateFormat&quot; will just call &quot;localtime()&quot; and &quot;sprintf()&quot; once to return the formatted date/time string.<div class="spacer">
</div>
So, typically, you would initialize the formatter once and then reuse it over and over again to display all kinds of time values.<div class="spacer">
</div>
Also, for your convenience, the following predefined formats are available, just as outlined in the log4j spec:<div class="spacer">
</div>
<br/>
    Format   Equivalent                     Example<br/>
    ABSOLUTE &quot;HH:mm:ss,SSS&quot;                 &quot;15:49:37,459&quot;<br/>
    DATE     &quot;dd MMM yyyy HH:mm:ss,SSS&quot;     &quot;06 Nov 1994 15:49:37,459&quot;<br/>
    ISO8601  &quot;yyyy-MM-dd HH:mm:ss,SSS&quot;      &quot;1999-11-27 15:49:37,459&quot;<br/>
    APACHE   &quot;[EEE MMM dd HH:mm:ss yyyy]&quot;   &quot;[Wed Mar 16 15:49:37 2005]&quot;<br/>
<div class="spacer">
</div>
So, instead of passing<div class="spacer">
</div>
<br/>
    Log::Log4perl::DateFormat-&gt;new(&quot;HH:mm:ss,SSS&quot;);<br/>
<div class="spacer">
</div>
you could just as well say<div class="spacer">
</div>
<br/>
    Log::Log4perl::DateFormat-&gt;new(&quot;ABSOLUTE&quot;);<br/>
<div class="spacer">
</div>
and get the same result later on.<div class="subsection">
<h2>Known Shortcomings</h2> The following placeholders are currently  <i>not</i> recognized, unless someone (and that could be you :) implements them:<div class="spacer">
</div>
<br/>
    F day of week in month<br/>
    w week in year <br/>
    W week in month<br/>
    k hour in day <br/>
    K hour in am/pm<br/>
    z timezone (but we got 'Z' for the numeric time zone value)<br/>
<div class="spacer">
</div>
Also, &quot;Log::Log4perl::DateFormat&quot; just knows about English week and month names, internationalization support has to be added.</div>
</div>
<div class="section">
<h1>COPYRIGHT AND LICENSE</h1> Copyright 2002-2009 by Mike Schilli &lt;m@perlmeister.com&gt; and Kevin Goess &lt;cpan@goess.org&gt;.<div class="spacer">
</div>
This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-06-17</td>
<td class="foot-os">
perl v5.10.1</td>
</tr>
</table>
</div>
</body>
</html>

