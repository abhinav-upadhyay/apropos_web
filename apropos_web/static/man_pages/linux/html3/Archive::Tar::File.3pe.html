<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Archive::Tar::File(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Archive::Tar::File(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
Archive::Tar::File(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Archive::Tar::File - a subclass for in-memory extracted file from Archive::Tar</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    my @items = $tar-&gt;get_files;<br/>
<br/>
    print $_-&gt;name, ' ', $_-&gt;size, &quot;\n&quot; for @items;<br/>
<br/>
    print $object-&gt;get_content;<br/>
    $object-&gt;replace_content('new content');<br/>
<br/>
    $object-&gt;rename( 'new/full/path/to/file.c' );<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Archive::Tar::Files provides a neat little object layer for in-memory extracted files. It's mostly used internally in Archive::Tar to tidy up the code, but there's no reason users shouldn't use this API as well.<div class="subsection">
<h2>Accessors</h2> A lot of the methods in this package are accessors to the various fields in the tar header:<dl>
<dt>
name</dt>
<dd>
The file's name</dd>
</dl>
<dl>
<dt>
mode</dt>
<dd>
The file's mode</dd>
</dl>
<dl>
<dt>
uid</dt>
<dd>
The user id owning the file</dd>
</dl>
<dl>
<dt>
gid</dt>
<dd>
The group id owning the file</dd>
</dl>
<dl>
<dt>
size</dt>
<dd>
File size in bytes</dd>
</dl>
<dl>
<dt>
mtime</dt>
<dd>
Modification time. Adjusted to mac-time on MacOS if required</dd>
</dl>
<dl>
<dt>
chksum</dt>
<dd>
Checksum field for the tar header</dd>
</dl>
<dl>
<dt>
type</dt>
<dd>
File type -- numeric, but comparable to exported constants -- see Archive::Tar's documentation</dd>
</dl>
<dl>
<dt>
linkname</dt>
<dd>
If the file is a symlink, the file it's pointing to</dd>
</dl>
<dl>
<dt>
magic</dt>
<dd>
Tar magic string -- not useful for most users</dd>
</dl>
<dl>
<dt>
version</dt>
<dd>
Tar version string -- not useful for most users</dd>
</dl>
<dl>
<dt>
uname</dt>
<dd>
The user name that owns the file</dd>
</dl>
<dl>
<dt>
gname</dt>
<dd>
The group name that owns the file</dd>
</dl>
<dl>
<dt>
devmajor</dt>
<dd>
Device major number in case of a special file</dd>
</dl>
<dl>
<dt>
devminor</dt>
<dd>
Device minor number in case of a special file</dd>
</dl>
<dl>
<dt>
prefix</dt>
<dd>
Any directory to prefix to the extraction path, if any</dd>
</dl>
<dl>
<dt>
raw</dt>
<dd>
Raw tar header -- not useful for most users</dd>
</dl>
</div>
</div>
<div class="section">
<h1>Methods</h1><div class="subsection">
<h2>Archive::Tar::File-&gt;new( file =&gt; $path )</h2> Returns a new Archive::Tar::File object from an existing file.<div class="spacer">
</div>
Returns undef on failure.</div>
<div class="subsection">
<h2>Archive::Tar::File-&gt;new( data =&gt; $path, $data, $opt )</h2> Returns a new Archive::Tar::File object from data.<div class="spacer">
</div>
$path defines the file name (which need not exist), $data the file contents, and $opt is a reference to a hash of attributes which may be used to override the default attributes (fields in the tar header), which are described above in the Accessors section.<div class="spacer">
</div>
Returns undef on failure.</div>
<div class="subsection">
<h2>Archive::Tar::File-&gt;new( chunk =&gt; $chunk )</h2> Returns a new Archive::Tar::File object from a raw 512-byte tar archive chunk.<div class="spacer">
</div>
Returns undef on failure.</div>
<div class="subsection">
<h2>$bool = $file-&gt;extract( [ $alternative_name ] )</h2> Extract this object, optionally to an alternative name.<div class="spacer">
</div>
See &quot;Archive::Tar-&gt;extract_file&quot; for details.<div class="spacer">
</div>
Returns true on success and false on failure.</div>
<div class="subsection">
<h2>$path = $file-&gt;full_path</h2> Returns the full path from the tar header; this is basically a concatenation of the &quot;prefix&quot; and &quot;name&quot; fields.</div>
<div class="subsection">
<h2>$bool = $file-&gt;validate</h2> Done by Archive::Tar internally when reading the tar file: validate the header against the checksum to ensure integer tar file.<div class="spacer">
</div>
Returns true on success, false on failure</div>
<div class="subsection">
<h2>$bool = $file-&gt;has_content</h2> Returns a boolean to indicate whether the current object has content. Some special files like directories and so on never will have any content. This method is mainly to make sure you don't get warnings for using uninitialized values when looking at an object's content.</div>
<div class="subsection">
<h2>$content = $file-&gt;get_content</h2> Returns the current content for the in-memory file</div>
<div class="subsection">
<h2>$cref = $file-&gt;get_content_by_ref</h2> Returns the current content for the in-memory file as a scalar reference. Normal users won't need this, but it will save memory if you are dealing with very large data files in your tar archive, since it will pass the contents by reference, rather than make a copy of it first.</div>
<div class="subsection">
<h2>$bool = $file-&gt;replace_content( $content )</h2> Replace the current content of the file with the new content. This only affects the in-memory archive, not the on-disk version until you write it.<div class="spacer">
</div>
Returns true on success, false on failure.</div>
<div class="subsection">
<h2>$bool = $file-&gt;rename( $new_name )</h2> Rename the current file to $new_name.<div class="spacer">
</div>
Note that you must specify a Unix path for $new_name, since per tar standard, all files in the archive must be Unix paths.<div class="spacer">
</div>
Returns true on success and false on failure.</div>
</div>
<div class="section">
<h1>Convenience methods</h1> To quickly check the type of a &quot;Archive::Tar::File&quot; object, you can use the following methods:<dl>
<dt>
$file-&gt;is_file</dt>
<dd>
Returns true if the file is of type &quot;file&quot;</dd>
</dl>
<dl>
<dt>
$file-&gt;is_dir</dt>
<dd>
Returns true if the file is of type &quot;dir&quot;</dd>
</dl>
<dl>
<dt>
$file-&gt;is_hardlink</dt>
<dd>
Returns true if the file is of type &quot;hardlink&quot;</dd>
</dl>
<dl>
<dt>
$file-&gt;is_symlink</dt>
<dd>
Returns true if the file is of type &quot;symlink&quot;</dd>
</dl>
<dl>
<dt>
$file-&gt;is_chardev</dt>
<dd>
Returns true if the file is of type &quot;chardev&quot;</dd>
</dl>
<dl>
<dt>
$file-&gt;is_blockdev</dt>
<dd>
Returns true if the file is of type &quot;blockdev&quot;</dd>
</dl>
<dl>
<dt>
$file-&gt;is_fifo</dt>
<dd>
Returns true if the file is of type &quot;fifo&quot;</dd>
</dl>
<dl>
<dt>
$file-&gt;is_socket</dt>
<dd>
Returns true if the file is of type &quot;socket&quot;</dd>
</dl>
<dl>
<dt>
$file-&gt;is_longlink</dt>
<dd>
Returns true if the file is of type &quot;LongLink&quot;. Should not happen after a successful &quot;read&quot;.</dd>
</dl>
<dl>
<dt>
$file-&gt;is_label</dt>
<dd>
Returns true if the file is of type &quot;Label&quot;. Should not happen after a successful &quot;read&quot;.</dd>
</dl>
<dl>
<dt>
$file-&gt;is_unknown</dt>
<dd>
Returns true if the file type is &quot;unknown&quot;</dd>
</dl>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

