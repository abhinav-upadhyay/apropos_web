<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Glib::Error(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Glib::Error(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Glib::Error(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Glib::Error -  Exception Objects based on GError</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  eval {<br/>
     my $pixbuf = Gtk2::Gdk::Pixbuf-&gt;new_from_file ($filename);<br/>
     $image-&gt;set_from_pixbuf ($pixbuf);<br/>
  };<br/>
  if ($@) {<br/>
     print &quot;$@\n&quot;;<br/>
     if (Glib::Error::matches ($@, 'Gtk2::Gdk::Pixbuf::Error',<br/>
                                   'unknown-format')) {<br/>
        change_format_and_try_again ();<br/>
     } elsif (Glib::Error::matches ($@, 'Glib::File::Error', 'noent')) {<br/>
        change_source_dir_and_try_again ();<br/>
     } else {<br/>
        # don't know how to handle this<br/>
        die $@;<br/>
     }<br/>
  }<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Gtk2-Perl translates GLib's GError runtime errors into Perl exceptions, by creating exception objects based on Glib::Error.  Glib::Error overloads the stringification operator, so a Glib::Error object will act like a string if used with  <i>print()</i> or <i>warn()</i>, so most code using $@ will not even know the difference.<div class="spacer">
</div>
The point of having exception objects, however, is that the error messages in GErrors are often localized with NLS translation.  Thus, it's not good for your code to attempt to handle errors by string matching on the the error message.  Glib::Error provides a way to get to the deterministic error code.<div class="spacer">
</div>
You will typically deal with objects that inherit from Glib::Error, such as Glib::Convert::Error, Glib::File::Error, Gtk2::Gdk::Pixbuf::Error, etc; these classes are provided by the libraries that define the error domains.  However, it is possible to get a base Glib::Error when the bindings encounter an unknown or unbound error domain.  The interface used here degrades nicely in such a situation, but in general you should submit a bug report to the binding maintainer if you get such an exception.</div>
<div class="section">
<h1>METHODS</h1><div class="subsection">
<h2>scalar = Glib::Error::new ($class, $code, $message)</h2></div>
<div class="subsection">
<h2>scalar = $class-&gt;<b>new</b> ($code, $message)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$code (Glib::Enum) an enumeration value, depends on <i></i><i>$class</i><i></i></dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$message (string)</dd>
</dl>
<div class="spacer">
</div>
Create a new exception object of type <i></i><i>$class</i><i></i>, where <i></i><i>$class</i><i></i> is associated with a GError domain.   <i></i><i>$code</i><i></i> should be a value from the enumeration type associated with this error domain.   <i></i><i>$message</i><i></i> can be anything you like, but should explain what happened from the point of view of a user.</div>
<div class="subsection">
<h2>integer = $error-&gt;<b>code</b></h2> This is the numeric error code.  Normally, you'll want to use &quot;value&quot; instead, for readability.</div>
<div class="subsection">
<h2>string = $error-&gt;<b>domain</b></h2> The error domain.  You normally do not need this, as the object will be blessed into a corresponding class.</div>
<div class="subsection">
<h2>string = $error-&gt;<b>location</b></h2> The source line and file closest to the emission of the exception, in the same format that you'd get from  <i>croak()</i> or <i>die()</i>.<div class="spacer">
</div>
If there's non-ascii characters in the filename Perl leaves them as raw bytes, so you may have to put the string through Glib::filename_display_name for a wide-char form.</div>
<div class="subsection">
<h2>boolean = $error-&gt;<b>matches</b> ($domain, $code)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$domain (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$code (scalar)</dd>
</dl>
<div class="spacer">
</div>
Returns true if the exception in <i></i><i>$error</i><i></i> matches the given <i></i><i>$domain</i><i></i> and  <i></i><i>$code</i><i></i>.  <i></i><i>$domain</i><i></i> may be a class name or domain quark (that is, the real string used in C).   <i></i><i>$code</i><i></i> may be an integer value or an enum nickname; the enum type depends on the value of  <i></i><i>$domain</i><i></i>.</div>
<div class="subsection">
<h2>string = $error-&gt;<b>message</b></h2> The error message.  This may be localized, as it is intended to be shown to a user.</div>
<div class="subsection">
<h2>Glib::Error::register ($package, $enum_package)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$package (string) class name to register as a Glib::Error.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$enum_package (string) class name of the enum type to use for this domain's error codes.</dd>
</dl>
<div class="spacer">
</div>
Register a new error domain.  Glib::Error will be added @<i>package</i>::ISA for you.   <i>enum_package</i> must be a valid Glib::Enum type, either from a C library or registered with &quot;Glib::Type::register_enum&quot;.  After registering an error domain, you can create or throw exceptions of this type.</div>
<div class="subsection">
<h2>scalar = Glib::Error::throw ($class, $code, $message)</h2></div>
<div class="subsection">
<h2>scalar = $class-&gt;<b>throw</b> ($code, $message)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$code (Glib::Enum) an enumeration value, depends on <i></i><i>$class</i><i></i></dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$message (string)</dd>
</dl>
<div class="spacer">
</div>
Throw an exception with a Glib::Error exception object. Equivalent to &quot;croak (Glib::Error::new ($class, $code, $message));&quot;.</div>
<div class="subsection">
<h2>string = $error-&gt;<b>value</b></h2> The enumeration value nickname of the integer value in &quot;$error-&gt;code&quot;, according to this error domain.  This will not be available if the error object is a base Glib::Error, because the bindings will have no idea how to get to the correct nickname.</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> Glib</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright (C) 2003-2011 by the gtk2-perl team.<div class="spacer">
</div>
This software is licensed under the LGPL.  See Glib for a full notice.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-12-05</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

