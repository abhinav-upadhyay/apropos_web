<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Net::POP3(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Net::POP3(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
Net::POP3(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Net::POP3 - Post Office Protocol 3 Client class (RFC1939)</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    use Net::POP3;<br/>
<br/>
    # Constructors<br/>
    $pop = Net::POP3-&gt;new('pop3host');<br/>
    $pop = Net::POP3-&gt;new('pop3host', Timeout =&gt; 60);<br/>
<br/>
    if ($pop-&gt;login($username, $password) &gt; 0) {<br/>
      my $msgnums = $pop-&gt;list; # hashref of msgnum =&gt; size<br/>
      foreach my $msgnum (keys %$msgnums) {<br/>
        my $msg = $pop-&gt;get($msgnum);<br/>
        print @$msg;<br/>
        $pop-&gt;delete($msgnum);<br/>
      }<br/>
    }<br/>
<br/>
    $pop-&gt;quit;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module implements a client interface to the POP3 protocol, enabling a perl5 application to talk to POP3 servers. This documentation assumes that you are familiar with the POP3 protocol described in RFC1939.<div class="spacer">
</div>
A new Net::POP3 object must be created with the <i>new</i> method. Once this has been done, all POP3 commands are accessed via method calls on the object.</div>
<div class="section">
<h1>CONSTRUCTOR</h1><dl>
<dt>
new ( [ HOST ] [, OPTIONS ] 0</dt>
<dd>
This is the constructor for a new Net::POP3 object. &quot;HOST&quot; is the name of the remote host to which an POP3 connection is required.<div style="height: 1.00em;">
&#160;</div>
&quot;HOST&quot; is optional. If &quot;HOST&quot; is not given then it may instead be passed as the &quot;Host&quot; option described below. If neither is given then the &quot;POP3_Hosts&quot; specified in &quot;Net::Config&quot; will be used.<div style="height: 1.00em;">
&#160;</div>
&quot;OPTIONS&quot; are passed in a hash like fashion, using key and value pairs. Possible options are:<div style="height: 1.00em;">
&#160;</div>
<b>Host</b> - POP3 host to connect to. It may be a single scalar, as defined for the &quot;PeerAddr&quot; option in IO::Socket::INET, or a reference to an array with hosts to try in turn. The &quot;host&quot; method will return the value which was used to connect to the host.<div style="height: 1.00em;">
&#160;</div>
<b>ResvPort</b> - If given then the socket for the &quot;Net::POP3&quot; object will be bound to the local port given using &quot;bind&quot; when the socket is created.<div style="height: 1.00em;">
&#160;</div>
<b>Timeout</b> - Maximum time, in seconds, to wait for a response from the POP3 server (default: 120)<div style="height: 1.00em;">
&#160;</div>
<b>Debug</b> - Enable debugging information</dd>
</dl>
</div>
<div class="section">
<h1>METHODS</h1> Unless otherwise stated all methods return either a  <i>true</i> or <i>false</i> value, with  <i>true</i> meaning that the operation was a success. When a method states that it returns a value, failure will be returned as  <i>undef</i> or an empty list.<dl>
<dt>
auth ( USERNAME, PASSWORD )</dt>
<dd>
Attempt SASL authentication.</dd>
</dl>
<dl>
<dt>
user ( USER )</dt>
<dd>
Send the USER command.</dd>
</dl>
<dl>
<dt>
pass ( PASS )</dt>
<dd>
Send the PASS command. Returns the number of messages in the mailbox.</dd>
</dl>
<dl>
<dt>
login ( [ USER [, PASS ]] )</dt>
<dd>
Send both the USER and PASS commands. If &quot;PASS&quot; is not given the &quot;Net::POP3&quot; uses &quot;Net::Netrc&quot; to lookup the password using the host and username. If the username is not specified then the current user name will be used.<div style="height: 1.00em;">
&#160;</div>
Returns the number of messages in the mailbox. However if there are no messages on the server the string &quot;0E0&quot; will be returned. This is will give a true value in a boolean context, but zero in a numeric context.<div style="height: 1.00em;">
&#160;</div>
If there was an error authenticating the user then <i>undef</i> will be returned.</dd>
</dl>
<dl>
<dt>
apop ( [ USER [, PASS ]] )</dt>
<dd>
Authenticate with the server identifying as &quot;USER&quot; with password &quot;PASS&quot;. Similar to &quot;login&quot;, but the password is not sent in clear text.<div style="height: 1.00em;">
&#160;</div>
To use this method you must have the Digest::MD5 or the MD5 module installed, otherwise this method will return  <i>undef</i>.</dd>
</dl>
<dl>
<dt>
banner ()</dt>
<dd>
Return the sever's connection banner</dd>
</dl>
<dl>
<dt>
capa ()</dt>
<dd>
Return a reference to a hash of the capabilities of the server.  APOP is added as a pseudo capability.  Note that I've been unable to find a list of the standard capability values, and some appear to be multi-word and some are not.  We make an attempt at intelligently parsing them, but it may not be correct.</dd>
</dl>
<dl>
<dt>
capabilities ()</dt>
<dd>
Just like capa, but only uses a cache from the last time we asked the server, so as to avoid asking more than once.</dd>
</dl>
<dl>
<dt>
top ( MSGNUM [, NUMLINES ] )</dt>
<dd>
Get the header and the first &quot;NUMLINES&quot; of the body for the message &quot;MSGNUM&quot;. Returns a reference to an array which contains the lines of text read from the server.</dd>
</dl>
<dl>
<dt>
list ( [ MSGNUM ] )</dt>
<dd>
If called with an argument the &quot;list&quot; returns the size of the message in octets.<div style="height: 1.00em;">
&#160;</div>
If called without arguments a reference to a hash is returned. The keys will be the &quot;MSGNUM&quot;'s of all undeleted messages and the values will be their size in octets.</dd>
</dl>
<dl>
<dt>
get ( MSGNUM [, FH ] )</dt>
<dd>
Get the message &quot;MSGNUM&quot; from the remote mailbox. If &quot;FH&quot; is not given then get returns a reference to an array which contains the lines of text read from the server. If &quot;FH&quot; is given then the lines returned from the server are printed to the filehandle &quot;FH&quot;.</dd>
</dl>
<dl>
<dt>
getfh ( MSGNUM )</dt>
<dd>
As per <i>get()</i>, but returns a tied filehandle.  Reading from this filehandle returns the requested message.  The filehandle will return EOF at the end of the message and should not be reused.</dd>
</dl>
<dl>
<dt>
last ()</dt>
<dd>
Returns the highest &quot;MSGNUM&quot; of all the messages accessed.</dd>
</dl>
<dl>
<dt>
popstat ()</dt>
<dd>
Returns a list of two elements. These are the number of undeleted elements and the size of the mbox in octets.</dd>
</dl>
<dl>
<dt>
ping ( USER )</dt>
<dd>
Returns a list of two elements. These are the number of new messages and the total number of messages for &quot;USER&quot;.</dd>
</dl>
<dl>
<dt>
uidl ( [ MSGNUM ] )</dt>
<dd>
Returns a unique identifier for &quot;MSGNUM&quot; if given. If &quot;MSGNUM&quot; is not given &quot;uidl&quot; returns a reference to a hash where the keys are the message numbers and the values are the unique identifiers.</dd>
</dl>
<dl>
<dt>
delete ( MSGNUM )</dt>
<dd>
Mark message &quot;MSGNUM&quot; to be deleted from the remote mailbox. All messages that are marked to be deleted will be removed from the remote mailbox when the server connection closed.</dd>
</dl>
<dl>
<dt>
reset ()</dt>
<dd>
Reset the status of the remote POP3 server. This includes resetting the status of all messages to not be deleted.</dd>
</dl>
<dl>
<dt>
quit ()</dt>
<dd>
Quit and close the connection to the remote POP3 server. Any messages marked as deleted will be deleted from the remote mailbox.</dd>
</dl>
</div>
<div class="section">
<h1>NOTES</h1> If a &quot;Net::POP3&quot; object goes out of scope before &quot;quit&quot; method is called then the &quot;reset&quot; method will called before the connection is closed. This means that any messages marked to be deleted will not be.</div>
<div class="section">
<h1>SEE ALSO</h1> Net::Netrc, Net::Cmd</div>
<div class="section">
<h1>AUTHOR</h1> Graham Barr &lt;gbarr@pobox.com&gt;</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright (c) 1995-2003 Graham Barr. All rights reserved. This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-12-30</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

