<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Dpkg::Version(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Dpkg::Version(3)</td>
<td class="head-vol">
libdpkg-perl</td>
<td class="head-rtitle">
Dpkg::Version(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Dpkg::Version - handling and comparing dpkg-style version numbers</div>
<div class="section">
<h1>DESCRIPTION</h1> The Dpkg::Version module provides pure-Perl routines to compare dpkg-style version numbers (as used in Debian packages) and also an object oriented interface overriding perl operators to do the right thing when you compare Dpkg::Version object between them.</div>
<div class="section">
<h1>OBJECT INTERFACE</h1><dl>
<dt>
my $v = Dpkg::Version-&gt;new($version, %opts)</dt>
<dd>
Create a new Dpkg::Version object corresponding to the version indicated in the string (scalar) $version. By default it will accepts any string and consider it as a valid version. If you pass the option &quot;check =&gt; 1&quot;, it will return undef if the version is invalid (see version_check for details).<div style="height: 1.00em;">
&#160;</div>
You can always call $v-&gt;<i>is_valid()</i> later on to verify that the version is valid.</dd>
</dl>
<dl>
<dt>
boolean evaluation</dt>
<dd>
When the Dpkg::Version object is used in a boolean evaluation (for example in &quot;if ($v)&quot; or &quot;$v || 'default'&quot;) it returns its string representation if the version stored is valid ($v-&gt; <i>is_valid()</i>) and undef otherwise.</dd>
</dl>
<dl>
<dt>
$v-&gt;<i>is_valid()</i></dt>
<dd>
Returns true if the version is valid, false otherwise.</dd>
</dl>
<dl>
<dt>
$v-&gt;<i>epoch()</i>, $v-&gt;<i>version()</i>, $v-&gt;<i>revision()</i></dt>
<dd>
Returns the corresponding part of the full version string.</dd>
</dl>
<dl>
<dt>
$v1 &lt;=&gt; $v2, $v1 &lt; $v2, $v1 &lt;= $v2, $v1 &gt; $v2, $v1 &gt;= $v2</dt>
<dd>
Numerical comparison of various versions numbers. One of the two operands needs to be a Dpkg::Version, the other one can be anything provided that its string representation is a version number.</dd>
</dl>
<dl>
<dt>
&quot;$v&quot;, $v-&gt;<i>as_string()</i></dt>
<dd>
Returns the string representation of the version number.</dd>
</dl>
</div>
<div class="section">
<h1>FUNCTIONS</h1> All the functions are exported by default.<dl>
<dt>
version_compare($a, $b)</dt>
<dd>
Returns -1 if $a is earlier than $b, 0 if they are equal and 1 if $a is later than $b.<div style="height: 1.00em;">
&#160;</div>
If $a or $b are not valid version numbers, it dies with an error.</dd>
</dl>
<dl>
<dt>
version_compare_relation($a, $rel, $b)</dt>
<dd>
Returns the result (0 or 1) of the given comparison operation. This function is implemented on top of  <i>version_compare()</i>.<div style="height: 1.00em;">
&#160;</div>
Allowed values for $rel are the exported constants REL_GT, REL_GE, REL_EQ, REL_LE, REL_LT. Use  <i>version_normalize_relation()</i> if you have an input string containing the operator.</dd>
</dl>
<dl>
<dt>
my $rel = version_normalize_relation($rel_string)</dt>
<dd>
Returns the normalized constant of the relation $rel (a value among REL_GT, REL_GE, REL_EQ, REL_LE and REL_LT). Supported relations names in input are: &quot;gt&quot;, &quot;ge&quot;, &quot;eq&quot;, &quot;le&quot;, &quot;lt&quot;, &quot;&gt;&gt;&quot;, &quot;&gt;=&quot;, &quot;=&quot;, &quot;&lt;=&quot;, &quot;&lt;&lt;&quot;. &quot;&gt;&quot; and &quot;&lt;&quot; are also supported but should not be used as they are obsolete aliases of &quot;&gt;=&quot; and &quot;&lt;=&quot;.</dd>
</dl>
<dl>
<dt>
version_compare_string($a, $b)</dt>
<dd>
String comparison function used for comparing non-numerical parts of version numbers. Returns -1 if $a is earlier than $b, 0 if they are equal and 1 if $a is later than $b.<div style="height: 1.00em;">
&#160;</div>
The &quot;~&quot; character always sort lower than anything else. Digits sort lower than non-digits. Among remaining characters alphabetic characters (A-Za-z) sort lower than the other ones. Within each range, the ASCII decimal value of the character is used to sort between characters.</dd>
</dl>
<dl>
<dt>
version_compare_part($a, $b)</dt>
<dd>
Compare two corresponding sub-parts of a version number (either upstream version or debian revision).<div style="height: 1.00em;">
&#160;</div>
Each parameter is split by <i>version_split_digits()</i> and resulting items are compared together.in digits and non-digits items that are compared together. As soon as a difference happens, it returns -1 if $a is earlier than $b, 0 if they are equal and 1 if $a is later than $b.</dd>
</dl>
<dl>
<dt>
my @items = version_split_digits($version)</dt>
<dd>
Splits a string in items that are each entirely composed either of digits or of non-digits. For instance for &quot;1.024~beta1+svn234&quot; it would return (&quot;1&quot;, &quot;.&quot;, &quot;024&quot;, &quot;~beta&quot;, &quot;1&quot;, &quot;+svn&quot;, &quot;234&quot;).</dd>
</dl>
<dl>
<dt>
my ($ok, $msg) = version_check($version)</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
my $ok = version_check($version)</dt>
<dd>
Checks the validity of $version as a version number. Returns 1 in $ok if the version is valid, 0 otherwise. In the latter case, $msg contains a description of the problem with the $version scalar.</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> Don Armstrong &lt;don@donarmstrong.com&gt;, Colin Watson &lt;cjwatson@debian.org&gt; and Rapha&#235;l Hertzog &lt;hertzog@debian.org&gt;, based on the implementation in &quot;dpkg/lib/vercmp.c&quot; by Ian Jackson and others.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-10-14</td>
<td class="foot-os">
1.16.1.2</td>
</tr>
</table>
</div>
</body>
</html>

