<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Algorithm::DiffOld(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Algorithm::DiffOld(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Algorithm::DiffOld(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Algorithm::DiffOld - Compute `intelligent' differences between two files / lists but use the old (&lt;=0.59) interface.</div>
<div class="section">
<h1>NOTE</h1> This has been provided as part of the Algorithm::Diff package by Ned Konz. This particular module is  <b>ONLY</b> for people who <b>HAVE</b> to have the old interface, which uses a comparison function rather than a key generating function.<div class="spacer">
</div>
Because each of the lines in one array have to be compared with each of the lines in the other array, this does M*N comparisions. This can be very slow. I clocked it at taking 18 times as long as the stock version of Algorithm::Diff for a 4000-line file. It will get worse quadratically as array sizes increase.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use Algorithm::DiffOld qw(diff LCS traverse_sequences);<br/>
<br/>
  @lcs    = LCS( \@seq1, \@seq2, $comparison_function );<br/>
<br/>
  $lcsref = LCS( \@seq1, \@seq2, $comparison_function );<br/>
<br/>
  @diffs = diff( \@seq1, \@seq2, $comparison_function );<br/>
  <br/>
  traverse_sequences( \@seq1, \@seq2,<br/>
                     { MATCH =&gt; $callback,<br/>
                       DISCARD_A =&gt; $callback,<br/>
                       DISCARD_B =&gt; $callback,<br/>
                     },<br/>
                     $comparison_function );<br/>
</div>
<div class="section">
<h1>COMPARISON FUNCTIONS</h1> Each of the main routines should be passed a comparison function. If you aren't passing one in,  <b>use Algorithm::Diff instead</b>.<div class="spacer">
</div>
These functions should return a true value when two items should compare as equal.<div class="spacer">
</div>
For instance,<div class="spacer">
</div>
<br/>
  @lcs    = LCS( \@seq1, \@seq2, sub { my ($a, $b) = @_; $a eq $b } );<br/>
<div class="spacer">
</div>
but if that is all you're doing with your comparison function, just use Algorithm::Diff and let it do this (this is its default).<div class="spacer">
</div>
Or:<div class="spacer">
</div>
<br/>
  sub someFunkyComparisonFunction<br/>
  {<br/>
        my ($a, $b) = @_;<br/>
        $a =~ m{$b};<br/>
  }<br/>
<br/>
  @diffs = diff( \@lines, \@patterns, \&amp;someFunkyComparisonFunction );<br/>
<div class="spacer">
</div>
which would allow you to diff an array @lines which consists of text lines with an array @patterns which consists of regular expressions.<div class="spacer">
</div>
This is actually the reason I wrote this version -- there is no way to do this with a key generation function as in the stock Algorithm::Diff.</div>
<table class="foot">
<tr>
<td class="foot-date">
2006-07-31</td>
<td class="foot-os">
perl v5.10.1</td>
</tr>
</table>
</div>
</body>
</html>

