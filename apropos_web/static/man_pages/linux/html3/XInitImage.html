<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XCreateImage(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XCreateImage(3)</td>
<td class="head-vol">
XLIB FUNCTIONS</td>
<td class="head-rtitle">
XCreateImage(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XInitImage, XCreateImage, XGetPixel, XPutPixel, XSubImage, XAddPixel, XDestroyImage - image utilities</div>
<div class="section">
<h1>SYNTAX</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
Status XInitImage(XImage *<i>image</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
XImage *XCreateImage(Display *<i>display</i>, Visual *<i>visual</i>, unsigned int  <i>depth</i>, int <i>format</i>, int <i>offset</i>, char * <i>data</i>, unsigned int <i>width</i>, unsigned int <i>height</i>, int  <i>bitmap_pad</i>, int <i>bytes_per_line</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
unsigned long XGetPixel(XImage *<i>ximage</i>, int <i>x</i>, int  <i>y</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
int XPutPixel(XImage *<i>ximage</i>, int <i>x</i>, int <i>y</i>, unsigned long  <i>pixel</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
XImage *XSubImage(XImage *<i>ximage</i>, int <i>x</i>, int <i>y</i>, unsigned int  <i>subimage_width</i>, unsigned int <i>subimage_height</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
int XAddPixel(XImage *<i>ximage</i>, long <i>value</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
int XDestroyImage(XImage *<i>ximage</i>);</div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>bitmap_pad</i></dt>
<dd>
Specifies the quantum of a scanline (8, 16, or 32). In other words, the start of one scanline is separated in client memory from the start of the next scanline by an integer multiple of this many bits.</dd>
</dl>
<dl>
<dt>
<i>bytes_per_line</i></dt>
<dd>
Specifies the number of bytes in the client image between the start of one scanline and the start of the next.</dd>
</dl>
<dl>
<dt>
<i>data</i></dt>
<dd>
Specifies the image data.</dd>
</dl>
<dl>
<dt>
<i>depth</i></dt>
<dd>
Specifies the depth of the image.</dd>
</dl>
<dl>
<dt>
<i>display</i></dt>
<dd>
Specifies the connection to the X server.</dd>
</dl>
<dl>
<dt>
<i>format</i></dt>
<dd>
Specifies the format for the image. You can pass  <i>XYBitmap</i>,  <i>XYPixmap</i>, or  <i>ZPixmap</i>.</dd>
</dl>
<dl>
<dt>
<i>height</i></dt>
<dd>
Specifies the height of the image, in pixels.</dd>
</dl>
<dl>
<dt>
<i>offset</i></dt>
<dd>
Specifies the number of pixels to ignore at the beginning of the scanline.</dd>
</dl>
<dl>
<dt>
<i>pixel</i></dt>
<dd>
Specifies the new pixel value.</dd>
</dl>
<dl>
<dt>
<i>subimage_height</i></dt>
<dd>
Specifies the height of the new subimage, in pixels.</dd>
</dl>
<dl>
<dt>
<i>subimage_width</i></dt>
<dd>
Specifies the width of the new subimage, in pixels.</dd>
</dl>
<dl>
<dt>
<i>value</i></dt>
<dd>
Specifies the constant value that is to be added.</dd>
</dl>
<dl>
<dt>
<i>visual</i></dt>
<dd>
Specifies the  <i>Visual</i> structure.</dd>
</dl>
<dl>
<dt>
<i>width</i></dt>
<dd>
Specifies the width of the image, in pixels.</dd>
</dl>
<dl>
<dt>
<i>ximage</i></dt>
<dd>
Specifies the image.</dd>
</dl>
<dl>
<dt>
<i>x</i></dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
<i>y</i></dt>
<dd>
Specify the x and y coordinates.</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>XInitImage</i> function initializes the internal image manipulation routines of an image structure, based on the values of the various structure members. All fields other than the manipulation routines must already be initialized. If the bytes_per_line member is zero,  <i>XInitImage</i> will assume the image data is contiguous in memory and set the bytes_per_line member to an appropriate value based on the other members; otherwise, the value of bytes_per_line is not changed. All of the manipulation routines are initialized to functions that other Xlib image manipulation functions need to operate on the type of image specified by the rest of the structure.<div class="spacer">
</div>
This function must be called for any image constructed by the client before passing it to any other Xlib function. Image structures created or returned by Xlib do not need to be initialized in this fashion.<div class="spacer">
</div>
This function returns a nonzero status if initialization of the structure is successful.  It returns zero if it detected some error or inconsistency in the structure, in which case the image is not changed.<div class="spacer">
</div>
The  <i>XCreateImage</i> function allocates the memory needed for an  <i>XImage</i> structure for the specified display but does not allocate space for the image itself. Rather, it initializes the structure byte-order, bit-order, and bitmap-unit values from the display and returns a pointer to the  <i>XImage</i> structure. The red, green, and blue mask values are defined for Z format images only and are derived from the  <i>Visual</i> structure passed in. Other values also are passed in. The offset permits the rapid displaying of the image without requiring each scanline to be shifted into position. If you pass a zero value in bytes_per_line, Xlib assumes that the scanlines are contiguous in memory and calculates the value of bytes_per_line itself.<div class="spacer">
</div>
Note that when the image is created using  <i>XCreateImage</i>,  <i>XGetImage</i>, or  <i>XSubImage</i>, the destroy procedure that the  <i>XDestroyImage</i> function calls frees both the image structure and the data pointed to by the image structure.<div class="spacer">
</div>
The basic functions used to get a pixel, set a pixel, create a subimage, and add a constant value to an image are defined in the image object. The functions in this section are really macro invocations of the functions in the image object and are defined in &lt; <i>X11/Xutil.h</i>&gt;.<div class="spacer">
</div>
The  <i>XGetPixel</i> function returns the specified pixel from the named image. The pixel value is returned in normalized format (that is, the least significant byte of the long is the least significant byte of the pixel). The image must contain the x and y coordinates.<div class="spacer">
</div>
The  <i>XPutPixel</i> function overwrites the pixel in the named image with the specified pixel value. The input pixel value must be in normalized format (that is, the least significant byte of the long is the least significant byte of the pixel). The image must contain the x and y coordinates.<div class="spacer">
</div>
The  <i>XSubImage</i> function creates a new image that is a subsection of an existing one. It allocates the memory necessary for the new  <i>XImage</i> structure and returns a pointer to the new image. The data is copied from the source image, and the image must contain the rectangle defined by x, y, subimage_width, and subimage_height.<div class="spacer">
</div>
The  <i>XAddPixel</i> function adds a constant value to every pixel in an image. It is useful when you have a base pixel value from allocating color resources and need to manipulate the image to that form.<div class="spacer">
</div>
The  <i>XDestroyImage</i> function deallocates the memory associated with the  <i>XImage</i> structure.</div>
<div class="section">
<h1>SEE ALSO</h1> XPutImage(3)<div style="height: 0.00em;">
&#160;</div>
<i>Xlib - C Language X Interface</i></div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

