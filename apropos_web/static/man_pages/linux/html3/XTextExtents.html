<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XTextExtents(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XTextExtents(3)</td>
<td class="head-vol">
XLIB FUNCTIONS</td>
<td class="head-rtitle">
XTextExtents(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XTextExtents, XTextExtents16, XQueryTextExtents, XQueryTextExtents16 - compute or query text extents</div>
<div class="section">
<h1>SYNTAX</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
int XTextExtents(XFontStruct *<i>font_struct</i>, char *<i>string</i>, int  <i>nchars</i>, int *<i>direction_return</i>, int * <i>font_ascent_return</i>, int *<i>font_descent_return</i>, XCharStruct * <i>overall_return</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
int XTextExtents16(XFontStruct *<i>font_struct</i>, XChar2b * <i>string</i>, int <i>nchars</i>, int *<i>direction_return</i>, int * <i>font_ascent_return</i>, int *<i>font_descent_return</i>, XCharStruct * <i>overall_return</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
int XQueryTextExtents(Display *<i>display</i>, XID <i>font_ID</i>, char * <i>string</i>, int <i>nchars</i>, int *<i>direction_return</i>, int * <i>font_ascent_return</i>, int *<i>font_descent_return</i>, XCharStruct * <i>overall_return</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
int XQueryTextExtents16(Display *<i>display</i>, XID <i>font_ID</i>, XChar2b * <i>string</i>, int <i>nchars</i>, int *<i>direction_return</i>, int * <i>font_ascent_return</i>, int *<i>font_descent_return</i>, XCharStruct * <i>overall_return</i>);</div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>direction_return</i></dt>
<dd>
Returns the value of the direction hint ( <i>FontLeftToRight</i> or  <i>FontRightToLeft</i>).</dd>
</dl>
<dl>
<dt>
<i>display</i></dt>
<dd>
Specifies the connection to the X server.</dd>
</dl>
<dl>
<dt>
<i>font_ID</i></dt>
<dd>
Specifies either the font ID or the  <i>GContext</i> ID that contains the font.</dd>
</dl>
<dl>
<dt>
<i>font_ascent_return</i></dt>
<dd>
Returns the font ascent.</dd>
</dl>
<dl>
<dt>
<i>font_descent_return</i></dt>
<dd>
Returns the font descent.</dd>
</dl>
<dl>
<dt>
<i>font_struct</i></dt>
<dd>
Specifies the  <i>XFontStruct</i> structure.</dd>
</dl>
<dl>
<dt>
<i>nchars</i></dt>
<dd>
Specifies the number of characters in the character string.</dd>
</dl>
<dl>
<dt>
<i>string</i></dt>
<dd>
Specifies the character string.</dd>
</dl>
<dl>
<dt>
<i>overall_return</i></dt>
<dd>
Returns the overall size in the specified  <i>XCharStruct</i> structure.</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>XTextExtents</i> and  <i>XTextExtents16</i> functions perform the size computation locally and, thereby, avoid the round-trip overhead of  <i>XQueryTextExtents</i> and  <i>XQueryTextExtents16</i>. Both functions return an  <i>XCharStruct</i> structure, whose members are set to the values as follows.<div class="spacer">
</div>
The ascent member is set to the maximum of the ascent metrics of all characters in the string. The descent member is set to the maximum of the descent metrics. The width member is set to the sum of the character-width metrics of all characters in the string. For each character in the string, let W be the sum of the character-width metrics of all characters preceding it in the string. Let L be the left-side-bearing metric of the character plus W. Let R be the right-side-bearing metric of the character plus W. The lbearing member is set to the minimum L of all characters in the string. The rbearing member is set to the maximum R.<div class="spacer">
</div>
For fonts defined with linear indexing rather than 2-byte matrix indexing, each  <i>XChar2b</i> structure is interpreted as a 16-bit number with byte1 as the most significant byte. If the font has no defined default character, undefined characters in the string are taken to have all zero metrics.<div class="spacer">
</div>
The  <i>XQueryTextExtents</i> and  <i>XQueryTextExtents16</i> functions return the bounding box of the specified 8-bit and 16-bit character string in the specified font or the font contained in the specified GC. These functions query the X server and, therefore, suffer the round-trip overhead that is avoided by  <i>XTextExtents</i> and  <i>XTextExtents16</i>. Both functions return a  <i>XCharStruct</i> structure, whose members are set to the values as follows.<div class="spacer">
</div>
The ascent member is set to the maximum of the ascent metrics of all characters in the string. The descent member is set to the maximum of the descent metrics. The width member is set to the sum of the character-width metrics of all characters in the string. For each character in the string, let W be the sum of the character-width metrics of all characters preceding it in the string. Let L be the left-side-bearing metric of the character plus W. Let R be the right-side-bearing metric of the character plus W. The lbearing member is set to the minimum L of all characters in the string. The rbearing member is set to the maximum R.<div class="spacer">
</div>
For fonts defined with linear indexing rather than 2-byte matrix indexing, each  <i>XChar2b</i> structure is interpreted as a 16-bit number with byte1 as the most significant byte. If the font has no defined default character, undefined characters in the string are taken to have all zero metrics.<div class="spacer">
</div>
Characters with all zero metrics are ignored. If the font has no defined default_char, the undefined characters in the string are also ignored.<div class="spacer">
</div>
<i>XQueryTextExtents</i> and  <i>XQueryTextExtents16</i> can generate  <i>BadFont</i> and  <i>BadGC</i> errors.</div>
<div class="section">
<h1>DIAGNOSTICS</h1><dl>
<dt>
<i>BadFont</i></dt>
<dd>
A value for a Font or GContext argument does not name a defined Font.</dd>
</dl>
<dl>
<dt>
<i>BadGC</i></dt>
<dd>
A value for a GContext argument does not name a defined GContext.</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> XLoadFont(3), XTextWidth(3)<div style="height: 0.00em;">
&#160;</div>
<i>Xlib - C Language X Interface</i></div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

