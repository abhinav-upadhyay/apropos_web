<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
option(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
option(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
option(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> option - Using the option database in Perl/Tk</div>
<div class="section">
<h1>SYNOPSIS</h1> &#160;&#160;&#160;&#160; <i></i><i>$widget</i><i></i>-&gt;<b>widgetClass</b>(<b>Name</b>=&gt;<i>name</i>, <b>-class</b>=&gt;<i>class</i>);<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$widget</i><i></i>-&gt;<b>PathName</b>;<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$widget</i><i></i>-&gt;<b>optionAdd</b>(<i>pattern</i>=&gt;<i>value </i> ?,<i>priority</i>?);<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$widget</i><i></i>-&gt;<b>optionClear</b>;<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$widget</i><i></i>-&gt;<b>optionGet</b>(<i>name, class</i>);<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$widget</i><i></i>-&gt;<b>optionReadfile</b>(<i>fileName</i> ?,<i>priority</i>?);</div>
<div class="section">
<h1>DESCRIPTION</h1> The option database (also known as the  <i>resource database</i> or the  <i>application defaults database</i>) is a set of rules for applying default options to widgets.  Users and system administrators can set up these rules to customize the appearance of applications without changing any application code; for example, a user might set up personal foreground and background colors, or a site might use fonts associated with visual or language preferences. Different window managers (and implementations of them) have implemented the database differently, but most Xt-based window managers use the  <i>.Xdefaults</i> file or the <i>xrdb</i> utility to manage user preferences; some use both, and/or implement a more complex set of site, user and application databases.  Check your site documentation for these topics or your window manager's  <b>RESOURCE_MANAGER</b> property.<div class="subsection">
<h2>Being a good citizen</h2> For most applications, the option database &quot;just works.&quot;  The  <b>option...</b> methods are for applications that need to do something unusual, such as add new rules or test an option's default.  Even in such cases, the application should provide for user preferences. Do not hardcode widget options without a  <b>very</b> good reason. All users have their own tastes and they are all different. They choose a special font in a special size and have often spend a lot of time working out a color scheme that they will love until death. When you respect their choices they will enjoy working with your applications much more.  Don't destroy the common look and feel of a personal desktop.</div>
<div class="subsection">
<h2>Option rules and widget identification</h2> All widgets in an application are identified hierarchically by  <i>pathname</i>, starting from the  <b>MainWindow</b> and passing through each widget used to create the endpoint.  The path elements are  <i>widget names</i>, much like the elements of a file path from the root directory to a file.  The rules in the option database are patterns that are matched against a widget's  <i>pathname</i> to determine which defaults apply. When a widget is created, the  <b>Name</b> option can be used to assign the widget's name and thus create a distinctive path for widgets in an application.  If the  <b>Name</b> option isn't given, Perl/Tk assigns a default name based on the type of widget; a  <b>MainWindow</b>'s default name is the <b>appname</b>.  These defaults are fine for most widgets, so don't feel you need to find a meaningful name for every widget you create. A widget must have a distinctive name to allow users to tailor its options independently of other widgets in an application.  For instance, to create a  <b>Text</b> widget that will have special options assigned to it, give it a name such as:<div class="spacer">
</div>
<br/>
  $text = $mw-&gt;Text(Name =&gt; 'importantText');<br/>
<div class="spacer">
</div>
You can then tailor the widget's attributes with a rule in the option database such as:<div class="spacer">
</div>
<br/>
  *importantText*foreground: red<br/>
<div class="spacer">
</div>
The <i>class</i> attribute identifies groups of widgets, usually within an application but also to group similar widgets among different applications. One typically assigns a class to a  <b>TopLevel</b> or <b>Frame</b> so that the class will apply to all of that widget's children.  To extend the example, we could be more specific about the importantText widget by giving its frame a class:<div class="spacer">
</div>
<br/>
  $frame = $mw-&gt;Frame(-class =&gt; 'Urgent');<br/>
  $text = $frame-&gt;Text(Name =&gt; 'importantText');<br/>
<div class="spacer">
</div>
Then the resource pattern can be specified as so:<div class="spacer">
</div>
<br/>
  *Urgent*importantText*foreground: red<br/>
<div class="spacer">
</div>
Similarly, the pattern &quot;*Urgent*background: cyan&quot; would apply to all widgets in the frame.</div>
</div>
<div class="section">
<h1>METHODS</h1><dl>
<dt>
<i></i><i>$widget</i><i></i>-&gt;<b>widgetClass</b>(<b>Name</b>=&gt;<i>name</i>, <b>-class</b>=&gt;<i>class</i>);</dt>
<dd>
Identify a new widget with <i>name</i> and/or <i>class</i>.  <b>Name</b> specifies the path element for the widget; names generally begin with a lowercase letter.   <b>-class</b> specifies the class for the widget and its children; classes generally begin with an uppercase letter. If not specified, Perl/Tk will assign a unique default name to each widget. Only  <b>MainWindow</b> widgets have a default class, made by uppercasing the first letter of the application name.</dd>
</dl>
<dl>
<dt>
<i></i><i>$widget</i><i></i>-&gt;<b>PathName</b>;</dt>
<dd>
The <b>PathName</b> method returns the widget's <i>pathname</i>, which uniquely identifies the widget within the application.</dd>
</dl>
<dl>
<dt>
<i></i><i>$widget</i><i></i>-&gt;<b>optionAdd</b>(<i>pattern</i>=&gt;<i>value </i>?, <i>priority</i>?);</dt>
<dd>
The <b>optionAdd</b> method adds a new option to the database.  <i>Pattern</i> contains the option being specified, and consists of names and/or classes separated by asterisks or dots, in the usual X format.   <i>Value</i> contains a text string to associate with  <i>pattern</i>; this is the value that will be returned in calls to the  <b>optionGet</b> method.  If <i>priority</i> is specified, it indicates the priority level for this option (see below for legal values); it defaults to  <b>interactive</b>. This method always returns an empty string.</dd>
</dl>
<dl>
<dt>
<i></i><i>$widget</i><i></i>-&gt;<b>optionClear</b>;</dt>
<dd>
The <b>optionClear</b> method clears the option database.  Default options (from the  <b>RESOURCE_MANAGER</b> property or the <b>.Xdefaults</b> file) will be reloaded automatically the next time an option is added to the database or removed from it.  This method always returns an empty string.</dd>
</dl>
<dl>
<dt>
<i></i><i>$widget</i><i></i>-&gt;<b>optionGet</b>(<i>name,class</i>);</dt>
<dd>
The <b>optionGet</b> method returns the value of the option specified for  <i></i><i>$widget</i><i></i> under <i>name</i> and <i>class</i>.  To look up the option,  <b>optionGet</b> matches the patterns in the resource database against  <i></i><i>$widget</i><i></i>'s <i>pathname</i> along with the class of <i></i><i>$widget</i><i></i> (or its parent if  <i></i><i>$widget</i><i></i> has no class specified).  The widget's class and name are options set when the widget is created (not related to class in the sense of bless); the  <b>MainWindow</b>'s name is the  <b>appname</b> and its class is (by default) derived from the name of the script.<div style="height: 1.00em;">
&#160;</div>
If several entries in the option database match <i></i><i>$widget</i><i></i>'s <i>pathname</i>,  <i>name</i>, and <i>class</i>, then the method returns whichever was created with highest  <i>priority</i> level.  If there are several matching entries at the same priority level, then it returns whichever entry was  <i>most recently entered</i> into the option database.  If there are no matching entries, then the empty string is returned.</dd>
</dl>
<dl>
<dt>
<i></i><i>$widget</i><i></i>-&gt;<b>optionReadfile</b>(<i>fileName</i>?,<i>priority</i>?);</dt>
<dd>
The <b>optionReadfile</b> method reads <i>fileName</i>, which should have the standard format for an X resource database such as  <b>.Xdefaults</b>, and adds all the options specified in that file to the option database. If  <i>priority</i> is specified, it indicates the priority level at which to enter the options;   <i>priority</i> defaults to <b>interactive</b>.<div style="height: 1.00em;">
&#160;</div>
The <i>priority</i> arguments to the <b>option</b> methods are normally specified symbolically using one of the following values:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
<b>widgetDefault</b></dt>
<dd>
Level 20.  Used for default values hard-coded into widgets.</dd>
</dl>
<dl>
<dt>
<b>startupFile</b></dt>
<dd>
Level 40.  Used for options specified in application-specific startup files.</dd>
</dl>
<dl>
<dt>
<b>userDefault</b></dt>
<dd>
Level 60.  Used for options specified in user-specific defaults files, such as  <b>.Xdefaults</b>, resource databases loaded into the X server, or user-specific startup files.</dd>
</dl>
<dl>
<dt>
<b>interactive</b></dt>
<dd>
Level 80.  Used for options specified interactively after the application starts running.  If  <i>priority</i> isn't specified, it defaults to this level.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
Any of the above keywords may be abbreviated.  In addition, priorities may be specified numerically using integers between 0 and 100, inclusive.  The numeric form is probably a bad idea except for new priority levels other than the ones given above.</div>
</div>
<div class="section">
<h1>BUGS</h1> The priority scheme used by core Tk is not the same as used by normal Xlib routines. In particular is assumes that the order of the entries is defined, but user commands like  <b>xrdb -merge</b> can change the order.</div>
<div class="section">
<h1>SEE ALSO</h1> Tk::Xrm</div>
<div class="section">
<h1>KEYWORDS</h1> database, option, priority, retrieve</div>
<table class="foot">
<tr>
<td class="foot-date">
2007-02-10</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

