<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
AptPkg::Cache(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
AptPkg::Cache(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
AptPkg::Cache(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> AptPkg::Cache - APT package cache interface</div>
<div class="section">
<h1>SYNOPSIS</h1> use AptPkg::Cache;</div>
<div class="section">
<h1>DESCRIPTION</h1> The AptPkg::Cache module provides an interface to  <b>APT</b>'s package cache.<div class="subsection">
<h2>AptPkg::Cache</h2> The AptPkg::Cache package implements the  <b>APT</b> pkgCacheFile class as a hash reference (inherits from AptPkg::hash).  The hash keys are the names of packages in the cache, and the values are AptPkg::Cache::Package objects (which in turn appear as hash references, see below).<div class="spacer">
</div>
<i>Constructor</i><dl>
<dt>
new([<i>LOCK</i>])</dt>
<dd>
Instantiation of the object uses configuration from the $AptPkg::Config::_config and $AptPkg::System::_system objects (automatically initialised if not done explicitly).<div style="height: 1.00em;">
&#160;</div>
The cache initialisation can be quite verbose--controlled by the value of $_config-&gt;{quiet}, which is set to &quot;2&quot; (quiet) if the $_config object is auto-initialised.<div style="height: 1.00em;">
&#160;</div>
The cache directory is locked if LOCK is true.<div style="height: 1.00em;">
&#160;</div>
It is important to note that the structure of the returned object contains self-referential elements, so some care must be taken if attempting to traverse it recursively.</dd>
</dl>
<div class="spacer">
</div>
<i>Methods</i><dl>
<dt>
files</dt>
<dd>
Return a list of AptPkg::Cache::PkgFile objects describing the package files.</dd>
</dl>
<dl>
<dt>
packages</dt>
<dd>
Return an AptPkg::PkgRecords object which may be used to retrieve additional information about packages.</dd>
</dl>
<dl>
<dt>
get, exists, keys</dt>
<dd>
These methods are used to implement the hashref abstraction: $obj-&gt;get($pack) and $obj-&gt;{$pack} are equivalent.</dd>
</dl>
</div>
<div class="subsection">
<h2>AptPkg::Cache::Package</h2> Implements the  <b>APT</b> pkgCache::PkgIterator class as a hash reference.<div class="spacer">
</div>
<i>Keys</i><dl>
<dt>
Name</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Section</dt>
<dd>
Package name and section.</dd>
</dl>
<dl>
<dt>
SelectedState</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
InstState</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
CurrentState</dt>
<dd>
Package state from the status file.<div style="height: 1.00em;">
&#160;</div>
SelectedState may be &quot;Unknown&quot;, &quot;Install&quot;, &quot;Hold&quot;, &quot;DeInstall&quot; or &quot;Purge&quot;.<div style="height: 1.00em;">
&#160;</div>
InstState may be &quot;Ok&quot;, &quot;ReInstReq&quot;, &quot;HoldInst&quot; or &quot;HoldReInstReq&quot;.<div style="height: 1.00em;">
&#160;</div>
CurrentState may be &quot;NotInstalled&quot;, &quot;UnPacked&quot;, &quot;HalfConfigured&quot;, &quot;HalfInstalled&quot;, &quot;ConfigFiles&quot; or &quot;Installed&quot;.<div style="height: 1.00em;">
&#160;</div>
In a numeric context, SelectedState, InstState and CurrentState evaluate to an AptPkg::State:: constant.</dd>
</dl>
<dl>
<dt>
VersionList</dt>
<dd>
A reference to an array of AptPkg::Cache::Version objects describing available versions of the package.</dd>
</dl>
<dl>
<dt>
CurrentVer</dt>
<dd>
An AptPkg::Cache::Version object describing the currently installed version (if any) of the package.</dd>
</dl>
<dl>
<dt>
RevDependsList</dt>
<dd>
A reference to an array of AptPkg::Cache::Depends objects describing packages which depend upon the current package.</dd>
</dl>
<dl>
<dt>
ProvidesList</dt>
<dd>
For virtual packages, this is a reference to an array of AptPkg::Cache::Provides objects describing packages which provide the current package.</dd>
</dl>
<dl>
<dt>
Flags</dt>
<dd>
A comma separated list if flags:  &quot;Auto&quot;, &quot;Essential&quot; or &quot;Important&quot;.<div style="height: 1.00em;">
&#160;</div>
In a numeric context, evaluates to a combination of AptPkg::Flag:: constants.<div style="height: 1.00em;">
&#160;</div>
[Note:  the only one of these you need worry about is &quot;Essential&quot;, which is set based on the package's header of the same name.  &quot;Auto&quot; seems to be used internally by  <b>APT</b>, and &quot;Important&quot; seems to only be set on the apt package.]</dd>
</dl>
<dl>
<dt>
Index</dt>
<dd>
Internal <b>APT</b> unique reference for the package record.</dd>
</dl>
</div>
<div class="subsection">
<h2>AptPkg::Cache::Version</h2> Implements the  <b>APT</b> pkgCache::VerIterator class as a hash reference.<div class="spacer">
</div>
<i>Keys</i><dl>
<dt>
VerStr</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Section</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Arch</dt>
<dd>
The package version, section and architecture.</dd>
</dl>
<dl>
<dt>
ParentPkg</dt>
<dd>
An AptPkg::Cache::Package objct describing the package providing this version.</dd>
</dl>
<dl>
<dt>
DependsList</dt>
<dd>
A reference to an array of AptPkg::Cache::Depends objects describing packages which the current package depends upon.</dd>
</dl>
<dl>
<dt>
ProvidesList</dt>
<dd>
A reference to an array of AptPkg::Cache::Provides objects describing virtual packages provided by this version.</dd>
</dl>
<dl>
<dt>
FileList</dt>
<dd>
A reference to an array of AptPkg::Cache::VerFile objects describing the packages files which include the current version.</dd>
</dl>
<dl>
<dt>
Size</dt>
<dd>
The <i>.deb</i> file size, in bytes.</dd>
</dl>
<dl>
<dt>
InstalledSize</dt>
<dd>
The disk space used when installed, in bytes.</dd>
</dl>
<dl>
<dt>
Index</dt>
<dd>
Internal <b>APT</b> unique reference for the version record.</dd>
</dl>
<dl>
<dt>
Priority</dt>
<dd>
Package priority:  &quot;important&quot;, &quot;required&quot;, &quot;standard&quot;, &quot;optional&quot; or &quot;extra&quot;.<div style="height: 1.00em;">
&#160;</div>
In a numeric context, evaluates to an AptPkg::VerPriority:: constant.</dd>
</dl>
</div>
<div class="subsection">
<h2>AptPkg::Cache::Depends</h2> Implements the  <b>APT</b> pkgCache::DepIterator class as a hash reference.<div class="spacer">
</div>
<i>Keys</i><dl>
<dt>
DepType</dt>
<dd>
Type of dependency:  &quot;Depends&quot;, &quot;PreDepends&quot;, &quot;Suggests&quot;, &quot;Recommends&quot;, &quot;Conflicts&quot;, &quot;Replaces&quot; or &quot;Obsoletes&quot;.<div style="height: 1.00em;">
&#160;</div>
In a numeric context, evaluates to an AptPkg::Dep:: constant.</dd>
</dl>
<dl>
<dt>
ParentPkg</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
ParentVer</dt>
<dd>
AptPkg::Cache::Package and AptPkg::Cache::Version objects describing the package declaring the dependency.</dd>
</dl>
<dl>
<dt>
TargetPkg</dt>
<dd>
AptPkg::Cache::Package object describing the depended package.</dd>
</dl>
<dl>
<dt>
TargetVer</dt>
<dd>
For versioned dependencies, TargetVer is a string giving the version of the target package required.</dd>
</dl>
<dl>
<dt>
CompType</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
CompTypeDeb</dt>
<dd>
CompType gives a normalised comparison operator (&gt;, &gt;=, etc) describing the relationship to TargetVer (&quot;&quot; if none).<div style="height: 1.00em;">
&#160;</div>
CompTypeDeb returns Debian-style operators (&gt;&gt; rather than &gt;).<div style="height: 1.00em;">
&#160;</div>
In a numeric context, both CompType and CompTypeDeb evaluate to an AptPkg::Dep:: constant.<div style="height: 1.00em;">
&#160;</div>
Alternative dependencies (Depends: a | b) are identified by all but the last having the AptPkg::Dep::Or bit set in the numeric representation of CompType (and CompTypeDeb).</dd>
</dl>
<dl>
<dt>
Index</dt>
<dd>
Internal <b>APT</b> unique reference for the dependency record.</dd>
</dl>
</div>
<div class="subsection">
<h2>AptPkg::Cache::Provides</h2> Implements the  <b>APT</b> pkgCache::PrvIterator class as a hash reference.<div class="spacer">
</div>
<i>Keys</i><dl>
<dt>
Name</dt>
<dd>
Name of virtual package.</dd>
</dl>
<dl>
<dt>
OwnerPkg</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
OwnerVer</dt>
<dd>
AptPkg::Cache::Package and AptPkg::Cache::Version objects describing the providing package.</dd>
</dl>
<dl>
<dt>
ProvideVersion</dt>
<dd>
Version of the virtual package.  [Not currently supported by dpkg]</dd>
</dl>
<dl>
<dt>
Index</dt>
<dd>
Internal <b>APT</b> unique reference for the provides record.</dd>
</dl>
</div>
<div class="subsection">
<h2>AptPkg::Cache::VerFile</h2> Implements the  <b>APT</b> pkgCache::VerFileIterator class as a hash reference.<div class="spacer">
</div>
<i>Keys</i><dl>
<dt>
File</dt>
<dd>
An AptPkg::Cache::PkgFile object describing the packages file.</dd>
</dl>
<dl>
<dt>
Offset</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Size</dt>
<dd>
The byte offset and length of the entry in the file.</dd>
</dl>
<dl>
<dt>
Index</dt>
<dd>
Internal <b>APT</b> unique reference for the version file record.</dd>
</dl>
</div>
<div class="subsection">
<h2>AptPkg::Cache::PkgFile</h2> Implements the  <b>APT</b> pkgCache::PkgFileIterator class as a hash reference.<div class="spacer">
</div>
<i>Keys</i><dl>
<dt>
FileName</dt>
<dd>
Packages file path.</dd>
</dl>
<dl>
<dt>
IndexType</dt>
<dd>
File type: &quot;Debian Package Index&quot;, &quot;Debian dpkg status file&quot;.</dd>
</dl>
<dl>
<dt>
Architecture</dt>
<dd>
Architecture.</dd>
</dl>
<dl>
<dt>
Archive</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Component</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Version</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Origin</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Label</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
Site</dt>
<dd>
Fields from the Release file.</dd>
</dl>
<dl>
<dt>
IsOk</dt>
<dd>
True if the cache is in sync with this file.</dd>
</dl>
<dl>
<dt>
Index</dt>
<dd>
Internal <b>APT</b> unique reference for the package file record.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>AptPkg::Config</i>(3pm), <i>AptPkg::System</i>(3pm), <i>AptPkg</i>(3pm),  <i>AptPkg::hash</i>(3pm), <i>AptPkg::PkgRecords</i>(3pm), <i>AptPkg::Policy</i>(3pm).</div>
<div class="section">
<h1>AUTHOR</h1> Brendan O'Dea &lt;bod@debian.org&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-10-03</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

