<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Format(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Format(3)</td>
<td class="head-vol">
OCaml library</td>
<td class="head-rtitle">
Format(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Format - Pretty printing.</div>
<div class="section">
<h1>Module</h1> Module   Format</div>
<div class="section">
<h1>Documentation</h1> Module <b>Format</b><br/>
 : <b>sig end</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
Pretty printing.<div style="height: 1.00em;">
&#160;</div>
This module implements a pretty-printing facility to format text within 'pretty-printing boxes'. The pretty-printer breaks lines at specified break hints, and indents lines according to the box structure.<div style="height: 1.00em;">
&#160;</div>
For a gentle introduction to the basics of pretty-printing using <b>Format</b> , read http://caml.inria.fr/resources/doc/guides/format.en.html.<div style="height: 1.00em;">
&#160;</div>
You may consider this module as providing an extension to the <b>printf</b> facility to provide automatic line breaking. The addition of pretty-printing annotations to your regular <b>printf</b> formats gives you fancy indentation and line breaks. Pretty-printing annotations are described below in the documentation of the function <b>Format.fprintf</b> .<div style="height: 1.00em;">
&#160;</div>
You may also use the explicit box management and printing functions provided by this module. This style is more basic but more verbose than the <b>fprintf</b> concise formats.<div style="height: 1.00em;">
&#160;</div>
For instance, the sequence <b>open_box 0; print_string x = ; print_space ();</b> <b>print_int 1; close_box (); print_newline ()</b> that prints <b>x = 1</b> within a pretty-printing box, can be abbreviated as <b>printf @[%s@ %i@]@. x = 1</b> , or even shorter <b>printf @[x =@ %i@]@. 1</b> .<div style="height: 1.00em;">
&#160;</div>
Rule of thumb for casual users of this library:<div style="height: 1.00em;">
&#160;</div>
-use simple boxes (as obtained by <b>open_box 0</b> );<div style="height: 1.00em;">
&#160;</div>
-use simple break hints (as obtained by <b>print_cut ()</b> that outputs a simple break hint, or by <b>print_space ()</b> that outputs a space indicating a break hint);<div style="height: 1.00em;">
&#160;</div>
-once a box is opened, display its material with basic printing functions (e. g. <b>print_int</b> and <b>print_string</b> );<div style="height: 1.00em;">
&#160;</div>
-when the material for a box has been printed, call <b>close_box ()</b> to close the box;<div style="height: 1.00em;">
&#160;</div>
-at the end of your routine, flush the pretty-printer to display all the remaining material, e.g. evaluate <b>print_newline ()</b> .<div style="height: 1.00em;">
&#160;</div>
The behaviour of pretty-printing commands is unspecified if there is no opened pretty-printing box. Each box opened via one of the <b>open_</b> functions below must be closed using <b>close_box</b> for proper formatting. Otherwise, some of the material printed in the boxes may not be output, or may be formatted incorrectly.<div style="height: 1.00em;">
&#160;</div>
In case of interactive use, the system closes all opened boxes and flushes all pending text (as with the <b>print_newline</b> function) after each phrase. Each phrase is therefore executed in the initial state of the pretty-printer.<div style="height: 1.00em;">
&#160;</div>
Warning: the material output by the following functions is delayed in the pretty-printer queue in order to compute the proper line breaking. Hence, you should not mix calls to the printing functions of the basic I/O system with calls to the functions of this module: this could result in some strange output seemingly unrelated with the evaluation order of printing commands.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Boxes</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val open_box</i> : <b>int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>open_box d</b> opens a new pretty-printing box with offset <b>d</b> . This box is the general purpose pretty-printing box. Material in this box is displayed 'horizontal or vertical': break hints inside the box may lead to a new line, if there is no more room on the line to print the remainder of the box, or if a new line may lead to a new indentation (demonstrating the indentation of the box). When a new line is printed in the box, <b>d</b> is added to the current indentation.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val close_box</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Closes the most recently opened pretty-printing box.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Formatting functions</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_string</i> : <b>string -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>print_string str</b> prints <b>str</b> in the current box.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_as</i> : <b>int -&gt; string -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>print_as len str</b> prints <b>str</b> in the current box. The pretty-printer formats <b>str</b> as if it were of length <b>len</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_int</i> : <b>int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Prints an integer in the current box.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_float</i> : <b>float -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Prints a floating point number in the current box.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_char</i> : <b>char -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Prints a character in the current box.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_bool</i> : <b>bool -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Prints a boolean in the current box.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Break hints</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_space</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>print_space ()</b> is used to separate items (typically to print a space between two words). It indicates that the line may be split at this point. It either prints one space or splits the line. It is equivalent to <b>print_break 1 0</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_cut</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>print_cut ()</b> is used to mark a good break position. It indicates that the line may be split at this point. It either prints nothing or splits the line. This allows line splitting at the current point, without printing spaces or adding indentation. It is equivalent to <b>print_break 0 0</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_break</i> : <b>int -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Inserts a break hint in a pretty-printing box. <b>print_break nspaces offset</b> indicates that the line may be split (a newline character is printed) at this point, if the contents of the current box does not fit on the current line. If the line is split at that point, <b>offset</b> is added to the current indentation. If the line is not split, <b>nspaces</b> spaces are printed.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_flush</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Flushes the pretty printer: all opened boxes are closed, and all pending text is displayed.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_newline</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Equivalent to <b>print_flush</b> followed by a new line.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val force_newline</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Forces a newline in the current box. Not the normal way of pretty-printing, you should prefer break hints.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_if_newline</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Executes the next formatting command if the preceding line has just been split. Otherwise, ignore the next formatting command.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Margin</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_margin</i> : <b>int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_margin d</b> sets the value of the right margin to <b>d</b> (in characters): this value is used to detect line overflows that leads to split lines. Nothing happens if <b>d</b> is smaller than 2. If <b>d</b> is too large, the right margin is set to the maximum admissible value (which is greater than <b>10^9</b> ).<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_margin</i> : <b>unit -&gt; int</b><div style="height: 1.00em;">
&#160;</div>
Returns the position of the right margin.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Maximum indentation limit</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_max_indent</i> : <b>int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_max_indent d</b> sets the value of the maximum indentation limit to <b>d</b> (in characters): once this limit is reached, boxes are rejected to the left, if they do not fit on the current line. Nothing happens if <b>d</b> is smaller than 2. If <b>d</b> is too large, the limit is set to the maximum admissible value (which is greater than <b>10^9</b> ).<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_max_indent</i> : <b>unit -&gt; int</b><div style="height: 1.00em;">
&#160;</div>
Return the value of the maximum indentation limit (in characters).<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Formatting depth: maximum number of boxes allowed before ellipsis</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_max_boxes</i> : <b>int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_max_boxes max</b> sets the maximum number of boxes simultaneously opened. Material inside boxes nested deeper is printed as an ellipsis (more precisely as the text returned by <b>get_ellipsis_text ()</b> ). Nothing happens if <b>max</b> is smaller than 2.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_max_boxes</i> : <b>unit -&gt; int</b><div style="height: 1.00em;">
&#160;</div>
Returns the maximum number of boxes allowed before ellipsis.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val over_max_boxes</i> : <b>unit -&gt; bool</b><div style="height: 1.00em;">
&#160;</div>
Tests if the maximum number of boxes allowed have already been opened.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Advanced formatting</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val open_hbox</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>open_hbox ()</b> opens a new pretty-printing box. This box is 'horizontal': the line is not split in this box (new lines may still occur inside boxes nested deeper).<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val open_vbox</i> : <b>int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>open_vbox d</b> opens a new pretty-printing box with offset <b>d</b> . This box is 'vertical': every break hint inside this box leads to a new line. When a new line is printed in the box, <b>d</b> is added to the current indentation.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val open_hvbox</i> : <b>int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>open_hvbox d</b> opens a new pretty-printing box with offset <b>d</b> . This box is 'horizontal-vertical': it behaves as an 'horizontal' box if it fits on a single line, otherwise it behaves as a 'vertical' box. When a new line is printed in the box, <b>d</b> is added to the current indentation.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val open_hovbox</i> : <b>int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>open_hovbox d</b> opens a new pretty-printing box with offset <b>d</b> . This box is 'horizontal or vertical': break hints inside this box may lead to a new line, if there is no more room on the line to print the remainder of the box. When a new line is printed in the box, <b>d</b> is added to the current indentation.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Tabulations</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val open_tbox</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Opens a tabulation box.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val close_tbox</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Closes the most recently opened tabulation box.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_tbreak</i> : <b>int -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Break hint in a tabulation box. <b>print_tbreak spaces offset</b> moves the insertion point to the next tabulation ( <b>spaces</b> being added to this position). Nothing occurs if insertion point is already on a tabulation mark. If there is no next tabulation on the line, then a newline is printed and the insertion point moves to the first tabulation of the box. If a new line is printed, <b>offset</b> is added to the current indentation.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_tab</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Sets a tabulation mark at the current insertion point.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val print_tab</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>print_tab ()</b> is equivalent to <b>print_tbreak 0 0</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Ellipsis</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_ellipsis_text</i> : <b>string -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Set the text of the ellipsis printed when too many boxes are opened (a single dot, <b>.</b> , by default).<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_ellipsis_text</i> : <b>unit -&gt; string</b><div style="height: 1.00em;">
&#160;</div>
Return the text of the ellipsis.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Semantics Tags</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<i>type tag</i> = <b>string</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>=== Semantics tags (or simply tags) are used to decorate printed</b> <b>entities for user's defined purposes, e.g. setting font and giving size</b> <b>indications for a display device, or marking delimitation of semantics</b> <b>entities (e.g. HTML or TeX elements or terminal escape sequences).</b> <b>By default, those tags do not influence line breaking calculation:</b> <b>the tag 'markers' are not considered as part of the printing</b> <b>material that drives line breaking (in other words, the length of</b> <b>those strings is considered as zero for line breaking).</b> <b>Thus, tag handling is in some sense transparent to pretty-printing</b> <b>and does not interfere with usual indentation. Hence, a single</b> <b>pretty printing routine can output both simple 'verbatim'</b> <b>material or richer decorated output depending on the treatment of</b> <b>tags. By default, tags are not active, hence the output is not</b> <b>decorated with tag information. Once set_tags is set to true,</b> <b>the pretty printer engine honours tags and decorates the output</b> <b>accordingly.</b> <b>When a tag has been opened (or closed), it is both and successively</b> <b>'printed' and 'marked'. Printing a tag means calling a</b> <b>formatter specific function with the name of the tag as argument:</b> <b>that 'tag printing' function can then print any regular material</b> <b>to the formatter (so that this material is enqueued as usual in the</b> <b>formatter queue for further line-breaking computation). Marking a</b> <b>tag means to output an arbitrary string (the 'tag marker'),</b> <b>directly into the output device of the formatter. Hence, the</b> <b>formatter specific 'tag marking' function must return the tag</b> <b>marker string associated to its tag argument. Being flushed</b> <b>directly into the output device of the formatter, tag marker</b> <b>strings are not considered as part of the printing material that</b> <b>drives line breaking (in other words, the length of the strings</b> <b>corresponding to tag markers is considered as zero for line</b> <b>breaking). In addition, advanced users may take advantage of</b> <b>the specificity of tag markers to be precisely output when the</b> <b>pretty printer has already decided where to break the lines, and</b> <b>precisely when the queue is flushed into the output device.</b> <b>In the spirit of HTML tags, the default tag marking functions</b> <b>output tags enclosed in &lt; and &gt; : hence, the opening marker of</b> <b>tag t is &lt;t&gt; and the closing marker &lt;/t&gt; .</b> <b>Default tag printing functions just do nothing.</b> <b>Tag marking and tag printing functions are user definable and can</b> <b>be set by calling set_formatter_tag_functions. ===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val open_tag</i> : <b>tag -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>open_tag t</b> opens the tag named <b>t</b> ; the <b>print_open_tag</b> function of the formatter is called with <b>t</b> as argument; the tag marker <b>mark_open_tag t</b> will be flushed into the output device of the formatter.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val close_tag</i> : <b>unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>close_tag ()</b> closes the most recently opened tag <b>t</b> . In addition, the <b>print_close_tag</b> function of the formatter is called with <b>t</b> as argument. The marker <b>mark_close_tag t</b> will be flushed into the output device of the formatter.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_tags</i> : <b>bool -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_tags b</b> turns on or off the treatment of tags (default is off).<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_print_tags</i> : <b>bool -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_print_tags b</b> turns on or off the printing of tags.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_mark_tags</i> : <b>bool -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_mark_tags b</b> turns on or off the output of tag markers.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_print_tags</i> : <b>unit -&gt; bool</b><div style="height: 1.00em;">
&#160;</div>
Return the current status of tags printing.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_mark_tags</i> : <b>unit -&gt; bool</b><div style="height: 1.00em;">
&#160;</div>
Return the current status of tags marking.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Redirecting the standard formatter output</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_formatter_out_channel</i> : <b>Pervasives.out_channel -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
Redirect the pretty-printer output to the given channel. (All the output functions of the standard formatter are set to the default output functions printing to the given channel.)<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_formatter_output_functions</i> : <b>(string -&gt; int -&gt; int -&gt; unit) -&gt; (unit -&gt; unit) -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_formatter_output_functions out flush</b> redirects the pretty-printer output functions to the functions <b>out</b> and <b>flush</b> .<div style="height: 1.00em;">
&#160;</div>
The <b>out</b> function performs all the pretty-printer string output. It is called with a string <b>s</b> , a start position <b>p</b> , and a number of characters <b>n</b> ; it is supposed to output characters <b>p</b> to <b>p + n - 1</b> of <b>s</b> .<div style="height: 1.00em;">
&#160;</div>
The <b>flush</b> function is called whenever the pretty-printer is flushed (via conversion <b>%!</b> , or pretty-printing indications <b>@?</b> or <b>@.</b> , or using low level functions <b>print_flush</b> or <b>print_newline</b> ).<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_formatter_output_functions</i> : <b>unit -&gt; (string -&gt; int -&gt; int -&gt; unit) * (unit -&gt; unit)</b><div style="height: 1.00em;">
&#160;</div>
Return the current output functions of the pretty-printer.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Changing the meaning of standard formatter pretty printing</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Changing the meaning of standard formatter pretty printing</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>=== The Format module is versatile enough to let you completely redefine</b> <b>the meaning of pretty printing: you may provide your own functions to define</b> <b>how to handle indentation, line breaking, and even printing of all the</b> <b>characters that have to be printed! ===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<i>type formatter_out_functions</i> = {<br/>
 out_string : <b>string -&gt; int -&gt; int -&gt; unit</b> ;<br/>
 out_flush : <b>unit -&gt; unit</b> ;<br/>
 out_newline : <b>unit -&gt; unit</b> ;<br/>
 out_spaces : <b>int -&gt; unit</b> ;<br/>
 }<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_formatter_out_functions</i> : <b>formatter_out_functions -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_formatter_out_functions f</b> Redirect the pretty-printer output to the functions <b>f.out_string</b> and <b>f.out_flush</b> as described in <b>set_formatter_output_functions</b> . In addition, the pretty-printer function that outputs a newline is set to the function <b>f.out_newline</b> and the function that outputs indentation spaces is set to the function <b>f.out_spaces</b> .<div style="height: 1.00em;">
&#160;</div>
This way, you can change the meaning of indentation (which can be something else than just printing space characters) and the meaning of new lines opening (which can be connected to any other action needed by the application at hand). The two functions <b>f.out_spaces</b> and <b>f.out_newline</b> are normally connected to <b>f.out_string</b> and <b>f.out_flush</b> : respective default values for <b>f.out_space</b> and <b>f.out_newline</b> are <b>f.out_string (String.make n ' ') 0 n</b> and <b>f.out_string \n 0 1</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_formatter_out_functions</i> : <b>unit -&gt; formatter_out_functions</b><div style="height: 1.00em;">
&#160;</div>
Return the current output functions of the pretty-printer, including line breaking and indentation functions. Useful to record the current setting and restore it afterwards.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Changing the meaning of printing semantics tags</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<i>type formatter_tag_functions</i> = {<br/>
 mark_open_tag : <b>tag -&gt; string</b> ;<br/>
 mark_close_tag : <b>tag -&gt; string</b> ;<br/>
 print_open_tag : <b>tag -&gt; unit</b> ;<br/>
 print_close_tag : <b>tag -&gt; unit</b> ;<br/>
 }<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
The tag handling functions specific to a formatter: <b>mark</b> versions are the 'tag marking' functions that associate a string marker to a tag in order for the pretty-printing engine to flush those markers as 0 length tokens in the output device of the formatter. <b>print</b> versions are the 'tag printing' functions that can perform regular printing when a tag is closed or opened.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_formatter_tag_functions</i> : <b>formatter_tag_functions -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>set_formatter_tag_functions tag_funs</b> changes the meaning of opening and closing tags to use the functions in <b>tag_funs</b> .<div style="height: 1.00em;">
&#160;</div>
When opening a tag name <b>t</b> , the string <b>t</b> is passed to the opening tag marking function (the <b>mark_open_tag</b> field of the record <b>tag_funs</b> ), that must return the opening tag marker for that name. When the next call to <b>close_tag ()</b> happens, the tag name <b>t</b> is sent back to the closing tag marking function (the <b>mark_close_tag</b> field of record <b>tag_funs</b> ), that must return a closing tag marker for that name.<div style="height: 1.00em;">
&#160;</div>
The <b>print_</b> field of the record contains the functions that are called at tag opening and tag closing time, to output regular material in the pretty-printer queue.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_formatter_tag_functions</i> : <b>unit -&gt; formatter_tag_functions</b><div style="height: 1.00em;">
&#160;</div>
Return the current tag functions of the pretty-printer.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Multiple formatted output</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<i>type formatter</i><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
Abstract data corresponding to a pretty-printer (also called a formatter) and all its machinery.<div style="height: 1.00em;">
&#160;</div>
Defining new pretty-printers permits unrelated output of material in parallel on several output channels. All the parameters of a pretty-printer are local to this pretty-printer: margin, maximum indentation limit, maximum number of boxes simultaneously opened, ellipsis, and so on, are specific to each pretty-printer and may be fixed independently. Given a <b>Pervasives.out_channel</b> output channel <b>oc</b> , a new formatter writing to that channel is simply obtained by calling <b>formatter_of_out_channel oc</b> . Alternatively, the <b>make_formatter</b> function allocates a new formatter with explicit output and flushing functions (convenient to output material to strings for instance).<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val formatter_of_out_channel</i> : <b>Pervasives.out_channel -&gt; formatter</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>formatter_of_out_channel oc</b> returns a new formatter that writes to the corresponding channel <b>oc</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val std_formatter</i> : <b>formatter</b><div style="height: 1.00em;">
&#160;</div>
The standard formatter used by the formatting functions above. It is defined as <b>formatter_of_out_channel stdout</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val err_formatter</i> : <b>formatter</b><div style="height: 1.00em;">
&#160;</div>
A formatter to use with formatting functions below for output to standard error. It is defined as <b>formatter_of_out_channel stderr</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val formatter_of_buffer</i> : <b>Buffer.t -&gt; formatter</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>formatter_of_buffer b</b> returns a new formatter writing to buffer <b>b</b> . As usual, the formatter has to be flushed at the end of pretty printing, using <b>pp_print_flush</b> or <b>pp_print_newline</b> , to display all the pending material.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val stdbuf</i> : <b>Buffer.t</b><div style="height: 1.00em;">
&#160;</div>
The string buffer in which <b>str_formatter</b> writes.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val str_formatter</i> : <b>formatter</b><div style="height: 1.00em;">
&#160;</div>
A formatter to use with formatting functions below for output to the <b>stdbuf</b> string buffer. <b>str_formatter</b> is defined as <b>formatter_of_buffer stdbuf</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val flush_str_formatter</i> : <b>unit -&gt; string</b><div style="height: 1.00em;">
&#160;</div>
Returns the material printed with <b>str_formatter</b> , flushes the formatter and resets the corresponding buffer.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val make_formatter</i> : <b>(string -&gt; int -&gt; int -&gt; unit) -&gt; (unit -&gt; unit) -&gt; formatter</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>make_formatter out flush</b> returns a new formatter that writes according to the output function <b>out</b> , and the flushing function <b>flush</b> . For instance, a formatter to the <b>Pervasives.out_channel</b> <b>oc</b> is returned by <b>make_formatter (Pervasives.output oc) (fun () -&gt; Pervasives.flush oc)</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Basic functions to use with formatters</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_open_hbox</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_open_vbox</i> : <b>formatter -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_open_hvbox</i> : <b>formatter -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_open_hovbox</i> : <b>formatter -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_open_box</i> : <b>formatter -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_close_box</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_open_tag</i> : <b>formatter -&gt; string -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_close_tag</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_string</i> : <b>formatter -&gt; string -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_as</i> : <b>formatter -&gt; int -&gt; string -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_int</i> : <b>formatter -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_float</i> : <b>formatter -&gt; float -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_char</i> : <b>formatter -&gt; char -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_bool</i> : <b>formatter -&gt; bool -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_break</i> : <b>formatter -&gt; int -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_cut</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_space</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_force_newline</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_flush</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_newline</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_if_newline</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_open_tbox</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_close_tbox</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_tbreak</i> : <b>formatter -&gt; int -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_tab</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_tab</i> : <b>formatter -&gt; unit -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_tags</i> : <b>formatter -&gt; bool -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_print_tags</i> : <b>formatter -&gt; bool -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_mark_tags</i> : <b>formatter -&gt; bool -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_print_tags</i> : <b>formatter -&gt; unit -&gt; bool</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_mark_tags</i> : <b>formatter -&gt; unit -&gt; bool</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_margin</i> : <b>formatter -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_margin</i> : <b>formatter -&gt; unit -&gt; int</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_max_indent</i> : <b>formatter -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_max_indent</i> : <b>formatter -&gt; unit -&gt; int</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_max_boxes</i> : <b>formatter -&gt; int -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_max_boxes</i> : <b>formatter -&gt; unit -&gt; int</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_over_max_boxes</i> : <b>formatter -&gt; unit -&gt; bool</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_ellipsis_text</i> : <b>formatter -&gt; string -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_ellipsis_text</i> : <b>formatter -&gt; unit -&gt; string</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_formatter_out_channel</i> : <b>formatter -&gt; Pervasives.out_channel -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_formatter_output_functions</i> : <b>formatter -&gt; (string -&gt; int -&gt; int -&gt; unit) -&gt; (unit -&gt; unit) -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_formatter_output_functions</i> : <b>formatter -&gt; unit -&gt; (string -&gt; int -&gt; int -&gt; unit) * (unit -&gt; unit)</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_formatter_tag_functions</i> : <b>formatter -&gt; formatter_tag_functions -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_formatter_tag_functions</i> : <b>formatter -&gt; unit -&gt; formatter_tag_functions</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_formatter_out_functions</i> : <b>formatter -&gt; formatter_out_functions -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_formatter_out_functions</i> : <b>formatter -&gt; unit -&gt; formatter_out_functions</b><div style="height: 1.00em;">
&#160;</div>
These functions are the basic ones: usual functions operating on the standard formatter are defined via partial evaluation of these primitives. For instance, <b>print_string</b> is equal to <b>pp_print_string std_formatter</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Convenience formatting functions.</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_list</i> : <b>?pp_sep:(formatter -&gt; unit -&gt; unit) -&gt;</b> <b>(formatter -&gt; 'a -&gt; unit) -&gt; formatter -&gt; 'a list -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>pp_print_list ?pp_sep pp_v ppf l</b> prints the list <b>l</b> . <b>pp_v</b> is used on the elements of <b>l</b> and each element is separated by a call to <b>pp_sep</b> (defaults to <b>Format.pp_print_cut</b> ). Does nothing on empty lists.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>Since</b> 4.02.0<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_print_text</i> : <b>formatter -&gt; string -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>pp_print_text ppf s</b> prints <b>s</b> with spaces and newlines respectively printed with <b>Format.pp_print_space</b> and <b>Format.pp_force_newline</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>Since</b> 4.02.0<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>printf like functions for pretty-printing.</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val fprintf</i> : <b>formatter -&gt; ('a, formatter, unit) Pervasives.format -&gt; 'a</b><div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>=== fprintf ff fmt arg1 ... argN formats the arguments arg1 to argN</b> <b>according to the format string fmt, and outputs the resulting string on</b> <b>the formatter ff.</b> <b>The format fmt is a character string which contains three types of</b> <b>objects: plain characters and conversion specifications as specified in</b> <b>the Printf module, and pretty-printing indications specific to the</b> <b>Format module.</b> <b>The pretty-printing indication characters are introduced by</b> <b>a @ character, and their meanings are:</b> <b>- @[: open a pretty-printing box. The type and offset of the</b> <b>box may be optionally specified with the following syntax:</b> <b>the &lt; character, followed by an optional box type indication,</b> <b>then an optional integer offset, and the closing &gt; character.</b> <b>Box type is one of h, v, hv, b, or hov,</b> <b>which stand respectively for an horizontal box, a vertical box,</b> <b>an 'horizontal-vertical' box, or an 'horizontal or</b> <b>vertical' box (b standing for an 'horizontal or</b> <b>vertical' box demonstrating indentation and hov standing</b> <b>for a regular'horizontal or vertical' box).</b> <b>For instance, @[&lt;hov 2&gt; opens an 'horizontal or vertical'</b> <b>box with indentation 2 as obtained with open_hovbox 2.</b> <b>For more details about boxes, see the various box opening</b> <b>functions open_*box.</b> <b>- @]: close the most recently opened pretty-printing box.</b> <b>- @,: output a good break hint, as with print_cut ().</b> <b>- @ : output a good break space, as with print_space ().</b> <b>- @;: output a fully specified good break as with print_break. The</b> <b>nspaces and offset parameters of the break may be</b> <b>optionally specified with the following syntax:</b> <b>the &lt; character, followed by an integer nspaces value,</b> <b>then an integer offset, and a closing &gt; character.</b> <b>If no parameters are provided, the good break defaults to a</b> <b>good break space.</b> <b>- @.: flush the pretty printer and output a new line, as with</b> <b>print_newline ().</b> <b>- @&lt;n&gt;: print the following item as if it were of length n.</b> <b>Hence, printf @&lt;0&gt;%s arg prints arg as a zero length string.</b> <b>If @&lt;n&gt; is not followed by a conversion specification,</b> <b>then the following character of the format is printed as if</b> <b>it were of length n.</b> <b>- @{: open a tag. The name of the tag may be optionally</b> <b>specified with the following syntax:</b> <b>the &lt; character, followed by an optional string</b> <b>specification, and the closing &gt; character. The string</b> <b>specification is any character string that does not contain the</b> <b>closing character '&gt;'. If omitted, the tag name defaults to the</b> <b>empty string.</b> <b>For more details about tags, see the functions open_tag and</b> <b>close_tag.</b> <b>- @}: close the most recently opened tag.</b> <b>- @?: flush the pretty printer as with print_flush ().</b> <b>This is equivalent to the conversion %!.</b> <b>- @\n: force a newline, as with force_newline ().</b> <b>- @@: print a single @ character.</b> <b>Example: printf @[%s@ %d@]@. x = 1 is equivalent to</b> <b>open_box (); print_string x = ; print_space ();</b> <b>print_int 1; close_box (); print_newline ().</b> <b>It prints x = 1 within a pretty-printing box.</b> <b>Note: If you need to prevent the interpretation of a @ character as a</b> <b>pretty-printing indication, you can also escape it with a % character. ===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val printf</i> : <b>('a, formatter, unit) Pervasives.format -&gt; 'a</b><div style="height: 1.00em;">
&#160;</div>
Same as <b>fprintf</b> above, but output on <b>std_formatter</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val eprintf</i> : <b>('a, formatter, unit) Pervasives.format -&gt; 'a</b><div style="height: 1.00em;">
&#160;</div>
Same as <b>fprintf</b> above, but output on <b>err_formatter</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val sprintf</i> : <b>('a, unit, string) Pervasives.format -&gt; 'a</b><div style="height: 1.00em;">
&#160;</div>
Same as <b>printf</b> above, but instead of printing on a formatter, returns a string containing the result of formatting the arguments. Note that the pretty-printer queue is flushed at the end of each call to <b>sprintf</b> .<div style="height: 1.00em;">
&#160;</div>
In case of multiple and related calls to <b>sprintf</b> to output material on a single string, you should consider using <b>fprintf</b> with the predefined formatter <b>str_formatter</b> and call <b>flush_str_formatter ()</b> to get the final result.<div style="height: 1.00em;">
&#160;</div>
Alternatively, you can use <b>Format.fprintf</b> with a formatter writing to a buffer of your own: flushing the formatter and the buffer at the end of pretty-printing returns the desired string.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val asprintf</i> : <b>('a, formatter, unit, string) Pervasives.format4 -&gt; 'a</b><div style="height: 1.00em;">
&#160;</div>
Same as <b>printf</b> above, but instead of printing on a formatter, returns a string containing the result of formatting the arguments. The type of <b>asprintf</b> is general enough to interact nicely with <b>%a</b> conversions.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>Since</b> 4.01.0<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val ifprintf</i> : <b>formatter -&gt; ('a, formatter, unit) Pervasives.format -&gt; 'a</b><div style="height: 1.00em;">
&#160;</div>
Same as <b>fprintf</b> above, but does not print anything. Useful to ignore some material when conditionally printing.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>Since</b> 3.10.0<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>=== Formatted output functions with continuations. ===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val kfprintf</i> : <b>(formatter -&gt; 'a) -&gt;</b> <b>formatter -&gt; ('b, formatter, unit, 'a) Pervasives.format4 -&gt; 'b</b><div style="height: 1.00em;">
&#160;</div>
Same as <b>fprintf</b> above, but instead of returning immediately, passes the formatter to its first argument at the end of printing.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val ikfprintf</i> : <b>(formatter -&gt; 'a) -&gt;</b> <b>formatter -&gt; ('b, formatter, unit, 'a) Pervasives.format4 -&gt; 'b</b><div style="height: 1.00em;">
&#160;</div>
Same as <b>kfprintf</b> above, but does not print anything. Useful to ignore some material when conditionally printing.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b>Since</b> 3.12.0<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val ksprintf</i> : <b>(string -&gt; 'a) -&gt; ('b, unit, string, 'a) Pervasives.format4 -&gt; 'b</b><div style="height: 1.00em;">
&#160;</div>
Same as <b>sprintf</b> above, but instead of returning the string, passes it to the first argument.<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<b>===</b> <b>Deprecated</b> <b>===</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val bprintf</i> : <b>Buffer.t -&gt; ('a, formatter, unit) Pervasives.format -&gt; 'a</b><div style="height: 1.00em;">
&#160;</div>
<b>Deprecated.</b> This function is error prone. Do not use it.<div style="height: 1.00em;">
&#160;</div>
If you need to print to some buffer <b>b</b> , you must first define a formatter writing to <b>b</b> , using <b>let to_b = formatter_of_buffer b</b> ; then use regular calls to <b>Format.fprintf</b> on formatter <b>to_b</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val kprintf</i> : <b>(string -&gt; 'a) -&gt; ('b, unit, string, 'a) Pervasives.format4 -&gt; 'b</b><div style="height: 1.00em;">
&#160;</div>
<b>Deprecated.</b> An alias for <b>ksprintf</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val set_all_formatter_output_functions</i> : <b>out:(string -&gt; int -&gt; int -&gt; unit) -&gt;</b> <b>flush:(unit -&gt; unit) -&gt;</b> <b>newline:(unit -&gt; unit) -&gt; spaces:(int -&gt; unit) -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<b>Deprecated.</b> Subsumed by <b>set_formatter_out_functions</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val get_all_formatter_output_functions</i> : <b>unit -&gt;</b> <b>(string -&gt; int -&gt; int -&gt; unit) * (unit -&gt; unit) * (unit -&gt; unit) *</b> <b>(int -&gt; unit)</b><div style="height: 1.00em;">
&#160;</div>
<b>Deprecated.</b> Subsumed by <b>get_formatter_out_functions</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_set_all_formatter_output_functions</i> : <b>formatter -&gt;</b> <b>out:(string -&gt; int -&gt; int -&gt; unit) -&gt;</b> <b>flush:(unit -&gt; unit) -&gt;</b> <b>newline:(unit -&gt; unit) -&gt; spaces:(int -&gt; unit) -&gt; unit</b><div style="height: 1.00em;">
&#160;</div>
<b>Deprecated.</b> Subsumed by <b>pp_set_formatter_out_functions</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<i>val pp_get_all_formatter_output_functions</i> : <b>formatter -&gt;</b> <b>unit -&gt;</b> <b>(string -&gt; int -&gt; int -&gt; unit) * (unit -&gt; unit) * (unit -&gt; unit) *</b> <b>(int -&gt; unit)</b><div style="height: 1.00em;">
&#160;</div>
<b>Deprecated.</b> Subsumed by <b>pp_get_formatter_out_functions</b> .<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2015-08-12</td>
<td class="foot-os">
OCamldoc</td>
</tr>
</table>
</div>
</body>
</html>

