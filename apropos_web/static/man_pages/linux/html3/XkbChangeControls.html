<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbChangeControls(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbChangeControls(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbChangeControls(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbChangeControls - Provides a flexible method for updating the controls in a server to match those in the changed keyboard description</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>Bool XkbChangeControls</b> <b>(Display *</b><i>dpy</i><b>,</b> <b>XkbDescPtr </b><i>xkb</i><b>,</b> <b>XkbControlsChangesPtr </b><i>changes</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- dpy</i></dt>
<dd>
connection to X server</dd>
</dl>
<dl>
<dt>
<i>- xkb</i></dt>
<dd>
keyboard description with changed xkb-&gt;ctrls</dd>
</dl>
<dl>
<dt>
<i>- changes</i></dt>
<dd>
which parts of xkb-&gt;ctrls have changed</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The XkbControlsChangesRec structure allows applications to track modifications to an XkbControlsRec structure and thereby reduce the amount of traffic sent to the server. The same XkbControlsChangesRec structure may be used in several successive modifications to the same XkbControlsRec structure, then subsequently used to cause all of the changes, and only the changes, to be propagated to the server.<div style="height: 1.00em;">
&#160;</div>
The <i>changed_ctrls</i> field is a mask specifying which logical sets of data in the controls structure have been modified. In this context, modified means <i>set,</i> that is, if a value is set to the same value it previously contained, it has still been modified, and is noted as changed. Valid values for <i>changed_ctrls</i> are any combination of the masks listed in Table 1 that have &quot;ok&quot; in the <i>changed_ctrls</i> column. Setting a bit implies the corresponding data fields from the &quot;Relevant XkbControlsRec Data Fields&quot; column in Table 1 have been modified. The <i>enabled_ctrls_changes</i> field specifies which bits in the <i>enabled_ctrls</i> field have changed. If the number of keyboard groups has changed, the <i>num_groups_changed</i> field is set to True.<div style="height: 1.00em;">
&#160;</div>
Table 1 shows the actual values for the individual mask bits used to select controls for modification and to enable and disable the control. Note that the same mask bit is used to specify general modifications to the parameters used to configure the control (which), and to enable and disable the control (enabled_ctrls). The anomalies in the table (no &quot;ok&quot; in column) are for controls that have no configurable attributes; and for controls that are not boolean controls and therefore cannot be enabled or disabled.<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 81.00ex;"/>
<col style="width: 22.00ex;"/>
<col style="width: 23.00ex;"/>
<col style="width: 23.00ex;"/>
<col style="width: 7.00ex;"/>
<tbody>
<tr>
<td>
Table 1 Xkb Controls</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Control</td>
<td>
Control</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Selection</td>
<td>
Relevant</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
Mask</td>
<td>
XkbControlsRec</td>
<td>
Boolean Control</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
(which parameter)</td>
<td>
DataFields</td>
<td>
enabled_ctrls bit</td>
<td>
Section</td>
</tr>
<tr>
<td>
_</td>
<td>
 </td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
AccessXFeedback</td>
<td>
XkbAccessXFeedbackMask</td>
<td>
ax_options:</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAccessXFeedbackMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.6.3</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
  XkbAX_*FBMask</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
AccessXKeys</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAccessXKeysMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.6.1</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
AccessXTimeout</td>
<td>
XkbAccessXTimeoutMask</td>
<td>
ax_timeout</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAccessXTimeoutMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.6.2</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
axt_opts_mask</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
axt_opts_values</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
axt_ctrls_mask</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
axt_ctrls_values</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
AudibleBell</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAudibleBellMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
9.2</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
AutoReset</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
BounceKeys</td>
<td>
XkbBounceKeysMask</td>
<td>
debounce_delay</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbBounceKeysMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.6.7</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Detectable-</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Autorepeat</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
EnabledControls</td>
<td>
XkbControlsEnabledMask</td>
<td>
enabled_ctrls</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Non-Boolean Control</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.1.1</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
GroupsWrap</td>
<td>
XkbGroupsWrapMask</td>
<td>
groups_wrap</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Non-Boolean Control</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.7.1</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
IgnoreGroupLock</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbIgnoreGroupLockMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.7.3</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
IgnoreLockMods</td>
<td>
XkbIgnoreLockModsMask</td>
<td>
ignore_lock</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Non-Boolean Control</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
5.1</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
InternalMods</td>
<td>
XkbInternalModsMask</td>
<td>
internal</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Non-Boolean Control</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
5.1</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
MouseKeys</td>
<td>
XkbMouseKeysMask</td>
<td>
mk_dflt_btn</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbMouseKeysMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.5.1</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
MouseKeysAccel</td>
<td>
XkbMouseKeysAccelMask</td>
<td>
mk_delay</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbMouseKeysAccelMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.5.2</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
mk_interval</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
mk_time_to_max</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
mk_max_speed</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
mk_curve</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Overlay1</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbOverlay1Mask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.4</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Overlay2</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbOverlay2Mask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.4</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
PerKeyRepeat</td>
<td>
XkbPerKeyRepeatMask</td>
<td>
per_key_repeat</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Non-Boolean Control</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.3.1</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
RepeatKeys</td>
<td>
XkbRepeatKeysMask</td>
<td>
repeat_delay</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbRepeatKeysMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.3</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
repeat_interval</td>
<td>
</td>
</tr>
<tr>
<td>
SlowKeys</td>
<td>
XkbSlowKeysMask</td>
<td>
slow_keys_delay</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbSlowKeysMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.6.6</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
StickyKeys</td>
<td>
XkbStickyKeysMask</td>
<td>
ax_options:</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbStickyKeysMask</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
10.6.8</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
  XkbAX_TwoKeysMask</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
  XkbAX_LatchToLockMask</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Table 2 shows the actual values for the individual mask bits used to select </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
controls for </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
modification and to enable and disable the control. Note that the same mask bit </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
is used to </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
specify general modifications to the parameters used to configure the control </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
(which), and to </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
enable and disable the control (enabled_ctrls). The anomalies in the table (no </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
&quot;ok&quot; in column) </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
are for controls that have no configurable attributes; and for controls that are </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
not boolean </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
controls and therefore cannot be enabled or disabled.</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
c s s s</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
l l l l</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
l l l l</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
l l l l. </td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Table 2 Controls Mask Bits</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Mask Bit</td>
<td>
which or</td>
<td>
enabled</td>
<td>
Value</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
changed_ctrls</td>
<td>
_ctrls</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbRepeatKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;0)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbSlowKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;1)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbBounceKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;2)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbStickyKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;3)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbMouseKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;4)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbMouseKeysAccelMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;5)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAccessXKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;6)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAccessXTimeoutMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;7)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAccessXFeedbackMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;8)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAudibleBellMask</td>
<td>
</td>
<td>
ok</td>
<td>
(1L&lt;&lt;9)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbOverlay1Mask</td>
<td>
</td>
<td>
ok</td>
<td>
(1L&lt;&lt;10)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbOverlay2Mask</td>
<td>
</td>
<td>
ok</td>
<td>
(1L&lt;&lt;11)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbIgnoreGroupLockMask</td>
<td>
</td>
<td>
ok</td>
<td>
(1L&lt;&lt;12)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbGroupsWrapMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;27)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbInternalModsMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;28)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbIgnoreLockModsMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;29)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbPerKeyRepeatMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;30)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbControlsEnabledMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;31)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAccessXOptionsMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(XkbStickyKeysMask | </td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
XkbAccessXFeedbackMask)</td>
<td>
</td>
</tr>
<tr>
<td>
XkbAllBooleanCtrlsMask</td>
<td>
</td>
<td>
ok</td>
<td>
(0x00001FFF) </td>
<td>
</td>
</tr>
<tr>
<td>
XkbAllControlsMask</td>
<td>
ok</td>
<td>
</td>
<td>
(0xF8001FFF)</td>
<td>
</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
If you have an Xkb description with controls that have been modified and an XkbControlsChangesRec that describes the changes that have been made, the <i>XkbChangeControls</i> function provides a flexible method for updating the controls in a server to match those in the changed keyboard description.<div style="height: 1.00em;">
&#160;</div>
<i>XkbChangeControls</i> copies any controls fields specified by <i>changes</i> from the keyboard description controls structure, <i>xkb-&gt;ctrls,</i> to the server specified by <i>dpy.</i></div>
<div class="section">
<h1>STRUCTURES</h1> The XkbControlsChangesRec structure is defined as follows:<div class="spacer">
</div>
<br/>
typedef struct _XkbControlsChanges {<br/>
    unsigned int  changed_ctrls;         /&#8727; bits indicating changed control data <br/>
*/<br/>
    unsigned int  enabled_ctrls_changes; /&#8727; bits indicating enabled/disabled <br/>
controls */<br/>
    Bool          num_groups_changed;    /&#8727; True if number of keyboard groups <br/>
changed */<br/>
} XkbControlsChangesRec,*XkbControlsChangesPtr;<div class="spacer">
</div>
<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

