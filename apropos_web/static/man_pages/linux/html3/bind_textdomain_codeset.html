<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
BIND_TEXTDOMAIN_CODESET(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
BIND_TEXTDOMAIN_CODESET(3)</td>
<td class="head-vol">
Library Functions Manual</td>
<td class="head-rtitle">
BIND_TEXTDOMAIN_CODESET(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> bind_textdomain_codeset - set encoding of message translations</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;libintl.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
<b>char * bind_textdomain_codeset (const char * </b><i>domainname</i><b>,</b><br/>
<b>                                const char * </b><i>codeset</i><b>);</b><br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <b>bind_textdomain_codeset</b> function sets the output codeset for message catalogs for domain  <i>domainname</i>.<div class="spacer">
</div>
A message domain is a set of translatable <i>msgid</i> messages. Usually, every software package has its own message domain.<div class="spacer">
</div>
By default, the <b>gettext</b> family of functions returns translated messages in the locale's character encoding, which can be retrieved as  <b>nl_langinfo(CODESET)</b>. The need for calling <b>bind_textdomain_codeset</b> arises for programs which store strings in a locale independent way (e.g. UTF-8) and want to avoid an extra character set conversion on the returned translated messages.<div class="spacer">
</div>
<i>domainname</i> must be a non-empty string.<div class="spacer">
</div>
If <i>codeset</i> is not NULL, it must be a valid encoding name which can be used for the  <b>iconv_open</b> function. The <b>bind_textdomain_codeset</b> function sets the output codeset for message catalogs belonging to domain  <i>domainname</i> to <i>codeset</i>. The function makes copies of the argument strings as needed.<div class="spacer">
</div>
If <i>codeset</i> is NULL, the function returns the previously set codeset for domain  <i>domainname</i>. The default is NULL, denoting the locale's character encoding.</div>
<div class="section">
<h1>RETURN VALUE</h1> If successful, the  <b>bind_textdomain_codeset</b> function returns the current codeset for domain  <i>domainname</i>, after possibly changing it. The resulting string is valid until the next  <b>bind_textdomain_codeset</b> call for the same  <i>domainname</i> and must not be modified or freed. If a memory allocation failure occurs, it sets  <b>errno</b> to <b>ENOMEM</b> and returns NULL. If no codeset has been set for domain  <i>domainname</i>, it returns NULL.</div>
<div class="section">
<h1>ERRORS</h1> The following error can occur, among others:<dl>
<dt>
<b>ENOMEM</b></dt>
<dd>
Not enough memory available.</dd>
</dl>
</div>
<div class="section">
<h1>BUGS</h1> The return type ought to be  <b>const char *</b>, but is <b>char *</b> to avoid warnings in C code predating ANSI C.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>gettext</b>(3), <b>dgettext</b>(3), <b>dcgettext</b>(3), <b>ngettext</b>(3), <b>dngettext</b>(3), <b>dcngettext</b>(3), <b>textdomain</b>(3), <b>nl_langinfo</b>(3), <b>iconv_open</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
May 2001</td>
<td class="foot-os">
GNU gettext 0.18.1</td>
</tr>
</table>
</div>
</body>
</html>

