<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
namespace::autoclean(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
namespace::autoclean(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
namespace::autoclean(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> namespace::autoclean - Keep imports out of your namespace</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    package Foo;<br/>
    use namespace::autoclean;<br/>
    use Some::Package qw/imported_function/;<br/>
<br/>
    sub bar { imported_function('stuff') }<br/>
<br/>
    # later on:<br/>
    Foo-&gt;bar;               # works<br/>
    Foo-&gt;imported_function; # will fail. imported_function got cleaned after compilation<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> When you import a function into a Perl package, it will naturally also be available as a method.<div class="spacer">
</div>
The &quot;namespace::autoclean&quot; pragma will remove all imported symbols at the end of the current package's compile cycle. Functions called in the package itself will still be bound by their name, but they won't show up as methods on your class or instances.<div class="spacer">
</div>
This module is very similar to namespace::clean, except it will clean all imported functions, no matter if you imported them before or after you &quot;use&quot;d the pragma. It will also not touch anything that looks like a method, according to &quot;Class::MOP::Class::get_method_list&quot;.<div class="spacer">
</div>
If you're writing an exporter and you want to clean up after yourself (and your peers), you can use the &quot;-cleanee&quot; switch to specify what package to clean:<div class="spacer">
</div>
<br/>
  package My::MooseX::namespace::autoclean;<br/>
  use strict;<br/>
<br/>
  use namespace::autoclean (); # no cleanup, just load<br/>
<br/>
  sub import {<br/>
      namespace::autoclean-&gt;import(<br/>
        -cleanee =&gt; scalar(caller),<br/>
      );<br/>
  }<br/>
</div>
<div class="section">
<h1>PARAMETERS</h1><div class="subsection">
<h2>-also =&gt; [ ITEM | REGEX | SUB, .. ]</h2></div>
<div class="subsection">
<h2>-also =&gt; ITEM</h2></div>
<div class="subsection">
<h2>-also =&gt; REGEX</h2></div>
<div class="subsection">
<h2>-also =&gt; SUB</h2> Sometimes you don't want to clean imports only, but also helper functions you're using in your methods. The &quot;-also&quot; switch can be used to declare a list of functions that should be removed additional to any imports:<div class="spacer">
</div>
<br/>
    use namespace::autoclean -also =&gt; ['some_function', 'another_function'];<br/>
<div class="spacer">
</div>
If only one function needs to be additionally cleaned the &quot;-also&quot; switch also accepts a plain string:<div class="spacer">
</div>
<br/>
    use namespace::autoclean -also =&gt; 'some_function';<br/>
<div class="spacer">
</div>
In some situations, you may wish for a more <i>powerful</i> cleaning solution.<div class="spacer">
</div>
The &quot;-also&quot; switch can take a Regex or a CodeRef to match against local function names to clean.<div class="spacer">
</div>
<br/>
    use namespace::autoclean -also =&gt; qr/^_/<br/>
<br/>
    use namespace::autoclean -also =&gt; sub { $_ =~ m{^_} };<br/>
<br/>
    use namespace::autoclean -also =&gt; [qr/^_/ , qr/^hidden_/ ];<br/>
<br/>
    use namespace::autoclean -also =&gt; [sub { $_ =~ m/^_/ or $_ =~ m/^hidden/ }, sub { uc($_) == $_ } ];<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> namespace::clean<div class="spacer">
</div>
Class::MOP<div class="spacer">
</div>
B::Hooks::EndOfScope</div>
<div class="section">
<h1>AUTHOR</h1> Florian Ragwitz &lt;rafl@debian.org&gt;</div>
<div class="section">
<h1>COPYRIGHT AND LICENSE</h1> This software is copyright (c) 2011 by Florian Ragwitz.<div class="spacer">
</div>
This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-08-24</td>
<td class="foot-os">
perl v5.12.4</td>
</tr>
</table>
</div>
</body>
</html>

