<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XGETDEVICEMOTIONEVEN(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XGETDEVICEMOTIONEVEN(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XGETDEVICEMOTIONEVEN(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XGetDeviceMotionEvents, XDeviceTimeCoord - get device motion history</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
XDeviceTimeCoord *XGetDeviceMotionEvents( Display *display,<br/>
                                          XDevice *device,<br/>
                                          Time start,<br/>
                                          Time stop,<br/>
                                          int *nevents_return,<br/>
                                          int *mode_return,<br/>
                                          int *axis_count_return);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
device<br/>
       Specifies the device whose motion history is to be<br/>
       queried.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
start, stop<br/>
       Specify the time interval in which the events are<br/>
       returned from the motionhistory buffer.You can pass a<br/>
       timestamp or CurrentTime.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
nevents_return<br/>
       Returns the number of events from the motion history<br/>
       buffer.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
mode_return<br/>
       Returns the mode of the device (Absolute or Relative).<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
axis_count_return<br/>
       Returns the count of axes being reported.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
The server may retain the recent history of the device motion<br/>
and do so to a finer granularity than is reported by<br/>
DeviceMotionNotify events. The XGetDeviceMotionEvents request<br/>
makes this history available.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XGetDeviceMotionEvents request returns all events in the<br/>
motion history buffer that fall between the specified start and<br/>
stop times, inclusive. If the start time is later than the stop<br/>
time or if the start time is in the future, no events are<br/>
returned. If the stop time is in the future, it is equivalent<br/>
to specifying CurrentTime.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The mode indicates whether the device is reporting absolute<br/>
positional data (mode = Absolute ) or relative motion data<br/>
(mode = Relative ). Some devices allow their mode to be changed<br/>
via the XSetDeviceMode request. These constants are defined in<br/>
the file XI.h. The axis_count returns the number of axes or<br/>
valuators being reported by the device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XGetDeviceMotionEvents can generate a BadDevice, or BadMatch<br/>
error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
Structures<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XDeviceTimeCoord structure contains:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    Time time;<br/>
    int *data;<br/>
} XDeviceTimeCoord;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The time member is set to the time, in milliseconds. The data<br/>
member is a pointer to an array of integers. These integers are<br/>
set to the values of each valuator or axis reported by the<br/>
device. There is one element in the array per axis of motion<br/>
reported by the device. The value of the array elements depends<br/>
on the mode of the device. If the mode is Absolute, the values<br/>
are the raw values generated by the device. These may be scaled<br/>
by client programs using the maximum values that the device can<br/>
generate. The maximum value for each axis of the device is<br/>
reported in the max_val field of the XAxisInfo returned by the<br/>
XListInputDevices request. If the mode is Relative, the data<br/>
values are the relative values generated by the device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
You should use XFreeDeviceMotionEvents to free the data<br/>
returned by this request.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Errors returned by this request: BadDevice, BadMatch.<br/>
</div>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><div style="margin-left: 4.00ex;">
<br/>
BadDevice<br/>
       An invalid device was specified. The specified device<br/>
       does not exist or has not been opened by this client via<br/>
       XOpenInputDevice. This error may also occur if the<br/>
       specified device is the X keyboard or X pointer device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadMatch<br/>
       This error may occur if an XGetDeviceMotionEvents<br/>
       request is made specifying a device that has no<br/>
       valuators and reports no axes of motion.<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

