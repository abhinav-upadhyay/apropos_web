<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ExtUtils::MM_Unix(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
ExtUtils::MM_Unix(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
ExtUtils::MM_Unix(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ExtUtils::MM_Unix - methods used by ExtUtils::MakeMaker</div>
<div class="section">
<h1>SYNOPSIS</h1> &quot;require ExtUtils::MM_Unix;&quot;</div>
<div class="section">
<h1>DESCRIPTION</h1> The methods provided by this package are designed to be used in conjunction with ExtUtils::MakeMaker. When MakeMaker writes a Makefile, it creates one or more objects that inherit their methods from a package &quot;MM&quot;. MM itself doesn't provide any methods, but it ISA ExtUtils::MM_Unix class. The inheritance tree of MM lets operating specific packages take the responsibility for all the methods provided by MM_Unix. We are trying to reduce the number of the necessary overrides by defining rather primitive operations within ExtUtils::MM_Unix.<div class="spacer">
</div>
If you are going to write a platform specific MM package, please try to limit the necessary overrides to primitive methods, and if it is not possible to do so, let's work out how to achieve that gain.<div class="spacer">
</div>
If you are overriding any of these methods in your Makefile.PL (in the MY class), please report that to the makemaker mailing list. We are trying to minimize the necessary method overrides and switch to data driven Makefile.PLs wherever possible. In the long run less methods will be overridable via the MY class.</div>
<div class="section">
<h1>METHODS</h1> The following description of methods is still under development. Please refer to the code for not suitably documented sections and complain loudly to the makemaker@perl.org mailing list. Better yet, provide a patch.<div class="spacer">
</div>
Not all of the methods below are overridable in a Makefile.PL. Overridable methods are marked as (o). All methods are overridable by a platform specific MM_*.pm file.<div class="spacer">
</div>
Cross-platform methods are being moved into MM_Any.  If you can't find something that used to be in here, look in MM_Any.<div class="subsection">
<h2>Methods</h2><dl>
<dt>
os_flavor</dt>
<dd>
Simply says that we're Unix.</dd>
</dl>
<dl>
<dt>
c_o (o)</dt>
<dd>
Defines the suffix rules to compile different flavors of C files to object files.</dd>
</dl>
<dl>
<dt>
cflags (o)</dt>
<dd>
Does very much the same as the cflags script in the perl distribution. It doesn't return the whole compiler command line, but initializes all of its parts. The const_cccmd method then actually returns the definition of the CCCMD macro which uses these parts.</dd>
</dl>
<dl>
<dt>
const_cccmd (o)</dt>
<dd>
Returns the full compiler call for C programs and stores the definition in CONST_CCCMD.</dd>
</dl>
<dl>
<dt>
const_config (o)</dt>
<dd>
Defines a couple of constants in the Makefile that are imported from %Config.</dd>
</dl>
<dl>
<dt>
const_loadlibs (o)</dt>
<dd>
Defines EXTRALIBS, LDLOADLIBS, BSLOADLIBS, LD_RUN_PATH. See ExtUtils::Liblist for details.</dd>
</dl>
<dl>
<dt>
constants (o)</dt>
<dd>
<br/>
  my $make_frag = $mm-&gt;constants;<br/>
<div style="height: 1.00em;">
&#160;</div>
Prints out macros for lots of constants.</dd>
</dl>
<dl>
<dt>
depend (o)</dt>
<dd>
Same as macro for the depend attribute.</dd>
</dl>
<dl>
<dt>
init_DEST</dt>
<dd>
<br/>
  $mm-&gt;init_DEST<br/>
<div style="height: 1.00em;">
&#160;</div>
Defines the DESTDIR and DEST* variables paralleling the INSTALL*.</dd>
</dl>
<dl>
<dt>
init_dist</dt>
<dd>
<br/>
  $mm-&gt;init_dist;<br/>
<div style="height: 1.00em;">
&#160;</div>
Defines a lot of macros for distribution support.<div style="height: 1.00em;">
&#160;</div>
<br/>
  macro         description                     default<br/>
<br/>
  TAR           tar command to use              tar<br/>
  TARFLAGS      flags to pass to TAR            cvf<br/>
<br/>
  ZIP           zip command to use              zip<br/>
  ZIPFLAGS      flags to pass to ZIP            -r<br/>
<br/>
  COMPRESS      compression command to          gzip --best<br/>
                use for tarfiles<br/>
  SUFFIX        suffix to put on                .gz <br/>
                compressed files<br/>
<br/>
  SHAR          shar command to use             shar<br/>
<br/>
  PREOP         extra commands to run before<br/>
                making the archive <br/>
  POSTOP        extra commands to run after<br/>
                making the archive<br/>
<br/>
  TO_UNIX       a command to convert linefeeds<br/>
                to Unix style in your archive <br/>
<br/>
  CI            command to checkin your         ci -u<br/>
                sources to version control<br/>
  RCS_LABEL     command to label your sources   rcs -Nv$(VERSION_SYM): -q<br/>
                just after CI is run<br/>
<br/>
  DIST_CP       $how argument to manicopy()     best<br/>
                when the distdir is created<br/>
<br/>
  DIST_DEFAULT  default target to use to        tardist<br/>
                create a distribution<br/>
<br/>
  DISTVNAME     name of the resulting archive   $(DISTNAME)-$(VERSION)<br/>
                (minus suffixes)<br/>
</dd>
</dl>
<dl>
<dt>
dist (o)</dt>
<dd>
<br/>
  my $dist_macros = $mm-&gt;dist(%overrides);<br/>
<div style="height: 1.00em;">
&#160;</div>
Generates a make fragment defining all the macros initialized in init_dist.<div style="height: 1.00em;">
&#160;</div>
%overrides can be used to override any of the above.</dd>
</dl>
<dl>
<dt>
dist_basics (o)</dt>
<dd>
Defines the targets distclean, distcheck, skipcheck, manifest, veryclean.</dd>
</dl>
<dl>
<dt>
dist_ci (o)</dt>
<dd>
Defines a check in target for RCS.</dd>
</dl>
<dl>
<dt>
dist_core (o)</dt>
<dd>
<br/>
  my $dist_make_fragment = $MM-&gt;dist_core;<br/>
<div style="height: 1.00em;">
&#160;</div>
Puts the targets necessary for 'make dist' together into one make fragment.</dd>
</dl>
<dl>
<dt>
<b>dist_target</b></dt>
<dd>
<br/>
  my $make_frag = $MM-&gt;dist_target;<br/>
<div style="height: 1.00em;">
&#160;</div>
Returns the 'dist' target to make an archive for distribution.  This target simply checks to make sure the Makefile is up-to-date and depends on $(DIST_DEFAULT).</dd>
</dl>
<dl>
<dt>
<b>tardist_target</b></dt>
<dd>
<br/>
  my $make_frag = $MM-&gt;tardist_target;<br/>
<div style="height: 1.00em;">
&#160;</div>
Returns the 'tardist' target which is simply so 'make tardist' works. The real work is done by the dynamically named  <i>tardistfile_target()</i> method, tardist should have that as a dependency.</dd>
</dl>
<dl>
<dt>
<b>zipdist_target</b></dt>
<dd>
<br/>
  my $make_frag = $MM-&gt;zipdist_target;<br/>
<div style="height: 1.00em;">
&#160;</div>
Returns the 'zipdist' target which is simply so 'make zipdist' works. The real work is done by the dynamically named  <i>zipdistfile_target()</i> method, zipdist should have that as a dependency.</dd>
</dl>
<dl>
<dt>
<b>tarfile_target</b></dt>
<dd>
<br/>
  my $make_frag = $MM-&gt;tarfile_target;<br/>
<div style="height: 1.00em;">
&#160;</div>
The name of this target is the name of the tarball generated by tardist.  This target does the actual work of turning the distdir into a tarball.</dd>
</dl>
<dl>
<dt>
zipfile_target</dt>
<dd>
<br/>
  my $make_frag = $MM-&gt;zipfile_target;<br/>
<div style="height: 1.00em;">
&#160;</div>
The name of this target is the name of the zip file generated by zipdist.  This target does the actual work of turning the distdir into a zip file.</dd>
</dl>
<dl>
<dt>
uutardist_target</dt>
<dd>
<br/>
  my $make_frag = $MM-&gt;uutardist_target;<br/>
<div style="height: 1.00em;">
&#160;</div>
Converts the tarfile into a uuencoded file</dd>
</dl>
<dl>
<dt>
shdist_target</dt>
<dd>
<br/>
  my $make_frag = $MM-&gt;shdist_target;<br/>
<div style="height: 1.00em;">
&#160;</div>
Converts the distdir into a shell archive.</dd>
</dl>
<dl>
<dt>
dlsyms (o)</dt>
<dd>
Used by some OS' to define DL_FUNCS and DL_VARS and write the *.exp files.<div style="height: 1.00em;">
&#160;</div>
Normally just returns an empty string.</dd>
</dl>
<dl>
<dt>
dynamic_bs (o)</dt>
<dd>
Defines targets for bootstrap files.</dd>
</dl>
<dl>
<dt>
dynamic_lib (o)</dt>
<dd>
Defines how to produce the *.so (or equivalent) files.</dd>
</dl>
<dl>
<dt>
exescan</dt>
<dd>
Deprecated method. Use libscan instead.</dd>
</dl>
<dl>
<dt>
extliblist</dt>
<dd>
Called by init_others, and calls ext ExtUtils::Liblist. See ExtUtils::Liblist for details.</dd>
</dl>
<dl>
<dt>
find_perl</dt>
<dd>
Finds the executables PERL and FULLPERL</dd>
</dl>
<dl>
<dt>
fixin</dt>
<dd>
<br/>
  $mm-&gt;fixin(@files);<br/>
<div style="height: 1.00em;">
&#160;</div>
Inserts the sharpbang or equivalent magic number to a set of @files.</dd>
</dl>
<dl>
<dt>
force (o)</dt>
<dd>
Writes an empty FORCE: target.</dd>
</dl>
<dl>
<dt>
guess_name</dt>
<dd>
Guess the name of this package by examining the working directory's name. MakeMaker calls this only if the developer has not supplied a NAME attribute.</dd>
</dl>
<dl>
<dt>
has_link_code</dt>
<dd>
Returns true if C, XS, MYEXTLIB or similar objects exist within this object that need a compiler. Does not descend into subdirectories as  <i>needs_linking()</i> does.</dd>
</dl>
<dl>
<dt>
init_dirscan</dt>
<dd>
Scans the directory structure and initializes DIR, XS, XS_FILES, C, C_FILES, O_FILES, H, H_FILES, PL_FILES, EXE_FILES.<div style="height: 1.00em;">
&#160;</div>
Called by init_main.</dd>
</dl>
<dl>
<dt>
init_MANPODS</dt>
<dd>
Determines if man pages should be generated and initializes MAN1PODS and MAN3PODS as appropriate.</dd>
</dl>
<dl>
<dt>
init_MAN1PODS</dt>
<dd>
Initializes MAN1PODS from the list of EXE_FILES.</dd>
</dl>
<dl>
<dt>
init_MAN3PODS</dt>
<dd>
Initializes MAN3PODS from the list of PM files.</dd>
</dl>
<dl>
<dt>
init_PM</dt>
<dd>
Initializes PMLIBDIRS and PM from PMLIBDIRS.</dd>
</dl>
<dl>
<dt>
init_DIRFILESEP</dt>
<dd>
Using / for Unix.  Called by init_main.</dd>
</dl>
<dl>
<dt>
init_main</dt>
<dd>
Initializes AR, AR_STATIC_ARGS, BASEEXT, CONFIG, DISTNAME, DLBASE, EXE_EXT, FULLEXT, FULLPERL, FULLPERLRUN, FULLPERLRUNINST, INST_*, INSTALL*, INSTALLDIRS, LIB_EXT, LIBPERL_A, MAP_TARGET, NAME, OBJ_EXT, PARENT_NAME, PERL, PERL_ARCHLIB, PERL_INC, PERL_LIB, PERL_SRC, PERLRUN, PERLRUNINST, PREFIX, VERSION, VERSION_SYM, XS_VERSION.</dd>
</dl>
<dl>
<dt>
init_others</dt>
<dd>
Initializes EXTRALIBS, BSLOADLIBS, LDLOADLIBS, LIBS, LD_RUN_PATH, LD, OBJECT, BOOTDEP, PERLMAINCC, LDFROM, LINKTYPE, SHELL, NOOP, FIRST_MAKEFILE, MAKEFILE_OLD, NOECHO, RM_F, RM_RF, TEST_F, TOUCH, CP, MV, CHMOD, UMASK_NULL, ECHO, ECHO_N</dd>
</dl>
<dl>
<dt>
init_linker</dt>
<dd>
Unix has no need of special linker flags.</dd>
</dl>
<dl>
<dt>
init_PERL</dt>
<dd>
<br/>
    $mm-&gt;init_PERL;<br/>
<div style="height: 1.00em;">
&#160;</div>
Called by init_main.  Sets up ABSPERL, PERL, FULLPERL and all the *PERLRUN* permutations.<div style="height: 1.00em;">
&#160;</div>
<br/>
    PERL is allowed to be miniperl<br/>
    FULLPERL must be a complete perl<br/>
<br/>
    ABSPERL is PERL converted to an absolute path<br/>
<br/>
    *PERLRUN contains everything necessary to run perl, find it's<br/>
         libraries, etc...<br/>
<br/>
    *PERLRUNINST is *PERLRUN + everything necessary to find the<br/>
         modules being built.<br/>
</dd>
</dl>
<dl>
<dt>
init_platform</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
platform_constants</dt>
<dd>
Add MM_Unix_VERSION.</dd>
</dl>
<dl>
<dt>
init_PERM</dt>
<dd>
<br/>
  $mm-&gt;init_PERM<br/>
<div style="height: 1.00em;">
&#160;</div>
Called by init_main.  Initializes PERL_*</dd>
</dl>
<dl>
<dt>
init_xs</dt>
<dd>
<br/>
    $mm-&gt;init_xs<br/>
<div style="height: 1.00em;">
&#160;</div>
Sets up macros having to do with XS code.  Currently just INST_STATIC, INST_DYNAMIC and INST_BOOT.</dd>
</dl>
<dl>
<dt>
install (o)</dt>
<dd>
Defines the install target.</dd>
</dl>
<dl>
<dt>
installbin (o)</dt>
<dd>
Defines targets to make and to install EXE_FILES.</dd>
</dl>
<dl>
<dt>
linkext (o)</dt>
<dd>
Defines the linkext target which in turn defines the LINKTYPE.</dd>
</dl>
<dl>
<dt>
lsdir</dt>
<dd>
Takes as arguments a directory name and a regular expression. Returns all entries in the directory that match the regular expression.</dd>
</dl>
<dl>
<dt>
macro (o)</dt>
<dd>
Simple subroutine to insert the macros defined by the macro attribute into the Makefile.</dd>
</dl>
<dl>
<dt>
makeaperl (o)</dt>
<dd>
Called by staticmake. Defines how to write the Makefile to produce a static new perl.<div style="height: 1.00em;">
&#160;</div>
By default the Makefile produced includes all the static extensions in the perl library. (Purified versions of library files, e.g., DynaLoader_pure_p1_c0_032.a are automatically ignored to avoid link errors.)</dd>
</dl>
<dl>
<dt>
makefile (o)</dt>
<dd>
Defines how to rewrite the Makefile.</dd>
</dl>
<dl>
<dt>
maybe_command</dt>
<dd>
Returns true, if the argument is likely to be a command.</dd>
</dl>
<dl>
<dt>
needs_linking (o)</dt>
<dd>
Does this module need linking? Looks into subdirectory objects (see also  <i>has_link_code()</i>)</dd>
</dl>
<dl>
<dt>
parse_abstract</dt>
<dd>
parse a file and return what you think is the ABSTRACT</dd>
</dl>
<dl>
<dt>
parse_version</dt>
<dd>
<br/>
    my $version = MM-&gt;parse_version($file);<br/>
<div style="height: 1.00em;">
&#160;</div>
Parse a $file and return what $VERSION is set to by the first assignment. It will return the string &quot;undef&quot; if it can't figure out what $VERSION is. $VERSION should be for all to see, so &quot;our $VERSION&quot; or plain $VERSION are okay, but &quot;my $VERSION&quot; is not.<div style="height: 1.00em;">
&#160;</div>
&quot;&lt;package Foo VERSION&quot;&gt; is also checked for.  The first version declaration found is used, but this may change as it differs from how Perl does it.<div style="height: 1.00em;">
&#160;</div>
<i>parse_version()</i> will try to &quot;use version&quot; before checking for $VERSION so the following will work.<div style="height: 1.00em;">
&#160;</div>
<br/>
    $VERSION = qv(1.2.3);<br/>
</dd>
</dl>
<dl>
<dt>
pasthru (o)</dt>
<dd>
Defines the string that is passed to recursive make calls in subdirectories.</dd>
</dl>
<dl>
<dt>
perl_script</dt>
<dd>
Takes one argument, a file name, and returns the file name, if the argument is likely to be a perl script. On MM_Unix this is true for any ordinary, readable file.</dd>
</dl>
<dl>
<dt>
perldepend (o)</dt>
<dd>
Defines the dependency from all *.h files that come with the perl distribution.</dd>
</dl>
<dl>
<dt>
pm_to_blib</dt>
<dd>
Defines target that copies all files in the hash PM to their destination and autosplits them. See &quot;DESCRIPTION&quot; in ExtUtils::Install</dd>
</dl>
<dl>
<dt>
post_constants (o)</dt>
<dd>
Returns an empty string per default. Dedicated to overrides from within Makefile.PL after all constants have been defined.</dd>
</dl>
<dl>
<dt>
post_initialize (o)</dt>
<dd>
Returns an empty string per default. Used in Makefile.PLs to add some chunk of text to the Makefile after the object is initialized.</dd>
</dl>
<dl>
<dt>
postamble (o)</dt>
<dd>
Returns an empty string. Can be used in Makefile.PLs to write some text to the Makefile at the end.</dd>
</dl>
<dl>
<dt>
ppd</dt>
<dd>
Defines target that creates a PPD (Perl Package Description) file for a binary distribution.</dd>
</dl>
<dl>
<dt>
prefixify</dt>
<dd>
<br/>
  $MM-&gt;prefixify($var, $prefix, $new_prefix, $default);<br/>
<div style="height: 1.00em;">
&#160;</div>
Using either $MM-&gt;{uc $var} || $Config{lc $var}, it will attempt to replace it's $prefix with a $new_prefix.<div style="height: 1.00em;">
&#160;</div>
Should the $prefix fail to match <i>AND</i> a PREFIX was given as an argument to  <i>WriteMakefile()</i> it will set it to the $new_prefix + $default.  This is for systems whose file layouts don't neatly fit into our ideas of prefixes.<div style="height: 1.00em;">
&#160;</div>
This is for heuristics which attempt to create directory structures that mirror those of the installed perl.<div style="height: 1.00em;">
&#160;</div>
For example:<div style="height: 1.00em;">
&#160;</div>
<br/>
    $MM-&gt;prefixify('installman1dir', '/usr', '/home/foo', 'man/man1');<br/>
<div style="height: 1.00em;">
&#160;</div>
this will attempt to remove '/usr' from the front of the $MM-&gt;{INSTALLMAN1DIR} path (initializing it to $Config{installman1dir} if necessary) and replace it with '/home/foo'.  If this fails it will simply use '/home/foo/man/man1'.</dd>
</dl>
<dl>
<dt>
processPL (o)</dt>
<dd>
Defines targets to run *.PL files.</dd>
</dl>
<dl>
<dt>
quote_paren</dt>
<dd>
Backslashes parentheses &quot;()&quot; in command line arguments. Doesn't handle recursive Makefile &quot;$(...)&quot; constructs, but handles simple ones.</dd>
</dl>
<dl>
<dt>
replace_manpage_separator</dt>
<dd>
<br/>
  my $man_name = $MM-&gt;replace_manpage_separator($file_path);<br/>
<div style="height: 1.00em;">
&#160;</div>
Takes the name of a package, which may be a nested package, in the form 'Foo/Bar.pm' and replaces the slash with &quot;::&quot; or something else safe for a man page file name.  Returns the replacement.</dd>
</dl>
<dl>
<dt>
cd</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
oneliner</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
quote_literal</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
escape_newlines</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
max_exec_len</dt>
<dd>
Using POSIX::ARG_MAX.  Otherwise falling back to 4096.</dd>
</dl>
<dl>
<dt>
static (o)</dt>
<dd>
Defines the static target.</dd>
</dl>
<dl>
<dt>
static_lib (o)</dt>
<dd>
Defines how to produce the *.a (or equivalent) files.</dd>
</dl>
<dl>
<dt>
staticmake (o)</dt>
<dd>
Calls makeaperl.</dd>
</dl>
<dl>
<dt>
subdir_x (o)</dt>
<dd>
Helper subroutine for subdirs</dd>
</dl>
<dl>
<dt>
subdirs (o)</dt>
<dd>
Defines targets to process subdirectories.</dd>
</dl>
<dl>
<dt>
test (o)</dt>
<dd>
Defines the test targets.</dd>
</dl>
<dl>
<dt>
test_via_harness (override)</dt>
<dd>
For some reason which I forget, Unix machines like to have PERL_DL_NONLAZY set for tests.</dd>
</dl>
<dl>
<dt>
test_via_script (override)</dt>
<dd>
Again, the PERL_DL_NONLAZY thing.</dd>
</dl>
<dl>
<dt>
tool_xsubpp (o)</dt>
<dd>
Determines typemaps, xsubpp version, prototype behaviour.</dd>
</dl>
<dl>
<dt>
all_target</dt>
<dd>
Build man pages, too</dd>
</dl>
<dl>
<dt>
top_targets (o)</dt>
<dd>
Defines the targets all, subdirs, config, and O_FILES</dd>
</dl>
<dl>
<dt>
writedoc</dt>
<dd>
Obsolete, deprecated method. Not used since Version 5.21.</dd>
</dl>
<dl>
<dt>
xs_c (o)</dt>
<dd>
Defines the suffix rules to compile XS files to C.</dd>
</dl>
<dl>
<dt>
xs_cpp (o)</dt>
<dd>
Defines the suffix rules to compile XS files to C++.</dd>
</dl>
<dl>
<dt>
xs_o (o)</dt>
<dd>
Defines suffix rules to go from XS to object files directly. This is only intended for broken make implementations.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> ExtUtils::MakeMaker</div>
<table class="foot">
<tr>
<td class="foot-date">
2016-03-01</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

