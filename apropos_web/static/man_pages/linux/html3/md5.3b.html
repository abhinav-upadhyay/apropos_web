<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
MD5(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">MD5Init</b>, <b class="name">MD5Update</b>, <b class="name">MD5Pad</b>, <b class="name">MD5Final</b>, <b class="name">MD5Transform</b>, <b class="name">MD5End</b>, <b class="name">MD5File</b>, <b class="name">MD5FileChunk</b>, <b class="name">MD5Data</b> &#8212; <span class="desc">calculate the RSA Data Security, Inc., ``MD5'' message digest</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">library &#8220;libbsd&#8221;</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include <a class="link-includes">&lt;sys/types.h&gt;</a></b><br/>
<b class="includes">#include <a class="link-includes">&lt;bsd/md5.h&gt;</a></b><div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">MD5Init</b>(<i class="farg" style="white-space:nowrap;">MD5_CTX *context</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">MD5Update</b>(<i class="farg" style="white-space:nowrap;">MD5_CTX *context</i>, <i class="farg" style="white-space:nowrap;">const u_int8_t *data</i>, <i class="farg" style="white-space:nowrap;">size_t len</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">MD5Pad</b>(<i class="farg" style="white-space:nowrap;">MD5_CTX *context</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">MD5Final</b>(<i class="farg" style="white-space:nowrap;">u_int8_t digest[MD5_DIGEST_LENGTH]</i>, <i class="farg" style="white-space:nowrap;">MD5_CTX *context</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">MD5Transform</b>(<i class="farg" style="white-space:nowrap;">u_int32_t state[4]</i>, <i class="farg" style="white-space:nowrap;">u_int8_t block[MD5_BLOCK_LENGTH]</i>);<div class="spacer">
</div>
<i class="ftype">char *</i><br/>
<b class="fname">MD5End</b>(<i class="farg" style="white-space:nowrap;">MD5_CTX *context</i>, <i class="farg" style="white-space:nowrap;">char *buf</i>);<div class="spacer">
</div>
<i class="ftype">char *</i><br/>
<b class="fname">MD5File</b>(<i class="farg" style="white-space:nowrap;">const char *filename</i>, <i class="farg" style="white-space:nowrap;">char *buf</i>);<div class="spacer">
</div>
<i class="ftype">char *</i><br/>
<b class="fname">MD5FileChunk</b>(<i class="farg" style="white-space:nowrap;">const char *filename</i>, <i class="farg" style="white-space:nowrap;">char *buf</i>, <i class="farg" style="white-space:nowrap;">off_t offset</i>, <i class="farg" style="white-space:nowrap;">off_t length</i>);<div class="spacer">
</div>
<i class="ftype">char *</i><br/>
<b class="fname">MD5Data</b>(<i class="farg" style="white-space:nowrap;">const u_int8_t *data</i>, <i class="farg" style="white-space:nowrap;">size_t len</i>, <i class="farg" style="white-space:nowrap;">char *buf</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The MD5 functions calculate a 128-bit cryptographic checksum (digest) for any number of input bytes. A cryptographic checksum is a one-way hash-function, that is, you cannot find (except by exhaustive search) the input corresponding to a particular output. This net result is a &#8220;fingerprint&#8221; of the input-data, which doesn't disclose the actual input.<div class="spacer">
</div>
MD4 has been broken; it should only be used where necessary for backward compatibility. MD5 has not yet (1999-02-11) been broken, but recent attacks have cast some doubt on its security properties. The attacks on both MD4 and MD5 are both in the nature of finding &#8220;collisions&#8221; - that is, multiple inputs which hash to the same value; it is still unlikely for an attacker to be able to determine the exact original input given a hash value.<div class="spacer">
</div>
The <b class="fname">MD5Init</b>(), <b class="fname">MD5Update</b>(), and <b class="fname">MD5Final</b>() functions are the core functions. Allocate an MD5_CTX, initialize it with <b class="fname">MD5Init</b>(), run over the data with <b class="fname">MD5Update</b>(), and finally extract the result using <b class="fname">MD5Final</b>().<div class="spacer">
</div>
The <b class="fname">MD5Pad</b>() function can be used to apply padding to the message digest as in <b class="fname">MD5Final</b>(), but the current context can still be used with <b class="fname">MD5Update</b>().<div class="spacer">
</div>
The <b class="fname">MD5Transform</b>() function is used by <b class="fname">MD5Update</b>() to hash 512-bit blocks and forms the core of the algorithm. Most programs should use the interface provided by <b class="fname">MD5Init</b>(), <b class="fname">MD5Update</b>() and <b class="fname">MD5Final</b>() instead of calling <b class="fname">MD5Transform</b>() directly.<div class="spacer">
</div>
<b class="fname">MD5End</b>() is a wrapper for <b class="fname">MD5Final</b>() which converts the return value to an MD5_DIGEST_STRING_LENGTH-character (including the terminating '\0') ASCII string which represents the 128 bits in hexadecimal.<div class="spacer">
</div>
<b class="fname">MD5File</b>() calculates the digest of a file, and uses <b class="fname">MD5End</b>() to return the result. If the file cannot be opened, a null pointer is returned.<div class="spacer">
</div>
<b class="fname">MD5FileChunk</b>() behaves like <b class="fname">MD5File</b>() but calculates the digest only for that portion of the file starting at <i class="farg">offset</i> and continuing for <i class="farg">length</i> bytes or until end of file is reached, whichever comes first. A zero <i class="farg">length</i> can be specified to read until end of file. A negative <i class="farg">length</i> or <i class="farg">offset</i> will be ignored. <b class="fname">MD5Data</b>() calculates the digest of a chunk of data in memory, and uses <b class="fname">MD5End</b>() to return the result.<div class="spacer">
</div>
When using <b class="fname">MD5End</b>(), <b class="fname">MD5File</b>(), <b class="fname">MD5FileChunk</b>(), or <b class="fname">MD5Data</b>(), the <i class="arg">buf</i> argument can be a null pointer, in which case the returned string is allocated with <a class="link-man" href="/man/linux/3/malloc">malloc(3)</a> and subsequently must be explicitly deallocated using <a class="link-man" href="/man/linux/3/free">free(3)</a> after use. If the <i class="arg">buf</i> argument is non-null it must point to at least MD5_DIGEST_STRING_LENGTH characters of buffer space.</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="/man/linux/1/cksum">cksum(1)</a>, <a class="link-man" href="/man/linux/1/md5">md5(1)</a>, <a class="link-man" href="/man/linux/3/adler32">adler32(3)</a>, <a class="link-man" href="/man/linux/3/md4">md4(3)</a>, <a class="link-man" href="/man/linux/3/rmd160">rmd160(3)</a>, <a class="link-man" href="/man/linux/3/sfv">sfv(3)</a>, <a class="link-man" href="/man/linux/3/sha1">sha1(3)</a>, <a class="link-man" href="/man/linux/3/sha2">sha2(3)</a>, <a class="link-man" href="/man/linux/3/suma">suma(3)</a>, <a class="link-man" href="/man/linux/3/tiger">tiger(3)</a>, <a class="link-man" href="/man/linux/3/whirlpool">whirlpool(3)</a><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">R. Rivest</span>, <span class="ref-title">The MD4 Message-Digest Algorithm</span>, <span class="ref-opt">RFC 1186</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">R. Rivest</span>, <span class="ref-title">The MD5 Message-Digest Algorithm</span>, <span class="ref-opt">RFC 1321</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">RSA Laboratories</span>, <span class="ref-title">Frequently Asked Questions About today's Cryptography</span>, <span class="ref-opt">&lt;http://www.rsa.com/rsalabs/faq/&gt;</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">H. Dobbertin</span>, <span class="ref-title">Alf Swindles Ann</span>, <i class="ref-jrnl">CryptoBytes</i>, <span class="ref-num">1(3):5</span>, <span class="ref-date">1995</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">MJ. B. Robshaw</span>, <span class="ref-title">On Recent Results for MD4 and MD5</span>, <i class="ref-jrnl">RSA Laboratories Bulletin</i>, <span class="ref-num">4</span>, <span class="ref-date">November 12, 1996</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">Hans Dobbertin</span>, <span class="ref-title">Cryptanalysis of MD5 Compress</span>.</span></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> These functions appeared in <span class="unix">OpenBSD&#160;2.0</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The original MD5 routines were developed by RSA Data Security, Inc., and published in the above references. This code is derived from a public domain implementation written by Colin Plumb.<div class="spacer">
</div>
The <b class="fname">MD5End</b>(), <b class="fname">MD5File</b>(), <b class="fname">MD5FileChunk</b>(), and <b class="fname">MD5Data</b>() helper functions are derived from code written by Poul-Henning Kamp.</div>
<div class="section">
<h1 id="x42554753">BUGS</h1> Collisions have been found for the full versions of both MD4 and MD5 as well as strong attacks against the SHA-0 and SHA-1 family. The use of <a class="link-man" href="/man/linux/3/sha2">sha2(3)</a>, or <a class="link-man" href="/man/linux/3/rmd160">rmd160(3)</a> is recommended instead.</div>
</div>
</body>
</html>

