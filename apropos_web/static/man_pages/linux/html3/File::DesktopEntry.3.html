<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
File::DesktopEntry(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
File::DesktopEntry(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
File::DesktopEntry(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> File::DesktopEntry - Object to handle .desktop files</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
        use File::DesktopEntry;<br/>
        <br/>
        my $entry = File::DesktopEntry-&gt;new('firefox');<br/>
<br/>
        print &quot;Using &quot;.$entry-&gt;Name.&quot; to open http://perl.org\n&quot;;<br/>
        $entry-&gt;run('http://perl.org');<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module is used to work with  <i>.desktop</i> files. The format of these files is specified by the freedesktop &quot;Desktop Entry&quot; specification. This module can parse these files but also knows how to run the applciations defined by these files.<div class="spacer">
</div>
For this module version 1.0 of the specification was used.<div class="spacer">
</div>
This module was written to support File::MimeInfo::Applications.<div class="spacer">
</div>
Please remember: case is significant for the names of Desktop Entry keys.</div>
<div class="section">
<h1>VARIABLES</h1> You can set the global variable $File::DesktopEntry::VERBOSE. If set the module print a warning every time a command gets executed.<div class="spacer">
</div>
The global variable $File::DesktopEntry::LOCALE tells you what the default locale being used is. However, changing it will not change the default locale.</div>
<div class="section">
<h1>AUTOLOAD</h1> All methods that start with a capital are autoloaded as &quot;get(KEY)&quot; where key is the autoloaded method name.</div>
<div class="section">
<h1>METHODS</h1><dl>
<dt>
&quot;new(FILE)&quot;</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
&quot;new(\$TEXT)&quot;</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
&quot;new(NAME)&quot;</dt>
<dd>
Constructor. FILE, NAME or TEXT are optional arguments.<div style="height: 1.00em;">
&#160;</div>
When a name is given (a string without '&quot;/&quot;', '&quot;\&quot;' or '&quot;.&quot;') a lookup is done using File::BaseDir. If the file found in this lookup is not writable or if no file was found, the XDG_DATA_HOME path will be used when writing.</dd>
</dl>
<dl>
<dt>
&quot;lookup(NAME)&quot;</dt>
<dd>
Returns a filename for a desktop entry with desktop file id NAME.</dd>
</dl>
<dl>
<dt>
&quot;wants_uris( )&quot;</dt>
<dd>
Returns true if the Exec string for this desktop entry specifies that the application uses URIs instead of paths. This can be used to determine whether an application uses a VFS library.</dd>
</dl>
<dl>
<dt>
&quot;wants_list( )&quot;</dt>
<dd>
Returns true if the Exec tring for this desktop entry specifies that the application can handle multiple arguments at once.</dd>
</dl>
<dl>
<dt>
&quot;run(@FILES)&quot;</dt>
<dd>
Forks and runs the application specified in this Desktop Entry with arguments FILES as a background process. Returns the pid.<div style="height: 1.00em;">
&#160;</div>
The child process fails when this is not a Desktop Entry of type Application or if the Exec key is missing or invalid.<div style="height: 1.00em;">
&#160;</div>
If the desktop entry specifies that the program needs to be executed in a terminal the $TERMINAL environment variable is used. If this variable is not set &quot;xterm -e&quot; is used as default.<div style="height: 1.00em;">
&#160;</div>
(On Windows this method returns a Win32::Process object.)</dd>
</dl>
<dl>
<dt>
&quot;system(@FILES)&quot;</dt>
<dd>
Like &quot;run()&quot; but using the &quot;system()&quot; system call. It only return after the application has ended.</dd>
</dl>
<dl>
<dt>
&quot;exec(@FILES)&quot;</dt>
<dd>
Like &quot;run()&quot; but using the &quot;exec()&quot; system call. This method is expected not to return but to replace the current process with the application you try to run.<div style="height: 1.00em;">
&#160;</div>
On Windows this method doesn't always work the way you want it to due to the &quot;fork()&quot; emulation on this platform. Try using &quot;run()&quot; or &quot;system()&quot; instead.</dd>
</dl>
<dl>
<dt>
&quot;parse_Exec(@FILES)&quot;</dt>
<dd>
Expands the Exec format in this desktop entry with. Returns a properly quoted string in scalar context or a list of words in list context. Dies when the Exec key is invalid.<div style="height: 1.00em;">
&#160;</div>
It supports the following fields:<div style="height: 1.00em;">
&#160;</div>
<br/>
        %f      single file<br/>
        %F      multiple files<br/>
        %u      single url<br/>
        %U      multiple urls<br/>
        %i      Icon field prefixed by --icon<br/>
        %c      Name field, possibly translated<br/>
        %k      location of this .desktop file<br/>
        %%      literal '%'<br/>
<div style="height: 1.00em;">
&#160;</div>
If necessary this method tries to convert between paths and URLs but this is not perfect.<div style="height: 1.00em;">
&#160;</div>
Fields that are deprecated, but (still) supported by this module:<div style="height: 1.00em;">
&#160;</div>
<br/>
        %d      single directory<br/>
        %D      multiple directories<br/>
<div style="height: 1.00em;">
&#160;</div>
The fields %n, %N, %v and %m are deprecated and will cause a warning if $VERBOSE is used. Any other unknown fields will cause an error.<div style="height: 1.00em;">
&#160;</div>
The fields %F, %U, %D and %i can only occur as seperate words because they expand to multiple arguments.<div style="height: 1.00em;">
&#160;</div>
Also see &quot;LIMITATIONS&quot;.</dd>
</dl>
<dl>
<dt>
&quot;get(KEY)&quot;</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
&quot;get(GROUP, KEY)&quot;</dt>
<dd>
Get a value for KEY from GROUP. If GROUP is not specified 'Desktop Entry' is used. All values are treated as string, so e.g. booleans will be returned as the literal strings &quot;true&quot; and &quot;false&quot;.<div style="height: 1.00em;">
&#160;</div>
When KEY does not contain a language code you get the translation in the current locale if available or a sensible default. The request a specific language you can add the language part. E.g. &quot;$entry-&gt;get('Name[nl_NL]')&quot; can return either the value of the 'Name[nl_NL]', the 'Name[nl]' or the 'Name' key in the Desktop Entry file. Exact language parsing order can be found in the spec. To force you get the untranslated key use either 'Name[C]' or 'Name[POSIX]'.</dd>
</dl>
<dl>
<dt>
&quot;set(KEY =&gt; VALUE, ...)&quot;</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
&quot;set(GROUP, KEY =&gt; VALUE, ...)&quot;</dt>
<dd>
Set values for one or more keys. If GROUP is not given &quot;Desktop Entry&quot; is used. All values are treated as strings, backslashes, newlines and tabs are escaped. To set a boolean key you need to use the literal strings &quot;true&quot; and &quot;false&quot;.<div style="height: 1.00em;">
&#160;</div>
Unlike the &quot;get()&quot; call languages are not handled automatically for &quot;set()&quot;. KEY should include the language part if you want to set a translation. E.g. &quot;$entry-&gt;set(&quot;Name[nl_NL]&quot; =&gt; &quot;Tekst Verwerker&quot;)&quot; will set a Dutch translation for the Name key. Using either &quot;Name[C]&quot; or &quot;Name[POSIX]&quot; will be equivalent with not giving a language argument.<div style="height: 1.00em;">
&#160;</div>
When setting the the Exec key without specifying a group it will be parsed and quoted correctly as required by the spec. You can use quoted arguments to include whitespace in a argument, escaping whitespace does not work. To circumvent this quoting explicitly give the group name 'Desktop Entry'.</dd>
</dl>
<dl>
<dt>
&quot;text()&quot;</dt>
<dd>
Returns the (modified) text of the file.</dd>
</dl>
<dl>
<dt>
&quot;read(FILE)&quot;</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
&quot;read(\$SCALAR)&quot;</dt>
<dd>
Read Desktop Entry data from file or memory buffer. Without argument defaults to file given at constructor.<div style="height: 1.00em;">
&#160;</div>
If you gave a file, text buffer or name to the constructor this method will be called automatically.</dd>
</dl>
<dl>
<dt>
&quot;read_fh(IO)&quot;</dt>
<dd>
Read Desktop Entry data from filehandle or IO object.</dd>
</dl>
<dl>
<dt>
&quot;write(FILE)&quot;</dt>
<dd>
Write the Desktop Entry data to FILE. Without arguments it writes to the filename given to the constructor if any.<div style="height: 1.00em;">
&#160;</div>
The keys Name and Type are required. Type can be either &quot;Application&quot;, &quot;Link&quot; or &quot;Directory&quot;. For an application set the optional key &quot;Exec&quot;. For a link set the &quot;URL&quot; key.</dd>
</dl>
<div class="subsection">
<h2>Backwards Compatibility</h2> Methods supported for backwards compatibility with 0.02.<dl>
<dt>
&quot;new_from_file(FILE)&quot;</dt>
<dd>
Alias for &quot;new(FILE)&quot;.</dd>
</dl>
<dl>
<dt>
&quot;new_from_data(TEXT)&quot;</dt>
<dd>
Alias for &quot;new(\$TEXT)&quot;.</dd>
</dl>
<dl>
<dt>
&quot;get_value(NAME, GROUP, LANG)&quot;</dt>
<dd>
Identical to &quot;get(GROUP, &quot;NAME[LANG]&quot;)&quot;. LANG defaults to 'C', GROUP is optional.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>NON-UNIX PLATFORMS</h1> This module has a few bit of code to make it save on Windows. It handles &quot;file://&quot; uri a bit different and it uses Win32::Process. On other platforms your mileage may vary.<div class="spacer">
</div>
Please note that the specification is targeting Unix platforms only and will only have limited relevance on other platforms. Any platform dependend behavior in this module should be considerd an extension of the spec.</div>
<div class="section">
<h1>LIMITATIONS</h1> If you try to exec a remote file with an application that can only handle files on the local file system we should -according to the spec- download the file to a temp location. This is not supported. Use the &quot;wants_uris()&quot; method to check if an application supports urls.<div class="spacer">
</div>
The values of the various Desktop Entry keys are not parsed (except for the Exec key). This means that booleans will be returned as the strings &quot;true&quot; and &quot;false&quot; and lists will still be &quot;;&quot; seperated.<div class="spacer">
</div>
If the icon is given as name and not as path it should be resolved for the %i code in the Exec key. We need a seperate module for the icon spec to deal with this.<div class="spacer">
</div>
Files are read and writen using utf8, this is not available on perl versions before 5.8. As a result for older perl versions translations in UTF-8 will not be translated properly.<div class="spacer">
</div>
According to the spec comments can contain any encoding. However since this module read files as utf8, invalid UTF-8 characters in a comment will cause an error.<div class="spacer">
</div>
There is no support for Legacy-Mixed Encoding. Everybody is using utf8 now ... right ?</div>
<div class="section">
<h1>AUTHOR</h1> Jaap Karssenberg (Pardus) &lt;pardus@cpan.org&gt;<div class="spacer">
</div>
Copyright (c) 2005, 2007 Jaap G Karssenberg. All rights reserved. This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<div class="section">
<h1>SEE ALSO</h1> http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec &lt;http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec&gt;<div class="spacer">
</div>
File::BaseDir and File::MimeInfo::Applications<div class="spacer">
</div>
X11::FreeDesktop::DesktopEntry</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-10-17</td>
<td class="foot-os">
perl v5.12.4</td>
</tr>
</table>
</div>
</body>
</html>

