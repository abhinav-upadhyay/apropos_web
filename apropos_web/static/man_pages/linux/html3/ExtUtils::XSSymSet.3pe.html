<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ExtUtils::XSSymSet(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
ExtUtils::XSSymSet(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
ExtUtils::XSSymSet(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ExtUtils::XSSymSet - keep sets of symbol names palatable to the VMS linker</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use ExtUtils::XSSymSet;<br/>
<br/>
  $set = new ExtUtils::XSSymSet;<br/>
  while ($sym = make_symbol()) { $set-&gt;addsym($sym); }<br/>
  foreach $safesym ($set-&gt;all_trimmed) {<br/>
    print &quot;Processing $safesym (derived from &quot;,$self-&gt;get_orig($safesym),&quot;)\n&quot;;<br/>
    do_stuff($safesym);<br/>
  }<br/>
<br/>
  $safesym = ExtUtils::XSSymSet-&gt;trimsym($onesym);<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Since the VMS linker distinguishes symbols based only on the first 31 characters of their names, it is occasionally necessary to shorten symbol names in order to avoid collisions.  (This is especially true of names generated by xsubpp, since prefixes generated by nested package names can become quite long.)  &quot;ExtUtils::XSSymSet&quot; provides functions to shorten names in a consistent fashion, and to track a set of names to insure that each is unique.  While designed with  <i>xsubpp</i> in mind, it may be used with any set of strings.<div class="spacer">
</div>
This package supplies the following functions, all of which should be called as methods.<dl>
<dt>
new([$maxlen[,$silent]])</dt>
<dd>
Creates an empty &quot;ExtUtils::XSSymset&quot; set of symbols.  This function may be called as a static method or via an existing object.  If $maxlen or $silent are specified, they are used as the defaults for maximum name length and warning behavior in future calls to  <i>addsym()</i> or  <i>trimsym()</i> via this object.  If the compiler has been instructed to do its own symbol shortening via $Config{'useshortenedsymbols'}, a value of 2048 is assumed for $maxlen as a way of bypassing the shortening done by this module.</dd>
</dl>
<dl>
<dt>
addsym($name[,$maxlen[,$silent]])</dt>
<dd>
Creates a symbol name from $name, using the methods described under  <i>trimsym()</i>, which is unique in this set of symbols, and returns the new name.  $name and its resultant are added to the set, and any future calls to  <i>addsym()</i> specifying the same $name will return the same result, regardless of the value of $maxlen specified. Unless $silent is true, warnings are output if $name had to be trimmed or changed in order to avoid collision with an existing symbol name.  $maxlen and $silent default to the values specified when this set of symbols was created.  This method must be called via an existing object.</dd>
</dl>
<dl>
<dt>
trimsym($name[,$maxlen[,$silent]])</dt>
<dd>
Creates a symbol name $maxlen or fewer characters long from $name and returns it. If $name is too long, it first tries to shorten it by removing duplicate characters, then by periodically removing non-underscore characters, and finally, if necessary, by periodically removing characters of any type.  $maxlen defaults to 31.  Unless $silent is true, a warning is output if $name is altered in any way.  This function may be called either as a static method or via an existing object, but in the latter case no check is made to insure that the resulting name is unique in the set of symbols.    If the compiler has been instructed to do its own symbol shortening via $Config{'useshortenedsymbols'}, a value of 2048 is assumed for $maxlen as a way of bypassing the shortening done by this module.</dd>
</dl>
<dl>
<dt>
delsym($name)</dt>
<dd>
Removes $name from the set of symbols, where $name is the original symbol name passed previously to  <i>addsym()</i>.  If $name existed in the set of symbols, returns its &quot;trimmed&quot; equivalent, otherwise returns &quot;undef&quot;.  This method must be called via an existing object.</dd>
</dl>
<dl>
<dt>
get_orig($trimmed)</dt>
<dd>
Returns the original name which was trimmed to $trimmed by a previous call to  <i>addsym()</i>, or &quot;undef&quot; if $trimmed does not correspond to a member of this set of symbols.  This method must be called via an existing object.</dd>
</dl>
<dl>
<dt>
get_trimmed($name)</dt>
<dd>
Returns the trimmed name which was generated from $name by a previous call to  <i>addsym()</i>, or &quot;undef&quot; if $name is not a member of this set of symbols.  This method must be called via an existing object.</dd>
</dl>
<dl>
<dt>
<i>all_orig()</i></dt>
<dd>
Returns a list containing all of the original symbol names from this set.</dd>
</dl>
<dl>
<dt>
<i>all_trimmed()</i></dt>
<dd>
Returns a list containing all of the trimmed symbol names from this set.</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> Charles Bailey  &lt; <i>bailey@newman.upenn.edu</i>&gt;</div>
<div class="section">
<h1>REVISION</h1> Last revised 8-Oct-2010, for Perl 5.13.6.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-19</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

