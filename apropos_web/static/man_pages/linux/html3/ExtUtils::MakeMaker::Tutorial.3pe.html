<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ExtUtils::MakeMaker::Tutorial(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
ExtUtils::MakeMaker::Tutorial(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
ExtUtils::MakeMaker::Tutorial(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ExtUtils::MakeMaker::Tutorial - Writing a module with MakeMaker</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    use ExtUtils::MakeMaker;<br/>
<br/>
    WriteMakefile(<br/>
        NAME            =&gt; 'Your::Module',<br/>
        VERSION_FROM    =&gt; 'lib/Your/Module.pm'<br/>
    );<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This is a short tutorial on writing a simple module with MakeMaker. Its really not that hard.<div class="subsection">
<h2>The Mantra</h2> MakeMaker modules are installed using this simple mantra<div class="spacer">
</div>
<br/>
        perl Makefile.PL<br/>
        make<br/>
        make test<br/>
        make install<br/>
<div class="spacer">
</div>
There are lots more commands and options, but the above will do it.</div>
<div class="subsection">
<h2>The Layout</h2> The basic files in a module look something like this.<div class="spacer">
</div>
<br/>
        Makefile.PL<br/>
        MANIFEST<br/>
        lib/Your/Module.pm<br/>
<div class="spacer">
</div>
That's all that's strictly necessary.  There's additional files you might want:<div class="spacer">
</div>
<br/>
        lib/Your/Other/Module.pm<br/>
        t/some_test.t<br/>
        t/some_other_test.t<br/>
        Changes<br/>
        README<br/>
        INSTALL<br/>
        MANIFEST.SKIP<br/>
        bin/some_program<br/>
<dl>
<dt>
Makefile.PL</dt>
<dd>
When you run Makefile.PL, it makes a Makefile.  That's the whole point of MakeMaker.  The Makefile.PL is a simple program which loads ExtUtils::MakeMaker and runs the  <i>WriteMakefile()</i> function to generate a Makefile.<div style="height: 1.00em;">
&#160;</div>
Here's an example of what you need for a simple module:<div style="height: 1.00em;">
&#160;</div>
<br/>
    use ExtUtils::MakeMaker;<br/>
<br/>
    WriteMakefile(<br/>
        NAME            =&gt; 'Your::Module',<br/>
        VERSION_FROM    =&gt; 'lib/Your/Module.pm'<br/>
    );<br/>
<div style="height: 1.00em;">
&#160;</div>
NAME is the top-level namespace of your module.  VERSION_FROM is the file which contains the $VERSION variable for the entire distribution.  Typically this is the same as your top-level module.</dd>
</dl>
<dl>
<dt>
MANIFEST</dt>
<dd>
A simple listing of all the files in your distribution.<div style="height: 1.00em;">
&#160;</div>
<br/>
        Makefile.PL<br/>
        MANIFEST<br/>
        lib/Your/Module.pm<br/>
<div style="height: 1.00em;">
&#160;</div>
File paths in a MANIFEST always use Unix conventions (ie. /) even if you're not on Unix.<div style="height: 1.00em;">
&#160;</div>
You can write this by hand or generate it with 'make manifest'.<div style="height: 1.00em;">
&#160;</div>
See ExtUtils::Manifest for more details.</dd>
</dl>
<dl>
<dt>
lib/</dt>
<dd>
This is the directory where your .pm and .pod files you wish to have installed go.  They are layed out according to namespace.  So Foo::Bar is  <i>lib/Foo/Bar.pm</i>.</dd>
</dl>
<dl>
<dt>
t/</dt>
<dd>
Tests for your modules go here.  Each test filename ends with a .t. So  <i>t/foo.t</i>/  'make test' will run these tests.  The directory is flat, you cannot, for example, have t/foo/bar.t run by 'make test'.<div style="height: 1.00em;">
&#160;</div>
Tests are run from the top level of your distribution.  So inside a test you would refer to ./lib to enter the lib directory, for example.</dd>
</dl>
<dl>
<dt>
Changes</dt>
<dd>
A log of changes you've made to this module.  The layout is free-form. Here's an example:<div style="height: 1.00em;">
&#160;</div>
<br/>
    1.01 Fri Apr 11 00:21:25 PDT 2003<br/>
        - thing() does some stuff now<br/>
        - fixed the wiggy bug in withit()<br/>
<br/>
    1.00 Mon Apr  7 00:57:15 PDT 2003<br/>
        - &quot;Rain of Frogs&quot; now supported<br/>
</dd>
</dl>
<dl>
<dt>
README</dt>
<dd>
A short description of your module, what it does, why someone would use it and its limitations.  CPAN automatically pulls your README file out of the archive and makes it available to CPAN users, it is the first thing they will read to decide if your module is right for them.</dd>
</dl>
<dl>
<dt>
INSTALL</dt>
<dd>
Instructions on how to install your module along with any dependencies. Suggested information to include here:<div style="height: 1.00em;">
&#160;</div>
<br/>
    any extra modules required for use<br/>
    the minimum version of Perl required<br/>
    if only works on certain operating systems<br/>
</dd>
</dl>
<dl>
<dt>
MANIFEST.SKIP</dt>
<dd>
A file full of regular expressions to exclude when using 'make manifest' to generate the MANIFEST.  These regular expressions are checked against each file path found in the distribution (so you're matching against &quot;t/foo.t&quot; not &quot;foo.t&quot;).<div style="height: 1.00em;">
&#160;</div>
Here's a sample:<div style="height: 1.00em;">
&#160;</div>
<br/>
    ~$          # ignore emacs and vim backup files<br/>
    .bak$       # ignore manual backups<br/>
    \#          # ignore CVS old revision files and emacs temp files<br/>
<div style="height: 1.00em;">
&#160;</div>
Since # can be used for comments, # must be escaped.<div style="height: 1.00em;">
&#160;</div>
MakeMaker comes with a default MANIFEST.SKIP to avoid things like version control directories and backup files.  Specifying your own will override this default.</dd>
</dl>
<dl>
<dt>
bin/</dt>
<dd>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> perlmodstyle gives stylistic help writing a module.<div class="spacer">
</div>
perlnewmod gives more information about how to write a module.<div class="spacer">
</div>
There are modules to help you through the process of writing a module: ExtUtils::ModuleMaker, Module::Install, PAR</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

