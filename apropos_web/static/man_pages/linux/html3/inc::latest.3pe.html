<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
inc::latest(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
inc::latest(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
inc::latest(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> inc::latest - use modules bundled in inc/ if they are newer than installed ones</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  # in Build.PL<br/>
  use inc::latest 'Module::Build';<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The &quot;inc::latest&quot; module helps bootstrap configure-time dependencies for CPAN distributions.  These dependencies get bundled into the &quot;inc&quot; directory within a distribution and are used by Build.PL (or Makefile.PL).<div class="spacer">
</div>
Arguments to &quot;inc::latest&quot; are module names that are checked against both the current @INC array and against specially-named directories in &quot;inc&quot;.  If the bundled verison is newer than the installed one (or the module isn't installed, then, the bundled directory is added to the start of &lt;@INC&gt; and the module is loaded from there.<div class="spacer">
</div>
There are actually two variations of &quot;inc::latest&quot; -- one for authors and one for the &quot;inc&quot; directory.  For distribution authors, the &quot;inc::latest&quot; installed in the system will record modules loaded via &quot;inc::latest&quot; and can be used to create the bundled files in &quot;inc&quot;, including writing the second variation as &quot;inc/latest.pm&quot;.<div class="spacer">
</div>
This second &quot;inc::latest&quot; is the one that is loaded in a distribution being installed (e.g. from Build.PL).  This bundled &quot;inc::latest&quot; is the one that determines which module to load.<div class="subsection">
<h2>Special notes on bundling</h2> The &quot;inc::latest&quot; module creates bundled directories based on the packlist file of an installed distribution.  Even though &quot;inc::latest&quot; takes module name arguments, it is better to think of it as bundling and making available entire  <i>distributions</i>.  When a module is loaded through &quot;inc::latest&quot;, it looks in all bundled distributions in &quot;inc/&quot; for a newer module than can be found in the existing @INC array.<div class="spacer">
</div>
Thus, the module-name provided should usually be the &quot;top-level&quot; module name of a distribution, though this is not strictly required.  For example, Module::Build has a number of heuristics to map module names to packlists, allowing users to do things like this:<div class="spacer">
</div>
<br/>
  use inc::latest 'Devel::AssertOS::Unix';<br/>
<div class="spacer">
</div>
even though Devel::AssertOS::Unix is contained within the Devel-CheckOS distribution.<div class="spacer">
</div>
At the current time, packlists are required.  Thus, bundling dual-core modules may require a 'forced install' over versions in the latest version of perl in order to create the necessary packlist for bundling.</div>
</div>
<div class="section">
<h1>USAGE</h1> When calling &quot;use&quot;, the bundled &quot;inc::latest&quot; takes a single module name and optional arguments to pass to that module's own import method.<div class="spacer">
</div>
<br/>
  use 'inc::latest' 'Foo::Bar' qw/foo bar baz/;<br/>
<div class="subsection">
<h2>Author-mode</h2> You are in author-mode inc::latest if any of the Author-mode methods are available.  For example:<div class="spacer">
</div>
<br/>
  if ( inc::latest-&gt;can('write') ) {<br/>
    inc::latest-&gt;write('inc');<br/>
  }<br/>
<dl>
<dt>
<i>loaded_modules()</i></dt>
<dd>
<br/>
  my @list = inc::latest-&gt;loaded_modules;<br/>
<div style="height: 1.00em;">
&#160;</div>
This takes no arguments and always returns a list of module names requested for loading via &quot;use inc::latest 'MODULE'&quot;, regardless of wether the load was successful or not.</dd>
</dl>
<dl>
<dt>
<i>write()</i></dt>
<dd>
<br/>
  inc::latest-&gt;write( 'inc' );<br/>
<div style="height: 1.00em;">
&#160;</div>
This writes the bundled version of inc::latest to the directory name given as an argument.  It almost all cases, it should be '&quot;inc&quot;'.</dd>
</dl>
<dl>
<dt>
<i>bundle_module()</i></dt>
<dd>
<br/>
  for my $mod ( inc::latest-&gt;loaded_modules ) {<br/>
    inc::latest-&gt;bundle_module($mod, $dir);<br/>
  }<br/>
<div style="height: 1.00em;">
&#160;</div>
If $mod corresponds to a packlist, then this function creates a specially-named directory in $dir and copies all .pm files from the modlist to the new directory (which almost always should just be 'inc').  For example, if Foo::Bar is the name of the module, and $dir is 'inc', then the directory would be 'inc/inc_Foo-Bar' and contain files like this:<div style="height: 1.00em;">
&#160;</div>
<br/>
  inc/inc_Foo-Bar/Foo/Bar.pm<br/>
<div style="height: 1.00em;">
&#160;</div>
Currently, $mod <b>must</b> have a packlist.  If this is not the case (e.g. for a dual-core module), then the bundling will fail.  You may be able to create a packlist by forced installing the module on top of the version that came with core Perl.</dd>
</dl>
</div>
<div class="subsection">
<h2>As bundled in inc/</h2> All methods are private.  Only the &quot;import&quot; method is public.</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Eric Wilhelm &lt;ewilhelm@cpan.org&gt;, David Golden &lt;dagolden@cpan.org&gt;</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright (c) 2009 by Eric Wilhelm and David Golden<div class="spacer">
</div>
This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<div class="section">
<h1>SEE ALSO</h1> Module::Build</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

