<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
CmdLine(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CmdLine(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
CmdLine(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Tk::CmdLine - Process standard X11 command line options and set initial resources</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  Tk::CmdLine::SetArguments([@argument]);<br/>
<br/>
  my $value = Tk::CmdLine::cget([$option]);<br/>
<br/>
  Tk::CmdLine::SetResources((\@resource | $resource) [, $priority]);<br/>
<br/>
  Tk::CmdLine::LoadResources(<br/>
      [ -symbol   =&gt; $symbol     ]<br/>
      [ -file     =&gt; $fileSpec   ]<br/>
      [ -priority =&gt; $priority   ]<br/>
      [ -echo     =&gt; $fileHandle ] );<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Process standard X11 command line options and set initial resources.<div class="spacer">
</div>
The X11R5 man page for X11 says: &quot;Most X programs attempt to use the same names for command line options and arguments. All applications written with the X Toolkit Intrinsics automatically accept the following options: ...&quot;. This module processes these command line options for perl/Tk applications using the &quot;SetArguments&quot;() function.<div class="spacer">
</div>
This module can optionally be used to load initial resources explicitly via function &quot;SetResources&quot;(), or from specified files (default: the standard X11 application-specific resource files) via function &quot;LoadResources&quot;().<div class="subsection">
<h2>Command Line Options</h2><dl>
<dt>
<b>-background</b> <i>Color</i> | <b>-bg</b> <i>Color</i></dt>
<dd>
Specifies the color to be used for the window background.</dd>
</dl>
<dl>
<dt>
<b>-class</b> <i>Class</i></dt>
<dd>
Specifies the class under which resources for the application should be found. This option is useful in shell aliases to distinguish between invocations of an application, without resorting to creating links to alter the executable file name.</dd>
</dl>
<dl>
<dt>
<b>-display</b> <i>Display</i> | <b>-screen</b> <i>Display</i></dt>
<dd>
Specifies the name of the X server to be used.</dd>
</dl>
<dl>
<dt>
<b>-font</b> <i>Font</i> | <b>-fn</b> <i>Font</i></dt>
<dd>
Specifies the font to be used for displaying text.</dd>
</dl>
<dl>
<dt>
<b>-foreground</b> <i>Color</i> | <b>-fg</b> <i>Color</i></dt>
<dd>
Specifies the color to be used for text or graphics.</dd>
</dl>
<dl>
<dt>
<b>-geometry</b> <i>Geometry</i></dt>
<dd>
Specifies the initial size and location of the <i>first</i> MainWindow.</dd>
</dl>
<dl>
<dt>
<b>-iconic</b></dt>
<dd>
Indicates that the user would prefer that the application's windows initially not be visible as if the windows had been immediately iconified by the user. Window managers may choose not to honor the application's request.</dd>
</dl>
<dl>
<dt>
<b>-motif</b></dt>
<dd>
Specifies that the application should adhere as closely as possible to Motif look-and-feel standards. For example, active elements such as buttons and scrollbar sliders will not change color when the pointer passes over them.</dd>
</dl>
<dl>
<dt>
<b>-name</b> <i>Name</i></dt>
<dd>
Specifies the name under which resources for the application should be found. This option is useful in shell aliases to distinguish between invocations of an application, without resorting to creating links to alter the executable file name.</dd>
</dl>
<dl>
<dt>
<b>-synchronous</b></dt>
<dd>
Indicates that requests to the X server should be sent synchronously, instead of asynchronously. Since Xlib normally buffers requests to the server, errors do do not necessarily get reported immediately after they occur. This option turns off the buffering so that the application can be debugged. It should never be used with a working program.</dd>
</dl>
<dl>
<dt>
<b>-title</b> <i>TitleString</i></dt>
<dd>
This option specifies the title to be used for this window. This information is sometimes used by a window manager to provide some sort of header identifying the window.</dd>
</dl>
<dl>
<dt>
<b>-xrm</b> <i>ResourceString</i></dt>
<dd>
Specifies a resource pattern and value to override any defaults. It is also very useful for setting resources that do not have explicit command line arguments.<div style="height: 1.00em;">
&#160;</div>
The <i>ResourceString</i> is of the form &lt;<i>pattern</i>&gt;:&lt;<i>value</i>&gt;, that is (the first) ':' is used to determine which part is pattern and which part is value. The (&lt; <i>pattern</i>&gt;, &lt;<i>value</i>&gt;) pair is entered into the options database with  <b>optionAdd</b> (for each MainWindow configured), with  <i>interactive</i> priority.</dd>
</dl>
</div>
<div class="subsection">
<h2>Initial Resources</h2> There are several mechanism for initializing the resource database to be used by an X11 application. Resources may be defined in a $&quot;HOME&quot;/.Xdefaults file, a system application defaults file (e.g. /usr/lib/X11/app-defaults/&lt; <b>CLASS</b>&gt;), or a user application defaults file (e.g. $&quot;HOME&quot;/&lt; <b>CLASS</b>&gt;). The Tk::CmdLine functionality for setting initial resources concerns itself with the latter two.<div class="spacer">
</div>
Resource files contain data lines of the form &lt; <i>pattern</i>&gt;:&lt;<i>value</i>&gt;. They may also contain blank lines and comment lines (denoted by a ! character as the first non-blank character). Refer to option for a description of &lt; <i>pattern</i>&gt;:&lt;<i>value</i>&gt;.<dl>
<dt>
System Application Defaults Files</dt>
<dd>
System application defaults files may be specified via environment variable $&quot;XFILESEARCHPATH&quot; which, if set, contains a list of file patterns (joined using the OS-dependent path delimiter, e.g. colon on  <b>UNIX</b>).</dd>
</dl>
<dl>
<dt>
User Application Defaults Files</dt>
<dd>
User application defaults files may be specified via environment variables $&quot;XUSERFILESEARCHPATH&quot;, $&quot;XAPPLRESDIR&quot; or $&quot;HOME&quot;.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>METHODS</h1><dl>
<dt>
<b>SetArguments</b> - Tk::CmdLine::SetArguments([@argument])</dt>
<dd>
Extract the X11 options contained in a specified array (@ARGV by default).<div style="height: 1.00em;">
&#160;</div>
<br/>
  Tk::CmdLine::SetArguments([@argument])<br/>
<div style="height: 1.00em;">
&#160;</div>
The X11 options may be specified using a single dash <i>-</i> as per the X11 convention, or using two dashes  <i>--</i> as per the POSIX standard (e.g.  <b>-geometry</b> <i>100x100</i>, <b>-geometry</b> <i>100x100</i> or <b>-geometry=</b><i>100x100</i>). The options may be interspersed with other options or arguments. A  <i>--</i> by itself terminates option processing.<div style="height: 1.00em;">
&#160;</div>
By default, command line options are extracted from @ARGV the first time a MainWindow is created. The Tk::MainWindow constructor indirectly invokes &quot;SetArguments&quot;() to do this.</dd>
</dl>
<dl>
<dt>
<b>GetArguments</b> - <i>Tk::CmdLine::GetArguments()</i></dt>
<dd>
Get a list of the X11 options that have been processed by &quot;SetArguments&quot;(). (&quot;GetArguments&quot;() first invokes &quot;SetArguments&quot;() if it has not already been invoked.)</dd>
</dl>
<dl>
<dt>
<b>cget</b> - Tk::CmdLine::cget([$option])</dt>
<dd>
Get the value of a configuration option specified via &quot;SetArguments&quot;(). (&quot;cget&quot;() first invokes &quot;SetArguments&quot;() if it has not already been invoked.)<div style="height: 1.00em;">
&#160;</div>
<br/>
  Tk::CmdLine::cget([$option])<br/>
<div style="height: 1.00em;">
&#160;</div>
The valid options are: <b>-class</b>, <b>-name</b>, <b>-screen</b> and <b>-title</b>. If no option is specified,  <b>-class</b> is implied.<div style="height: 1.00em;">
&#160;</div>
A typical use of &quot;cget&quot;() might be to obtain the application class in order to define the name of a resource file to be loaded in via &quot;LoadResources&quot;().<div style="height: 1.00em;">
&#160;</div>
<br/>
  my $class = Tk::CmdLine::cget(); # process command line and return class<br/>
</dd>
</dl>
<dl>
<dt>
<b>SetResources</b> - Tk::CmdLine::SetResources((\@resource | $resource) [, $priority])</dt>
<dd>
Set the initial resources.<div style="height: 1.00em;">
&#160;</div>
<br/>
  Tk::CmdLine::SetResources((\@resource | $resource) [, $priority])<br/>
<div style="height: 1.00em;">
&#160;</div>
A single resource may be specified using a string of the form '&lt; <i>pattern</i>&gt;:&lt;<i>value</i>&gt;'. Multiple resources may be specified by passing an array reference whose elements are either strings of the above form, and/or anonymous arrays of the form [ &lt; <i>pattern</i>&gt;, &lt; <i>value</i>&gt; ]. The optional second argument specifies the priority, as defined in option, to be associated with the resources (default:  <i>userDefault</i>).<div style="height: 1.00em;">
&#160;</div>
Note that &quot;SetResources&quot;() first invokes &quot;SetArguments&quot;() if it has not already been invoked.</dd>
</dl>
<dl>
<dt>
<b>LoadResources</b> - Tk::CmdLine::LoadResources([%options])</dt>
<dd>
Load initial resources from one or more files.<div style="height: 1.00em;">
&#160;</div>
<br/>
  Tk::CmdLine::LoadResources(<br/>
      [ -symbol   =&gt; $symbol     ]<br/>
      [ -file     =&gt; $fileSpec   ]<br/>
      [ -priority =&gt; $priority   ]<br/>
      [ -echo     =&gt; $fileHandle ] );<br/>
<div style="height: 1.00em;">
&#160;</div>
[ <b>-symbol</b> =&gt; $symbol ] specifies the name of an environment variable that, if set, defines a list of one or more directories and/or file patterns (joined using the OS-dependent path delimiter, e.g. colon on  <b>UNIX</b>). $&quot;XUSERFILESEARCHPATH&quot; is a special case. If $&quot;XUSERFILESEARCHPATH&quot; is not set, $&quot;XAPPLRESDIR&quot; is checked instead. If $&quot;XAPPLRESDIR&quot; is not set, $&quot;HOME&quot; is checked instead.<div style="height: 1.00em;">
&#160;</div>
An item is identified as a file pattern if it contains one or more /%[A-Za-z]/ patterns. Only patterns  <b></b><b>%L</b><b></b>, <b></b><b>%T</b><b></b> and <b></b><b>%N</b><b></b> are currently recognized. All others are replaced with the null string. Pattern  <b></b><b>%L</b><b></b> is translated into $&quot;LANG&quot;. Pattern  <b></b><b>%T</b><b></b> is translated into <i>app-defaults</i>. Pattern <b></b><b>%N</b><b></b> is translated into the application class name.<div style="height: 1.00em;">
&#160;</div>
Each file pattern, after substitutions are applied, is assumed to define a FileSpec to be examined.<div style="height: 1.00em;">
&#160;</div>
When a directory is specified, FileSpecs &lt; <b>DIRECTORY</b>&gt;/&lt;<b>LANG</b>&gt;/&lt;<b>CLASS</b>&gt; and &lt; <b>DIRECTORY</b>&gt;/&lt;<b>CLASS</b>&gt; are defined, in that order.<div style="height: 1.00em;">
&#160;</div>
[ <b>-file</b> =&gt; $fileSpec ] specifies a resource file to be loaded in. The file is silently skipped if if does not exist, or if it is not readable.<div style="height: 1.00em;">
&#160;</div>
[ <b>-priority</b> =&gt; $priority ] specifies the priority, as defined in option, to be associated with the resources (default:  <i>userDefault</i>).<div style="height: 1.00em;">
&#160;</div>
[ <b>-echo</b> =&gt; $fileHandle ] may be used to specify that a line should be printed to the corresponding FileHandle (default: \*STDOUT) everytime a file is examined / loaded.<div style="height: 1.00em;">
&#160;</div>
If no <b>-symbol</b> or <b>-file</b> options are specified, &quot;LoadResources&quot;() processes symbol $&quot;XFILESEARCHPATH&quot; with priority  <i>startupFile</i> and $&quot;XUSERFILESEARCHPATH&quot; with priority  <i>userDefault</i>. (Note that $&quot;XFILESEARCHPATH&quot; and $&quot;XUSERFILESEARCHPATH&quot; are supposed to contain only patterns. $&quot;XAPPLRESDIR&quot; and $&quot;HOME&quot; are supposed to be a single directory. &quot;LoadResources&quot;() does not check/care whether this is the case.)<div style="height: 1.00em;">
&#160;</div>
For each set of FileSpecs, &quot;LoadResources&quot;() examines each FileSpec to determine if the file exists and is readable. The first file that meets this criteria is read in and &quot;SetResources&quot;() is invoked.<div style="height: 1.00em;">
&#160;</div>
Note that &quot;LoadResources&quot;() first invokes &quot;SetArguments&quot;() if it has not already been invoked.</dd>
</dl>
</div>
<div class="section">
<h1>NOTES</h1> This module is an object-oriented module whose methods can be invoked as object methods, class methods or regular functions. This is accomplished via an internally-maintained object reference which is created as necessary, and which always points to the last object used. &quot;SetArguments&quot;(), &quot;SetResources&quot;() and &quot;LoadResources&quot;() return the object reference.</div>
<div class="section">
<h1>EXAMPLES</h1><dl>
<dt>
1.</dt>
<dd>
@ARGV is processed by Tk::CmdLine at MainWindow creation.<div style="height: 1.00em;">
&#160;</div>
<br/>
  use Tk;<br/>
<br/>
  # &lt;Process @ARGV - ignoring all X11-specific options&gt;<br/>
<br/>
  my $mw = MainWindow-&gt;new();<br/>
<br/>
  MainLoop();<br/>
</dd>
</dl>
<dl>
<dt>
2.</dt>
<dd>
@ARGV is processed by Tk::CmdLine before MainWindow creation. An @ARGV of (--geometry=100x100 -opt1 a b c -bg red) is equal to (-opt1 a b c) after &quot;SetArguments&quot;() is invoked.<div style="height: 1.00em;">
&#160;</div>
<br/>
  use Tk;<br/>
<br/>
  Tk::CmdLine::SetArguments(); # Tk::CmdLine-&gt;SetArguments() works too<br/>
<br/>
  # &lt;Process @ARGV - not worrying about X11-specific options&gt;<br/>
<br/>
  my $mw = MainWindow-&gt;new();<br/>
<br/>
  MainLoop();<br/>
</dd>
</dl>
<dl>
<dt>
3.</dt>
<dd>
Just like 2) except that default arguments are loaded first.<div style="height: 1.00em;">
&#160;</div>
<br/>
  use Tk;<br/>
<br/>
  Tk::CmdLine::SetArguments(qw(-name test -iconic));<br/>
  Tk::CmdLine::SetArguments();<br/>
<br/>
  # &lt;Process @ARGV - not worrying about X11-specific options&gt;<br/>
<br/>
  my $mw = MainWindow-&gt;new();<br/>
<br/>
  MainLoop();<br/>
</dd>
</dl>
<dl>
<dt>
4.</dt>
<dd>
@ARGV is processed by Tk::CmdLine before MainWindow creation. Standard resource files are loaded in before MainWindow creation.<div style="height: 1.00em;">
&#160;</div>
<br/>
  use Tk;<br/>
<br/>
  Tk::CmdLine::SetArguments();<br/>
<br/>
  # &lt;Process @ARGV - not worrying about X11-specific options&gt;<br/>
<br/>
  Tk::CmdLine::LoadResources();<br/>
<br/>
  my $mw = MainWindow-&gt;new();<br/>
<br/>
  MainLoop();<br/>
</dd>
</dl>
<dl>
<dt>
5.</dt>
<dd>
@ARGV is processed by Tk::CmdLine before MainWindow creation. Standard resource files are loaded in before MainWindow creation using non-default priorities.<div style="height: 1.00em;">
&#160;</div>
<br/>
  use Tk;<br/>
<br/>
  Tk::CmdLine::SetArguments();<br/>
<br/>
  # &lt;Process @ARGV - not worrying about X11-specific options&gt;<br/>
<br/>
  Tk::CmdLine::LoadResources(-echo =&gt; \*STDOUT,<br/>
      -priority =&gt; 65, -symbol =&gt; 'XFILESEARCHPATH' );<br/>
  Tk::CmdLine::LoadResources(-echo =&gt; \*STDOUT,<br/>
      -priority =&gt; 75, -symbol =&gt; 'XUSERFILESEARCHPATH' );<br/>
<br/>
  my $mw = MainWindow-&gt;new();<br/>
<br/>
  MainLoop();<br/>
</dd>
</dl>
<dl>
<dt>
6.</dt>
<dd>
@ARGV is processed by Tk::CmdLine before MainWindow creation. Standard resource files are loaded in before MainWindow creation. Individual resources are also loaded in before MainWindow creation.<div style="height: 1.00em;">
&#160;</div>
<br/>
  use Tk;<br/>
<br/>
  Tk::CmdLine::SetArguments();<br/>
<br/>
  # &lt;Process @ARGV - not worrying about X11-specific options&gt;<br/>
<br/>
  Tk::CmdLine::LoadResources();<br/>
<br/>
  Tk::CmdLine::SetResources( # set a single resource<br/>
      '*Button*background: red',<br/>
      'widgetDefault' );<br/>
<br/>
  Tk::CmdLine::SetResources( # set multiple resources<br/>
      [ '*Button*background: red', '*Button*foreground: blue' ],<br/>
      'widgetDefault' );<br/>
<br/>
  my $mw = MainWindow-&gt;new();<br/>
<br/>
  MainLoop();<br/>
</dd>
</dl>
</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>HOME</b> (optional)</dt>
<dd>
Home directory which may contain user application defaults files as $&quot;HOME&quot;/$&quot;LANG&quot;/&lt; <b>CLASS</b>&gt; or $&quot;HOME&quot;/&lt;<b>CLASS</b>&gt;.</dd>
</dl>
<dl>
<dt>
<b>LANG</b> (optional)</dt>
<dd>
The current language (default: <i>C</i>).</dd>
</dl>
<dl>
<dt>
<b>XFILESEARCHPATH</b> (optional)</dt>
<dd>
List of FileSpec patterns (joined using the OS-dependent path delimiter, e.g. colon on  <b>UNIX</b>) used in defining system application defaults files.</dd>
</dl>
<dl>
<dt>
<b>XUSERFILESEARCHPATH</b> (optional)</dt>
<dd>
List of FileSpec patterns (joined using the OS-dependent path delimiter, e.g. colon on  <b>UNIX</b>) used in defining user application defaults files.</dd>
</dl>
<dl>
<dt>
<b>XAPPLRESDIR</b> (optional)</dt>
<dd>
Directory containing user application defaults files as $&quot;XAPPLRESDIR&quot;/$&quot;LANG&quot;/&lt; <b>CLASS</b>&gt; or $&quot;XAPPLRESDIR&quot;/&lt; <b>CLASS</b>&gt;.</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> MainWindow option</div>
<div class="section">
<h1>HISTORY</h1><dl>
<dt>
&#8226;</dt>
<dd>
1999.03.04 Ben Pavon &lt;ben.pavon@hsc.hac.com&gt;<div style="height: 1.00em;">
&#160;</div>
Rewritten as an object-oriented module.<div style="height: 1.00em;">
&#160;</div>
Allow one to process command line options in a specified array (@ARGV by default). Eliminate restrictions on the format and location of the options within the array (previously the X11 options could not be specified in POSIX format and had to be at the beginning of the array).<div style="height: 1.00em;">
&#160;</div>
Added the &quot;SetResources&quot;() and &quot;LoadResources&quot;() functions to allow the definition of resources prior to MainWindow creation.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
2000.08.31 Ben Pavon &lt;ben.pavon@hsc.hac.com&gt;<div style="height: 1.00em;">
&#160;</div>
Added the &quot;GetArguments&quot;() method which returns the list of arguments that have been processed by &quot;SetArguments&quot;().<div style="height: 1.00em;">
&#160;</div>
Modified &quot;LoadResources&quot;() to split the symbols using the OS-dependent path delimiter defined in the  <b>Config</b> module.<div style="height: 1.00em;">
&#160;</div>
Modified &quot;LoadResources&quot;() to eliminate a warning message when processing patterns  <b></b><b>%l</b><b></b>, <b></b><b>%C</b><b></b>, <b></b><b>%S</b><b></b>.</dd>
</dl>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2007-02-10</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

