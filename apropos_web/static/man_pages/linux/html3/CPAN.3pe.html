<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
CPAN(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CPAN(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
CPAN(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> CPAN - query, download and build perl modules from CPAN sites</div>
<div class="section">
<h1>SYNOPSIS</h1> Interactive mode:<div class="spacer">
</div>
<br/>
  perl -MCPAN -e shell<br/>
<div class="spacer">
</div>
--or--<div class="spacer">
</div>
<br/>
  cpan<br/>
<div class="spacer">
</div>
Basic commands:<div class="spacer">
</div>
<br/>
  # Modules:<br/>
<br/>
  cpan&gt; install Acme::Meta                       # in the shell<br/>
<br/>
  CPAN::Shell-&gt;install(&quot;Acme::Meta&quot;);            # in perl<br/>
<br/>
  # Distributions:<br/>
<br/>
  cpan&gt; install NWCLARK/Acme-Meta-0.02.tar.gz    # in the shell<br/>
<br/>
  CPAN::Shell-&gt;<br/>
    install(&quot;NWCLARK/Acme-Meta-0.02.tar.gz&quot;);    # in perl<br/>
<br/>
  # module objects:<br/>
<br/>
  $mo = CPAN::Shell-&gt;expandany($mod);<br/>
  $mo = CPAN::Shell-&gt;expand(&quot;Module&quot;,$mod);      # same thing<br/>
<br/>
  # distribution objects:<br/>
<br/>
  $do = CPAN::Shell-&gt;expand(&quot;Module&quot;,$mod)-&gt;distribution;<br/>
  $do = CPAN::Shell-&gt;expandany($distro);         # same thing<br/>
  $do = CPAN::Shell-&gt;expand(&quot;Distribution&quot;,<br/>
                            $distro);            # same thing<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The CPAN module automates or at least simplifies the make and install of perl modules and extensions. It includes some primitive searching capabilities and knows how to use LWP, HTTP::Tiny, Net::FTP and certain external download clients to fetch distributions from the net.<div class="spacer">
</div>
These are fetched from one or more mirrored CPAN (Comprehensive Perl Archive Network) sites and unpacked in a dedicated directory.<div class="spacer">
</div>
The CPAN module also supports named and versioned  <i>bundles</i> of modules. Bundles simplify handling of sets of related modules. See Bundles below.<div class="spacer">
</div>
The package contains a session manager and a cache manager. The session manager keeps track of what has been fetched, built, and installed in the current session. The cache manager keeps track of the disk space occupied by the make processes and deletes excess space using a simple FIFO mechanism.<div class="spacer">
</div>
All methods provided are accessible in a programmer style and in an interactive shell style.<div class="subsection">
<h2>CPAN::shell([$prompt, $command]) Starting Interactive Mode</h2> Enter interactive mode by running<div class="spacer">
</div>
<br/>
    perl -MCPAN -e shell<br/>
<div class="spacer">
</div>
or<div class="spacer">
</div>
<br/>
    cpan<br/>
<div class="spacer">
</div>
which puts you into a readline interface. If &quot;Term::ReadKey&quot; and either of &quot;Term::ReadLine::Perl&quot; or &quot;Term::ReadLine::Gnu&quot; are installed, history and command completion are supported.<div class="spacer">
</div>
Once at the command line, type &quot;h&quot; for one-page help screen; the rest should be self-explanatory.<div class="spacer">
</div>
The function call &quot;shell&quot; takes two optional arguments: one the prompt, the second the default initial command line (the latter only works if a real ReadLine interface module is installed).<div class="spacer">
</div>
The most common uses of the interactive modes are<dl>
<dt>
Searching for authors, bundles, distribution files and modules</dt>
<dd>
There are corresponding one-letter commands &quot;a&quot;, &quot;b&quot;, &quot;d&quot;, and &quot;m&quot; for each of the four categories and another, &quot;i&quot; for any of the mentioned four. Each of the four entities is implemented as a class with slightly differing methods for displaying an object.<div style="height: 1.00em;">
&#160;</div>
Arguments to these commands are either strings exactly matching the identification string of an object, or regular expressions matched case-insensitively against various attributes of the objects. The parser only recognizes a regular expression when you enclose it with slashes.<div style="height: 1.00em;">
&#160;</div>
The principle is that the number of objects found influences how an item is displayed. If the search finds one item, the result is displayed with the rather verbose method &quot;as_string&quot;, but if more than one is found, each object is displayed with the terse method &quot;as_glimpse&quot;.<div style="height: 1.00em;">
&#160;</div>
Examples:<div style="height: 1.00em;">
&#160;</div>
<br/>
  cpan&gt; m Acme::MetaSyntactic<br/>
  Module id = Acme::MetaSyntactic<br/>
      CPAN_USERID  BOOK (Philippe Bruhat (BooK) &lt;[...]&gt;)<br/>
      CPAN_VERSION 0.99<br/>
      CPAN_FILE    B/BO/BOOK/Acme-MetaSyntactic-0.99.tar.gz<br/>
      UPLOAD_DATE  2006-11-06<br/>
      MANPAGE      Acme::MetaSyntactic - Themed metasyntactic variables names<br/>
      INST_FILE    /usr/local/lib/perl/5.10.0/Acme/MetaSyntactic.pm<br/>
      INST_VERSION 0.99<br/>
  cpan&gt; a BOOK<br/>
  Author id = BOOK<br/>
      EMAIL        [...]<br/>
      FULLNAME     Philippe Bruhat (BooK)<br/>
  cpan&gt; d BOOK/Acme-MetaSyntactic-0.99.tar.gz<br/>
  Distribution id = B/BO/BOOK/Acme-MetaSyntactic-0.99.tar.gz<br/>
      CPAN_USERID  BOOK (Philippe Bruhat (BooK) &lt;[...]&gt;)<br/>
      CONTAINSMODS Acme::MetaSyntactic Acme::MetaSyntactic::Alias [...]<br/>
      UPLOAD_DATE  2006-11-06<br/>
  cpan&gt; m /lorem/<br/>
  Module  = Acme::MetaSyntactic::loremipsum (BOOK/Acme-MetaSyntactic-0.99.tar.gz)<br/>
  Module    Text::Lorem            (ADEOLA/Text-Lorem-0.3.tar.gz)<br/>
  Module    Text::Lorem::More      (RKRIMEN/Text-Lorem-More-0.12.tar.gz)<br/>
  Module    Text::Lorem::More::Source (RKRIMEN/Text-Lorem-More-0.12.tar.gz)<br/>
  cpan&gt; i /berlin/<br/>
  Distribution    BEATNIK/Filter-NumberLines-0.02.tar.gz<br/>
  Module  = DateTime::TimeZone::Europe::Berlin (DROLSKY/DateTime-TimeZone-0.7904.tar.gz)<br/>
  Module    Filter::NumberLines    (BEATNIK/Filter-NumberLines-0.02.tar.gz)<br/>
  Author          [...]<br/>
<div style="height: 1.00em;">
&#160;</div>
The examples illustrate several aspects: the first three queries target modules, authors, or distros directly and yield exactly one result. The last two use regular expressions and yield several results. The last one targets all of bundles, modules, authors, and distros simultaneously. When more than one result is available, they are printed in one-line format.</dd>
</dl>
<dl>
<dt>
&quot;get&quot;, &quot;make&quot;, &quot;test&quot;, &quot;install&quot;, &quot;clean&quot; modules or distributions</dt>
<dd>
These commands take any number of arguments and investigate what is necessary to perform the action. Argument processing is as follows:<div style="height: 1.00em;">
&#160;</div>
<br/>
  known module name in format Foo/Bar.pm   module<br/>
  other embedded slash                     distribution<br/>
    - with trailing slash dot              directory<br/>
  enclosing slashes                        regexp<br/>
  known module name in format Foo::Bar     module<br/>
<div style="height: 1.00em;">
&#160;</div>
If the argument is a distribution file name (recognized by embedded slashes), it is processed. If it is a module, CPAN determines the distribution file in which this module is included and processes that, following any dependencies named in the module's META.yml or Makefile.PL (this behavior is controlled by the configuration parameter &quot;prerequisites_policy&quot;). If an argument is enclosed in slashes it is treated as a regular expression: it is expanded and if the result is a single object (distribution, bundle or module), this object is processed.<div style="height: 1.00em;">
&#160;</div>
Example:<div style="height: 1.00em;">
&#160;</div>
<br/>
    install Dummy::Perl                   # installs the module<br/>
    install AUXXX/Dummy-Perl-3.14.tar.gz  # installs that distribution<br/>
    install /Dummy-Perl-3.14/             # same if the regexp is unambiguous<br/>
<div style="height: 1.00em;">
&#160;</div>
&quot;get&quot; downloads a distribution file and untars or unzips it, &quot;make&quot; builds it, &quot;test&quot; runs the test suite, and &quot;install&quot; installs it.<div style="height: 1.00em;">
&#160;</div>
Any &quot;make&quot; or &quot;test&quot; is run unconditionally. An<div style="height: 1.00em;">
&#160;</div>
<br/>
  install &lt;distribution_file&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
is also run unconditionally. But for<div style="height: 1.00em;">
&#160;</div>
<br/>
  install &lt;module&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
CPAN checks whether an install is needed and prints  <i>module up to date</i> if the distribution file containing the module doesn't need updating.<div style="height: 1.00em;">
&#160;</div>
CPAN also keeps track of what it has done within the current session and doesn't try to build a package a second time regardless of whether it succeeded or not. It does not repeat a test run if the test has been run successfully before. Same for install runs.<div style="height: 1.00em;">
&#160;</div>
The &quot;force&quot; pragma may precede another command (currently: &quot;get&quot;, &quot;make&quot;, &quot;test&quot;, or &quot;install&quot;) to execute the command from scratch and attempt to continue past certain errors. See the section below on the &quot;force&quot; and the &quot;fforce&quot; pragma.<div style="height: 1.00em;">
&#160;</div>
The &quot;notest&quot; pragma skips the test part in the build process.<div style="height: 1.00em;">
&#160;</div>
Example:<div style="height: 1.00em;">
&#160;</div>
<br/>
    cpan&gt; notest install Tk<br/>
<div style="height: 1.00em;">
&#160;</div>
A &quot;clean&quot; command results in a<div style="height: 1.00em;">
&#160;</div>
<br/>
  make clean<br/>
<div style="height: 1.00em;">
&#160;</div>
being executed within the distribution file's working directory.</dd>
</dl>
<dl>
<dt>
&quot;readme&quot;, &quot;perldoc&quot;, &quot;look&quot; module or distribution</dt>
<dd>
&quot;readme&quot; displays the README file of the associated distribution. &quot;Look&quot; gets and untars (if not yet done) the distribution file, changes to the appropriate directory and opens a subshell process in that directory. &quot;perldoc&quot; displays the module's pod documentation in html or plain text format.</dd>
</dl>
<dl>
<dt>
&quot;ls&quot; author</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
&quot;ls&quot; globbing_expression</dt>
<dd>
The first form lists all distribution files in and below an author's CPAN directory as stored in the CHECKUMS files distributed on CPAN. The listing recurses into subdirectories.<div style="height: 1.00em;">
&#160;</div>
The second form limits or expands the output with shell globbing as in the following examples:<div style="height: 1.00em;">
&#160;</div>
<br/>
      ls JV/make*<br/>
      ls GSAR/*make*<br/>
      ls */*make*<br/>
<div style="height: 1.00em;">
&#160;</div>
The last example is very slow and outputs extra progress indicators that break the alignment of the result.<div style="height: 1.00em;">
&#160;</div>
Note that globbing only lists directories explicitly asked for, for example FOO/* will not list FOO/bar/Acme-Sthg-n.nn.tar.gz. This may be regarded as a bug that may be changed in some future version.</dd>
</dl>
<dl>
<dt>
&quot;failed&quot;</dt>
<dd>
The &quot;failed&quot; command reports all distributions that failed on one of &quot;make&quot;, &quot;test&quot; or &quot;install&quot; for some reason in the currently running shell session.</dd>
</dl>
<dl>
<dt>
Persistence between sessions</dt>
<dd>
If the &quot;YAML&quot; or the &quot;YAML::Syck&quot; module is installed a record of the internal state of all modules is written to disk after each step. The files contain a signature of the currently running perl version for later perusal.<div style="height: 1.00em;">
&#160;</div>
If the configurations variable &quot;build_dir_reuse&quot; is set to a true value, then CPAN.pm reads the collected YAML files. If the stored signature matches the currently running perl, the stored state is loaded into memory such that persistence between sessions is effectively established.</dd>
</dl>
<dl>
<dt>
The &quot;force&quot; and the &quot;fforce&quot; pragma</dt>
<dd>
To speed things up in complex installation scenarios, CPAN.pm keeps track of what it has already done and refuses to do some things a second time. A &quot;get&quot;, a &quot;make&quot;, and an &quot;install&quot; are not repeated. A &quot;test&quot; is repeated only if the previous test was unsuccessful. The diagnostic message when CPAN.pm refuses to do something a second time is one of  <i>Has already been </i>&quot;unwrapped|made|tested successfully&quot; or something similar. Another situation where CPAN refuses to act is an &quot;install&quot; if the corresponding &quot;test&quot; was not successful.<div style="height: 1.00em;">
&#160;</div>
In all these cases, the user can override this stubborn behaviour by prepending the command with the word force, for example:<div style="height: 1.00em;">
&#160;</div>
<br/>
  cpan&gt; force get Foo<br/>
  cpan&gt; force make AUTHOR/Bar-3.14.tar.gz<br/>
  cpan&gt; force test Baz<br/>
  cpan&gt; force install Acme::Meta<br/>
<div style="height: 1.00em;">
&#160;</div>
Each <i>forced</i> command is executed with the corresponding part of its memory erased.<div style="height: 1.00em;">
&#160;</div>
The &quot;fforce&quot; pragma is a variant that emulates a &quot;force get&quot; which erases the entire memory followed by the action specified, effectively restarting the whole get/make/test/install procedure from scratch.</dd>
</dl>
<dl>
<dt>
Lockfile</dt>
<dd>
Interactive sessions maintain a lockfile, by default &quot;~/.cpan/.lock&quot;. Batch jobs can run without a lockfile and not disturb each other.<div style="height: 1.00em;">
&#160;</div>
The shell offers to run in <i>downgraded mode</i> when another process is holding the lockfile. This is an experimental feature that is not yet tested very well. This second shell then does not write the history file, does not use the metadata file, and has a different prompt.</dd>
</dl>
<dl>
<dt>
Signals</dt>
<dd>
CPAN.pm installs signal handlers for SIGINT and SIGTERM. While you are in the cpan-shell, it is intended that you can press &quot;^C&quot; anytime and return to the cpan-shell prompt. A SIGTERM will cause the cpan-shell to clean up and leave the shell loop. You can emulate the effect of a SIGTERM by sending two consecutive SIGINTs, which usually means by pressing &quot;^C&quot; twice.<div style="height: 1.00em;">
&#160;</div>
CPAN.pm ignores SIGPIPE. If the user sets &quot;inactivity_timeout&quot;, a SIGALRM is used during the run of the &quot;perl Makefile.PL&quot; or &quot;perl Build.PL&quot; subprocess. A SIGALRM is also used during module version parsing, and is controlled by &quot;version_timeout&quot;.</dd>
</dl>
</div>
<div class="subsection">
<h2>CPAN::Shell</h2> The commands available in the shell interface are methods in the package CPAN::Shell. If you enter the shell command, your input is split by the  <i>Text::ParseWords::shellwords()</i> routine, which acts like most shells do. The first word is interpreted as the method to be invoked, and the rest of the words are treated as the method's arguments. Continuation lines are supported by ending a line with a literal backslash.</div>
<div class="subsection">
<h2>autobundle</h2> &quot;autobundle&quot; writes a bundle file into the &quot;$CPAN::Config-&gt;{cpan_home}/Bundle&quot; directory. The file contains a list of all modules that are both available from CPAN and currently installed within @INC. The name of the bundle file is based on the current date and a counter.</div>
<div class="subsection">
<h2>hosts</h2> Note: this feature is still in alpha state and may change in future versions of CPAN.pm<div class="spacer">
</div>
This commands provides a statistical overview over recent download activities. The data for this is collected in the YAML file &quot;FTPstats.yml&quot; in your &quot;cpan_home&quot; directory. If no YAML module is configured or YAML not installed, no stats are provided.</div>
<div class="subsection">
<h2>mkmyconfig</h2>  <i>mkmyconfig()</i> writes your own CPAN::MyConfig file into your &quot;~/.cpan/&quot; directory so that you can save your own preferences instead of the system-wide ones.</div>
<div class="subsection">
<h2>recent ***EXPERIMENTAL COMMAND***</h2> The &quot;recent&quot; command downloads a list of recent uploads to CPAN and displays them  <i>slowly</i>. While the command is running, a $SIG{INT} exits the loop after displaying the current item.<div class="spacer">
</div>
<b>Note</b>: This command requires XML::LibXML installed.<div class="spacer">
</div>
<b>Note</b>: This whole command currently is just a hack and will probably change in future versions of CPAN.pm, but the general approach will likely remain.<div class="spacer">
</div>
<b>Note</b>: See also smoke</div>
<div class="subsection">
<h2>recompile</h2>  <i>recompile()</i> is a special command that takes no argument and runs the make/test/install cycle with brute force over all installed dynamically loadable extensions (a.k.a. XS modules) with 'force' in effect. The primary purpose of this command is to finish a network installation. Imagine you have a common source tree for two different architectures. You decide to do a completely independent fresh installation. You start on one architecture with the help of a Bundle file produced earlier. CPAN installs the whole Bundle for you, but when you try to repeat the job on the second architecture, CPAN responds with a &quot;Foo up to date&quot; message for all modules. So you invoke CPAN's recompile on the second architecture and you're done.<div class="spacer">
</div>
Another popular use for &quot;recompile&quot; is to act as a rescue in case your perl breaks binary compatibility. If one of the modules that CPAN uses is in turn depending on binary compatibility (so you cannot run CPAN commands), then you should try the CPAN::Nox module for recovery.</div>
<div class="subsection">
<h2>report Bundle|Distribution|Module</h2> The &quot;report&quot; command temporarily turns on the &quot;test_report&quot; config variable, then runs the &quot;force test&quot; command with the given arguments. The &quot;force&quot; pragma reruns the tests and repeats every step that might have failed before.</div>
<div class="subsection">
<h2>smoke ***EXPERIMENTAL COMMAND***</h2>  <b>*** WARNING: this command downloads and executes software from CPAN to</b>  <b>your computer of completely unknown status. You should never do</b>  <b>this with your normal account and better have a dedicated well</b>  <b>separated and secured machine to do this. ***</b><div class="spacer">
</div>
The &quot;smoke&quot; command takes the list of recent uploads to CPAN as provided by the &quot;recent&quot; command and tests them all. While the command is running $SIG{INT} is defined to mean that the current item shall be skipped.<div class="spacer">
</div>
<b>Note</b>: This whole command currently is just a hack and will probably change in future versions of CPAN.pm, but the general approach will likely remain.<div class="spacer">
</div>
<b>Note</b>: See also recent</div>
<div class="subsection">
<h2>upgrade [Module|/Regex/]...</h2> The &quot;upgrade&quot; command first runs an &quot;r&quot; command with the given arguments and then installs the newest versions of all modules that were listed by that.</div>
<div class="subsection">
<h2>The four &quot;CPAN::*&quot; Classes: Author, Bundle, Module, Distribution</h2> Although it may be considered internal, the class hierarchy does matter for both users and programmer. CPAN.pm deals with the four classes mentioned above, and those classes all share a set of methods. Classical single polymorphism is in effect. A metaclass object registers all objects of all kinds and indexes them with a string. The strings referencing objects have a separated namespace (well, not completely separated):<div class="spacer">
</div>
<br/>
         Namespace                         Class<br/>
<br/>
   words containing a &quot;/&quot; (slash)      Distribution<br/>
    words starting with Bundle::          Bundle<br/>
          everything else            Module or Author<br/>
<div class="spacer">
</div>
Modules know their associated Distribution objects. They always refer to the most recent official release. Developers may mark their releases as unstable development versions (by inserting an underbar into the module version number which will also be reflected in the distribution name when you run 'make dist'), so the really hottest and newest distribution is not always the default.  If a module Foo circulates on CPAN in both version 1.23 and 1.23_90, CPAN.pm offers a convenient way to install version 1.23 by saying<div class="spacer">
</div>
<br/>
    install Foo<br/>
<div class="spacer">
</div>
This would install the complete distribution file (say BAR/Foo-1.23.tar.gz) with all accompanying material. But if you would like to install version 1.23_90, you need to know where the distribution file resides on CPAN relative to the authors/id/ directory. If the author is BAR, this might be BAR/Foo-1.23_90.tar.gz; so you would have to say<div class="spacer">
</div>
<br/>
    install BAR/Foo-1.23_90.tar.gz<br/>
<div class="spacer">
</div>
The first example will be driven by an object of the class CPAN::Module, the second by an object of class CPAN::Distribution.</div>
<div class="subsection">
<h2>Integrating local directories</h2> Note: this feature is still in alpha state and may change in future versions of CPAN.pm<div class="spacer">
</div>
Distribution objects are normally distributions from the CPAN, but there is a slightly degenerate case for Distribution objects, too, of projects held on the local disk. These distribution objects have the same name as the local directory and end with a dot. A dot by itself is also allowed for the current directory at the time CPAN.pm was used. All actions such as &quot;make&quot;, &quot;test&quot;, and &quot;install&quot; are applied directly to that directory. This gives the command &quot;cpan .&quot; an interesting touch: while the normal mantra of installing a CPAN module without CPAN.pm is one of<div class="spacer">
</div>
<br/>
    perl Makefile.PL                 perl Build.PL<br/>
           ( go and get prerequisites )<br/>
    make                             ./Build<br/>
    make test                        ./Build test<br/>
    make install                     ./Build install<br/>
<div class="spacer">
</div>
the command &quot;cpan .&quot; does all of this at once. It figures out which of the two mantras is appropriate, fetches and installs all prerequisites, takes care of them recursively, and finally finishes the installation of the module in the current directory, be it a CPAN module or not.<div class="spacer">
</div>
The typical usage case is for private modules or working copies of projects from remote repositories on the local disk.</div>
<div class="subsection">
<h2>Redirection</h2> The usual shell redirection symbols &quot; | &quot; and &quot;&gt;&quot; are recognized by the cpan shell  <b>only when surrounded by whitespace</b>. So piping to pager or redirecting output into a file works somewhat as in a normal shell, with the stipulation that you must type extra spaces.</div>
</div>
<div class="section">
<h1>CONFIGURATION</h1> When the CPAN module is used for the first time, a configuration dialogue tries to determine a couple of site specific options. The result of the dialog is stored in a hash reference  $CPAN::Config  in a file CPAN/Config.pm.<div class="spacer">
</div>
Default values defined in the CPAN/Config.pm file can be overridden in a user specific file: CPAN/MyConfig.pm. Such a file is best placed in &quot;$HOME/.cpan/CPAN/MyConfig.pm&quot;, because &quot;$HOME/.cpan&quot; is added to the search path of the CPAN module before the  <i>use()</i> or  <i>require()</i> statements. The mkmyconfig command writes this file for you.<div class="spacer">
</div>
The &quot;o conf&quot; command has various bells and whistles:<dl>
<dt>
completion support</dt>
<dd>
If you have a ReadLine module installed, you can hit TAB at any point of the commandline and &quot;o conf&quot; will offer you completion for the built-in subcommands and/or config variable names.</dd>
</dl>
<dl>
<dt>
displaying some help: o conf help</dt>
<dd>
Displays a short help</dd>
</dl>
<dl>
<dt>
displaying current values: o conf [KEY]</dt>
<dd>
Displays the current value(s) for this config variable. Without KEY, displays all subcommands and config variables.<div style="height: 1.00em;">
&#160;</div>
Example:<div style="height: 1.00em;">
&#160;</div>
<br/>
  o conf shell<br/>
<div style="height: 1.00em;">
&#160;</div>
If KEY starts and ends with a slash, the string in between is treated as a regular expression and only keys matching this regex are displayed<div style="height: 1.00em;">
&#160;</div>
Example:<div style="height: 1.00em;">
&#160;</div>
<br/>
  o conf /color/<br/>
</dd>
</dl>
<dl>
<dt>
changing of scalar values: o conf KEY VALUE</dt>
<dd>
Sets the config variable KEY to VALUE. The empty string can be specified as usual in shells, with '' or &quot;&quot;<div style="height: 1.00em;">
&#160;</div>
Example:<div style="height: 1.00em;">
&#160;</div>
<br/>
  o conf wget /usr/bin/wget<br/>
</dd>
</dl>
<dl>
<dt>
changing of list values: o conf KEY SHIFT|UNSHIFT|PUSH|POP|SPLICE|LIST</dt>
<dd>
If a config variable name ends with &quot;list&quot;, it is a list. &quot;o conf KEY shift&quot; removes the first element of the list, &quot;o conf KEY pop&quot; removes the last element of the list. &quot;o conf KEYS unshift LIST&quot; prepends a list of values to the list, &quot;o conf KEYS push LIST&quot; appends a list of valued to the list.<div style="height: 1.00em;">
&#160;</div>
Likewise, &quot;o conf KEY splice LIST&quot; passes the LIST to the corresponding splice command.<div style="height: 1.00em;">
&#160;</div>
Finally, any other list of arguments is taken as a new list value for the KEY variable discarding the previous value.<div style="height: 1.00em;">
&#160;</div>
Examples:<div style="height: 1.00em;">
&#160;</div>
<br/>
  o conf urllist unshift http://cpan.dev.local/CPAN<br/>
  o conf urllist splice 3 1<br/>
  o conf urllist http://cpan1.local http://cpan2.local ftp://ftp.perl.org<br/>
</dd>
</dl>
<dl>
<dt>
reverting to saved: o conf defaults</dt>
<dd>
Reverts all config variables to the state in the saved config file.</dd>
</dl>
<dl>
<dt>
saving the config: o conf commit</dt>
<dd>
Saves all config variables to the current config file (CPAN/Config.pm or CPAN/MyConfig.pm that was loaded at start).</dd>
</dl>
<div class="spacer">
</div>
The configuration dialog can be started any time later again by issuing the command &quot; o conf init &quot; in the CPAN shell. A subset of the configuration dialog can be run by issuing &quot;o conf init WORD&quot; where WORD is any valid config variable or a regular expression.<div class="subsection">
<h2>Config Variables</h2> The following keys in the hash reference $CPAN::Config are currently defined:<div class="spacer">
</div>
<br/>
  applypatch         path to external prg<br/>
  auto_commit        commit all changes to config variables to disk<br/>
  build_cache        size of cache for directories to build modules<br/>
  build_dir          locally accessible directory to build modules<br/>
  build_dir_reuse    boolean if distros in build_dir are persistent<br/>
  build_requires_install_policy<br/>
                     to install or not to install when a module is<br/>
                     only needed for building. yes|no|ask/yes|ask/no<br/>
  bzip2              path to external prg<br/>
  cache_metadata     use serializer to cache metadata<br/>
  check_sigs         if signatures should be verified<br/>
  colorize_debug     Term::ANSIColor attributes for debugging output<br/>
  colorize_output    boolean if Term::ANSIColor should colorize output<br/>
  colorize_print     Term::ANSIColor attributes for normal output<br/>
  colorize_warn      Term::ANSIColor attributes for warnings<br/>
  commandnumber_in_prompt<br/>
                     boolean if you want to see current command number<br/>
  commands_quote     preferred character to use for quoting external<br/>
                     commands when running them. Defaults to double<br/>
                     quote on Windows, single tick everywhere else;<br/>
                     can be set to space to disable quoting<br/>
  connect_to_internet_ok<br/>
                     whether to ask if opening a connection is ok before<br/>
                     urllist is specified<br/>
  cpan_home          local directory reserved for this package<br/>
  curl               path to external prg<br/>
  dontload_hash      DEPRECATED<br/>
  dontload_list      arrayref: modules in the list will not be<br/>
                     loaded by the CPAN::has_inst() routine<br/>
  ftp                path to external prg<br/>
  ftp_passive        if set, the environment variable FTP_PASSIVE is set<br/>
                     for downloads<br/>
  ftp_proxy          proxy host for ftp requests<br/>
  ftpstats_period    max number of days to keep download statistics<br/>
  ftpstats_size      max number of items to keep in the download statistics<br/>
  getcwd             see below<br/>
  gpg                path to external prg<br/>
  gzip               location of external program gzip<br/>
  halt_on_failure    stop processing after the first failure of queued<br/>
                     items or dependencies<br/>
  histfile           file to maintain history between sessions<br/>
  histsize           maximum number of lines to keep in histfile<br/>
  http_proxy         proxy host for http requests<br/>
  inactivity_timeout breaks interactive Makefile.PLs or Build.PLs<br/>
                     after this many seconds inactivity. Set to 0 to<br/>
                     disable timeouts.<br/>
  index_expire       refetch index files after this many days <br/>
  inhibit_startup_message<br/>
                     if true, suppress the startup message<br/>
  keep_source_where  directory in which to keep the source (if we do)<br/>
  load_module_verbosity<br/>
                     report loading of optional modules used by CPAN.pm<br/>
  lynx               path to external prg<br/>
  make               location of external make program<br/>
  make_arg           arguments that should always be passed to 'make'<br/>
  make_install_make_command<br/>
                     the make command for running 'make install', for<br/>
                     example 'sudo make'<br/>
  make_install_arg   same as make_arg for 'make install'<br/>
  makepl_arg         arguments passed to 'perl Makefile.PL'<br/>
  mbuild_arg         arguments passed to './Build'<br/>
  mbuild_install_arg arguments passed to './Build install'<br/>
  mbuild_install_build_command<br/>
                     command to use instead of './Build' when we are<br/>
                     in the install stage, for example 'sudo ./Build'<br/>
  mbuildpl_arg       arguments passed to 'perl Build.PL'<br/>
  ncftp              path to external prg<br/>
  ncftpget           path to external prg<br/>
  no_proxy           don't proxy to these hosts/domains (comma separated list)<br/>
  pager              location of external program more (or any pager)<br/>
  password           your password if you CPAN server wants one<br/>
  patch              path to external prg<br/>
  patches_dir        local directory containing patch files<br/>
  perl5lib_verbosity verbosity level for PERL5LIB additions<br/>
  prefer_external_tar<br/>
                     per default all untar operations are done with<br/>
                     Archive::Tar; by setting this variable to true<br/>
                     the external tar command is used if available<br/>
  prefer_installer   legal values are MB and EUMM: if a module comes<br/>
                     with both a Makefile.PL and a Build.PL, use the<br/>
                     former (EUMM) or the latter (MB); if the module<br/>
                     comes with only one of the two, that one will be<br/>
                     used no matter the setting<br/>
  prerequisites_policy<br/>
                     what to do if you are missing module prerequisites<br/>
                     ('follow' automatically, 'ask' me, or 'ignore')<br/>
                     For 'follow', also sets PERL_AUTOINSTALL and<br/>
                     PERL_EXTUTILS_AUTOINSTALL for &quot;--defaultdeps&quot; if<br/>
                     not already set<br/>
  prefs_dir          local directory to store per-distro build options<br/>
  proxy_user         username for accessing an authenticating proxy<br/>
  proxy_pass         password for accessing an authenticating proxy<br/>
  randomize_urllist  add some randomness to the sequence of the urllist<br/>
  scan_cache         controls scanning of cache ('atstart', 'atexit' or 'never')<br/>
  shell              your favorite shell<br/>
  show_unparsable_versions<br/>
                     boolean if r command tells which modules are versionless<br/>
  show_upload_date   boolean if commands should try to determine upload date<br/>
  show_zero_versions boolean if r command tells for which modules $version==0<br/>
  tar                location of external program tar<br/>
  tar_verbosity      verbosity level for the tar command<br/>
  term_is_latin      deprecated: if true Unicode is translated to ISO-8859-1<br/>
                     (and nonsense for characters outside latin range)<br/>
  term_ornaments     boolean to turn ReadLine ornamenting on/off<br/>
  test_report        email test reports (if CPAN::Reporter is installed)<br/>
  trust_test_report_history<br/>
                     skip testing when previously tested ok (according to<br/>
                     CPAN::Reporter history)<br/>
  unzip              location of external program unzip<br/>
  urllist            arrayref to nearby CPAN sites (or equivalent locations)<br/>
  use_sqlite         use CPAN::SQLite for metadata storage (fast and lean)<br/>
  username           your username if you CPAN server wants one<br/>
  version_timeout    stops version parsing after this many seconds.<br/>
                     Default is 15 secs. Set to 0 to disable.<br/>
  wait_list          arrayref to a wait server to try (See CPAN::WAIT)<br/>
  wget               path to external prg<br/>
  yaml_load_code     enable YAML code deserialisation via CPAN::DeferredCode<br/>
  yaml_module        which module to use to read/write YAML files<br/>
<div class="spacer">
</div>
You can set and query each of these options interactively in the cpan shell with the &quot;o conf&quot; or the &quot;o conf init&quot; command as specified below.<dl>
<dt>
&quot;o conf &lt;scalar option&gt;&quot;</dt>
<dd>
prints the current value of the <i>scalar option</i></dd>
</dl>
<dl>
<dt>
&quot;o conf &lt;scalar option&gt; &lt;value&gt;&quot;</dt>
<dd>
Sets the value of the <i>scalar option</i> to <i>value</i></dd>
</dl>
<dl>
<dt>
&quot;o conf &lt;list option&gt;&quot;</dt>
<dd>
prints the current value of the <i>list option</i> in MakeMaker's neatvalue format.</dd>
</dl>
<dl>
<dt>
&quot;o conf &lt;list option&gt; [shift|pop]&quot;</dt>
<dd>
shifts or pops the array in the <i>list option</i> variable</dd>
</dl>
<dl>
<dt>
&quot;o conf &lt;list option&gt; [unshift|push|splice] &lt;list&gt;&quot;</dt>
<dd>
works like the corresponding perl commands.</dd>
</dl>
<dl>
<dt>
interactive editing: o conf init [MATCH|LIST]</dt>
<dd>
Runs an interactive configuration dialog for matching variables. Without argument runs the dialog over all supported config variables. To specify a MATCH the argument must be enclosed by slashes.<div style="height: 1.00em;">
&#160;</div>
Examples:<div style="height: 1.00em;">
&#160;</div>
<br/>
  o conf init ftp_passive ftp_proxy<br/>
  o conf init /color/<br/>
<div style="height: 1.00em;">
&#160;</div>
Note: this method of setting config variables often provides more explanation about the functioning of a variable than the manpage.</dd>
</dl>
</div>
<div class="subsection">
<h2>CPAN::anycwd($path): Note on config variable getcwd</h2> CPAN.pm changes the current working directory often and needs to determine its own current working directory. By default it uses Cwd::cwd, but if for some reason this doesn't work on your system, configure alternatives according to the following table:<dl>
<dt>
cwd</dt>
<dd>
Calls Cwd::cwd</dd>
</dl>
<dl>
<dt>
getcwd</dt>
<dd>
Calls Cwd::getcwd</dd>
</dl>
<dl>
<dt>
fastcwd</dt>
<dd>
Calls Cwd::fastcwd</dd>
</dl>
<dl>
<dt>
backtickcwd</dt>
<dd>
Calls the external command cwd.</dd>
</dl>
</div>
<div class="subsection">
<h2>Note on the format of the urllist parameter</h2> urllist parameters are URLs according to RFC 1738. We do a little guessing if your URL is not compliant, but if you have problems with &quot;file&quot; URLs, please try the correct format. Either:<div class="spacer">
</div>
<br/>
    file://localhost/whatever/ftp/pub/CPAN/<br/>
<div class="spacer">
</div>
or<div class="spacer">
</div>
<br/>
    file:///home/ftp/pub/CPAN/<br/>
</div>
<div class="subsection">
<h2>The urllist parameter has CD-ROM support</h2> The &quot;urllist&quot; parameter of the configuration table contains a list of URLs used for downloading. If the list contains any &quot;file&quot; URLs, CPAN always tries there first. This feature is disabled for index files. So the recommendation for the owner of a CD-ROM with CPAN contents is: include your local, possibly outdated CD-ROM as a &quot;file&quot; URL at the end of urllist, e.g.<div class="spacer">
</div>
<br/>
  o conf urllist push file://localhost/CDROM/CPAN<br/>
<div class="spacer">
</div>
CPAN.pm will then fetch the index files from one of the CPAN sites that come at the beginning of urllist. It will later check for each module to see whether there is a local copy of the most recent version.<div class="spacer">
</div>
Another peculiarity of urllist is that the site that we could successfully fetch the last file from automatically gets a preference token and is tried as the first site for the next request. So if you add a new site at runtime it may happen that the previously preferred site will be tried another time. This means that if you want to disallow a site for the next transfer, it must be explicitly removed from urllist.</div>
<div class="subsection">
<h2>Maintaining the urllist parameter</h2> If you have YAML.pm (or some other YAML module configured in &quot;yaml_module&quot;) installed, CPAN.pm collects a few statistical data about recent downloads. You can view the statistics with the &quot;hosts&quot; command or inspect them directly by looking into the &quot;FTPstats.yml&quot; file in your &quot;cpan_home&quot; directory.<div class="spacer">
</div>
To get some interesting statistics, it is recommended that &quot;randomize_urllist&quot; be set; this introduces some amount of randomness into the URL selection.</div>
<div class="subsection">
<h2>The &quot;requires&quot; and &quot;build_requires&quot; dependency declarations</h2> Since CPAN.pm version 1.88_51 modules declared as &quot;build_requires&quot; by a distribution are treated differently depending on the config variable &quot;build_requires_install_policy&quot;. By setting &quot;build_requires_install_policy&quot; to &quot;no&quot;, such a module is not installed. It is only built and tested, and then kept in the list of tested but uninstalled modules. As such, it is available during the build of the dependent module by integrating the path to the &quot;blib/arch&quot; and &quot;blib/lib&quot; directories in the environment variable PERL5LIB. If &quot;build_requires_install_policy&quot; is set ti &quot;yes&quot;, then both modules declared as &quot;requires&quot; and those declared as &quot;build_requires&quot; are treated alike. By setting to &quot;ask/yes&quot; or &quot;ask/no&quot;, CPAN.pm asks the user and sets the default accordingly.</div>
<div class="subsection">
<h2>Configuration for individual distributions (<i>Distroprefs</i>)</h2> ( <b>Note:</b> This feature has been introduced in CPAN.pm 1.8854 and is still considered beta quality)<div class="spacer">
</div>
Distributions on CPAN usually behave according to what we call the CPAN mantra. Or since the advent of Module::Build we should talk about two mantras:<div class="spacer">
</div>
<br/>
    perl Makefile.PL     perl Build.PL<br/>
    make                 ./Build<br/>
    make test            ./Build test<br/>
    make install         ./Build install<br/>
<div class="spacer">
</div>
But some modules cannot be built with this mantra. They try to get some extra data from the user via the environment, extra arguments, or interactively--thus disturbing the installation of large bundles like Phalanx100 or modules with many dependencies like Plagger.<div class="spacer">
</div>
The distroprefs system of &quot;CPAN.pm&quot; addresses this problem by allowing the user to specify extra informations and recipes in YAML files to either<dl>
<dt>
&#8226;</dt>
<dd>
pass additional arguments to one of the four commands,</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
set environment variables</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
instantiate an Expect object that reads from the console, waits for some regular expressions and enters some answers</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
temporarily override assorted &quot;CPAN.pm&quot; configuration variables</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
specify dependencies the original maintainer forgot</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
disable the installation of an object altogether</dd>
</dl>
<div class="spacer">
</div>
See the YAML and Data::Dumper files that come with the &quot;CPAN.pm&quot; distribution in the &quot;distroprefs/&quot; directory for examples.</div>
<div class="subsection">
<h2>Filenames</h2> The YAML files themselves must have the &quot;.yml&quot; extension; all other files are ignored (for two exceptions see  <i>Fallback Data::Dumper and</i>  <i>Storable</i> below). The containing directory can be specified in &quot;CPAN.pm&quot; in the &quot;prefs_dir&quot; config variable. Try &quot;o conf init prefs_dir&quot; in the CPAN shell to set and activate the distroprefs system.<div class="spacer">
</div>
Every YAML file may contain arbitrary documents according to the YAML specification, and every document is treated as an entity that can specify the treatment of a single distribution.<div class="spacer">
</div>
Filenames can be picked arbitrarily; &quot;CPAN.pm&quot; always reads all files (in alphabetical order) and takes the key &quot;match&quot; (see below in  <i>Language Specs</i>) as a hashref containing match criteria that determine if the current distribution matches the YAML document or not.</div>
<div class="subsection">
<h2>Fallback Data::Dumper and Storable</h2> If neither your configured &quot;yaml_module&quot; nor YAML.pm is installed, CPAN.pm falls back to using Data::Dumper and Storable and looks for files with the extensions &quot;.dd&quot; or &quot;.st&quot; in the &quot;prefs_dir&quot; directory. These files are expected to contain one or more hashrefs. For Data::Dumper generated files, this is expected to be done with by defining $VAR1, $VAR2, etc. The YAML shell would produce these with the command<div class="spacer">
</div>
<br/>
    ysh &lt; somefile.yml &gt; somefile.dd<br/>
<div class="spacer">
</div>
For Storable files the rule is that they must be constructed such that &quot;Storable::retrieve(file)&quot; returns an array reference and the array elements represent one distropref object each. The conversion from YAML would look like so:<div class="spacer">
</div>
<br/>
    perl -MYAML=LoadFile -MStorable=nstore -e '<br/>
        @y=LoadFile(shift);<br/>
        nstore(\@y, shift)' somefile.yml somefile.st<br/>
<div class="spacer">
</div>
In bootstrapping situations it is usually sufficient to translate only a few YAML files to Data::Dumper for crucial modules like &quot;YAML::Syck&quot;, &quot;YAML.pm&quot; and &quot;Expect.pm&quot;. If you prefer Storable over Data::Dumper, remember to pull out a Storable version that writes an older format than all the other Storable versions that will need to read them.</div>
<div class="subsection">
<h2>Blueprint</h2> The following example contains all supported keywords and structures with the exception of &quot;eexpect&quot; which can be used instead of &quot;expect&quot;.<div class="spacer">
</div>
<br/>
  ---<br/>
  comment: &quot;Demo&quot;<br/>
  match:<br/>
    module: &quot;Dancing::Queen&quot;<br/>
    distribution: &quot;^CHACHACHA/Dancing-&quot;<br/>
    not_distribution: &quot;\.zip$&quot;<br/>
    perl: &quot;/usr/local/cariba-perl/bin/perl&quot;<br/>
    perlconfig:<br/>
      archname: &quot;freebsd&quot;<br/>
      not_cc: &quot;gcc&quot;<br/>
    env:<br/>
      DANCING_FLOOR: &quot;Shubiduh&quot;<br/>
  disabled: 1<br/>
  cpanconfig:<br/>
    make: gmake<br/>
  pl:<br/>
    args:<br/>
      - &quot;--somearg=specialcase&quot;<br/>
<br/>
    env: {}<br/>
<br/>
    expect:<br/>
      - &quot;Which is your favorite fruit&quot;<br/>
      - &quot;apple\n&quot;<br/>
<br/>
  make:<br/>
    args:<br/>
      - all<br/>
      - extra-all<br/>
<br/>
    env: {}<br/>
<br/>
    expect: []<br/>
<br/>
    commandline: &quot;echo SKIPPING make&quot;<br/>
<br/>
  test:<br/>
    args: []<br/>
<br/>
    env: {}<br/>
<br/>
    expect: []<br/>
<br/>
  install:<br/>
    args: []<br/>
<br/>
    env:<br/>
      WANT_TO_INSTALL: YES<br/>
<br/>
    expect:<br/>
      - &quot;Do you really want to install&quot;<br/>
      - &quot;y\n&quot;<br/>
<br/>
  patches:<br/>
    - &quot;ABCDE/Fedcba-3.14-ABCDE-01.patch&quot;<br/>
<br/>
  depends:<br/>
    configure_requires:<br/>
      LWP: 5.8<br/>
    build_requires:<br/>
      Test::Exception: 0.25<br/>
    requires:<br/>
      Spiffy: 0.30<br/>
</div>
<div class="subsection">
<h2>Language Specs</h2> Every YAML document represents a single hash reference. The valid keys in this hash are as follows:<dl>
<dt>
comment [scalar]</dt>
<dd>
A comment</dd>
</dl>
<dl>
<dt>
cpanconfig [hash]</dt>
<dd>
Temporarily override assorted &quot;CPAN.pm&quot; configuration variables.<div style="height: 1.00em;">
&#160;</div>
Supported are: &quot;build_requires_install_policy&quot;, &quot;check_sigs&quot;, &quot;make&quot;, &quot;make_install_make_command&quot;, &quot;prefer_installer&quot;, &quot;test_report&quot;. Please report as a bug when you need another one supported.</dd>
</dl>
<dl>
<dt>
depends [hash] *** EXPERIMENTAL FEATURE ***</dt>
<dd>
All three types, namely &quot;configure_requires&quot;, &quot;build_requires&quot;, and &quot;requires&quot; are supported in the way specified in the META.yml specification. The current implementation  <i>merges</i> the specified dependencies with those declared by the package maintainer. In a future implementation this may be changed to override the original declaration.</dd>
</dl>
<dl>
<dt>
disabled [boolean]</dt>
<dd>
Specifies that this distribution shall not be processed at all.</dd>
</dl>
<dl>
<dt>
features [array] *** EXPERIMENTAL FEATURE ***</dt>
<dd>
Experimental implementation to deal with optional_features from META.yml. Still needs coordination with installer software and currently works only for META.yml declaring &quot;dynamic_config=0&quot;. Use with caution.</dd>
</dl>
<dl>
<dt>
goto [string]</dt>
<dd>
The canonical name of a delegate distribution to install instead. Useful when a new version, although it tests OK itself, breaks something else or a developer release or a fork is already uploaded that is better than the last released version.</dd>
</dl>
<dl>
<dt>
install [hash]</dt>
<dd>
Processing instructions for the &quot;make install&quot; or &quot;./Build install&quot; phase of the CPAN mantra. See below under  <i>Processing Instructions</i>.</dd>
</dl>
<dl>
<dt>
make [hash]</dt>
<dd>
Processing instructions for the &quot;make&quot; or &quot;./Build&quot; phase of the CPAN mantra. See below under  <i>Processing Instructions</i>.</dd>
</dl>
<dl>
<dt>
match [hash]</dt>
<dd>
A hashref with one or more of the keys &quot;distribution&quot;, &quot;modules&quot;, &quot;perl&quot;, &quot;perlconfig&quot;, and &quot;env&quot; that specify whether a document is targeted at a specific CPAN distribution or installation. Keys prefixed with &quot;not_&quot; negates the corresponding match.<div style="height: 1.00em;">
&#160;</div>
The corresponding values are interpreted as regular expressions. The &quot;distribution&quot; related one will be matched against the canonical distribution name, e.g. &quot;AUTHOR/Foo-Bar-3.14.tar.gz&quot;.<div style="height: 1.00em;">
&#160;</div>
The &quot;module&quot; related one will be matched against <i>all</i> modules contained in the distribution until one module matches.<div style="height: 1.00em;">
&#160;</div>
The &quot;perl&quot; related one will be matched against $^X (but with the absolute path).<div style="height: 1.00em;">
&#160;</div>
The value associated with &quot;perlconfig&quot; is itself a hashref that is matched against corresponding values in the %Config::Config hash living in the &quot;Config.pm&quot; module. Keys prefixed with &quot;not_&quot; negates the corresponding match.<div style="height: 1.00em;">
&#160;</div>
The value associated with &quot;env&quot; is itself a hashref that is matched against corresponding values in the %ENV hash. Keys prefixed with &quot;not_&quot; negates the corresponding match.<div style="height: 1.00em;">
&#160;</div>
If more than one restriction of &quot;module&quot;, &quot;distribution&quot;, etc. is specified, the results of the separately computed match values must all match. If so, the hashref represented by the YAML document is returned as the preference structure for the current distribution.</dd>
</dl>
<dl>
<dt>
patches [array]</dt>
<dd>
An array of patches on CPAN or on the local disk to be applied in order via an external patch program. If the value for the &quot;-p&quot; parameter is 0 or 1 is determined by reading the patch beforehand. The path to each patch is either an absolute path on the local filesystem or relative to a patch directory specified in the &quot;patches_dir&quot; configuration variable or in the format of a canonical distro name. For examples please consult the distroprefs/ directory in the CPAN.pm distribution (these examples are not installed by default).<div style="height: 1.00em;">
&#160;</div>
Note: if the &quot;applypatch&quot; program is installed and &quot;CPAN::Config&quot; knows about it  <b>and</b> a patch is written by the &quot;makepatch&quot; program, then &quot;CPAN.pm&quot; lets &quot;applypatch&quot; apply the patch. Both &quot;makepatch&quot; and &quot;applypatch&quot; are available from CPAN in the &quot;JV/makepatch-*&quot; distribution.</dd>
</dl>
<dl>
<dt>
pl [hash]</dt>
<dd>
Processing instructions for the &quot;perl Makefile.PL&quot; or &quot;perl Build.PL&quot; phase of the CPAN mantra. See below under  <i>Processing</i>  <i>Instructions</i>.</dd>
</dl>
<dl>
<dt>
test [hash]</dt>
<dd>
Processing instructions for the &quot;make test&quot; or &quot;./Build test&quot; phase of the CPAN mantra. See below under  <i>Processing Instructions</i>.</dd>
</dl>
</div>
<div class="subsection">
<h2>Processing Instructions</h2><dl>
<dt>
args [array]</dt>
<dd>
Arguments to be added to the command line</dd>
</dl>
<dl>
<dt>
commandline</dt>
<dd>
A full commandline to run via &quot;system()&quot;. During execution, the environment variable PERL is set to $^X (but with an absolute path). If &quot;commandline&quot; is specified, &quot;args&quot; is not used.</dd>
</dl>
<dl>
<dt>
eexpect [hash]</dt>
<dd>
Extended &quot;expect&quot;. This is a hash reference with four allowed keys, &quot;mode&quot;, &quot;timeout&quot;, &quot;reuse&quot;, and &quot;talk&quot;.<div style="height: 1.00em;">
&#160;</div>
You must install the &quot;Expect&quot; module to use &quot;eexpect&quot;. CPAN.pm does not install it for you.<div style="height: 1.00em;">
&#160;</div>
&quot;mode&quot; may have the values &quot;deterministic&quot; for the case where all questions come in the order written down and &quot;anyorder&quot; for the case where the questions may come in any order. The default mode is &quot;deterministic&quot;.<div style="height: 1.00em;">
&#160;</div>
&quot;timeout&quot; denotes a timeout in seconds. Floating-point timeouts are OK. With &quot;mode=deterministic&quot;, the timeout denotes the timeout per question; with &quot;mode=anyorder&quot; it denotes the timeout per byte received from the stream or questions.<div style="height: 1.00em;">
&#160;</div>
&quot;talk&quot; is a reference to an array that contains alternating questions and answers. Questions are regular expressions and answers are literal strings. The Expect module watches the stream from the execution of the external program (&quot;perl Makefile.PL&quot;, &quot;perl Build.PL&quot;, &quot;make&quot;, etc.).<div style="height: 1.00em;">
&#160;</div>
For &quot;mode=deterministic&quot;, the CPAN.pm injects the corresponding answer as soon as the stream matches the regular expression.<div style="height: 1.00em;">
&#160;</div>
For &quot;mode=anyorder&quot; CPAN.pm answers a question as soon as the timeout is reached for the next byte in the input stream. In this mode you can use the &quot;reuse&quot; parameter to decide what will happen with a question-answer pair after it has been used. In the default case (reuse=0) it is removed from the array, avoiding being used again accidentally. If you want to answer the question &quot;Do you really want to do that&quot; several times, then it must be included in the array at least as often as you want this answer to be given. Setting the parameter &quot;reuse&quot; to 1 makes this repetition unnecessary.</dd>
</dl>
<dl>
<dt>
env [hash]</dt>
<dd>
Environment variables to be set during the command</dd>
</dl>
<dl>
<dt>
expect [array]</dt>
<dd>
You must install the &quot;Expect&quot; module to use &quot;expect&quot;. CPAN.pm does not install it for you.<div style="height: 1.00em;">
&#160;</div>
&quot;expect: &lt;array&gt;&quot; is a short notation for this &quot;eexpect&quot;:<div style="height: 1.00em;">
&#160;</div>
<br/>
        eexpect:<br/>
                mode: deterministic<br/>
                timeout: 15<br/>
                talk: &lt;array&gt;<br/>
</dd>
</dl>
</div>
<div class="subsection">
<h2>Schema verification with &quot;Kwalify&quot;</h2> If you have the &quot;Kwalify&quot; module installed (which is part of the Bundle::CPANxxl), then all your distroprefs files are checked for syntactic correctness.</div>
<div class="subsection">
<h2>Example Distroprefs Files</h2> &quot;CPAN.pm&quot; comes with a collection of example YAML files. Note that these are really just examples and should not be used without care because they cannot fit everybody's purpose. After all, the authors of the packages that ask questions had a need to ask, so you should watch their questions and adjust the examples to your environment and your needs. You have been warned:-)</div>
</div>
<div class="section">
<h1>PROGRAMMER'S INTERFACE</h1> If you do not enter the shell, shell commands are available both as methods (&quot;CPAN::Shell-&gt;install(...)&quot;) and as functions in the calling package (&quot;install(...)&quot;).  Before calling low-level commands, it makes sense to initialize components of CPAN you need, e.g.:<div class="spacer">
</div>
<br/>
  CPAN::HandleConfig-&gt;load;<br/>
  CPAN::Shell::setup_output;<br/>
  CPAN::Index-&gt;reload;<br/>
<div class="spacer">
</div>
High-level commands do such initializations automatically.<div class="spacer">
</div>
There's currently only one class that has a stable interface - CPAN::Shell. All commands that are available in the CPAN shell are methods of the class CPAN::Shell. Each of the commands that produce listings of modules (&quot;r&quot;, &quot;autobundle&quot;, &quot;u&quot;) also return a list of the IDs of all modules within the list.<dl>
<dt>
expand($type,@things)</dt>
<dd>
The IDs of all objects available within a program are strings that can be expanded to the corresponding real objects with the &quot;CPAN::Shell-&gt;expand(&quot;Module&quot;,@things)&quot; method. Expand returns a list of CPAN::Module objects according to the @things arguments given. In scalar context, it returns only the first element of the list.</dd>
</dl>
<dl>
<dt>
expandany(@things)</dt>
<dd>
Like expand, but returns objects of the appropriate type, i.e. CPAN::Bundle objects for bundles, CPAN::Module objects for modules, and CPAN::Distribution objects for distributions. Note: it does not expand to CPAN::Author objects.</dd>
</dl>
<dl>
<dt>
Programming Examples</dt>
<dd>
This enables the programmer to do operations that combine functionalities that are available in the shell.<div style="height: 1.00em;">
&#160;</div>
<br/>
    # install everything that is outdated on my disk:<br/>
    perl -MCPAN -e 'CPAN::Shell-&gt;install(CPAN::Shell-&gt;r)'<br/>
<br/>
    # install my favorite programs if necessary:<br/>
    for $mod (qw(Net::FTP Digest::SHA Data::Dumper)) {<br/>
        CPAN::Shell-&gt;install($mod);<br/>
    }<br/>
<br/>
    # list all modules on my disk that have no VERSION number<br/>
    for $mod (CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;/./&quot;)) {<br/>
        next unless $mod-&gt;inst_file;<br/>
        # MakeMaker convention for undefined $VERSION:<br/>
        next unless $mod-&gt;inst_version eq &quot;undef&quot;;<br/>
        print &quot;No VERSION in &quot;, $mod-&gt;id, &quot;\n&quot;;<br/>
    }<br/>
<br/>
    # find out which distribution on CPAN contains a module:<br/>
    print CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;Apache::Constants&quot;)-&gt;cpan_file<br/>
<div style="height: 1.00em;">
&#160;</div>
Or if you want to schedule a <i>cron</i> job to watch CPAN, you could list all modules that need updating. First a quick and dirty way:<div style="height: 1.00em;">
&#160;</div>
<br/>
    perl -e 'use CPAN; CPAN::Shell-&gt;r;'<br/>
<div style="height: 1.00em;">
&#160;</div>
If you don't want any output should all modules be up to date, parse the output of above command for the regular expression &quot;/modules are up to date/&quot; and decide to mail the output only if it doesn't match.<div style="height: 1.00em;">
&#160;</div>
If you prefer to do it more in a programmerish style in one single process, something like this may better suit you:<div style="height: 1.00em;">
&#160;</div>
<br/>
  # list all modules on my disk that have newer versions on CPAN<br/>
  for $mod (CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;/./&quot;)) {<br/>
    next unless $mod-&gt;inst_file;<br/>
    next if $mod-&gt;uptodate;<br/>
    printf &quot;Module %s is installed as %s, could be updated to %s from CPAN\n&quot;,<br/>
        $mod-&gt;id, $mod-&gt;inst_version, $mod-&gt;cpan_version;<br/>
  }<br/>
<div style="height: 1.00em;">
&#160;</div>
If that gives too much output every day, you may want to watch only for three modules. You can write<div style="height: 1.00em;">
&#160;</div>
<br/>
  for $mod (CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;/Apache|LWP|CGI/&quot;)) {<br/>
<div style="height: 1.00em;">
&#160;</div>
as the first line instead. Or you can combine some of the above tricks:<div style="height: 1.00em;">
&#160;</div>
<br/>
  # watch only for a new mod_perl module<br/>
  $mod = CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;mod_perl&quot;);<br/>
  exit if $mod-&gt;uptodate;<br/>
  # new mod_perl arrived, let me know all update recommendations<br/>
  CPAN::Shell-&gt;r;<br/>
</dd>
</dl>
<div class="subsection">
<h2>Methods in the other Classes</h2><dl>
<dt>
<i>CPAN::Author::as_glimpse()</i></dt>
<dd>
Returns a one-line description of the author</dd>
</dl>
<dl>
<dt>
<i>CPAN::Author::as_string()</i></dt>
<dd>
Returns a multi-line description of the author</dd>
</dl>
<dl>
<dt>
<i>CPAN::Author::email()</i></dt>
<dd>
Returns the author's email address</dd>
</dl>
<dl>
<dt>
<i>CPAN::Author::fullname()</i></dt>
<dd>
Returns the author's name</dd>
</dl>
<dl>
<dt>
<i>CPAN::Author::name()</i></dt>
<dd>
An alias for fullname</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::as_glimpse()</i></dt>
<dd>
Returns a one-line description of the bundle</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::as_string()</i></dt>
<dd>
Returns a multi-line description of the bundle</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::clean()</i></dt>
<dd>
Recursively runs the &quot;clean&quot; method on all items contained in the bundle.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::contains()</i></dt>
<dd>
Returns a list of objects' IDs contained in a bundle. The associated objects may be bundles, modules or distributions.</dd>
</dl>
<dl>
<dt>
CPAN::Bundle::force($method,@args)</dt>
<dd>
Forces CPAN to perform a task that it normally would have refused to do. Force takes as arguments a method name to be called and any number of additional arguments that should be passed to the called method. The internals of the object get the needed changes so that CPAN.pm does not refuse to take the action. The &quot;force&quot; is passed recursively to all contained objects. See also the section above on the &quot;force&quot; and the &quot;fforce&quot; pragma.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::get()</i></dt>
<dd>
Recursively runs the &quot;get&quot; method on all items contained in the bundle</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::inst_file()</i></dt>
<dd>
Returns the highest installed version of the bundle in either @INC or &quot;$CPAN::Config-&gt;{cpan_home}&quot;. Note that this is different from CPAN::Module::inst_file.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::inst_version()</i></dt>
<dd>
Like CPAN::Bundle::inst_file, but returns the $VERSION</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::uptodate()</i></dt>
<dd>
Returns 1 if the bundle itself and all its members are up-to-date.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::install()</i></dt>
<dd>
Recursively runs the &quot;install&quot; method on all items contained in the bundle</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::make()</i></dt>
<dd>
Recursively runs the &quot;make&quot; method on all items contained in the bundle</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::readme()</i></dt>
<dd>
Recursively runs the &quot;readme&quot; method on all items contained in the bundle</dd>
</dl>
<dl>
<dt>
<i>CPAN::Bundle::test()</i></dt>
<dd>
Recursively runs the &quot;test&quot; method on all items contained in the bundle</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::as_glimpse()</i></dt>
<dd>
Returns a one-line description of the distribution</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::as_string()</i></dt>
<dd>
Returns a multi-line description of the distribution</dd>
</dl>
<dl>
<dt>
CPAN::Distribution::author</dt>
<dd>
Returns the CPAN::Author object of the maintainer who uploaded this distribution</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::pretty_id()</i></dt>
<dd>
Returns a string of the form &quot;AUTHORID/TARBALL&quot;, where AUTHORID is the author's PAUSE ID and TARBALL is the distribution filename.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::base_id()</i></dt>
<dd>
Returns the distribution filename without any archive suffix.  E.g &quot;Foo-Bar-0.01&quot;</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::clean()</i></dt>
<dd>
Changes to the directory where the distribution has been unpacked and runs &quot;make clean&quot; there.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::containsmods()</i></dt>
<dd>
Returns a list of IDs of modules contained in a distribution file. Works only for distributions listed in the 02packages.details.txt.gz file. This typically means that just most recent version of a distribution is covered.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::cvs_import()</i></dt>
<dd>
Changes to the directory where the distribution has been unpacked and runs something like<div style="height: 1.00em;">
&#160;</div>
<br/>
    cvs -d $cvs_root import -m $cvs_log $cvs_dir $userid v$version<br/>
<div style="height: 1.00em;">
&#160;</div>
there.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::dir()</i></dt>
<dd>
Returns the directory into which this distribution has been unpacked.</dd>
</dl>
<dl>
<dt>
CPAN::Distribution::force($method,@args)</dt>
<dd>
Forces CPAN to perform a task that it normally would have refused to do. Force takes as arguments a method name to be called and any number of additional arguments that should be passed to the called method. The internals of the object get the needed changes so that CPAN.pm does not refuse to take the action. See also the section above on the &quot;force&quot; and the &quot;fforce&quot; pragma.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::get()</i></dt>
<dd>
Downloads the distribution from CPAN and unpacks it. Does nothing if the distribution has already been downloaded and unpacked within the current session.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::install()</i></dt>
<dd>
Changes to the directory where the distribution has been unpacked and runs the external command &quot;make install&quot; there. If &quot;make&quot; has not yet been run, it will be run first. A &quot;make test&quot; is issued in any case and if this fails, the install is cancelled. The cancellation can be avoided by letting &quot;force&quot; run the &quot;install&quot; for you.<div style="height: 1.00em;">
&#160;</div>
This install method only has the power to install the distribution if there are no dependencies in the way. To install an object along with all its dependencies, use CPAN::Shell-&gt;install.<div style="height: 1.00em;">
&#160;</div>
Note that <i>install()</i> gives no meaningful return value. See <i>uptodate()</i>.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::install_tested()</i></dt>
<dd>
Install all distributions that have tested successfully but not yet installed. See also &quot;is_tested&quot;.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::isa_perl()</i></dt>
<dd>
Returns 1 if this distribution file seems to be a perl distribution. Normally this is derived from the file name only, but the index from CPAN can contain a hint to achieve a return value of true for other filenames too.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::look()</i></dt>
<dd>
Changes to the directory where the distribution has been unpacked and opens a subshell there. Exiting the subshell returns.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::make()</i></dt>
<dd>
First runs the &quot;get&quot; method to make sure the distribution is downloaded and unpacked. Changes to the directory where the distribution has been unpacked and runs the external commands &quot;perl Makefile.PL&quot; or &quot;perl Build.PL&quot; and &quot;make&quot; there.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::perldoc()</i></dt>
<dd>
Downloads the pod documentation of the file associated with a distribution (in HTML format) and runs it through the external command  <i>lynx</i> specified in &quot;$CPAN::Config-&gt;{lynx}&quot;. If <i>lynx</i> isn't available, it converts it to plain text with the external command  <i>html2text</i> and runs it through the pager specified in &quot;$CPAN::Config-&gt;{pager}&quot;.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::prefs()</i></dt>
<dd>
Returns the hash reference from the first matching YAML file that the user has deposited in the &quot;prefs_dir/&quot; directory. The first succeeding match wins. The files in the &quot;prefs_dir/&quot; are processed alphabetically, and the canonical distro name (e.g. AUTHOR/Foo-Bar-3.14.tar.gz) is matched against the regular expressions stored in the $root-&gt;{match}{distribution} attribute value. Additionally all module names contained in a distribution are matched against the regular expressions in the $root-&gt;{match}{module} attribute value. The two match values are ANDed together. Each of the two attributes are optional.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::prereq_pm()</i></dt>
<dd>
Returns the hash reference that has been announced by a distribution as the &quot;requires&quot; and &quot;build_requires&quot; elements. These can be declared either by the &quot;META.yml&quot; (if authoritative) or can be deposited after the run of &quot;Build.PL&quot; in the file &quot;./_build/prereqs&quot; or after the run of &quot;Makfile.PL&quot; written as the &quot;PREREQ_PM&quot; hash in a comment in the produced &quot;Makefile&quot;.  <i>Note</i>: this method only works after an attempt has been made to &quot;make&quot; the distribution. Returns undef otherwise.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::readme()</i></dt>
<dd>
Downloads the README file associated with a distribution and runs it through the pager specified in &quot;$CPAN::Config-&gt;{pager}&quot;.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::reports()</i></dt>
<dd>
Downloads report data for this distribution from www.cpantesters.org and displays a subset of them.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::read_yaml()</i></dt>
<dd>
Returns the content of the META.yml of this distro as a hashref. Note: works only after an attempt has been made to &quot;make&quot; the distribution. Returns undef otherwise. Also returns undef if the content of META.yml is not authoritative. (The rules about what exactly makes the content authoritative are still in flux.)</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::test()</i></dt>
<dd>
Changes to the directory where the distribution has been unpacked and runs &quot;make test&quot; there.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Distribution::uptodate()</i></dt>
<dd>
Returns 1 if all the modules contained in the distribution are up-to-date. Relies on containsmods.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Index::force_reload()</i></dt>
<dd>
Forces a reload of all indices.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Index::reload()</i></dt>
<dd>
Reloads all indices if they have not been read for more than &quot;$CPAN::Config-&gt;{index_expire}&quot; days.</dd>
</dl>
<dl>
<dt>
<i>CPAN::InfoObj::dump()</i></dt>
<dd>
CPAN::Author, CPAN::Bundle, CPAN::Module, and CPAN::Distribution inherit this method. It prints the data structure associated with an object. Useful for debugging. Note: the data structure is considered internal and thus subject to change without notice.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::as_glimpse()</i></dt>
<dd>
Returns a one-line description of the module in four columns: The first column contains the word &quot;Module&quot;, the second column consists of one character: an equals sign if this module is already installed and up-to-date, a less-than sign if this module is installed but can be upgraded, and a space if the module is not installed. The third column is the name of the module and the fourth column gives maintainer or distribution information.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::as_string()</i></dt>
<dd>
Returns a multi-line description of the module</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::clean()</i></dt>
<dd>
Runs a clean on the distribution associated with this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::cpan_file()</i></dt>
<dd>
Returns the filename on CPAN that is associated with the module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::cpan_version()</i></dt>
<dd>
Returns the latest version of this module available on CPAN.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::cvs_import()</i></dt>
<dd>
Runs a cvs_import on the distribution associated with this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::description()</i></dt>
<dd>
Returns a 44 character description of this module. Only available for modules listed in The Module List (CPAN/modules/00modlist.long.html or 00modlist.long.txt.gz)</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::distribution()</i></dt>
<dd>
Returns the CPAN::Distribution object that contains the current version of this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::dslip_status()</i></dt>
<dd>
Returns a hash reference. The keys of the hash are the letters &quot;D&quot;, &quot;S&quot;, &quot;L&quot;, &quot;I&quot;, and &lt;P&gt;, for development status, support level, language, interface and public licence respectively. The data for the DSLIP status are collected by pause.perl.org when authors register their namespaces. The values of the 5 hash elements are one-character words whose meaning is described in the table below. There are also 5 hash elements &quot;DV&quot;, &quot;SV&quot;, &quot;LV&quot;, &quot;IV&quot;, and &lt;PV&gt; that carry a more verbose value of the 5 status variables.<div style="height: 1.00em;">
&#160;</div>
Where the 'DSLIP' characters have the following meanings:<div style="height: 1.00em;">
&#160;</div>
<br/>
  D - Development Stage  (Note: *NO IMPLIED TIMESCALES*):<br/>
    i   - Idea, listed to gain consensus or as a placeholder<br/>
    c   - under construction but pre-alpha (not yet released)<br/>
    a/b - Alpha/Beta testing<br/>
    R   - Released<br/>
    M   - Mature (no rigorous definition)<br/>
    S   - Standard, supplied with Perl 5<br/>
<br/>
  S - Support Level:<br/>
    m   - Mailing-list<br/>
    d   - Developer<br/>
    u   - Usenet newsgroup comp.lang.perl.modules<br/>
    n   - None known, try comp.lang.perl.modules<br/>
    a   - abandoned; volunteers welcome to take over maintenance<br/>
<br/>
  L - Language Used:<br/>
    p   - Perl-only, no compiler needed, should be platform independent<br/>
    c   - C and perl, a C compiler will be needed<br/>
    h   - Hybrid, written in perl with optional C code, no compiler needed<br/>
    +   - C++ and perl, a C++ compiler will be needed<br/>
    o   - perl and another language other than C or C++<br/>
<br/>
  I - Interface Style<br/>
    f   - plain Functions, no references used<br/>
    h   - hybrid, object and function interfaces available<br/>
    n   - no interface at all (huh?)<br/>
    r   - some use of unblessed References or ties<br/>
    O   - Object oriented using blessed references and/or inheritance<br/>
<br/>
  P - Public License<br/>
    p   - Standard-Perl: user may choose between GPL and Artistic<br/>
    g   - GPL: GNU General Public License<br/>
    l   - LGPL: &quot;GNU Lesser General Public License&quot; (previously known as<br/>
          &quot;GNU Library General Public License&quot;)<br/>
    b   - BSD: The BSD License<br/>
    a   - Artistic license alone<br/>
    2   - Artistic license 2.0 or later<br/>
    o   - open source: approved by www.opensource.org<br/>
    d   - allows distribution without restrictions<br/>
    r   - restricted distribution<br/>
    n   - no license at all<br/>
</dd>
</dl>
<dl>
<dt>
CPAN::Module::force($method,@args)</dt>
<dd>
Forces CPAN to perform a task it would normally refuse to do. Force takes as arguments a method name to be invoked and any number of additional arguments to pass that method. The internals of the object get the needed changes so that CPAN.pm does not refuse to take the action. See also the section above on the &quot;force&quot; and the &quot;fforce&quot; pragma.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::get()</i></dt>
<dd>
Runs a get on the distribution associated with this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::inst_file()</i></dt>
<dd>
Returns the filename of the module found in @INC. The first file found is reported, just as perl itself stops searching @INC once it finds a module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::available_file()</i></dt>
<dd>
Returns the filename of the module found in PERL5LIB or @INC. The first file found is reported. The advantage of this method over &quot;inst_file&quot; is that modules that have been tested but not yet installed are included because PERL5LIB keeps track of tested modules.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::inst_version()</i></dt>
<dd>
Returns the version number of the installed module in readable format.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::available_version()</i></dt>
<dd>
Returns the version number of the available module in readable format.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::install()</i></dt>
<dd>
Runs an &quot;install&quot; on the distribution associated with this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::look()</i></dt>
<dd>
Changes to the directory where the distribution associated with this module has been unpacked and opens a subshell there. Exiting the subshell returns.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::make()</i></dt>
<dd>
Runs a &quot;make&quot; on the distribution associated with this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::manpage_headline()</i></dt>
<dd>
If module is installed, peeks into the module's manpage, reads the headline, and returns it. Moreover, if the module has been downloaded within this session, does the equivalent on the downloaded module even if it hasn't been installed yet.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::perldoc()</i></dt>
<dd>
Runs a &quot;perldoc&quot; on this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::readme()</i></dt>
<dd>
Runs a &quot;readme&quot; on the distribution associated with this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::reports()</i></dt>
<dd>
Calls the <i>reports()</i> method on the associated distribution object.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::test()</i></dt>
<dd>
Runs a &quot;test&quot; on the distribution associated with this module.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::uptodate()</i></dt>
<dd>
Returns 1 if the module is installed and up-to-date.</dd>
</dl>
<dl>
<dt>
<i>CPAN::Module::userid()</i></dt>
<dd>
Returns the author's ID of the module.</dd>
</dl>
</div>
<div class="subsection">
<h2>Cache Manager</h2> Currently the cache manager only keeps track of the build directory ($CPAN::Config-&gt;{build_dir}). It is a simple FIFO mechanism that deletes complete directories below &quot;build_dir&quot; as soon as the size of all directories there gets bigger than $CPAN::Config-&gt;{build_cache} (in MB). The contents of this cache may be used for later re-installations that you intend to do manually, but will never be trusted by CPAN itself. This is due to the fact that the user might use these directories for building modules on different architectures.<div class="spacer">
</div>
There is another directory ($CPAN::Config-&gt;{keep_source_where}) where the original distribution files are kept. This directory is not covered by the cache manager and must be controlled by the user. If you choose to have the same directory as build_dir and as keep_source_where directory, then your sources will be deleted with the same fifo mechanism.</div>
<div class="subsection">
<h2>Bundles</h2> A bundle is just a perl module in the namespace Bundle:: that does not define any functions or methods. It usually only contains documentation.<div class="spacer">
</div>
It starts like a perl module with a package declaration and a $VERSION variable. After that the pod section looks like any other pod with the only difference being that  <i>one special pod section</i> exists starting with (verbatim):<div class="spacer">
</div>
<br/>
    =head1 CONTENTS<br/>
<div class="spacer">
</div>
In this pod section each line obeys the format<div class="spacer">
</div>
<br/>
        Module_Name [Version_String] [- optional text]<br/>
<div class="spacer">
</div>
The only required part is the first field, the name of a module (e.g. Foo::Bar, i.e.  <i>not</i> the name of the distribution file). The rest of the line is optional. The comment part is delimited by a dash just as in the man page header.<div class="spacer">
</div>
The distribution of a bundle should follow the same convention as other distributions.<div class="spacer">
</div>
Bundles are treated specially in the CPAN package. If you say 'install Bundle::Tkkit' (assuming such a bundle exists), CPAN will install all the modules in the CONTENTS section of the pod. You can install your own Bundles locally by placing a conformant Bundle file somewhere into your @INC path. The  <i>autobundle()</i> command which is available in the shell interface does that for you by including all currently installed modules in a snapshot bundle file.</div>
</div>
<div class="section">
<h1>PREREQUISITES</h1> The CPAN program is trying to depend on as little as possible so the user can use it in hostile environment. It works better the more goodies the environment provides. For example if you try in the CPAN shell<div class="spacer">
</div>
<br/>
  install Bundle::CPAN<br/>
<div class="spacer">
</div>
or<div class="spacer">
</div>
<br/>
  install Bundle::CPANxxl<br/>
<div class="spacer">
</div>
you will find the shell more convenient than the bare shell before.<div class="spacer">
</div>
If you have a local mirror of CPAN and can access all files with &quot;file:&quot; URLs, then you only need a perl later than perl5.003 to run this module. Otherwise Net::FTP is strongly recommended. LWP may be required for non-UNIX systems, or if your nearest CPAN site is associated with a URL that is not &quot;ftp:&quot;.<div class="spacer">
</div>
If you have neither Net::FTP nor LWP, there is a fallback mechanism implemented for an external ftp command or for an external lynx command.</div>
<div class="section">
<h1>UTILITIES</h1><div class="subsection">
<h2>Finding packages and VERSION</h2> This module presumes that all packages on CPAN<dl>
<dt>
&#8226;</dt>
<dd>
declare their $VERSION variable in an easy to parse manner. This prerequisite can hardly be relaxed because it consumes far too much memory to load all packages into the running program just to determine the $VERSION variable. Currently all programs that are dealing with version use something like this<div style="height: 1.00em;">
&#160;</div>
<br/>
    perl -MExtUtils::MakeMaker -le \<br/>
        'print MM-&gt;parse_version(shift)' filename<br/>
<div style="height: 1.00em;">
&#160;</div>
If you are author of a package and wonder if your $VERSION can be parsed, please try the above method.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
come as compressed or gzipped tarfiles or as zip files and contain a &quot;Makefile.PL&quot; or &quot;Build.PL&quot; (well, we try to handle a bit more, but with little enthusiasm).</dd>
</dl>
</div>
<div class="subsection">
<h2>Debugging</h2> Debugging this module is more than a bit complex due to interference from the software producing the indices on CPAN, the mirroring process on CPAN, packaging, configuration, synchronicity, and even (gasp!) due to bugs within the CPAN.pm module itself.<div class="spacer">
</div>
For debugging the code of CPAN.pm itself in interactive mode, some debugging aid can be turned on for most packages within CPAN.pm with one of<dl>
<dt>
o debug package...</dt>
<dd>
sets debug mode for packages.</dd>
</dl>
<dl>
<dt>
o debug -package...</dt>
<dd>
unsets debug mode for packages.</dd>
</dl>
<dl>
<dt>
o debug all</dt>
<dd>
turns debugging on for all packages.</dd>
</dl>
<dl>
<dt>
o debug number</dt>
<dd>
</dd>
</dl>
<div class="spacer">
</div>
which sets the debugging packages directly. Note that &quot;o debug 0&quot; turns debugging off.<div class="spacer">
</div>
What seems a successful strategy is the combination of &quot;reload cpan&quot; and the debugging switches. Add a new debug statement while running in the shell and then issue a &quot;reload cpan&quot; and see the new debugging messages immediately without losing the current context.<div class="spacer">
</div>
&quot;o debug&quot; without an argument lists the valid package names and the current set of packages in debugging mode. &quot;o debug&quot; has built-in completion support.<div class="spacer">
</div>
For debugging of CPAN data there is the &quot;dump&quot; command which takes the same arguments as make/test/install and outputs each object's Data::Dumper dump. If an argument looks like a perl variable and contains one of &quot;$&quot;, &quot;@&quot; or &quot;%&quot;, it is  <i>eval()</i>ed and fed to Data::Dumper directly.</div>
<div class="subsection">
<h2>Floppy, Zip, Offline Mode</h2> CPAN.pm works nicely without network access, too. If you maintain machines that are not networked at all, you should consider working with &quot;file:&quot; URLs. You'll have to collect your modules somewhere first. So you might use CPAN.pm to put together all you need on a networked machine. Then copy the $CPAN::Config-&gt;{keep_source_where} (but not $CPAN::Config-&gt;{build_dir}) directory on a floppy. This floppy is kind of a personal CPAN. CPAN.pm on the non-networked machines works nicely with this floppy. See also below the paragraph about CD-ROM support.</div>
<div class="subsection">
<h2>Basic Utilities for Programmers</h2><dl>
<dt>
has_inst($module)</dt>
<dd>
Returns true if the module is installed. Used to load all modules into the running CPAN.pm that are considered optional. The config variable &quot;dontload_list&quot; intercepts the &quot;has_inst()&quot; call such that an optional module is not loaded despite being available. For example, the following command will prevent &quot;YAML.pm&quot; from being loaded:<div style="height: 1.00em;">
&#160;</div>
<br/>
    cpan&gt; o conf dontload_list push YAML<br/>
<div style="height: 1.00em;">
&#160;</div>
See the source for details.</dd>
</dl>
<dl>
<dt>
has_usable($module)</dt>
<dd>
Returns true if the module is installed and in a usable state. Only useful for a handful of modules that are used internally. See the source for details.</dd>
</dl>
<dl>
<dt>
instance($module)</dt>
<dd>
The constructor for all the singletons used to represent modules, distributions, authors, and bundles. If the object already exists, this method returns the object; otherwise, it calls the constructor.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>SECURITY</h1> There's no strong security layer in CPAN.pm. CPAN.pm helps you to install foreign, unmasked, unsigned code on your machine. We compare to a checksum that comes from the net just as the distribution file itself. But we try to make it easy to add security on demand:<div class="subsection">
<h2>Cryptographically signed modules</h2> Since release 1.77, CPAN.pm has been able to verify cryptographically signed module distributions using Module::Signature.  The CPAN modules can be signed by their authors, thus giving more security.  The simple unsigned MD5 checksums that were used before by CPAN protect mainly against accidental file corruption.<div class="spacer">
</div>
You will need to have Module::Signature installed, which in turn requires that you have at least one of Crypt::OpenPGP module or the command-line  <i>gpg</i> tool installed.<div class="spacer">
</div>
You will also need to be able to connect over the Internet to the public key servers, like pgp.mit.edu, and their port 11731 (the HKP protocol).<div class="spacer">
</div>
The configuration parameter check_sigs is there to turn signature checking on or off.</div>
</div>
<div class="section">
<h1>EXPORT</h1> Most functions in package CPAN are exported by default. The reason for this is that the primary use is intended for the cpan shell or for one-liners.</div>
<div class="section">
<h1>ENVIRONMENT</h1> When the CPAN shell enters a subshell via the look command, it sets the environment CPAN_SHELL_LEVEL to 1, or increments that variable if it is already set.<div class="spacer">
</div>
When CPAN runs, it sets the environment variable PERL5_CPAN_IS_RUNNING to the ID of the running process. It also sets PERL5_CPANPLUS_IS_RUNNING to prevent runaway processes which could happen with older versions of Module::Install.<div class="spacer">
</div>
When running &quot;perl Makefile.PL&quot;, the environment variable &quot;PERL5_CPAN_IS_EXECUTING&quot; is set to the full path of the &quot;Makefile.PL&quot; that is being executed. This prevents runaway processes with newer versions of Module::Install.<div class="spacer">
</div>
When the config variable ftp_passive is set, all downloads will be run with the environment variable FTP_PASSIVE set to this value. This is in general a good idea as it influences both Net::FTP and LWP based connections. The same effect can be achieved by starting the cpan shell with this environment variable set. For Net::FTP alone, one can also always set passive mode by running libnetcfg.</div>
<div class="section">
<h1>POPULATE AN INSTALLATION WITH LOTS OF MODULES</h1> Populating a freshly installed perl with one's favorite modules is pretty easy if you maintain a private bundle definition file. To get a useful blueprint of a bundle definition file, the command autobundle can be used on the CPAN shell command line. This command writes a bundle definition file for all modules installed for the current perl interpreter. It's recommended to run this command once only, and from then on maintain the file manually under a private name, say Bundle/my_bundle.pm. With a clever bundle file you can then simply say<div class="spacer">
</div>
<br/>
    cpan&gt; install Bundle::my_bundle<br/>
<div class="spacer">
</div>
then answer a few questions and go out for coffee (possibly even in a different city).<div class="spacer">
</div>
Maintaining a bundle definition file means keeping track of two things: dependencies and interactivity. CPAN.pm sometimes fails on calculating dependencies because not all modules define all MakeMaker attributes correctly, so a bundle definition file should specify prerequisites as early as possible. On the other hand, it's annoying that so many distributions need some interactive configuring. So what you can try to accomplish in your private bundle file is to have the packages that need to be configured early in the file and the gentle ones later, so you can go out for coffee after a few minutes and leave CPAN.pm to churn away untended.</div>
<div class="section">
<h1>WORKING WITH CPAN.pm BEHIND FIREWALLS</h1> Thanks to Graham Barr for contributing the following paragraphs about the interaction between perl, and various firewall configurations. For further information on firewalls, it is recommended to consult the documentation that comes with the  <i>ncftp</i> program. If you are unable to go through the firewall with a simple Perl setup, it is likely that you can configure  <i>ncftp</i> so that it works through your firewall.<div class="subsection">
<h2>Three basic types of firewalls</h2> Firewalls can be categorized into three basic types.<dl>
<dt>
http firewall</dt>
<dd>
This is when the firewall machine runs a web server, and to access the outside world, you must do so via that web server. If you set environment variables like http_proxy or ftp_proxy to values beginning with http://, or in your web browser you've proxy information set, then you know you are running behind an http firewall.<div style="height: 1.00em;">
&#160;</div>
To access servers outside these types of firewalls with perl (even for ftp), you need LWP or HTTP::Tiny.</dd>
</dl>
<dl>
<dt>
ftp firewall</dt>
<dd>
This where the firewall machine runs an ftp server. This kind of firewall will only let you access ftp servers outside the firewall. This is usually done by connecting to the firewall with ftp, then entering a username like &quot;user@outside.host.com&quot;.<div style="height: 1.00em;">
&#160;</div>
To access servers outside these type of firewalls with perl, you need Net::FTP.</dd>
</dl>
<dl>
<dt>
One-way visibility</dt>
<dd>
One-way visibility means these firewalls try to make themselves invisible to users inside the firewall. An FTP data connection is normally created by sending your IP address to the remote server and then listening for the return connection. But the remote server will not be able to connect to you because of the firewall. For these types of firewall, FTP connections need to be done in a passive mode.<div style="height: 1.00em;">
&#160;</div>
There are two that I can think off.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
SOCKS</dt>
<dd>
If you are using a SOCKS firewall, you will need to compile perl and link it with the SOCKS library.  This is what is normally called a 'socksified' perl. With this executable you will be able to connect to servers outside the firewall as if it were not there.</dd>
</dl>
<dl>
<dt>
IP Masquerade</dt>
<dd>
This is when the firewall implemented in the kernel (via NAT, or networking address translation), it allows you to hide a complete network behind one IP address. With this firewall no special compiling is needed as you can access hosts directly.<div style="height: 1.00em;">
&#160;</div>
For accessing ftp servers behind such firewalls you usually need to set the environment variable &quot;FTP_PASSIVE&quot; or the config variable ftp_passive to a true value.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
</div>
<div class="subsection">
<h2>Configuring lynx or ncftp for going through a firewall</h2> If you can go through your firewall with e.g. lynx, presumably with a command such as<div class="spacer">
</div>
<br/>
    /usr/local/bin/lynx -pscott:tiger<br/>
<div class="spacer">
</div>
then you would configure CPAN.pm with the command<div class="spacer">
</div>
<br/>
    o conf lynx &quot;/usr/local/bin/lynx -pscott:tiger&quot;<br/>
<div class="spacer">
</div>
That's all. Similarly for ncftp or ftp, you would configure something like<div class="spacer">
</div>
<br/>
    o conf ncftp &quot;/usr/bin/ncftp -f /home/scott/ncftplogin.cfg&quot;<br/>
<div class="spacer">
</div>
Your mileage may vary...</div>
</div>
<div class="section">
<h1>FAQ</h1><dl>
<dt>
1)</dt>
<dd>
I installed a new version of module X but CPAN keeps saying, I have the old version installed<div style="height: 1.00em;">
&#160;</div>
Probably you <b>do</b> have the old version installed. This can happen if a module installs itself into a different directory in the @INC path than it was previously installed. This is not really a CPAN.pm problem, you would have the same problem when installing the module manually. The easiest way to prevent this behaviour is to add the argument &quot;UNINST=1&quot; to the &quot;make install&quot; call, and that is why many people add this argument permanently by configuring<div style="height: 1.00em;">
&#160;</div>
<br/>
  o conf make_install_arg UNINST=1<br/>
</dd>
</dl>
<dl>
<dt>
2)</dt>
<dd>
So why is UNINST=1 not the default?<div style="height: 1.00em;">
&#160;</div>
Because there are people who have their precise expectations about who may install where in the @INC path and who uses which @INC array. In fine tuned environments &quot;UNINST=1&quot; can cause damage.</dd>
</dl>
<dl>
<dt>
3)</dt>
<dd>
I want to clean up my mess, and install a new perl along with all modules I have. How do I go about it?<div style="height: 1.00em;">
&#160;</div>
Run the autobundle command for your old perl and optionally rename the resulting bundle file (e.g. Bundle/mybundle.pm), install the new perl with the Configure option prefix, e.g.<div style="height: 1.00em;">
&#160;</div>
<br/>
    ./Configure -Dprefix=/usr/local/perl-5.6.78.9<br/>
<div style="height: 1.00em;">
&#160;</div>
Install the bundle file you produced in the first step with something like<div style="height: 1.00em;">
&#160;</div>
<br/>
    cpan&gt; install Bundle::mybundle<br/>
<div style="height: 1.00em;">
&#160;</div>
and you're done.</dd>
</dl>
<dl>
<dt>
4)</dt>
<dd>
When I install bundles or multiple modules with one command there is too much output to keep track of.<div style="height: 1.00em;">
&#160;</div>
You may want to configure something like<div style="height: 1.00em;">
&#160;</div>
<br/>
  o conf make_arg &quot;| tee -ai /root/.cpan/logs/make.out&quot;<br/>
  o conf make_install_arg &quot;| tee -ai /root/.cpan/logs/make_install.out&quot;<br/>
<div style="height: 1.00em;">
&#160;</div>
so that STDOUT is captured in a file for later inspection.</dd>
</dl>
<dl>
<dt>
5)</dt>
<dd>
I am not root, how can I install a module in a personal directory?<div style="height: 1.00em;">
&#160;</div>
As of CPAN 1.9463, if you do not have permission to write the default perl library directories, CPAN's configuration process will ask you whether you want to bootstrap &lt;local::lib&gt;, which makes keeping a personal perl library directory easy.<div style="height: 1.00em;">
&#160;</div>
Another thing you should bear in mind is that the UNINST parameter can be dangerous when you are installing into a private area because you might accidentally remove modules that other people depend on that are not using the private area.</dd>
</dl>
<dl>
<dt>
6)</dt>
<dd>
How to get a package, unwrap it, and make a change before building it?<div style="height: 1.00em;">
&#160;</div>
Have a look at the &quot;look&quot; (!) command.</dd>
</dl>
<dl>
<dt>
7)</dt>
<dd>
I installed a Bundle and had a couple of fails. When I retried, everything resolved nicely. Can this be fixed to work on first try?<div style="height: 1.00em;">
&#160;</div>
The reason for this is that CPAN does not know the dependencies of all modules when it starts out. To decide about the additional items to install, it just uses data found in the META.yml file or the generated Makefile. An undetected missing piece breaks the process. But it may well be that your Bundle installs some prerequisite later than some depending item and thus your second try is able to resolve everything. Please note, CPAN.pm does not know the dependency tree in advance and cannot sort the queue of things to install in a topologically correct order. It resolves perfectly well  <b>if</b> all modules declare the prerequisites correctly with the PREREQ_PM attribute to MakeMaker or the &quot;requires&quot; stanza of Module::Build. For bundles which fail and you need to install often, it is recommended to sort the Bundle definition file manually.</dd>
</dl>
<dl>
<dt>
8)</dt>
<dd>
In our intranet, we have many modules for internal use. How can I integrate these modules with CPAN.pm but without uploading the modules to CPAN?<div style="height: 1.00em;">
&#160;</div>
Have a look at the CPAN::Site module.</dd>
</dl>
<dl>
<dt>
9)</dt>
<dd>
When I run CPAN's shell, I get an error message about things in my &quot;/etc/inputrc&quot; (or &quot;~/.inputrc&quot;) file.<div style="height: 1.00em;">
&#160;</div>
These are readline issues and can only be fixed by studying readline configuration on your architecture and adjusting the referenced file accordingly. Please make a backup of the &quot;/etc/inputrc&quot; or &quot;~/.inputrc&quot; and edit them. Quite often harmless changes like uppercasing or lowercasing some arguments solves the problem.</dd>
</dl>
<dl>
<dt>
10)</dt>
<dd>
Some authors have strange characters in their names.<div style="height: 1.00em;">
&#160;</div>
Internally CPAN.pm uses the UTF-8 charset. If your terminal is expecting ISO-8859-1 charset, a converter can be activated by setting term_is_latin to a true value in your config file. One way of doing so would be<div style="height: 1.00em;">
&#160;</div>
<br/>
    cpan&gt; o conf term_is_latin 1<br/>
<div style="height: 1.00em;">
&#160;</div>
If other charset support is needed, please file a bug report against CPAN.pm at rt.cpan.org and describe your needs. Maybe we can extend the support or maybe UTF-8 terminals become widely available.<div style="height: 1.00em;">
&#160;</div>
Note: this config variable is deprecated and will be removed in a future version of CPAN.pm. It will be replaced with the conventions around the family of $LANG and $LC_* environment variables.</dd>
</dl>
<dl>
<dt>
11)</dt>
<dd>
When an install fails for some reason and then I correct the error condition and retry, CPAN.pm refuses to install the module, saying &quot;Already tried without success&quot;.<div style="height: 1.00em;">
&#160;</div>
Use the force pragma like so<div style="height: 1.00em;">
&#160;</div>
<br/>
  force install Foo::Bar<br/>
<div style="height: 1.00em;">
&#160;</div>
Or you can use<div style="height: 1.00em;">
&#160;</div>
<br/>
  look Foo::Bar<br/>
<div style="height: 1.00em;">
&#160;</div>
and then &quot;make install&quot; directly in the subshell.</dd>
</dl>
<dl>
<dt>
12)</dt>
<dd>
How do I install a &quot;DEVELOPER RELEASE&quot; of a module?<div style="height: 1.00em;">
&#160;</div>
By default, CPAN will install the latest non-developer release of a module. If you want to install a dev release, you have to specify the partial path starting with the author id to the tarball you wish to install, like so:<div style="height: 1.00em;">
&#160;</div>
<br/>
    cpan&gt; install KWILLIAMS/Module-Build-0.27_07.tar.gz<br/>
<div style="height: 1.00em;">
&#160;</div>
Note that you can use the &quot;ls&quot; command to get this path listed.</dd>
</dl>
<dl>
<dt>
13)</dt>
<dd>
How do I install a module and all its dependencies from the commandline, without being prompted for anything, despite my CPAN configuration (or lack thereof)?<div style="height: 1.00em;">
&#160;</div>
CPAN uses ExtUtils::MakeMaker's <i>prompt()</i> function to ask its questions, so if you set the PERL_MM_USE_DEFAULT environment variable, you shouldn't be asked any questions at all (assuming the modules you are installing are nice about obeying that variable as well):<div style="height: 1.00em;">
&#160;</div>
<br/>
    % PERL_MM_USE_DEFAULT=1 perl -MCPAN -e 'install My::Module'<br/>
</dd>
</dl>
<dl>
<dt>
14)</dt>
<dd>
How do I create a Module::Build based Build.PL derived from an ExtUtils::MakeMaker focused Makefile.PL?<div style="height: 1.00em;">
&#160;</div>
http://search.cpan.org/dist/Module-Build-Convert/</dd>
</dl>
<dl>
<dt>
15)</dt>
<dd>
I'm frequently irritated with the CPAN shell's inability to help me select a good mirror.<div style="height: 1.00em;">
&#160;</div>
CPAN can now help you select a &quot;good&quot; mirror, based on which ones have the lowest 'ping' round-trip times.  From the shell, use the command 'o conf init urllist' and allow CPAN to automatically select mirrors for you.<div style="height: 1.00em;">
&#160;</div>
Beyond that help, the urllist config parameter is yours. You can add and remove sites at will. You should find out which sites have the best up-to-dateness, bandwidth, reliability, etc. and are topologically close to you. Some people prefer fast downloads, others up-to-dateness, others reliability.  You decide which to try in which order.<div style="height: 1.00em;">
&#160;</div>
Henk P. Penning maintains a site that collects data about CPAN sites:<div style="height: 1.00em;">
&#160;</div>
<br/>
  http://www.cs.uu.nl/people/henkp/mirmon/cpan.html<br/>
<div style="height: 1.00em;">
&#160;</div>
Also, feel free to play with experimental features. Run<div style="height: 1.00em;">
&#160;</div>
<br/>
  o conf init randomize_urllist ftpstats_period ftpstats_size<br/>
<div style="height: 1.00em;">
&#160;</div>
and choose your favorite parameters. After a few downloads running the &quot;hosts&quot; command will probably assist you in choosing the best mirror sites.</dd>
</dl>
<dl>
<dt>
16)</dt>
<dd>
Why do I get asked the same questions every time I start the shell?<div style="height: 1.00em;">
&#160;</div>
You can make your configuration changes permanent by calling the command &quot;o conf commit&quot;. Alternatively set the &quot;auto_commit&quot; variable to true by running &quot;o conf init auto_commit&quot; and answering the following question with yes.</dd>
</dl>
<dl>
<dt>
17)</dt>
<dd>
Older versions of CPAN.pm had the original root directory of all tarballs in the build directory. Now there are always random characters appended to these directory names. Why was this done?<div style="height: 1.00em;">
&#160;</div>
The random characters are provided by File::Temp and ensure that each module's individual build directory is unique. This makes running CPAN.pm in concurrent processes simultaneously safe.</dd>
</dl>
<dl>
<dt>
18)</dt>
<dd>
Speaking of the build directory. Do I have to clean it up myself?<div style="height: 1.00em;">
&#160;</div>
You have the choice to set the config variable &quot;scan_cache&quot; to &quot;never&quot;. Then you must clean it up yourself. The other possible values, &quot;atstart&quot; and &quot;atexit&quot; clean up the build directory when you start or exit the CPAN shell, respectively. If you never start up the CPAN shell, you probably also have to clean up the build directory yourself.</dd>
</dl>
</div>
<div class="section">
<h1>COMPATIBILITY</h1><div class="subsection">
<h2>OLD PERL VERSIONS</h2> CPAN.pm is regularly tested to run under 5.004, 5.005, and assorted newer versions. It is getting more and more difficult to get the minimal prerequisites working on older perls. It is close to impossible to get the whole Bundle::CPAN working there. If you're in the position to have only these old versions, be advised that CPAN is designed to work fine without the Bundle::CPAN installed.<div class="spacer">
</div>
To get things going, note that GBARR/Scalar-List-Utils-1.18.tar.gz is compatible with ancient perls and that File::Temp is listed as a prerequisite but CPAN has reasonable workarounds if it is missing.</div>
<div class="subsection">
<h2>CPANPLUS</h2> This module and its competitor, the CPANPLUS module, are both much cooler than the other. CPAN.pm is older. CPANPLUS was designed to be more modular, but it was never intended to be compatible with CPAN.pm.</div>
<div class="subsection">
<h2>CPANMINUS</h2> In the year 2010 App::cpanminus was launched as a new approach to a cpan shell with a considerably smaller footprint. Very cool stuff.</div>
</div>
<div class="section">
<h1>SECURITY ADVICE</h1> This software enables you to upgrade software on your computer and so is inherently dangerous because the newly installed software may contain bugs and may alter the way your computer works or even make it unusable. Please consider backing up your data before every upgrade.</div>
<div class="section">
<h1>BUGS</h1> Please report bugs via &lt;http://rt.cpan.org/&gt;<div class="spacer">
</div>
Before submitting a bug, please make sure that the traditional method of building a Perl module package from a shell by following the installation instructions of that package still works in your environment.</div>
<div class="section">
<h1>AUTHOR</h1> Andreas Koenig &quot;&lt;andk@cpan.org&gt;&quot;</div>
<div class="section">
<h1>LICENSE</h1> This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.<div class="spacer">
</div>
See &lt;http://www.perl.com/perl/misc/Artistic.html&gt;</div>
<div class="section">
<h1>TRANSLATIONS</h1> Kawai,Takanori provides a Japanese translation of a very old version of this manpage at &lt;http://homepage3.nifty.com/hippo2000/perltips/CPAN.htm&gt;</div>
<div class="section">
<h1>SEE ALSO</h1> Many people enter the CPAN shell by running the cpan utility program which is installed in the same directory as perl itself. So if you have this directory in your PATH variable (or some equivalent in your operating system) then typing &quot;cpan&quot; in a console window will work for you as well. Above that the utility provides several commandline shortcuts.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

