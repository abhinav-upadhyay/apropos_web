<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
File::Listing(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
File::Listing(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
File::Listing(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> File::Listing - parse directory listing</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 use File::Listing qw(parse_dir);<br/>
 $ENV{LANG} = &quot;C&quot;;  # dates in non-English locales not supported<br/>
 for (parse_dir(`ls -l`)) {<br/>
     ($name, $type, $size, $mtime, $mode) = @$_;<br/>
     next if $type ne 'f'; # plain file<br/>
     #...<br/>
 }<br/>
<br/>
 # directory listing can also be read from a file<br/>
 open(LISTING, &quot;zcat ls-lR.gz|&quot;);<br/>
 $dir = parse_dir(\*LISTING, '+0000');<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module exports a single function called  <i>parse_dir()</i>, which can be used to parse directory listings.<div class="spacer">
</div>
The first parameter to <i>parse_dir()</i> is the directory listing to parse. It can be a scalar, a reference to an array of directory lines or a glob representing a filehandle to read the directory listing from.<div class="spacer">
</div>
The second parameter is the time zone to use when parsing time stamps in the listing. If this value is undefined, then the local time zone is assumed.<div class="spacer">
</div>
The third parameter is the type of listing to assume.  Currently supported formats are 'unix', 'apache' and 'dosftp'.  The default value 'unix'.  Ideally, the listing type should be determined automatically.<div class="spacer">
</div>
The fourth parameter specifies how unparseable lines should be treated. Values can be 'ignore', 'warn' or a code reference.  Warn means that the perl  <i>warn()</i> function will be called.  If a code reference is passed, then this routine will be called and the return value from it will be incorporated in the listing.  The default is 'ignore'.<div class="spacer">
</div>
Only the first parameter is mandatory.<div class="spacer">
</div>
The return value from <i>parse_dir()</i> is a list of directory entries.  In a scalar context the return value is a reference to the list.  The directory entries are represented by an array consisting of [ $filename, $filetype, $filesize, $filetime, $filemode ].  The $filetype value is one of the letters 'f', 'd', 'l' or '?'.  The $filetime value is the seconds since Jan 1, 1970.  The $filemode is a bitmask like the mode returned by  <i>stat()</i>.</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright 1996-2010, Gisle Aas<div class="spacer">
</div>
Based on lsparse.pl (from Lee McLoughlin's ftp mirror package) and Net::FTP's parse_dir (Graham Barr).<div class="spacer">
</div>
This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-19</td>
<td class="foot-os">
perl v5.12.4</td>
</tr>
</table>
</div>
</body>
</html>

