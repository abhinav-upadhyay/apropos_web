<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XGETDEVICEKEYMAPPING(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XGETDEVICEKEYMAPPING(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XGETDEVICEKEYMAPPING(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XGetDeviceKeyMapping, XChangeDeviceKeyMapping - query or change device key mappings</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
KeySym *XGetDeviceKeyMapping( Display *display,<br/>
                              XDevice *device,<br/>
                              KeyCode first_keycode,<br/>
                              int keycode_count,<br/>
                              int *keysyms_per_keycode_return);<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
device<br/>
       Specifies the device whose key mapping is to be queried<br/>
       or modified.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
first_keycode<br/>
       Specifies the first KeyCode to be returned.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
keycode_count<br/>
       Specifies the number of KeyCodes to be returned or<br/>
       modified.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
keysyms_per_keycode<br/>
       Specifies the number of KeySyms per KeyCode.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
keysyms_per_keycode_return<br/>
       Specifies the address of a variable into which the<br/>
       number of KeySyms per KeyCodewill be returned.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
keysyms<br/>
       Specifies the address of an array of KeySyms.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
For the specified device, the XGetDeviceKeyMapping request<br/>
returns the symbols for the specified number of KeyCodes<br/>
starting with first_keycode. The value specified in<br/>
first_keycode must be greater than or equal to min_keycode as<br/>
returned by XListInputDevices, or a BadValue error results. In<br/>
addition, the following expression must be less than or equal<br/>
to max_keycode as returned by XListInputDevices:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
first_keycode + keycode_count - 1<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If this is not the case, a BadValue error results. The number<br/>
of elements in the KeySyms list is:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
keycode_count * keysyms_per_keycode_return<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
KeySym number N, counting from zero, for KeyCode K has the<br/>
following index in the list, counting from zero: (K -<br/>
first_code) * keysyms_per_code_return + N<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The X server arbitrarily chooses the keysyms_per_keycode_return<br/>
value to be large enough to report all requested symbols. A<br/>
special KeySym value of NoSymbol is used to fill in unused<br/>
elements for individual KeyCodes. To free the storage returned<br/>
by XGetDeviceKeyMapping, use XFree.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If the specified device does not support input class keys, a<br/>
BadMatch error will result.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XGetDeviceKeyMapping can generate a BadDevice, BadMatch, or<br/>
BadValue error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
For the specified device, the XChangeDeviceKeyMapping request<br/>
defines the symbols for the specified number of KeyCodes<br/>
starting with first_keycode. The symbols for KeyCodes outside<br/>
this range remain unchanged. The number of elements in keysyms<br/>
must be:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
num_codes * keysyms_per_keycode<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The specified first_keycode must be greater than or equal to<br/>
min_keycode returned by XListInputDevices, or a BadValue error<br/>
results. In addition, the following expression must be less<br/>
than or equal to max_keycode as returned by XListInputDevices,<br/>
or a BadValue error results:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
first_keycode + num_codes - 1<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
KeySym number N, counting from zero, for KeyCode K has the<br/>
following index in keysyms, counting from zero:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
(K - first_keycode) * keysyms_per_keycode + N<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The specified keysyms_per_keycode can be chosen arbitrarily by<br/>
the client to be large enough to hold all desired symbols. A<br/>
special KeySym value of NoSymbol should be used to fill in<br/>
unused elements for individual KeyCodes. It is legal for<br/>
NoSymbol to appear in nontrailing positions of the effective<br/>
list for a KeyCode.XChangeDeviceKeyMapping generates a<br/>
DeviceMappingNotify event that is sent to all clients that have<br/>
selected that type of event.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
There is no requirement that the X server interpret this<br/>
mapping. It is merely stored for reading and writing by<br/>
clients.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If the specified device does not support input class keys, a<br/>
BadMatch error results.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XChangeDeviceKeyMapping can generate a BadDevice, BadMatch,<br/>
BadAlloc, or BadValue error.<br/>
</div>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><div style="margin-left: 4.00ex;">
<br/>
BadDevice<br/>
       An invalid device was specified. The specified device<br/>
       does not exist or has not been opened by this client via<br/>
       XOpenInputDevice. This error may also occur if the<br/>
       specified device is the X keyboard or X pointer device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadMatch<br/>
       This error may occur if an XGetDeviceKeyMapping or<br/>
       XChangeDeviceKeyMapping request was made specifying a<br/>
       device that has no keys.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadValue<br/>
       Some numeric value falls outside the range of values<br/>
       accepted by the request. Unless a specific range is<br/>
       specified for an argument, the full range defined by the<br/>
       argument's type is accepted. Any argument defined as a<br/>
       set of alternatives can generate this error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadAlloc<br/>
       The server failed to allocate the requested resource or<br/>
       server memory.<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1><div style="margin-left: 4.00ex;">
<br/>
XSetDeviceButtonMapping(3), XSetDeviceModifierMapping(__3_)<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

