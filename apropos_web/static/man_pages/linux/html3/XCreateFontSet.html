<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XCreateFontSet(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XCreateFontSet(3)</td>
<td class="head-vol">
XLIB FUNCTIONS</td>
<td class="head-rtitle">
XCreateFontSet(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XCreateFontSet, XFreeFontSet - create and free an international text drawing font set</div>
<div class="section">
<h1>SYNTAX</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
XFontSet XCreateFontSet(Display *<i>display</i>, char * <i>base_font_name_list</i>, char ***<i>missing_charset_list_return</i>, int * <i>missing_charset_count_return</i>, char **<i>def_string_return</i>);</div>
<div class="spacer">
</div>
<div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
void XFreeFontSet(Display *<i>display</i>, XFontSet <i>font_set</i>);</div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>display</i></dt>
<dd>
Specifies the connection to the X server.</dd>
</dl>
<dl>
<dt>
<i>base_font_name_list</i></dt>
<dd>
Specifies the base font names.</dd>
</dl>
<dl>
<dt>
<i>def_string_return</i></dt>
<dd>
Returns the string drawn for missing charsets.</dd>
</dl>
<dl>
<dt>
<i>font_set</i></dt>
<dd>
Specifies the font set.</dd>
</dl>
<dl>
<dt>
<i>missing_charset_count_return</i></dt>
<dd>
Returns the number of missing charsets.</dd>
</dl>
<dl>
<dt>
<i>missing_charset_list_return</i></dt>
<dd>
Returns the missing charsets.</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>XCreateFontSet</i> function creates a font set for the specified display. The font set is bound to the current locale when  <i>XCreateFontSet</i> is called. The font set may be used in subsequent calls to obtain font and character information and to image text in the locale of the font set.<div class="spacer">
</div>
The base_font_name_list argument is a list of base font names that Xlib uses to load the fonts needed for the locale. The base font names are a comma-separated list. The string is null-terminated and is assumed to be in the Host Portable Character Encoding; otherwise, the result is implementation-dependent. White space immediately on either side of a separating comma is ignored.<div class="spacer">
</div>
Use of XLFD font names permits Xlib to obtain the fonts needed for a variety of locales from a single locale-independent base font name. The single base font name should name a family of fonts whose members are encoded in the various charsets needed by the locales of interest.<div class="spacer">
</div>
An XLFD base font name can explicitly name a charset needed for the locale. This allows the user to specify an exact font for use with a charset required by a locale, fully controlling the font selection.<div class="spacer">
</div>
If a base font name is not an XLFD name, Xlib will attempt to obtain an XLFD name from the font properties for the font. If this action is successful in obtaining an XLFD name, the  <i>XBaseFontNameListOfFontSet</i> function will return this XLFD name instead of the client-supplied name.<div class="spacer">
</div>
Xlib uses the following algorithm to select the fonts that will be used to display text with the  <i>XFontSet</i>.<div class="spacer">
</div>
For each font charset required by the locale, the base font name list is searched for the first appearance of one of the following cases that names a set of fonts that exist at the server:<dl>
<dt>
&#8226;</dt>
<dd>
The first XLFD-conforming base font name that specifies the required charset or a superset of the required charset in its  <i>CharSetRegistry</i> and  <i>CharSetEncoding</i> fields. The implementation may use a base font name whose specified charset is a superset of the required charset, for example, an ISO8859-1 font for an ASCII charset.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The first set of one or more XLFD-conforming base font names that specify one or more charsets that can be remapped to support the required charset. The Xlib implementation may recognize various mappings from a required charset to one or more other charsets and use the fonts for those charsets. For example, JIS Roman is ASCII with tilde and backslash replaced by yen and overbar; Xlib may load an ISO8859-1 font to support this character set if a JIS Roman font is not available.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The first XLFD-conforming font name or the first non-XLFD font name for which an XLFD font name can be obtained, combined with the required charset (replacing the  <i>CharSetRegistry</i> and  <i>CharSetEncoding</i> fields in the XLFD font name). As in case 1, the implementation may use a charset that is a superset of the required charset.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The first font name that can be mapped in some implementation-dependent manner to one or more fonts that support imaging text in the charset.</dd>
</dl>
<div class="spacer">
</div>
For example, assume that a locale required the charsets:<div class="spacer">
</div>
<br/>
ISO8859-1<br/>
JISX0208.1983<br/>
JISX0201.1976<br/>
GB2312-1980.0<br/>
<div style="height: 0.00ex;">
&#160;</div>
<br/>
<div class="spacer">
</div>
The user could supply a base_font_name_list that explicitly specifies the charsets, ensuring that specific fonts are used if they exist. For example:<div class="spacer">
</div>
<br/>
&quot;-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-240-JISX0208.1983-0,\<br/>
-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-120-JISX0201.1976-0,\<br/>
-GB-Fixed-Medium-R-Normal--26-180-100-100-C-240-GB2312-1980.0,\<br/>
-Adobe-Courier-Bold-R-Normal--25-180-75-75-M-150-ISO8859-1&quot;<br/>
<div style="height: 0.00ex;">
&#160;</div>
<br/>
<div class="spacer">
</div>
Alternatively, the user could supply a base_font_name_list that omits the charsets, letting Xlib select font charsets required for the locale. For example:<div class="spacer">
</div>
<br/>
&quot;-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-240,\<br/>
-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-120,\<br/>
-GB-Fixed-Medium-R-Normal--26-180-100-100-C-240,\<br/>
-Adobe-Courier-Bold-R-Normal--25-180-100-100-M-150&quot;<br/>
<div style="height: 0.00ex;">
&#160;</div>
<br/>
<div class="spacer">
</div>
Alternatively, the user could simply supply a single base font name that allows Xlib to select from all available fonts that meet certain minimum XLFD property requirements. For example:<div class="spacer">
</div>
<br/>
&quot;-*-*-*-R-Normal--*-180-100-100-*-*&quot;<br/>
<div style="height: 0.00ex;">
&#160;</div>
<br/>
<div class="spacer">
</div>
If  <i>XCreateFontSet</i> is unable to create the font set, either because there is insufficient memory or because the current locale is not supported,  <i>XCreateFontSet</i> returns NULL, missing_charset_list_return is set to NULL, and missing_charset_count_return is set to zero. If fonts exist for all of the charsets required by the current locale,  <i>XCreateFontSet</i> returns a valid  <i>XFontSet</i>, missing_charset_list_return is set to NULL, and missing_charset_count_return is set to zero.<div class="spacer">
</div>
If no font exists for one or more of the required charsets,  <i>XCreateFontSet</i> sets missing_charset_list_return to a list of one or more null-terminated charset names for which no font exists and sets missing_charset_count_return to the number of missing fonts. The charsets are from the list of the required charsets for the encoding of the locale and do not include any charsets to which Xlib may be able to remap a required charset.<div class="spacer">
</div>
If no font exists for any of the required charsets or if the locale definition in Xlib requires that a font exist for a particular charset and a font is not found for that charset,  <i>XCreateFontSet</i> returns NULL. Otherwise,  <i>XCreateFontSet</i> returns a valid  <i>XFontSet</i> to font_set.<div class="spacer">
</div>
When an Xmb/wc drawing or measuring function is called with an  <i>XFontSet</i> that has missing charsets, some characters in the locale will not be drawable. If def_string_return is non-NULL,  <i>XCreateFontSet</i> returns a pointer to a string that represents the glyphs that are drawn with this  <i>XFontSet</i> when the charsets of the available fonts do not include all font glyphs required to draw a codepoint. The string does not necessarily consist of valid characters in the current locale and is not necessarily drawn with the fonts loaded for the font set, but the client can draw and measure the default glyphs by including this string in a string being drawn or measured with the  <i>XFontSet</i>.<div class="spacer">
</div>
If the string returned to def_string_return is the empty string (&quot;&quot;), no glyphs are drawn, and the escapement is zero. The returned string is null-terminated. It is owned by Xlib and should not be modified or freed by the client. It will be freed by a call to  <i>XFreeFontSet</i> with the associated  <i>XFontSet</i>. Until freed, its contents will not be modified by Xlib.<div class="spacer">
</div>
The client is responsible for constructing an error message from the missing charset and default string information and may choose to continue operation in the case that some fonts did not exist.<div class="spacer">
</div>
The returned  <i>XFontSet</i> and missing charset list should be freed with  <i>XFreeFontSet</i> and  <i>XFreeStringList</i>, respectively. The client-supplied base_font_name_list may be freed by the client after calling  <i>XCreateFontSet</i>.<div class="spacer">
</div>
The  <i>XFreeFontSet</i> function frees the specified font set. The associated base font name list, font name list,  <i>XFontStruct</i> list, and  <i>XFontSetExtents</i>, if any, are freed.</div>
<div class="section">
<h1>SEE ALSO</h1> XExtentsofFontSet(3), XFontsOfFontSet(3), XFontSetExtents(3)<div style="height: 0.00em;">
&#160;</div>
<i>Xlib - C Language X Interface</i></div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

