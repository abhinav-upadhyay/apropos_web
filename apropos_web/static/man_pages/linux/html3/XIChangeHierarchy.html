<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XICHANGEHIERARCHY(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XICHANGEHIERARCHY(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XICHANGEHIERARCHY(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XIChangeHierarchy - change the device hierarchy.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput2.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
Status XIChangeHierarchy( Display *display,<br/>
                          XIAnyHierarchyChangeInfo *changes,<br/>
                          int num_changes);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
num_changes<br/>
       Specifies the number of elements in changes.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
changes<br/>
       Specifies the changes to be made.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
XIChangeHierarchy modifies the device hierarchy by creating or<br/>
removing master devices or changing the attachment of slave<br/>
devices. If num_changes is non-zero, changes is an array of<br/>
XIAnyHierarchyChangeInfo structures. If num_changes is equal or less than<br/>
zero, XIChangeHierarchy does nothing.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIChangeHierarchy processes changes in order, effective<br/>
immediately. If an error occurs, processing is aborted and the<br/>
error is reported to the client. Changes already made remain<br/>
effective.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The list of changes is any combination of<br/>
XIAnyHierarchyChangeInfo. The type of a hierarchy change can be<br/>
XIAddMaster, XIRemoveMaster, XIAttachSlave or XIDetachSlave.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef union {<br/>
    int type;<br/>
    XIAddMasterInfo add;<br/>
    XIRemoveMasterInfo remove;<br/>
    XIAttachSlave attach;<br/>
    XIDetachSlave detach;<br/>
} XIAnyHierarchyChangeInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    int type; /* XIAddMaster */<br/>
    char* name;<br/>
    Bool send_core;<br/>
    Bool enable;<br/>
} XIAddMasterInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    int type; /* XIRemoveMaster */<br/>
    int deviceid;<br/>
    int return_mode;<br/>
    int return_pointer;<br/>
    int return_keyboard;<br/>
} XIRemoveMasterInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    int type; /* XIAttachSlave */<br/>
    int deviceid;<br/>
    int new_master;<br/>
} XIAttachSlaveInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    int type; /* XIDetachSlave */<br/>
    int deviceid;<br/>
} XIDetachSlaveInfo;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIAddMasterInfo creates a new master pointer and a new<br/>
master keyboard labelled &quot;name pointer&quot; and &quot;name keyboard&quot;<br/>
respectively. If sendCore is True, the devices will send core<br/>
events. If enable is True, the device is enabled immediately.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIAddMasterInfo can generate a BadValue error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIRemoveMasterInfo removes device and its paired master device.<br/>
If returnMode is XIAttachToMaster, all pointers attached to<br/>
device or its paired master device are attached to<br/>
returnPointer. Likewise, all keyboards are attached to<br/>
returnKeyboard. If returnMode is XIFloating, all attached<br/>
devices are set to floating.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIRemoveMasterInfo can generate a BadValue and a BadDevice<br/>
error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIAttachSlaveInfo attaches device to newMaster. If the device<br/>
is currently attached to a master device, it is detached from<br/>
the master device and attached to the new master device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIAttachSlaveInfo can generate a BadDevice error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIDettachSlaveInfo deattaches device from the current master<br/>
device and sets it floating. If the device is already floating,<br/>
no changes are made.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIDetachSlaveInfo can generate a BadDevice error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIChangeHierarchy generates an XIHierarchyEvent if any<br/>
modifications were successful.<br/>
</div>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><div style="margin-left: 4.00ex;">
<br/>
BadDevice<br/>
       An invalid device was specified. The device does not<br/>
       exist or is not a appropriate for the type of change.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadValue<br/>
       Some numeric value falls out of the allowed range.<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

