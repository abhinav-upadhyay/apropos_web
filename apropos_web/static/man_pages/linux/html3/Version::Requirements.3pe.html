<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Version::Requirements(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Version::Requirements(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
Version::Requirements(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Version::Requirements - a set of version requirements for a CPAN dist</div>
<div class="section">
<h1>VERSION</h1> version 0.101020</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use Version::Requirements;<br/>
<br/>
  my $build_requires = Version::Requirements-&gt;new;<br/>
<br/>
  $build_requires-&gt;add_minimum('Library::Foo' =&gt; 1.208);<br/>
<br/>
  $build_requires-&gt;add_minimum('Library::Foo' =&gt; 2.602);<br/>
<br/>
  $build_requires-&gt;add_minimum('Module::Bar'  =&gt; 'v1.2.3');<br/>
<br/>
  $METAyml-&gt;{build_requires} = $build_requires-&gt;as_string_hash;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> A Version::Requirements object models a set of version constraints like those specified in the  <i>META.yml</i> or <i>META.json</i> files in CPAN distributions.  It can be built up by adding more and more constraints, and it will reduce them to the simplest representation.<div class="spacer">
</div>
Logically impossible constraints will be identified immediately by thrown exceptions.</div>
<div class="section">
<h1>METHODS</h1><div class="subsection">
<h2>new</h2><br/>
  my $req = Version::Requirements-&gt;new;<br/>
<div class="spacer">
</div>
This returns a new Version::Requirements object.  It ignores any arguments given.</div>
<div class="subsection">
<h2>add_minimum</h2><br/>
  $req-&gt;add_minimum( $module =&gt; $version );<br/>
<div class="spacer">
</div>
This adds a new minimum version requirement.  If the new requirement is redundant to the existing specification, this has no effect.<div class="spacer">
</div>
Minimum requirements are inclusive.  $version is required, along with any greater version number.<div class="spacer">
</div>
This method returns the requirements object.</div>
<div class="subsection">
<h2>add_maximum</h2><br/>
  $req-&gt;add_maximum( $module =&gt; $version );<br/>
<div class="spacer">
</div>
This adds a new maximum version requirement.  If the new requirement is redundant to the existing specification, this has no effect.<div class="spacer">
</div>
Maximum requirements are inclusive.  No version strictly greater than the given version is allowed.<div class="spacer">
</div>
This method returns the requirements object.</div>
<div class="subsection">
<h2>add_exclusion</h2><br/>
  $req-&gt;add_exclusion( $module =&gt; $version );<br/>
<div class="spacer">
</div>
This adds a new excluded version.  For example, you might use these three method calls:<div class="spacer">
</div>
<br/>
  $req-&gt;add_minimum( $module =&gt; '1.00' );<br/>
  $req-&gt;add_maximum( $module =&gt; '1.82' );<br/>
<br/>
  $req-&gt;add_exclusion( $module =&gt; '1.75' );<br/>
<div class="spacer">
</div>
Any version between 1.00 and 1.82 inclusive would be acceptable, except for 1.75.<div class="spacer">
</div>
This method returns the requirements object.</div>
<div class="subsection">
<h2>exact_version</h2><br/>
  $req-&gt;exact_version( $module =&gt; $version );<br/>
<div class="spacer">
</div>
This sets the version required for the given module to <i>exactly</i> the given version.  No other version would be considered acceptable.<div class="spacer">
</div>
This method returns the requirements object.</div>
<div class="subsection">
<h2>add_requirements</h2><br/>
  $req-&gt;add_requirements( $another_req_object );<br/>
<div class="spacer">
</div>
This method adds all the requirements in the given Version::Requirements object to the requirements object on which it was called.  If there are any conflicts, an exception is thrown.<div class="spacer">
</div>
This method returns the requirements object.</div>
<div class="subsection">
<h2>accepts_module</h2><br/>
  my $bool = $req-&gt;accepts_modules($module =&gt; $version);<br/>
<div class="spacer">
</div>
Given an module and version, this method returns true if the version specification for the module accepts the provided version.  In other words, given:<div class="spacer">
</div>
<br/>
  Module =&gt; '&gt;= 1.00, &lt; 2.00'<br/>
<div class="spacer">
</div>
We will accept 1.00 and 1.75 but not 0.50 or 2.00.<div class="spacer">
</div>
For modules that do not appear in the requirements, this method will return true.</div>
<div class="subsection">
<h2>clear_requirement</h2><br/>
  $req-&gt;clear_requirement( $module );<br/>
<div class="spacer">
</div>
This removes the requirement for a given module from the object.<div class="spacer">
</div>
This method returns the requirements object.</div>
<div class="subsection">
<h2>required_modules</h2> This method returns a list of all the modules for which requirements have been specified.</div>
<div class="subsection">
<h2>clone</h2><br/>
  $req-&gt;clone;<br/>
<div class="spacer">
</div>
This method returns a clone of the invocant.  The clone and the original object can then be changed independent of one another.</div>
<div class="subsection">
<h2>is_simple</h2> This method returns true if and only if all requirements are inclusive minimums -- that is, if their string expression is just the version number.</div>
<div class="subsection">
<h2>is_finalized</h2> This method returns true if the requirements have been finalized by having the &quot;finalize&quot; method called on them.</div>
<div class="subsection">
<h2>finalize</h2> This method marks the requirements finalized.  Subsequent attempts to change the requirements will be fatal,  <i>if</i> they would result in a change.  If they would not alter the requirements, they have no effect.<div class="spacer">
</div>
If a finalized set of requirements is cloned, the cloned requirements are not also finalized.</div>
<div class="subsection">
<h2>as_string_hash</h2> This returns a reference to a hash describing the requirements using the strings in the  <i>META.yml</i> specification.<div class="spacer">
</div>
For example after the following program:<div class="spacer">
</div>
<br/>
  my $req = Version::Requirements-&gt;new;<br/>
<br/>
  $req-&gt;add_minimum('Version::Requirements' =&gt; 0.102);<br/>
<br/>
  $req-&gt;add_minimum('Library::Foo' =&gt; 1.208);<br/>
<br/>
  $req-&gt;add_maximum('Library::Foo' =&gt; 2.602);<br/>
<br/>
  $req-&gt;add_minimum('Module::Bar'  =&gt; 'v1.2.3');<br/>
<br/>
  $req-&gt;add_exclusion('Module::Bar'  =&gt; 'v1.2.8');<br/>
<br/>
  $req-&gt;exact_version('Xyzzy'  =&gt; '6.01');<br/>
<br/>
  my $hashref = $req-&gt;as_string_hash;<br/>
<div class="spacer">
</div>
$hashref would contain:<div class="spacer">
</div>
<br/>
  {<br/>
    'Version::Requirements' =&gt; '0.102',<br/>
    'Library::Foo' =&gt; '&gt;= 1.208, &lt;= 2.206',<br/>
    'Module::Bar'  =&gt; '&gt;= v1.2.3, != v1.2.8',<br/>
    'Xyzzy'        =&gt; '== 6.01',<br/>
  }<br/>
</div>
<div class="subsection">
<h2>from_string_hash</h2><br/>
  my $req = Version::Requirements-&gt;from_string_hash( \%hash );<br/>
<div class="spacer">
</div>
This is an alternate constructor for a Version::Requirements object.  It takes a hash of module names and version requirement strings and returns a new Version::Requirements object.</div>
</div>
<div class="section">
<h1>AUTHOR</h1><br/>
  Ricardo Signes &lt;rjbs@cpan.org&gt;<br/>
</div>
<div class="section">
<h1>COPYRIGHT AND LICENSE</h1> This software is copyright (c) 2010 by Ricardo Signes.<div class="spacer">
</div>
This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-19</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

