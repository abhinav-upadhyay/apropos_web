<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
SSL_CTX_add_session(3SSL)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SSL_CTX_add_session(3SSL)</td>
<td class="head-vol">
OpenSSL</td>
<td class="head-rtitle">
SSL_CTX_add_session(3SSL)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> SSL_CTX_add_session, SSL_add_session, SSL_CTX_remove_session, SSL_remove_session - manipulate session cache</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 #include &lt;openssl/ssl.h&gt;<br/>
<br/>
 int SSL_CTX_add_session(SSL_CTX *ctx, SSL_SESSION *c);<br/>
 int SSL_add_session(SSL_CTX *ctx, SSL_SESSION *c);<br/>
<br/>
 int SSL_CTX_remove_session(SSL_CTX *ctx, SSL_SESSION *c);<br/>
 int SSL_remove_session(SSL_CTX *ctx, SSL_SESSION *c);<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <i>SSL_CTX_add_session()</i> adds the session <b>c</b> to the context <b>ctx</b>. The reference count for session  <b>c</b> is incremented by 1. If a session with the same session id already exists, the old session is removed by calling  <i>SSL_SESSION_free</i>(3).<div class="spacer">
</div>
<i>SSL_CTX_remove_session()</i> removes the session <b>c</b> from the context <b>ctx</b>.  <i>SSL_SESSION_free</i>(3) is called once for <b>c</b>.<div class="spacer">
</div>
<i>SSL_add_session()</i> and <i>SSL_remove_session()</i> are synonyms for their SSL_CTX_*() counterparts.</div>
<div class="section">
<h1>NOTES</h1> When adding a new session to the internal session cache, it is examined whether a session with the same session id already exists. In this case it is assumed that both sessions are identical. If the same session is stored in a different SSL_SESSION object, The old session is removed and replaced by the new session. If the session is actually identical (the SSL_SESSION object is identical),  <i>SSL_CTX_add_session()</i> is a no-op, and the return value is 0.<div class="spacer">
</div>
If a server SSL_CTX is configured with the SSL_SESS_CACHE_NO_INTERNAL_STORE flag then the internal cache will not be populated automatically by new sessions negotiated by the SSL/TLS implementation, even though the internal cache will be searched automatically for session-resume requests (the latter can be surpressed by SSL_SESS_CACHE_NO_INTERNAL_LOOKUP). So the application can use  <i>SSL_CTX_add_session()</i> directly to have full control over the sessions that can be resumed if desired.</div>
<div class="section">
<h1>RETURN VALUES</h1> The following values are returned by all functions:<dl>
<dt>
0</dt>
<dd>
<br/>
 The operation failed. In case of the add operation, it was tried to add<br/>
 the same (identical) session twice. In case of the remove operation, the<br/>
 session was not found in the cache.<br/>
</dd>
</dl>
<dl>
<dt>
1</dt>
<dd>
<br/>
 The operation succeeded.<br/>
</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>ssl</i>(3),  <i>SSL_CTX_set_session_cache_mode</i>(3),  <i>SSL_SESSION_free</i>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
2002-10-29</td>
<td class="foot-os">
1.0.1</td>
</tr>
</table>
</div>
</body>
</html>

