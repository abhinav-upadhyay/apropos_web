<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
FileHandle(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
FileHandle(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
FileHandle(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> FileHandle - supply object methods for filehandles</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    use FileHandle;<br/>
<br/>
    $fh = FileHandle-&gt;new;<br/>
    if ($fh-&gt;open(&quot;&lt; file&quot;)) {<br/>
        print &lt;$fh&gt;;<br/>
        $fh-&gt;close;<br/>
    }<br/>
<br/>
    $fh = FileHandle-&gt;new(&quot;&gt; FOO&quot;);<br/>
    if (defined $fh) {<br/>
        print $fh &quot;bar\n&quot;;<br/>
        $fh-&gt;close;<br/>
    }<br/>
<br/>
    $fh = FileHandle-&gt;new(&quot;file&quot;, &quot;r&quot;);<br/>
    if (defined $fh) {<br/>
        print &lt;$fh&gt;;<br/>
        undef $fh;       # automatically closes the file<br/>
    }<br/>
<br/>
    $fh = FileHandle-&gt;new(&quot;file&quot;, O_WRONLY|O_APPEND);<br/>
    if (defined $fh) {<br/>
        print $fh &quot;corge\n&quot;;<br/>
        undef $fh;       # automatically closes the file<br/>
    }<br/>
<br/>
    $pos = $fh-&gt;getpos;<br/>
    $fh-&gt;setpos($pos);<br/>
<br/>
    $fh-&gt;setvbuf($buffer_var, _IOLBF, 1024);<br/>
<br/>
    ($readfh, $writefh) = FileHandle::pipe;<br/>
<br/>
    autoflush STDOUT 1;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> NOTE: This class is now a front-end to the IO::* classes.<div class="spacer">
</div>
&quot;FileHandle::new&quot; creates a &quot;FileHandle&quot;, which is a reference to a newly created symbol (see the &quot;Symbol&quot; package).  If it receives any parameters, they are passed to &quot;FileHandle::open&quot;; if the open fails, the &quot;FileHandle&quot; object is destroyed.  Otherwise, it is returned to the caller.<div class="spacer">
</div>
&quot;FileHandle::new_from_fd&quot; creates a &quot;FileHandle&quot; like &quot;new&quot; does. It requires two parameters, which are passed to &quot;FileHandle::fdopen&quot;; if the fdopen fails, the &quot;FileHandle&quot; object is destroyed. Otherwise, it is returned to the caller.<div class="spacer">
</div>
&quot;FileHandle::open&quot; accepts one parameter or two.  With one parameter, it is just a front end for the built-in &quot;open&quot; function.  With two parameters, the first parameter is a filename that may include whitespace or other special characters, and the second parameter is the open mode, optionally followed by a file permission value.<div class="spacer">
</div>
If &quot;FileHandle::open&quot; receives a Perl mode string (&quot;&gt;&quot;, &quot;+&lt;&quot;, etc.) or a POSIX  <i>fopen()</i> mode string (&quot;w&quot;, &quot;r+&quot;, etc.), it uses the basic Perl &quot;open&quot; operator.<div class="spacer">
</div>
If &quot;FileHandle::open&quot; is given a numeric mode, it passes that mode and the optional permissions value to the Perl &quot;sysopen&quot; operator. For convenience, &quot;FileHandle::import&quot; tries to import the O_XXX constants from the Fcntl module.  If dynamic loading is not available, this may fail, but the rest of FileHandle will still work.<div class="spacer">
</div>
&quot;FileHandle::fdopen&quot; is like &quot;open&quot; except that its first parameter is not a filename but rather a file handle name, a FileHandle object, or a file descriptor number.<div class="spacer">
</div>
If the C functions <i>fgetpos()</i> and <i>fsetpos()</i> are available, then &quot;FileHandle::getpos&quot; returns an opaque value that represents the current position of the FileHandle, and &quot;FileHandle::setpos&quot; uses that value to return to a previously visited position.<div class="spacer">
</div>
If the C function <i>setvbuf()</i> is available, then &quot;FileHandle::setvbuf&quot; sets the buffering policy for the FileHandle.  The calling sequence for the Perl function is the same as its C counterpart, including the macros &quot;_IOFBF&quot;, &quot;_IOLBF&quot;, and &quot;_IONBF&quot;, except that the buffer parameter specifies a scalar variable to use as a buffer.  WARNING: A variable used as a buffer by &quot;FileHandle::setvbuf&quot; must not be modified in any way until the FileHandle is closed or until &quot;FileHandle::setvbuf&quot; is called again, or memory corruption may result!<div class="spacer">
</div>
See perlfunc for complete descriptions of each of the following supported &quot;FileHandle&quot; methods, which are just front ends for the corresponding built-in functions:<div class="spacer">
</div>
<br/>
    close<br/>
    fileno<br/>
    getc<br/>
    gets<br/>
    eof<br/>
    clearerr<br/>
    seek<br/>
    tell<br/>
<div class="spacer">
</div>
See perlvar for complete descriptions of each of the following supported &quot;FileHandle&quot; methods:<div class="spacer">
</div>
<br/>
    autoflush<br/>
    output_field_separator<br/>
    output_record_separator<br/>
    input_record_separator<br/>
    input_line_number<br/>
    format_page_number<br/>
    format_lines_per_page<br/>
    format_lines_left<br/>
    format_name<br/>
    format_top_name<br/>
    format_line_break_characters<br/>
    format_formfeed<br/>
<div class="spacer">
</div>
Furthermore, for doing normal I/O you might need these:<dl>
<dt>
$fh-&gt;print</dt>
<dd>
See &quot;print&quot; in perlfunc.</dd>
</dl>
<dl>
<dt>
$fh-&gt;printf</dt>
<dd>
See &quot;printf&quot; in perlfunc.</dd>
</dl>
<dl>
<dt>
$fh-&gt;getline</dt>
<dd>
This works like &lt;$fh&gt; described in &quot;I/O Operators&quot; in perlop except that it's more readable and can be safely called in a list context but still returns just one line.</dd>
</dl>
<dl>
<dt>
$fh-&gt;getlines</dt>
<dd>
This works like &lt;$fh&gt; when called in a list context to read all the remaining lines in a file, except that it's more readable. It will also  <i>croak()</i> if accidentally called in a scalar context.</dd>
</dl>
<div class="spacer">
</div>
There are many other functions available since FileHandle is descended from IO::File, IO::Seekable, and IO::Handle.  Please see those respective pages for documentation on more functions.</div>
<div class="section">
<h1>SEE ALSO</h1> The  <b>IO</b> extension, perlfunc, &quot;I/O Operators&quot; in perlop.</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-12-30</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

