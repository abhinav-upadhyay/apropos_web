<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XQUERYDEVICESTATE(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XQUERYDEVICESTATE(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XQUERYDEVICESTATE(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XQueryDeviceState - query the state of an extension input device.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
XDeviceState* XQueryDeviceState( Display *display,<br/>
                                 XDevice *device);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
device<br/>
       Specifies the device whose state is to be queried.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
The XQueryDeviceState request queries the state of an input<br/>
device. The current state of keys and buttons (up or down), and<br/>
valuators (current value) on the device is reported by this<br/>
request. Each key or button is represented by a bit in the<br/>
XDeviceState structure that is returned. Valuators on the<br/>
device report 0 if they are reporting relative information, and<br/>
the current value if they are reporting absolute information.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XQueryDeviceState can generate a BadDevice error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Structures:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XDeviceState structure contains:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    XID device_id;<br/>
    int num_classes;<br/>
    XInputClass *data;<br/>
} XDeviceState;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XValuatorState structure contains:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    unsigned char class;<br/>
    unsigned char length;<br/>
    unsigned char num_valuators;<br/>
    unsigned char mode;<br/>
    int *valuators;<br/>
} XValuatorState;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XKeyState structure contains:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    unsigned char class;<br/>
    unsigned char length;<br/>
    short     num_keys;<br/>
    char keys[32];<br/>
} XKeyState;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XButtonState structure contains:<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    unsigned char class;<br/>
    unsigned char length;<br/>
    short     num_buttons;<br/>
    char buttons[32];<br/>
} XButtonState;<br/>
</div>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><div style="margin-left: 4.00ex;">
<br/>
BadDevice<br/>
       An invalid device was specified. The specified device<br/>
       does not exist or has not been opened by this client via<br/>
       XOpenInputDevice. This error may also occur if some<br/>
       other client has caused the specified device to become<br/>
       the X keyboard or X pointer device via the<br/>
       XChangeKeyboardDevice or XChangePointerDevice requests.<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

