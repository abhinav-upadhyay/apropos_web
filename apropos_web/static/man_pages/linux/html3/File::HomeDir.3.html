<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
File::HomeDir(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
File::HomeDir(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
File::HomeDir(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> File::HomeDir - Find your home and other directories on any platform</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use File::HomeDir;<br/>
  <br/>
  # Modern Interface (Current User)<br/>
  $home     = File::HomeDir-&gt;my_home;<br/>
  $desktop  = File::HomeDir-&gt;my_desktop;<br/>
  $docs     = File::HomeDir-&gt;my_documents;<br/>
  $music    = File::HomeDir-&gt;my_music;<br/>
  $pics     = File::HomeDir-&gt;my_pictures;<br/>
  $videos   = File::HomeDir-&gt;my_videos;<br/>
  $data     = File::HomeDir-&gt;my_data;<br/>
  $dist     = File::HomeDir-&gt;my_dist_data('File-HomeDir');<br/>
  $dist     = File::HomeDir-&gt;my_dist_config('File-HomeDir');<br/>
  <br/>
  # Modern Interface (Other Users)<br/>
  $home    = File::HomeDir-&gt;users_home('foo');<br/>
  $desktop = File::HomeDir-&gt;users_desktop('foo');<br/>
  $docs    = File::HomeDir-&gt;users_documents('foo');<br/>
  $music   = File::HomeDir-&gt;users_music('foo');<br/>
  $pics    = File::HomeDir-&gt;users_pictures('foo');<br/>
  $video   = File::HomeDir-&gt;users_videos('foo');<br/>
  $data    = File::HomeDir-&gt;users_data('foo');<br/>
  <br/>
  # Legacy Interfaces<br/>
  print &quot;My dir is &quot;, home(), &quot; and root's is &quot;, home('root'), &quot;\n&quot;;<br/>
  print &quot;My dir is $~{''} and root's is $~{root}\n&quot;;<br/>
  # These both print the same thing, something like:<br/>
  # &quot;My dir is /home/user/mojo and root's is /&quot;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>File::HomeDir</b> is a module for locating the directories that are &quot;owned&quot; by a user (typicaly your user) and to solve the various issues that arise trying to find them consistently across a wide variety of platforms.<div class="spacer">
</div>
The end result is a single API that can find your resources on any platform, making it relatively trivial to create Perl software that works elegantly and correctly no matter where you run it.<div class="spacer">
</div>
This module provides two main interfaces.<div class="spacer">
</div>
The first is a modern File::Spec-style interface with a consistent OO API and different implementation modules to support various platforms. You are  <b>strongly</b> recommended to use this interface.<div class="spacer">
</div>
The second interface is for legacy support of the original 0.07 interface that exported a &quot;home()&quot; function by default and tied the &quot;%~&quot; variable.<div class="spacer">
</div>
It is generally not recommended that you use this interface, but due to back-compatibility reasons they will remain supported until at least 2010.<div class="spacer">
</div>
The &quot;%~&quot; interface has been deprecated. Documentation was removed in 2009, Unit test were removed in 2011, usage will issue warnings from 2013, and the interface will be removed entirely in 2015  (in line with the general Perl toolchain convention of a 10 year support period for legacy APIs that are potentially or actually in common use).<div class="subsection">
<h2>Platform Neutrality</h2> In the Unix world, many different types of data can be mixed together in your home directory (although on some Unix platforms this is no longer the case, particularly for &quot;desktop&quot;-oriented platforms).<div class="spacer">
</div>
On some non-Unix platforms, separate directories are allocated for different types of data and have been for a long time.<div class="spacer">
</div>
When writing applications on top of <b>File::HomeDir</b>, you should thus always try to use the most specific method you can. User documents should be saved in &quot;my_documents&quot;, data that supports an application but isn't normally editing by the user directory should go into &quot;my_data&quot;.<div class="spacer">
</div>
On platforms that do not make any distinction, all these different methods will harmlessly degrade to the main home directory, but on platforms that care  <b>File::HomeDir</b> will always try to Do The Right Thing(tm).</div>
</div>
<div class="section">
<h1>METHODS</h1> Two types of methods are provided. The &quot;my_method&quot; series of methods for finding resources for the current user, and the &quot;users_method&quot; (read as &quot;user's method&quot;) series for finding resources for arbitrary users.<div class="spacer">
</div>
This split is necessary, as on most platforms it is <b>much</b> easier to find information about the current user compared to other users, and indeed on a number you cannot find out information such as &quot;users_desktop&quot; at all, due to security restrictions.<div class="spacer">
</div>
All methods will double check (using a &quot;-d&quot; test) that a directory actually exists before returning it, so you may trust in the values that are returned (subject to the usual caveats of race conditions of directories being deleted at the moment between a directory being returned and you using it).<div class="spacer">
</div>
However, because in some cases platforms may not support the concept of home directories at all, any method may return &quot;undef&quot; (both in scalar and list context) to indicate that there is no matching directory on the system.<div class="spacer">
</div>
For example, most untrusted 'nobody'-type users do not have a home directory. So any modules that are used in a CGI application that at some level of recursion use your code, will result in calls to File::HomeDir returning undef, even for a basic  <i>home()</i> call.<div class="subsection">
<h2>my_home</h2> The &quot;my_home&quot; method takes no arguments and returns the main home/profile directory for the current user.<div class="spacer">
</div>
If the distinction is important to you, the term &quot;current&quot; refers to the real user, and not the effective user.<div class="spacer">
</div>
This is also the case for all of the other &quot;my&quot; methods.<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if the current user does not have a home directory, or dies on error.</div>
<div class="subsection">
<h2>my_desktop</h2> The &quot;my_desktop&quot; method takes no arguments and returns the &quot;desktop&quot; directory for the current user.<div class="spacer">
</div>
Due to the diversity and complexity of implementions required to deal with implementing the required functionality fully and completely, the &quot;my_desktop&quot; method may or may not be implemented on each platform.<div class="spacer">
</div>
That said, I am extremely interested in code to implement &quot;my_desktop&quot; on Unix, as long as it is capable of dealing (as the Windows implementation does) with internationalisation. It should also avoid false positive results by making sure it only returns the appropriate directories for the appropriate platforms.<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if the current user does not have a desktop directory, or dies on error.</div>
<div class="subsection">
<h2>my_documents</h2> The &quot;my_documents&quot; method takes no arguments and returns the directory (for the current user) where the user's documents are stored.<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if the current user does not have a documents directory, or dies on error.</div>
<div class="subsection">
<h2>my_music</h2> The &quot;my_music&quot; method takes no arguments and returns the directory where the current user's music is stored.<div class="spacer">
</div>
No bias is made to any particular music type or music program, rather the concept of a directory to hold the user's music is made at the level of the underlying operating system or (at least) desktop environment.<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if the current user does not have a suitable directory, or dies on error.</div>
<div class="subsection">
<h2>my_pictures</h2> The &quot;my_pictures&quot; method takes no arguments and returns the directory where the current user's pictures are stored.<div class="spacer">
</div>
No bias is made to any particular picture type or picture program, rather the concept of a directory to hold the user's pictures is made at the level of the underlying operating system or (at least) desktop environment.<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if the current user does not have a suitable directory, or dies on error.</div>
<div class="subsection">
<h2>my_videos</h2> The &quot;my_videos&quot; method takes no arguments and returns the directory where the current user's videos are stored.<div class="spacer">
</div>
No bias is made to any particular video type or video program, rather the concept of a directory to hold the user's videos is made at the level of the underlying operating system or (at least) desktop environment.<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if the current user does not have a suitable directory, or dies on error.</div>
<div class="subsection">
<h2>my_data</h2> The &quot;my_data&quot; method takes no arguments and returns the directory where local applications should stored their internal data for the current user.<div class="spacer">
</div>
Generally an application would create a subdirectory such as &quot;.foo&quot;, beneath this directory, and store its data there. By creating your directory this way, you get an accurate result on the maximum number of platforms. But see the documentation about &quot;my_dist_config()&quot; or &quot;my_dist_data()&quot; below.<div class="spacer">
</div>
For example, on Unix you get &quot;~/.foo&quot; and on Win32 you get &quot;~/Local Settings/Application Data/.foo&quot;<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if the current user does not have a data directory, or dies on error.</div>
<div class="subsection">
<h2>my_dist_config</h2><br/>
  File::HomeDir-&gt;my_dist_config( $dist [, \%params] );<br/>
  <br/>
  # For example...<br/>
  <br/>
  File::HomeDir-&gt;my_dist_config( 'File-HomeDir' );<br/>
  File::HomeDir-&gt;my_dist_config( 'File-HomeDir', { create =&gt; 1 } );<br/>
<div class="spacer">
</div>
The &quot;my_dist_config&quot; method takes a distribution name as argument and returns an application-specific directory where they should store their internal configuration.<div class="spacer">
</div>
The base directory will be either &quot;my_config&quot; if the platform supports it, or &quot;my_documents&quot; otherwise. The subdirectory itself will be &quot;BASE/Perl/Dist-Name&quot;. If the base directory is the user's homedir, &quot;my_dist_config&quot; will be in &quot;~/.perl/Dist-Name&quot; (and thus be hidden on all Unixes).<div class="spacer">
</div>
The optional last argument is a hash reference to tweak the method behaviour. The following hash keys are recognized:<dl>
<dt>
&#8226;</dt>
<dd>
create<div style="height: 1.00em;">
&#160;</div>
Passing a true value to this key will force the creation of the directory if it doesn't exist (remember that &quot;File::HomeDir&quot;'s policy is to return &quot;undef&quot; if the directory doesn't exist).<div style="height: 1.00em;">
&#160;</div>
Defaults to false, meaning no automatic creation of directory.</dd>
</dl>
</div>
<div class="subsection">
<h2>my_dist_data</h2><br/>
  File::HomeDir-&gt;my_dist_data( $dist [, \%params] );<br/>
  <br/>
  # For example...<br/>
  <br/>
  File::HomeDir-&gt;my_dist_data( 'File-HomeDir' );<br/>
  File::HomeDir-&gt;my_dist_data( 'File-HomeDir', { create =&gt; 1 } );<br/>
<div class="spacer">
</div>
The &quot;my_dist_data&quot; method takes a distribution name as argument and returns an application-specific directory where they should store their internal data.<div class="spacer">
</div>
This directory will be of course a subdirectory of &quot;my_data&quot;. Platforms supporting data-specific directories will use &quot;DATA_DIR/perl/dist/Dist-Name&quot; following the common &quot;DATA/vendor/application&quot; pattern. If the &quot;my_data&quot; directory is the user's homedir, &quot;my_dist_data&quot; will be in &quot;~/.perl/dist/Dist-Name&quot; (and thus be hidden on all Unixes).<div class="spacer">
</div>
The optional last argument is a hash reference to tweak the method behaviour. The following hash keys are recognized:<dl>
<dt>
&#8226;</dt>
<dd>
create<div style="height: 1.00em;">
&#160;</div>
Passing a true value to this key will force the creation of the directory if it doesn't exist (remember that &quot;File::HomeDir&quot;'s policy is to return &quot;undef&quot; if the directory doesn't exist).<div style="height: 1.00em;">
&#160;</div>
Defaults to false, meaning no automatic creation of directory.</dd>
</dl>
</div>
<div class="subsection">
<h2>users_home</h2><br/>
  $home = File::HomeDir-&gt;users_home('foo');<br/>
<div class="spacer">
</div>
The &quot;users_home&quot; method takes a single param and is used to locate the parent home/profile directory for an identified user on the system.<div class="spacer">
</div>
While most of the time this identifier would be some form of user name, it is permitted to vary per-platform to support user ids or UUIDs as applicable for that platform.<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if that user does not have a home directory, or dies on error.</div>
<div class="subsection">
<h2>users_documents</h2><br/>
  $docs = File::HomeDir-&gt;users_documents('foo');<br/>
<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if that user does not have a documents directory, or dies on error.</div>
<div class="subsection">
<h2>users_data</h2><br/>
  $data = File::HomeDir-&gt;users_data('foo');<br/>
<div class="spacer">
</div>
Returns the directory path as a string, &quot;undef&quot; if that user does not have a data directory, or dies on error.</div>
</div>
<div class="section">
<h1>FUNCTIONS</h1><div class="subsection">
<h2>home</h2><br/>
  use File::HomeDir;<br/>
  $home = home();<br/>
  $home = home('foo');<br/>
  $home = File::HomeDir::home();<br/>
  $home = File::HomeDir::home('foo');<br/>
<div class="spacer">
</div>
The &quot;home&quot; function is exported by default and is provided for compatibility with legacy applications. In new applications, you should use the newer method-based interface above.<div class="spacer">
</div>
Returns the directory path to a named user's home/profile directory.<div class="spacer">
</div>
If provided no param, returns the directory path to the current user's home/profile directory.</div>
</div>
<div class="section">
<h1>TO DO</h1><dl>
<dt>
&#8226;</dt>
<dd>
Become generally clearer on situations in which a user might not have a particular resource.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Add more granularity to Unix, and add support to VMS and other esoteric platforms, so we can consider going core.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Add consistent support for users_* methods</dd>
</dl>
</div>
<div class="section">
<h1>SUPPORT</h1> This module is stored in an Open Repository at the following address.<div class="spacer">
</div>
http://svn.ali.as/cpan/trunk/File-HomeDir &lt;http://svn.ali.as/cpan/trunk/File-HomeDir&gt;<div class="spacer">
</div>
Write access to the repository is made available automatically to any published CPAN author, and to most other volunteers on request.<div class="spacer">
</div>
If you are able to submit your bug report in the form of new (failing) unit tests, or can apply your fix directly instead of submitting a patch, you are  <b>strongly</b> encouraged to do so as the author currently maintains over 100 modules and it can take some time to deal with non-Critical bug reports or patches.<div class="spacer">
</div>
This will guarantee that your issue will be addressed in the next release of the module.<div class="spacer">
</div>
If you cannot provide a direct test or fix, or don't have time to do so, then regular bug reports are still accepted and appreciated via the CPAN bug tracker.<div class="spacer">
</div>
http://rt.cpan.org/NoAuth/ReportBug.html?Queue=File-HomeDir &lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=File-HomeDir&gt;<div class="spacer">
</div>
For other issues, for commercial enhancement or support, or to have your write access enabled for the repository, contact the author at the email address above.</div>
<div class="section">
<h1>ACKNOWLEDGEMENTS</h1> The biggest acknowledgement must go to Chris Nandor, who wielded his legendary Mac-fu and turned my initial fairly ordinary Darwin implementation into something that actually worked properly everywhere, and then donated a Mac OS X license to allow it to be maintained properly.</div>
<div class="section">
<h1>AUTHORS</h1> Adam Kennedy &lt;adamk@cpan.org&gt;<div class="spacer">
</div>
Sean M. Burke &lt;sburke@cpan.org&gt;<div class="spacer">
</div>
Chris Nandor &lt;cnandor@cpan.org&gt;<div class="spacer">
</div>
Stephen Steneker &lt;stennie@cpan.org&gt;</div>
<div class="section">
<h1>SEE ALSO</h1> File::ShareDir, File::HomeDir::Win32 (legacy)</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright 2005 - 2011 Adam Kennedy.<div class="spacer">
</div>
Some parts copyright 2000 Sean M. Burke.<div class="spacer">
</div>
Some parts copyright 2006 Chris Nandor.<div class="spacer">
</div>
Some parts copyright 2006 Stephen Steneker.<div class="spacer">
</div>
Some parts copyright 2009-2011 JA~XrA~Xme Quelin.<div class="spacer">
</div>
This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.<div class="spacer">
</div>
The full text of the license can be found in the LICENSE file included with this module.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-07-07</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

