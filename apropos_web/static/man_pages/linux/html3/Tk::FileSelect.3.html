<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
FileSelect(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
FileSelect(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
FileSelect(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Tk::FileSelect - a widget for choosing files</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 use Tk::FileSelect;<br/>
<br/>
 $FSref = $top-&gt;FileSelect(-directory =&gt; $start_dir);<br/>
               $top            - a window reference, e.g. MainWindow-&gt;new<br/>
               $start_dir      - the starting point for the FileSelect<br/>
 $file = $FSref-&gt;Show;<br/>
               Executes the fileselector until either a filename is<br/>
               accepted or the user hits Cancel. Returns the filename<br/>
               or the empty string, respectively, and unmaps the<br/>
               FileSelect.<br/>
 $FSref-&gt;configure(option =&gt; value[, ...])<br/>
               Please see the Populate subroutine as the configuration<br/>
               list changes rapidly.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This Module pops up a Fileselector box, with a directory entry on top, a list of directories in the current directory, a list of files in the current directory, an entry for entering/modifying a file name, an accept button and a cancel button.<div class="spacer">
</div>
You can enter a starting directory in the directory entry. After hitting Return, the listboxes get updated. Double clicking on any directory shows you the respective contents. Single clicking on a file brings it into the file entry for further consideration, double clocking on a file pops down the file selector and calls the optional command with the complete path for the selected file. Hitting return in the file selector box or pressing the accept button will also work. *NOTE* the file selector box will only then get destroyed if the file name is not zero length. If you want yourself take care of it, change the if(length(.. in sub accept_file.</div>
<div class="section">
<h1>AUTHORS</h1> Based on original FileSelect by Klaus Lichtenwalder, Lichtenwalder@ACM.org, Datapat GmbH, Munich, April 22, 1995 adapted by Frederick L. Wagner, derf@ti.com, Texas Instruments Incorporated, Dallas, 21Jun95</div>
<div class="section">
<h1>HISTORY</h1><div class="subsection">
<h2>950621 -- The following changes were made:</h2><dl>
<dt>
&#8226;</dt>
<dd>
Rewrote Tk stuff to take advantage of new Compound widget module, so FileSelect is now composed of 2 LabEntry and 2 ScrlListbox2 subwidgets.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Moved entry labels (from to the left of) to above the entry fields.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Caller is now able to control these aspects of widget, in both FileSelect (new) and configure :<div style="height: 1.00em;">
&#160;</div>
(Please see subroutine Populate for details, as these options change rapidly!)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
I changed from Double-Button-1 to Button-1 in the Files listbox, to work with multiple mode in addition to browse mode.  I also made some name changes (LastPath --&gt; saved_path, ...).</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The show method is not yet updated.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The topLevel stuff is not done yet.  I took it out while I toy with the idea of FileSelect as a subwidget.  Then the 'normal' topLevel thing with Buttons along the bottom could be build on top of it.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
By request of Henry Katz &lt;katz@fs09.webo.dg.com&gt;, I added the functionality of using the Directory entry as a filter. So, if you want to only see the *.c files, you add a .c (the *'s already there :) and hit return.</dd>
</dl>
</div>
<div class="subsection">
<h2>95/10/17, SOL, LUCC.  lusol@Lehigh.EDU</h2><dl>
<dt>
&#8226;</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<br/>
 Allow either file or directory names to be accepted.<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Require double click to move into a new directory rather than a single click.  This allows a single click to select a directory name so it can be accepted.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Add -verify list option so that standard Perl file test operators (like -d and -x) can be specified for further name validation.  The default value is the special value '!-d' (not a directory), so any name can be selected as long as it's not a directory - after all, this IS FileSelect!<div style="height: 1.00em;">
&#160;</div>
For example:<div style="height: 1.00em;">
&#160;</div>
<br/>
    $fs-&gt;configure(-verify =&gt; ['-d', [\&amp;verify_code, $P1, $P2, ... $Pn]]);<br/>
<div style="height: 1.00em;">
&#160;</div>
ensures that the selected name is a directory.  Further, if an element of the list is an array reference, the first element is a code reference to a subroutine and the remaining optional elements are it's parameters.  The subroutine is called like this:<div style="height: 1.00em;">
&#160;</div>
<br/>
    &amp;verify_code($cd, $leaf, $P1, $P2, ... $Pn);<br/>
<div style="height: 1.00em;">
&#160;</div>
where $cd is the current directory, $leaf is a directory or file name, and $P1 .. $Pn are your optional parameters.  The subroutine should return TRUE if success or FALSE if failure.</dd>
</dl>
</div>
<div class="subsection">
<h2>961008 -- derf@ti.com :</h2> By request of Jim Stern &lt;js@world.northgrum.com&gt; and Brad Vance &lt;bvance@ti.com&gt;, I updated the Accept and Show functions to support selection of multiple files.  I also corrected a typo in the -verify code.</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> Tk::getOpenFile, Tk::FBox.</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-04-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

