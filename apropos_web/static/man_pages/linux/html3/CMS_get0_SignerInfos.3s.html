<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
CMS_get0_SignerInfos(3SSL)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CMS_get0_SignerInfos(3SSL)</td>
<td class="head-vol">
OpenSSL</td>
<td class="head-rtitle">
CMS_get0_SignerInfos(3SSL)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1><br/>
 CMS_get0_SignerInfos, CMS_SignerInfo_get0_signer_id, CMS_SignerInfo_cert_cmp, CMS_set1_signer_certs - CMS signedData signer functions.<br/>
</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 #include &lt;openssl/cms.h&gt;<br/>
<br/>
 STACK_OF(CMS_SignerInfo) *CMS_get0_SignerInfos(CMS_ContentInfo *cms);<br/>
<br/>
 int CMS_SignerInfo_get0_signer_id(CMS_SignerInfo *si, ASN1_OCTET_STRING **keyid, X509_NAME **issuer, ASN1_INTEGER **sno);<br/>
 int CMS_SignerInfo_cert_cmp(CMS_SignerInfo *si, X509 *cert);<br/>
 void CMS_SignerInfo_set1_signer_cert(CMS_SignerInfo *si, X509 *signer);<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The function  <i>CMS_get0_SignerInfos()</i> returns all the CMS_SignerInfo structures associated with a CMS signedData structure.<div class="spacer">
</div>
<i>CMS_SignerInfo_get0_signer_id()</i> retrieves the certificate signer identifier associated with a specific CMS_SignerInfo structure  <b>si</b>. Either the keyidentifier will be set in  <b>keyid</b> or <b>both</b> issuer name and serial number in  <b>issuer</b> and <b>sno</b>.<div class="spacer">
</div>
<i>CMS_SignerInfo_cert_cmp()</i> compares the certificate <b>cert</b> against the signer identifier  <b>si</b>. It returns zero if the comparison is successful and non zero if not.<div class="spacer">
</div>
<i>CMS_SignerInfo_set1_signer_cert()</i> sets the signers certificate of <b>si</b> to  <b>signer</b>.</div>
<div class="section">
<h1>NOTES</h1> The main purpose of these functions is to enable an application to lookup signers certificates using any appropriate technique when the simpler method of  <i>CMS_verify()</i> is not appropriate.<div class="spacer">
</div>
In typical usage and application will retrieve all CMS_SignerInfo structures using  <i>CMS_get0_SignerInfo()</i> and retrieve the identifier information using CMS. It will then obtain the signer certificate by some unspecified means (or return and error if it cannot be found) and set it using  <i>CMS_SignerInfo_set1_signer_cert()</i>.<div class="spacer">
</div>
Once all signer certificates have been set <i>CMS_verify()</i> can be used.<div class="spacer">
</div>
Although <i>CMS_get0_SignerInfos()</i> can return NULL is an error occur <b>or</b> if there are no signers this is not a problem in practice because the only error which can occur is if the  <b>cms</b> structure is not of type signedData due to application error.</div>
<div class="section">
<h1>RETURN VALUES</h1>  <i>CMS_get0_SignerInfos()</i> returns all CMS_SignerInfo structures, or NULL there are no signers or an error occurs.<div class="spacer">
</div>
<i>CMS_SignerInfo_get0_signer_id()</i> returns 1 for success and 0 for failure.<div class="spacer">
</div>
<i>CMS_SignerInfo_cert_cmp()</i> returns 0 for a successful comparison and non zero otherwise.<div class="spacer">
</div>
<i>CMS_SignerInfo_set1_signer_cert()</i> does not return a value.<div class="spacer">
</div>
Any error can be obtained from <i>ERR_get_error</i>(3)</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>ERR_get_error</i>(3), <i>CMS_verify</i>(3)</div>
<div class="section">
<h1>HISTORY</h1> These functions were first was added to OpenSSL 0.9.8</div>
<table class="foot">
<tr>
<td class="foot-date">
2008-04-10</td>
<td class="foot-os">
1.0.1</td>
</tr>
</table>
</div>
</body>
</html>

