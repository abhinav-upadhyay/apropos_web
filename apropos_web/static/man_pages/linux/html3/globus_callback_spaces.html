<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Globus Callback Spaces(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Globus Callback Spaces(3)</td>
<td class="head-vol">
globus common</td>
<td class="head-rtitle">
Globus Callback Spaces(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Globus Callback Spaces -<div class="subsection">
<h2>Defines</h2><br/>
#define <b>GLOBUS_CALLBACK_GLOBAL_SPACE</b><div style="height: 0.00em;">
&#160;</div>
<br/>
</div>
<div class="subsection">
<h2>Enumerations</h2><br/>
enum <b>globus_callback_space_behavior_t</b> { <b>GLOBUS_CALLBACK_SPACE_BEHAVIOR_SINGLE</b>, <b>GLOBUS_CALLBACK_SPACE_BEHAVIOR_SERIALIZED</b>, <b>GLOBUS_CALLBACK_SPACE_BEHAVIOR_THREADED</b> }<div style="height: 0.00em;">
&#160;</div>
<br/>
</div>
<div class="subsection">
<h2>Functions</h2><br/>
globus_result_t <b>globus_callback_space_init</b> (<b>globus_callback_space_t</b> *space, <b>globus_callback_space_attr_t</b> attr)<div style="height: 0.00em;">
&#160;</div>
globus_result_t <b>globus_callback_space_reference</b> (<b>globus_callback_space_t</b> space)<div style="height: 0.00em;">
&#160;</div>
globus_result_t <b>globus_callback_space_destroy</b> (<b>globus_callback_space_t</b> space)<div style="height: 0.00em;">
&#160;</div>
globus_result_t <b>globus_callback_space_attr_init</b> (<b>globus_callback_space_attr_t</b> *attr)<div style="height: 0.00em;">
&#160;</div>
globus_result_t <b>globus_callback_space_attr_destroy</b> (<b>globus_callback_space_attr_t</b> attr)<div style="height: 0.00em;">
&#160;</div>
globus_result_t <b>globus_callback_space_attr_set_behavior</b> (<b>globus_callback_space_attr_t</b> attr, <b>globus_callback_space_behavior_t</b> behavior)<div style="height: 0.00em;">
&#160;</div>
globus_result_t <b>globus_callback_space_attr_get_behavior</b> (<b>globus_callback_space_attr_t</b> attr, <b>globus_callback_space_behavior_t</b> *behavior)<div style="height: 0.00em;">
&#160;</div>
globus_result_t <b>globus_callback_space_get</b> (<b>globus_callback_space_t</b> *space)<div style="height: 0.00em;">
&#160;</div>
int <b>globus_callback_space_get_depth</b> (<b>globus_callback_space_t</b> space)<div style="height: 0.00em;">
&#160;</div>
globus_bool_t <b>globus_callback_space_is_single</b> (<b>globus_callback_space_t</b> space)<div style="height: 0.00em;">
&#160;</div>
<br/>
</div>
</div>
<div class="section">
<h1>Detailed Description</h1><div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>Define Documentation</h1><div class="subsection">
<h2>#define <b>GLOBUS_CALLBACK_GLOBAL_SPACE</b></h2> Global callback space. The 'global' space handle.<div class="spacer">
</div>
This is the default space handle implied if no spaces are explicitly created.</div>
</div>
<div class="section">
<h1>Enumeration Type Documentation</h1><div class="subsection">
<h2>enum <b>globus_callback_space_behavior_t</b></h2> Callback space behaviors describe how a space behaves. In a non-threaded build all spaces exhibit a behavior == _BEHAVIOR_SINGLE. Setting a specific behavior in this case is ignored.<div class="spacer">
</div>
In a threaded build, _BEHAVIOR_SINGLE retains all the rules and behaviors of a non-threaded build while _BEHAVIOR_THREADED makes the space act as the global space.<div class="spacer">
</div>
Setting a space's behavior to _BEHAVIOR_SINGLE guarantees that the poll protection will always be there and all callbacks are serialized and only kicked out when polled for. In a threaded build, it is still necessary to poll for callbacks in a _BEHAVIOR_SINGLE space. (<b>globus_cond_wait()</b> will take care of this for you also)<div class="spacer">
</div>
Setting a space's behavior to _BEHAVIOR_SERIALIZED guarantees that the poll protection will always be there and all callbacks are serialized. In a threaded build, it is NOT necessary to poll for callbacks in a _BEHAVIOR_SERIALIZED space. Callbacks in this space will be delivered as soon as possible, but only one outstanding (and unblocked) callback will be allowed at any time.<div class="spacer">
</div>
Setting a space's behavior to _BEHAVIOR_THREADED allows the user to have the poll protection provided by spaces when built non-threaded, yet, be fully threaded when built threaded (where poll protection is not needed)<div class="spacer">
</div>
<b>Enumerator: </b><br/>
<dl>
<dt>
<b></b><i>GLOBUS_CALLBACK_SPACE_BEHAVIOR_SINGLE </i><b></b><i></i></dt>
<dd>
The default behavior. Indicates that you always want poll protection and single threaded behavior (callbacks need to be explicitly polled for</dd>
</dl>
<dl>
<dt>
<b></b><i>GLOBUS_CALLBACK_SPACE_BEHAVIOR_SERIALIZED </i><b></b><i></i></dt>
<dd>
Indicates that you want poll protection and all callbacks to be serialized (but they do not need to be polled for in a threaded build)</dd>
</dl>
<dl>
<dt>
<b></b><i>GLOBUS_CALLBACK_SPACE_BEHAVIOR_THREADED </i><b></b><i></i></dt>
<dd>
Indicates that you only want poll protection.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>Function Documentation</h1><div class="subsection">
<h2>globus_result_t <b>globus_callback_space_init</b> (<b>globus_callback_space_t</b> *space, <b>globus_callback_space_attr_t</b>attr)</h2> Initialize a user space. This creates a user space.<div class="spacer">
</div>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>space</i> storage for the initialized space handle. This must be destroyed with <b>globus_callback_space_destroy()</b><div style="height: 0.00em;">
&#160;</div>
<i>attr</i> a space attr descibing desired behaviors. If GLOBUS_NULL, the default behavior of GLOBUS_CALLBACK_SPACE_BEHAVIOR_SINGLE is assumed. This attr is copied into the space, so it is acceptable to destroy the attr as soon as it is no longer needed</div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_INVALID_ARGUMENT on NULL space</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_MEMORY_ALLOC</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_SUCCESS</dd>
</dl>
</div>
<div class="spacer">
</div>
<b>See also:</b><div style="margin-left: 4.00ex;">
<b>globus_condattr_setspace()</b><div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>globus_result_t <b>globus_callback_space_reference</b> (<b>globus_callback_space_t</b>space)</h2> Take a reference to a space. A library which has been 'given' a space to provide callbacks on would use this to take a reference on the user's space. This prevents mayhem should a user destroy a space before the library is done with it. This reference should be destroyed with  <b>globus_callback_space_destroy()</b> (think dup())<div class="spacer">
</div>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>space</i> space to reference</div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_INVALID_SPACE</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_SUCCESS</dd>
</dl>
</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>globus_result_t <b>globus_callback_space_destroy</b> (<b>globus_callback_space_t</b>space)</h2> Destroy a reference to a user space. This will destroy a reference to a previously initialized space. Space will not actually be destroyed until all callbacks registered with this space have been run and unregistered (if the user has a handle to that callback) AND all references (from  <b>globus_callback_space_reference()</b>) have been destroyed.<div class="spacer">
</div>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>space</i> space to destroy, previously initialized by <b>globus_callback_space_init()</b> or referenced with <b>globus_callback_space_reference()</b></div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_INVALID_SPACE</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_SUCCESS</dd>
</dl>
</div>
<div class="spacer">
</div>
<b>See also:</b><div style="margin-left: 4.00ex;">
<b>globus_callback_space_init()</b><div class="spacer">
</div>
<b>globus_callback_space_reference()</b></div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>globus_result_t <b>globus_callback_space_attr_init</b> (<b>globus_callback_space_attr_t</b> *attr)</h2> Initialize a space attr. Currently, the only attr to set is the behavior. The default behavior associated with this attr is GLOBUS_CALLBACK_SPACE_BEHAVIOR_SINGLE<div class="spacer">
</div>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>attr</i> storage for the intialized attr. Must be destroyed with <b>globus_callback_space_attr_destroy()</b></div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_INVALID_ARGUMENT on NULL attr</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_MEMORY_ALLOC</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_SUCCESS</dd>
</dl>
</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>globus_result_t <b>globus_callback_space_attr_destroy</b> (<b>globus_callback_space_attr_t</b>attr)</h2> Destroy a space attr.  <b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>attr</i> attr to destroy, previously initialized with <b>globus_callback_space_attr_init()</b></div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_INVALID_ARGUMENT on NULL attr</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_SUCCESS</dd>
</dl>
</div>
<div class="spacer">
</div>
<b>See also:</b><div style="margin-left: 4.00ex;">
<b>globus_callback_space_attr_init()</b></div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>globus_result_t <b>globus_callback_space_attr_set_behavior</b> (<b>globus_callback_space_attr_t</b>attr, <b>globus_callback_space_behavior_t</b>behavior)</h2> Set the behavior of a space.  <b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>attr</i> attr to associate behavior with<div style="height: 0.00em;">
&#160;</div>
<i>behavior</i> desired behavior</div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_INVALID_ARGUMENT</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_SUCCESS</dd>
</dl>
</div>
<div class="spacer">
</div>
<b>See also:</b><div style="margin-left: 4.00ex;">
<b>globus_callback_space_behavior_t</b></div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>globus_result_t <b>globus_callback_space_attr_get_behavior</b> (<b>globus_callback_space_attr_t</b>attr, <b>globus_callback_space_behavior_t</b> *behavior)</h2> Get the behavior associated with an attr. Note: for a non-threaded build, this will always pass back a behavior == GLOBUS_CALLBACK_SPACE_BEHAVIOR_SINGLE.<div class="spacer">
</div>
<b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>attr</i> attr on which to query behavior<div style="height: 0.00em;">
&#160;</div>
<i>behavior</i> storage for the behavior</div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_INVALID_ARGUMENT</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_SUCCESS</dd>
</dl>
</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>globus_result_t <b>globus_callback_space_get</b> (<b>globus_callback_space_t</b> *space)</h2> Retrieve the space of a currently running callback.  <b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>space</i> storage for the handle to the space currently running</div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_INVALID_ARGUMENT on NULL space</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_CALLBACK_ERROR_NO_ACTIVE_CALLBACK</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_SUCCESS</dd>
</dl>
</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>int <b>globus_callback_space_get_depth</b> (<b>globus_callback_space_t</b>space)</h2> Retrieve the current nesting level of a space.  <b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>space</i> The space to query.</div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
the current nesting level</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
-1 on invalid space</dd>
</dl>
</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="subsection">
<h2>globus_bool_t <b>globus_callback_space_is_single</b> (<b>globus_callback_space_t</b>space)</h2> See if the specified space is a single threaded behavior space.  <b>Parameters:</b><div style="margin-left: 4.00ex;">
<i>space</i> the space to query</div>
<div class="spacer">
</div>
<b>Returns:</b><div style="margin-left: 4.00ex;">
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_TRUE if space's behavior is _BEHAVIOR_SINGLE</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
GLOBUS_FALSE otherwise</dd>
</dl>
</div>
<div class="spacer">
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>Author</h1> Generated automatically by Doxygen for globus common from the source code.</div>
<table class="foot">
<tr>
<td class="foot-date">
Tue Jan 24 2012</td>
<td class="foot-os">
Version 14.5</td>
</tr>
</table>
</div>
</body>
</html>

