<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
curl_share_setopt(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
curl_share_setopt(3)</td>
<td class="head-vol">
libcurl Manual</td>
<td class="head-rtitle">
curl_share_setopt(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> curl_share_setopt - Set options for a shared object</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;curl/curl.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
CURLSHcode curl_share_setopt(CURLSH *share, CURLSHoption option, parameter);</div>
<div class="section">
<h1>DESCRIPTION</h1> Set the  <i>option</i> to <i>parameter</i> for the given <i>share</i>.</div>
<div class="section">
<h1>OPTIONS</h1><dl>
<dt>
CURLSHOPT_LOCKFUNC</dt>
<dd>
The <i>parameter</i> must be a pointer to a function matching the following prototype:<div style="height: 1.00em;">
&#160;</div>
void lock_function(CURL *handle, curl_lock_data data, curl_lock_access access, void *userptr);<div style="height: 1.00em;">
&#160;</div>
<i>data</i> defines what data libcurl wants to lock, and you must make sure that only one lock is given at any time for each kind of data.<div style="height: 1.00em;">
&#160;</div>
<i>access</i> defines what access type libcurl wants, shared or single.<div style="height: 1.00em;">
&#160;</div>
<i>userptr</i> is the pointer you set with <i>CURLSHOPT_USERDATA</i>.</dd>
</dl>
<dl>
<dt>
CURLSHOPT_UNLOCKFUNC</dt>
<dd>
The <i>parameter</i> must be a pointer to a function matching the following prototype:<div style="height: 1.00em;">
&#160;</div>
void unlock_function(CURL *handle, curl_lock_data data, void *userptr);<div style="height: 1.00em;">
&#160;</div>
<i>data</i> defines what data libcurl wants to unlock, and you must make sure that only one lock is given at any time for each kind of data.<div style="height: 1.00em;">
&#160;</div>
<i>userptr</i> is the pointer you set with <i>CURLSHOPT_USERDATA</i>.</dd>
</dl>
<dl>
<dt>
CURLSHOPT_SHARE</dt>
<dd>
The <i>parameter</i> specifies a type of data that should be shared. This may be set to one of the values described below.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
CURL_LOCK_DATA_COOKIE</dt>
<dd>
Cookie data will be shared across the easy handles using this shared object.</dd>
</dl>
<dl>
<dt>
CURL_LOCK_DATA_DNS</dt>
<dd>
Cached DNS hosts will be shared across the easy handles using this shared object. Note that when you use the multi interface, all easy handles added to the same multi handle will share DNS cache by default without this having to be used!</dd>
</dl>
</div>
<dl>
<dt>
CURLSHOPT_UNSHARE</dt>
<dd>
This option does the opposite of <i>CURLSHOPT_SHARE</i>. It specifies that the specified  <i>parameter</i> will no longer be shared. Valid values are the same as those for  <i>CURLSHOPT_SHARE</i>.</dd>
</dl>
<dl>
<dt>
CURLSHOPT_USERDATA</dt>
<dd>
The <i>parameter</i> allows you to specify a pointer to data that will be passed to the lock_function and unlock_function each time it is called.</dd>
</dl>
</div>
<div class="section">
<h1>RETURN VALUE</h1> CURLSHE_OK (zero) means that the option was set properly, non-zero means an error occurred as  <i>&lt;curl/curl.h&gt;</i> defines. See the <i>libcurl-errors.3</i> man page for the full list with descriptions.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>curl_share_cleanup</b>(3), <b>curl_share_init</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
8 Aug 2003</td>
<td class="foot-os">
libcurl 7.10.7</td>
</tr>
</table>
</div>
</body>
</html>

