<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Exception::Class::Base(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Exception::Class::Base(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Exception::Class::Base(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Exception::Class::Base - A base class for exception objects</div>
<div class="section">
<h1>VERSION</h1> version 1.31</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use Exception::Class 'MyException';<br/>
<br/>
  eval { MyException-&gt;throw( error =&gt; 'I feel funny.' ) };<br/>
<br/>
  print $@-&gt;error();<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This class is the base class for all exceptions created by Exception::Class. It provides a number of methods for getting information about the exception.</div>
<div class="section">
<h1>METHODS</h1><div class="subsection">
<h2>MyException-&gt;Trace($boolean)</h2> Each &quot;Exception::Class::Base&quot; subclass can be set individually to include a stacktrace when the &quot;as_string&quot; method is called.  The default is to not include a stacktrace.  Calling this method with a value changes this behavior.  It always returns the current value (after any change is applied).<div class="spacer">
</div>
This value is inherited by any subclasses.  However, if this value is set for a subclass, it will thereafter be independent of the value in &quot;Exception::Class::Base&quot;.<div class="spacer">
</div>
Do not call this on the &quot;Exception::Class::Base&quot; class directly or you'll change it for all exception classes that use Exception::Class, including ones created in modules you don't control.<div class="spacer">
</div>
This is a class method, not an object method.</div>
<div class="subsection">
<h2>MyException-&gt;NoRefs($boolean)</h2> When a &quot;Devel::StackTrace&quot; object is created, it walks through the stack and stores the arguments which were passed to each subroutine on the stack.  If any of these arguments are references, then that means that the &quot;Devel::StackTrace&quot; ends up increasing the refcount of these references, delaying their destruction.<div class="spacer">
</div>
Since &quot;Exception::Class::Base&quot; uses &quot;Devel::StackTrace&quot; internally, this method provides a way to tell &quot;Devel::StackTrace&quot; not to store these references.  Instead, &quot;Devel::StackTrace&quot; replaces references with their stringified representation.<div class="spacer">
</div>
This method defaults to true.  As with &quot;Trace()&quot;, it is inherited by subclasses but setting it in a subclass makes it independent thereafter.<div class="spacer">
</div>
Do not call this on the &quot;Exception::Class::Base&quot; class directly or you'll change it for all exception classes that use Exception::Class, including ones created in modules you don't control.</div>
<div class="subsection">
<h2>MyException-&gt;RespectOverload($boolean)</h2> When a &quot;Devel::StackTrace&quot; object stringifies, by default it ignores stringification overloading on any objects being dealt with.<div class="spacer">
</div>
Since &quot;Exception::Class::Base&quot; uses &quot;Devel::StackTrace&quot; internally, this method provides a way to tell &quot;Devel::StackTrace&quot; to respect overloading.<div class="spacer">
</div>
This method defaults to false.  As with &quot;Trace()&quot;, it is inherited by subclasses but setting it in a subclass makes it independent thereafter.<div class="spacer">
</div>
Do not call this on the &quot;Exception::Class::Base&quot; class directly or you'll change it for all exception classes that use Exception::Class, including ones created in modules you don't control.</div>
<div class="subsection">
<h2>MyException-&gt;MaxArgLength($boolean)</h2> When a &quot;Devel::StackTrace&quot; object stringifies, by default it displays the full argument for each function. This parameter can be used to limit the maximum length of each argument.<div class="spacer">
</div>
Since &quot;Exception::Class::Base&quot; uses &quot;Devel::StackTrace&quot; internally, this method provides a way to tell &quot;Devel::StackTrace&quot; to limit the length of arguments.<div class="spacer">
</div>
This method defaults to 0. As with &quot;Trace()&quot;, it is inherited by subclasses but setting it in a subclass makes it independent thereafter.<div class="spacer">
</div>
Do not call this on the &quot;Exception::Class::Base&quot; class directly or you'll change it for all exception classes that use Exception::Class, including ones created in modules you don't control.</div>
<div class="subsection">
<h2>MyException-&gt;Fields</h2> This method returns the extra fields defined for the given class, as an array.<div class="spacer">
</div>
Do not call this on the &quot;Exception::Class::Base&quot; class directly or you'll change it for all exception classes that use Exception::Class, including ones created in modules you don't control.</div>
<div class="subsection">
<h2>MyException-&gt;throw( $message )</h2></div>
<div class="subsection">
<h2>MyException-&gt;throw( message =&gt; $message )</h2></div>
<div class="subsection">
<h2>MyException-&gt;throw( error =&gt; $error )</h2> This method creates a new object with the given error message.  If no error message is given, this will be an empty string.  It then dies with this object as its argument.<div class="spacer">
</div>
This method also takes a &quot;show_trace&quot; parameter which indicates whether or not the particular exception object being created should show a stacktrace when its &quot;as_string()&quot; method is called.  This overrides the value of &quot;Trace()&quot; for this class if it is given.<div class="spacer">
</div>
The frames included in the trace can be controlled by the &quot;ignore_class&quot; and &quot;ignore_package&quot; parameters. These are passed directly to Devel::Stacktrace's constructor. See &quot;Devel::Stacktrace&quot; for more details.<div class="spacer">
</div>
If only a single value is given to the constructor it is assumed to be the message parameter.<div class="spacer">
</div>
Additional keys corresponding to the fields defined for the particular exception subclass will also be accepted.</div>
<div class="subsection">
<h2>MyException-&gt;new(...)</h2> This method takes the same parameters as &quot;throw()&quot;, but instead of dying simply returns a new exception object.<div class="spacer">
</div>
This method is always called when constructing a new exception object via the &quot;throw()&quot; method.</div>
<div class="subsection">
<h2>MyException-&gt;<i>description()</i></h2> Returns the description for the given &quot;Exception::Class::Base&quot; subclass.  The &quot;Exception::Class::Base&quot; class's description is &quot;Generic exception&quot; (this may change in the future).  This is also an object method.</div>
<div class="subsection">
<h2>$exception-&gt;<i>rethrow()</i></h2> Simply dies with the object as its sole argument.  It's just syntactic sugar.  This does not change any of the object's attribute values. However, it will cause &quot;caller()&quot; to report the die as coming from within the &quot;Exception::Class::Base&quot; class rather than where rethrow was called.<div class="spacer">
</div>
Of course, you always have access to the original stacktrace for the exception object.</div>
<div class="subsection">
<h2>$exception-&gt;<i>message()</i></h2></div>
<div class="subsection">
<h2>$exception-&gt;<i>error()</i></h2> Returns the error/message associated with the exception.</div>
<div class="subsection">
<h2>$exception-&gt;<i>pid()</i></h2> Returns the pid at the time the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>uid()</i></h2> Returns the real user id at the time the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>gid()</i></h2> Returns the real group id at the time the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>euid()</i></h2> Returns the effective user id at the time the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>egid()</i></h2> Returns the effective group id at the time the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>time()</i></h2> Returns the time in seconds since the epoch at the time the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>package()</i></h2> Returns the package from which the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>file()</i></h2> Returns the file within which the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>line()</i></h2> Returns the line where the exception was thrown.</div>
<div class="subsection">
<h2>$exception-&gt;<i>trace()</i></h2> Returns the trace object associated with the object.</div>
<div class="subsection">
<h2>$exception-&gt;show_trace($boolean)</h2> This method can be used to set whether or not a stack trace is included when the as_string method is called or the object is stringified.</div>
<div class="subsection">
<h2>$exception-&gt;<i>as_string()</i></h2> Returns a string form of the error message (something like what you'd expect from die).  If the class or object is set to show traces then then the full trace is also included.  The result looks like &quot;Carp::confess()&quot;.</div>
<div class="subsection">
<h2>$exception-&gt;<i>full_message()</i></h2> Called by the &quot;as_string()&quot; method to get the message.  By default, this is the same as calling the &quot;message()&quot; method, but may be overridden by a subclass.  See below for details.</div>
</div>
<div class="section">
<h1>LIGHTWEIGHT EXCEPTIONS</h1> A lightweight exception is one which records no information about its context when it is created. This can be achieved by setting &quot;$class-&gt;NoContextInfo()&quot; to a true value.<div class="spacer">
</div>
You can make this the default for a class of exceptions by setting it after creating the class:<div class="spacer">
</div>
<br/>
  use Exception::Class (<br/>
      'LightWeight',<br/>
      'HeavyWeight',<br/>
  );<br/>
<br/>
  LightWeight-&gt;NoContextInfo(1);<br/>
<div class="spacer">
</div>
A lightweight exception does have a stack trace object, nor does it record the time, pid, uid, euid, gid, or egid. It only has a message.</div>
<div class="section">
<h1>OVERLOADING</h1> &quot;Exception::Class::Base&quot; objects are overloaded so that stringification produces a normal error message.  This just calls the &quot;$exception-&gt;as_string()&quot; method described above.  This means that you can just &quot;print $@&quot; after an &quot;eval&quot; and not worry about whether or not its an actual object.  It also means an application or module could do this:<div class="spacer">
</div>
<br/>
 $SIG{__DIE__} = sub { Exception::Class::Base-&gt;throw( error =&gt; join '', @_ ); };<br/>
<div class="spacer">
</div>
and this would probably not break anything (unless someone was expecting a different type of exception object from &quot;die()&quot;).</div>
<div class="section">
<h1>OVERRIDING THE as_string METHOD</h1> By default, the &quot;as_string()&quot; method simply returns the value &quot;message&quot; or &quot;error&quot; param plus a stack trace, if the class's &quot;Trace()&quot; method returns a true value or &quot;show_trace&quot; was set when creating the exception.<div class="spacer">
</div>
However, once you add new fields to a subclass, you may want to include those fields in the stringified error.<div class="spacer">
</div>
Inside the &quot;as_string()&quot; method, the message (non-stack trace) portion of the error is generated by calling the &quot;full_message()&quot; method.  This can be easily overridden.  For example:<div class="spacer">
</div>
<br/>
  sub full_message {<br/>
      my $self = shift;<br/>
<br/>
      my $msg = $self-&gt;message;<br/>
<br/>
      $msg .= &quot; and foo was &quot; . $self-&gt;foo;<br/>
<br/>
      return $msg;<br/>
  }<br/>
</div>
<div class="section">
<h1>AUTHOR</h1><br/>
  Dave Rolsky &lt;autarch@urth.org&gt;<br/>
</div>
<div class="section">
<h1>COPYRIGHT AND LICENSE</h1> This software is Copyright (c) 2010 by Dave Rolsky.<div class="spacer">
</div>
This is free software, licensed under:<div class="spacer">
</div>
<br/>
  The Artistic License 2.0<br/>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-06-26</td>
<td class="foot-os">
perl v5.10.1</td>
</tr>
</table>
</div>
</body>
</html>

