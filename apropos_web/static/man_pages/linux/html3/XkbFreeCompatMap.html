<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbFreeCompatMap(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbFreeCompatMap(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbFreeCompatMap(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbFreeCompatMap - Free an entire compatibility map or selected portions of one</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>void XkbFreeCompatMap</b> <b>(XkbDescPtr </b><i>xkb</i><b>,</b> <b>unsigned int </b><i>which</i><b>,</b> <b>Bool </b><i>free_map</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- xkb</i></dt>
<dd>
Xkb description in which to free compatibility map</dd>
</dl>
<dl>
<dt>
<i>- which</i></dt>
<dd>
mask of compatibility map components to free</dd>
</dl>
<dl>
<dt>
<i>- free_map</i></dt>
<dd>
True =&gt; free XkbCompatMap structure itself</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <i>which</i> specifies the compatibility map components to be freed (see XkbGetCompatMap). <i>which</i> is an inclusive OR of the bits shown in Table 1.<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 18.00ex;"/>
<col style="width: 6.00ex;"/>
<col style="width: 32.00ex;"/>
<tbody>
<tr>
<td>
Table 1 Compatibility Map Component Masks</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Mask</td>
<td>
Value</td>
<td>
Affecting</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbSymInterpMask</td>
<td>
(1&lt;&lt;0)</td>
<td>
Symbol interpretations</td>
</tr>
<tr>
<td>
XkbGroupCompatMask</td>
<td>
(1&lt;&lt;1)</td>
<td>
Group maps</td>
</tr>
<tr>
<td>
XkbAllCompatMask</td>
<td>
(0x3)</td>
<td>
All compatibility map components</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
<i>free_map</i> indicates whether the XkbCompatMap structure itself should be freed. If <i>free_map</i> is True, <i>which</i> is ignored, all non-NULL compatibility map components are freed, and the <i>compat</i> field in the XkbDescRec referenced by <i>xkb</i> is set to NULL.</div>
<div class="section">
<h1>STRUCTURES</h1><div class="spacer">
</div>
<br/>
    typedef struct _XkbCompatMapRec {<br/>
        XkbSymInterpretPtr    sym_interpret;            /&#8727; symbol based key semantics*/<br/>
        XkbModsRec            groups[XkbNumKbdGroups];  /&#8727; group =&gt; modifier map */<br/>
        unsigned short        num_si;                   /&#8727; # structures used in sym_interpret */<br/>
        unsigned short        size_si;                  /&#8727; # structures allocated in sym_interpret */<br/>
    } XkbCompatMapRec, *XkbCompatMapPtr;<br/>
    <br/>
<div style="height: 1.00em;">
&#160;</div>
The complete description of an Xkb keyboard is given by an XkbDescRec. The component structures in the XkbDescRec represent the major Xkb components outlined in Figure 1.1.<div style="height: 1.00em;">
&#160;</div>
<br/>
typedef struct {<br/>
   struct _XDisplay * display;      /&#8727; connection to X server */<br/>
   unsigned short     flags;        /&#8727; private to Xkb, do not modify */<br/>
   unsigned short     device_spec;  /&#8727; device of interest */<br/>
   KeyCode            min_key_code; /&#8727; minimum keycode for device */<br/>
   KeyCode            max_key_code; /&#8727; maximum keycode for device */<br/>
   XkbControlsPtr     ctrls;        /&#8727; controls */<br/>
   XkbServerMapPtr    server;       /&#8727; server keymap */<br/>
   XkbClientMapPtr    map;          /&#8727; client keymap */<br/>
   XkbIndicatorPtr    indicators;   /&#8727; indicator map */<br/>
   XkbNamesPtr        names;        /&#8727; names for all components */<br/>
   XkbCompatMapPtr    compat;       /&#8727; compatibility map */<br/>
   XkbGeometryPtr     geom;         /&#8727; physical geometry of keyboard */<br/>
} XkbDescRec, *XkbDescPtr;<div class="spacer">
</div>
<br/>
The <i>display</i> field points to an X display structure. The <i>flags field is private to the library: modifying</i> <i>flags</i> may yield unpredictable results. The <i>device_spec</i> field specifies the device identifier of the keyboard input device, or XkbUseCoreKeyboard, which specifies the core keyboard device. The <i>min_key_code</i> and <i>max_key_code</i> fields specify the least and greatest keycode that can be returned by the keyboard. The other fields specify structure components of the keyboard description and are described in detail in other sections of this document. Table 2 identifies the subsequent sections of this document that discuss the individual components of the XkbDescRec.<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 39.00ex;"/>
<col style="width: 13.00ex;"/>
<tbody>
<tr>
<td>
Table 2 XkbDescRec Component References</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbDescRec Field</td>
<td>
For more info</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
ctrls</td>
<td>
Chapter 10</td>
</tr>
<tr>
<td>
server</td>
<td>
Chapter 16</td>
</tr>
<tr>
<td>
map</td>
<td>
Chapter 15</td>
</tr>
<tr>
<td>
indicators</td>
<td>
Chapter 8</td>
</tr>
<tr>
<td>
names</td>
<td>
Chapter 18</td>
</tr>
<tr>
<td>
compat</td>
<td>
Chapter 17</td>
</tr>
<tr>
<td>
geom</td>
<td>
Chapter 13</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
Each structure component has a corresponding mask bit that is used in function calls to indicate that the structure should be manipulated in some manner, such as allocating it or freeing it. These masks and their relationships to the fields in the XkbDescRec are shown in Table 3.<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 20.00ex;"/>
<col style="width: 16.00ex;"/>
<col style="width: 7.00ex;"/>
<tbody>
<tr>
<td>
Table 3 Mask Bits for XkbDescRec</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Mask Bit</td>
<td>
XkbDescRec Field</td>
<td>
Value</td>
</tr>
<tr>
<td>
_</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbControlsMask</td>
<td>
ctrls</td>
<td>
(1L&lt;&lt;0)</td>
</tr>
<tr>
<td>
XkbServerMapMask</td>
<td>
server</td>
<td>
(1L&lt;&lt;1)</td>
</tr>
<tr>
<td>
XkbIClientMapMask</td>
<td>
map</td>
<td>
(1L&lt;&lt;2)</td>
</tr>
<tr>
<td>
XkbIndicatorMapMask</td>
<td>
indicators</td>
<td>
(1L&lt;&lt;3)</td>
</tr>
<tr>
<td>
XkbNamesMask</td>
<td>
names</td>
<td>
(1L&lt;&lt;4)</td>
</tr>
<tr>
<td>
XkbCompatMapMask</td>
<td>
compat</td>
<td>
(1L&lt;&lt;5)</td>
</tr>
<tr>
<td>
XkbGeometryMask</td>
<td>
geom</td>
<td>
(1L&lt;&lt;6)</td>
</tr>
<tr>
<td>
XkbAllComponentsMask</td>
<td>
All Fields</td>
<td>
(0x7f)</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>XkbGetCompatMap</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

