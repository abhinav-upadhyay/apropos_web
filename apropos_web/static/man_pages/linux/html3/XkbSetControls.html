<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbSetControls(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbSetControls(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbSetControls(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbSetControls - Copies changes to the X server based on a modified ctrls structure in a local copy of the keyboard description</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>Bool XkbSetControls</b> <b>(Display *</b><i>display</i><b>,</b> <b>unsigned long </b><i>which</i><b>,</b> <b>XkbDescPtr </b><i>xkb</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- display</i></dt>
<dd>
connection to X server</dd>
</dl>
<dl>
<dt>
<i>- which</i></dt>
<dd>
mask of controls requested</dd>
</dl>
<dl>
<dt>
<i>- xkb</i></dt>
<dd>
keyboard description for controls information</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> For each bit that is set in the <i>which</i> parameter, <i>XkbSetControls</i> sends the corresponding values from the <i>xkb-&gt;ctrls</i> field to the server. Valid values for <i>which</i> are any combination of the masks listed in Table 1 that have &quot;ok&quot; in the <i>which</i> column.<div style="height: 1.00em;">
&#160;</div>
Table 1 shows the actual values for the individual mask bits used to select controls for modification and to enable and disable the control. Note that the same mask bit is used to specify general modifications to the parameters used to configure the control (which), and to enable and disable the control (enabled_ctrls). The anomalies in the table (no &quot;ok&quot; in column) are for controls that have no configurable attributes; and for controls that are not boolean controls and therefore cannot be enabled or disabled.<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 22.00ex;"/>
<col style="width: 13.00ex;"/>
<col style="width: 7.00ex;"/>
<col style="width: 23.00ex;"/>
<tbody>
<tr>
<td>
Table 1 Controls Mask Bits</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Mask Bit</td>
<td>
which or</td>
<td>
enabled</td>
<td>
Value</td>
</tr>
<tr>
<td>
</td>
<td>
changed_ctrls</td>
<td>
_ctrls</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbRepeatKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;0)</td>
</tr>
<tr>
<td>
XkbSlowKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;1)</td>
</tr>
<tr>
<td>
XkbBounceKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;2)</td>
</tr>
<tr>
<td>
XkbStickyKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;3)</td>
</tr>
<tr>
<td>
XkbMouseKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;4)</td>
</tr>
<tr>
<td>
XkbMouseKeysAccelMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;5)</td>
</tr>
<tr>
<td>
XkbAccessXKeysMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;6)</td>
</tr>
<tr>
<td>
XkbAccessXTimeoutMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;7)</td>
</tr>
<tr>
<td>
XkbAccessXFeedbackMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(1L&lt;&lt;8)</td>
</tr>
<tr>
<td>
XkbAudibleBellMask</td>
<td>
</td>
<td>
ok</td>
<td>
(1L&lt;&lt;9)</td>
</tr>
<tr>
<td>
XkbOverlay1Mask</td>
<td>
</td>
<td>
ok</td>
<td>
(1L&lt;&lt;10)</td>
</tr>
<tr>
<td>
XkbOverlay2Mask</td>
<td>
</td>
<td>
ok</td>
<td>
(1L&lt;&lt;11)</td>
</tr>
<tr>
<td>
XkbIgnoreGroupLockMask</td>
<td>
</td>
<td>
ok</td>
<td>
(1L&lt;&lt;12)</td>
</tr>
<tr>
<td>
XkbGroupsWrapMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;27)</td>
</tr>
<tr>
<td>
XkbInternalModsMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;28)</td>
</tr>
<tr>
<td>
XkbIgnoreLockModsMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;29)</td>
</tr>
<tr>
<td>
XkbPerKeyRepeatMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;30)</td>
</tr>
<tr>
<td>
XkbControlsEnabledMask</td>
<td>
ok</td>
<td>
</td>
<td>
(1L&lt;&lt;31)</td>
</tr>
<tr>
<td>
XkbAccessXOptionsMask</td>
<td>
ok</td>
<td>
ok</td>
<td>
(XkbStickyKeysMask | </td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
XkbAccessXFeedbackMask)</td>
</tr>
<tr>
<td>
XkbAllBooleanCtrlsMask</td>
<td>
</td>
<td>
ok</td>
<td>
(0x00001FFF) </td>
</tr>
<tr>
<td>
XkbAllControlsMask</td>
<td>
ok</td>
<td>
</td>
<td>
(0xF8001FFF)</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
If <i>xkb-&gt;ctrls</i> is NULL, the server does not support a compatible version of Xkb, or the Xkb extension has not been properly initialized, <i>XkbSetControls</i> returns False. Otherwise, it sends the request to the X server and returns True.<div style="height: 1.00em;">
&#160;</div>
Note that changes to attributes of controls in the XkbControlsRec structure are apparent only when the associated control is enabled, although the corresponding values are still updated in the X server. For example, the <i>repeat_delay</i> and <i>repeat_interval</i> fields are ignored unless the RepeatKeys control is enabled (that is, the X server's equivalent of <i>xkb-&gt;ctrls</i> has XkbRepeatKeyMask set in <i>enabled_ctrls).</i> It is permissible to modify the attributes of a control in one call to <i>XkbSetControls</i> and enable the control in a subsequent call. See <i>XkbChangeEnabledControls</i> for more information on enabling and disabling controls.<div style="height: 1.00em;">
&#160;</div>
Note that the <i>enabled_ctrls</i> field is itself a control - the EnabledControls control. As such, to set a specific configuration of enabled and disabled boolean controls, you must set <i>enabled_ctrls</i> to the appropriate bits to enable only the controls you want and disable all others, then specify the XkbControlsEnabledMask in a call to <i>XkbSetControls.</i><div style="height: 1.00em;">
&#160;</div>
Because this is somewhat awkward if all you want to do is enable and disable controls, and not modify any of their attributes, a convenience function is also provided for this purpose, <i>XkbChangeEnabledControls.</i></div>
<div class="section">
<h1>RETURN VALUES</h1><dl>
<dt>
True</dt>
<dd>
The <i>XkbSetControls</i> function returns True when it sends the request to the X server.</dd>
</dl>
<dl>
<dt>
False</dt>
<dd>
The <i>XkbSetControls</i> function returns False when <i>xkb-&gt;ctrls</i> is NULL, the server does not support a compatible version of Xkb, or the Xkb extension has not been properly initialized.</dd>
</dl>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><dl>
<dt>
<b>BadAlloc</b></dt>
<dd>
Unable to allocate storage</dd>
</dl>
<dl>
<dt>
<b>BadMatch</b></dt>
<dd>
A compatible version of Xkb was not available in the server or an argument has correct type and range, but is otherwise invalid</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>XkbChangeEnabledControls</b>(3), <b>XkbFreeControls</b>(3)<div style="height: 1.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

