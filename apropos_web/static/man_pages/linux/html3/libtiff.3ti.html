<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
INTRO(3TIFF)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
INTRO(3TIFF)</td>
<td class="head-vol">
</td>
<td class="head-rtitle">
INTRO(3TIFF)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> libtiff - introduction to <i>libtiff</i>, a library for reading and writing <small>TIFF</small> files</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;tiffio.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
cc file.c <b>-ltiff</b></div>
<div class="section">
<h1>DESCRIPTION</h1> <i>libtiff</i> is a library for reading and writing data files encoded with the <i>Tag Image File</i> format, Revision 6.0 (or revision 5.0 or revision 4.0). This file format is suitable for archiving multi-color and monochromatic image data.<div class="spacer">
</div>
The library supports several compression algorithms, as indicated by the <i>Compression</i> field, including: no compression (1), <small>CCITT</small> 1D Huffman compression (2), <small>CCITT</small> Group 3 Facsimile compression (3), <small>CCITT</small> Group 4 Facsimile compression (4), Lempel-Ziv &amp; Welch compression (5), baseline JPEG compression (7), word-aligned 1D Huffman compression (32771), and PackBits compression (32773). In addition, several nonstandard compression algorithms are supported: the 4-bit compression algorithm used by the <i>ThunderScan</i> program (32809) (decompression only), NeXT's 2-bit compression algorithm (32766) (decompression only), an experimental LZ-style algorithm known as Deflate (32946), and an experimental CIE LogLuv compression scheme designed for images with high dynamic range (32845 for LogL and 32845 for LogLuv). Directory information may be in either little- or big-endian byte order-byte swapping is automatically done by the library. Data bit ordering may be either Most Significant Bit (<small>MSB</small>) to Least Significant Bit (<small>LSB</small>) or <small>LSB</small> to <small>MSB.</small> Finally, the library does not support files in which the <i>BitsPerSample</i>, <i>Compression</i>, <i>MinSampleValue</i>, or <i>MaxSampleValue</i> fields are defined differently on a per-sample basis (in Rev. 6.0 the <i>Compression</i> tag is not defined on a per-sample basis, so this is immaterial).</div>
<div class="section">
<h1>DATA TYPES</h1> The library makes extensive use of C typedefs to promote portability. Two sets of typedefs are used, one for communication with clients of the library and one for internal data structures and parsing of the <small>TIFF</small> format. The following typedefs are exposed to users either through function definitions or through parameters passed through the varargs interfaces.<br/>
<div style="height: 5.00pt;">
&#160;</div>
<br/>
typedef unsigned short uint16;	16-bit unsigned integer<br/>
typedef unsigned &lt;<i>thing</i>&gt; uint32;	32-bit unsigned integer<div style="height: 5.00pt;">
&#160;</div>
<br/>
typedef unsigned int ttag_t;	directory tag<br/>
typedef uint16 tdir_t;	directory index<br/>
typedef uint16 tsample_t;	sample number<br/>
typedef uint32 tstrip_t;	strip number<br/>
typedef uint32 ttile_t;	tile number<br/>
typedef int32 tsize_t;	i/o size in bytes<br/>
typedef void* tdata_t;	image data ref<br/>
typedef void* thandle_t;	client data handle<br/>
typedef int32 toff_t;	file offset<br/>
<div style="height: 5.00pt;">
&#160;</div>
<br/>
Note that <i>tstrip_t</i>, <i>ttile_t</i>, and <i>tsize_t</i> are constrained to be no more than 32-bit quantities by 32-bit fields they are stored in in the <small>TIFF</small> image. Likewise <i>tsample_t</i> is limited by the 16-bit field used to store the <i>SamplesPerPixel</i> tag. <i>tdir_t</i> constrains the maximum number of <small>IFDs</small> that may appear in an image and may be an arbitrary size (w/o penalty). <i>ttag_t</i> must be either int, unsigned int, pointer, or double because the library uses a varargs interface and <small>ANSI C</small> restricts the type of the parameter before an ellipsis to be a promoted type. <i>toff_t</i> is defined as int32 because TIFF file offsets are (unsigned) 32-bit quantities. A signed value is used because some interfaces return -1 on error. Finally, note that user-specified data references are passed as opaque handles and only cast at the lowest layers where their type is presumed.</div>
<div class="section">
<h1>LIST OF ROUTINES</h1> The following routines are part of the library. Consult specific manual pages for details on their operation; on most systems doing ``man function-name'' will work.<div style="height: 1.00em;">
&#160;</div>
<br/>
<i>Name</i>	<i>Description</i><div style="height: 5.00pt;">
&#160;</div>
<br/>
TIFFCheckpointDirectory	writes the current state of the directory<br/>
TIFFCheckTile		very x,y,z,sample is within image<br/>
TIFFCIELabToRGBInit	initialize CIE L*a*b* 1976 to RGB conversion state<br/>
TIFFCIELabToXYZ		perform CIE L*a*b* 1976 to CIE XYZ conversion<br/>
TIFFClientOpen		open a file for reading or writing<br/>
TIFFClose		close an open file<br/>
TIFFComputeStrip	return strip containing y,sample<br/>
TIFFComputeTile		return tile containing x,y,z,sample<br/>
TIFFCurrentDirectory	return index of current directory<br/>
TIFFCurrentRow		return index of current scanline<br/>
TIFFCurrentStrip	return index of current strip<br/>
TIFFCurrentTile		return index of current tile<br/>
TIFFDataWidth 		return the size of TIFF data types<br/>
TIFFError		library error handler<br/>
TIFFFdOpen		open a file for reading or writing<br/>
TIFFFileName		return name of open file<br/>
TIFFFileno		return open file descriptor<br/>
TIFFFindCODEC		find standard codec for the specific scheme<br/>
TIFFFlush		flush all pending writes<br/>
TIFFFlushData		flush pending data writes<br/>
TIFFGetBitRevTable	return bit reversal table<br/>
TIFFGetField		return tag value in current directory<br/>
TIFFGetFieldDefaulted	return tag value in current directory<br/>
TIFFGetMode		return open file mode<br/>
TIFFGetVersion		return library version string<br/>
TIFFIsCODECConfigured	check, whether we have working codec<br/>
TIFFIsMSB2LSB		return true if image data is being returned<br/>
			with bit 0 as the most significant bit <br/>
TIFFIsTiled		return true if image data is tiled<br/>
TIFFIsByteSwapped	return true if image data is byte-swapped<br/>
TIFFNumberOfStrips	return number of strips in an image<br/>
TIFFNumberOfTiles	return number of tiles in an image<br/>
TIFFOpen		open a file for reading or writing<br/>
TIFFPrintDirectory	print description of the current directory<br/>
TIFFReadBufferSetup	specify i/o buffer for reading<br/>
TIFFReadDirectory	read the next directory<br/>
TIFFReadEncodedStrip	read and decode a strip of data<br/>
TIFFReadEncodedTile	read and decode a tile of data<br/>
TIFFReadRawStrip	read a raw strip of data<br/>
TIFFReadRawTile		read a raw tile of data<br/>
TIFFReadRGBAImage	read an image into a fixed format raster<br/>
TIFFReadScanline	read and decode a row of data<br/>
TIFFReadTile		read and decode a tile of data<br/>
TIFFRegisterCODEC	override standard codec for the specific scheme<br/>
TIFFReverseBits		reverse bits in an array of bytes<br/>
TIFFRGBAImageBegin	setup decoder state for TIFFRGBAImageGet<br/>
TIFFRGBAImageEnd	release TIFFRGBAImage decoder state<br/>
TIFFRGBAImageGet	read and decode an image<br/>
TIFFRGBAImageOK		is image readable by TIFFRGBAImageGet<br/>
TIFFScanlineSize	return size of a scanline<br/>
TIFFSetDirectory	set the current directory<br/>
TIFFSetSubDirectory	set the current directory<br/>
TIFFSetErrorHandler	set error handler function<br/>
TIFFSetField		set a tag's value in the current directory<br/>
TIFFSetWarningHandler	set warning handler function<br/>
TIFFStripSize		returns size of a strip<br/>
TIFFRawStripSize	returns the number of bytes in a raw strip<br/>
TIFFSwabShort		swap bytes of short<br/>
TIFFSwabLong		swap bytes of long<br/>
TIFFSwabArrayOfShort	swap bytes of an array of shorts<br/>
TIFFSwabArrayOfLong	swap bytes of an array of longs<br/>
TIFFTileRowSize		return size of a row in a tile<br/>
TIFFTileSize		return size of a tile<br/>
TIFFUnRegisterCODEC	unregisters the codec<br/>
TIFFVGetField		return tag value in current directory<br/>
TIFFVGetFieldDefaulted	return tag value in current directory<br/>
TIFFVSetField		set a tag's value in the current directory<br/>
TIFFVStripSize		returns the number of bytes in a strip<br/>
TIFFWarning		library warning handler<br/>
TIFFWriteDirectory	write the current directory<br/>
TIFFWriteEncodedStrip	compress and write a strip of data<br/>
TIFFWriteEncodedTile	compress and write a tile of data<br/>
TIFFWriteRawStrip	write a raw strip of data<br/>
TIFFWriteRawTile	write a raw tile of data<br/>
TIFFWriteScanline	write a scanline of data<br/>
TIFFWriteTile		compress and write a tile of data<br/>
TIFFXYZToRGB		perform CIE XYZ to RGB conversion<br/>
TIFFYCbCrToRGBInit	initialize YCbCr to RGB conversion state<br/>
TIFFYCbCrtoRGB		perform YCbCr to RGB conversion<div style="height: 1.00em;">
&#160;</div>
<br/>
Auxiliary functions:<br/>
_TIFFfree		free memory buffer<br/>
_TIFFmalloc		dynamically allocate memory buffer<br/>
_TIFFmemcmp		compare contents of the memory buffers<br/>
_TIFFmemcpy		copy contents of the one buffer to another<br/>
_TIFFmemset		fill memory buffer with a constant byte<br/>
_TIFFrealloc		dynamically reallocate memory buffer<div class="spacer">
</div>
<br/>
</div>
<div class="section">
<h1>TAG USAGE</h1> The table below lists the <small>TIFF</small> tags that are recognized and handled by the library. If no use is indicated in the table, then the library reads and writes the tag, but does not use it internally. Note that some tags are meaningful only when a particular compression scheme is being used; e.g. <i>Group3Options</i> is only useful if <i>Compression</i> is set to <small>CCITT</small> Group 3 encoding. Tags of this sort are considered <i>codec-specific</i> tags and the library does not recognize them except when the <i>Compression</i> tag has been previously set to the relevant compression scheme.<div style="height: 1.00em;">
&#160;</div>
<br/>
<i>Tag Name</i>	<i>Value</i>	<i>R/W</i>	<i>Library Use/Notes</i><div style="height: 5.00pt;">
&#160;</div>
<br/>
Artist	315	R/W<br/>
BadFaxLines	326	R/W<br/>
BitsPerSample	258	R/W	lots<br/>
CellLength	265		parsed but ignored<br/>
CellWidth	264		parsed but ignored<br/>
CleanFaxData	327	R/W<br/>
ColorMap	320	R/W<br/>
ColorResponseUnit	300		parsed but ignored<br/>
Compression	259	R/W	choosing codec<br/>
ConsecutiveBadFaxLines	328	R/W<br/>
Copyright       33432   R/W<br/>
DataType	32996	R	obsoleted by SampleFormat tag<br/>
DateTime	306	R/W<br/>
DocumentName	269	R/W<br/>
DotRange	336	R/W<br/>
ExtraSamples	338	R/W	lots<br/>
FaxRecvParams	34908	R/W<br/>
FaxSubAddress	34909	R/W<br/>
FaxRecvTime	34910	R/W<br/>
FillOrder	266	R/W	control bit order<br/>
FreeByteCounts	289		parsed but ignored<br/>
FreeOffsets	288		parsed but ignored<br/>
GrayResponseCurve	291		parsed but ignored<br/>
GrayResponseUnit	290		parsed but ignored<br/>
Group3Options	292	R/W	used by Group 3 codec<br/>
Group4Options	293	R/W<br/>
HostComputer	316	R/W<br/>
ImageDepth	32997	R/W	tile/strip calculations<br/>
ImageDescription 	270	R/W<br/>
ImageLength	257	R/W	lots<br/>
ImageWidth	256	R/W	lots<br/>
InkNames	333	R/W<br/>
InkSet	332	R/W<br/>
JPEGTables	347	R/W	used by JPEG codec<br/>
Make	271	R/W<br/>
Matteing	32995	R	obsoleted by ExtraSamples tag<br/>
MaxSampleValue	281	R/W<br/>
MinSampleValue	280	R/W<br/>
Model	272	R/W<br/>
NewSubFileType	254	R/W	called SubFileType in spec<br/>
NumberOfInks	334	R/W<br/>
Orientation	274	R/W<br/>
PageName	285	R/W<br/>
PageNumber	297	R/W<br/>
PhotometricInterpretation	262	R/W	used by Group 3 and JPEG codecs<br/>
PlanarConfiguration	284	R/W	data i/o<br/>
Predictor	317	R/W	used by LZW and Deflate codecs<br/>
PrimaryChromacities	319	R/W<br/>
ReferenceBlackWhite	532	R/W<br/>
ResolutionUnit	296	R/W	used by Group 3 codec<br/>
RowsPerStrip	278	R/W	data i/o<br/>
SampleFormat	339	R/W<br/>
SamplesPerPixel	277	R/W	lots<br/>
SMinSampleValue	340	R/W<br/>
SMaxSampleValue	341	R/W<br/>
Software	305	R/W<br/>
StoNits	37439	R/W<br/>
StripByteCounts	279	R/W	data i/o<br/>
StripOffsets	273	R/W	data i/o<br/>
SubFileType	255	R/W	called OSubFileType in spec<br/>
TargetPrinter	337	R/W<br/>
Thresholding	263	R/W	<br/>
TileByteCounts	324	R/W	data i/o<br/>
TileDepth	32998	R/W	tile/strip calculations<br/>
TileLength	323	R/W	data i/o<br/>
TileOffsets	324	R/W	data i/o<br/>
TileWidth	322	R/W	data i/o<br/>
TransferFunction	301	R/W<br/>
WhitePoint	318	R/W<br/>
XPosition	286	R/W<br/>
XResolution	282	R/W<br/>
YCbCrCoefficients	529	R/W	used by TIFFRGBAImage support<br/>
YCbCrPositioning	531	R/W	tile/strip size calulcations<br/>
YCbCrSubsampling	530	R/W<br/>
YPosition	286	R/W<br/>
YResolution	283	R/W	used by Group 3 codec</div>
<div class="section">
<h1>PSEUDO TAGS</h1> In addition to the normal <small>TIFF</small> tags the library supports a collection of tags whose values lie in a range outside the valid range of <small>TIFF</small> tags. These tags are termed <i>pseud-tags</i> and are used to control various codec-specific functions within the library. The table below summarizes the defined pseudo-tags.<div style="height: 1.00em;">
&#160;</div>
<br/>
<i>Tag Name</i>	<i>Codec</i>	<i>R/W</i>	<i>Library Use/Notes</i><div style="height: 5.00pt;">
&#160;</div>
<br/>
TIFFTAG_FAXMODE	G3	R/W	general codec operation<br/>
TIFFTAG_FAXFILLFUNC	G3/G4	R/W	bitmap fill function<br/>
TIFFTAG_JPEGQUALITY	JPEG	R/W	compression quality control<br/>
TIFFTAG_JPEGCOLORMODE	JPEG	R/W	control colorspace conversions<br/>
TIFFTAG_JPEGTABLESMODE	JPEG	R/W	control contents of <i>JPEGTables</i> tag<br/>
TIFFTAG_ZIPQUALITY	Deflate	R/W	compression quality level<br/>
TIFFTAG_PIXARLOGDATAFMT	PixarLog	R/W	user data format<br/>
TIFFTAG_PIXARLOGQUALITY	PixarLog	R/W	compression quality level<br/>
TIFFTAG_SGILOGDATAFMT	SGILog	R/W	user data format<br/>
<dl>
<dt>
<b>TIFFTAG_FAXMODE</b></dt>
<dd>
Control the operation of the Group 3 codec. Possible values (independent bits that can be combined by or'ing them together) are: FAXMODE_CLASSIC (enable old-style format in which the <small>RTC</small> is written at the end of the last strip), FAXMODE_NORTC (opposite of FAXMODE_CLASSIC; also called FAXMODE_CLASSF), FAXMODE_NOEOL (do not write <small>EOL</small> codes at the start of each row of data), FAXMODE_BYTEALIGN (align each encoded row to an 8-bit boundary), FAXMODE_WORDALIGN (align each encoded row to an 16-bit boundary), The default value is dependent on the compression scheme; this pseudo-tag is used by the various G3 and G4 codecs to share code.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_FAXFILLFUNC</b></dt>
<dd>
Control the function used to convert arrays of black and white runs to packed bit arrays. This hook can be used to image decoded scanlines in multi-bit depth rasters (e.g. for display in colormap mode) or for other purposes. The default value is a pointer to a builtin function that images packed bilevel data.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_IPTCNEWSPHOTO</b></dt>
<dd>
Tag contaings image metadata per the IPTC newsphoto spec: Headline, captioning, credit, etc... Used by most wire services.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_PHOTOSHOP</b></dt>
<dd>
Tag contains Photoshop captioning information and metadata. Photoshop uses in parallel and redundantly alongside IPTCNEWSPHOTO information.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_JPEGQUALITY</b></dt>
<dd>
Control the compression quality level used in the baseline algorithm. Note that quality levels are in the range 0-100 with a default value of 75.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_JPEGCOLORMODE</b></dt>
<dd>
Control whether or not conversion is done between RGB and YCbCr colorspaces. Possible values are: JPEGCOLORMODE_RAW (do not convert), and JPEGCOLORMODE_RGB (convert to/from RGB) The default value is JPEGCOLORMODE_RAW.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_JPEGTABLESMODE</b></dt>
<dd>
Control the information written in the <i>JPEGTables</i> tag. Possible values (independent bits that can be combined by or'ing them together) are: JPEGTABLESMODE_QUANT (include quantization tables), and JPEGTABLESMODE_HUFF (include Huffman encoding tables). The default value is JPEGTABLESMODE_QUANT|JPEGTABLESMODE_HUFF.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_ZIPQUALITY</b></dt>
<dd>
Control the compression technique used by the Deflate codec. Quality levels are in the range 1-9 with larger numbers yielding better compression at the cost of more computation. The default quality level is 6 which yields a good time-space tradeoff.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_PIXARLOGDATAFMT</b></dt>
<dd>
Control the format of user data passed <i>in</i> to the PixarLog codec when encoding and passed <i>out</i> from when decoding. Possible values are: PIXARLOGDATAFMT_8BIT for 8-bit unsigned pixels, PIXARLOGDATAFMT_8BITABGR for 8-bit unsigned ABGR-ordered pixels, PIXARLOGDATAFMT_11BITLOG for 11-bit log-encoded raw data, PIXARLOGDATAFMT_12BITPICIO for 12-bit PICIO-compatible data, PIXARLOGDATAFMT_16BIT for 16-bit signed samples, and PIXARLOGDATAFMT_FLOAT for 32-bit IEEE floating point samples.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_PIXARLOGQUALITY</b></dt>
<dd>
Control the compression technique used by the PixarLog codec. This value is treated identically to TIFFTAG_ZIPQUALITY; see the above description.</dd>
</dl>
<dl>
<dt>
<b>TIFFTAG_SGILOGDATAFMT</b></dt>
<dd>
Control the format of client data passed <i>in</i> to the SGILog codec when encoding and passed <i>out</i> from when decoding. Possible values are: SGILOGDATAFMT_FLTXYZ for converting between LogLuv and 32-bit IEEE floating valued XYZ pixels, SGILOGDATAFMT_16BITLUV for 16-bit encoded Luv pixels, SGILOGDATAFMT_32BITRAW and SGILOGDATAFMT_24BITRAW for no conversion of data, SGILOGDATAFMT_8BITRGB for returning 8-bit RGB data (valid only when decoding LogLuv-encoded data), SGILOGDATAFMT_FLTY for converting between LogL and 32-bit IEEE floating valued Y pixels, SGILOGDATAFMT_16BITL for 16-bit encoded L pixels, and SGILOGDATAFMT_8BITGRY for returning 8-bit greyscale data (valid only when decoding LogL-encoded data).</dd>
</dl>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1> All error messages are directed through the <i>TIFFError</i> routine. By default messages are directed to <b>stderr</b> in the form: <i>module: message\n.</i> Warning messages are likewise directed through the <i>TIFFWarning</i> routine.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>fax2tiff</b>(1), <b>gif2tiff</b>(1), <b>pal2rgb</b>(1), <b>ppm2tiff</b>(1), <b>rgb2ycbcr</b>(1), <b>ras2tiff</b>(1), <b>raw2tiff</b>(1), <b>sgi2tiff</b>(1), <b>tiff2bw</b>(1), <b>tiffdither</b>(1), <b>tiffdump</b>(1), <b>tiffcp</b>(1), <b>tiffcmp</b>(1), <b>tiffgt</b>(1), <b>tiffinfo</b>(1), <b>tiffmedian</b>(1), <b>tiffsplit</b>(1), <b>tiffsv</b>(1).<div class="spacer">
</div>
<b>Tag Image File Format Specification &#8212; Revision 6.0</b>, an Aldus Technical Memorandum.<div class="spacer">
</div>
<b>The Spirit of TIFF Class F</b>, an appendix to the TIFF 5.0 specification prepared by Cygnet Technologies.<div class="spacer">
</div>
Libtiff library home page: <b>http://www.remotesensing.org/libtiff/</b></div>
<div class="section">
<h1>BUGS</h1> The library does not support multi-sample images where some samples have different bits/sample.<div class="spacer">
</div>
The library does not support random access to compressed data that is organized with more than one row per tile or strip.</div>
<table class="foot">
<tr>
<td class="foot-date">
November 2, 2005</td>
<td class="foot-os">
libtiff</td>
</tr>
</table>
</div>
</body>
</html>

