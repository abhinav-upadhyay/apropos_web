<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Config::BaseConfigurator(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Config::BaseConfigurator(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Config::BaseConfigurator(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Log::Log4perl::Config::BaseConfigurator - Configurator Base Class</div>
<div class="section">
<h1>SYNOPSIS</h1> This is a virtual base class, all configurators should be derived from it.</div>
<div class="section">
<h1>DESCRIPTION</h1><div class="subsection">
<h2>METHODS</h2><dl>
<dt>
&quot;new&quot;</dt>
<dd>
Constructor, typically called like<div style="height: 1.00em;">
&#160;</div>
<br/>
    my $config_parser = SomeConfigParser-&gt;new(<br/>
        file =&gt; $file,<br/>
    );<br/>
<br/>
    my $data = $config_parser-&gt;parse();<br/>
<div style="height: 1.00em;">
&#160;</div>
Instead of &quot;file&quot;, the derived class &quot;SomeConfigParser&quot; may define any type of configuration input medium (e.g. &quot;url =&gt; 'http://foobar'&quot;). It just has to make sure its &quot;parse()&quot; method will later pull the input data from the medium specified.<div style="height: 1.00em;">
&#160;</div>
The base class accepts a filename or a reference to an array of text lines:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
&quot;file&quot;</dt>
<dd>
Specifies a file which the &quot;parse()&quot; method later parses.</dd>
</dl>
<dl>
<dt>
&quot;text&quot;</dt>
<dd>
Specifies a reference to an array of scalars, representing configuration records (typically lines of a file). Also accepts a simple scalar, which it splits at its newlines and transforms it into an array:<div style="height: 1.00em;">
&#160;</div>
<br/>
    my $config_parser = MyYAMLParser-&gt;new(<br/>
        text =&gt; ['foo: bar',<br/>
                 'baz: bam',<br/>
                ],<br/>
    );<br/>
<br/>
    my $data = $config_parser-&gt;parse();<br/>
</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
If either &quot;file&quot; or &quot;text&quot; parameters have been specified in the constructor call, a later call to the configurator's &quot;text()&quot; method will return a reference to an array of configuration text lines. This will typically be used by the &quot;parse()&quot; method to process the input.</div>
<dl>
<dt>
&quot;parse&quot;</dt>
<dd>
Virtual method, needs to be defined by the derived class.</dd>
</dl>
</div>
<div class="subsection">
<h2>Parser requirements</h2><dl>
<dt>
&#8226;</dt>
<dd>
If the parser provides variable substitution functionality, it has to implement it.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The parser's &quot;parse()&quot; method returns a reference to a hash of hashes (HoH). The top-most hash contains the top-level keywords (&quot;category&quot;, &quot;appender&quot;) as keys, associated with values which are references to more deeply nested hashes.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
The &quot;log4perl.&quot; prefix (e.g. as used in the PropertyConfigurator class) is stripped, it's not part in the HoH structure.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Each Log4perl config value is indicated by the &quot;value&quot; key, as in<div style="height: 1.00em;">
&#160;</div>
<br/>
    $data-&gt;{category}-&gt;{Bar}-&gt;{Twix}-&gt;{value} = &quot;WARN, Logfile&quot;<br/>
</dd>
</dl>
</div>
<div class="subsection">
<h2>EXAMPLES</h2> The following Log::Log4perl configuration:<div class="spacer">
</div>
<br/>
    log4perl.category.Bar.Twix        = WARN, Screen<br/>
    log4perl.appender.Screen          = Log::Log4perl::Appender::File<br/>
    log4perl.appender.Screen.filename = test.log<br/>
    log4perl.appender.Screen.layout   = Log::Log4perl::Layout::SimpleLayout<br/>
<div class="spacer">
</div>
needs to be transformed by the parser's &quot;parse()&quot; method into this data structure:<div class="spacer">
</div>
<br/>
    { appender =&gt; {<br/>
        Screen  =&gt; {<br/>
          layout =&gt; { <br/>
            value  =&gt; &quot;Log::Log4perl::Layout::SimpleLayout&quot; },<br/>
            value  =&gt; &quot;Log::Log4perl::Appender::Screen&quot;,<br/>
        },<br/>
      },<br/>
      category =&gt; { <br/>
        Bar =&gt; { <br/>
          Twix =&gt; { <br/>
            value =&gt; &quot;WARN, Screen&quot; } <br/>
        } }<br/>
    }<br/>
<div class="spacer">
</div>
For a full-fledged example, check out the sample YAML parser implementation in &quot;eg/yamlparser&quot;. It uses a simple YAML syntax to specify the Log4perl configuration to illustrate the concept.</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> Log::Log4perl::Config::PropertyConfigurator<div class="spacer">
</div>
Log::Log4perl::Config::DOMConfigurator<div class="spacer">
</div>
Log::Log4perl::Config::LDAPConfigurator (tbd!)</div>
<div class="section">
<h1>COPYRIGHT AND LICENSE</h1> Copyright 2002-2009 by Mike Schilli &lt;m@perlmeister.com&gt; and Kevin Goess &lt;cpan@goess.org&gt;.<div class="spacer">
</div>
This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-02-24</td>
<td class="foot-os">
perl v5.10.1</td>
</tr>
</table>
</div>
</body>
</html>

