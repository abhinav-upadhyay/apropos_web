<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Dpkg::Path(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Dpkg::Path(3)</td>
<td class="head-vol">
libdpkg-perl</td>
<td class="head-rtitle">
Dpkg::Path(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Dpkg::Path - some common path handling functions</div>
<div class="section">
<h1>DESCRIPTION</h1> It provides some functions to handle various path.</div>
<div class="section">
<h1>METHODS</h1><dl>
<dt>
get_pkg_root_dir($file)</dt>
<dd>
This function will scan upwards the hierarchy of directory to find out the directory which contains the &quot;DEBIAN&quot; sub-directory and it will return its path. This directory is the root directory of a package being built.<div style="height: 1.00em;">
&#160;</div>
If no DEBIAN subdirectory is found, it will return undef.</dd>
</dl>
<dl>
<dt>
relative_to_pkg_root($file)</dt>
<dd>
Returns the filename relative to get_pkg_root_dir($file).</dd>
</dl>
<dl>
<dt>
guess_pkg_root_dir($file)</dt>
<dd>
This function tries to guess the root directory of the package build tree. It will first use  <i>get_pkg_root_dir()</i>, but it will fallback to a more imprecise check: namely it will use the parent directory that is a sub-directory of the debian directory.<div style="height: 1.00em;">
&#160;</div>
It can still return undef if a file outside of the debian sub-directory is provided.</dd>
</dl>
<dl>
<dt>
check_files_are_the_same($file1, $file2, $resolve_symlink)</dt>
<dd>
This function verifies that both files are the same by checking that the device numbers and the inode numbers returned by  <i>stat()</i>/<i>lstat()</i> are the same. If $resolve_symlink is true then  <i>stat()</i> is used, otherwise <i>lstat()</i> is used.</dd>
</dl>
<dl>
<dt>
canonpath($file)</dt>
<dd>
This function returns a cleaned path. It simplifies double //, and remove /./ and /../ intelligently. For /../ it simplifies the path only if the previous element is not a symlink. Thus it should only be used on real filenames.</dd>
</dl>
<dl>
<dt>
$newpath = resolve_symlink($symlink)</dt>
<dd>
Return the filename of the file pointed by the symlink. The new name is canonicalized by  <i>canonpath()</i>.</dd>
</dl>
<dl>
<dt>
my $cmdpath = find_command($command)</dt>
<dd>
Return the path of the command if available on an absolute or relative path or on the $PATH, undef otherwise.</dd>
</dl>
<dl>
<dt>
my $control_file = get_control_path($pkg, $filetype)</dt>
<dd>
Return the path of the control file of type $filetype for the given package.</dd>
</dl>
<dl>
<dt>
my @control_files = get_control_path($pkg)</dt>
<dd>
Return the path of all available control files for the given package.</dd>
</dl>
<dl>
<dt>
my $file = find_build_file($basename)</dt>
<dd>
Selects the right variant of the given file: the arch-specific variant (&quot;$basename.$arch&quot;) has priority over the OS-specific variant (&quot;$basename.$os&quot;) which has priority over the default variant (&quot;$basename&quot;). If none of the files exists, then it returns undef.</dd>
</dl>
<dl>
<dt>
my @files = find_build_file($basename)</dt>
<dd>
Return the available variants of the given file. Returns an empty list if none of the files exists.</dd>
</dl>
</div>
<div class="section">
<h1>CHANGES</h1><div class="subsection">
<h2>Version 1.03</h2> New function:  <i>find_build_file()</i></div>
<div class="subsection">
<h2>Version 1.02</h2> New function:  <i>get_control_path()</i></div>
<div class="subsection">
<h2>Version 1.01</h2> New function:  <i>find_command()</i></div>
</div>
<div class="section">
<h1>AUTHOR</h1> Rapha&#235;l Hertzog &lt;hertzog@debian.org&gt;.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-10-14</td>
<td class="foot-os">
1.16.1.2</td>
</tr>
</table>
</div>
</body>
</html>

