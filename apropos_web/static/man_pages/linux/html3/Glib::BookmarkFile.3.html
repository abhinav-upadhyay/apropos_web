<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Glib::BookmarkFile(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Glib::BookmarkFile(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Glib::BookmarkFile(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Glib::BookmarkFile -  Parser for bookmark files</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use Glib;<br/>
<br/>
  $date .= $_ while (&lt;DATA&gt;);<br/>
<br/>
  $b = Glib::BookmarkFile-&gt;new;<br/>
  $b-&gt;load_from_data($data);<br/>
  $uri = 'file:///some/path/to/a/file.txt';<br/>
  if ($b-&gt;has_item($uri)) {<br/>
        $title = $b-&gt;get_title($uri);<br/>
        $desc  = $b-&gt;get_description($uri);<br/>
<br/>
        print &quot;Bookmark for `$uri' ($title):\n&quot;;<br/>
        print &quot;  $desc\n&quot;;<br/>
  }<br/>
  0;<br/>
<br/>
  __DATA__<br/>
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br/>
  &lt;xbel version=&quot;1.0&quot;<br/>
        xmlns:bookmark=&quot;http://www.freedesktop.org/standards/desktop-bookmarks&quot;<br/>
        xmlns:mime=&quot;http://www.freedesktop.org/standards/shared-mime-info&quot;&gt;<br/>
    &lt;bookmark href=&quot;file:///tmp/test-file.txt&quot; added=&quot;2006-03-22T18:54:00Z&quot; modified=&quot;2006-03-22T18:54:00Z&quot; visited=&quot;2006-03-22T18:54:00Z&quot;&gt;<br/>
      &lt;title&gt;Test File&lt;/title&gt;<br/>
      &lt;desc&gt;Some test file&lt;/desc&gt;<br/>
      &lt;info&gt;<br/>
        &lt;metadata owner=&quot;http://freedesktop.org&quot;&gt;<br/>
          &lt;mime:mime-type type=&quot;text/plain&quot;/&gt;<br/>
          &lt;bookmark:applications&gt;<br/>
            &lt;bookmark:application name=&quot;Gedit&quot; exec=&quot;gedit %u&quot; timestamp=&quot;1143053640&quot; count=&quot;1&quot;/&gt;<br/>
          &lt;/bookmark:applications&gt;<br/>
        &lt;/metadata&gt;<br/>
      &lt;/info&gt;<br/>
    &lt;/bookmark&gt;<br/>
  &lt;/xbel&gt;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>Glib::BookmarkFile</b> lets you parse, edit or create files containing lists of bookmarks to resources pointed to by URIs, with some meta-data bound to them, following the Desktop Bookmark Specification.  The recent files support inside GTK+ uses this type of files to store the list of recently used files.<div class="spacer">
</div>
The syntax of bookmark files is described in detail in the Desktop Bookmarks Specification, here is a quick summary: bookmark files use a subclass of the XML Bookmark Exchange Language (XBEL) document format, defining meta-data such as the MIME type of the resource pointed by a bookmark, the list of applications that have registered the same URI and the visibility of the bookmark.</div>
<div class="section">
<h1>METHODS</h1><div class="subsection">
<h2>bookmarkfile = Glib::BookmarkFile-&gt;<b>new</b></h2></div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>add_application</b> ($uri, $name, $exec)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$name (string or undef)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$exec (string or undef)</dd>
</dl>
<div class="spacer">
</div>
Adds the application with $name and $exec to the list of applications that have registered a bookmark for $uri into $bookmark_file.<div class="spacer">
</div>
Every bookmark inside a &quot;Glib::BookmarkFile&quot; must have at least an application registered.  Each application must provide a name, a command line useful for launching the bookmark, the number of times the bookmark has been registered by the application and the last time the application registered this bookmark.<div class="spacer">
</div>
If $name is undef, the name of the application will be the same returned by  <i>Glib::get_application_name()</i>; if $exec is undef, the command line will be a composition of the program name as returned by  <i>Glib::get_prgname()</i> and the &quot;%u&quot; modifier, which will be expanded to the bookmark's URI.<div class="spacer">
</div>
This function will automatically take care of updating the registrations count and timestamping in case an application with the same $name had already registered a bookmark for $uri inside the bookmark file.  If no bookmark for $uri is found one is created.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>add_group</b> ($uri, $group)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$group (string)</dd>
</dl>
<div class="spacer">
</div>
Adds $group to the list of groups to which the bookmark for $uri belongs to.  If no bookmark for $uri is found one is created.</div>
<div class="subsection">
<h2>unix timestamp = $bookmark_file-&gt;<b>get_added</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_added</b> ($uri, $value)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$value (unix timestamp)</dd>
</dl>
<div class="spacer">
</div>
Sets the time the bookmark for $uri was added. If no bookmark for $uri is found one is created.</div>
<div class="subsection">
<h2>($exec, $count, $stamp) = $bookmark_file-&gt;<b>get_app_info</b> ($uri, $name)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$name (string)</dd>
</dl>
<div class="spacer">
</div>
Gets the registration information of $name for the bookmark for $uri.  See  <i>Glib::BookmarkFile::set_app_info()</i> for more information about the returned data.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_app_info</b> ($uri, $name, $exec, $count, $stamp)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$name (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$exec (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$count (integer)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$stamp (unix timestamp)</dd>
</dl>
<div class="spacer">
</div>
Sets the meta-data of application $name inside the list of applications that have registered a bookmark for $uri inside $bookmark_file.<div class="spacer">
</div>
You should rarely use this method; use <i>Glib::BookmarkFile::add_application()</i> and  <i>Glib::BookmarkFile::remove_application()</i> instead.<div class="spacer">
</div>
$name can be any UTF-8 encoded string used to identify an application. $exec can have one of these two modifiers: &quot;%f&quot;, which will be expanded as the local file name retrieved from the bookmark's URI; &quot;%u&quot;, which will be expanded as the bookmark's URI. The expansion is done automatically when retrieving the stored command line using the  <i>Glib::BookmarkFile::get_app_info()</i> method. $count is the number of times the application has registered the bookmark; if it is &lt; 0, the current registration count will be increased by one, if it is 0, the application with $name will be removed from the list of registered applications. $stamp is the Unix time of the last registration, as returned by  <i>time()</i>; if it is -1, the current time will be used.<div class="spacer">
</div>
If you try to remove an application by setting its registration count to zero, and no bookmark for $uri is found, %FALSE is returned and an exception is fired.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>list = $bookmark_file-&gt;<b>get_applications</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
Retrieves the names of the applications that have registered the bookmark for $uri.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>get_description</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
Gets the description of the bookmark for $uri.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_description</b> ($uri, $description)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$description (string)</dd>
</dl>
<div class="spacer">
</div>
Sets the description of the bookmark for $uri.  If no bookmark for $uri is found one is created.</div>
<div class="subsection">
<h2>list = $bookmark_file-&gt;<b>get_groups</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
Retrieves the list of group names of the bookmark for $uri.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_groups</b> ($uri, ...)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
... (list) one or more group names</dd>
</dl>
<div class="spacer">
</div>
Sets a list of group names for the item with URI $uri.  Each previously set group name list is removed.  If no bookmark for $uri is found one is created.</div>
<div class="subsection">
<h2>boolean = $bookmark_file-&gt;<b>has_application</b> ($uri, $name)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$name (string)</dd>
</dl>
<div class="spacer">
</div>
Checks whether the bookmark for $uri inside $bookmark_file has been registered by application $name.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>boolean = $bookmark_file-&gt;<b>has_group</b> ($uri, $group)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$group (string)</dd>
</dl>
<div class="spacer">
</div>
Checks whether $group appears in the list of groups to which the bookmark for $uri belongs to.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>boolean = $bookmark_file-&gt;<b>has_item</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
Looks whether the bookmark file has a bookmark for $uri.</div>
<div class="subsection">
<h2>($href, $mime_type) = $bookmark_file-&gt;<b>get_icon</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
Gets the icon of the bookmark for $uri.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_icon</b> ($uri, $href, $mime_type)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$href (string or undef)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$mime_type (string or undef)</dd>
</dl>
<div class="spacer">
</div>
Sets the icon for the bookmark for $uri.  If $href is undef, unsets the currently set icon.</div>
<div class="subsection">
<h2>boolean = $bookmark_file-&gt;<b>get_is_private</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_is_private</b> ($uri, $is_private)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$is_private (boolean)</dd>
</dl>
</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>load_from_data</b> ($buf)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$buf (scalar)</dd>
</dl>
<div class="spacer">
</div>
Parses a string containing a bookmark file structure.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>($full_path) = $bookmark_file-&gt;<b>load_from_data_dirs</b> ($file)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$file (localized file name)</dd>
</dl>
<div class="spacer">
</div>
Parses a bookmark file, searching for it inside the data directories. If a file is found, it returns the full path.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>load_from_file</b> ($file)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$file (localized file name)</dd>
</dl>
<div class="spacer">
</div>
Parses a bookmark file.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>string = $bookmark_file-&gt;<b>get_mime_type</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
Gets the MIME type of the bookmark for $uri.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_mime_type</b> ($uri, $mime_type)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$mime_type (string)</dd>
</dl>
<div class="spacer">
</div>
Sets the MIME type of the bookmark for $uri.  If no bookmark for $uri is found one is created.</div>
<div class="subsection">
<h2>unix timestamp = $bookmark_file-&gt;<b>get_modified</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_modified</b> ($uri, $value)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$value (unix timestamp)</dd>
</dl>
<div class="spacer">
</div>
Sets the time the bookmark for $uri was last modified. If no bookmark for $uri is found one is created.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>move_item</b> ($old_uri, $new_uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$old_uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$new_uri (string or undef)</dd>
</dl>
<div class="spacer">
</div>
Changes the URI of a bookmark item from $old_uri to $new_uri.  Any existing bookmark for $new_uri will be overwritten.  If $new_uri is undef, then the bookmark is removed.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>remove_application</b> ($uri, $name)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$name (string)</dd>
</dl>
<div class="spacer">
</div>
Removes application registered with $name from the list of applications that have registered a bookmark for $uri inside $bookmark_file.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>remove_group</b> ($uri, $group)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$group (string)</dd>
</dl>
<div class="spacer">
</div>
Removes $group from the list of groups to which the bookmark for $uri belongs to.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>remove_item</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
Removes the bookmark for $uri from the bookmark file.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>integer = $bookmark_file-&gt;<b>get_size</b></h2> Gets the number of bookmarks inside the bookmark file.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>get_title</b> ($uri, $title)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<div class="spacer">
</div>
Gets the title of the bookmark for $uri.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_title</b> ($uri, $title)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$title (string)</dd>
</dl>
<div class="spacer">
</div>
Sets the title of the bookmark for $uri.  If no bookmark for $uri is found one is created.</div>
<div class="subsection">
<h2>string = $bookmark_file-&gt;<b>to_data</b></h2> Returns the bookmark file as a string.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>to_file</b> ($file)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$file (localized file name)</dd>
</dl>
<div class="spacer">
</div>
Saves the contents of a bookmark file into a file.  The write operation is guaranteed to be atomical by writing the contents of the bookmark file to a temporary file and then moving the file to the target file.<div class="spacer">
</div>
May croak with a Glib::Error in $@ on failure.</div>
<div class="subsection">
<h2>list = $bookmark_file-&gt;<b>get_uris</b></h2> Returns the URI of all the bookmarks in the bookmark file.</div>
<div class="subsection">
<h2>unix timestamp = $bookmark_file-&gt;<b>get_visited</b> ($uri)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
</div>
<div class="subsection">
<h2>$bookmark_file-&gt;<b>set_visited</b> ($uri, $value)</h2><dl>
<dt>
&#8226;</dt>
<dd>
$uri (string)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
$value (unix timestamp)</dd>
</dl>
<div class="spacer">
</div>
Sets the time the bookmark for $uri was last visited. If no bookmark for $uri is found one is created.</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> Glib</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright (C) 2003-2011 by the gtk2-perl team.<div class="spacer">
</div>
This software is licensed under the LGPL.  See Glib for a full notice.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-12-05</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

