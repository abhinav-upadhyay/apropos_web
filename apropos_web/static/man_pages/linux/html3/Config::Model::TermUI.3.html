<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Config::Model::TermUI(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Config::Model::TermUI(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Config::Model::TermUI(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Config::Model::TermUI - Provides Config::Model UI a la Term::ReadLine</div>
<div class="section">
<h1>VERSION</h1> version 2.005</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 use Config::Model;<br/>
 use Config::Model::TermUI ;<br/>
 use Log::Log4perl qw(:easy);<br/>
 Log::Log4perl-&gt;easy_init($WARN);<br/>
<br/>
 # define configuration tree object<br/>
 my $model = Config::Model-&gt;new;<br/>
  $model-&gt;create_config_class(<br/>
    name    =&gt; &quot;Foo&quot;,<br/>
    element =&gt; [<br/>
        [qw/foo bar/] =&gt; {<br/>
            type       =&gt; 'leaf',<br/>
            value_type =&gt; 'string'<br/>
        },<br/>
    ]<br/>
 ); <br/>
 $model -&gt;create_config_class (<br/>
    name =&gt; &quot;MyClass&quot;,<br/>
<br/>
    element =&gt; [ <br/>
<br/>
        [qw/foo bar/] =&gt; {<br/>
            type       =&gt; 'leaf',<br/>
            value_type =&gt; 'string'<br/>
        },<br/>
        hash_of_nodes =&gt; {<br/>
            type       =&gt; 'hash',     # hash id<br/>
            index_type =&gt; 'string',<br/>
            cargo      =&gt; {<br/>
                type              =&gt; 'node',<br/>
                config_class_name =&gt; 'Foo'<br/>
            },<br/>
        },<br/>
    ],<br/>
 ) ;<br/>
<br/>
 my $inst = $model-&gt;instance(root_class_name =&gt; 'MyClass' );<br/>
<br/>
 my $root = $inst-&gt;config_root ;<br/>
<br/>
 # put data<br/>
 my $step = 'foo=FOO hash_of_nodes:fr foo=bonjour -<br/>
   hash_of_nodes:en foo=hello ';<br/>
 $root-&gt;load( step =&gt; $step );<br/>
<br/>
 my $ui = Config::Model::TermUI-&gt;new( root =&gt; $root ,<br/>
                                      title =&gt; 'My class ui',<br/>
                                      prompt =&gt; 'class ui',<br/>
                                      );<br/>
<br/>
 # engage in user interaction<br/>
 $ui -&gt; run_loop ;<br/>
<br/>
 print $root-&gt;dump_tree ;<br/>
<div class="spacer">
</div>
Once the synopsis above has been saved in &quot;my_test.pl&quot;, you can achieve the same interactions as with &quot;Config::Model::SimpleUI&quot;. Except that you can use TAB completion:<div class="spacer">
</div>
<br/>
 class ui:$ ls<br/>
 foo  bar  hash_of_nodes<br/>
 class ui:$ ll hash_of_nodes<br/>
 name         value        type         comment                            <br/>
 hash_of_nodes &lt;Foo&gt;        node hash    keys: &quot;en&quot; &quot;fr&quot;                    <br/>
 <br/>
 class ui:$ cd hash_of_nodes:en<br/>
 class ui: hash_of_nodes:en $ ll<br/>
 name         value        type         comment                            <br/>
 foo          hello        string                                          <br/>
 bar          [undef]      string                                          <br/>
 <br/>
 class ui: hash_of_nodes:en $ set bar=bonjour<br/>
 class ui: hash_of_nodes:en $ ll<br/>
 name         value        type         comment                            <br/>
 foo          hello        string                                          <br/>
 bar          bonjour      string                                          <br/>
<br/>
 class ui: hash_of_nodes:en $ ^D<br/>
<div class="spacer">
</div>
At the end, the test script will dump the configuration tree. The modified &quot;bar&quot; value can be found in there:<div class="spacer">
</div>
<br/>
 foo=FOO<br/>
 hash_of_nodes:en<br/>
   foo=hello<br/>
   bar=bonjour -<br/>
 hash_of_nodes:fr<br/>
   foo=bonjour - -<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module provides a helper to construct pure ASCII user interface on top of Term::ReadLine. To get better interaction you must install either Term::ReadLine::Gnu or Term::ReadLine::Perl.<div class="spacer">
</div>
Depending on your installation, either Term::ReadLine::Gnu or Term::ReadLine::Perl. See Term::ReadLine to override default choice.</div>
<div class="section">
<h1>USER COMMAND SYNTAX</h1> See &quot;USER COMMAND SYNTAX&quot; in Config::Model::SimpleUI.</div>
<div class="section">
<h1>CONSTRUCTOR</h1><div class="subsection">
<h2>parameters</h2><dl>
<dt>
root</dt>
<dd>
Root node of the configuration tree</dd>
</dl>
<dl>
<dt>
title</dt>
<dd>
UI title</dd>
</dl>
<dl>
<dt>
prompt</dt>
<dd>
UI prompt. The prompt will be completed with the location of the current node.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>Methods</h1><div class="subsection">
<h2><i>run_loop()</i></h2> Engage in user interaction until user enters '^D' (CTRL-D).</div>
</div>
<div class="section">
<h1>BUGS</h1><dl>
<dt>
&#8226;</dt>
<dd>
Auto-completion is not complete.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Auto-completion provides wrong choice when you try to &quot;cd&quot; in a hash where the index contains a white space. I.e. the correct command is &quot;cd foo:&quot;a b&quot;&quot; instead of &quot;cd foo: &quot;a b&quot;&quot; as proposed by auto completion.</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
UI should take into account experience.</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> Dominique Dumont, (ddumont at cpan dot org)</div>
<div class="section">
<h1>SEE ALSO</h1> Config::Model, Config::Model::Instance, Config::Model::Node,</div>
<table class="foot">
<tr>
<td class="foot-date">
2012-02-24</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

