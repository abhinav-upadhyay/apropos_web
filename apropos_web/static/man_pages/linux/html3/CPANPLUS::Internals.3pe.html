<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
CPANPLUS::Internals(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CPANPLUS::Internals(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
CPANPLUS::Internals(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> CPANPLUS::Internals</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    my $internals   = CPANPLUS::Internals-&gt;_init( _conf =&gt; $conf );<br/>
    my $backend     = CPANPLUS::Internals-&gt;_retrieve_id( $ID );<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module is the guts of CPANPLUS -- it inherits from all other modules in the CPANPLUS::Internals::* namespace, thus defying normal rules of OO programming -- but if you're reading this, you already know what's going on ;)<div class="spacer">
</div>
Please read the &quot;CPANPLUS::Backend&quot; documentation for the normal API.</div>
<div class="section">
<h1>ACCESSORS</h1><dl>
<dt>
_conf</dt>
<dd>
Get/set the configure object</dd>
</dl>
<dl>
<dt>
_id</dt>
<dd>
Get/set the id</dd>
</dl>
</div>
<div class="section">
<h1>METHODS</h1><div class="subsection">
<h2>$internals = CPANPLUS::Internals-&gt;_init( _conf =&gt; CONFIG_OBJ )</h2> &quot;_init&quot; creates a new CPANPLUS::Internals object.<div class="spacer">
</div>
You have to pass it a valid &quot;CPANPLUS::Configure&quot; object.<div class="spacer">
</div>
Returns the object on success, or dies on failure.</div>
<div class="subsection">
<h2>$bool = $internals-&gt;_flush( list =&gt; \@caches )</h2> Flushes the designated caches from the &quot;CPANPLUS&quot; object.<div class="spacer">
</div>
Returns true on success, false if one or more caches could not be be flushed.</div>
<div class="subsection">
<h2>$bool = $internals-&gt;_register_callback( name =&gt; CALLBACK_NAME, code =&gt; CODEREF );</h2> Registers a callback for later use by the internal libraries.<div class="spacer">
</div>
Here is a list of the currently used callbacks:<dl>
<dt>
install_prerequisite</dt>
<dd>
Is called when the user wants to be &quot;asked&quot; about what to do with prerequisites. Should return a boolean indicating true to install the prerequisite and false to skip it.</dd>
</dl>
<dl>
<dt>
send_test_report</dt>
<dd>
Is called when the user should be prompted if he wishes to send the test report. Should return a boolean indicating true to send the test report and false to skip it.</dd>
</dl>
<dl>
<dt>
munge_test_report</dt>
<dd>
Is called when the test report message has been composed, giving the user a chance to programatically alter it. Should return the (munged) message to be sent.</dd>
</dl>
<dl>
<dt>
edit_test_report</dt>
<dd>
Is called when the user should be prompted to edit test reports about to be sent out by Test::Reporter. Should return a boolean indicating true to edit the test report in an editor and false to skip it.</dd>
</dl>
<dl>
<dt>
proceed_on_test_failure</dt>
<dd>
Is called when 'make test' or 'Build test' fails. Should return a boolean indicating whether the install should continue even if the test failed.</dd>
</dl>
<dl>
<dt>
munge_dist_metafile</dt>
<dd>
Is called when the &quot;CPANPLUS::Dist::*&quot; metafile is created, like &quot;control&quot; for &quot;CPANPLUS::Dist::Deb&quot;, giving the user a chance to programatically alter it. Should return the (munged) text to be written to the metafile.</dd>
</dl>
</div>
<div class="subsection">
<h2>$bool = $internals-&gt;_add_to_includepath( directories =&gt; \@dirs )</h2> Adds a list of directories to the include path. This means they get added to @INC as well as $ENV{PERL5LIB}.<div class="spacer">
</div>
Returns true on success, false on failure.</div>
<div class="subsection">
<h2>$id = CPANPLUS::Internals-&gt;_last_id</h2> Return the id of the last object stored.</div>
<div class="subsection">
<h2>$id = CPANPLUS::Internals-&gt;_store_id( $internals )</h2> Store this object; return its id.</div>
<div class="subsection">
<h2>$obj = CPANPLUS::Internals-&gt;_retrieve_id( $ID )</h2> Retrieve an object based on its ID -- return false on error.</div>
<div class="subsection">
<h2>CPANPLUS::Internals-&gt;_remove_id( $ID )</h2> Remove the object marked by $ID from storage.</div>
<div class="subsection">
<h2>@objs = CPANPLUS::Internals-&gt;_return_all_objects</h2> Return all stored objects.</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

