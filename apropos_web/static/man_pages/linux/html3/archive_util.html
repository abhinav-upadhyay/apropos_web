<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ARCHIVE_UTIL(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">archive_clear_error</b>, <b class="name">archive_compression</b>, <b class="name">archive_compression_name</b>, <b class="name">archive_copy_error</b>, <b class="name">archive_errno</b>, <b class="name">archive_error_string</b>, <b class="name">archive_file_count</b>, <b class="name">archive_filter_code</b>, <b class="name">archive_filter_count</b>, <b class="name">archive_filter_name</b>, <b class="name">archive_format</b>, <b class="name">archive_format_name</b>, <b class="name">archive_position</b>, <b class="name">archive_set_error</b> &#8212; <span class="desc">libarchive utility functions</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">archive.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_clear_error</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_compression</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_compression_name</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_copy_error</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>, <i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_errno</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_error_string</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_file_count</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_filter_code</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>, <i class="farg" style="white-space:nowrap;">int</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_filter_count</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>, <i class="farg" style="white-space:nowrap;">int</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_filter_name</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>, <i class="farg" style="white-space:nowrap;">int</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_format</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_format_name</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>);<div class="spacer">
</div>
<i class="ftype">int64_t</i><br/>
<b class="fname">archive_position</b>(<i class="farg" style="white-space:nowrap;">struct archive *</i>, <i class="farg" style="white-space:nowrap;">int</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_set_error</b>(<i class="farg">struct archive *</i>, <i class="farg">int error_code</i>, <i class="farg">const char *fmt</i>, <i class="farg">...</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> These functions provide access to various information about the struct archive object used in the <a class="link-man" href="/man/linux/3/libarchive">libarchive(3)</a> library.<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_clear_error</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Clears any error information left over from a previous call. Not generally used in client code.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_compression</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Synonym for <b class="fname">archive_filter_code(a,</b>(<i class="farg">0)</i>).</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_compression_name</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Synonym for <b class="fname">archive_filter_name(a,</b>(<i class="farg">0)</i>).</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_copy_error</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Copies error information from one archive to another.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_errno</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns a numeric error code (see <a class="link-man" href="/man/linux/2/errno">errno(2)</a>) indicating the reason for the most recent error return. Note that this can not be reliably used to detect whether an error has occurred. It should be used only after another libarchive function has returned an error status.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_error_string</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns a textual error message suitable for display. The error message here is usually more specific than that obtained from passing the result of <b class="fname">archive_errno</b>() to <a class="link-man" href="/man/linux/3/strerror">strerror(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_file_count</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns a count of the number of files processed by this archive object. The count is incremented by calls to <a class="link-man" href="/man/linux/3/archive_write_header">archive_write_header(3)</a> or <a class="link-man" href="/man/linux/3/archive_read_next_header">archive_read_next_header(3)</a>.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_filter_code</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns a numeric code identifying the indicated filter. See <b class="fname">archive_filter_count</b>() for details of the numbering.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_filter_count</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the number of filters in the current pipeline. For read archive handles, these filters are added automatically by the automatic format detection. For write archive handles, these filters are added by calls to the various <b class="fname">archive_write_add_filter_XXX</b>() functions. Filters in the resulting pipeline are numbered so that filter 0 is the filter closest to the format handler. As a convenience, functions that expect a filter number will accept -1 as a synonym for the highest-numbered filter.<div class="spacer">
</div>
For example, when reading a uuencoded gzipped tar archive, there are three filters: filter 0 is the gunzip filter, filter 1 is the uudecode filter, and filter 2 is the pseudo-filter that wraps the archive read functions. In this case, requesting <b class="fname">archive_position(a,</b>(<i class="farg">-1)</i>) would be a synonym for <b class="fname">archive_position(a,</b>(<i class="farg">2)</i>) which would return the number of bytes currently read from the archive, while <b class="fname">archive_position(a,</b>(<i class="farg">1)</i>) would return the number of bytes after uudecoding, and <b class="fname">archive_position(a,</b>(<i class="farg">0)</i>) would return the number of bytes after decompression.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_filter_name</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns a textual name identifying the indicated filter. See <b class="fname">archive_filter_count</b>() for details of the numbering.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_format</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns a numeric code indicating the format of the current archive entry. This value is set by a successful call to <b class="fname">archive_read_next_header</b>(). Note that it is common for this value to change from entry to entry. For example, a tar archive might have several entries that utilize GNU tar extensions and several entries that do not. These entries will have different format codes.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_format_name</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
A textual description of the format of the current entry.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_position</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Returns the number of bytes read from or written to the indicated filter. In particular, <b class="fname">archive_position(a,</b>(<i class="farg">0)</i>) returns the number of bytes read or written by the format handler, while <b class="fname">archive_position(a,</b>(<i class="farg">-1)</i>) returns the number of bytes read or written to the archive. See <b class="fname">archive_filter_count</b>() for details of the numbering here.</dd>
<dt class="list-tag" style="margin-top: 0.00em;">
<b class="fname">archive_set_error</b>()</dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Sets the numeric error code and error description that will be returned by <b class="fname">archive_errno</b>() and <b class="fname">archive_error_string</b>(). This function should be used within I/O callbacks to set system-specific error codes and error descriptions. This function accepts a printf-like format string and arguments. However, you should be careful to use only the following printf format specifiers: &#8220;%c&#8221;, &#8220;%d&#8221;, &#8220;%jd&#8221;, &#8220;%jo&#8221;, &#8220;%ju&#8221;, &#8220;%jx&#8221;, &#8220;%ld&#8221;, &#8220;%lo&#8221;, &#8220;%lu&#8221;, &#8220;%lx&#8221;, &#8220;%o&#8221;, &#8220;%u&#8221;, &#8220;%s&#8221;, &#8220;%x&#8221;, &#8220;%%&#8221;. Field-width specifiers and other printf features are not uniformly supported and should not be used.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="/man/linux/3/archive_read">archive_read(3)</a>, <a class="link-man" href="/man/linux/3/archive_write">archive_write(3)</a>, <a class="link-man" href="/man/linux/3/libarchive">libarchive(3)</a>, <a class="link-man" href="/man/linux/3/printf">printf(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> The <b class="name">libarchive</b> library first appeared in <span class="unix">FreeBSD&#160;5.3</span>.</div>
<div class="section">
<h1 id="x415554484f5253">AUTHORS</h1> The <b class="name">libarchive</b> library was written by <span class="author">Tim Kientzle</span> &#10216;kientzle@acm.org&#10217;.</div>
</div>
</body>
</html>

