<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XMBUF(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XMBUF(3)</td>
<td class="head-vol">
X FUNCTIONS</td>
<td class="head-rtitle">
XMBUF(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XmbufQueryExtension, XmbufGetVersion, XmbufCreateBuffers, XmbufDestroyBuffers, XmbufDisplayBuffers, XmbufGetWindowAttributes, XmbufChangeWindowAttributes, XmbufGetBufferAttributes, XmbufChangeBufferAttributes, XmbufGetScreenInfo, XmbufCreateStereoWindow - X multibuffering functions</div>
<div class="section">
<h1>SYNTAX</h1><div class="spacer">
</div>
#include &lt;X11/extensions/multibuf.h&gt;<div class="spacer">
</div>
Bool XmbufQueryExtension(<br/>
    Display *dpy,<br/>
    Display *dpy,<br/>
    int *event_base_return,<br/>
    int *error_base_return);<div class="spacer">
</div>
Status XmbufGetVersion(<br/>
    Display *dpy,<br/>
    int *major_version_return,<br/>
    int *minor_version_return);<div class="spacer">
</div>
int XmbufCreateBuffers(<br/>
    Display *dpy,<br/>
    Window window,<br/>
    int count,<br/>
    int update_action,<br/>
    int update_hint,<br/>
    Multibuffer *buffers_update);<div class="spacer">
</div>
void XmbufDestroyBuffers(<br/>
    Display *dpy,<br/>
    Window window);<div class="spacer">
</div>
void XmbufDisplayBuffers(<br/>
    Display *dpy,<br/>
    int count,<br/>
    Multibuffer *buffers,<br/>
    int min_delay,<br/>
    int max_delay);<div class="spacer">
</div>
Status XmbufGetWindowAttributes(<br/>
    Display *dpy,<br/>
    Window window,<br/>
    XmbufWindowAttributes *attributes);<div class="spacer">
</div>
void XmbufChangeWindowAttributes(<br/>
    Display *dpy,<br/>
    Window window,<br/>
    unsigned long valuemask,<br/>
    XmbufSetWindowAttributes *attributes);<div class="spacer">
</div>
Status XmbufGetBufferAttributes(<br/>
    Display *dpy,<br/>
    Multibuffer buffer,<br/>
    XmbufBufferAttributes *attributes);<div class="spacer">
</div>
void XmbufChangeBufferAttributes(<br/>
    Display *dpy,<br/>
    Multibuffer buffer,<br/>
    unsigned long valuemask,<br/>
    XmbufSetBufferAttributes *attributes);<div class="spacer">
</div>
Status XmbufGetScreenInfo(<br/>
    Display *dpy,<br/>
    Drawable drawable,<br/>
    int *nmono_return,<br/>
    XmbufBufferInfo **mono_info_return,<br/>
    int *nstereo_return,<br/>
    XmbufBufferInfo **stereo_info_return);<div class="spacer">
</div>
Window XmbufCreateStereoWindow(<br/>
    Display *dpy,<br/>
    Window parent,<br/>
    int x,<br/>
    int y,<br/>
    unsigned int width,<br/>
    unsigned int height,<br/>
    unsigned int border_width,<br/>
    int depth,<br/>
    unsigned int class,                 /* InputOutput, InputOnly*/<br/>
    Visual *visual,<br/>
    unsigned long valuemask,<br/>
    XSetWindowAttributes *attributes,<br/>
    Multibuffer *left_return,<br/>
    Multibuffer *right_return);<br/>
</div>
<div class="section">
<h1>STRUCTURES</h1><br/>
<i>Events:</i><br/>
typedef struct {<br/>
    int type;	/* of event */<br/>
    unsigned long serial;	/* # of last request processed by server */<br/>
    int send_event;	/* true if this came from a SendEvent request */<br/>
    Display *display;	/* Display the event was read from */<br/>
    Multibuffer buffer;	/* buffer of event */<br/>
    int state;	/* see Clobbered constants above */<br/>
} XmbufClobberNotifyEvent;<div class="spacer">
</div>
typedef struct {<br/>
    int type;	/* of event */<br/>
    unsigned long serial;	/* # of last request processed by server */<br/>
    int send_event;	/* true if this came from a SendEvent request */<br/>
    Display *display;	/* Display the event was read from */<br/>
    Multibuffer buffer;	/* buffer of event */<br/>
} XmbufUpdateNotifyEvent;<div class="spacer">
</div>
<i>Per-window attributes that can be got:</i><br/>
typedef struct {<br/>
    int displayed_index;	/* which buffer is being displayed */<br/>
    int update_action;	/* Undefined, Background, Untouched, Copied */<br/>
    int update_hint;	/* Frequent, Intermittent, Static */<br/>
    int window_mode;	/* Mono, Stereo */<br/>
    int nbuffers;	/* Number of buffers */<br/>
    Multibuffer *buffers;	/* Buffers */<br/>
} XmbufWindowAttributes;<div class="spacer">
</div>
<i>Per-window attributes that can be set:</i><br/>
typedef struct {<br/>
    int update_hint;	/* Frequent, Intermittent, Static */<br/>
} XmbufSetWindowAttributes;<div class="spacer">
</div>
<i>Per-buffer attributes that can be got:</i><br/>
typedef struct {<br/>
    Window window;	/* which window this belongs to */<br/>
    unsigned long event_mask;	/* events that have been selected */<br/>
    int buffer_index;	/* which buffer is this */<br/>
    int side;	/* Mono, Left, Right */<br/>
} XmbufBufferAttributes;<div class="spacer">
</div>
<i>Per-buffer attributes that can be set:</i><br/>
typedef struct {<br/>
    unsigned long event_mask;	/* events that have been selected */<br/>
} XmbufSetBufferAttributes;<div class="spacer">
</div>
<i>Per-screen buffer info (there will be lists of them):</i><br/>
typedef struct {<br/>
    VisualID visualid;	/* visual usable at this depth */<br/>
    int max_buffers;	/* most buffers for this visual */<br/>
    int depth;	/* depth of buffers to be created */<br/>
} XmbufBufferInfo;<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The application programming library for the  <i>X11 Double-Buffering, Multi-Buffering, and Stereo Extension</i> contains the interfaces described below. With the exception of  <i>XmbufQueryExtension</i>, if any of these routines are called with a display that does not support the extension, the ExtensionErrorHandler (which can be set with  <i>XSetExtensionErrorHandler</i> and functions the same way as  <i>XSetErrorHandler</i>) will be called and the function will then return.<div class="spacer">
</div>
<i>XmbufQueryExtension</i> returns  <i>True</i> if the multibuffering/stereo extension is available on the given display.  If the extension exists, the value of the first event code (which should be added to the event type constants  <i>MultibufferClobberNotify</i> and  <i>MultibufferUpdateNotify</i> to get the actual values) is stored into event_base_return and the value of the first error code (which should be added to the error type constant  <i>MultibufferBadBuffer</i> to get the actual value) is stored into error_base_return.<div class="spacer">
</div>
<i>XmbufGetVersion</i> gets the major and minor version numbers of the extension. The return value is zero if an error occurs or non-zero if no error happens.<div class="spacer">
</div>
<i>XmbufCreateBuffers</i> requests that &quot;count&quot; buffers be created with the given update_action and update_hint and be associated with the indicated window.  The number of buffers created is returned (zero if an error occurred) and buffers_update is filled in with that many Multibuffer identifiers.<div class="spacer">
</div>
<i>XmbufDestroyBuffers</i> destroys the buffers associated with the given window.<div class="spacer">
</div>
<i>XmbufDisplayBuffers</i> displays the indicated buffers their appropriate windows within max_delay milliseconds after min_delay milliseconds have passed. No two buffers may be associated with the same window or else a Match error is generated.<div class="spacer">
</div>
<i>XmbufGetWindowAttributes</i> gets the multibuffering attributes that apply to all buffers associated with the given window. The list of buffers returns may be freed with  <i>XFree</i>. Returns non-zero on success and zero if an error occurs.<div class="spacer">
</div>
<i>XmbufChangeWindowAttributes</i> sets the multibuffering attributes that apply to all buffers associated with the given window.  This is currently limited to the update_hint.<div class="spacer">
</div>
<i>XmbufGetBufferAttributes</i> gets the attributes for the indicated buffer. Returns non-zero on success and zero if an error occurs.<div class="spacer">
</div>
<i>XmbufChangeBufferAttributes</i> sets the attributes for the indicated buffer. This is currently limited to the event_mask.<div class="spacer">
</div>
<i>XmbufGetScreenInfo</i> gets the parameters controlling how mono and stereo windows may be created on the screen of the given drawable.  The numbers of sets of visual and depths are returned in nmono_return and nstereo_return.  If nmono_return is greater than zero, then mono_info_return is set to the address of an array of  <i>XmbufBufferInfo</i> structures describing the various visuals and depths that may be used.  Otherwise, mono_info_return is set to NULL.  Similarly, stereo_info_return is set according to nstereo_return.  The storage returned in mono_info_return and stereo_info_return may be released by  <i>XFree</i>. If no errors are encounted, non-zero will be returned.<div class="spacer">
</div>
<i>XmbufCreateStereoWindow</i> creates a stereo window in the same way that  <i>XCreateWindow</i> creates a mono window.  The buffer ids for the left and right buffers are returned in left_return and right_return, respectively.  If an extension error handler that returns is installed,  <i>None</i> will be returned if the extension is not available on this display.</div>
<div class="section">
<h1>PREDEFINED VALUES</h1> Update_action field:<br/>
<br/>
<i>MultibufferUpdateActionUndefined	</i><br/>
<i>MultibufferUpdateActionBackground</i><br/>
<i>MultibufferUpdateActionUntouched</i><br/>
<i>MultibufferUpdateActionCopied</i><br/>
<br/>
<div style="height: 1.00em;">
&#160;</div>
Update_hint field:<br/>
<br/>
<i>MultibufferUpdateHintFrequent		</i><br/>
<i>MultibufferUpdateHintIntermittent</i><br/>
<i>MultibufferUpdateHintStatic	</i><br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
Valuemask fields:<br/>
<br/>
<i>MultibufferWindowUpdateHint</i><br/>
<i>MultibufferBufferEventMask</i><br/>
<br/>
<div style="height: 1.00em;">
&#160;</div>
Mono vs. stereo and left vs. right:<br/>
<br/>
<i>MultibufferModeMono	</i><br/>
<i>MultibufferModeStereo</i><br/>
<i>MultibufferSideMono</i><br/>
<i>MultibufferSideLeft</i><br/>
<i>MultibufferSideRight		</i><br/>
<br/>
<div style="height: 1.00em;">
&#160;</div>
Clobber state:<br/>
<br/>
<i>MultibufferUnclobbered	</i><br/>
<i>MultibufferPartiallyClobbered</i><br/>
<i>MultibufferFullyClobbered	</i><br/>
<br/>
<div style="height: 1.00em;">
&#160;</div>
Event stuff:<br/>
<br/>
<i>MultibufferClobberNotifyMask</i><br/>
<i>MultibufferUpdateNotifyMask</i><br/>
<i>MultibufferClobberNotify</i><br/>
<i>MultibufferUpdateNotify</i><br/>
<i>MultibufferNumberEvents</i><br/>
<i>MultibufferBadBuffer</i><br/>
<i>MultibufferNumberErrors</i><br/>
<br/>
</div>
<div class="section">
<h1>BUGS</h1> This manual page needs more work.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>Extending X for Double Buffering, Multi-Buffering, and Stereo</i></div>
<table class="foot">
<tr>
<td class="foot-date">
libXext 1.3.0</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

