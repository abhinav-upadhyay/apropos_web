<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Class::Load(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Class::Load(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Class::Load(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Class::Load - a working (require &quot;Class::Name&quot;) and more</div>
<div class="section">
<h1>VERSION</h1> version 0.13</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    use Class::Load ':all';<br/>
<br/>
    try_load_class('Class::Name')<br/>
        or plan skip_all =&gt; &quot;Class::Name required to run these tests&quot;;<br/>
<br/>
    load_class('Class::Name');<br/>
<br/>
    is_class_loaded('Class::Name');<br/>
<br/>
    my $baseclass = load_optional_class('Class::Name::MightExist')<br/>
        ? 'Class::Name::MightExist'<br/>
        : 'Class::Name::Default';<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> &quot;require EXPR&quot; only accepts &quot;Class/Name.pm&quot; style module names, not &quot;Class::Name&quot;. How frustrating! For that, we provide &quot;load_class 'Class::Name'&quot;.<div class="spacer">
</div>
It's often useful to test whether a module can be loaded, instead of throwing an error when it's not available. For that, we provide &quot;try_load_class 'Class::Name'&quot;.<div class="spacer">
</div>
Finally, sometimes we need to know whether a particular class has been loaded. Asking %INC is an option, but that will miss inner packages and any class for which the filename does not correspond to the package name. For that, we provide &quot;is_class_loaded 'Class::Name'&quot;.</div>
<div class="section">
<h1>FUNCTIONS</h1><div class="subsection">
<h2>load_class Class::Name, \%options</h2> &quot;load_class&quot; will load &quot;Class::Name&quot; or throw an error, much like &quot;require&quot;.<div class="spacer">
</div>
If &quot;Class::Name&quot; is already loaded (checked with &quot;is_class_loaded&quot;) then it will not try to load the class. This is useful when you have inner packages which &quot;require&quot; does not check.<div class="spacer">
</div>
The %options hash currently accepts one key, &quot;-version&quot;. If you specify a version, then this subroutine will call &quot;Class::Name-&gt;VERSION( $options{-version} )&quot; internally, which will throw an error if the class's version is not equal to or greater than the version you requested.</div>
<div class="subsection">
<h2>try_load_class Class::Name, \%options -&gt; (0|1, error message)</h2> Returns 1 if the class was loaded, 0 if it was not. If the class was not loaded, the error will be returned as a second return value in list context.<div class="spacer">
</div>
Again, if &quot;Class::Name&quot; is already loaded (checked with &quot;is_class_loaded&quot;) then it will not try to load the class. This is useful when you have inner packages which &quot;require&quot; does not check.<div class="spacer">
</div>
Like &quot;load_class&quot;, you can pass a &quot;-version&quot; in %options. If the version is not sufficient, then this subroutine will return false.</div>
<div class="subsection">
<h2>is_class_loaded Class::Name, \%options -&gt; 0|1</h2> This uses a number of heuristics to determine if the class &quot;Class::Name&quot; is loaded. There heuristics were taken from Class::MOP's old pure-perl implementation.<div class="spacer">
</div>
Like &quot;load_class&quot;, you can pass a &quot;-version&quot; in %options. If the version is not sufficient, then this subroutine will return false.</div>
<div class="subsection">
<h2>load_first_existing_class Class::Name, \%options, ...</h2> This attempts to load the first loadable class in the list of classes given. Each class name can be followed by an options hash reference.<div class="spacer">
</div>
If any one of the classes loads and passes the optional version check, that class name will be returned. If  <i>none</i> of the classes can be loaded (or none pass their version check), then an error will be thrown.<div class="spacer">
</div>
If, when attempting to load a class, it fails to load because of a syntax error, then an error will be thrown immediately.</div>
<div class="subsection">
<h2>load_optional_class Class::Name, \%options -&gt; 0|1</h2> &quot;load_optional_class&quot; is a lot like &quot;try_load_class&quot;, but also a lot like &quot;load_class&quot;.<div class="spacer">
</div>
If the class exists, and it works, then it will return 1. If you specify a version in %options, then the version check must succeed or it will return 0.<div class="spacer">
</div>
If the class doesn't exist, and it appears to not exist on disk either, it will return 0.<div class="spacer">
</div>
If the class exists on disk, but loading from disk results in an error ( i.e.: a syntax error ), then it will &quot;croak&quot; with that error.<div class="spacer">
</div>
This is useful for using if you want a fallback module system, i.e.:<div class="spacer">
</div>
<br/>
    my $class = load_optional_class($foo) ? $foo : $default;<br/>
<div class="spacer">
</div>
That way, if $foo does exist, but can't be loaded due to error, you won't get the behaviour of it simply not existing.</div>
</div>
<div class="section">
<h1>SEE ALSO</h1><dl>
<dt>
http://blog.fox.geek.nz/2010/11/searching-design-spec-for-ultimate.html &lt;http://blog.fox.geek.nz/2010/11/searching-design-spec-for-ultimate.html&gt;</dt>
<dd>
This blog post is a good overview of the current state of the existing modules for loading other modules in various ways.</dd>
</dl>
<dl>
<dt>
http://blog.fox.geek.nz/2010/11/handling-optional-requirements-with.html &lt;http://blog.fox.geek.nz/2010/11/handling-optional-requirements-with.html&gt;</dt>
<dd>
This blog post describes how to handle optional modules with Class::Load.</dd>
</dl>
<dl>
<dt>
&lt;http://d.hatena.ne.jp/tokuhirom/20110202/1296598578&gt;</dt>
<dd>
This Japanese blog post describes why DBIx::Skinny now uses Class::Load over its competitors.</dd>
</dl>
<dl>
<dt>
Moose, Jifty, Prophet, etc</dt>
<dd>
This module was designed to be used anywhere you have &quot;if (eval &quot;require $module&quot;; 1)&quot;, which occurs in many large projects.</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> Shawn M Moore &lt;sartak at bestpractical.com&gt;</div>
<div class="section">
<h1>COPYRIGHT AND LICENSE</h1> This software is copyright (c) 2011 by Shawn M Moore.<div class="spacer">
</div>
This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-12-22</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

