<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
File::stat(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
File::stat(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
File::stat(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> File::stat - by-name interface to Perl's built-in stat() functions</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 use File::stat;<br/>
 $st = stat($file) or die &quot;No $file: $!&quot;;<br/>
 if ( ($st-&gt;mode &amp; 0111) &amp;&amp; $st-&gt;nlink &gt; 1) ) {<br/>
     print &quot;$file is executable with lotsa links\n&quot;;<br/>
 } <br/>
<br/>
 if ( -x $st ) {<br/>
     print &quot;$file is executable\n&quot;;<br/>
 }<br/>
<br/>
 use Fcntl &quot;S_IRUSR&quot;;<br/>
 if ( $st-&gt;cando(S_IRUSR, 1) ) {<br/>
     print &quot;My effective uid can read $file\n&quot;;<br/>
 }<br/>
<br/>
 use File::stat qw(:FIELDS);<br/>
 stat($file) or die &quot;No $file: $!&quot;;<br/>
 if ( ($st_mode &amp; 0111) &amp;&amp; ($st_nlink &gt; 1) ) {<br/>
     print &quot;$file is executable with lotsa links\n&quot;;<br/>
 }<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module's default exports override the core  <i>stat()</i> and  <i>lstat()</i> functions, replacing them with versions that return &quot;File::stat&quot; objects.  This object has methods that return the similarly named structure field name from the  <i>stat</i>(2) function; namely, dev, ino, mode, nlink, uid, gid, rdev, size, atime, mtime, ctime, blksize, and blocks.<div class="spacer">
</div>
As of version 1.02 (provided with perl 5.12) the object provides &quot;-X&quot; overloading, so you can call filetest operators (&quot;-f&quot;, &quot;-x&quot;, and so on) on it. It also provides a &quot;-&gt;cando&quot; method, called like<div class="spacer">
</div>
<br/>
 $st-&gt;cando( ACCESS, EFFECTIVE )<br/>
<div class="spacer">
</div>
where <i>ACCESS</i> is one of &quot;S_IRUSR&quot;, &quot;S_IWUSR&quot; or &quot;S_IXUSR&quot; from the Fcntl module, and  <i>EFFECTIVE</i> indicates whether to use effective (true) or real (false) ids. The method interprets the &quot;mode&quot;, &quot;uid&quot; and &quot;gid&quot; fields, and returns whether or not the current process would be allowed the specified access.<div class="spacer">
</div>
If you don't want to use the objects, you may import the &quot;-&gt;cando&quot; method into your namespace as a regular function called &quot;stat_cando&quot;. This takes an arrayref containing the return values of &quot;stat&quot; or &quot;lstat&quot; as its first argument, and interprets it for you.<div class="spacer">
</div>
You may also import all the structure fields directly into your namespace as regular variables using the :FIELDS import tag.  (Note that this still overrides your  <i>stat()</i> and <i>lstat()</i> functions.)  Access these fields as variables named with a preceding &quot;st_&quot; in front their method names. Thus, &quot;$stat_obj-&gt;dev()&quot; corresponds to $st_dev if you import the fields.<div class="spacer">
</div>
To access this functionality without the core overrides, pass the &quot;use&quot; an empty import list, and then access function functions with their full qualified names. On the other hand, the built-ins are still available via the &quot;CORE::&quot; pseudo-package.</div>
<div class="section">
<h1>BUGS</h1> As of Perl 5.8.0 after using this module you cannot use the implicit $_ or the special filehandle &quot;_&quot; with  <i>stat()</i> or <i>lstat()</i>, trying to do so leads into strange errors.  The workaround is for $_ to be explicit<div class="spacer">
</div>
<br/>
    my $stat_obj = stat $_;<br/>
<div class="spacer">
</div>
and for &quot;_&quot; to explicitly populate the object using the unexported and undocumented  <i>populate()</i> function with <i>CORE::stat()</i>:<div class="spacer">
</div>
<br/>
    my $stat_obj = File::stat::populate(CORE::stat(_));<br/>
</div>
<div class="section">
<h1>ERRORS</h1><dl>
<dt>
-%s is not implemented on a File::stat object</dt>
<dd>
The filetest operators &quot;-t&quot;, &quot;-T&quot; and &quot;-B&quot; are not implemented, as they require more information than just a stat buffer.</dd>
</dl>
</div>
<div class="section">
<h1>WARNINGS</h1> These can all be disabled with<div class="spacer">
</div>
<br/>
    no warnings &quot;File::stat&quot;;<br/>
<dl>
<dt>
File::stat ignores use filetest 'access'</dt>
<dd>
You have tried to use one of the &quot;-rwxRWX&quot; filetests with &quot;use filetest 'access'&quot; in effect. &quot;File::stat&quot; will ignore the pragma, and just use the information in the &quot;mode&quot; member as usual.</dd>
</dl>
<dl>
<dt>
File::stat ignores VMS ACLs</dt>
<dd>
VMS systems have a permissions structure that cannot be completely represented in a stat buffer, and unlike on other systems the builtin filetest operators respect this. The &quot;File::stat&quot; overloads, however, do not, since the information required is not available.</dd>
</dl>
</div>
<div class="section">
<h1>NOTE</h1> While this class is currently implemented using the Class::Struct module to build a struct-like class, you shouldn't rely upon this.</div>
<div class="section">
<h1>AUTHOR</h1> Tom Christiansen</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-19</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

