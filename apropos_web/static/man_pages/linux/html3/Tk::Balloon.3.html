<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Balloon(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Balloon(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Balloon(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Tk::Balloon - pop up help balloons.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
    use Tk::Balloon;<br/>
    ...<br/>
    $b = $top-&gt;Balloon(-statusbar =&gt; $status_bar_widget);<br/>
<br/>
    # Normal Balloon:<br/>
    $b-&gt;attach($widget,<br/>
               -balloonmsg =&gt; &quot;Balloon help message&quot;,<br/>
               -statusmsg =&gt; &quot;Status bar message&quot;);<br/>
<br/>
    # Balloon attached to entries in a menu widget:<br/>
    $b-&gt;attach($menu, -state =&gt; 'status',<br/>
                      -msg =&gt; ['first menu entry',<br/>
                               'second menu entry',<br/>
                               ...<br/>
                              ],<br/>
              );<br/>
<br/>
    # Balloon attached to individual items in a canvas widget:<br/>
    $b-&gt;attach($canvas, -balloonposition =&gt; 'mouse',<br/>
                        -msg =&gt; {'item1' =&gt; 'msg1',<br/>
                                 'tag2'  =&gt; 'msg2',<br/>
                                  ...<br/>
                                },<br/>
              );<br/>
<br/>
    # Balloon attached to items in a listbox widget:<br/>
    $b-&gt;attach($listbox, -balloonposition =&gt; 'mouse',<br/>
                         -msg =&gt; ['first listbox element',<br/>
                                  '2nd listbox element',<br/>
                                  ...<br/>
                                 ],<br/>
              );<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <b>Balloon</b> provides the framework to create and attach help balloons to various widgets so that when the mouse pauses over the widget for more than a specified amount of time, a help balloon is popped up.<div class="subsection">
<h2>Balloons and Menus or Listboxes</h2> If the balloon is attached to a  <b>Menu</b> or <b>Listbox</b> widget and the message arguments are array references, then each element in the array will be the message corresponding to a menu entry or listbox element. The balloon message will then be shown for the entry which the mouse pauses over. Otherwise it is assumed that the balloon is to be attached to the  <b>Menu</b> or <b>Listbox</b> as a whole. You can have separate status and balloon messages just like normal balloons.</div>
<div class="subsection">
<h2>Balloons and Canvases</h2> If the balloon is attached to a  <b>Canvas</b> widget and the message arguments are hash references, then each hash key should correspond to a canvas item ID or tag and the associated value will correspond to the message for that canvas item. The balloon message will then be shown for the current item (the one at the position of the mouse). Otherwise it is assumed that the balloon is to be attached to the  <b>Canvas</b> as a whole. You can have separate status and balloon messages just like normal balloons.</div>
<div class="subsection">
<h2>Balloon Position</h2> By default, the balloon pops up at the lower right side of the client. If it would extend outside the lower screen border, its positioned at the upper right side. If it would extend outside the right screen border it's shown on the lower left side of the client. If it would extend outside both the lower and the right screen border, it's positioned at the upper left side of the client. Thus, the little arrow always points to the attached client.</div>
</div>
<div class="section">
<h1>OPTIONS</h1>  <b>Balloon</b> accepts all of the options that the <b>Frame</b> widget accepts. In addition, the following options are also recognized.<dl>
<dt>
<b>-initwait</b></dt>
<dd>
Specifies the amount of time to wait without activity before popping up a help balloon. Specified in milliseconds. Defaults to 350 milliseconds. This applies to both the popped up balloon and the status bar message.</dd>
</dl>
<dl>
<dt>
<b>-state</b></dt>
<dd>
Can be one of <b>'balloon'</b>, <b>'status'</b>, <b>'both'</b> or <b>'none'</b> indicating that the help balloon, status bar help, both or none respectively should be activated when the mouse pauses over the client widget. Default is  <b>'both'</b>.</dd>
</dl>
<dl>
<dt>
<b>-statusbar</b></dt>
<dd>
Specifies the widget used to display the status message. This widget should accept the  <b>-text</b> option and is typically a  <b>Label</b>. If the widget accepts the <b>-textvariable</b> option and that option is defined then it is used instead of the  <b>-text</b> option.</dd>
</dl>
<dl>
<dt>
<b>-balloonposition</b></dt>
<dd>
Can be one of <b>'widget'</b> or <b>'mouse'</b>. It controls where the balloon will popup.  <b>'widget'</b> makes the balloon appear at the lower right corner of the widget it is attached to (default), and  <b>'mouse'</b> makes the balloon appear below and to the right of the current mouse position.</dd>
</dl>
<dl>
<dt>
<b>-postcommand</b></dt>
<dd>
This option takes a <b>CODE</b> reference which will be executed before the balloon and statusbar messages are displayed and should return a true or false value to indicate whether you want the balloon to be displayed or not. This also lets you control where the balloon is positioned by returning a true value that looks like  <i>X,Y</i> (matches this regular expression: &quot;/^(\d+),(\d+)$/&quot;). If the postcommand returns a value that matches that re then those coordinates will be used as the position to post the balloon.  <i>Warning:</i> this subroutine should return quickly or the balloon response will appear slow.</dd>
</dl>
<dl>
<dt>
<b>-cancelcommand</b></dt>
<dd>
This option takes a <b>CODE</b> reference which will be executed before the balloon and statusbar messages are canceled and should return a true or false value to indicate whether you want the balloon to be canceled or not.  <i>Warning:</i> this subroutine should return quickly or the balloon response will appear slow.</dd>
</dl>
<dl>
<dt>
<b>-motioncommand</b></dt>
<dd>
This option takes a <b>CODE</b> reference which will be executed for any motion event and should return a true or false value to indicate whether the currently displayed balloon should be canceled (deactivated). If it returns true then the balloon will definitely be canceled, if it returns false then it may still be canceled depending the internal rules.  <i>Note:</i> a new balloon may be posted after the <b>-initwait</b> time interval, use the  <b>-postcommand</b> option to control that behavior.  <i>Warning:</i> the subroutine should be extremely fast or the balloon response will appear slow and consume a lot of CPU time (it is executed every time the mouse moves over the widgets the balloon is attached to).</dd>
</dl>
<dl>
<dt>
<b>-numscreens</b></dt>
<dd>
This option accepts an integer 1 or greater. This option should be used to avoid disjointed balloons across multiple screens in single logical sceen (SLS) mode. This only currently works in the horizontal direction. Example: If you are running dual screens in SLS mode then you would set this value to 2. Default value is 1.</dd>
</dl>
</div>
<div class="section">
<h1>METHODS</h1> The  <b>Balloon</b> widget supports only three non-standard methods:<div class="subsection">
<h2><b>attach(</b><i>widget</i>, <i>options</i><b>)</b></h2> Attaches the widget indicated by  <i>widget</i> to the help system. The allowed options are:<dl>
<dt>
<b>-statusmsg</b></dt>
<dd>
The argument is the message to be shown on the status bar when the mouse pauses over this client. If this is not specified, but  <b>-msg</b> is specified then the message displayed on the status bar is the same as the argument for  <b>-msg</b>. If you give it a scalar reference then it is dereferenced before being displayed. Useful if the postcommand is used to change the message.</dd>
</dl>
<dl>
<dt>
<b>-balloonmsg</b></dt>
<dd>
The argument is the message to be displayed in the balloon that will be popped up when the mouse pauses over this client. As with  <b>-statusmsg</b> if this is not specified, then it takes its value from the  <b>-msg</b> specification if any. If neither <b>-balloonmsg</b> nor  <b>-msg</b> are specified, or they are the empty string then no balloon is popped up instead of an empty balloon. If you give it a scalar reference then it is dereferenced before being displayed. Useful if the postcommand is used to change the message.</dd>
</dl>
<dl>
<dt>
<b>-msg</b></dt>
<dd>
The catch-all for <b>-statusmsg</b> and <b>-balloonmsg</b>. This is a convenient way of specifying the same message to be displayed in both the balloon and the status bar for the client.</dd>
</dl>
<dl>
<dt>
<b>-initwait</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>-state</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>-statusbar</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>-balloonposition</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>-postcommand</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>-cancelcommand</b></dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<b>-motioncommand</b></dt>
<dd>
These options allow you to override the balloon's default value for those option for some of the widgets it is attached to. It accepts the same values as above and will default to the  <b>Balloon</b>'s value.</dd>
</dl>
</div>
<div class="subsection">
<h2><b>detach(</b><i>widget</i><b>)</b></h2> Detaches the specified  <i>widget</i> from the help system.</div>
<div class="subsection">
<h2><b>destroy</b></h2> Destroys the specified balloon.</div>
</div>
<div class="section">
<h1>ADVERTISED SUBWIDGETS</h1> The balloon label is advertised as &quot;message&quot;.</div>
<div class="section">
<h1>EXAMPLES</h1> See the balloon demo included with the widget demo script that came with the distribution for examples on various ways to use balloons.</div>
<div class="section">
<h1>NOTES</h1> Because of the overhead associated with each balloon you create (from tracking the mouse movement to know when to activate and deactivate them) you will see the best performance (low CPU consumption) if you create as few balloons as possible and attach them to as many widgets as you can.  In other words, don't create a balloon for each widget you want to attach one to.</div>
<div class="section">
<h1>CAVEATS</h1> Pressing any button will deactivate (cancel) the current balloon, if one exists. You can usually make the balloon reappear by moving the mouse a little. Creative use of the 3 command options can help you out also. If the mouse is over the balloon when a menu is unposted then the balloon will remain until you move off of it.</div>
<div class="section">
<h1>BUGS</h1> If using balloons attached to listbox entries or canvas items in a scrolled widget, then the subwidget have to be used:<div class="spacer">
</div>
<br/>
    $balloon-&gt;attach($w-&gt;Subwidget(&quot;scrolled&quot;), -msg =&gt; ...);<br/>
</div>
<div class="section">
<h1>AUTHORS</h1>  <b>Rajappa Iyer</b> &lt;rsi@earthling.net&gt; did the original coding.<div class="spacer">
</div>
<b>Jason A. Smith</b> &lt;smithj4@rpi.edu&gt; added support for menus and made some other enhancements.<div class="spacer">
</div>
<b>Slaven Rezic</b> &lt;srezic@cpan.org&gt; added support for canvas items.<div class="spacer">
</div>
<b>Gerhard Petrowitsch</b> &lt;gerhard@petrowitsch.de&gt; added intelligent positioning<div class="spacer">
</div>
<b>Jack Dunnigan</b> &lt;dunniganj@cpan.org&gt; Made positioning <i>more</i> intelligent and added support for multiple monitors under single logical screen.</div>
<div class="section">
<h1>HISTORY</h1> The code and documentation was derived from Balloon.tcl from the Tix4.0 distribution by Ioi Lam and modified by the above mentioned authors. This code may be redistributed under the same terms as Perl.</div>
<table class="foot">
<tr>
<td class="foot-date">
2007-02-10</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

