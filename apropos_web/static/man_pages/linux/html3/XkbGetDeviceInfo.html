<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbGetDeviceInfo(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbGetDeviceInfo(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbGetDeviceInfo(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbGetDeviceInfo - Determine whether the X server allows Xkb access to particular capabilities of input devices other than the core X keyboard, or to determine the status of indicator maps, indicator names or button actions on a non-KeyClass extension device</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>XkbDeviceInfoPtr XkbGetDeviceInfo</b> <b>(Display *</b><i>dpy</i><b>,</b> <b>unsigned int </b><i>which</i><b>,</b> <b>unsigned int </b><i>device_spec</i><b>,</b> <b>unsigned int </b><i>ind_class</i><b>,</b> <b>unsigned int </b><i>ind_id</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- dpy</i></dt>
<dd>
connection to X server</dd>
</dl>
<dl>
<dt>
<i>- which</i></dt>
<dd>
mask indicating information to return</dd>
</dl>
<dl>
<dt>
<i>- device_spec</i></dt>
<dd>
device ID, or XkbUseCoreKbd</dd>
</dl>
<dl>
<dt>
<i>- ind_class</i></dt>
<dd>
feedback class for indicator requests</dd>
</dl>
<dl>
<dt>
<i>- ind_id</i></dt>
<dd>
feedback ID for indicator requests</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> To determine whether the X server allows Xkb access to particular capabilities of input devices other than the core X keyboard, or to determine the status of indicator maps, indicator names or button actions on a non-KeyClass extension device, use <i>XkbGetDeviceInfo.</i><div style="height: 1.00em;">
&#160;</div>
<i>XkbGetDeviceInfo</i> returns information about the input device specified by <i>device_spec.</i> Unlike the <i>device_spec</i> parameter of most Xkb functions, <i>device_spec</i> does not need to be a keyboard device. It must, however, indicate either the core keyboard or a valid X Input Extension device.<div style="height: 1.00em;">
&#160;</div>
The <i>which</i> parameter is a mask specifying optional information to be returned. It is an inclusive OR of one or more of the values from Table 1 and causes the returned XkbDeviceInfoRec to contain values for the corresponding fields specified in the table.<div style="height: 1.00em;">
&#160;</div>
<br/>
                         Table 1 XkbDeviceInfoRec Mask Bits                        <br/>
____________________________________________________________________________________<br/>
Name                         XkbDeviceInfoRec Value     Capability If Set<br/>
                             Fields Effected            <br/>
____________________________________________________________________________________<br/>
XkbXI_KeyboardsMask                           (1L &lt;&lt;0) Clients can use all<br/>
                                                       Xkb requests and events<br/>
                                                       with KeyClass devices <br/>
                                                       supported by the input<br/>
                                                       device extension.<div class="spacer">
</div>
<br/>
XkbXI_ButtonActionsMask       num_btns        (1L &lt;&lt;1) Clients can assign key <br/>
                              btn_acts                 actions to buttons <br/>
                                                       non-KeyClass input<br/>
                                                       extension devices.<br/>
                           <br/>
XkbXI_IndicatorNamesMask      leds-&gt;names     (1L &lt;&lt;2) Clients can assign<br/>
                                                       names to indicators on<br/>
                                                       non-KeyClass input<br/>
                                                       extension devices.<br/>
                                                             <br/>
XkbXI_IndicatorMapsMask       leds-&gt;maps      (1L &lt;&lt;3) Clients can assign<br/>
                                                       indicator maps to<br/>
                                                       indicators on <br/>
                                                       non-KeyClass input<br/>
                                                       extension devices.<div class="spacer">
</div>
<br/>
XkbXI_IndicatorStateMask      leds-&gt;state     (1L &lt;&lt;4) Clients can request <br/>
                                                       the status of indicators<br/>
                                                       on non-KeyClass input<br/>
                                                       extension devices.<div class="spacer">
</div>
<br/>
XkbXI_IndicatorsMask          sz_leds         (0x1c)   XkbXI_IndicatorNamesMask |<br/>
                              num_leds                 XkbXI_IndicatorMapsMask |<br/>
                              leds-&gt;*                  XkbXI_IndicatorStateMask<div class="spacer">
</div>
<br/>
XkbXI_UnsupportedFeaturesMask unsupported     (1L &lt;&lt;15)<div class="spacer">
</div>
<br/>
XkbXI_AllDeviceFeaturesMask   Those selected  (0x1e)   XkbXI_IndicatorsMask |<br/>
                              by Value Column          XkbSI_ButtonActionsMask<br/>
                              masks <div class="spacer">
</div>
<br/>
XkbXI_AllFeaturesMask         Those selected  (0x1f)   XkbSI_AllDeviceFeaturesMask |<br/>
                              by Value Column          XkbSI_KeyboardsMask<br/>
                              masks<div class="spacer">
</div>
<br/>
XkbXI_AllDetailsMask          Those selected  (0x801f) XkbXI_AllFeaturesMask |<br/>
                              by Value column          XkbXI_UnsupportedFeaturesMask<br/>
                              masks<br/>
<div style="height: 1.00em;">
&#160;</div>
The XkbDeviceInfoRec returned by <i>XkbGetDeviceInfo</i> always has values for <i>name</i> (may be a null string, &quot;&quot;), <i>type, supported, unsupported, has_own_state, dflt_kbd_fd,</i> and <i>dflt_kbd_fb.</i> Other fields are filled in as specified by <i>which.</i><div style="height: 1.00em;">
&#160;</div>
Upon return, the <i>supported</i> field will be set to the inclusive OR of zero or more bits from Table 1; each bit set indicates an optional Xkb extension device feature supported by the server implementation, and a client may modify the associated behavior.<div style="height: 1.00em;">
&#160;</div>
If the XkbButtonActionsMask bit is set in <i>which,</i> the XkbDeviceInfoRec returned will have the button actions <i>(btn_acts</i> field) filled in for all buttons.<div style="height: 1.00em;">
&#160;</div>
If <i>which</i> includes one of the bits in XkbXI_IndicatorsMask, the feedback class of the indicators must be specified in <i>ind_class,</i> and the feedback ID of the indicators must be specified in <i>ind_id.</i> If the request does not include any of the bits in XkbXI_IndicatorsMask, the <i>ind_class</i> and <i>ind_id</i> parameters are ignored. The class and ID can be obtained via the input device extension <i>XListInputDevices</i> request.<div style="height: 1.00em;">
&#160;</div>
If any of the XkbXI_IndicatorsMask bits are set in <i>which,</i> the XkbDeviceInfoRec returned will have filled in the portions of the <i>leds</i> structure corresponding to the indicator feedback identified by <i>ind_class</i> and <i>ind_id.</i> The <i>leds</i> vector of the XkbDeviceInfoRec is allocated if necessary and <i>sz_leds</i> and <i>num_leds</i> filled in. The <i>led_class, led_id</i> and <i>phys_indicators</i> fields of the <i>leds</i> entry corresponding to <i>ind_class</i> and <i>ind_id</i> are always filled in. If <i>which</i> contains XkbXI_IndicatorNamesMask, the <i>names_present</i> and <i>names</i> fields of the <i>leds</i> structure corresponding to <i>ind_class</i> and <i>ind_id</i> are returned. If <i>which</i> contains XkbXI_IndicatorStateMask, the corresponding <i>state</i> field is updated. If <i>which</i> contains XkbXI_IndicatorMapsMask, the <i>maps_present</i> and <i>maps</i> fields are updated.<div style="height: 1.00em;">
&#160;</div>
Xkb provides convenience functions to request subsets of the information available via <i>XkbGetDeviceInfo.</i> These convenience functions mirror some of the mask bits. The functions all take an XkbDeviceInfoPtr as an input argument and operate on the X Input Extension device specified by the <i>device_spec</i> field of the structure. Only the parts of the structure indicated in the function description are updated. The XkbDeviceInfoRec structure used in the function call can be obtained by calling <i>XkbGetDeviceInfo</i> or can be allocated by calling <i>XkbAllocDeviceInfo.</i></div>
<div class="section">
<h1>STRUCTURES</h1> Information about X Input Extension devices is transferred between a client program and the Xkb extension in an XkbDeviceInfoRec structure:<div class="spacer">
</div>
<br/>
typedef struct {<br/>
    char *               name;          /&#8727; name for device */<br/>
    Atom                 type;          /&#8727; name for class of devices */<br/>
    unsigned short       device_spec;   /&#8727; device of interest */<br/>
    Bool                 has_own_state; /&#8727; True=&gt;this device has its own state */<br/>
    unsigned short       supported;     /&#8727; bits indicating supported capabilities */<br/>
    unsigned short       unsupported;   /&#8727; bits indicating unsupported capabilities */<br/>
    unsigned short       num_btns;      /&#8727; number of entries in btn_acts */<br/>
    XkbAction *          btn_acts;      /&#8727; button actions */<br/>
    unsigned short       sz_leds;       /&#8727; total number of entries in LEDs vector */<br/>
    unsigned short       num_leds;      /&#8727; number of valid entries in LEDs vector */<br/>
    unsigned short       dflt_kbd_fb;   /&#8727; input extension ID of default (core kbd) indicator */<br/>
    unsigned short       dflt_led_fb;   /&#8727; input extension ID of default indicator feedback */<br/>
    XkbDeviceLedInfoPtr  leds;          /&#8727; LED descriptions */<br/>
} XkbDeviceInfoRec, *XkbDeviceInfoPtr;<br/>
    <br/>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>XkbAllocDeviceInfo</b>(3), <b>XListInputDevices</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

