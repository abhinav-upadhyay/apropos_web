<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
LDAP_PARSE_RESULT(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LDAP_PARSE_RESULT(3)</td>
<td class="head-vol">
Library Functions Manual</td>
<td class="head-rtitle">
LDAP_PARSE_RESULT(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ldap_parse_result - Parsing results</div>
<div class="section">
<h1>LIBRARY</h1> OpenLDAP LDAP (libldap, -lldap)</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;ldap.h&gt;<div class="spacer">
</div>
<br/>
int ldap_parse_result( LDAP *ld, LDAPMessage *result,<br/>
	int *errcodep, char **matcheddnp, char **errmsgp,<br/>
	char ***referralsp, LDAPControl ***serverctrlsp,<br/>
	int freeit )<div class="spacer">
</div>
<br/>
int ldap_parse_sasl_bind_result( LDAP *ld, LDAPMessage *result,<br/>
	struct berval **servercredp, int freeit )<div class="spacer">
</div>
<br/>
int ldap_parse_extended_result( LDAP *ld, LDAPMessage *result,<br/>
	char **retoidp, struct berval **retdatap, int freeit )</div>
<div class="section">
<h1>DESCRIPTION</h1> These routines are used to extract information from a result message. They will operate on the first result message in a chain of search results (skipping past other message types). They take the  <i>result</i> as returned by a call to <b>ldap_result</b>(3), <b>ldap_search_s</b>(3) or <b>ldap_search_st</b>(3). In addition to <b>ldap_parse_result()</b>, the routines <b>ldap_parse_sasl_bind_result()</b> and <b>ldap_parse_extended_result()</b> are used to get all the result information from SASL bind and extended operations.<div class="spacer">
</div>
The <i>errcodep</i> parameter will be filled in with the result code from the result message.<div class="spacer">
</div>
The server might supply a matched DN string in the message indicating how much of a name in a request was recognized. The  <i>matcheddnp</i> parameter will be filled in with this string if supplied, else it will be NULL. If a string is returned, it should be freed using <b>ldap_memfree</b>(3).<div class="spacer">
</div>
The <i>errmsgp</i> parameter will be filled in with the error message field from the parsed message. This string should be freed using <b>ldap_memfree</b>(3).<div class="spacer">
</div>
The <i>referralsp</i> parameter will be filled in with an allocated array of referral strings from the parsed message. This array should be freed using <b>ldap_memvfree</b>(3). If no referrals were returned,  <i>*referralsp</i> is set to NULL.<div class="spacer">
</div>
The <i>serverctrlsp</i> parameter will be filled in with an allocated array of controls copied from the parsed message. The array should be freed using <b>ldap_controls_free</b>(3). If no controls were returned,  <i>*serverctrlsp</i> is set to NULL.<div class="spacer">
</div>
The <i>freeit</i> parameter determines whether the parsed message is freed or not after the extraction. Any non-zero value will make it free the message. The <b>ldap_msgfree</b>(3) routine can also be used to free the message later.<div class="spacer">
</div>
For SASL bind results, the <i>servercredp</i> parameter will be filled in with an allocated berval structure containing the credentials from the server if present. The structure should be freed using <b>ber_bvfree</b>(3).<div class="spacer">
</div>
For extended results, the <i>retoidp</i> parameter will be filled in with the dotted-OID text representation of the name of the extended operation response. The string should be freed using <b>ldap_memfree</b>(3). If no OID was returned,  <i>*retoidp</i> is set to NULL.<div class="spacer">
</div>
For extended results, the <i>retdatap</i> parameter will be filled in with a pointer to a berval structure containing the data from the extended operation response. The structure should be freed using <b>ber_bvfree</b>(3). If no data were returned,  <i>*retdatap</i> is set to NULL.<div class="spacer">
</div>
For all the above result parameters, NULL values can be used in calls in order to ignore certain fields.</div>
<div class="section">
<h1>ERRORS</h1> Upon success LDAP_SUCCESS is returned. Otherwise the values of the result parameters are undefined.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>ldap</b>(3), <b>ldap_result</b>(3), <b>ldap_search</b>(3), <b>ldap_memfree</b>(3), <b>ldap_memvfree</b>(3), <b>ldap_get_values</b>(3), <b>ldap_controls_free</b>(3), <b>lber-types</b>(3)</div>
<div class="section">
<h1>ACKNOWLEDGEMENTS</h1> <b>OpenLDAP Software</b> is developed and maintained by The OpenLDAP Project &lt;http://www.openldap.org/&gt;. <b>OpenLDAP Software</b> is derived from University of Michigan LDAP 3.3 Release.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011/11/24</td>
<td class="foot-os">
OpenLDAP </td>
</tr>
</table>
</div>
</body>
</html>

