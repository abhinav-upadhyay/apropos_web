<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
curl_formget(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
curl_formget(3)</td>
<td class="head-vol">
libcurl Manual</td>
<td class="head-rtitle">
curl_formget(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> curl_formget - serialize a previously built multipart/formdata HTTP POST chain</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;curl/curl.h&gt;</b><div class="spacer">
</div>
<br/>
void curl_formget(struct curl_httppost * form, void *userp,<br/>
                  curl_formget_callback append );</div>
<div class="section">
<h1>DESCRIPTION</h1> curl_formget() is used to serialize data previously built/appended with  <i>curl_formadd(3)</i>. Accepts a void pointer as second argument named  <i>userp</i> which will be passed as the first argument to the curl_formget_callback function.<div style="height: 1.00em;">
&#160;</div>
<b>typedef size_t (*curl_formget_callback)(void *</b><i>userp,</i><b> const char *</b><i>buf,</i> <b> size_t </b><i>len</i><b>);</b><div style="height: 1.00em;">
&#160;</div>
The curl_formget_callback will be executed for each part of the HTTP POST chain. The character buffer passed to the callback must not be freed. The callback should return the buffer length passed to it on success.<div style="height: 1.00em;">
&#160;</div>
If the <b>CURLFORM_STREAM</b> option is used in the formpost, it will prevent  <i>curl_formget(3)</i> from working until you've performed the actual HTTP request as only then will libcurl get the actual read callback to use!</div>
<div class="section">
<h1>RETURN VALUE</h1> 0 means everything was ok, non-zero means an error occurred</div>
<div class="section">
<h1>EXAMPLE</h1><div class="spacer">
</div>
<br/>
 size_t print_httppost_callback(void *arg, const char *buf, size_t len)<br/>
 {<br/>
   fwrite(buf, len, 1, stdout);<br/>
   (*(size_t *) arg) += len;<br/>
   return len;<br/>
 }<div class="spacer">
</div>
<br/>
 size_t print_httppost(struct curl_httppost *post)<br/>
 {<br/>
   size_t total_size = 0;<br/>
   if(curl_formget(post, &amp;total_size, print_httppost_callback)) {<br/>
     return (size_t) -1;<br/>
   }<br/>
   return total_size;<br/>
 }</div>
<div class="section">
<h1>AVAILABILITY</h1> This function was added in libcurl 7.15.5</div>
<div class="section">
<h1>SEE ALSO</h1> <b>curl_formadd</b>(3) </div>
<table class="foot">
<tr>
<td class="foot-date">
20 June 2006</td>
<td class="foot-os">
libcurl 7.15.5</td>
</tr>
</table>
</div>
</body>
</html>

