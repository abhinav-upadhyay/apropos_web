<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
TIFFWriteScanline(3TIFF)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
TIFFWriteScanline(3TIFF)</td>
<td class="head-vol">
</td>
<td class="head-rtitle">
TIFFWriteScanline(3TIFF)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> TIFFWriteScanline - write a scanline to an open <small>TIFF</small> file</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;tiffio.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<b>int TIFFWriteScanline(TIFF *</b><i>tif</i><b>, tdata_t </b><i>buf</i><b>, uint32 </b><i>row</i><b>, tsample_t </b><i>sample</i><b>)</b></div>
<div class="section">
<h1>DESCRIPTION</h1> Write data to a file at the specified row. The <i>sample</i> parameter is used only if data are organized in separate planes (<i>PlanarConfiguration</i>=2). The data are assumed to be uncompressed and in the native bit- and byte-order of the host machine. The data written to the file is compressed according to the compression scheme of the current <small>TIFF</small> directory (see further below). If the current scanline is past the end of the current subfile, the <i>ImageLength</i> field is automatically increased to include the scanline (except for <i>PlanarConfiguration</i>=2, where the <i>ImageLength</i> cannot be changed once the first data are written). If the <i>ImageLength</i> is increased, the <i>StripOffsets</i> and <i>StripByteCounts</i> fields are similarly enlarged to reflect data written past the previous end of image.</div>
<div class="section">
<h1>NOTES</h1> The library writes encoded data using the native machine byte order. Correctly implemented <small>TIFF</small> readers are expected to do any necessary byte-swapping to correctly process image data with BitsPerSample greater than 8. The library attempts to hide bit-ordering differences between the image and the native machine by converting data from the native machine order.<div class="spacer">
</div>
In C++ the <i>sample</i> parameter defaults to 0.<div class="spacer">
</div>
Once data are written to a file for the current directory, the values of certain tags may not be altered; see <i>TIFFSetField</i>(3TIFF) for more information.<div class="spacer">
</div>
It is not possible to write scanlines to a file that uses a tiled organization.  The routine <i>TIFFIsTiled</i> can be used to determine if the file is organized as tiles or strips.</div>
<div class="section">
<h1>RETURN VALUES</h1> <i>TIFFWriteScanline</i> returns -1 if it immediately detects an error and 1 for a successful write.</div>
<div class="section">
<h1>DIAGNOSTICS</h1> All error messages are directed to the <i>TIFFError</i>(3TIFF) routine.<div class="spacer">
</div>
<b>%s: File not open for writing .</b> The file was opened for reading, not writing.<div class="spacer">
</div>
<b>Can not write scanlines to a tiled image</b>. An attempt was made to write a scanline to a tiled image. The image is assumed to be organized in tiles because the <i>TileWidth</i> and <i>TileLength</i> tags have been set with <i>TIFFSetField</i>(3TIFF).<div class="spacer">
</div>
<b>Compression algorithm does not support random access</b>. Data was written in a non-sequential order to a file that uses a compression algorithm and that has <i>RowsPerStrip</i> greater than one. That is, data in the image is to be stored in a compressed form, and with multiple rows packed into a strip. In this case, the library does not support random access to the data. The data should either be written as entire strips, sequentially by rows, or the value of <i>RowsPerStrip</i> should be set to one.<div class="spacer">
</div>
<b>%s: Must set &quot;ImageWidth&quot; before writing data</b>. The image's width has not be set before the first write. See <b>TIFFSetField</b>(3TIFF) for information on how to do this.<div class="spacer">
</div>
<b>%s: Must set &quot;PlanarConfiguration&quot; before writing data</b>. The organization of data has not be defined before the first write. See <b>TIFFSetField</b>(3TIFF) for information on how to do this.<div class="spacer">
</div>
<b>Can not change &quot;ImageLength&quot; when using separate planes</b>. Separate image planes are being used (<i>PlanarConfiguration</i>=2), but the number of rows has not been specified before the first write. The library supports the dynamic growth of an image only when data are organized in a contiguous manner (<i>PlanarConfiguration</i>=1).<div class="spacer">
</div>
<b>%d: Sample out of range, max %d</b>. The <i>sample</i> parameter was greater than the value of the SamplesPerPixel tag.<div class="spacer">
</div>
<b>%s: No space for strip arrays .</b> There was not enough space for the arrays that hold strip offsets and byte counts.</div>
<div class="section">
<h1>BUGS</h1> Writing subsampled YCbCR data does not work correctly because, for <i>PlanarConfiguration</i>=2 the size of a scanline is not calculated on a per-sample basis, and for <i>PlanarConfiguration</i>=1 the library does not pack the block-interleaved samples.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>TIFFOpen</b>(3TIFF), <b>TIFFWriteEncodedStrip</b>(3TIFF), <b>TIFFWriteRawStrip</b>(3TIFF), <b>libtiff</b>(3TIFF)<div class="spacer">
</div>
Libtiff library home page: <b>http://www.remotesensing.org/libtiff/</b></div>
<table class="foot">
<tr>
<td class="foot-date">
December 16, 1991</td>
<td class="foot-os">
libtiff</td>
</tr>
</table>
</div>
</body>
</html>

