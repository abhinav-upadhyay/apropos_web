<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Dpkg::IPC(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Dpkg::IPC(3)</td>
<td class="head-vol">
libdpkg-perl</td>
<td class="head-rtitle">
Dpkg::IPC(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Dpkg::IPC - helper functions for IPC</div>
<div class="section">
<h1>DESCRIPTION</h1> Dpkg::IPC offers helper functions to allow you to execute other programs in an easy, yet flexible way, while hiding all the gory details of IPC (Inter-Process Communication) from you.</div>
<div class="section">
<h1>METHODS</h1><dl>
<dt>
spawn</dt>
<dd>
Creates a child process and executes another program in it. The arguments are interpreted as a hash of options, specifying how to handle the in and output of the program to execute. Returns the pid of the child process (unless the wait_child option was given).<div style="height: 1.00em;">
&#160;</div>
Any error will cause the function to exit with one of the Dpkg::ErrorHandling functions.<div style="height: 1.00em;">
&#160;</div>
Options:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
exec</dt>
<dd>
Can be either a scalar, i.e. the name of the program to be executed, or an array reference, i.e. the name of the program plus additional arguments. Note that the program will never be executed via the shell, so you can't specify additional arguments in the scalar string and you can't use any shell facilities like globbing.<div style="height: 1.00em;">
&#160;</div>
Mandatory Option.</dd>
</dl>
<dl>
<dt>
from_file, to_file, error_to_file</dt>
<dd>
Filename as scalar. Standard input/output/error of the child process will be redirected to the file specified.</dd>
</dl>
<dl>
<dt>
from_handle, to_handle, error_to_handle</dt>
<dd>
Filehandle. Standard input/output/error of the child process will be dup'ed from the handle.</dd>
</dl>
<dl>
<dt>
from_pipe, to_pipe, error_to_pipe</dt>
<dd>
Scalar reference or object based on IO::Handle. A pipe will be opened for each of the two options and either the reading (&quot;to_pipe&quot; and &quot;error_to_pipe&quot;) or the writing end (&quot;from_pipe&quot;) will be returned in the referenced scalar. Standard input/output/error of the child process will be dup'ed to the other ends of the pipes.</dd>
</dl>
<dl>
<dt>
from_string, to_string, error_to_string</dt>
<dd>
Scalar reference. Standard input/output/error of the child process will be redirected to the string given as reference. Note that it wouldn't be strictly necessary to use a scalar reference for &quot;from_string&quot;, as the string is not modified in any way. This was chosen only for reasons of symmetry with &quot;to_string&quot; and &quot;error_to_string&quot;. &quot;to_string&quot; and &quot;error_to_string&quot; imply the &quot;wait_child&quot; option.</dd>
</dl>
<dl>
<dt>
wait_child</dt>
<dd>
Scalar. If containing a true value, <i>wait_child()</i> will be called before returning. The return value will of  <i>spawn()</i> will be a true value, but not the pid.</dd>
</dl>
<dl>
<dt>
nocheck</dt>
<dd>
Scalar. Option of the <i>wait_child()</i> call.</dd>
</dl>
<dl>
<dt>
timeout</dt>
<dd>
Scalar. Option of the <i>wait_child()</i> call.</dd>
</dl>
<dl>
<dt>
chdir</dt>
<dd>
Scalar. The child process will chdir in the indicated directory before calling exec.</dd>
</dl>
<dl>
<dt>
env</dt>
<dd>
Hash reference. The child process will populate %ENV with the items of the hash before calling exec. This allows exporting environment variables.</dd>
</dl>
<dl>
<dt>
delete_env</dt>
<dd>
Array reference. The child process will remove all environment variables listed in the array before calling exec.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
wait_child</dt>
<dd>
Takes as first argument the pid of the process to wait for. Remaining arguments are taken as a hash of options. Returns nothing. Fails if the child has been ended by a signal or if it exited non-zero.<div style="height: 1.00em;">
&#160;</div>
Options:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
cmdline</dt>
<dd>
String to identify the child process in error messages. Defaults to &quot;child process&quot;.</dd>
</dl>
<dl>
<dt>
nocheck</dt>
<dd>
If true do not check the return status of the child (and thus do not fail it it has been killed or if it exited with a non-zero return code).</dd>
</dl>
<dl>
<dt>
timeout</dt>
<dd>
Set a maximum time to wait for the process, after that fail with an error message.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
</div>
<div class="section">
<h1>AUTHORS</h1> Written by Rapha&#235;l Hertzog &lt;hertzog@debian.org&gt; and Frank Lichtenheld &lt;djpig@debian.org&gt;.</div>
<div class="section">
<h1>SEE ALSO</h1> Dpkg, Dpkg::ErrorHandling</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-03-01</td>
<td class="foot-os">
1.16.1.2</td>
</tr>
</table>
</div>
</body>
</html>

