<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
CMS_get1_ReceiptRequest(3SSL)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CMS_get1_ReceiptRequest(3SSL)</td>
<td class="head-vol">
OpenSSL</td>
<td class="head-rtitle">
CMS_get1_ReceiptRequest(3SSL)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1><br/>
 CMS_ReceiptRequest_create0, CMS_add1_ReceiptRequest, CMS_get1_ReceiptRequest, CMS_ReceiptRequest_get0_values - CMS signed receipt request functions.<br/>
</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 #include &lt;openssl/cms.h&gt;<br/>
<br/>
 CMS_ReceiptRequest *CMS_ReceiptRequest_create0(unsigned char *id, int idlen, int allorfirst, STACK_OF(GENERAL_NAMES) *receiptList, STACK_OF(GENERAL_NAMES) *receiptsTo);<br/>
 int CMS_add1_ReceiptRequest(CMS_SignerInfo *si, CMS_ReceiptRequest *rr);<br/>
 int CMS_get1_ReceiptRequest(CMS_SignerInfo *si, CMS_ReceiptRequest **prr);<br/>
 void CMS_ReceiptRequest_get0_values(CMS_ReceiptRequest *rr, ASN1_STRING **pcid, int *pallorfirst, STACK_OF(GENERAL_NAMES) **plist, STACK_OF(GENERAL_NAMES) **prto);<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <i>CMS_ReceiptRequest_create0()</i> creates a signed receipt request structure. The  <b>signedContentIdentifier</b> field is set using <b>id</b> and <b>idlen</b>, or it is set to 32 bytes of pseudo random data if  <b>id</b> is NULL. If <b>receiptList</b> is NULL the allOrFirstTier option in  <b>receiptsFrom</b> is used and set to the value of the  <b>allorfirst</b> parameter. If <b>receiptList</b> is not NULL the <b>receiptList</b> option in  <b>receiptsFrom</b> is used. The <b>receiptsTo</b> parameter specifies the  <b>receiptsTo</b> field value.<div class="spacer">
</div>
The <i>CMS_add1_ReceiptRequest()</i> function adds a signed receipt request <b>rr</b> to SignerInfo structure  <b>si</b>.<div class="spacer">
</div>
int <i>CMS_get1_ReceiptRequest()</i> looks for a signed receipt request in <b>si</b>, if any is found it is decoded and written to  <b>prr</b>.<div class="spacer">
</div>
<i>CMS_ReceiptRequest_get0_values()</i> retrieves the values of a receipt request. The signedContentIdentifier is copied to  <b>pcid</b>. If the <b>allOrFirstTier</b> option of  <b>receiptsFrom</b> is used its value is copied to <b>pallorfirst</b> otherwise the  <b>receiptList</b> field is copied to <b>plist</b>. The <b>receiptsTo</b> parameter is copied to  <b>prto</b>.</div>
<div class="section">
<h1>NOTES</h1> For more details of the meaning of the fields see RFC2634.<div class="spacer">
</div>
The contents of a signed receipt should only be considered meaningful if the corresponding CMS_ContentInfo structure can be successfully verified using  <i>CMS_verify()</i>.</div>
<div class="section">
<h1>RETURN VALUES</h1>  <i>CMS_ReceiptRequest_create0()</i> returns a signed receipt request structure or NULL if an error occurred.<div class="spacer">
</div>
<i>CMS_add1_ReceiptRequest()</i> returns 1 for success or 0 is an error occurred.<div class="spacer">
</div>
<i>CMS_get1_ReceiptRequest()</i> returns 1 is a signed receipt request is found and decoded. It returns 0 if a signed receipt request is not present and -1 if it is present but malformed.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>ERR_get_error</i>(3), <i>CMS_sign</i>(3),  <i>CMS_sign_receipt</i>(3), <i>CMS_verify</i>(3)  <i>CMS_verify_receipt</i>(3)</div>
<div class="section">
<h1>HISTORY</h1>  <i>CMS_ReceiptRequest_create0()</i>, <i>CMS_add1_ReceiptRequest()</i>,  <i>CMS_get1_ReceiptRequest()</i> and <i>CMS_ReceiptRequest_get0_values()</i> were added to OpenSSL 0.9.8</div>
<table class="foot">
<tr>
<td class="foot-date">
2008-04-10</td>
<td class="foot-os">
1.0.1</td>
</tr>
</table>
</div>
</body>
</html>

