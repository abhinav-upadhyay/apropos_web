<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
BIO_ctrl(3SSL)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
BIO_ctrl(3SSL)</td>
<td class="head-vol">
OpenSSL</td>
<td class="head-rtitle">
BIO_ctrl(3SSL)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> BIO_ctrl, BIO_callback_ctrl, BIO_ptr_ctrl, BIO_int_ctrl, BIO_reset, BIO_seek, BIO_tell, BIO_flush, BIO_eof, BIO_set_close, BIO_get_close, BIO_pending, BIO_wpending, BIO_ctrl_pending, BIO_ctrl_wpending, BIO_get_info_callback, BIO_set_info_callback - BIO control operations</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 #include &lt;openssl/bio.h&gt;<br/>
<br/>
 long BIO_ctrl(BIO *bp,int cmd,long larg,void *parg);<br/>
 long BIO_callback_ctrl(BIO *b, int cmd, void (*fp)(struct bio_st *, int, const char *, int, long, long));<br/>
 char * BIO_ptr_ctrl(BIO *bp,int cmd,long larg);<br/>
 long BIO_int_ctrl(BIO *bp,int cmd,long larg,int iarg);<br/>
<br/>
 int BIO_reset(BIO *b);<br/>
 int BIO_seek(BIO *b, int ofs);<br/>
 int BIO_tell(BIO *b);<br/>
 int BIO_flush(BIO *b);<br/>
 int BIO_eof(BIO *b);<br/>
 int BIO_set_close(BIO *b,long flag);<br/>
 int BIO_get_close(BIO *b);<br/>
 int BIO_pending(BIO *b);<br/>
 int BIO_wpending(BIO *b);<br/>
 size_t BIO_ctrl_pending(BIO *b);<br/>
 size_t BIO_ctrl_wpending(BIO *b);<br/>
<br/>
 int BIO_get_info_callback(BIO *b,bio_info_cb **cbp);<br/>
 int BIO_set_info_callback(BIO *b,bio_info_cb *cb);<br/>
<br/>
 typedef void bio_info_cb(BIO *b, int oper, const char *ptr, int arg1, long arg2, long arg3);<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <i>BIO_ctrl()</i>, <i>BIO_callback_ctrl()</i>, <i>BIO_ptr_ctrl()</i> and <i>BIO_int_ctrl()</i> are BIO &quot;control&quot; operations taking arguments of various types. These functions are not normally called directly, various macros are used instead. The standard macros are described below, macros specific to a particular type of BIO are described in the specific BIOs manual page as well as any special features of the standard calls.<div class="spacer">
</div>
<i>BIO_reset()</i> typically resets a BIO to some initial state, in the case of file related BIOs for example it rewinds the file pointer to the start of the file.<div class="spacer">
</div>
<i>BIO_seek()</i> resets a file related BIO's (that is file descriptor and FILE BIOs) file position pointer to  <b>ofs</b> bytes from start of file.<div class="spacer">
</div>
<i>BIO_tell()</i> returns the current file position of a file related BIO.<div class="spacer">
</div>
<i>BIO_flush()</i> normally writes out any internally buffered data, in some cases it is used to signal EOF and that no more data will be written.<div class="spacer">
</div>
<i>BIO_eof()</i> returns 1 if the BIO has read EOF, the precise meaning of &quot;EOF&quot; varies according to the BIO type.<div class="spacer">
</div>
<i>BIO_set_close()</i> sets the BIO <b>b</b> close flag to <b>flag</b>. <b>flag</b> can take the value BIO_CLOSE or BIO_NOCLOSE. Typically BIO_CLOSE is used in a source/sink BIO to indicate that the underlying I/O stream should be closed when the BIO is freed.<div class="spacer">
</div>
<i>BIO_get_close()</i> returns the BIOs close flag.<div class="spacer">
</div>
<i>BIO_pending()</i>, <i>BIO_ctrl_pending()</i>, <i>BIO_wpending()</i> and <i>BIO_ctrl_wpending()</i> return the number of pending characters in the BIOs read and write buffers. Not all BIOs support these calls.  <i>BIO_ctrl_pending()</i> and <i>BIO_ctrl_wpending()</i> return a size_t type and are functions,  <i>BIO_pending()</i> and <i>BIO_wpending()</i> are macros which call  <i>BIO_ctrl()</i>.</div>
<div class="section">
<h1>RETURN VALUES</h1>  <i>BIO_reset()</i> normally returns 1 for success and 0 or -1 for failure. File BIOs are an exception, they return 0 for success and -1 for failure.<div class="spacer">
</div>
<i>BIO_seek()</i> and <i>BIO_tell()</i> both return the current file position on success and -1 for failure, except file BIOs which for  <i>BIO_seek()</i> always return 0 for success and -1 for failure.<div class="spacer">
</div>
<i>BIO_flush()</i> returns 1 for success and 0 or -1 for failure.<div class="spacer">
</div>
<i>BIO_eof()</i> returns 1 if EOF has been reached 0 otherwise.<div class="spacer">
</div>
<i>BIO_set_close()</i> always returns 1.<div class="spacer">
</div>
<i>BIO_get_close()</i> returns the close flag value: BIO_CLOSE or BIO_NOCLOSE.<div class="spacer">
</div>
<i>BIO_pending()</i>, <i>BIO_ctrl_pending()</i>, <i>BIO_wpending()</i> and <i>BIO_ctrl_wpending()</i> return the amount of pending data.</div>
<div class="section">
<h1>NOTES</h1>  <i>BIO_flush()</i>, because it can write data may return 0 or -1 indicating that the call should be retried later in a similar manner to  <i>BIO_write()</i>. The  <i>BIO_should_retry()</i> call should be used and appropriate action taken is the call fails.<div class="spacer">
</div>
The return values of <i>BIO_pending()</i> and <i>BIO_wpending()</i> may not reliably determine the amount of pending data in all cases. For example in the case of a file BIO some data may be available in the FILE structures internal buffers but it is not possible to determine this in a portably way. For other types of BIO they may not be supported.<div class="spacer">
</div>
Filter BIOs if they do not internally handle a particular <i>BIO_ctrl()</i> operation usually pass the operation to the next BIO in the chain. This often means there is no need to locate the required BIO for a particular operation, it can be called on a chain and it will be automatically passed to the relevant BIO. However this can cause unexpected results: for example no current filter BIOs implement  <i>BIO_seek()</i>, but this may still succeed if the chain ends in a FILE or file descriptor BIO.<div class="spacer">
</div>
Source/sink BIOs return an 0 if they do not recognize the <i>BIO_ctrl()</i> operation.</div>
<div class="section">
<h1>BUGS</h1> Some of the return values are ambiguous and care should be taken. In particular a return value of 0 can be returned if an operation is not supported, if an error occurred, if EOF has not been reached and in the case of  <i>BIO_seek()</i> on a file BIO for a successful operation.</div>
<div class="section">
<h1>SEE ALSO</h1> TBA</div>
<table class="foot">
<tr>
<td class="foot-date">
2000-09-18</td>
<td class="foot-os">
1.0.1</td>
</tr>
</table>
</div>
</body>
</html>

