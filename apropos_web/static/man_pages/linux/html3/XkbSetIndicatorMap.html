<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbSetIndicatorMap(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbSetIndicatorMap(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbSetIndicatorMap(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbSetIndicatorMap - Downloads the changes to the server based on modifications to a local copy of the keyboard description which will update the maps for one or more indicators</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>Bool XkbSetIndicatorMap</b> <b>(Display *</b><i>dpy</i><b>,</b> <b>unsigned int </b><i>which</i><b>,</b> <b>XkbDescPtr </b><i>desc</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- dpy</i></dt>
<dd>
connection to the X server</dd>
</dl>
<dl>
<dt>
<i>- which</i></dt>
<dd>
mask of indicators to change</dd>
</dl>
<dl>
<dt>
<i>- desc</i></dt>
<dd>
keyboard description from which the maps are taken</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This section discusses the effects of explicitly changing indicators depending upon different settings in the indicator map. See Tables 1 and Table 2 for information on the effects of the indicator map fields when explicit changes are made.<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 18.00ex;"/>
<col style="width: 9.00ex;"/>
<col style="width: 280.00ex;"/>
<tbody>
<tr>
<td>
Table 1 XkbIndicatorMapRec which_groups and groups, </td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Indicator Drives Keyboard</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
which_groups</td>
<td>
New State</td>
<td>
Effect on Keyboard Group State</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbIM_UseNone</td>
<td>
On or Off</td>
<td>
No effect</td>
</tr>
<tr>
<td>
XkbIM_UseBase</td>
<td>
On or Off</td>
<td>
No effect</td>
</tr>
<tr>
<td>
XkbIM_UseLatched</td>
<td>
On</td>
<td>
The groups field is treated as a group mask. The keyboard group latch is changed  to the lowest numbered  group specified in groups; if groups is empty, the  keyboard group latch is  changed to zero.</td>
</tr>
<tr>
<td>
XkbIM_UseLatched</td>
<td>
Off</td>
<td>
The groups field is treated as a group mask. If the indicator is explicitly  extinguished, keyboard group  latch is changed to the lowest numbered group not specified in groups; if groups  is zero, the keyboard  group latch is set to the index of the highest legal keyboard group.</td>
</tr>
<tr>
<td>
XkbIM_UseLocked or</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbIM_UseEffective</td>
<td>
On</td>
<td>
If the groups mask is empty, group is not changed; otherwise, the locked  keyboard group is changed to the  lowest numbered group specified in groups.</td>
</tr>
<tr>
<td>
XkbIM_UseLocked or</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbIM_UseEffective</td>
<td>
Off</td>
<td>
Locked keyboard group is changed to the lowest numbered group that is not  specified in the groups mask, or  to Group1 if the groups mask contains all keyboard groups.</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 55.00ex;"/>
<col style="width: 9.00ex;"/>
<col style="width: 106.00ex;"/>
<tbody>
<tr>
<td>
Table 2 XkbIndicatorMapRec which_mods and mods,</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
Indicator Drives Keyboard</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
which_mods</td>
<td>
New State</td>
<td>
Effect on Keyboard Modifiers</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbIM_UseNone or XkbIM_UseBase</td>
<td>
On or Off</td>
<td>
No Effect</td>
</tr>
<tr>
<td>
XkbIM_UseLatched</td>
<td>
On</td>
<td>
Any modifiers specified in the mask field of mods are added to the latched  modifiers.</td>
</tr>
<tr>
<td>
XkbIM_UseLatched</td>
<td>
Off</td>
<td>
Any modifiers specified in the mask field of mods are removed from the latched  modifiers.</td>
</tr>
<tr>
<td>
XkbIM_UseLocked, XkbIM_UseCompat, or XkbIM_UseEffective</td>
<td>
On</td>
<td>
Any modifiers specified in the mask field of mods are added to the locked  modifiers.</td>
</tr>
<tr>
<td>
XkbIM_UseLocked</td>
<td>
Off</td>
<td>
Any modifiers specified in the mask field of mods are removed from the locked  modifiers.</td>
</tr>
<tr>
<td>
XkbIM_UseCompat or XkbIM_UseEffective</td>
<td>
Off</td>
<td>
Any modifiers specified in the mask field of mods are removed from both the  locked and latched modifiers.</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
If XkbIM_LEDDrivesKB is set and XkbIM_NoExplicit is not, and if you call a function that updates the server's image of the indicator map (such as <i>XkbSetIndicatorMap</i> or <i>XkbSetNamedIndicator),</i><br/>
 Xkb changes the keyboard state and controls to reflect the other fields of the indicator map. If you attempt to explicitly change the value of an indicator for which XkbIM_LEDDrivesKB is absent or for which XkbIM_NoExplicit is present, keyboard state or controls are unaffected.<div style="height: 1.00em;">
&#160;</div>
If neither XkbIM_NoAutomatic nor XkbIM_NoExplicit is set in an indicator map, Xkb honors any request to change the state of the indicator, but the new state might be immediately superseded by automatic changes to the indicator state if the keyboard state or controls change.<div style="height: 1.00em;">
&#160;</div>
The effects of changing an indicator that drives the keyboard are cumulative; it is possible for a single change to affect keyboard group, modifiers, and controls simultaneously.<div style="height: 1.00em;">
&#160;</div>
If you change an indicator for which both the XkbIM_LEDDrivesKB and XkbIM_NoAutomatic flags are specified, Xkb applies the keyboard changes specified in the other indicator map fields and changes the indicator to reflect the state that was explicitly requested. The indicator remains in the new state until it is explicitly changed again.<div style="height: 1.00em;">
&#160;</div>
If the XkbIM_NoAutomatic flag is not set and XkbIM_LEDDrivesKB is set, Xkb applies the changes specified in the other indicator map fields and sets the state of the indicator to the values specified by the indicator map. Note that it is possible in this case for the indicator to end up in a different state than the one that was explicitly requested. For example, Xkb does not extinguish an indicator with <i>which_mods</i> of XkbIM_UseBase and <i>mods</i> of Shift if, at the time Xkb processes the request to extinguish the indicator, one of the Shift keys is physically depressed.<div style="height: 1.00em;">
&#160;</div>
If you explicitly light an indicator for which XkbIM_LEDDrivesKB is set, Xkb enables all of the boolean controls specified in the <i>ctrls</i> field of its indicator map. Explicitly extinguishing such an indicator causes Xkb to disable all of the boolean controls specified in <i>ctrls.</i><div style="height: 1.00em;">
&#160;</div>
For each bit set in the <i>which</i> parameter, <i>XkbSetIndicatorMap</i> sends the corresponding indicator map from the <i>desc</i> parameter to the server.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>XkbSetNamedIndicator</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

