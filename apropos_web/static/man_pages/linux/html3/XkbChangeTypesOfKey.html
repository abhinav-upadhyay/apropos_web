<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbChangeTypesOfKey(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbChangeTypesOfKey(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbChangeTypesOfKey(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbChangeTypesOfKey - Change the number of groups and the types bound to a key</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>Status XkbChangeTypesOfKey</b> <b>(XkbDescPtr </b><i>xkb</i><b>,</b> <b>int </b><i>key</i><b>,</b> <b>int </b><i>n_groups</i><b>,</b> <b>unsigned int </b><i>groups</i><b>,</b> <b>int *</b><i>new_types_in</i><b>,</b> <b>XkbMapChangesPtr </b><i>p_changes</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- xkb</i></dt>
<dd>
keyboard description to be changed</dd>
</dl>
<dl>
<dt>
<i>- key</i></dt>
<dd>
keycode for key of interest</dd>
</dl>
<dl>
<dt>
<i>- n_groups</i></dt>
<dd>
new number of groups for key</dd>
</dl>
<dl>
<dt>
<i>- groups</i></dt>
<dd>
mask indicating groups to change</dd>
</dl>
<dl>
<dt>
<i>- new_types_in</i></dt>
<dd>
indices for new groups specified in groups</dd>
</dl>
<dl>
<dt>
<i>- p_changes</i></dt>
<dd>
notes changes made to xkb</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <i>XkbChangeTypesOfKey</i> reallocates the symbols and actions bound to the key, if necessary, and initializes any new symbols or actions to NoSymbol or NoAction, as appropriate. If the p_changes parameter is not NULL, <i>XkbChangeTypesOfKey</i> adds the XkbKeySymsMask to the changes field of <i>p_changes</i> and modifies the <i>first_key_sym</i> and <i>num_key_syms</i> fields of <i>p_changes</i> to include the <i>key</i> that was changed. See STRUCTURE for more information on the XkbMapChangesPtr structure. If successful, <i>XkbChangeTypesOfKey</i> returns Success.<div style="height: 1.00em;">
&#160;</div>
The <i>n_groups</i> parameter specifies the new number of groups for the key. The <i>groups</i> parameter is a mask specifying the groups for which new types are supplied and is a bitwise inclusive OR of the following masks: XkbGroup1Mask, XkbGroup2Mask, XkbGroup3Mask, and XkbGroup4Mask.<div style="height: 1.00em;">
&#160;</div>
The <i>new_types_in</i> parameter is an integer array of length <i>n_groups.</i> Each entry represents the type to use for the associated group and is an index into <i>xkb-&gt;map-&gt;types.</i> The <i>new_types_in</i> array is indexed by group index; if <i>n_groups</i> is four and <i>groups</i> only has Group1Mask and Group3Mask set, <i>new_types_in</i> looks like this:<div class="spacer">
</div>
<br/>
    new_types_in[0] = type for Group1<br/>
    new_types_in[1] = ignored<br/>
    new_types_in[2] = type for Group3<br/>
    new_types_in[3] = ignored<br/>
    <br/>
For convenience, Xkb provides the following constants to use as indices to the groups:<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 29.00ex;"/>
<col style="width: 5.00ex;"/>
<tbody>
<tr>
<td>
Table 1 Group Index Constants</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Constant Name</td>
<td>
Value</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbGroup1Index</td>
<td>
0</td>
</tr>
<tr>
<td>
XkbGroup2Index</td>
<td>
1</td>
</tr>
<tr>
<td>
XkbGroup3Index</td>
<td>
2</td>
</tr>
<tr>
<td>
XkbGroup4Index</td>
<td>
3</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
If the Xkb extension has not been properly initialized, <i>XkbChangeTypesOfKey</i> returns BadAccess. If the <i>xkb</i> parameter it not valid (that is, it is NULL or it does not contain a valid client map), <i>XkbChangeTypesOfKey</i> returns BadMatch. If the <i>key</i> is not a valid keycode, <i>n_groups</i> is greater than XkbNumKbdGroups, or the <i>groups</i> mask does not contain any of the valid group mask bits, <i>XkbChangeTypesOfKey</i> returns BadValue. If it is necessary to resize the key symbols or key actions arrays and any allocation errors occur, <i>XkbChangeTypesOfKey</i> returns BadAlloc.</div>
<div class="section">
<h1>STRUCTURES</h1> Use the XkbMapChangesRec structure to identify and track partial modifications to the mapping components and to reduce the amount of traffic between the server and clients.<div class="spacer">
</div>
<br/>
typedef struct _XkbMapChanges {<br/>
    unsigned short   changed;            /&#8727; identifies valid components in <br/>
structure */<br/>
    KeyCode          min_key_code;       /&#8727; lowest numbered keycode for device <br/>
*/<br/>
    KeyCode          max_key_code;       /&#8727; highest numbered keycode for device <br/>
*/<br/>
    unsigned char    first_type;         /&#8727; index of first key type modified */<br/>
    unsigned char    num_types;          /&#8727; # types modified */<br/>
    KeyCode          first_key_sym;      /&#8727; first key whose key_sym_map changed <br/>
*/<br/>
    unsigned char    num_key_syms;       /&#8727; # key_sym_map entries changed */<br/>
    KeyCode          first_key_act;      /&#8727; first key whose key_acts entry <br/>
changed */<br/>
    unsigned char    num_key_acts;       /&#8727; # key_acts entries changed */<br/>
    KeyCode          first_key_behavior; /&#8727; first key whose behaviors changed */<br/>
    unsigned char    num_key_behaviors;  /&#8727; # behaviors entries changed */<br/>
    KeyCode          first_key_explicit; /&#8727; first key whose explicit entry <br/>
changed */<br/>
    unsigned char    num_key_explicit;   /&#8727; # explicit entries changed */<br/>
    KeyCode          first_modmap_key;   /&#8727; first key whose modmap entry changed <br/>
*/<br/>
    unsigned char    num_modmap_keys;    /&#8727; # modmap entries changed */<br/>
    KeyCode          first_vmodmap_key;  /&#8727; first key whose vmodmap changed */<br/>
    unsigned char    num_vmodmap_keys;   /&#8727; # vmodmap entries changed */<br/>
    unsigned char    pad1;               /&#8727; reserved */<br/>
    unsigned short   vmods;              /&#8727; mask indicating which vmods changed <br/>
*/<br/>
} XkbMapChangesRec,*XkbMapChangesPtr;<div class="spacer">
</div>
<br/>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><dl>
<dt>
<b>BadAccess</b></dt>
<dd>
The Xkb extension has not been properly initialized</dd>
</dl>
<dl>
<dt>
<b>BadAlloc</b></dt>
<dd>
Unable to allocate storage</dd>
</dl>
<dl>
<dt>
<b>BadMatch</b></dt>
<dd>
A compatible version of Xkb was not available in the server or an argument has correct type and range, but is otherwise invalid</dd>
</dl>
<dl>
<dt>
<b>BadValue</b></dt>
<dd>
An argument is out of range</dd>
</dl>
</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

