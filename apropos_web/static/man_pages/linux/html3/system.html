<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
SYSTEM(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SYSTEM(3)</td>
<td class="head-vol">
Linux Programmer's Manual</td>
<td class="head-rtitle">
SYSTEM(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> system - execute a shell command</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;stdlib.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
<b>int system(const char *</b><i>command</i><b>);</b><br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <b>system</b>() executes a command specified in <i>command</i> by calling <b>/bin/sh -c</b> <i>command</i>, and returns after the command has been completed. During execution of the command, <b>SIGCHLD</b> will be blocked, and <b>SIGINT</b> and <b>SIGQUIT</b> will be ignored.</div>
<div class="section">
<h1>RETURN VALUE</h1> The value returned is -1 on error (e.g. <b>fork</b>(2) failed), and the return status of the command otherwise. This latter return status is in the format specified in <b>wait</b>(2). Thus, the exit code of the command will be <i>WEXITSTATUS(status)</i>. In case <i>/bin/sh</i> could not be executed, the exit status will be that of a command that does <i>exit(127)</i>.<div class="spacer">
</div>
If the value of <i>command</i> is NULL, <b>system</b>() returns nonzero if the shell is available, and zero if not.<div class="spacer">
</div>
<b>system</b>() does not affect the wait status of any other children.</div>
<div class="section">
<h1>CONFORMING TO</h1> C89, C99, POSIX.1-2001.</div>
<div class="section">
<h1>NOTES</h1> If the <b>_XOPEN_SOURCE</b> feature test macro is defined (before including <i>any</i> header files), then the macros described in <b>wait</b>(2) (<b>WEXITSTATUS</b>(), etc.) are made available when including <i>&lt;stdlib.h&gt;</i>.<div class="spacer">
</div>
As mentioned, <b>system</b>() ignores <b>SIGINT</b> and <b>SIGQUIT</b>. This may make programs that call it from a loop uninterruptible, unless they take care themselves to check the exit status of the child. E.g.<div style="height: 0.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
    while (something) {<br/>
        int ret = system(&quot;foo&quot;);<div class="spacer">
</div>
<br/>
        if (WIFSIGNALED(ret) &amp;&amp;<br/>
            (WTERMSIG(ret) == SIGINT || WTERMSIG(ret) == SIGQUIT))<br/>
                break;<br/>
    }<br/>
<div class="spacer">
</div>
Do not use <b>system</b>() from a program with set-user-ID or set-group-ID privileges, because strange values for some environment variables might be used to subvert system integrity. Use the <b>exec</b>(3) family of functions instead, but not <b>execlp</b>(3) or <b>execvp</b>(3). <b>system</b>() will not, in fact, work properly from programs with set-user-ID or set-group-ID privileges on systems on which <i>/bin/sh</i> is bash version 2, since bash 2 drops privileges on startup. (Debian uses a modified bash which does not do this when invoked as <b>sh</b>.)<div class="spacer">
</div>
In versions of glibc before 2.1.3, the check for the availability of <i>/bin/sh</i> was not actually performed if <i>command</i> was NULL; instead it was always assumed to be available, and <b>system</b>() always returned 1 in this case. Since glibc 2.1.3, this check is performed because, even though POSIX.1-2001 requires a conforming implementation to provide a shell, that shell may not be available or executable if the calling program has previously called <b>chroot</b>(2) (which is not specified by POSIX.1-2001).<div class="spacer">
</div>
It is possible for the shell command to return 127, so that code is not a sure indication that the <b>execve</b>(2) call failed.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>sh</b>(1), <b>signal</b>(2), <b>wait</b>(2), <b>exec</b>(3)</div>
<div class="section">
<h1>COLOPHON</h1> This page is part of release 3.35 of the Linux <i>man-pages</i> project. A description of the project, and information about reporting bugs, can be found at http://man7.org/linux/man-pages/.</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-09-10</td>
<td class="foot-os">
</td>
</tr>
</table>
</div>
</body>
</html>

