<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XSETDEVICEFOCUS(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XSETDEVICEFOCUS(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XSETDEVICEFOCUS(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XSetDeviceFocus, XGetDeviceFocus - control extension input device focus</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
XSetDeviceFocus( Display *display,<br/>
                 XDevice *device,<br/>
                 Window focus,<br/>
                 int revert_to,<br/>
                 Time time);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
XGetDeviceFocus( Display *display,<br/>
                 XDevice *device,<br/>
                 Window *focus_return,<br/>
                 int *revert_to_return,<br/>
                 int * time_return);<br/>
<div style="height: 1.00em;">
&#160;</div>
Arguments<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
device<br/>
       Specifies the device whose focus is to be queried or<br/>
       changed.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
focus<br/>
       Specifies the window, PointerRoot, FollowKeyboard,or<br/>
       None.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
focus_return<br/>
       Returns the focus window, PointerRoot, FollowKeyboard,or<br/>
       None.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
revert_to<br/>
       Specifies where the input focus reverts to if the window<br/>
       becomes notviewable.You can pass RevertToParent,<br/>
       RevertToPointerRoot, RevertToFollowKeyboard,or<br/>
       RevertToNone.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
revert_to_return<br/>
       Returns the current focus state RevertToParent,<br/>
       RevertToPointerRoot, RevertToFollowKeyboard,or<br/>
       RevertToNone.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
time_return<br/>
       Returns the last_focus_time for the device.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
time<br/>
       Specifies the time.You can pass either a timestamp or<br/>
       CurrentTime.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
The XSetDeviceFocus request changes the focus of the specified<br/>
device and its last-focus-change time. It has no effect if the<br/>
specified time is earlier than the current last-focus-change<br/>
time or is later than the current X server time. Otherwise, the<br/>
last-focus-change time is set to the specified time CurrentTime<br/>
is replaced by the current X server time). XSetDeviceFocus<br/>
causes the X server to generate DeviceFocusIn and<br/>
DeviceFocusOut events.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Depending on the focus argument, the following occurs:<br/>
  * If focus is None , all device events are discarded until a<br/>
    new focus window is set, and the revert_to argument is<br/>
    ignored.<br/>
  * If focus is a window, it becomes the device's focus window.<br/>
    If a generated device event would normally be reported to<br/>
    this window or one of its inferiors, the event is reported<br/>
    as usual. Otherwise, the event is reported relative to the<br/>
    focus window.<br/>
  * If focus is PointerRoot, the focus window is dynamically<br/>
    taken to be the root window of whatever screen the pointer<br/>
    is on at each event from the specified device. In this<br/>
    case, the revert_to argument is ignored.<br/>
  * If focus is FollowKeyboard, the focus window is dynamically<br/>
    taken to be the window to which the X keyboard focus is set<br/>
    at each input event.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The specified focus window must be viewable at the time<br/>
XSetDeviceFocus is called, or a BadMatch error results. If the<br/>
focus window later becomes not viewable, the X server evaluates<br/>
the revert_to argument to determine the new focus window as<br/>
follows:<br/>
  * If revert_to is RevertToParent, the focus reverts to the<br/>
    parent (or the closest viewable ancestor), and the new<br/>
    revert_to value is taken to be RevertToNone.<br/>
  * If revert_to is RevertToPointerRoot,<br/>
    RevertToFollowKeyboard, or RevertToNone, the focus reverts<br/>
    to PointerRoot, FollowKeyboard, or None, respectively.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
When the focus reverts, the X server generates DeviceFocusIn<br/>
and DeviceFocusOut events, but the last-focus-change time is<br/>
not affected.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Input extension devices are not required to support the ability<br/>
to be focused. Attempting to set the focus of a device that<br/>
does not support this request will result in a BadMatch error.<br/>
Whether or not given device can support this request can be<br/>
determined by the information returned by XOpenDevice. For<br/>
those devices that support focus, XOpenDevice will return an<br/>
XInputClassInfo structure with the input_class field equal to<br/>
the constant FocusClass (defined in the file XI.h).<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XSetDeviceFocus can generate BadDevice, BadMatch, BadValue, and<br/>
BadWindow errors.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The XGetDeviceFocus request returns the focus window and the<br/>
current focus state.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Not all input extension devices can be focused. Attempting to<br/>
query the focus state of a device that can't be focused results<br/>
in a BadMatch error. A device that can be focused returns<br/>
information for input Class Focus when an XOpenDevice request<br/>
is made.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XGetDeviceFocus can generate BadDevice, and BadMatch errors.<br/>
</div>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><div style="margin-left: 4.00ex;">
<br/>
BadDevice<br/>
       An invalid device was specified. The specified device<br/>
       does not exist or has not been opened by this client via<br/>
       XOpenInputDevice. This error may also occur if the<br/>
       specified device is the X keyboard or X pointer device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadValue<br/>
       Some numeric value falls outside the range of values<br/>
       accepted by the request. Unless a specific range is<br/>
       specified for an argument, the full range defined by the<br/>
       argument's type is accepted. Any argument defined as a<br/>
       set of alternatives can generate this error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadWindow<br/>
       A value for a Window argument does not name a defined<br/>
       Window.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadMatch<br/>
       This error may occur if an XGetDeviceFocus or<br/>
       XSetDeviceFocus request was made specifying a device<br/>
       that the server implementation does not allow to be<br/>
       focused.<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

