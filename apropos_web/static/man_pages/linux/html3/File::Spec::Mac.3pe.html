<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
File::Spec::Mac(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
File::Spec::Mac(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
File::Spec::Mac(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> File::Spec::Mac - File::Spec for Mac OS (Classic)</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 require File::Spec::Mac; # Done internally by File::Spec if needed<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Methods for manipulating file specifications.</div>
<div class="section">
<h1>METHODS</h1><dl>
<dt>
canonpath</dt>
<dd>
On Mac OS, there's nothing to be done. Returns what it's given.</dd>
</dl>
<dl>
<dt>
<i>catdir()</i></dt>
<dd>
Concatenate two or more directory names to form a path separated by colons (&quot;:&quot;) ending with a directory. Resulting paths are  <b>relative</b> by default, but can be forced to be absolute (but avoid this, see below). Automatically puts a trailing &quot;:&quot; on the end of the complete path, because that's what's done in MacPerl's environment and helps to distinguish a file path from a directory path.<div style="height: 1.00em;">
&#160;</div>
<b>IMPORTANT NOTE:</b> Beginning with version 1.3 of this module, the resulting path is relative by default and  <i>not</i> absolute. This decision was made due to portability reasons. Since &quot;File::Spec-&gt;catdir()&quot; returns relative paths on all other operating systems, it will now also follow this convention on Mac OS. Note that this may break some existing scripts.<div style="height: 1.00em;">
&#160;</div>
The intended purpose of this routine is to concatenate <i>directory names</i>. But because of the nature of Macintosh paths, some additional possibilities are allowed to make using this routine give reasonable results for some common situations. In other words, you are also allowed to concatenate  <i>paths</i> instead of directory names (strictly speaking, a string like &quot;:a&quot; is a path, but not a name, since it contains a punctuation character &quot;:&quot;).<div style="height: 1.00em;">
&#160;</div>
So, beside calls like<div style="height: 1.00em;">
&#160;</div>
<br/>
    catdir(&quot;a&quot;) = &quot;:a:&quot;<br/>
    catdir(&quot;a&quot;,&quot;b&quot;) = &quot;:a:b:&quot;<br/>
    catdir() = &quot;&quot;                    (special case)<br/>
<div style="height: 1.00em;">
&#160;</div>
calls like the following<div style="height: 1.00em;">
&#160;</div>
<br/>
    catdir(&quot;:a:&quot;) = &quot;:a:&quot;<br/>
    catdir(&quot;:a&quot;,&quot;b&quot;) = &quot;:a:b:&quot;<br/>
    catdir(&quot;:a:&quot;,&quot;b&quot;) = &quot;:a:b:&quot;<br/>
    catdir(&quot;:a:&quot;,&quot;:b:&quot;) = &quot;:a:b:&quot;<br/>
    catdir(&quot;:&quot;) = &quot;:&quot;<br/>
<div style="height: 1.00em;">
&#160;</div>
are allowed.<div style="height: 1.00em;">
&#160;</div>
Here are the rules that are used in &quot;catdir()&quot;; note that we try to be as compatible as possible to Unix:</dd>
</dl>
<div style="margin-left: 2.00ex;">
<dl>
<dt>
1.</dt>
<dd>
The resulting path is relative by default, i.e. the resulting path will have a leading colon.</dd>
</dl>
<dl>
<dt>
2.</dt>
<dd>
A trailing colon is added automatically to the resulting path, to denote a directory.</dd>
</dl>
<dl>
<dt>
3.</dt>
<dd>
Generally, each argument has one leading &quot;:&quot; and one trailing &quot;:&quot; removed (if any). They are then joined together by a &quot;:&quot;. Special treatment applies for arguments denoting updir paths like &quot;::lib:&quot;, see (4), or arguments consisting solely of colons (&quot;colon paths&quot;), see (5).</dd>
</dl>
<dl>
<dt>
4.</dt>
<dd>
When an updir path like &quot;:::lib::&quot; is passed as argument, the number of directories to climb up is handled correctly, not removing leading or trailing colons when necessary. E.g.<div style="height: 1.00em;">
&#160;</div>
<br/>
    catdir(&quot;:::a&quot;,&quot;::b&quot;,&quot;c&quot;)    = &quot;:::a::b:c:&quot;<br/>
    catdir(&quot;:::a::&quot;,&quot;::b&quot;,&quot;c&quot;)  = &quot;:::a:::b:c:&quot;<br/>
</dd>
</dl>
<dl>
<dt>
5.</dt>
<dd>
Adding a colon &quot;:&quot; or empty string &quot;&quot; to a path at <i>any</i> position doesn't alter the path, i.e. these arguments are ignored. (When a &quot;&quot; is passed as the first argument, it has a special meaning, see (6)). This way, a colon &quot;:&quot; is handled like a &quot;.&quot; (curdir) on Unix, while an empty string &quot;&quot; is generally ignored (see &quot;Unix-&gt;canonpath()&quot; ). Likewise, a &quot;::&quot; is handled like a &quot;..&quot; (updir), and a &quot;:::&quot; is handled like a &quot;../..&quot; etc.  E.g.<div style="height: 1.00em;">
&#160;</div>
<br/>
    catdir(&quot;a&quot;,&quot;:&quot;,&quot;:&quot;,&quot;b&quot;)   = &quot;:a:b:&quot;<br/>
    catdir(&quot;a&quot;,&quot;:&quot;,&quot;::&quot;,&quot;:b&quot;) = &quot;:a::b:&quot;<br/>
</dd>
</dl>
<dl>
<dt>
6.</dt>
<dd>
If the first argument is an empty string &quot;&quot; or is a volume name, i.e. matches the pattern /^[^:]+:/, the resulting path is  <b>absolute</b>.</dd>
</dl>
<dl>
<dt>
7.</dt>
<dd>
Passing an empty string &quot;&quot; as the first argument to &quot;catdir()&quot; is like passing&quot;File::Spec-&gt;rootdir()&quot; as the first argument, i.e.<div style="height: 1.00em;">
&#160;</div>
<br/>
    catdir(&quot;&quot;,&quot;a&quot;,&quot;b&quot;)          is the same as<br/>
<br/>
    catdir(rootdir(),&quot;a&quot;,&quot;b&quot;).<br/>
<div style="height: 1.00em;">
&#160;</div>
This is true on Unix, where &quot;catdir(&quot;&quot;,&quot;a&quot;,&quot;b&quot;)&quot; yields &quot;/a/b&quot; and &quot;rootdir()&quot; is &quot;/&quot;. Note that &quot;rootdir()&quot; on Mac OS is the startup volume, which is the closest in concept to Unix' &quot;/&quot;. This should help to run existing scripts originally written for Unix.</dd>
</dl>
<dl>
<dt>
8.</dt>
<dd>
For absolute paths, some cleanup is done, to ensure that the volume name isn't immediately followed by updirs. This is invalid, because this would go beyond &quot;root&quot;. Generally, these cases are handled like their Unix counterparts:<div style="height: 1.00em;">
&#160;</div>
<br/>
 Unix:<br/>
    Unix-&gt;catdir(&quot;&quot;,&quot;&quot;)                 =  &quot;/&quot;<br/>
    Unix-&gt;catdir(&quot;&quot;,&quot;.&quot;)                =  &quot;/&quot;<br/>
    Unix-&gt;catdir(&quot;&quot;,&quot;..&quot;)               =  &quot;/&quot;              # can't go beyond root<br/>
    Unix-&gt;catdir(&quot;&quot;,&quot;.&quot;,&quot;..&quot;,&quot;..&quot;,&quot;a&quot;)  =  &quot;/a&quot;<br/>
 Mac:<br/>
    Mac-&gt;catdir(&quot;&quot;,&quot;&quot;)                  =  rootdir()         # (e.g. &quot;HD:&quot;)<br/>
    Mac-&gt;catdir(&quot;&quot;,&quot;:&quot;)                 =  rootdir()<br/>
    Mac-&gt;catdir(&quot;&quot;,&quot;::&quot;)                =  rootdir()         # can't go beyond root<br/>
    Mac-&gt;catdir(&quot;&quot;,&quot;:&quot;,&quot;::&quot;,&quot;::&quot;,&quot;a&quot;)   =  rootdir() . &quot;a:&quot;  # (e.g. &quot;HD:a:&quot;)<br/>
<div style="height: 1.00em;">
&#160;</div>
However, this approach is limited to the first arguments following &quot;root&quot; (again, see &quot;Unix-&gt;canonpath()&quot; ). If there are more arguments that move up the directory tree, an invalid path going beyond root can be created.</dd>
</dl>
</div>
<div style="margin-left: 2.00ex;">
<div style="height: 1.00em;">
&#160;</div>
As you've seen, you can force &quot;catdir()&quot; to create an absolute path by passing either an empty string or a path that begins with a volume name as the first argument. However, you are strongly encouraged not to do so, since this is done only for backward compatibility. Newer versions of File::Spec come with a method called &quot;catpath()&quot; (see below), that is designed to offer a portable solution for the creation of absolute paths.  It takes volume, directory and file portions and returns an entire path. While &quot;catdir()&quot; is still suitable for the concatenation of  <i>directory names</i>, you are encouraged to use &quot;catpath()&quot; to concatenate  <i>volume names</i> and <i>directory</i>  <i>paths</i>. E.g.<div style="height: 1.00em;">
&#160;</div>
<br/>
    $dir      = File::Spec-&gt;catdir(&quot;tmp&quot;,&quot;sources&quot;);<br/>
    $abs_path = File::Spec-&gt;catpath(&quot;MacintoshHD:&quot;, $dir,&quot;&quot;);<br/>
<div style="height: 1.00em;">
&#160;</div>
yields<div style="height: 1.00em;">
&#160;</div>
<br/>
    &quot;MacintoshHD:tmp:sources:&quot; .<br/>
</div>
<dl>
<dt>
catfile</dt>
<dd>
Concatenate one or more directory names and a filename to form a complete path ending with a filename. Resulting paths are  <b>relative</b> by default, but can be forced to be absolute (but avoid this).<div style="height: 1.00em;">
&#160;</div>
<b>IMPORTANT NOTE:</b> Beginning with version 1.3 of this module, the resulting path is relative by default and  <i>not</i> absolute. This decision was made due to portability reasons. Since &quot;File::Spec-&gt;catfile()&quot; returns relative paths on all other operating systems, it will now also follow this convention on Mac OS. Note that this may break some existing scripts.<div style="height: 1.00em;">
&#160;</div>
The last argument is always considered to be the file portion. Since &quot;catfile()&quot; uses &quot;catdir()&quot; (see above) for the concatenation of the directory portions (if any), the following with regard to relative and absolute paths is true:<div style="height: 1.00em;">
&#160;</div>
<br/>
    catfile(&quot;&quot;)     = &quot;&quot;<br/>
    catfile(&quot;file&quot;) = &quot;file&quot;<br/>
<div style="height: 1.00em;">
&#160;</div>
but<div style="height: 1.00em;">
&#160;</div>
<br/>
    catfile(&quot;&quot;,&quot;&quot;)        = rootdir()         # (e.g. &quot;HD:&quot;)<br/>
    catfile(&quot;&quot;,&quot;file&quot;)    = rootdir() . file  # (e.g. &quot;HD:file&quot;)<br/>
    catfile(&quot;HD:&quot;,&quot;file&quot;) = &quot;HD:file&quot;<br/>
<div style="height: 1.00em;">
&#160;</div>
This means that &quot;catdir()&quot; is called only when there are two or more arguments, as one might expect.<div style="height: 1.00em;">
&#160;</div>
Note that the leading &quot;:&quot; is removed from the filename, so that<div style="height: 1.00em;">
&#160;</div>
<br/>
    catfile(&quot;a&quot;,&quot;b&quot;,&quot;file&quot;)  = &quot;:a:b:file&quot;    and<br/>
<br/>
    catfile(&quot;a&quot;,&quot;b&quot;,&quot;:file&quot;) = &quot;:a:b:file&quot;<br/>
<div style="height: 1.00em;">
&#160;</div>
give the same answer.<div style="height: 1.00em;">
&#160;</div>
To concatenate <i>volume names</i>, <i>directory paths</i> and <i>filenames</i>, you are encouraged to use &quot;catpath()&quot; (see below).</dd>
</dl>
<dl>
<dt>
curdir</dt>
<dd>
Returns a string representing the current directory. On Mac OS, this is &quot;:&quot;.</dd>
</dl>
<dl>
<dt>
devnull</dt>
<dd>
Returns a string representing the null device. On Mac OS, this is &quot;Dev:Null&quot;.</dd>
</dl>
<dl>
<dt>
rootdir</dt>
<dd>
Returns a string representing the root directory.  Under MacPerl, returns the name of the startup volume, since that's the closest in concept, although other volumes aren't rooted there. The name has a trailing &quot;:&quot;, because that's the correct specification for a volume name on Mac OS.<div style="height: 1.00em;">
&#160;</div>
If Mac::Files could not be loaded, the empty string is returned.</dd>
</dl>
<dl>
<dt>
tmpdir</dt>
<dd>
Returns the contents of $ENV{TMPDIR}, if that directory exits or the current working directory otherwise. Under MacPerl, $ENV{TMPDIR} will contain a path like &quot;MacintoshHD:Temporary Items:&quot;, which is a hidden directory on your startup volume.</dd>
</dl>
<dl>
<dt>
updir</dt>
<dd>
Returns a string representing the parent directory. On Mac OS, this is &quot;::&quot;.</dd>
</dl>
<dl>
<dt>
file_name_is_absolute</dt>
<dd>
Takes as argument a path and returns true, if it is an absolute path. If the path has a leading &quot;:&quot;, it's a relative path. Otherwise, it's an absolute path, unless the path doesn't contain any colons, i.e. it's a name like &quot;a&quot;. In this particular case, the path is considered to be relative (i.e. it is considered to be a filename). Use &quot;:&quot; in the appropriate place in the path if you want to distinguish unambiguously. As a special case, the filename '' is always considered to be absolute. Note that with version 1.2 of File::Spec::Mac, this does no longer consult the local filesystem.<div style="height: 1.00em;">
&#160;</div>
E.g.<div style="height: 1.00em;">
&#160;</div>
<br/>
    File::Spec-&gt;file_name_is_absolute(&quot;a&quot;);             # false (relative)<br/>
    File::Spec-&gt;file_name_is_absolute(&quot;:a:b:&quot;);         # false (relative)<br/>
    File::Spec-&gt;file_name_is_absolute(&quot;MacintoshHD:&quot;);  # true (absolute)<br/>
    File::Spec-&gt;file_name_is_absolute(&quot;&quot;);              # true (absolute)<br/>
</dd>
</dl>
<dl>
<dt>
path</dt>
<dd>
Returns the null list for the MacPerl application, since the concept is usually meaningless under Mac OS. But if you're using the MacPerl tool under MPW, it gives back $ENV{Commands} suitably split, as is done in :lib:ExtUtils:MM_Mac.pm.</dd>
</dl>
<dl>
<dt>
splitpath</dt>
<dd>
<br/>
    ($volume,$directories,$file) = File::Spec-&gt;splitpath( $path );<br/>
    ($volume,$directories,$file) = File::Spec-&gt;splitpath( $path, $no_file );<br/>
<div style="height: 1.00em;">
&#160;</div>
Splits a path into volume, directory, and filename portions.<div style="height: 1.00em;">
&#160;</div>
On Mac OS, assumes that the last part of the path is a filename unless $no_file is true or a trailing separator &quot;:&quot; is present.<div style="height: 1.00em;">
&#160;</div>
The volume portion is always returned with a trailing &quot;:&quot;. The directory portion is always returned with a leading (to denote a relative path) and a trailing &quot;:&quot; (to denote a directory). The file portion is always returned  <i>without</i> a leading &quot;:&quot;. Empty portions are returned as empty string ''.<div style="height: 1.00em;">
&#160;</div>
The results can be passed to &quot;catpath()&quot; to get back a path equivalent to (usually identical to) the original path.</dd>
</dl>
<dl>
<dt>
splitdir</dt>
<dd>
The opposite of &quot;catdir()&quot;.<div style="height: 1.00em;">
&#160;</div>
<br/>
    @dirs = File::Spec-&gt;splitdir( $directories );<br/>
<div style="height: 1.00em;">
&#160;</div>
$directories should be only the directory portion of the path on systems that have the concept of a volume or that have path syntax that differentiates files from directories. Consider using &quot;splitpath()&quot; otherwise.<div style="height: 1.00em;">
&#160;</div>
Unlike just splitting the directories on the separator, empty directory names (&quot;&quot;) can be returned. Since &quot;catdir()&quot; on Mac OS always appends a trailing colon to distinguish a directory path from a file path, a single trailing colon will be ignored, i.e. there's no empty directory name after it.<div style="height: 1.00em;">
&#160;</div>
Hence, on Mac OS, both<div style="height: 1.00em;">
&#160;</div>
<br/>
    File::Spec-&gt;splitdir( &quot;:a:b::c:&quot; );    and<br/>
    File::Spec-&gt;splitdir( &quot;:a:b::c&quot; );<br/>
<div style="height: 1.00em;">
&#160;</div>
yield:<div style="height: 1.00em;">
&#160;</div>
<br/>
    ( &quot;a&quot;, &quot;b&quot;, &quot;::&quot;, &quot;c&quot;)<br/>
<div style="height: 1.00em;">
&#160;</div>
while<div style="height: 1.00em;">
&#160;</div>
<br/>
    File::Spec-&gt;splitdir( &quot;:a:b::c::&quot; );<br/>
<div style="height: 1.00em;">
&#160;</div>
yields:<div style="height: 1.00em;">
&#160;</div>
<br/>
    ( &quot;a&quot;, &quot;b&quot;, &quot;::&quot;, &quot;c&quot;, &quot;::&quot;)<br/>
</dd>
</dl>
<dl>
<dt>
catpath</dt>
<dd>
<br/>
    $path = File::Spec-&gt;catpath($volume,$directory,$file);<br/>
<div style="height: 1.00em;">
&#160;</div>
Takes volume, directory and file portions and returns an entire path. On Mac OS, $volume, $directory and $file are concatenated.  A ':' is inserted if need be. You may pass an empty string for each portion. If all portions are empty, the empty string is returned. If $volume is empty, the result will be a relative path, beginning with a ':'. If $volume and $directory are empty, a leading &quot;:&quot; (if any) is removed form $file and the remainder is returned. If $file is empty, the resulting path will have a trailing ':'.</dd>
</dl>
<dl>
<dt>
abs2rel</dt>
<dd>
Takes a destination path and an optional base path and returns a relative path from the base path to the destination path:<div style="height: 1.00em;">
&#160;</div>
<br/>
    $rel_path = File::Spec-&gt;abs2rel( $path ) ;<br/>
    $rel_path = File::Spec-&gt;abs2rel( $path, $base ) ;<br/>
<div style="height: 1.00em;">
&#160;</div>
Note that both paths are assumed to have a notation that distinguishes a directory path (with trailing ':') from a file path (without trailing ':').<div style="height: 1.00em;">
&#160;</div>
If $base is not present or '', then the current working directory is used. If $base is relative, then it is converted to absolute form using &quot;rel2abs()&quot;. This means that it is taken to be relative to the current working directory.<div style="height: 1.00em;">
&#160;</div>
If $path and $base appear to be on two different volumes, we will not attempt to resolve the two paths, and we will instead simply return $path.  Note that previous versions of this module ignored the volume of $base, which resulted in garbage results part of the time.<div style="height: 1.00em;">
&#160;</div>
If $base doesn't have a trailing colon, the last element of $base is assumed to be a filename.  This filename is ignored.  Otherwise all path components are assumed to be directories.<div style="height: 1.00em;">
&#160;</div>
If $path is relative, it is converted to absolute form using &quot;rel2abs()&quot;. This means that it is taken to be relative to the current working directory.<div style="height: 1.00em;">
&#160;</div>
Based on code written by Shigio Yamaguchi.</dd>
</dl>
<dl>
<dt>
rel2abs</dt>
<dd>
Converts a relative path to an absolute path:<div style="height: 1.00em;">
&#160;</div>
<br/>
    $abs_path = File::Spec-&gt;rel2abs( $path ) ;<br/>
    $abs_path = File::Spec-&gt;rel2abs( $path, $base ) ;<br/>
<div style="height: 1.00em;">
&#160;</div>
Note that both paths are assumed to have a notation that distinguishes a directory path (with trailing ':') from a file path (without trailing ':').<div style="height: 1.00em;">
&#160;</div>
If $base is not present or '', then $base is set to the current working directory. If $base is relative, then it is converted to absolute form using &quot;rel2abs()&quot;. This means that it is taken to be relative to the current working directory.<div style="height: 1.00em;">
&#160;</div>
If $base doesn't have a trailing colon, the last element of $base is assumed to be a filename.  This filename is ignored.  Otherwise all path components are assumed to be directories.<div style="height: 1.00em;">
&#160;</div>
If $path is already absolute, it is returned and $base is ignored.<div style="height: 1.00em;">
&#160;</div>
Based on code written by Shigio Yamaguchi.</dd>
</dl>
</div>
<div class="section">
<h1>AUTHORS</h1> See the authors list in  <i>File::Spec</i>. Mac OS support by Paul Schinder &lt;schinder@pobox.com&gt; and Thomas Wegner &lt;wegner_thomas@yahoo.com&gt;.</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright (c) 2004 by the Perl 5 Porters.  All rights reserved.<div class="spacer">
</div>
This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<div class="section">
<h1>SEE ALSO</h1> See File::Spec and File::Spec::Unix.  This package overrides the implementation of these methods, not the semantics.</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

