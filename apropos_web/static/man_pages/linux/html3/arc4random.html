<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ARC4RANDOM(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">arc4random</b>, <b class="name">arc4random_buf</b>, <b class="name">arc4random_uniform</b>, <b class="name">arc4random_stir</b>, <b class="name">arc4random_addrandom</b> &#8212; <span class="desc">arc4 random number generator</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">library &#8220;libbsd&#8221;</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">bsd/stdlib.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">u_int32_t</i><br/>
<b class="fname">arc4random</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">arc4random_buf</b>(<i class="farg" style="white-space:nowrap;">void *buf</i>, <i class="farg" style="white-space:nowrap;">size_t nbytes</i>);<div class="spacer">
</div>
<i class="ftype">u_int32_t</i><br/>
<b class="fname">arc4random_uniform</b>(<i class="farg" style="white-space:nowrap;">u_int32_t upper_bound</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">arc4random_stir</b>(<i class="farg" style="white-space:nowrap;">void</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">arc4random_addrandom</b>(<i class="farg" style="white-space:nowrap;">unsigned char *dat</i>, <i class="farg" style="white-space:nowrap;">int datlen</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">arc4random</b>() function uses the key stream generator employed by the arc4 cipher, which uses 8*8 8 bit S-Boxes. The S-Boxes can be in about (2**1700) states. The <b class="fname">arc4random</b>() function returns pseudo-random numbers in the range of 0 to (2**32)&#8722;1, and therefore has twice the range of <a class="link-man" href="/man/linux/3/rand">rand(3)</a> and <a class="link-man" href="/man/linux/3/random">random(3)</a>.<div class="spacer">
</div>
<b class="fname">arc4random_buf</b>() function fills the region <i class="farg">buf</i> of length <i class="farg">nbytes</i> with ARC4-derived random data.<div class="spacer">
</div>
<b class="fname">arc4random_uniform</b>() will return a uniformly distributed random number less than <i class="farg">upper_bound</i>. <b class="fname">arc4random_uniform</b>() is recommended over constructions like &#8220;<code class="lit">arc4random() % upper_bound</code>&#8221; as it avoids &quot;modulo bias&quot; when the upper bound is not a power of two.<div class="spacer">
</div>
The <b class="fname">arc4random_stir</b>() function reads data from <i class="file">/dev/urandom</i> and uses it to permute the S-Boxes via <b class="fname">arc4random_addrandom</b>().<div class="spacer">
</div>
There is no need to call <b class="fname">arc4random_stir</b>() before using <b class="fname">arc4random</b>() functions family, since they automatically initialize themselves.</div>
<div class="section">
<h1 id="x4558414d504c4553">EXAMPLES</h1> The following produces a drop-in replacement for the traditional <b class="fname">rand</b>() and <b class="fname">random</b>() functions using <b class="fname">arc4random</b>():<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">#define foo4random() (arc4random() % ((unsigned)RAND_MAX + 1))</code></div>
</blockquote>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="/man/linux/3/rand">rand(3)</a>, <a class="link-man" href="/man/linux/3/random">random(3)</a>, <a class="link-man" href="/man/linux/3/srandomdev">srandomdev(3)</a></div>
<div class="section">
<h1 id="x484953544f5259">HISTORY</h1> <i class="file">RC4</i> has been designed by RSA Data Security, Inc. It was posted anonymously to the USENET and was confirmed to be equivalent by several sources who had access to the original cipher. Since <i class="file">RC4</i> used to be a trade secret, the cipher is now referred to as <i class="file">ARC4</i>.</div>
</div>
</body>
</html>

