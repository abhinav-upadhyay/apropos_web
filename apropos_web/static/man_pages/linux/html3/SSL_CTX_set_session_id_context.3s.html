<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
SSL_CTX_set_session_id_context(3SSL)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
SSL_CTX_set_session_id_context(3SSL)</td>
<td class="head-vol">
OpenSSL</td>
<td class="head-rtitle">
SSL_CTX_set_session_id_context(3SSL)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> SSL_CTX_set_session_id_context, SSL_set_session_id_context - set context within which session can be reused (server side only)</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 #include &lt;openssl/ssl.h&gt;<br/>
<br/>
 int SSL_CTX_set_session_id_context(SSL_CTX *ctx, const unsigned char *sid_ctx,<br/>
                                    unsigned int sid_ctx_len);<br/>
 int SSL_set_session_id_context(SSL *ssl, const unsigned char *sid_ctx,<br/>
                                unsigned int sid_ctx_len);<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1>  <i>SSL_CTX_set_session_id_context()</i> sets the context <b>sid_ctx</b> of length  <b>sid_ctx_len</b> within which a session can be reused for the <b>ctx</b> object.<div class="spacer">
</div>
<i>SSL_set_session_id_context()</i> sets the context <b>sid_ctx</b> of length  <b>sid_ctx_len</b> within which a session can be reused for the <b>ssl</b> object.</div>
<div class="section">
<h1>NOTES</h1> Sessions are generated within a certain context. When exporting/importing sessions with  <b>i2d_SSL_SESSION</b>/<b>d2i_SSL_SESSION</b> it would be possible, to re-import a session generated from another context (e.g. another application), which might lead to malfunctions. Therefore each application must set its own session id context  <b>sid_ctx</b> which is used to distinguish the contexts and is stored in exported sessions. The  <b>sid_ctx</b> can be any kind of binary data with a given length, it is therefore possible to use e.g. the name of the application and/or the hostname and/or service name ...<div class="spacer">
</div>
The session id context becomes part of the session. The session id context is set by the SSL/TLS server. The  <i>SSL_CTX_set_session_id_context()</i> and  <i>SSL_set_session_id_context()</i> functions are therefore only useful on the server side.<div class="spacer">
</div>
OpenSSL clients will check the session id context returned by the server when reusing a session.<div class="spacer">
</div>
The maximum length of the <b>sid_ctx</b> is limited to  <b>SSL_MAX_SSL_SESSION_ID_LENGTH</b>.</div>
<div class="section">
<h1>WARNINGS</h1> If the session id context is not set on an SSL/TLS server and client certificates are used, stored sessions will not be reused but a fatal error will be flagged and the handshake will fail.<div class="spacer">
</div>
If a server returns a different session id context to an OpenSSL client when reusing a session, an error will be flagged and the handshake will fail. OpenSSL servers will always return the correct session id context, as an OpenSSL server checks the session id context itself before reusing a session as described above.</div>
<div class="section">
<h1>RETURN VALUES</h1>  <i>SSL_CTX_set_session_id_context()</i> and <i>SSL_set_session_id_context()</i> return the following values:<dl>
<dt>
0</dt>
<dd>
The length <b>sid_ctx_len</b> of the session id context <b>sid_ctx</b> exceeded the maximum allowed length of  <b>SSL_MAX_SSL_SESSION_ID_LENGTH</b>. The error is logged to the error stack.</dd>
</dl>
<dl>
<dt>
1</dt>
<dd>
The operation succeeded.</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>ssl</i>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
2004-06-14</td>
<td class="foot-os">
1.0.1</td>
</tr>
</table>
</div>
</body>
</html>

