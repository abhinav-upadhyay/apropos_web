<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
NETLINK(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
NETLINK(3)</td>
<td class="head-vol">
Linux Programmer's Manual</td>
<td class="head-rtitle">
NETLINK(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> netlink - Netlink macros</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;asm/types.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<b>#include &lt;linux/netlink.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
<b>int NLMSG_ALIGN(size_t </b><i>len</i><b>);</b><div style="height: 0.00em;">
&#160;</div>
<br/>
<b>int NLMSG_LENGTH(size_t </b><i>len</i><b>);</b><div style="height: 0.00em;">
&#160;</div>
<br/>
<b>int NLMSG_SPACE(size_t </b><i>len</i><b>);</b><div style="height: 0.00em;">
&#160;</div>
<br/>
<b>void *NLMSG_DATA(struct nlmsghdr *</b><i>nlh</i><b>);</b><div style="height: 0.00em;">
&#160;</div>
<br/>
<b>struct nlmsghdr *NLMSG_NEXT(struct nlmsghdr *</b><i>nlh</i><b>, int </b><i>len</i><b>);</b><div style="height: 0.00em;">
&#160;</div>
<br/>
<b>int NLMSG_OK(struct nlmsghdr *</b><i>nlh</i><b>, int </b><i>len</i><b>);</b><div style="height: 0.00em;">
&#160;</div>
<br/>
<b>int NLMSG_PAYLOAD(struct nlmsghdr *</b><i>nlh</i><b>, int </b><i>len</i><b>);</b><br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <i>&lt;linux/netlink.h&gt;</i> defines several standard macros to access or create a netlink datagram. They are similar in spirit to the macros defined in <b>cmsg</b>(3) for auxiliary data. The buffer passed to and from a netlink socket should only be accessed using these macros.<dl>
<dt>
<b>NLMSG_ALIGN</b>()</dt>
<dd>
Round the length of a netlink message up to align it properly.</dd>
</dl>
<dl>
<dt>
<b>NLMSG_LENGTH</b>()</dt>
<dd>
Given the payload length, <i>len</i>, this macro returns the aligned length to store in the <i>nlmsg_len</i> field of the <i>nlmsghdr</i>.</dd>
</dl>
<dl>
<dt>
<b>NLMSG_SPACE</b>()</dt>
<dd>
Return the number of bytes that a netlink message with payload of <i>len</i> would occupy.</dd>
</dl>
<dl>
<dt>
<b>NLMSG_DATA</b>()</dt>
<dd>
Return a pointer to the payload associated with the passed <i>nlmsghdr</i>.</dd>
</dl>
<dl>
<dt>
<b>NLMSG_NEXT</b>()</dt>
<dd>
Get the next <i>nlmsghdr</i> in a multipart message. The caller must check if the current <i>nlmsghdr</i> didn't have the <b>NLMSG_DONE</b> set&#8212;this function doesn't return NULL on end. The <i>len</i> argument is an lvalue containing the remaining length of the message buffer. This macro decrements it by the length of the message header.</dd>
</dl>
<dl>
<dt>
<b>NLMSG_OK</b>()</dt>
<dd>
Return true if the netlink message is not truncated and is in a form suitable for parsing.</dd>
</dl>
<dl>
<dt>
<b>NLMSG_PAYLOAD</b>()</dt>
<dd>
Return the length of the payload associated with the <i>nlmsghdr</i>.</dd>
</dl>
</div>
<div class="section">
<h1>CONFORMING TO</h1> These macros are nonstandard Linux extensions.</div>
<div class="section">
<h1>NOTES</h1> It is often better to use netlink via <i>libnetlink</i> than via the low-level kernel interface.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>netlink</b>(7)<div style="height: 0.00em;">
&#160;</div>
and ftp://ftp.inr.ac.ru/ip-routing/iproute2* for libnetlink</div>
<div class="section">
<h1>COLOPHON</h1> This page is part of release 3.35 of the Linux <i>man-pages</i> project. A description of the project, and information about reporting bugs, can be found at http://man7.org/linux/man-pages/.</div>
<table class="foot">
<tr>
<td class="foot-date">
1999-05-14</td>
<td class="foot-os">
GNU</td>
</tr>
</table>
</div>
</body>
</html>

