<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Dpkg::Changelog::Parse(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Dpkg::Changelog::Parse(3)</td>
<td class="head-vol">
libdpkg-perl</td>
<td class="head-rtitle">
Dpkg::Changelog::Parse(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Dpkg::Changelog::Parse - generic changelog parser for dpkg-parsechangelog</div>
<div class="section">
<h1>DESCRIPTION</h1> This module provides a single function  <i>changelog_parse()</i> which reproduces all the features of dpkg-parsechangelog.<div class="subsection">
<h2>Functions</h2>  <i>my </i><i>$fields</i><i> = changelog_parse(%opt)</i><div class="spacer">
</div>
This function will parse a changelog. In list context, it return as many Dpkg::Control object as the parser did output. In scalar context, it will return only the first one. If the parser didn't return any data, it will return an empty in list context or undef on scalar context. If the parser failed, it will die.<div class="spacer">
</div>
The parsing itself is done by an external program (searched in the following list of directories: $opt{libdir}, /usr/local/lib/dpkg/parsechangelog, /usr/lib/dpkg/parsechangelog) That program is named according to the format that it's able to parse. By default it's either &quot;debian&quot; or the format name lookep up in the 40 last lines of the changelog itself (extracted with this perl regular expression &quot;\schangelog-format:\s+([0-9a-z]+)\W&quot;). But it can be overridden with $opt{changelogformat}. The program expects the content of the changelog file on its standard input.<div class="spacer">
</div>
The changelog file that is parsed is debian/changelog by default but it can be overridden with $opt{file}.<div class="spacer">
</div>
All the other keys in %opt are forwarded as parameter to the external parser. If the key starts with &quot;-&quot;, it's passed as is. If not, it's passed as &quot;--&lt;key&gt;&quot;. If the value of the corresponding hash entry is defined, then it's passed as the parameter that follows.</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-05-20</td>
<td class="foot-os">
1.16.1.2</td>
</tr>
</table>
</div>
</body>
</html>

