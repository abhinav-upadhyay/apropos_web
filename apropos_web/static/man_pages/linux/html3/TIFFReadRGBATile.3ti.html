<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
TIFFReadRGBATile(3TIFF)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
TIFFReadRGBATile(3TIFF)</td>
<td class="head-vol">
</td>
<td class="head-rtitle">
TIFFReadRGBATile(3TIFF)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> TIFFReadRGBATile - read and decode an image tile into a fixed-format raster</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;tiffio.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<b>#define TIFFGetR(abgr)	((abgr) &amp; 0xff)</b><div style="height: 0.00em;">
&#160;</div>
<b>#define TIFFGetG(abgr)	(((abgr) &gt;&gt; 8) &amp; 0xff)</b><div style="height: 0.00em;">
&#160;</div>
<b>#define TIFFGetB(abgr)	(((abgr) &gt;&gt; 16) &amp; 0xff)</b><div style="height: 0.00em;">
&#160;</div>
<b>#define TIFFGetA(abgr)	(((abgr) &gt;&gt; 24) &amp; 0xff)</b><div style="height: 1.00em;">
&#160;</div>
<b>int TIFFReadRGBATile(TIFF *</b><i>tif</i><b>, uint32 </b><i>x</i><b>, uint32 </b><i>y</i><b>, uint32 *</b><i>raster</i><b>)</b></div>
<div class="section">
<h1>DESCRIPTION</h1> <i>TIFFReadRGBATile</i> reads a single tile of a tile-based image into memory, storing the result in the user supplied RGBA <i>raster</i>. The raster is assumed to be an array of width times length 32-bit entries, where width is the width of a tile (TIFFTAG_TILEWIDTH) and length is the height of a tile (TIFFTAG_TILELENGTH).<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The <i>x</i> and <i>y</i> values are the offsets from the top left corner to the top left corner of the tile to be read.  They must be an exact multiple of the tile width and length.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Note that the raster is assume to be organized such that the pixel at location ( <i>x</i>,<i>y</i>) is <i>raster</i>[<i>y</i>*<i>width</i>+<i>x</i>]; with the raster origin in the <i>lower-left hand corner</i> of the tile. That is bottom to top organization.  Edge tiles which partly fall off the image will be filled out with appropriate zeroed areas.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Raster pixels are 8-bit packed red, green, blue, alpha samples. The macros <i>TIFFGetR</i>, <i>TIFFGetG</i>, <i>TIFFGetB</i>, and <i>TIFFGetA</i> should be used to access individual samples. Images without Associated Alpha matting information have a constant Alpha of 1.0 (255).<div class="spacer">
</div>
See the <i>TIFFRGBAImage</i>(3TIFF) page for more details on how various image types are converted to RGBA values.</div>
<div class="section">
<h1>NOTES</h1> Samples must be either 1, 2, 4, 8, or 16 bits. Colorimetric samples/pixel must be either 1, 3, or 4 (i.e. <i>SamplesPerPixel</i> minus <i>ExtraSamples</i>).<div class="spacer">
</div>
Palette image colormaps that appear to be incorrectly written as 8-bit values are automatically scaled to 16-bits.<div class="spacer">
</div>
<i>TIFFReadRGBATile</i> is just a wrapper around the more general <i>TIFFRGBAImage</i>(3TIFF) facilities.  It's main advantage over the similar <i>TIFFReadRGBAImage()</i> function is that for large images a single buffer capable of holding the whole image doesn't need to be allocated, only enough for one tile.  The <i>TIFFReadRGBAStrip()</i> function does a similar operation for stripped images.</div>
<div class="section">
<h1>RETURN VALUES</h1> 1 is returned if the image was successfully read and converted. Otherwise, 0 is returned if an error was encountered.</div>
<div class="section">
<h1>DIAGNOSTICS</h1> All error messages are directed to the <i>TIFFError</i>(3TIFF) routine.<div class="spacer">
</div>
<b>Sorry, can not handle %d-bit pictures</b>. The image had <i>BitsPerSample</i> other than 1, 2, 4, 8, or 16.<div class="spacer">
</div>
<b>Sorry, can not handle %d-channel images</b>. The image had <i>SamplesPerPixel</i> other than 1, 3, or 4.<div class="spacer">
</div>
<b>Missing needed &quot;PhotometricInterpretation&quot; tag</b>. The image did not have a tag that describes how to display the data.<div class="spacer">
</div>
<b>No &quot;PhotometricInterpretation&quot; tag, assuming RGB</b>. The image was missing a tag that describes how to display it, but because it has 3 or 4 samples/pixel, it is assumed to be <small>RGB.</small><div class="spacer">
</div>
<b>No &quot;PhotometricInterpretation&quot; tag, assuming min-is-black</b>. The image was missing a tag that describes how to display it, but because it has 1 sample/pixel, it is assumed to be a grayscale or bilevel image.<div class="spacer">
</div>
<b>No space for photometric conversion table</b>. There was insufficient memory for a table used to convert image samples to 8-bit <small>RGB.</small><div class="spacer">
</div>
<b>Missing required &quot;Colormap&quot; tag</b>. A Palette image did not have a required <i>Colormap</i> tag.<div class="spacer">
</div>
<b>No space for tile buffer</b>. There was insufficient memory to allocate an i/o buffer.<div class="spacer">
</div>
<b>No space for strip buffer</b>. There was insufficient memory to allocate an i/o buffer.<div class="spacer">
</div>
<b>Can not handle format</b>. The image has a format (combination of <i>BitsPerSample</i>, <i>SamplesPerPixel</i>, and <i>PhotometricInterpretation</i>) that <i>TIFFReadRGBAImage</i> can not handle.<div class="spacer">
</div>
<b>No space for B&amp;W mapping table</b>. There was insufficient memory to allocate a table used to map grayscale data to <small>RGB.</small><div class="spacer">
</div>
<b>No space for Palette mapping table</b>. There was insufficient memory to allocate a table used to map data to 8-bit <small>RGB.</small></div>
<div class="section">
<h1>SEE ALSO</h1> <b>TIFFOpen</b>(3TIFF), <b>TIFFRGBAImage</b>(3TIFF), <b>TIFFReadRGBAImage</b>(3TIFF), <b>TIFFReadRGBAStrip</b>(3TIFF), <b>libtiff</b>(3TIFF)<div class="spacer">
</div>
Libtiff library home page: <b>http://www.remotesensing.org/libtiff/</b></div>
<table class="foot">
<tr>
<td class="foot-date">
December 10, 1998</td>
<td class="foot-os">
libtiff</td>
</tr>
</table>
</div>
</body>
</html>

