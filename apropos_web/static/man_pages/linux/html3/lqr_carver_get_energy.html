<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
LQR_CARVER_GET_ENERGY(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LQR_CARVER_GET_ENERGY(3)</td>
<td class="head-vol">
LqR library API reference</td>
<td class="head-rtitle">
LQR_CARVER_GET_ENERGY(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> lqr_carver_get_energy, lqr_carver_get_true_energy, lqr_carver_get_energy_image - get the energy map for a LqrCarver object</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;lqr.h&gt;<br/>
<div class="spacer">
</div>
<div style="margin-left: 32.00ex;text-indent: -32.00ex;" class="spacer">
<b>LqrRetVal lqr_carver_get_energy(LqrCarver*&#160;</b><i>carver</i><b>, gfloat&#160;*&#160;</b><i>buffer</i><b>, gint&#160;</b><i>orientation</i><b>);</b></div>
</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;lqr.h&gt;<br/>
<div class="spacer">
</div>
<div style="margin-left: 37.00ex;text-indent: -37.00ex;" class="spacer">
<b>LqrRetVal lqr_carver_get_true_energy(LqrCarver*&#160;</b><i>carver</i><b>, gfloat&#160;*&#160;</b><i>buffer</i><b>, gint&#160;</b><i>orientation</i><b>);</b></div>
</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;lqr.h&gt;<br/>
<div class="spacer">
</div>
<div style="margin-left: 32.00ex;text-indent: -32.00ex;" class="spacer">
<b>LqrRetVal lqr_carver_get_energy(LqrCarver*&#160;</b><i>carver</i><b>, void&#160;*&#160;</b><i>buffer</i><b>, gint&#160;</b><i>orientation</i><b>, LqrColDepth&#160;</b><i>col_depth</i><b>, LqrImageType&#160;</b><i>image_type</i><b>);</b></div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The function  <b>lqr_carver_get_energy</b> writes the energy map of the LqrCarver object pointed to by  <i>carver</i> to the given  <i>buffer</i>, in a format suitable for plotting: all values are in the range between 0 and 1, and the true values are mapped nonlinearly and stretched on this whole range, so that the differences between the middle values are enhanced with respect to very high or very low values.<div class="spacer">
</div>
The  <i>orientation</i> parameter must be either 0 to get the energy map used for horizontal scalings, or 1 to get the map for vertical scalings.<div class="spacer">
</div>
The buffer must be allocated by the user before calling this function, and its size must be at least  <i>width</i> * <i>height</i>, where  <i>width</i> and  <i>height</i> are the current width and height of the  <i>carver</i>. The energy values are ordered by row first, then by column.<div class="spacer">
</div>
The outcome will include the effect of the bias added to the  <i>carver</i>, if any.<div class="spacer">
</div>
This function can be called over non-initialised LqrCarver objects, e.g. to provide previews on the effect of different energy functions, but it can also be invoked at any later time. Note, however, that in this latter case the  <i>carver</i> could be flattened if necessary, therefore the function invocation is potentially destructive of the internal visibiliy map.<div class="spacer">
</div>
The function  <b>lqr_carvet_get_true_energy</b> is identical to the previous one, but the resulting buffer will contain the true energy, not scaled nor shifted.<div class="spacer">
</div>
The function  <b>lqr_carver_get_energy_image</b> is very similar to the function  <b>lqr_carveR_get_energy</b>, but it can be used to fill directly an image buffer of the format specified through the additional parameters  <i>col_depth</i> and  <i>image_type</i> (see  <b>LqrColDepth</b>(3) and  <b>LqrImageType</b>(3)). The  <i>buffer</i> must be passed as  <b>void*</b>, but it must point to a memory area with sufficient allocated space for the chosen image type and colour depth. The image type cannot be LQR_CUSTOM_IMAGE.<div class="spacer">
</div>
For any choice of the parameters describing the image, the resulting  <i>buffer</i> will hold a greyscale image, ranging from black (lowest energy) to white (highest energy). The opacity (alpha) will be set to 1, if present. All the information will be stored in the black channel in LQR_CMYK_IMAGE and LQR_CMYKA_IMAGE image types.</div>
<div class="section">
<h1>RETURN VALUES</h1> The return values follow the Liquid Rescale library signalling system. The function  <b>lqr_carver_get_energy_image</b> will return an error if  <i>image_type</i> is LQR_CUSTOM_IMAGE.</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>lqr_carver_set_energy_function_builtin</b>(3), <b>lqr_carver_set_energy_function</b>(3), <b>lqr_carver_bias_add</b>(3)</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright &#169; 2007-2009 Carlo Baldassi<div style="height: 0.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
10 Maj 2009</td>
<td class="foot-os">
LqR library 0.4.1 API (3:1:3)</td>
</tr>
</table>
</div>
</body>
</html>

