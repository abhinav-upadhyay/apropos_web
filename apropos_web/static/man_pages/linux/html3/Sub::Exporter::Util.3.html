<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Sub::Exporter::Util(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Sub::Exporter::Util(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Sub::Exporter::Util(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Sub::Exporter::Util - utilities to make Sub::Exporter easier</div>
<div class="section">
<h1>VERSION</h1> version 0.982</div>
<div class="section">
<h1>DESCRIPTION</h1> This module provides a number of utility functions for performing common or useful operations when setting up a Sub::Exporter configuration.  All of the utilities may be exported, but none are by default.</div>
<div class="section">
<h1>THE UTILITIES</h1><div class="subsection">
<h2>curry_method</h2><br/>
  exports =&gt; {<br/>
    some_method =&gt; curry_method,<br/>
  }<br/>
<div class="spacer">
</div>
This utility returns a generator which will produce an invocant-curried version of a method.  In other words, it will export a method call with the exporting class built in as the invocant.<div class="spacer">
</div>
A module importing the code some the above example might do this:<div class="spacer">
</div>
<br/>
  use Some::Module qw(some_method);<br/>
<br/>
  my $x = some_method;<br/>
<div class="spacer">
</div>
This would be equivalent to:<div class="spacer">
</div>
<br/>
  use Some::Module;<br/>
<br/>
  my $x = Some::Module-&gt;some_method;<br/>
<div class="spacer">
</div>
If Some::Module is subclassed and the subclass's import method is called to import &quot;some_method&quot;, the subclass will be curried in as the invocant.<div class="spacer">
</div>
If an argument is provided for &quot;curry_method&quot; it is used as the name of the curried method to export.  This means you could export a Widget constructor like this:<div class="spacer">
</div>
<br/>
  exports =&gt; { widget =&gt; curry_method('new') }<br/>
<div class="spacer">
</div>
This utility may also be called as &quot;curry_class&quot;, for backwards compatibility.</div>
<div class="subsection">
<h2>curry_chain</h2> &quot;curry_chain&quot; behaves like &quot;curry_method&quot;, but is meant for generating exports that will call several methods in succession.<div class="spacer">
</div>
<br/>
  exports =&gt; {<br/>
    reticulate =&gt; curry_chain([<br/>
      new =&gt; gather_data =&gt; analyze =&gt; [ detail =&gt; 100 ] =&gt; results<br/>
    ]),<br/>
  }<br/>
<div class="spacer">
</div>
If imported from Spliner, calling the &quot;reticulate&quot; routine will be equivalent to:<div class="spacer">
</div>
<br/>
  Splinter-&gt;new-&gt;gather_data-&gt;analyze(detail =&gt; 100)-&gt;results;<br/>
<div class="spacer">
</div>
If any method returns something on which methods may not be called, the routine croaks.<div class="spacer">
</div>
The arguments to &quot;curry_chain&quot; form an optlist.  The names are methods to be called and the arguments, if given, are arrayrefs to be dereferenced and passed as arguments to those methods.  &quot;curry_chain&quot; returns a generator like those expected by Sub::Exporter.<div class="spacer">
</div>
<b>Achtung!</b> at present, there is no way to pass arguments from the generated routine to the method calls.  This will probably be solved in future revisions by allowing the opt list's values to be subroutines that will be called with the generated routine's stack.</div>
<div class="subsection">
<h2>merge_col</h2><br/>
  exports =&gt; {<br/>
    merge_col(defaults =&gt; {<br/>
      twiddle =&gt; \'_twiddle_gen',<br/>
      tweak   =&gt; \&amp;_tweak_gen,<br/>
    }),<br/>
  }<br/>
<div class="spacer">
</div>
This utility wraps the given generator in one that will merge the named collection into its args before calling it.  This means that you can support a &quot;default&quot; collector in multipe exports without writing the code each time.<div class="spacer">
</div>
You can specify as many pairs of collection names and generators as you like.</div>
<div class="subsection">
<h2>mixin_installer</h2><br/>
  use Sub::Exporter -setup =&gt; {<br/>
    installer =&gt; Sub::Exporter::Util::mixin_installer,<br/>
    exports   =&gt; [ qw(foo bar baz) ],<br/>
  };<br/>
<div class="spacer">
</div>
This utility returns an installer that will install into a superclass and adjust the ISA importing class to include the newly generated superclass.<div class="spacer">
</div>
If the target of importing is an object, the hierarchy is reversed: the new class will be ISA the object's class, and the object will be reblessed.<div class="spacer">
</div>
<b>Prerequisites</b>: This utility requires that Package::Generator be installed.</div>
<div class="subsection">
<h2>like</h2> It's a collector that adds imports for anything like given regex.<div class="spacer">
</div>
If you provide this configuration:<div class="spacer">
</div>
<br/>
  exports    =&gt; [ qw(igrep imap islurp exhausted) ],<br/>
  collectors =&gt; { -like =&gt; Sub::Exporter::Util::like },<br/>
<div class="spacer">
</div>
A user may import from your module like this:<div class="spacer">
</div>
<br/>
  use Your::Iterator -like =&gt; qr/^i/; # imports igre, imap, islurp<br/>
<div class="spacer">
</div>
or<div class="spacer">
</div>
<br/>
  use Your::Iterator -like =&gt; [ qr/^i/ =&gt; { -prefix =&gt; 'your_' } ];<br/>
<div class="spacer">
</div>
The group-like prefix and suffix arguments are respected; other arguments are passed on to the generators for matching exports.</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Ricardo SIGNES, &quot;&lt;rjbs@cpan.org&gt;&quot;</div>
<div class="section">
<h1>BUGS</h1> Please report any bugs or feature requests through the web interface at &lt;http://rt.cpan.org&gt;. I will be notified, and then you'll automatically be notified of progress on your bug as I make changes.</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright 2006-2007, Ricardo SIGNES.  This program is free software;  you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-05-28</td>
<td class="foot-os">
perl v5.10.1</td>
</tr>
</table>
</div>
</body>
</html>

