<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XIGRABBUTTON(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XIGRABBUTTON(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XIGRABBUTTON(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XIGrabButton, XIUngrabButton, XIGrabKeycode, XIUngrabKeycode, XIGrabTouchBegin, XIUngrabTouchBegin - grab/ungrab buttons or keys</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput2.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
int XIGrabButton( Display *display,<br/>
                  int deviceid,<br/>
                  int button,<br/>
                  Window grab_window,<br/>
                  Cursor cursor,<br/>
                  int grab_mode,<br/>
                  int paired_device_mode,<br/>
                  Bool owner_events,<br/>
                  XIEventMask *mask,<br/>
                  int num_modifiers,<br/>
                  XIGrabModifiers *modifiers_inout);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
int XIUngrabButton( Display *display,<br/>
                    int deviceid,<br/>
                    int button,<br/>
                    Window grab_window,<br/>
                    int num_modifiers,<br/>
                    XIGrabModifiers *modifiers);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
int XIGrabKeycode( Display *display,<br/>
                   int deviceid,<br/>
                   int keycode,<br/>
                   Window grab_window,<br/>
                   int grab_mode,<br/>
                   int paired_device_mode,<br/>
                   Bool owner_events,<br/>
                   XIEventMask *mask,<br/>
                   int num_modifiers,<br/>
                   XIGrabModifiers *modifiers_inout);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
int XIUngrabKeycode( Display *display,<br/>
                     int deviceid,<br/>
                     int keycode,<br/>
                     Window grab_window,<br/>
                     int num_modifiers,<br/>
                     XIGrabModifiers *modifiers);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
int XIGrabTouchBegin( Display *display,<br/>
                      int deviceid,<br/>
                      Window grab_window,<br/>
                      Bool owner_events,<br/>
                      XIEventMask *mask,<br/>
                      int num_modifiers,<br/>
                      XIGrabModifiers *modifiers_inout);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
int XIUngrabTouchBegin( Display *display,<br/>
                        int deviceid,<br/>
                        Window grab_window,<br/>
                        int num_modifiers,<br/>
                        XIGrabModifiers *modifiers);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
device<br/>
       Specifies the device that is to be grabbed or released<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
button<br/>
       Specifies the device button that is to be grabbed or<br/>
       released or XIAnyButton.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
keycode<br/>
       Specifies the keycode that is to be grabbed or released<br/>
       or XIAnyKeycode.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
num_modifiers<br/>
       Number of elements in modifiers or modifiers_inout.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
modifiers<br/>
       Specifies the set of latched and base modifiers or<br/>
       XIAnyModifier to ungrab. The data type is for<br/>
       consistency with the respective grab request and the<br/>
       status code of the XIGrabModifiers struct is ignored.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
modifiers_inout<br/>
       Specifies the set of latched and base modifiers or<br/>
       XIAnyModifier to grab. Returns the modifiers that could<br/>
       not be grabbed and their error code.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
grab_window<br/>
       Specifies the grab window.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
owner_events<br/>
       Specifies a Boolean value that indicates whether the are<br/>
       to be reported as usual or reported with respect to the<br/>
       grab window.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
mask<br/>
       Specifies the event mask.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
grab_mode<br/>
       Specifies further processing of events from this device.<br/>
       You can pass XIGrabModeSync or XIGrabModeAsync.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
paired_device_mode<br/>
       Specifies further processing of events from the paired<br/>
       master device. You can pass XIGrabModeSync or<br/>
       XIGrabModeAsync. If deviceid specifies a floating slave<br/>
       device, this parameter is ignored.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
XIGrabButton, XIGrabKeycode and XIGrabTouchBegin establish a passive<br/>
grab. The modifier device for a button grab is the paired master device<br/>
if deviceid specifies a master pointer. Otherwise, the modifier<br/>
device is the device specified with deviceid. In the future,<br/>
the device is actively grabbed (as for XIGrabDevice, the<br/>
last-grab time is set to the time at which the button or keycode<br/>
was pressed and the XI_ButtonPress or XI_KeyPress event is<br/>
reported if all of the following conditions are true:<br/>
  * The device is not grabbed, and the specified button or<br/>
    keycode is logically pressed or a touch event occurs when the<br/>
    specified modifier keys are logically down on the modifier device<br/>
    and no other buttons or modifier keys are logically down.<br/>
  * Either the grab window is an ancestor of (or is) the focus<br/>
    window, OR the grab window is a descendent of the focus<br/>
    window and contains the device.<br/>
  * A passive grab on the same button/modifier combination does<br/>
    not exist on any ancestor of grab_window.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The interpretation of the remaining arguments is as for<br/>
XIGrabDevice. The active grab is terminated automatically when<br/>
the logical state of the device has all buttons or keys<br/>
released (independent of the logical state of the modifier<br/>
keys).<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If the device is an attached slave device, the device is<br/>
automatically detached from the master device when the grab<br/>
activates and reattached to the same master device when the<br/>
grab deactivates. If the master device is removed while the<br/>
device is floating as a result of a grab, the device remains<br/>
floating once the grab deactivates.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
Note that the logical state of a device (as seen by client<br/>
applications) may lag the physical state if device event<br/>
processing is frozen.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
This request overrides all previous grabs by the same client on<br/>
the same button/modifier or keycode/modifier combinations on the<br/>
same window. A modifiers of XIAnyModifier is equivalent to<br/>
issuing the grab request for all possible modifier combinations<br/>
(including the combination of no modifiers). It is not required<br/>
that all modifiers specified have currently assigned KeyCodes.<br/>
A button of XIAnyButton is equivalent to issuing the request<br/>
for all possible buttons. Otherwise, it is not required that<br/>
the specified button currently be assigned to a physical<br/>
button.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If some other client has already issued a XIGrabButton or<br/>
XIGrabKeycode with the same button/modifier or keycode/modifier<br/>
combination on the same window, a BadAccess error results. When<br/>
using XIAnyModifier or XIAnyButton , the request fails<br/>
completely, and a XIBadAccess error results (no grabs are<br/>
established) if there is a conflicting grab for any<br/>
combination. XIGrabButton and XIGrabKeycode have no effect on an<br/>
active grab.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
On success, XIGrabButton, XIGrabKeycode and XIGrabTouchBegin return 0;<br/>
If one or more modifier combinations could not be grabbed,<br/>
XIGrabButton, XIGrabKeycode and XIGrabTouchBegin return the number of<br/>
failed combinations and modifiers_inout contains the failed combinations<br/>
and their respective error codes.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIGrabButton, XIGrabKeycode and XIGrabTouchBegin can generate BadClass,<br/>
BadDevice, BadMatch, BadValue, and BadWindow errors.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIUngrabButton, XIUngrabKeycode and XIUngrabTouchBegin release the<br/>
passive grab for a button/modifier, keycode/modifier or touch/modifier<br/>
combination on the specified window if it was grabbed by this client. A<br/>
modifier of XIAnyModifier is equivalent to issuing the ungrab request<br/>
for all possible modifier combinations, including the<br/>
combination of no modifiers. A button of XIAnyButton is<br/>
equivalent to issuing the request for all possible buttons.<br/>
XIUngrabButton and XIUngrabKeycode have no effect on an active<br/>
grab.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIUngrabButton, XIUngrabKeycode and XIUngrabTouchBegin can generate<br/>
BadDevice, BadMatch, BadValue and BadWindow errors.<br/>
</div>
</div>
<div class="section">
<h1>RETURN VALUE</h1><div style="margin-left: 4.00ex;">
<br/>
XIGrabButton, XIGrabKeycode and XIGrabTouchBegin return the number of<br/>
modifier combination that could not establish a passive grab. The<br/>
modifiers are returned in modifiers_inout, along with the respective<br/>
error for this modifier combination. If XIGrabButton, XIGrabKeycode<br/>
or XIGrabTouchBegin return zero, passive grabs with all requested<br/>
modifier combinations were established successfully.<br/>
</div>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><div style="margin-left: 4.00ex;">
<br/>
BadDevice<br/>
       An invalid deviceid was specified.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadMatch<br/>
       This error may occur if XIGrabButton specified a device<br/>
       that has no buttons, or XIGrabKeycode specified a device<br/>
       that has no keys, or XIGrabTouchBegin specified a device<br/>
       that is not touch-capable.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadValue<br/>
       Some numeric value falls outside the range of values<br/>
       accepted by the request. Unless a specific range is<br/>
       specified for an argument, the full range defined by the<br/>
       argument's type is accepted. Any argument defined as a<br/>
       set of alternatives can generate this error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadWindow<br/>
       A value for a Window argument does not name a defined<br/>
       Window.<br/>
</div>
</div>
<div class="section">
<h1>BUGS</h1><div style="margin-left: 4.00ex;">
<br/>
The protocol headers for XI 2.0 did not provide<br/>
XIGrabModeAsync or XIGrabModeSync. Use GrabModeSync and<br/>
GrabModeAsync instead, respectively.<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1><div style="margin-left: 4.00ex;">
<br/>
XIAllowEvents(3)<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

