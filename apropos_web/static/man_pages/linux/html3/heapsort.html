<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
QSORT(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">heapsort</b>, <b class="name">mergesort</b> &#8212; <span class="desc">sort functions</span></div>
<div class="section">
<h1 id="x4c494252415259">LIBRARY</h1> <span class="lib">library &#8220;libbsd&#8221;</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">bsd/stdlib.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">heapsort</b>(<i class="farg">void *base</i>, <i class="farg">size_t nmemb</i>, <i class="farg">size_t size</i>, <i class="farg">int (*compar)(const void *, const void *)</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">mergesort</b>(<i class="farg">void *base</i>, <i class="farg">size_t nmemb</i>, <i class="farg">size_t size</i>, <i class="farg">int (*compar)(const void *, const void *)</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1> The <b class="fname">heapsort</b>() function is a modified selection sort. The <b class="fname">mergesort</b>() function is a modified merge sort with exponential search intended for sorting data with pre-existing order.<div class="spacer">
</div>
The <b class="fname">heapsort</b>() function sorts an array of <i class="farg">nmemb</i> objects, the initial member of which is pointed to by <i class="farg">base</i>. The size of each object is specified by <i class="farg">size</i>. The <b class="fname">mergesort</b>() function behaves similarly, but <span class="emph">requires</span> that <i class="farg">size</i> be greater than &#8220;sizeof(void *) / 2&#8221;.<div class="spacer">
</div>
The contents of the array <i class="farg">base</i> are sorted in ascending order according to a comparison function pointed to by <i class="farg">compar</i>, which requires two arguments pointing to the objects being compared.<div class="spacer">
</div>
The comparison function must return an integer less than, equal to, or greater than zero if the first argument is considered to be respectively less than, equal to, or greater than the second.<div class="spacer">
</div>
The algorithm implemented by <b class="fname">heapsort</b>() is <span class="emph">not</span> stable, that is, if two members compare as equal, their order in the sorted array is undefined. The <b class="fname">mergesort</b>() algorithm is stable.<div class="spacer">
</div>
The <b class="fname">heapsort</b>() function is an implementation of <span class="author">J.W.J. William</span>'s &#8220;heapsort&#8221; algorithm, a variant of selection sorting; in particular, see <span class="author">D.E. Knuth</span>'s <span class="ref-title">Algorithm H.</span> <span class="symb">Heapsort</span> takes O N lg N worst-case time. Its <span class="emph">only</span> advantage over <b class="fname">qsort</b>() is that it uses almost no additional memory; while <b class="fname">qsort</b>() does not allocate memory, it is implemented using recursion.<div class="spacer">
</div>
The function <b class="fname">mergesort</b>() requires additional memory of size <i class="farg">nmemb *</i> <i class="farg">size</i> bytes; it should be used only when space is not at a premium. The <b class="fname">mergesort</b>() function is optimized for data with pre-existing order; its worst case time is O N lg N; its best case is O N.<div class="spacer">
</div>
Normally, <b class="fname">qsort</b>() is faster than <b class="fname">mergesort</b>() is faster than <b class="fname">heapsort</b>(). Memory availability and pre-existing order in the data can make this untrue.</div>
<div class="section">
<h1 id="x52455455524e2056414c554553">RETURN VALUES</h1> The <b class="fname">heapsort</b>() and <b class="fname">mergesort</b>() functions return the value&#160;0 if successful; otherwise the value&#160;-1 is returned and the global variable <b class="var">errno</b> is set to indicate the error.</div>
<div class="section">
<h1 id="x4552524f5253">ERRORS</h1> The <b class="fname">heapsort</b>() and <b class="fname">mergesort</b>() functions succeed unless:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">EINVAL</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <i class="farg">size</i> argument is zero, or, the <i class="farg">size</i> argument to <b class="fname">mergesort</b>() is less than &#8220;sizeof(void *) / 2&#8221;.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
[<span class="errno">ENOMEM</span>]</dt>
<dd class="list-tag" style="margin-left: 17.00ex;">
The <b class="fname">heapsort</b>() or <b class="fname">mergesort</b>() functions were unable to allocate memory.</dd>
</dl>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="/man/linux/1/sort">sort(1)</a>, <a class="link-man" href="/man/linux/3/radixsort">radixsort(3)</a><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">Williams, J.W.J</span>, <span class="ref-title">Heapsort</span>, <i class="ref-jrnl">Communications of the ACM</i>, <span class="ref-vol">7:1</span>, <span class="ref-page">pp. 347-348</span>, <span class="ref-date">1964</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">Knuth, D.E.</span>, <span class="ref-title">Sorting and Searching</span>, <i class="ref-book">The Art of Computer Programming</i>, <span class="ref-vol">Vol. 3</span>, <span class="ref-page">pp. 114-123, 145-149</span>, <span class="ref-date">1968</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">McIlroy, P.M.</span>, <span class="ref-title">Optimistic Sorting and Information Theoretic Complexity</span>, <i class="ref-jrnl">Fourth Annual ACM-SIAM Symposium on Discrete Algorithms</i>, <span class="ref-vol">January 1992</span>.</span><div class="spacer">
</div>
<span class="ref"><span class="ref-auth">Bentley, J.L.</span> and <span class="ref-auth">McIlroy, M.D.</span>, <span class="ref-title">Engineering a Sort Function</span>, <i class="ref-jrnl">Software--Practice and Experience</i>, <span class="ref-vol">Vol. 23(11)</span>, <span class="ref-page">pp. 1249-1265</span>, <span class="ref-date">November&#160;1993</span>.</span></div>
</div>
</body>
</html>

