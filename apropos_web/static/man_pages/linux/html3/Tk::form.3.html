<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
form(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
form(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
form(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Tk::form - Geometry manager based on attachment rules</div>
<div class="section">
<h1>SYNOPSIS</h1> &#160;&#160;&#160;&#160; <i></i><i>$widget</i><i></i>-&gt;<b>form</b>?(<i>args</i>)?<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$widget</i><i></i>-&gt;<b>form</b><i>Option</i>?(<i>args</i>)?</div>
<div class="section">
<h1>DESCRIPTION</h1> The  <b>form</b> method is used to communicate with the  <b>form</b> Geometry Manager, a geometry manager that arranges the geometry of the children in a parent window according to attachment rules. The  <b>form</b> geometry manager is very flexible and powerful; it can be used to emulate all the existing features of the Tk packer and placer geometry managers (see pack, place). The  <b>form</b> method can have any of several forms, depending on  <i>Option</i>:<dl>
<dt>
<i></i><i>$slave</i><i></i>-&gt;<b>form</b>?(<i>options</i>)?</dt>
<dd>
Sets or adjusts the attachment values of the slave window according to the  <i>-option</i>=&gt;<i>value</i> argument pairs.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
<b>-b</b> =&gt; <i>attachment</i></dt>
<dd>
Abbreviation for the <b>-bottom</b> option.</dd>
</dl>
<dl>
<dt>
<b>-bottom</b> =&gt; <i>attachment</i></dt>
<dd>
Specifies an attachment for the bottom edge of the slave window. The attachment must specified according to &quot;SPECIFYING ATTACHMENTS&quot; below.</dd>
</dl>
<dl>
<dt>
<b>-bottomspring</b> =&gt; <i>weight</i></dt>
<dd>
Specifies the weight of the spring at the bottom edge of the slave window. See &quot;USING SPRINGS&quot; below.</dd>
</dl>
<dl>
<dt>
<b>-bp</b> =&gt; <i>value</i></dt>
<dd>
Abbreviation for the <b>-padbottom</b> option.</dd>
</dl>
<dl>
<dt>
<b>-bs</b> =&gt; <i>weight</i></dt>
<dd>
Abbreviation for the <b>-bottomspring</b> option.</dd>
</dl>
<dl>
<dt>
<b>-fill</b> =&gt; <i>style</i></dt>
<dd>
Specifies the fillings when springs are used for this widget. The value must be  <b>x</b>, <b>y</b>, <b>both</b> or <b>none</b>.</dd>
</dl>
<dl>
<dt>
<b>-in</b> =&gt; <i></i><i>$master</i><i></i></dt>
<dd>
Places the slave window into the specified <i></i><i>$master</i><i></i> window. If the slave was originally in another master window, all attachment values with respect to the original master window are discarded. Even if the attachment values are the same as in the original master window, they need to be specified again.  The  <b>-in</b> flag, when needed, must appear as the first flag of  <i>options</i>. Otherwise an error is generated.</dd>
</dl>
<dl>
<dt>
<b>-l</b> =&gt; <i>attachment</i></dt>
<dd>
Abbreviation for the <b>-left</b> option.</dd>
</dl>
<dl>
<dt>
<b>-left</b> =&gt; <i>attachment</i></dt>
<dd>
Specifies an attachment for the left edge of the slave window. The attachment must specified according to &quot;SPECIFYING ATTACHMENTS&quot; below.</dd>
</dl>
<dl>
<dt>
<b>-leftspring</b> =&gt; <i>weight</i></dt>
<dd>
Specifies the weight of the spring at the left edge of the slave window. See &quot;USING SPRINGS&quot; below.</dd>
</dl>
<dl>
<dt>
<b>-lp</b> =&gt; <i>value</i></dt>
<dd>
Abbreviation for the <b>-padleft</b> option.</dd>
</dl>
<dl>
<dt>
<b>-ls</b> =&gt; <i>weight</i></dt>
<dd>
Abbreviation for the <b>-leftspring</b> option.</dd>
</dl>
<dl>
<dt>
<b>-padbottom</b> =&gt; <i>value</i></dt>
<dd>
Specifies the amount of external padding to leave on the bottom side of the slave. The  <i>value</i> may have any of the forms acceptable to  <b>Tk_GetPixels</b>.</dd>
</dl>
<dl>
<dt>
<b>-padleft</b> =&gt; <i>value</i></dt>
<dd>
Specifies the amount of external padding to leave on the left side of the slave.</dd>
</dl>
<dl>
<dt>
<b>-padright</b> =&gt; <i>value</i></dt>
<dd>
Specifies the amount of external padding to leave on the right side of the slave.</dd>
</dl>
<dl>
<dt>
<b>-padtop</b> =&gt; <i>value</i></dt>
<dd>
Specifies the amount of external padding to leave on the top side of the slave.</dd>
</dl>
<dl>
<dt>
<b>-padx</b> =&gt; <i>value</i></dt>
<dd>
Specifies the amount of external padding to leave on both the left and the right sides of the slave.</dd>
</dl>
<dl>
<dt>
<b>-pady</b> =&gt; <i>value</i></dt>
<dd>
Specifies the amount of external padding to leave on both the top and the bottom sides of the slave.</dd>
</dl>
<dl>
<dt>
<b>-r</b> =&gt; <i>attachment</i></dt>
<dd>
Abbreviation for the <b>-right</b> option.</dd>
</dl>
<dl>
<dt>
<b>-right</b> =&gt; <i>attachment</i></dt>
<dd>
Specifies an attachment for the right edge of the slave window. The attachment must specified according to &quot;SPECIFYING ATTACHMENTS&quot; below.</dd>
</dl>
<dl>
<dt>
<b>-rightspring</b> =&gt; <i>weight</i></dt>
<dd>
Specifies the weight of the spring at the right edge of the slave window. See &quot;USING SPRINGS&quot; below.</dd>
</dl>
<dl>
<dt>
<b>-rp</b>  =&gt; <i>value</i></dt>
<dd>
Abbreviation for the <b>-padright</b> option.</dd>
</dl>
<dl>
<dt>
<b>-rs</b> =&gt; <i>weight</i></dt>
<dd>
Abbreviation for the <b>-rightspring</b> option.</dd>
</dl>
<dl>
<dt>
<b>-t</b> =&gt; <i>attachment</i></dt>
<dd>
Abbreviation for the <b>-top</b> option.</dd>
</dl>
<dl>
<dt>
<b>-top</b> =&gt; <i>attachment</i></dt>
<dd>
Specifies an attachment for the top edge of the slave window. The attachment must specified according to &quot;SPECIFYING ATTACHMENTS&quot; below.</dd>
</dl>
<dl>
<dt>
<b>-topspring</b> =&gt; <i>weight</i></dt>
<dd>
Specifies the weight of the spring at the top edge of the slave window. See &quot;USING SPRINGS&quot; below.</dd>
</dl>
<dl>
<dt>
<b>-tp</b> =&gt; <i>value</i></dt>
<dd>
Abbreviation for the <b>-padtop</b> option.</dd>
</dl>
<dl>
<dt>
<b>-ts</b> =&gt; <i>weight</i></dt>
<dd>
Abbreviation for the <b>-topspring</b> option.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
<i></i><i>$master</i><i></i>-&gt;<b>formCheck</b></dt>
<dd>
This method checks whether there is circular dependency in the attachments of the master's slaves (see &quot;CIRCULAR DEPENDENCY&quot; below). It returns the Boolean value  <b>TRUE</b> if it discover circular dependency and  <b>FALSE</b> otherwise.</dd>
</dl>
<dl>
<dt>
<i></i><i>$slave</i><i></i>-&gt;<b>formForget</b></dt>
<dd>
Removes the slave from its master and unmaps its window. The slave will no longer be managed by form. All attachment values with respect to its master window are discarded. If another slave is attached to this slave, then the attachment of the other slave will be changed to grid attachment based on its geometry.</dd>
</dl>
<dl>
<dt>
<i></i><i>$master</i><i></i>-&gt;<b>formGrid</b>?(<i>x_size, y_size</i>)?</dt>
<dd>
When <i>x_size</i> and <i>y_size</i> are given, this method returns the number of grids of the  <i></i><i>$master</i><i></i> window in a pair of integers of the form ( <i>x_size, y_size</i>). When both <i>x_size</i> and <i>y_size</i> are given, this method changes the number of horizontal and vertical grids on the master window.</dd>
</dl>
<dl>
<dt>
<i></i><i>$slave</i><i></i>-&gt;<b>formInfo</b>?(<i>-option)</i>?</dt>
<dd>
Queries the attachment options of a slave window. <i>-option</i> can be any of the options accepted by the  <b>form</b> method. If  <i>-option</i> is given, only the value of that option is returned. Otherwise, this method returns a list whose elements are the current configuration state of the slave given in the same  <i>option-value</i> form that might be specified to  <b>form</b>. The first two elements in this list list are &quot; <b>-in</b>=&gt;<i></i><i>$master</i><i></i>&quot; where  <i></i><i>$master</i><i></i> is the slave's master window.</dd>
</dl>
<dl>
<dt>
<i></i><i>$master</i><i></i>-&gt;<b>formSlaves</b></dt>
<dd>
Returns a list of all of the slaves for the master window. The order of the slaves in the list is the same as their order in the packing order. If master has no slaves then an empty string is returned.</dd>
</dl>
</div>
<div class="section">
<h1>SPECIFYING ATTACHMENTS</h1> One can specify an attachment for each side of a slave window managed by form. An attachment is specified in the the form &quot;- <i>side</i> =&gt; [ <i>anchor_point</i>, <i>offset</i>]&quot;. -<i>side</i> can be one of  <b>-top</b>, <b>-bottom</b>, <b>-left</b> or <b>-right</b>.<div class="spacer">
</div>
<i>Offset</i> is given in screen units (i.e. any of the forms acceptable to  <b>Tk_GetPixels</b>).  A positive offset indicates shifting to a position to the right or bottom of an anchor point. A negative offset indicates shifting to a position to the left or top of an anchor point.<div class="spacer">
</div>
<i>Anchor_point</i> can be given in one of the following forms:<dl>
<dt>
<b>Grid Attachment</b></dt>
<dd>
The master window is divided into a number of horizontal and vertical grids. By default the master window is divided into 100x100 grids; the number of grids can be adjusted by the  <b>formGrid</b> method. A grid attachment anchor point is given by a  <b>%</b> sign followed by an integer value. For example,  <b>'%0'</b> specifies the first grid line (the top or left edge of the master window).  <b>'%100'</b> specifies the last grid line (the bottom or right edge of the master window).</dd>
</dl>
<dl>
<dt>
<b>Opposite Side Attachment</b></dt>
<dd>
Opposite attachment specifies an anchor point located on the  <b>opposite</b> side of another slave widget, which must be managed by form in the same master window. An opposite attachment anchor point is given by the name of another widget. For example, &quot; <i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-top</b>=&gt;[<i></i><i>$a</i><i></i>,0])&quot; attaches the top side of the widget <i></i><i>$b</i><i></i> to the bottom of the widget  <i></i><i>$a</i><i></i>.</dd>
</dl>
<dl>
<dt>
<b>Parallel Side Attachment</b></dt>
<dd>
Opposite attachment specifies an anchor point located on the  <b>same</b> side of another slave widget, which must be managed by form in the same master window. An parallel attachment anchor point is given by the sign  <b>&amp;</b> follwed by the name of another widget. For example, &quot; <i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-top</b>=&gt;['&amp;',<i></i><i>$a</i><i></i>,0])&quot; attaches the top side of the widget  <i></i><i>$b</i><i></i> to the top of the widget <i></i><i>$a</i><i></i>, making the top sides of these two widgets at the same vertical position in their parent window.</dd>
</dl>
<dl>
<dt>
<b>No Attachment</b></dt>
<dd>
Specifies a side of the slave to be attached to nothing, indicated by the keyword  <b>none</b>. When the <b>none</b> anchor point is given, the offset must be zero (or not present). When a side of a slave is attached to  <b>['none', 0]</b>, the position of this side is calculated by the position of the other side and the natural size of the slave. For example, if a the left side of a widget is attached to  <b>['%0', 100]</b>, its right side attached to  <b>['none', 0]</b>, and the natural size of the widget is <b>50</b> pixels, the right side of the widget will be positioned at pixel  <b>['%0', 149]</b>. When both  <b>-top</b> and <b>-bottom</b> are attached to <b>none</b>, then by default  <b>-top</b> will be attached to <b>['%0', 0]</b>. When both  <b>-left</b> and <b>-right</b> are attached to none, then by default  <b>-left</b> will be attached to <b>['%0', 0]</b>.</dd>
</dl>
<div class="spacer">
</div>
Shifting effects can be achieved by specifying a non-zero offset with an anchor point. In the following example, the top side of widget  <i>\$b</i> is attached to the bottom of  <i>\$a</i>; hence <i>\$b</i> always appears below  <i>\$a</i>.  Also, the left edge of <i>\$b</i> is attached to the left side of  <i>\$a</i> with a 10 pixel offest.  Therefore, the left edge of  <i>\$b</i> is always shifted 10 pixels to the right of  <i>\$a</i>'s left edge:<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-left</b>=&gt;[<i></i><i>$a</i><i></i>,10], <b>-top</b>=&gt;[<i></i><i>$a</i><i></i>,0]);<div class="subsection">
<h2>ABBREVIATIONS:</h2> Certain abbreviations can be made on the attachment specifications: First an offset of zero can be omitted. Thus, the following two lines are equivalent:<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-top</b>=&gt;[<i></i><i>$a</i><i></i>,0], <b>-right</b>=&gt;['%100',0]);<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-top</b>=&gt;[<i></i><i>$a</i><i></i>], <b>-right</b>=&gt;'%100');<div class="spacer">
</div>
In the second case, when the anchor point is omitted, the offset must be given. A default anchor point is chosen according to the value of the offset. If the anchor point is  <b>0</b> or positive, the default anchor point %0 is used; thus, &quot; <i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-top</b>=&gt;15)&quot; attaches the top edge of  <i></i><i>$b</i><i></i> to a position 15 pixels below the top edge of the master window. If the anchor point is &quot; <b>-0</b>&quot; or negative, the default anchor point  <b></b><b>%100</b><b></b> is used; thus, &quot;<i></i><i>$a</i><i></i>-&gt;<b>form</b>(<b>-right</b>=&gt;-2)&quot; attaches the right edge of  <i>\$a</i> to a position 2 pixels to the left of the master window's right edge.  An further example below shows a method with its equivalent abbreviation.<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-top</b>=&gt;['%0',10], <b>-bottom</b>=&gt;['%100',0]);<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-top</b>=&gt;10, <b>-bottom</b>=&gt;-0);</div>
</div>
<div class="section">
<h1>USING SPRINGS</h1> To be written.</div>
<div class="section">
<h1>ALGORITHM OF FORM</h1>  <b>form</b> starts with any slave in the list of slaves of the master window. Then it tries to determine the position of each side of the slave.<div class="spacer">
</div>
If the attachment of a side of the slave is grid attachment, the position of the side is readily determined.<div class="spacer">
</div>
If the attachment of this side is <b>none</b>, then form tries to determine the position of the opposite side first, and then use the position of the opposite side and the natural size of the slave to determine the position of this side.<div class="spacer">
</div>
If the attachment is opposite or parallel widget attachments, then form tries to determine the positions of the other widget first, and then use the positions of the other widget and the natural size of the slave determine the position of this side. This recursive algorithmis carried on until the positions of all slaves are determined.</div>
<div class="section">
<h1>CIRCULAR DEPENDENCY</h1> The algorithm of form will fail if a circular dependency exists in the attachments of the slaves. For example:<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$c</i><i></i>-&gt;<b>form</b>(<b>-left</b>=&gt;<i></i><i>$b</i><i></i>);<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-right</b>=&gt;<i></i><i>$c</i><i></i>);<div class="spacer">
</div>
In this example, the position of the left side of <i></i><i>$b</i><i></i> depends on the right side of  <i></i><i>$c</i><i></i>, which in turn depends on the left side of <i></i><i>$b</i><i></i>.<div class="spacer">
</div>
When a circular dependency is discovered during the execution of the form algorithm, form will generate a background error and the geometry of the slaves are undefined (and will be arbitrary). Notice that form only executes the algorithm when the specification of the slaves' attachments is complete.  Therefore, it allows intermediate states of circular dependency during the specification of the slaves' attachments.  Also, unlike the Motif Form manager widget, form defines circular dependency as `` <i>dependency in the same dimension</i>''. Therefore, the following code fragment will does not have circular dependency because the two widgets do not depend on each other in the same dimension ( <i></i><i>$b</i><i></i> depends <i></i><i>$c</i><i></i> in the horizontal dimension and  <i></i><i>$c</i><i></i> depends on <i></i><i>$b</i><i></i> in the vertical dimension):<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$b</i><i></i>-&gt;<b>form</b>(<b>-left</b>=&gt;<i></i><i>$c</i><i></i>);<div class="spacer">
</div>
&#160;&#160;&#160;&#160;<i></i><i>$c</i><i></i>-&gt;<b>form</b>(<b>-top</b>=&gt;<i></i><i>$b</i><i></i>);</div>
<div class="section">
<h1>BUGS</h1> Springs have not been fully implemented yet.</div>
<div class="section">
<h1>SEE ALSO</h1> Tk::grid Tk::pack Tk::place</div>
<div class="section">
<h1>KEYWORDS</h1> geometry manager, form, attachment, spring, propagation, size, pack, tix, master, slave</div>
<table class="foot">
<tr>
<td class="foot-date">
2007-02-10</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

