<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
STRFTIME(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
STRFTIME(3)</td>
<td class="head-vol">
Linux Programmer's Manual</td>
<td class="head-rtitle">
STRFTIME(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> strftime - format date and time</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>#include &lt;time.h&gt;</b><div style="height: 1.00em;">
&#160;</div>
<br/>
<b>size_t strftime(char *</b><i>s</i><b>, size_t </b><i>max</i><b>, const char *</b><i>format</i><b>,</b><br/>
<b>                const struct tm *</b><i>tm</i><b>);</b><br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>strftime</b>() function formats the broken-down time  <i>tm</i> according to the format specification  <i>format</i> and places the result in the character array  <i>s</i> of size <i>max</i>.<div class="spacer">
</div>
The format specification is a null-terminated string and may contain special character sequences called <i>conversion specifications</i>, each of which is introduced by a '%' character and terminated by some other character known as a <i>conversion specifier character</i>. All other character sequences are <i>ordinary character sequences</i>.<div class="spacer">
</div>
The characters of ordinary character sequences (including the null byte) are copied verbatim from  <i>format</i> to <i>s</i>. However, the characters of conversion specifications are replaced as follows:<dl>
<dt>
<b>%a</b></dt>
<dd>
The abbreviated weekday name according to the current locale.</dd>
</dl>
<dl>
<dt>
<b>%A</b></dt>
<dd>
The full weekday name according to the current locale.</dd>
</dl>
<dl>
<dt>
<b>%b</b></dt>
<dd>
The abbreviated month name according to the current locale.</dd>
</dl>
<dl>
<dt>
<b>%B</b></dt>
<dd>
The full month name according to the current locale.</dd>
</dl>
<dl>
<dt>
<b>%c</b></dt>
<dd>
The preferred date and time representation for the current locale.</dd>
</dl>
<dl>
<dt>
<b>%C</b></dt>
<dd>
The century number (year/100) as a 2-digit integer. (SU)</dd>
</dl>
<dl>
<dt>
<b>%d</b></dt>
<dd>
The day of the month as a decimal number (range 01 to 31).</dd>
</dl>
<dl>
<dt>
<b>%D</b></dt>
<dd>
Equivalent to <b>%m/%d/%y</b>. (Yecch&#8212;for Americans only. Americans should note that in other countries <b>%d/%m/%y</b> is rather common. This means that in international context this format is ambiguous and should not be used.) (SU)</dd>
</dl>
<dl>
<dt>
<b>%e</b></dt>
<dd>
Like <b>%d</b>, the day of the month as a decimal number, but a leading zero is replaced by a space. (SU)</dd>
</dl>
<dl>
<dt>
<b>%E</b></dt>
<dd>
Modifier: use alternative format, see below. (SU)</dd>
</dl>
<dl>
<dt>
<b>%F</b></dt>
<dd>
Equivalent to <b>%Y-%m-%d</b> (the ISO&#160;8601 date format). (C99)</dd>
</dl>
<dl>
<dt>
<b>%G</b></dt>
<dd>
The ISO&#160;8601 week-based year (see NOTES) with century as a decimal number. The 4-digit year corresponding to the ISO week number (see <b>%V</b>). This has the same format and value as <b>%Y</b>, except that if the ISO week number belongs to the previous or next year, that year is used instead. (TZ)</dd>
</dl>
<dl>
<dt>
<b>%g</b></dt>
<dd>
Like <b>%G</b>, but without century, that is, with a 2-digit year (00-99). (TZ)</dd>
</dl>
<dl>
<dt>
<b>%h</b></dt>
<dd>
Equivalent to <b>%b</b>. (SU)</dd>
</dl>
<dl>
<dt>
<b>%H</b></dt>
<dd>
The hour as a decimal number using a 24-hour clock (range 00 to 23).</dd>
</dl>
<dl>
<dt>
<b>%I</b></dt>
<dd>
The hour as a decimal number using a 12-hour clock (range 01 to 12).</dd>
</dl>
<dl>
<dt>
<b>%j</b></dt>
<dd>
The day of the year as a decimal number (range 001 to 366).</dd>
</dl>
<dl>
<dt>
<b>%k</b></dt>
<dd>
The hour (24-hour clock) as a decimal number (range 0 to 23); single digits are preceded by a blank. (See also <b>%H</b>.) (TZ)</dd>
</dl>
<dl>
<dt>
<b>%l</b></dt>
<dd>
The hour (12-hour clock) as a decimal number (range 1 to 12); single digits are preceded by a blank. (See also <b>%I</b>.) (TZ)</dd>
</dl>
<dl>
<dt>
<b>%m</b></dt>
<dd>
The month as a decimal number (range 01 to 12).</dd>
</dl>
<dl>
<dt>
<b>%M</b></dt>
<dd>
The minute as a decimal number (range 00 to 59).</dd>
</dl>
<dl>
<dt>
<b>%n</b></dt>
<dd>
A newline character. (SU)</dd>
</dl>
<dl>
<dt>
<b>%O</b></dt>
<dd>
Modifier: use alternative format, see below. (SU)</dd>
</dl>
<dl>
<dt>
<b>%p</b></dt>
<dd>
Either &quot;AM&quot; or &quot;PM&quot; according to the given time value, or the corresponding strings for the current locale. Noon is treated as &quot;PM&quot; and midnight as &quot;AM&quot;.</dd>
</dl>
<dl>
<dt>
<b>%P</b></dt>
<dd>
Like <b>%p</b> but in lowercase: &quot;am&quot; or &quot;pm&quot; or a corresponding string for the current locale. (GNU)</dd>
</dl>
<dl>
<dt>
<b>%r</b></dt>
<dd>
The time in a.m. or p.m. notation. In the POSIX locale this is equivalent to <b>%I:%M:%S %p</b>. (SU)</dd>
</dl>
<dl>
<dt>
<b>%R</b></dt>
<dd>
The time in 24-hour notation (<b>%H:%M</b>). (SU) For a version including the seconds, see <b>%T</b> below.</dd>
</dl>
<dl>
<dt>
<b>%s</b></dt>
<dd>
The number of seconds since the Epoch, 1970-01-01 00:00:00 +0000 (UTC). (TZ)</dd>
</dl>
<dl>
<dt>
<b>%S</b></dt>
<dd>
The second as a decimal number (range 00 to 60). (The range is up to 60 to allow for occasional leap seconds.)</dd>
</dl>
<dl>
<dt>
<b>%t</b></dt>
<dd>
A tab character. (SU)</dd>
</dl>
<dl>
<dt>
<b>%T</b></dt>
<dd>
The time in 24-hour notation (<b>%H:%M:%S</b>). (SU)</dd>
</dl>
<dl>
<dt>
<b>%u</b></dt>
<dd>
The day of the week as a decimal, range 1 to 7, Monday being 1. See also <b>%w</b>. (SU)</dd>
</dl>
<dl>
<dt>
<b>%U</b></dt>
<dd>
The week number of the current year as a decimal number, range 00 to 53, starting with the first Sunday as the first day of week 01. See also <b>%V</b> and <b>%W</b>.</dd>
</dl>
<dl>
<dt>
<b>%V</b></dt>
<dd>
The ISO&#160;8601 week number (see NOTES) of the current year as a decimal number, range 01 to 53, where week 1 is the first week that has at least 4 days in the new year. See also <b>%U</b> and <b>%W</b>. (SU)</dd>
</dl>
<dl>
<dt>
<b>%w</b></dt>
<dd>
The day of the week as a decimal, range 0 to 6, Sunday being 0. See also <b>%u</b>.</dd>
</dl>
<dl>
<dt>
<b>%W</b></dt>
<dd>
The week number of the current year as a decimal number, range 00 to 53, starting with the first Monday as the first day of week 01.</dd>
</dl>
<dl>
<dt>
<b>%x</b></dt>
<dd>
The preferred date representation for the current locale without the time.</dd>
</dl>
<dl>
<dt>
<b>%X</b></dt>
<dd>
The preferred time representation for the current locale without the date.</dd>
</dl>
<dl>
<dt>
<b>%y</b></dt>
<dd>
The year as a decimal number without a century (range 00 to 99).</dd>
</dl>
<dl>
<dt>
<b>%Y</b></dt>
<dd>
The year as a decimal number including the century.</dd>
</dl>
<dl>
<dt>
<b>%z</b></dt>
<dd>
The <i>+hhmm</i> or <i>-hhmm</i> numeric timezone (that is, the hour and minute offset from UTC). (SU)</dd>
</dl>
<dl>
<dt>
<b>%Z</b></dt>
<dd>
The timezone or name or abbreviation.</dd>
</dl>
<dl>
<dt>
<b>%+</b></dt>
<dd>
The date and time in <b>date</b>(1) format. (TZ) (Not supported in glibc2.)</dd>
</dl>
<dl>
<dt>
<b>%%</b></dt>
<dd>
A literal '%' character.</dd>
</dl>
<div class="spacer">
</div>
Some conversion specifications can be modified by preceding the conversion specifier character by the <b>E</b> or <b>O</b> <i>modifier</i> to indicate that an alternative format should be used. If the alternative format or specification does not exist for the current locale, the behavior will be as if the unmodified conversion specification were used. (SU) The Single UNIX Specification mentions <b>%Ec</b>, <b>%EC</b>, <b>%Ex</b>, <b>%EX</b>, <b>%Ey</b>, <b>%EY</b>, <b>%Od</b>, <b>%Oe</b>, <b>%OH</b>, <b>%OI</b>, <b>%Om</b>, <b>%OM</b>, <b>%OS</b>, <b>%Ou</b>, <b>%OU</b>, <b>%OV</b>, <b>%Ow</b>, <b>%OW</b>, <b>%Oy</b>, where the effect of the <b>O</b> modifier is to use alternative numeric symbols (say, roman numerals), and that of the E modifier is to use a locale-dependent alternative representation.<div class="spacer">
</div>
The broken-down time structure <i>tm</i> is defined in <i>&lt;time.h&gt;</i>. See also <b>ctime</b>(3).</div>
<div class="section">
<h1>RETURN VALUE</h1> The <b>strftime</b>() function returns the number of characters placed in the array  <i>s</i>, not including the terminating null byte, provided the string, including the terminating null byte, fits. Otherwise, it returns 0, and the contents of the array is undefined. (This behavior applies since at least libc 4.4.4; very old versions of libc, such as libc 4.4.1, would return  <i>max</i> if the array was too small.)<div class="spacer">
</div>
Note that the return value 0 does not necessarily indicate an error; for example, in many locales <b>%p</b> yields an empty string.</div>
<div class="section">
<h1>ENVIRONMENT</h1> The environment variables <b>TZ</b> and <b>LC_TIME</b> are used.</div>
<div class="section">
<h1>CONFORMING TO</h1> SVr4, C89, C99. There are strict inclusions between the set of conversions given in ANSI C (unmarked), those given in the Single UNIX Specification (marked SU), those given in Olson's timezone package (marked TZ), and those given in glibc (marked GNU), except that <b>%+</b> is not supported in glibc2. On the other hand glibc2 has several more extensions. POSIX.1 only refers to ANSI C; POSIX.2 describes under <b>date</b>(1) several extensions that could apply to <b>strftime</b>() as well. The <b>%F</b> conversion is in C99 and POSIX.1-2001.<div style="height: 1.00em;">
&#160;</div>
In SUSv2, the <b>%S</b> specifier allowed a range of 00 to 61, to allow for the theoretical possibility of a minute that included a double leap second (there never has been such a minute).</div>
<div class="section">
<h1>NOTES</h1><div class="subsection">
<h2>ISO 8601 Week Dates</h2> <b>%G</b>, <b>%g</b>, and <b>%V</b> yield values calculated from the week-based year defined by the ISO&#160;8601 standard. In this system, weeks start on a Monday, and are numbered from 01, for the first week, up to 52 or 53, for the last week. Week 1 is the first week where four or more days fall within the new year (or, synonymously, week 01 is: the first week of the year that contains a Thursday; or, the week that has 4 January in it). When three of fewer days of the first calendar week of the new year fall within that year, then the ISO 8601 week-based system counts those days as part of week 53 of the preceding year. For example, 1 January 2010 is a Friday, meaning that just three days of that calendar week fall in 2010. Thus, the ISO&#160;8601 week-based system considers these days to be part of week 53 ( <b>%V</b>) of the year 2009 (<b>%G</b>) ; week 01 of ISO&#160;8601 year 2010 starts on Monday, 4 January 2010.</div>
<div class="subsection">
<h2>Glibc Notes</h2> Glibc provides some extensions for conversion specifications. (These extensions are not specified in POSIX.1-2001, but a few other systems provide similar features.) Between the '%' character and the conversion specifier character, an optional <i>flag</i> and field <i>width</i> may be specified. (These precede the <b>E</b> or <b>O</b> modifiers, if present.)<div style="height: 1.00em;">
&#160;</div>
The following flag characters are permitted:<dl>
<dt>
<b>_</b></dt>
<dd>
(underscore) Pad a numeric result string with spaces.</dd>
</dl>
<dl>
<dt>
<b>-</b></dt>
<dd>
(dash) Do not pad a numeric result string.</dd>
</dl>
<dl>
<dt>
<b>0</b></dt>
<dd>
Pad a numeric result string with zeros even if the conversion specifier character uses space-padding by default.</dd>
</dl>
<dl>
<dt>
<b>^</b></dt>
<dd>
Convert alphabetic characters in result string to upper case.</dd>
</dl>
<dl>
<dt>
<b>#</b></dt>
<dd>
Swap the case of the result string. (This flag only works with certain conversion specifier characters, and of these, it is only really useful with <b>%Z</b>.)</dd>
</dl>
<div class="spacer">
</div>
An optional decimal width specifier may follow the (possibly absent) flag. If the natural size of the field is smaller than this width, then the result string is padded (on the left) to the specified width.</div>
</div>
<div class="section">
<h1>BUGS</h1> Some buggy versions of <b>gcc</b>(1) complain about the use of <b>%c</b>: <i>warning: `%c' yields only last 2 digits of year in some locales</i>. Of course programmers are encouraged to use <b>%c</b>, it gives the preferred date and time representation. One meets all kinds of strange obfuscations to circumvent this <b>gcc</b>(1) problem. A relatively clean one is to add an intermediate function<br/>
<div class="spacer">
</div>
<br/>
size_t<br/>
my_strftime(char *s, size_t max, const char *fmt,<br/>
            const struct tm *tm)<br/>
{<br/>
    return strftime(s, max, fmt, tm);<br/>
}<br/>
<br/>
<div style="height: 1.00em;">
&#160;</div>
Nowadays, <b>gcc</b>(1) provides the  <i>-Wno-format-y2k</i> option to prevent the warning, so that the above workaround is no longer required.</div>
<div class="section">
<h1>EXAMPLES</h1> <b>RFC&#160;2822-compliant date format</b> (with an English locale for %a and %b)<div class="spacer">
</div>
<br/>
&quot;%a,&#160;%d&#160;%b&#160;%Y&#160;%T&#160;%z&quot;<div class="spacer">
</div>
<b>RFC&#160;822-compliant date format</b> (with an English locale for %a and %b)<div class="spacer">
</div>
<br/>
&quot;%a,&#160;%d&#160;%b&#160;%y&#160;%T&#160;%z&quot;<div class="subsection">
<h2>Example Program</h2> The program below can be used to experiment with <b>strftime</b>().<div class="spacer">
</div>
Some examples of the result string produced by the glibc implementation of <b>strftime</b>() are as follows:<br/>
<div class="spacer">
</div>
<br/>
$<b> ./a.out '%m'</b><br/>
Result string is &quot;11&quot;<br/>
$<b> ./a.out '%5m'</b><br/>
Result string is &quot;00011&quot;<br/>
$<b> ./a.out '%_5m'</b><br/>
Result string is &quot;   11&quot;<br/>
<br/>
<div class="spacer">
</div>
Here's the program source:<div class="spacer">
</div>
<br/>
#include &lt;time.h&gt;<br/>
#include &lt;stdio.h&gt;<br/>
#include &lt;stdlib.h&gt;<div class="spacer">
</div>
<br/>
int<br/>
main(int argc, char *argv[])<br/>
{<br/>
    char outstr[200];<br/>
    time_t t;<br/>
    struct tm *tmp;<div class="spacer">
</div>
<br/>
    t = time(NULL);<br/>
    tmp = localtime(&amp;t);<br/>
    if (tmp == NULL) {<br/>
        perror(&quot;localtime&quot;);<br/>
        exit(EXIT_FAILURE);<br/>
    }<div class="spacer">
</div>
<br/>
    if (strftime(outstr, sizeof(outstr), argv[1], tmp) == 0) {<br/>
        fprintf(stderr, &quot;strftime returned 0&quot;);<br/>
        exit(EXIT_FAILURE);<br/>
    }<div class="spacer">
</div>
<br/>
    printf(&quot;Result string is \&quot;%s\&quot;\n&quot;, outstr);<br/>
    exit(EXIT_SUCCESS);<br/>
}<br/>
</div>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>date</b>(1), <b>time</b>(2), <b>ctime</b>(3), <b>setlocale</b>(3), <b>sprintf</b>(3), <b>strptime</b>(3)</div>
<div class="section">
<h1>COLOPHON</h1> This page is part of release 3.35 of the Linux <i>man-pages</i> project. A description of the project, and information about reporting bugs, can be found at http://man7.org/linux/man-pages/.</div>
<table class="foot">
<tr>
<td class="foot-date">
2010-01-17</td>
<td class="foot-os">
GNU</td>
</tr>
</table>
</div>
</body>
</html>

