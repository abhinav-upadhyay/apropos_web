<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbGetUpdatedMap(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbGetUpdatedMap(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbGetUpdatedMap(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbGetUpdatedMap -  Update the client or server map information in an existing keyboard description</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>Status XkbGetUpdatedMap</b> <b>(Display *</b><i>display</i><b>,</b> <b>unsigned int </b><i>which</i><b>,</b> <b>XkbDescPtr </b><i>xkb</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- display</i></dt>
<dd>
connection to X server</dd>
</dl>
<dl>
<dt>
<i>- which</i></dt>
<dd>
mask selecting subcomponents to populate</dd>
</dl>
<dl>
<dt>
<i>- xkb</i></dt>
<dd>
keyboard description to be updated</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> The <i>which</i> parameter is a bitwise inclusive OR of the masks in Table 1. If the needed components of the <i>xkb</i> structure are not already allocated, <i>XkbGetUpdatedMap</i> allocates them. <i>XkbGetUpdatedMap</i> fetches the requested information for the device specified in the XkbDescRec passed in the <i>xkb</i> parameter.<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 25.00ex;"/>
<col style="width: 65.00ex;"/>
<col style="width: 3.00ex;"/>
<col style="width: 6.00ex;"/>
<col style="width: 11.00ex;"/>
<tbody>
<tr>
<td>
Table 1 Xkb Mapping Component Masks</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
and Convenience Functions</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Mask</td>
<td>
Value</td>
<td>
Map</td>
<td>
Fields</td>
<td>
Convenience</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
Functions</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbKeyTypesMask</td>
<td>
(1&lt;&lt;0)</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
types</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
size_types</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
num_types</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
XkbGetKeyTypes  XkbResizeKeyType  XkbCopyKeyType  XkbCopyKeyTypes</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbKeySymsMask</td>
<td>
(1&lt;&lt;1)</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
syms</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
size_syms</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
num_syms</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
key_sym_map</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
XkbGetKeySyms  XkbResizeKeySyms  XkbChangeTypesOfKey</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbModifierMapMask</td>
<td>
(1&lt;&lt;2)</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbGetKeyModifierMap</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbExplicitComponentsMask</td>
<td>
(1&lt;&lt;3)</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
explicit</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
XkbGetKeyExplicitComponents</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbKeyActionsMask</td>
<td>
(1&lt;&lt;4)</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
key_acts</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
acts</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
num_acts</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
size_acts</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
XkbGetKeyActions  XkbResizeKeyActions</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbKeyBehaviorsMask</td>
<td>
(1&lt;&lt;5)</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
behaviors</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
XkbGetKeyBehaviors</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbVirtualModsMask</td>
<td>
(1&lt;&lt;6)</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
vmods</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
XkbGetVirtualMods</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbVirtualModMapMask</td>
<td>
(1&lt;&lt;7)</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
vmodmap</td>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
T}</td>
<td>
XkbGetVirtualModMap</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
<i>XkbGetUpdatedMap</i> is synchronous; it queries the server for the desired information, waits for a reply, and then returns. If successful, <i>XkbGetUpdatedMap</i> returns Success. If unsuccessful, <i>XkbGetUpdatedMap</i> returns one of the following: BadAlloc (unable to allocate a component in the XkbDescRec structure), BadValue (some mask bits in <i>which</i> are undefined), BadImplementation (a compatible version of the Xkb extension is not available in the server or the reply from the server was invalid).</div>
<div class="section">
<h1>RETURN VALUES</h1><dl>
<dt>
Success</dt>
<dd>
The <i>XkbGetUpdatedMap</i> function returns Success if a reply is received to the server query for the desired information.</dd>
</dl>
</div>
<div class="section">
<h1>STRUCTURES</h1> The complete description of an Xkb keyboard is given by an XkbDescRec. The component structures in the XkbDescRec represent the major Xkb components.<div style="height: 1.00em;">
&#160;</div>
<br/>
typedef struct {<br/>
   struct _XDisplay * display;      /&#8727; connection to X server */<br/>
   unsigned short     flags;        /&#8727; private to Xkb, do not modify */<br/>
   unsigned short     device_spec;  /&#8727; device of interest */<br/>
   KeyCode            min_key_code; /&#8727; minimum keycode for device */<br/>
   KeyCode            max_key_code; /&#8727; maximum keycode for device */<br/>
   XkbControlsPtr     ctrls;        /&#8727; controls */<br/>
   XkbServerMapPtr    server;       /&#8727; server keymap */<br/>
   XkbClientMapPtr    map;          /&#8727; client keymap */<br/>
   XkbIndicatorPtr    indicators;   /&#8727; indicator map */<br/>
   XkbNamesPtr        names;        /&#8727; names for all components */<br/>
   XkbCompatMapPtr    compat;       /&#8727; compatibility map */<br/>
   XkbGeometryPtr     geom;         /&#8727; physical geometry of keyboard */<br/>
} XkbDescRec, *XkbDescPtr;<div class="spacer">
</div>
<br/>
The <i>display</i> field points to an X display structure. The <i>flags</i> field is private to the library: modifying <i>flags</i> may yield unpredictable results. The <i>device_spec</i> field specifies the device identifier of the keyboard input device, or XkbUseCoreKeyboard, which specifies the core keyboard device. The <i>min_key_code</i> and <i>max_key_code</i> fields specify the least and greatest keycode that can be returned by the keyboard.<div style="height: 1.00em;">
&#160;</div>
Each structure component has a corresponding mask bit that is used in function calls to indicate that the structure should be manipulated in some manner, such as allocating it or freeing it. These masks and their relationships to the fields in the XkbDescRec are shown in Table 2.<table class="tbl">
<col style="width: 20.00ex;"/>
<col style="width: 16.00ex;"/>
<col style="width: 7.00ex;"/>
<tbody>
<tr>
<td>
Table 2 Mask Bits for XkbDescRec</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Mask Bit</td>
<td>
XkbDescRec Field</td>
<td>
Value</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbControlsMask</td>
<td>
ctrls</td>
<td>
(1L&lt;&lt;0)</td>
</tr>
<tr>
<td>
XkbServerMapMask</td>
<td>
server</td>
<td>
(1L&lt;&lt;1)</td>
</tr>
<tr>
<td>
XkbIClientMapMask</td>
<td>
map</td>
<td>
(1L&lt;&lt;2)</td>
</tr>
<tr>
<td>
XkbIndicatorMapMask</td>
<td>
indicators</td>
<td>
(1L&lt;&lt;3)</td>
</tr>
<tr>
<td>
XkbNamesMask</td>
<td>
names</td>
<td>
(1L&lt;&lt;4)</td>
</tr>
<tr>
<td>
XkbCompatMapMask</td>
<td>
compat</td>
<td>
(1L&lt;&lt;5)</td>
</tr>
<tr>
<td>
XkbGeometryMask</td>
<td>
geom</td>
<td>
(1L&lt;&lt;6)</td>
</tr>
<tr>
<td>
XkbAllComponentsMask</td>
<td>
All Fields</td>
<td>
(0x7f)</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><dl>
<dt>
<b>BadAlloc</b></dt>
<dd>
Unable to allocate storage</dd>
</dl>
<dl>
<dt>
<b>BadImplementation</b></dt>
<dd>
Invalid reply from server</dd>
</dl>
<dl>
<dt>
<b>BadValue</b></dt>
<dd>
An argument is out of range</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>XkbChangeTypesOfKey</b>(3), <b>XkbCopyKeyType</b>(3), <b>XkbCopyKeyTypes</b>(3), <b>XkbGetKeyActions</b>(3), <b>XkbGetKeyBehaviors</b>(3), <b>XkbGetKeyExplicitComponents</b>(3), <b>XkbGetKeyModifierMap</b>(3), <b>XkbGetKeySyms</b>(3), <b>XkbGetKeyTypes</b>(3), <b>XkbResizeKeyActions</b>(3), <b>XkbResizeKeySyms</b>(3), <b>XkbResizeKeyType</b>(3), <b>XkbGetVirtualModMap</b>(3), <b>XkbGetVirtualMods</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

