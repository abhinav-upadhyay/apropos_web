<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
Config::Model::CheckList(3pm)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
Config::Model::CheckList(3pm)</td>
<td class="head-vol">
User Contributed Perl Documentation</td>
<td class="head-rtitle">
Config::Model::CheckList(3pm)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> Config::Model::CheckList - Handle check list element</div>
<div class="section">
<h1>VERSION</h1> version 2.005</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
 use Config::Model;<br/>
 use Log::Log4perl qw(:easy);<br/>
 Log::Log4perl-&gt;easy_init($WARN);<br/>
<br/>
 # define configuration tree object<br/>
 my $model = Config::Model-&gt;new;<br/>
 $model-&gt;create_config_class(<br/>
    name =&gt; &quot;MyClass&quot;,<br/>
<br/>
    element =&gt; [<br/>
<br/>
        # type check_list will use Config::Model::CheckList<br/>
        my_check_list =&gt; {<br/>
            type   =&gt; 'check_list',<br/>
            choice =&gt; [ 'A', 'B', 'C', 'D' ],<br/>
            help   =&gt; {<br/>
                A =&gt; 'A effect is this',<br/>
                D =&gt; 'D does that',<br/>
            }<br/>
        },<br/>
    ],<br/>
 );<br/>
<br/>
 my $inst = $model-&gt;instance( root_class_name =&gt; 'MyClass' );<br/>
<br/>
 my $root = $inst-&gt;config_root;<br/>
<br/>
 # put data<br/>
 $root-&gt;load( step =&gt; 'my_check_list=A' ); <br/>
<br/>
 my $obj = $root-&gt;grab('my_check_list');<br/>
<br/>
 my $v = $root-&gt;grab_value('my_check_list');<br/>
 print &quot;check_list value '$v' with help '&quot;, $obj-&gt;get_help($v), &quot;'\n&quot;;<br/>
<br/>
 # more data<br/>
 $obj-&gt;check('D');<br/>
 $v = $root-&gt;grab_value('my_check_list');<br/>
 print &quot;check_list new value is '$v'\n&quot;;   # prints check_list new value is 'A,D'<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This class provides a check list element for a Config::Model::Node. In other words, this class provides a list of booleans items. Each item can be set to 1 or 0.<div class="spacer">
</div>
The available items in the check list can be :<dl>
<dt>
&#8226;</dt>
<dd>
A fixed list (with the &quot;choice&quot; parameter)</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
A dynamic list where the available choice are the keys of another hash of the configuration tree. See &quot;Choice reference&quot; for details.</dd>
</dl>
</div>
<div class="section">
<h1>CONSTRUCTOR</h1> CheckList object should not be created directly.</div>
<div class="section">
<h1>CheckList model declaration</h1> A check list element must be declared with the following parameters:<dl>
<dt>
type</dt>
<dd>
Always &quot;checklist&quot;.</dd>
</dl>
<dl>
<dt>
choice</dt>
<dd>
A list ref containing the check list items (optional)</dd>
</dl>
<dl>
<dt>
refer_to</dt>
<dd>
This parameter is used when the keys of a hash are used to specify the possible choices of the check list. &quot;refer_to&quot; point to a hash or list element in the configuration tree. See &quot;Choice reference&quot; for details. (optional)</dd>
</dl>
<dl>
<dt>
computed_refer_to</dt>
<dd>
Like &quot;refer_to&quot;, but use a computed value to find the hash or list element in the configuration tree. See &quot;Choice reference&quot; for details. (optional)</dd>
</dl>
<dl>
<dt>
default_list</dt>
<dd>
List ref to specify the check list items which are &quot;on&quot; by default. (optional)</dd>
</dl>
<dl>
<dt>
ordered</dt>
<dd>
Specify whether the order of checked items must be preserved.</dd>
</dl>
<dl>
<dt>
help</dt>
<dd>
Hash ref to provide information on the check list items.</dd>
</dl>
<dl>
<dt>
warp</dt>
<dd>
Used to provide dynamic modifications of the check list properties See Config::Model::WarpedThing for details</dd>
</dl>
<div class="spacer">
</div>
For example:<dl>
<dt>
&#8226;</dt>
<dd>
A simple check list with help:<div style="height: 1.00em;">
&#160;</div>
<br/>
       choice_list<br/>
       =&gt; { type =&gt; 'check_list',<br/>
            choice     =&gt; ['A' .. 'Z'],<br/>
            help =&gt; { A =&gt; 'A help', E =&gt; 'E help' } ,<br/>
          },<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
A check list with default values:<div style="height: 1.00em;">
&#160;</div>
<br/>
       choice_list_with_default<br/>
       =&gt; { type =&gt; 'check_list',<br/>
            choice     =&gt; ['A' .. 'Z'],<br/>
            default_list   =&gt; [ 'A', 'D' ],<br/>
          },<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
A check list whose available choice and default change depending on the value of the &quot;macro&quot; parameter:<div style="height: 1.00em;">
&#160;</div>
<br/>
       'warped_choice_list'<br/>
       =&gt; { type =&gt; 'check_list',<br/>
            warp =&gt; { follow =&gt; '- macro',<br/>
                      rules  =&gt; { AD =&gt; { choice =&gt; [ 'A' .. 'D' ], <br/>
                                          default_list =&gt; ['A', 'B' ] },<br/>
                                  AH =&gt; { choice =&gt; [ 'A' .. 'H' ] },<br/>
                                }<br/>
                    }<br/>
          },<br/>
</dd>
</dl>
</div>
<div class="section">
<h1>Introspection methods</h1> The following methods returns the checklist parameter :<dl>
<dt>
refer_to</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
computed_refer_to</dt>
<dd>
</dd>
</dl>
</div>
<div class="section">
<h1>Choice reference</h1> The choice items of a check_list can be given by another configuration element. This other element can be:<dl>
<dt>
&#8226;</dt>
<dd>
The keys of a hash</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
Another checklist. In this case only the checked items of the other checklist will be available.</dd>
</dl>
<div class="spacer">
</div>
This other hash or other checklist is indicated by the &quot;refer_to&quot; or &quot;computed_refer_to&quot; parameter. &quot;refer_to&quot; uses the syntax of the &quot;step&quot; parameter of grab(...)<div class="spacer">
</div>
See refer_to parameter.<div class="subsection">
<h2>Reference examples</h2><dl>
<dt>
&#8226;</dt>
<dd>
A check list where the available choices are the keys of &quot;my_hash&quot; configuration parameter:<div style="height: 1.00em;">
&#160;</div>
<br/>
       refer_to_list<br/>
       =&gt; { type =&gt; 'check_list',<br/>
            refer_to =&gt; '- my_hash'<br/>
          },<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
A check list where the available choices are the checked items of &quot;other_check_list&quot; configuration parameter:<div style="height: 1.00em;">
&#160;</div>
<br/>
       other_check_list =&gt; { type =&gt; 'check_list', <br/>
                             choice =&gt; [qw/A B C/]<br/>
                           },<br/>
       refer_to_list<br/>
       =&gt; { type =&gt; 'check_list',<br/>
            refer_to =&gt; '- other_check_list'<br/>
          },<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
A check list where the available choices are the keys of &quot;my_hash&quot; and &quot;my_hash2&quot; and &quot;my_hash3&quot; configuration parameter:<div style="height: 1.00em;">
&#160;</div>
<br/>
       refer_to_3_lists<br/>
       =&gt; { type =&gt; 'check_list',<br/>
            refer_to =&gt; '- my_hash + - my_hash2   + - my_hash3'<br/>
          },<br/>
</dd>
</dl>
<dl>
<dt>
&#8226;</dt>
<dd>
A check list where the available choices are the specified choice and the choice of &quot;refer_to_3_lists&quot; and a hash whose name is specified by the value of the &quot;indirection&quot; configuration parameter (this example is admittedly convoluted):<div style="height: 1.00em;">
&#160;</div>
<br/>
       refer_to_check_list_and_choice<br/>
       =&gt; { type =&gt; 'check_list',<br/>
            computed_refer_to =&gt; { formula =&gt; '- refer_to_2_list + - $var',<br/>
                                   variables { 'var' =&gt; '- indirection ' }<br/>
                                 },<br/>
            choice  =&gt; [qw/A1 A2 A3/],<br/>
          },<br/>
</dd>
</dl>
</div>
</div>
<div class="section">
<h1>Methods</h1><div class="subsection">
<h2>get_type</h2> Returns &quot;check_list&quot;.</div>
<div class="subsection">
<h2><i>cargo_type()</i></h2> Returns 'leaf'.</div>
<div class="subsection">
<h2>check ( ... )</h2> Set choice. Parameter is either a list of choices to set or a list ref and some optional parameter. I.e:<div class="spacer">
</div>
<br/>
  check (\@list, check =&gt; 'skip') ;<br/>
<div class="spacer">
</div>
&quot;check&quot; parameter decide on behavior in case of invalid choice value: either die (if yes) or discard bad value (if skip)</div>
<div class="subsection">
<h2>uncheck (...)</h2> Unset choice. Parameter is either a list of choices to unset or a list ref and some optional parameter. I.e:<div class="spacer">
</div>
<br/>
  uncheck (\@list, check =&gt; 'skip') ;<br/>
<div class="spacer">
</div>
&quot;check&quot; parameter decide on behavior in case of invalid choice value: either die (if yes) or discard bad value (if skip)</div>
<div class="subsection">
<h2>is_checked( choice, [ check =&gt; yes|skip ] , [ mode =&gt; ... ])</h2> Return 1 if the given &quot;choice&quot; was set. Returns 0 otherwise.<div class="spacer">
</div>
&quot;check&quot; parameter decide on behavior in case of invalid choice value: either die (if yes) or discard bad value (if skip)<div class="spacer">
</div>
&quot;mode&quot; is either: custom standard preset default layered upstream_default</div>
<div class="subsection">
<h2>get_choice</h2> Returns an array of all items names that can be checked (i.e. that can have value 0 or 1).</div>
<div class="subsection">
<h2>get_help (choice_value)</h2> Return the help string on this choice value</div>
<div class="subsection">
<h2>clear</h2> Reset the check list (all items are set to 0) (can also be called as &quot;clear_values&quot;)</div>
<div class="subsection">
<h2>get_checked_list_as_hash ( [ custom | preset | standard | default ] )</h2> Returns a hash (or a hash ref) of all items. The boolean value is the value of the hash.<div class="spacer">
</div>
Example:<div class="spacer">
</div>
<br/>
 { A =&gt; 0, B =&gt; 1, C =&gt; 0 , D =&gt; 1}<br/>
<div class="spacer">
</div>
By default, this method will return all items set by the user, or items set in preset mode or checked by default.<div class="spacer">
</div>
With a parameter, this method will return either:<dl>
<dt>
custom</dt>
<dd>
The list entered by the user</dd>
</dl>
<dl>
<dt>
preset</dt>
<dd>
The list entered in preset mode</dd>
</dl>
<dl>
<dt>
standard</dt>
<dd>
The list set in preset mode or checked by default.</dd>
</dl>
<dl>
<dt>
default</dt>
<dd>
The default list (defined by the configuration model)</dd>
</dl>
<dl>
<dt>
layered</dt>
<dd>
The list specified in layered mode.</dd>
</dl>
<dl>
<dt>
upstream_default</dt>
<dd>
The list implemented by upstream project (defined in the configuration model)</dd>
</dl>
</div>
<div class="subsection">
<h2>get_checked_list ( &lt; mode &gt;  )</h2> Returns a list (or a list ref) of all checked items (i.e. all items set to 1).</div>
<div class="subsection">
<h2>fetch ( &lt; mode &gt; )</h2> Returns a string listing the checked items (i.e. &quot;A,B,C&quot;)</div>
<div class="subsection">
<h2>get( path  [, &lt; mode&gt; ] )</h2> Get a value from a directory like path.</div>
<div class="subsection">
<h2>set( path , values )</h2> Set a checklist with a directory like path. Since a checklist is a leaf, the path should be empty. The values are a comma separated list of checked items.<div class="spacer">
</div>
Example : &quot;$leaf-&gt;set('','A,C,Z') ;&quot;</div>
<div class="subsection">
<h2>set_checked_list ( item1, item2, ..)</h2> Set all passed items to checked (1). All other available items in the check list are set to 0.<div class="spacer">
</div>
Example:<div class="spacer">
</div>
<br/>
  # set cl to A=0 B=1 C=0 D=1<br/>
  $cl-&gt;set_checked_list('B','D')<br/>
</div>
<div class="subsection">
<h2>set_checked_list_as_hash ( A =&gt; 1, B =&gt; 1 )</h2> Set check_list items. Missing items in the given list of parameters are set to 0.<div class="spacer">
</div>
The example ( A =&gt; 1, B =&gt; 1 ) above will give :<div class="spacer">
</div>
<br/>
 A = 1 , B = 1, C = 0 , D = 0<br/>
</div>
<div class="subsection">
<h2>load_data ( list_ref )</h2> Load check_list as an array ref. Data is simply forwarded to set_checked_list.</div>
</div>
<div class="section">
<h1>Ordered checklist methods</h1> All the methods below are valid only for ordered checklists.</div>
<div class="section">
<h1>swap ( choice_a, choice_b)</h1> Swap the 2 given choice in the list. Both choice must be already set.</div>
<div class="section">
<h1>move_up ( choice )</h1> Move the choice up in the checklist.</div>
<div class="section">
<h1>move_down ( choice )</h1> Move the choice down in the checklist.</div>
<div class="section">
<h1>AUTHOR</h1> Dominique Dumont, (ddumont at cpan dot org)</div>
<div class="section">
<h1>SEE ALSO</h1> Config::Model, Config::Model::Instance, Config::Model::Node, Config::Model::AnyId, Config::Model::ListId, Config::Model::HashId, Config::Model::Value</div>
<table class="foot">
<tr>
<td class="foot-date">
2012-02-24</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

