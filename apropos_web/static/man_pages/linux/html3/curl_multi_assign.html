<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
curl_multi_assign(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
curl_multi_assign(3)</td>
<td class="head-vol">
libcurl Manual</td>
<td class="head-rtitle">
curl_multi_assign(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> curl_multi_assign - set data to association with an internal socket</div>
<div class="section">
<h1>SYNOPSIS</h1> #include &lt;curl/curl.h&gt;<div style="height: 1.00em;">
&#160;</div>
CURLMcode curl_multi_assign(CURLM *multi_handle, curl_socket_t sockfd,<br/>
                            void *sockptr);</div>
<div class="section">
<h1>DESCRIPTION</h1> This function assigns an association in the multi handle between the given socket and a private pointer of the application. This is (only) useful for  <i>curl_multi_socket(3)</i> uses.<div style="height: 1.00em;">
&#160;</div>
When set, the <i>sockptr</i> pointer will be passed to all future socket callbacks for the specific  <i>sockfd</i> socket.<div style="height: 1.00em;">
&#160;</div>
If the given <i>sockfd</i> isn't already in use by libcurl, this function will return an error.<div style="height: 1.00em;">
&#160;</div>
libcurl only keeps one single pointer associated with a socket, so calling this function several times for the same socket will make the last set pointer get used.<div style="height: 1.00em;">
&#160;</div>
The idea here being that this association (socket to private pointer) is something that just about every application that uses this API will need and then libcurl can just as well do it since it already has an internal hash table lookup for this.</div>
<div class="section">
<h1>RETURN VALUE</h1> The standard CURLMcode for multi interface error codes.</div>
<div class="section">
<h1>TYPICAL USAGE</h1> In a typical application you allocate a struct or at least use some kind of semi-dynamic data for each socket that we must wait for action on when using the  <i>curl_multi_socket(3)</i> approach.<div style="height: 1.00em;">
&#160;</div>
When our socket-callback gets called by libcurl and we get to know about yet another socket to wait for, we can use  <i>curl_multi_assign(3)</i> to point out the particular data so that when we get updates about this same socket again, we don't have to find the struct associated with this socket by ourselves.</div>
<div class="section">
<h1>AVAILABILITY</h1> This function was added in libcurl 7.15.5, although not deemed stable yet.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>curl_multi_setopt</b>(3), <b>curl_multi_socket</b>(3) </div>
<table class="foot">
<tr>
<td class="foot-date">
9 Jul 2006</td>
<td class="foot-os">
libcurl 7.16.0</td>
</tr>
</table>
</div>
</body>
</html>

