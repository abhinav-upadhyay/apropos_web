<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ExtUtils::CBuilder(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
ExtUtils::CBuilder(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
ExtUtils::CBuilder(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> ExtUtils::CBuilder - Compile and link C code for Perl modules</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  use ExtUtils::CBuilder;<br/>
<br/>
  my $b = ExtUtils::CBuilder-&gt;new(%options);<br/>
  $obj_file = $b-&gt;compile(source =&gt; 'MyModule.c');<br/>
  $lib_file = $b-&gt;link(objects =&gt; $obj_file);<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module can build the C portions of Perl modules by invoking the appropriate compilers and linkers in a cross-platform manner.  It was motivated by the &quot;Module::Build&quot; project, but may be useful for other purposes as well.  However, it is  <i>not</i> intended as a general cross-platform interface to all your C building needs.  That would have been a much more ambitious goal!</div>
<div class="section">
<h1>METHODS</h1><dl>
<dt>
new</dt>
<dd>
Returns a new &quot;ExtUtils::CBuilder&quot; object.  A &quot;config&quot; parameter lets you override &quot;Config.pm&quot; settings for all operations performed by the object, as in the following example:<div style="height: 1.00em;">
&#160;</div>
<br/>
  # Use a different compiler than Config.pm says<br/>
  my $b = ExtUtils::CBuilder-&gt;new( config =&gt;<br/>
                                   { ld =&gt; 'gcc' } );<br/>
<div style="height: 1.00em;">
&#160;</div>
A &quot;quiet&quot; parameter tells &quot;CBuilder&quot; to not print its &quot;system()&quot; commands before executing them:<div style="height: 1.00em;">
&#160;</div>
<br/>
  # Be quieter than normal<br/>
  my $b = ExtUtils::CBuilder-&gt;new( quiet =&gt; 1 );<br/>
</dd>
</dl>
<dl>
<dt>
have_compiler</dt>
<dd>
Returns true if the current system has a working C compiler and linker, false otherwise.  To determine this, we actually compile and link a sample C library.  The sample will be compiled in the system tempdir or, if that fails for some reason, in the current directory.</dd>
</dl>
<dl>
<dt>
have_cplusplus</dt>
<dd>
Just like have_compiler but for C++ instead of C.</dd>
</dl>
<dl>
<dt>
compile</dt>
<dd>
Compiles a C source file and produces an object file.  The name of the object file is returned.  The source file is specified in a &quot;source&quot; parameter, which is required; the other parameters listed below are optional.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
&quot;object_file&quot;</dt>
<dd>
Specifies the name of the output file to create.  Otherwise the &quot;object_file()&quot; method will be consulted, passing it the name of the &quot;source&quot; file.</dd>
</dl>
<dl>
<dt>
&quot;include_dirs&quot;</dt>
<dd>
Specifies any additional directories in which to search for header files.  May be given as a string indicating a single directory, or as a list reference indicating multiple directories.</dd>
</dl>
<dl>
<dt>
&quot;extra_compiler_flags&quot;</dt>
<dd>
Specifies any additional arguments to pass to the compiler.  Should be given as a list reference containing the arguments individually, or if this is not possible, as a string containing all the arguments together.</dd>
</dl>
<dl>
<dt>
&quot;C++&quot;</dt>
<dd>
Specifies that the source file is a C++ source file and sets appropriate compiler flags</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
The operation of this method is also affected by the &quot;archlibexp&quot;, &quot;cccdlflags&quot;, &quot;ccflags&quot;, &quot;optimize&quot;, and &quot;cc&quot; entries in &quot;Config.pm&quot;.</div>
<dl>
<dt>
link</dt>
<dd>
Invokes the linker to produce a library file from object files.  In scalar context, the name of the library file is returned.  In list context, the library file and any temporary files created are returned.  A required &quot;objects&quot; parameter contains the name of the object files to process, either in a string (for one object file) or list reference (for one or more files).  The following parameters are optional:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
lib_file</dt>
<dd>
Specifies the name of the output library file to create.  Otherwise the &quot;lib_file()&quot; method will be consulted, passing it the name of the first entry in &quot;objects&quot;.</dd>
</dl>
<dl>
<dt>
module_name</dt>
<dd>
Specifies the name of the Perl module that will be created by linking. On platforms that need to do prelinking (Win32, OS/2, etc.) this is a required parameter.</dd>
</dl>
<dl>
<dt>
extra_linker_flags</dt>
<dd>
Any additional flags you wish to pass to the linker.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
On platforms where &quot;need_prelink()&quot; returns true, &quot;prelink()&quot; will be called automatically.<div style="height: 1.00em;">
&#160;</div>
The operation of this method is also affected by the &quot;lddlflags&quot;, &quot;shrpenv&quot;, and &quot;ld&quot; entries in &quot;Config.pm&quot;.</div>
<dl>
<dt>
link_executable</dt>
<dd>
Invokes the linker to produce an executable file from object files.  In scalar context, the name of the executable file is returned.  In list context, the executable file and any temporary files created are returned.  A required &quot;objects&quot; parameter contains the name of the object files to process, either in a string (for one object file) or list reference (for one or more files).  The optional parameters are the same as &quot;link&quot; with exception for</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
exe_file</dt>
<dd>
Specifies the name of the output executable file to create.  Otherwise the &quot;exe_file()&quot; method will be consulted, passing it the name of the first entry in &quot;objects&quot;.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
object_file</dt>
<dd>
<br/>
 my $object_file = $b-&gt;object_file($source_file);<br/>
<div style="height: 1.00em;">
&#160;</div>
Converts the name of a C source file to the most natural name of an output object file to create from it.  For instance, on Unix the source file  <i>foo.c</i> would result in the object file <i>foo.o</i>.</dd>
</dl>
<dl>
<dt>
lib_file</dt>
<dd>
<br/>
 my $lib_file = $b-&gt;lib_file($object_file);<br/>
<div style="height: 1.00em;">
&#160;</div>
Converts the name of an object file to the most natural name of a output library file to create from it.  For instance, on Mac OS X the object file  <i>foo.o</i> would result in the library file <i>foo.bundle</i>.</dd>
</dl>
<dl>
<dt>
exe_file</dt>
<dd>
<br/>
 my $exe_file = $b-&gt;exe_file($object_file);<br/>
<div style="height: 1.00em;">
&#160;</div>
Converts the name of an object file to the most natural name of an executable file to create from it.  For instance, on Mac OS X the object file  <i>foo.o</i> would result in the executable file <i>foo</i>, and on Windows it would result in  <i>foo.exe</i>.</dd>
</dl>
<dl>
<dt>
prelink</dt>
<dd>
On certain platforms like Win32, OS/2, VMS, and AIX, it is necessary to perform some actions before invoking the linker.  The &quot;ExtUtils::Mksymlists&quot; module does this, writing files used by the linker during the creation of shared libraries for dynamic extensions. The names of any files written will be returned as a list.<div style="height: 1.00em;">
&#160;</div>
Several parameters correspond to &quot;ExtUtils::Mksymlists::Mksymlists()&quot; options, as follows:<div style="height: 1.00em;">
&#160;</div>
<br/>
    Mksymlists()   prelink()          type<br/>
   -------------|-------------------|-------------------<br/>
    NAME        |  dl_name          | string (required)<br/>
    DLBASE      |  dl_base          | string<br/>
    FILE        |  dl_file          | string<br/>
    DL_VARS     |  dl_vars          | array reference<br/>
    DL_FUNCS    |  dl_funcs         | hash reference<br/>
    FUNCLIST    |  dl_func_list     | array reference<br/>
    IMPORTS     |  dl_imports       | hash reference<br/>
    VERSION     |  dl_version       | string<br/>
<div style="height: 1.00em;">
&#160;</div>
Please see the documentation for &quot;ExtUtils::Mksymlists&quot; for the details of what these parameters do.</dd>
</dl>
<dl>
<dt>
need_prelink</dt>
<dd>
Returns true on platforms where &quot;prelink()&quot; should be called during linking, and false otherwise.</dd>
</dl>
<dl>
<dt>
extra_link_args_after_prelink</dt>
<dd>
Returns list of extra arguments to give to the link command; the arguments are the same as for  <i>prelink()</i>, with addition of array reference to the results of  <i>prelink()</i>; this reference is indexed by key &quot;prelink_res&quot;.</dd>
</dl>
</div>
<div class="section">
<h1>TO DO</h1> Currently this has only been tested on Unix and doesn't contain any of the Windows-specific code from the &quot;Module::Build&quot; project.  I'll do that next.</div>
<div class="section">
<h1>HISTORY</h1> This module is an outgrowth of the &quot;Module::Build&quot; project, to which there have been many contributors.  Notably, Randy W. Sims submitted lots of code to support 3 compilers on Windows and helped with various other platform-specific issues.  Ilya Zakharevich has contributed fixes for OS/2; John E. Malmberg and Peter Prymmer have done likewise for VMS.</div>
<div class="section">
<h1>AUTHOR</h1> Ken Williams, kwilliams@cpan.org</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright (c) 2003-2005 Ken Williams.  All rights reserved.<div class="spacer">
</div>
This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>perl</i>(1), <i>Module::Build</i>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-26</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

