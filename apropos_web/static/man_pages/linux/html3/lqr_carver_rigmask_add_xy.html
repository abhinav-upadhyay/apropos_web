<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
LQR_CARVER_RIGMASK_ADD(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LQR_CARVER_RIGMASK_ADD(3)</td>
<td class="head-vol">
LqR library API reference</td>
<td class="head-rtitle">
LQR_CARVER_RIGMASK_ADD(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> lqr_carver_rigmask_add_xy, lqr_carver_rigmask_add_area, lqr_carver_rigmask_add, lqr_carver_rigmask_add_rgb_area, lqr_carver_rigmask_add_rgb - update an LqrCarver rigidity mask</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;lqr.h&gt;<br/>
<div class="spacer">
</div>
<div style="margin-left: 36.00ex;text-indent: -36.00ex;" class="spacer">
<b>LqrRetVal lqr_carver_rigmask_add_xy(LqrCarver*&#160;</b><i>carver</i><b>, gdouble&#160;</b><i>rigidity</i><b>, gint&#160;</b><i>x</i><b>, gint&#160;</b><i>y</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 38.00ex;text-indent: -38.00ex;" class="spacer">
<b>LqrRetVal lqr_carver_rigmask_add_area(LqrCarver*&#160;</b><i>carver</i><b>, gdouble*&#160;</b><i>buffer</i><b>, gint&#160;</b><i>width</i><b>, gint&#160;</b><i>height</i><b>, gint&#160;</b><i>x_off</i><b>, gint&#160;</b><i>y_off</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 33.00ex;text-indent: -33.00ex;" class="spacer">
<b>LqrRetVal lqr_carver_rigmask_add(LqrCarver*&#160;</b><i>carver</i><b>, gdouble*&#160;</b><i>buffer</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 38.00ex;text-indent: -38.00ex;" class="spacer">
<b>LqrRetVal lqr_carver_rigmask_add_area(LqrCarver*&#160;</b><i>carver</i><b>, gdouble*&#160;</b><i>buffer</i><b>, gint&#160;</b><i>channels</i><b>, gint&#160;</b><i>width</i><b>, gint&#160;</b><i>height</i><b>, gint&#160;</b><i>x_off</i><b>, gint&#160;</b><i>y_off</i><b>);</b></div>
<div class="spacer">
</div>
<div style="margin-left: 37.00ex;text-indent: -37.00ex;" class="spacer">
<b>LqrRetVal lqr_carver_rigmask_add_rgb(LqrCarver*&#160;</b><i>carver</i><b>, gdouble*&#160;</b><i>buffer</i><b>, gint&#160;</b><i>channels</i><b>);</b></div>
</div>
<div class="section">
<h1>FOREWORD</h1> All the functions described in this page are used to add a rigidity mask to LqrCarver objects. Whenever one of these functions is called, a rigidity mask is activated for the whole image; the mask contains coefficients which modulate the value of the rigidity (which is set with  <b>lqr_carver_init</b>(3)) in different areas of the image.<div class="spacer">
</div>
It is very important to note that using no rigidity masks at all is equivalent to use a rigidity mask over the whole image with all the values set to 1.0, but, when first adding a rigidity mask to a LqrCarver object, all the pixels outside the affected area will have their rigidity set to zero; therefore, the functions  <b>lqr_carver_rigmask_add_xy</b>,  <b>lqr_carver_rigmask_add_area</b> and  <b>lqr_carver_rigmask_add_rgb_area</b> actually affect the whole image, despite their name.<div class="spacer">
</div>
All the functions must be called after  <b>lqr_carver_init</b> and before  <b>lqr_carver_resize</b>. If called multiple times over the same area, new values will replace the old ones.</div>
<div class="section">
<h1>SETTING THE RIGIDITY MASK PIXEL BY PIXEL</h1> The function  <b>lqr_carver_rigmask_add_xy</b> sets the rigidity mask value of the  <i>x</i>,  <i>y</i> pixel of the image loaded into the LqrCarver object pointed to by  <i>carver</i></div>
<div class="section">
<h1>SETTING THE RIGIDITY MASK FROM A BUFFER</h1> The function  <b>lqr_carver_rigmask_add_area</b> adds a rigidity mask to an area of the image loaded in the LqrCarver object pointed to by  <i>carver</i>.<div class="spacer">
</div>
The parameter  <i>buffer</i> must point to an array of  <b>doubles</b> of size  <i>width</i> * <i>height</i>, ordered first by rows, then by columns.<div class="spacer">
</div>
The offset of the area relative to the image are specified through  <i>x_off</i> and  <i>y_off</i>. The rigidity mask area can exceed the boundary of the image, and the offsets can be negative.<div class="spacer">
</div>
The values in the given  <i>buffer</i> are scaled by the overall  <i>rigidity</i> value set when calling the function  <b>lqr_carver_init</b>.<div class="spacer">
</div>
The function  <b>lqr_carver_rigmask_add</b> can be used when the area to add is of the same size of the image loaded in the LqrCarver object and the offsets are 0.</div>
<div class="section">
<h1>SETTING THE RIGIDITY MASK FROM AN IMAGE</h1> The functions  <b>lqr_carver_rigmask_add_rgb_area</b> and  <b>lqr_carver_rigmask_add_rgb</b> are very similar to  <b>lqr_carver_rigmask_add_area</b> and  <b>lqr_carver_rigmask_add</b>, but use 8-bit multi-channel images as inputs.<div class="spacer">
</div>
The number of channels in the image is passed via the parameter  <i>channels</i>. The last channel is assumed to be the alpha (opacity) channel if  <i>channels</i> is equal to 2 or greater than 3 (if this is not the case, use the previous functions).<div class="spacer">
</div>
The rigidity value is computed from the average of the colour channels, multiplied by the value of the alpha channel if present. For example, in RGBA images a white, nontransparent pixel is equivalent to a value of 1.0 when using a buffer in  <b>lqr_carver_rigmask_add_area</b>.</div>
<div class="section">
<h1>RETURN VALUE</h1> The return values follow the Liquid Rescale library signalling system.</div>
<div class="section">
<h1>SEE ALSO</h1><div style="height: 1.00em;">
&#160;</div>
<b>LqrRetVal</b>(3), <b>lqr_carver_init</b>(3), <b>lqr_carver_bias_add</b>(3)</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright &#169; 2007-2009 Carlo Baldassi<div style="height: 0.00em;">
&#160;</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
10 Maj 2009</td>
<td class="foot-os">
LqR library 0.4.1 API (3:1:3)</td>
</tr>
</table>
</div>
</body>
</html>

