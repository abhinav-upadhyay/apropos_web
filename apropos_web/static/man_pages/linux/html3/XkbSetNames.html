<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbSetNames(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbSetNames(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbSetNames(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbSetNames - Change the symbolic names in the server</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>Bool XkbSetNames</b> <b>(Display *</b><i>dpy</i><b>,</b> <b>unsigned int </b><i>which</i><b>,</b> <b>unsigned int </b><i>first_type</i><b>,</b> <b>unsigned int </b><i>num_types</i><b>,</b> <b>XkbDescPtr </b><i>xkb</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- dpy</i></dt>
<dd>
connection to the X server</dd>
</dl>
<dl>
<dt>
<i>- which</i></dt>
<dd>
mask of names or map components to be changed</dd>
</dl>
<dl>
<dt>
<i>- first_type</i></dt>
<dd>
first type whose name is to be changed</dd>
</dl>
<dl>
<dt>
<i>- num_types</i></dt>
<dd>
number of types for which names are to be changed</dd>
</dl>
<dl>
<dt>
<i>- xkb</i></dt>
<dd>
keyboard description from which names are to be taken</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> To change the symbolic names in the server, first modify a local copy of the keyboard description and then use either <i>XkbSetNames,</i> or, to save network traffic, use a XkbNameChangesRecstructure and call <i>XkbChangeNames</i> to download the changes to the server. <i>XkbSetNames</i> and <i>XkbChangeNames</i> can generate BadAlloc, BadAtom, BadLength, BadMatch, and BadImplementation errors.<div style="height: 1.00em;">
&#160;</div>
Use <i>XkbSetNames</i> to change many names at the same time. For each bit set in <i>which, XkbSetNames</i> takes the corresponding value (or values in the case of arrays) from the keyboard description <i>xkb</i> and sends it to the server.<div style="height: 1.00em;">
&#160;</div>
The <i>first_type</i> and <i>num_types</i> arguments are used only if XkbKeyTypeNamesMask or XkbKTLevelNamesMask is set in <i>which</i> and specify a subset of the types for which the corresponding names are to be changed. If either or both of these mask bits are set but the specified types are illegal, <i>XkbSetNames</i> returns False and does not update any of the names specified in <i>which.</i> The specified types are illegal if <i>xkb</i> does not include a map component or if <i>first_type</i> and <i>num_types</i> specify types that are not defined in the keyboard description.</div>
<div class="section">
<h1>STRUCTURES</h1> The XkbNameChangesRec allows applications to identify small modifications to the symbolic names and effectively reduces the amount of traffic sent to the server:<div class="spacer">
</div>
<br/>
    typedef struct _XkbNameChanges {<br/>
        unsigned int   changed;          /&#8727; name components that have changed */<br/>
        unsigned char  first_type;       /&#8727; first key type with a new name */<br/>
        unsigned char  num_types;        /&#8727; number of types with new names */<br/>
        unsigned char  first_lvl;        /&#8727; first key type with new level names <br/>
*/<br/>
        unsigned char  num_lvls;         /&#8727; number of key types with new level <br/>
names */<br/>
        unsigned char  num_aliases;      /&#8727; if key aliases changed, total number <br/>
of key aliases */<br/>
        unsigned char  num_rg;           /&#8727; if radio groups changed, total <br/>
number of radio groups */<br/>
        unsigned char  first_key;        /&#8727; first key with a new name */<br/>
        unsigned char  num_keys;         /&#8727; number of keys with new names */<br/>
        unsigned short changed_vmods;    /&#8727; mask of virtual modifiers for which <br/>
names have changed */<br/>
        unsigned long  changed_indicators; /&#8727; mask of indicators for which names <br/>
were changed */<br/>
        unsigned char  changed_groups;     /&#8727; mask of groups for which names <br/>
were changed */<br/>
    } XkbNameChangesRec, *XkbNameChangesPtr<br/>
    <br/>
The <i>changed</i> field specifies the name components that have changed and is the bitwise inclusive OR of the valid names mask bits defined in Table 1. The rest of the fields in the structure specify the ranges that have changed for the various kinds of symbolic names, as shown in Table 2.<div style="height: 1.00em;">
&#160;</div>
Xkb provides several functions that work with symbolic names. Each of these functions uses a mask to specify individual fields of the structures described above. These masks and their relationships to the fields in a keyboard description are shown in Table 1.<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 22.00ex;"/>
<col style="width: 8.00ex;"/>
<col style="width: 10.00ex;"/>
<col style="width: 31.00ex;"/>
<tbody>
<tr>
<td>
Table 1 Symbolic Names Masks</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Mask Bit</td>
<td>
Value</td>
<td>
Keyboard</td>
<td>
Field</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
Component</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbKeycodesNameMask</td>
<td>
(1&lt;&lt;0)</td>
<td>
Xkb-&gt;names</td>
<td>
keycodes</td>
</tr>
<tr>
<td>
XkbGeometryNameMask</td>
<td>
(1&lt;&lt;1)</td>
<td>
Xkb-&gt;names</td>
<td>
geometry</td>
</tr>
<tr>
<td>
XkbSymbolsNameMask</td>
<td>
(1&lt;&lt;2)</td>
<td>
Xkb-&gt;names</td>
<td>
symbols</td>
</tr>
<tr>
<td>
XkbPhysSymbolsNameMask</td>
<td>
(1&lt;&lt;3)</td>
<td>
Xkb-&gt;names</td>
<td>
phys_symbols</td>
</tr>
<tr>
<td>
XkbTypesNameMask</td>
<td>
(1&lt;&lt;4)</td>
<td>
Xkb-&gt;names</td>
<td>
type</td>
</tr>
<tr>
<td>
XkbCompatNameMask</td>
<td>
(1&lt;&lt;5)</td>
<td>
Xkb-&gt;names</td>
<td>
compat</td>
</tr>
<tr>
<td>
XkbKeyTypeNamesMask</td>
<td>
(1&lt;&lt;6)</td>
<td>
Xkb-&gt;map</td>
<td>
type[*].name</td>
</tr>
<tr>
<td>
XkbKTLevelNamesMask</td>
<td>
(1&lt;&lt;7)</td>
<td>
Xkb-&gt;map</td>
<td>
type[*].lvl_names[*]</td>
</tr>
<tr>
<td>
XkbIndicatorNamesMask</td>
<td>
(1&lt;&lt;8)</td>
<td>
Xkb-&gt;names</td>
<td>
indicators[*]</td>
</tr>
<tr>
<td>
XkbKeyNamesMask</td>
<td>
(1&lt;&lt;9)</td>
<td>
Xkb-&gt;names</td>
<td>
keys[*], num_keys</td>
</tr>
<tr>
<td>
XkbKeyAliasesMask</td>
<td>
(1&lt;&lt;10)</td>
<td>
Xkb-&gt;names</td>
<td>
key_aliases[*], num_key_aliases</td>
</tr>
<tr>
<td>
XkbVirtualModNamesMask</td>
<td>
(1&lt;&lt;11)</td>
<td>
Xkb-&gt;names</td>
<td>
vmods[*]</td>
</tr>
<tr>
<td>
XkbGroupNamesMask</td>
<td>
(1&lt;&lt;12)</td>
<td>
Xkb-&gt;names</td>
<td>
groups[*]</td>
</tr>
<tr>
<td>
XkbRGNamesMask</td>
<td>
(1&lt;&lt;13)</td>
<td>
Xkb-&gt;names</td>
<td>
radio_groups[*], num_rg</td>
</tr>
<tr>
<td>
XkbComponentNamesMask</td>
<td>
(0x3f)</td>
<td>
Xkb-&gt;names</td>
<td>
keycodes,</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
geometry,</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
symbols,</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
physical symbols,</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
types, and</td>
</tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
compatibility map</td>
</tr>
<tr>
<td>
XkbAllNamesMask</td>
<td>
(0x3fff)</td>
<td>
Xkb-&gt;names</td>
<td>
all name components</td>
</tr>
</tbody>
</table>
<div style="height: 1.00em;">
&#160;</div>
<table class="tbl">
<col style="width: 22.00ex;"/>
<col style="width: 18.00ex;"/>
<col style="width: 10.00ex;"/>
<col style="width: 20.00ex;"/>
<tbody>
<tr>
<td>
Table 2 XkbNameChanges Fields</td>
<td>
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
Mask</td>
<td>
Fields</td>
<td>
Component</td>
<td>
Field</td>
</tr>
<tr>
<td colspan="0">
</td>
</tr>
<tr>
<td>
XkbKeyTypeNamesMask</td>
<td>
first_type,</td>
<td>
Xkb-&gt;map</td>
<td>
type[*].name</td>
</tr>
<tr>
<td>
</td>
<td>
num_types</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbKTLevelNamesMask</td>
<td>
first_lvl,</td>
<td>
Xkb-&gt;map</td>
<td>
type[*].lvl_names[*]</td>
</tr>
<tr>
<td>
</td>
<td>
num_lvls</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbKeyAliasesMask</td>
<td>
num_aliases</td>
<td>
Xkb-&gt;names</td>
<td>
key_aliases[*]</td>
</tr>
<tr>
<td>
XkbRGNamesMask</td>
<td>
num_rg</td>
<td>
Xkb-&gt;names</td>
<td>
radio_groups[*]</td>
</tr>
<tr>
<td>
XkbKeyNamesMask</td>
<td>
first_key,</td>
<td>
Xkb-&gt;names</td>
<td>
keys[*]</td>
</tr>
<tr>
<td>
</td>
<td>
num_keys</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td>
XkbVirtualModNamesMask</td>
<td>
changed_vmods</td>
<td>
Xkb-&gt;names</td>
<td>
vmods[*]</td>
</tr>
<tr>
<td>
XkbIndicatorNamesMask</td>
<td>
changed_indicators</td>
<td>
Xkb-&gt;names</td>
<td>
indicators[*]</td>
</tr>
<tr>
<td>
XkbGroupNamesMask</td>
<td>
changed_groups</td>
<td>
Xkb-&gt;names</td>
<td>
groups[*]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><dl>
<dt>
<b>BadAlloc</b></dt>
<dd>
Unable to allocate storage</dd>
</dl>
<dl>
<dt>
<b>BadAtom</b></dt>
<dd>
A name is neither a valid Atom or None</dd>
</dl>
<dl>
<dt>
<b>BadImplementation</b></dt>
<dd>
Invalid reply from server</dd>
</dl>
<dl>
<dt>
<b>BadLength</b></dt>
<dd>
The length of a request is shorter or longer than that required to minimally contain the arguments</dd>
</dl>
<dl>
<dt>
<b>BadMatch</b></dt>
<dd>
A compatible version of Xkb was not available in the server or an argument has correct type and range, but is otherwise invalid</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>XkbChangeNames</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

