<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ARCHIVE_ENTRY_PERMS(3)</title>
</head>
<body>
<div class="mandoc">
<div class="section">
<h1 id="x4e414d45">NAME</h1> <b class="name">archive_entry_gid</b>, <b class="name">archive_entry_set_gid</b>, <b class="name">archive_entry_uid</b>, <b class="name">archive_entry_set_uid</b>, <b class="name">archive_entry_perm</b>, <b class="name">archive_entry_set_perm</b>, <b class="name">archive_entry_strmode</b>, <b class="name">archive_entry_uname</b> <b class="name">archive_entry_uname_w</b> <b class="name">archive_entry_set_uname</b>, <b class="name">archive_entry_copy_uname</b>, <b class="name">archive_entry_copy_uname_w</b>, <b class="name">archive_entry_update_uname_utf8</b>, <b class="name">archive_entry_gname</b>, <b class="name">archive_entry_gname_w</b>, <b class="name">archive_entry_set_gname</b>, <b class="name">archive_entry_copy_gname</b>, <b class="name">archive_entry_copy_gname_w</b>, <b class="name">archive_entry_update_gname_utf8</b>, <b class="name">archive_entry_fflags</b>, <b class="name">archive_entry_fflags_text</b>, <b class="name">archive_entry_set_fflags</b>, <b class="name">archive_entry_copy_fflags_text</b>, <b class="name">archive_entry_copy_fflags_text_w</b> &#8212; <span class="desc">functions for manipulating ownership and permissions in archive entry descriptions</span></div>
<div class="section">
<h1 id="x53594e4f50534953">SYNOPSIS</h1> <b class="includes">#include &lt;<a class="link-includes">archive_entry.h</a>&gt;</b><div class="spacer">
</div>
<i class="ftype">gid_t</i><br/>
<b class="fname">archive_entry_gid</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_set_gid</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">gid_t gid</i>);<div class="spacer">
</div>
<i class="ftype">uid_t</i><br/>
<b class="fname">archive_entry_uid</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_set_uid</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">uid_t uid</i>);<div class="spacer">
</div>
<i class="ftype">mode_t</i><br/>
<b class="fname">archive_entry_perm</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_set_perm</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">mode_t mode</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_entry_strmode</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_entry_gname</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">const wchar_t *</i><br/>
<b class="fname">archive_entry_gname_w</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_set_gname</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const char *a</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_copy_gname</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const char *name</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_copy_gname_w</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const wchar_t *name</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_entry_update_gname_utf8</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const char *name</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_entry_uname</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">const wchar_t *</i><br/>
<b class="fname">archive_entry_uname_w</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_set_uname</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const char *name</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_copy_uname</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const char *name</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_copy_uname_w</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const wchar_t *name</i>);<div class="spacer">
</div>
<i class="ftype">int</i><br/>
<b class="fname">archive_entry_update_uname_utf8</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const char *name</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_fflags</b>(<i class="farg">struct archive_entry *a</i>, <i class="farg">unsigned long *set_bits</i>, <i class="farg">unsigned long *clear_bits</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_entry_fflags_text</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>);<div class="spacer">
</div>
<i class="ftype">void</i><br/>
<b class="fname">archive_entry_set_fflags</b>(<i class="farg">struct archive_entry *a</i>, <i class="farg">unsigned long set_bits</i>, <i class="farg">unsigned long clear_bits</i>);<div class="spacer">
</div>
<i class="ftype">const char *</i><br/>
<b class="fname">archive_entry_copy_fflags_text</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const char *text</i>);<div class="spacer">
</div>
<i class="ftype">const wchar_t *</i><br/>
<b class="fname">archive_entry_copy_fflags_text_w</b>(<i class="farg" style="white-space:nowrap;">struct archive_entry *a</i>, <i class="farg" style="white-space:nowrap;">const wchar_t *text</i>);</div>
<div class="section">
<h1 id="x4445534352495054494f4e">DESCRIPTION</h1><div class="subsection">
<h2 id="x557365722069642c2067726f757020696420616e64206d6f6465">User id, group id and mode</h2> The functions <b class="fname">archive_entry_uid</b>(), <b class="fname">archive_entry_gid</b>(), and <b class="fname">archive_entry_perm</b>() can be used to extract the user id, group id and permission from the given entry. The corresponding functions <b class="fname">archive_entry_set_uid</b>(), <b class="fname">archive_entry_set_gid</b>(), and <b class="fname">archive_entry_set_perm</b>() store the given user id, group id and permission in the entry. The permission is also set as side effect of calling <b class="fname">archive_entry_set_mode</b>().<div class="spacer">
</div>
<b class="fname">archive_entry_strmode</b>() returns a string representation of the permission as used by the long mode of <a class="link-man" href="/man/linux/1/ls">ls(1)</a>.</div>
<div class="subsection">
<h2 id="x5573657220616e642067726f7570206e616d65">User and group name</h2> User and group names can be provided in one of three different ways:<dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
char *</dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Multibyte strings in the current locale.</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
wchar_t *</dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Wide character strings in the current locale. The accessor functions are named <b class="fname">XXX_w</b>().</dd>
<dt class="list-tag" style="margin-top: 1.00em;">
UTF-8</dt>
<dd class="list-tag" style="margin-left: 9.00ex;">
Unicode strings encoded as UTF-8. This are convience functions to update both the multibyte and wide character strings at the same time.</dd>
</dl>
<div class="spacer">
</div>
<b class="fname">archive_entry_set_XXX</b>() is an alias for <b class="fname">archive_entry_copy_XXX</b>().</div>
<div class="subsection">
<h2 id="x46696c6520466c616773">File Flags</h2> File flags are transparently converted between a bitmap representation and a textual format. For example, if you set the bitmap and ask for text, the library will build a canonical text format. However, if you set a text format and request a text format, you will get back the same text, even if it is ill-formed. If you need to canonicalize a textual flags string, you should first set the text form, then request the bitmap form, then use that to set the bitmap form. Setting the bitmap format will clear the internal text representation and force it to be reconstructed when you next request the text form.<div class="spacer">
</div>
The bitmap format consists of two integers, one containing bits that should be set, the other specifying bits that should be cleared. Bits not mentioned in either bitmap will be ignored. Usually, the bitmap of bits to be cleared will be set to zero. In unusual circumstances, you can force a fully-specified set of file flags by setting the bitmap of flags to clear to the complement of the bitmap of flags to set. (This differs from <a class="link-man" href="/man/linux/3/fflagstostr">fflagstostr(3)</a>, which only includes names for set bits.) Converting a bitmap to a textual string is a platform-specific operation; bits that are not meaningful on the current platform will be ignored.<div class="spacer">
</div>
The canonical text format is a comma-separated list of flag names. The <b class="fname">archive_entry_copy_fflags_text</b>() and <b class="fname">archive_entry_copy_fflags_text_w</b>() functions parse the provided text and sets the internal bitmap values. This is a platform-specific operation; names that are not meaningful on the current platform will be ignored. The function returns a pointer to the start of the first name that was not recognized, or NULL if every name was recognized. Note that every name &#8212; including names that follow an unrecognized name &#8212; will be evaluated, and the bitmaps will be set to reflect every name that is recognized. (In particular, this differs from <a class="link-man" href="/man/linux/3/strtofflags">strtofflags(3)</a>, which stops parsing at the first unrecognized name.)</div>
</div>
<div class="section">
<h1 id="x53454520414c534f">SEE ALSO</h1> <a class="link-man" href="/man/linux/3/archive">archive(3)</a>, <a class="link-man" href="/man/linux/3/archive_entry">archive_entry(3)</a>, <a class="link-man" href="/man/linux/3/archive_entry_acl">archive_entry_acl(3)</a>, <a class="link-man" href="/man/linux/3/archive_read_disk">archive_read_disk(3)</a>, <a class="link-man" href="/man/linux/3/archive_write_disk">archive_write_disk(3)</a></div>
<div class="section">
<h1 id="x42554753">BUGS</h1> The platform types <span class="type">uid_t</span> and <span class="type">gid_t</span> are often 16 or 32 bit wide. In this case it is possible that the ids can not be correctly restored from archives and get truncated.</div>
</div>
</body>
</html>

