<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
CPANPLUS::Internals::Report(3perl)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CPANPLUS::Internals::Report(3perl)</td>
<td class="head-vol">
Perl Programmers Reference Guide</td>
<td class="head-rtitle">
CPANPLUS::Internals::Report(3perl)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> CPANPLUS::Internals::Report</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
  ### enable test reporting<br/>
  $cb-&gt;configure_object-&gt;set_conf( cpantest =&gt; 1 );<br/>
<br/>
  ### set custom mx host, shouldn't normally be needed<br/>
  $cb-&gt;configure_object-&gt;set_conf( cpantest_mx =&gt; 'smtp.example.com' );<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1> This module provides all the functionality to send test reports to &quot;http://testers.cpan.org&quot; using the &quot;Test::Reporter&quot; module.<div class="spacer">
</div>
All methods will be called automatically if you have &quot;CPANPLUS&quot; configured to enable test reporting (see the &quot;SYNOPSIS&quot;).</div>
<div class="section">
<h1>METHODS</h1><div class="subsection">
<h2>$bool = $cb-&gt;_have_query_report_modules</h2> This function checks if all the required modules are here for querying reports. It returns true and loads them if they are, or returns false otherwise.</div>
<div class="subsection">
<h2>$bool = $cb-&gt;_have_send_report_modules</h2> This function checks if all the required modules are here for sending reports. It returns true and loads them if they are, or returns false otherwise.</div>
<div class="subsection">
<h2>@list = $cb-&gt;_query_report( module =&gt; $modobj, [all_versions =&gt; BOOL, verbose =&gt; BOOL] )</h2> This function queries the CPAN testers database at  <i>http://testers.cpan.org/</i> for test results of specified module objects, module names or distributions.<div class="spacer">
</div>
The optional argument &quot;all_versions&quot; controls whether all versions of a given distribution should be grabbed.  It defaults to false (fetching only reports for the current version).<div class="spacer">
</div>
Returns the a list with the following data structures (for CPANPLUS version 0.042) on success, or false on failure. The contents of the data structure depends on what  <i>http://testers.cpan.org</i> returns, but generally looks like this:<div class="spacer">
</div>
<br/>
          {<br/>
            'grade' =&gt; 'PASS',<br/>
            'dist' =&gt; 'CPANPLUS-0.042',<br/>
            'platform' =&gt; 'i686-pld-linux-thread-multi'<br/>
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/98316'<br/>
            ...<br/>
          },<br/>
          {<br/>
            'grade' =&gt; 'PASS',<br/>
            'dist' =&gt; 'CPANPLUS-0.042',<br/>
            'platform' =&gt; 'i686-linux-thread-multi'<br/>
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99416'<br/>
            ...<br/>
          },<br/>
          {<br/>
            'grade' =&gt; 'FAIL',<br/>
            'dist' =&gt; 'CPANPLUS-0.042',<br/>
            'platform' =&gt; 'cygwin-multi-64int',<br/>
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99371'<br/>
            ...<br/>
          },<br/>
          {<br/>
            'grade' =&gt; 'FAIL',<br/>
            'dist' =&gt; 'CPANPLUS-0.042',<br/>
            'platform' =&gt; 'i586-linux',<br/>
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99396'<br/>
            ...<br/>
          },<br/>
<div class="spacer">
</div>
The status of the test can be one of the following: UNKNOWN, PASS, FAIL or NA (not applicable).</div>
<div class="subsection">
<h2>$bool = $cb-&gt;_send_report( module =&gt; $modobj, buffer =&gt; $make_output, failed =&gt; BOOL, [save =&gt; BOOL, address =&gt; $email_to, verbose =&gt; BOOL, force =&gt; BOOL]);</h2> This function sends a testers report to &quot;cpan-testers@perl.org&quot; for a particular distribution. It returns true on success, and false on failure.<div class="spacer">
</div>
It takes the following options:<dl>
<dt>
module</dt>
<dd>
The module object of this particular distribution</dd>
</dl>
<dl>
<dt>
buffer</dt>
<dd>
The output buffer from the 'make/make test' process</dd>
</dl>
<dl>
<dt>
failed</dt>
<dd>
Boolean indicating if the 'make/make test' went wrong</dd>
</dl>
<dl>
<dt>
save</dt>
<dd>
Boolean indicating if the report should be saved locally instead of mailed out. If provided, this function will return the location the report was saved to, rather than a simple boolean 'TRUE'.<div style="height: 1.00em;">
&#160;</div>
Defaults to false.</dd>
</dl>
<dl>
<dt>
address</dt>
<dd>
The email address to mail the report for. You should never need to override this, but it might be useful for debugging purposes.<div style="height: 1.00em;">
&#160;</div>
Defaults to &quot;cpan-testers@perl.org&quot;.</dd>
</dl>
<dl>
<dt>
verbose</dt>
<dd>
Boolean indicating on whether or not to be verbose.<div style="height: 1.00em;">
&#160;</div>
Defaults to your configuration settings</dd>
</dl>
<dl>
<dt>
force</dt>
<dd>
Boolean indicating whether to force the sending, even if the max amount of reports for fails have already been reached, or if you may already have sent it before.<div style="height: 1.00em;">
&#160;</div>
Defaults to your configuration settings</dd>
</dl>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-09-19</td>
<td class="foot-os">
perl v5.14.2</td>
</tr>
</table>
</div>
</body>
</html>

