<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XISELECTEVENTS(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XISELECTEVENTS(3)</td>
<td class="head-vol">
&#160;</td>
<td class="head-rtitle">
XISELECTEVENTS(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XISelectEvents, XIGetSelectedEvents - select for or get selected XI2 events on the window.</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
#include &lt;X11/extensions/XInput2.h&gt;<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
Status XISelectEvents( Display *display,<br/>
                       Window win,<br/>
                       XIEventMask *masks,<br/>
                       int num_masks);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
masks<br/>
       Device event mask.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
num_masks<br/>
       Number of masks in masks.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
win<br/>
       Specifies the window.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
XIEventMask *XIGetSelectedEvents( Display *display,<br/>
                                  Window win,<br/>
                                  int *num_masks_return);<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
display<br/>
       Specifies the connection to the X server.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
num_masks_return<br/>
       Number of masks in the return value.<br/>
<div style="height: 1.00em;">
&#160;</div>
<br/>
win<br/>
       Specifies the window.<br/>
</div>
<div class="section">
<h1>DESCRIPTION</h1><div style="margin-left: 4.00ex;">
<br/>
XI2 events must be selected using XISelectEvents.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XISelectEvents sets the event mask for this client on win.<br/>
Further events are only reported to this client if the event<br/>
type matches the selected event mask. The masks overrides the<br/>
previously selected event mask for the given device.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
If deviceid is a valid device, the event mask is selected only<br/>
for this device. If deviceid is XIAllDevices or<br/>
XIAllMasterDevices, the event mask is selected for all devices<br/>
or all master devices, respectively. The effective event mask<br/>
is the bit-wise OR of the XIAllDevices, XIAllMasterDevices and<br/>
the respective device's event mask.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
typedef struct {<br/>
    int deviceid;<br/>
    int mask_len;<br/>
    unsigned char* mask;<br/>
} XIEventMask;<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The mask_len specifies the length of mask in bytes. mask is a<br/>
binary mask in the form of (1 &lt;&lt; event type). deviceid must be<br/>
either a device or XIAllDevices or XIAllMasterDevices. A client<br/>
may submit several masks with the same deviceid in one request<br/>
but only the last mask will be effective.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XISelectEvents can generate a BadValue, a BadDevice, and a<br/>
BadWindow error.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
XIGetSelectedEvents returns the events selected by this client on the given<br/>
window. If no events were selected on this window, XIGetSelectedEvents<br/>
returns NULL and num_masks_return is set to 0. If an internal error occurs,<br/>
XIGetSelectedEvents returns NULL and num_masks_return is set to -1.<br/>
Otherwise, XIGetSelectedEvent returns the selected event masks for all<br/>
devices including the masks for XIAllDevices and XIAllMasterDevices<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
The caller must free the returned data using XFree().<br/>
</div>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><div style="margin-left: 4.00ex;">
<br/>
BadValue<br/>
       A value is outside of the permitted range.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadWindow<br/>
       A value for a Window argument does not name a defined<br/>
       window.<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
BadDevice<br/>
       An invalid device was specified. The device does not<br/>
       exist.<br/>
</div>
</div>
<table class="foot">
<tr>
<td class="foot-date">
03/09/2013</td>
<td class="foot-os">
&#160;</td>
</tr>
</table>
</div>
</body>
</html>

