<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
XkbResizeKeyType(3)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
XkbResizeKeyType(3)</td>
<td class="head-vol">
XKB FUNCTIONS</td>
<td class="head-rtitle">
XkbResizeKeyType(3)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> XkbResizeKeyType - Change the number of levels in a key type</div>
<div class="section">
<h1>SYNOPSIS</h1><div style="margin-left: 5.00ex;text-indent: -5.00ex;" class="spacer">
<b>Status XkbResizeKeyType</b> <b>(XkbDescPtr </b><i>xkb</i><b>,</b> <b>int </b><i>type_ndx</i><b>,</b> <b>int </b><i>map_count</i><b>,</b> <b>Bool </b><i>want_preserve</i><b>,</b> <b>int </b><i>new_num_lvls</i><b>);</b></div>
</div>
<div class="section">
<h1>ARGUMENTS</h1><dl>
<dt>
<i>- xkb</i></dt>
<dd>
keyboard description containing client map to update</dd>
</dl>
<dl>
<dt>
<i>- type_ndx</i></dt>
<dd>
index in xkb-&gt;map-&gt;types of type to change</dd>
</dl>
<dl>
<dt>
<i>- map_count</i></dt>
<dd>
total # of map entries needed for the type</dd>
</dl>
<dl>
<dt>
<i>- want_preserve</i></dt>
<dd>
True =&gt; list of preserved modifiers is necessary</dd>
</dl>
<dl>
<dt>
<i>- new_num_lvls</i></dt>
<dd>
new max # of levels for type</dd>
</dl>
</div>
<div class="section">
<h1>DESCRIPTION</h1> <i>XkbResizeKeyType</i> changes the type specified by <i>xkb-&gt;map-&gt;types[type_ndx],</i> and reallocates the symbols and actions bound to all keys that use the type, if necessary. <i>XkbResizeKeyType</i> updates only the local copy of the types in <i>xkb;</i> to update the server's copy for the physical device, use <i>XkbSetMap</i> or <i>XkbChangeMap</i> after calling <i>XkbResizeKeyType.</i><div style="height: 1.00em;">
&#160;</div>
The <i>map_count</i> parameter specifies the total number of map entries needed for the type, and can be zero or greater. If <i>map_count</i> is zero, <i>XkbResizeKeyType</i> frees the existing <i>map</i> and <i>preserve</i> entries for the type if they exist and sets them to NULL.<div style="height: 1.00em;">
&#160;</div>
The <i>want_preserve</i> parameter specifies whether a <i>preserve</i> list for the key should be created. If <i>want_preserve</i> is True, the <i>preserve</i> list with <i>map_count</i> entries is allocated or reallocated if it already exists. Otherwise, if <i>want_preserve</i> is False, the <i>preserve</i> field is freed if necessary and set to NULL.<div style="height: 1.00em;">
&#160;</div>
The <i>new_num_lvls</i> parameter specifies the new maximum number of shift levels for the type and is used to calculate and resize the symbols and actions bound to all keys that use the type.<div style="height: 1.00em;">
&#160;</div>
If <i>type_ndx</i> does not specify a legal type, <i>new_num_lvls</i> is less than 1, or the <i>map_count</i> is less than zero, <i>XkbResizeKeyType</i> returns BadValue. If <i>XkbResizeKeyType</i> encounters any problems with allocation, it returns BadAlloc. Otherwise, it returns Success.</div>
<div class="section">
<h1>RETURN VALUES</h1><dl>
<dt>
Success</dt>
<dd>
The <i>XkbResizeKeyType</i> function returns Success if <i>type_ndx</i> specifies a legal type, <i>new_num_lvls</i> is greater than zero and <i>map_count</i> is positive.</dd>
</dl>
</div>
<div class="section">
<h1>DIAGNOSTICS</h1><dl>
<dt>
<b>BadAlloc</b></dt>
<dd>
Unable to allocate storage</dd>
</dl>
<dl>
<dt>
<b>BadValue</b></dt>
<dd>
An argument is out of range</dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1> <b>XkbChangeMap</b>(3), <b>XkbSetMap</b>(3)</div>
<table class="foot">
<tr>
<td class="foot-date">
libX11 1.4.99.1</td>
<td class="foot-os">
X Version 11</td>
</tr>
</table>
</div>
</body>
</html>

