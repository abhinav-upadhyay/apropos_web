<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
GETSOCKOPT(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GETSOCKOPT(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
GETSOCKOPT(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> getsockopt - get the socket options</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;sys/socket.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
int getsockopt(int<b> </b><i>socket</i><b></b><b>, int</b><b> </b><i>level</i><b></b><b>, int</b><b></b>  <b></b><i>option_name,</i><b></b><b></b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; void *restrict<b> </b><i>option_value</i><b></b><b>, socklen_t *restrict</b><b></b>  <b></b><i>option_len</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>getsockopt</i>() function manipulates options associated with a socket.<div class="spacer">
</div>
The <i>getsockopt</i>() function shall retrieve the value for the option specified by the  <i>option_name</i> argument for the socket specified by the  <i>socket</i> argument. If the size of the option value is greater than  <i>option_len</i>, the value stored in the object pointed to by the  <i>option_value</i> argument shall be silently truncated. Otherwise, the object pointed to by the  <i>option_len</i> argument shall be modified to indicate the actual length of the value.<div class="spacer">
</div>
The <i>level</i> argument specifies the protocol level at which the option resides. To retrieve options at the socket level, specify the  <i>level</i> argument as SOL_SOCKET. To retrieve options at other levels, supply the appropriate level identifier for the protocol controlling the option. For example, to indicate that an option is interpreted by the TCP (Transmission Control Protocol), set  <i>level</i> to IPPROTO_TCP as defined in the <i>&lt;netinet/in.h&gt;</i> header.<div class="spacer">
</div>
The socket in use may require the process to have appropriate privileges to use the  <i>getsockopt</i>() function.<div class="spacer">
</div>
The <i>option_name</i> argument specifies a single option to be retrieved. It can be one of the following values defined in  <i>&lt;sys/socket.h&gt;</i>:<dl>
<dt>
SO_DEBUG</dt>
<dd>
Reports whether debugging information is being recorded. This option shall store an  <b>int</b> value. This is a Boolean option.</dd>
</dl>
<dl>
<dt>
SO_ACCEPTCONN</dt>
<dd>
Reports whether socket listening is enabled. This option shall store an  <b>int</b> value. This is a Boolean option.</dd>
</dl>
<dl>
<dt>
SO_BROADCAST</dt>
<dd>
Reports whether transmission of broadcast messages is supported, if this is supported by the protocol. This option shall store an  <b>int</b> value. This is a Boolean option.</dd>
</dl>
<dl>
<dt>
SO_REUSEADDR</dt>
<dd>
Reports whether the rules used in validating addresses supplied to  <i>bind</i>() should allow reuse of local addresses, if this is supported by the protocol. This option shall store an  <b>int</b> value. This is a Boolean option.</dd>
</dl>
<dl>
<dt>
SO_KEEPALIVE</dt>
<dd>
Reports whether connections are kept active with periodic transmission of messages, if this is supported by the protocol.</dd>
</dl>
<div class="spacer">
</div>
If the connected socket fails to respond to these messages, the connection shall be broken and threads writing to that socket shall be notified with a SIGPIPE signal. This option shall store an  <b>int</b> value. This is a Boolean option.<dl>
<dt>
SO_LINGER</dt>
<dd>
Reports whether the socket lingers on <i>close</i>() if data is present. If SO_LINGER is set, the system blocks the process during  <i>close</i>() until it can transmit the data or until the end of the interval indicated by the  <i>l_linger</i> member, whichever comes first. If SO_LINGER is not specified, and  <i>close</i>() is issued, the system handles the call in a way that allows the process to continue as quickly as possible. This option shall store a  <b>linger</b> structure.</dd>
</dl>
<dl>
<dt>
SO_OOBINLINE</dt>
<dd>
Reports whether the socket leaves received out-of-band data (data marked urgent) inline. This option shall store an  <b>int</b> value. This is a Boolean option.</dd>
</dl>
<dl>
<dt>
SO_SNDBUF</dt>
<dd>
Reports send buffer size information. This option shall store an <b>int</b> value.</dd>
</dl>
<dl>
<dt>
SO_RCVBUF</dt>
<dd>
Reports receive buffer size information. This option shall store an  <b>int</b> value.</dd>
</dl>
<dl>
<dt>
SO_ERROR</dt>
<dd>
Reports information about error status and clears it. This option shall store an  <b>int</b> value.</dd>
</dl>
<dl>
<dt>
SO_TYPE</dt>
<dd>
Reports the socket type. This option shall store an <b>int</b> value. Socket types are described in  <i>Socket Types</i> .</dd>
</dl>
<dl>
<dt>
SO_DONTROUTE</dt>
<dd>
Reports whether outgoing messages bypass the standard routing facilities. The destination shall be on a directly-connected network, and messages are directed to the appropriate network interface according to the destination address. The effect, if any, of this option depends on what protocol is in use. This option shall store an  <b>int</b> value. This is a Boolean option.</dd>
</dl>
<dl>
<dt>
SO_RCVLOWAT</dt>
<dd>
Reports the minimum number of bytes to process for socket input operations. The default value for SO_RCVLOWAT is 1. If SO_RCVLOWAT is set to a larger value, blocking receive calls normally wait until they have received the smaller of the low water mark value or the requested amount. (They may return less than the low water mark if an error occurs, a signal is caught, or the type of data next in the receive queue is different from that returned; for example, out-of-band data.) This option shall store an  <b>int</b> value. Note that not all implementations allow this option to be retrieved.</dd>
</dl>
<dl>
<dt>
SO_RCVTIMEO</dt>
<dd>
Reports the timeout value for input operations. This option shall store a  <b>timeval</b> structure with the number of seconds and microseconds specifying the limit on how long to wait for an input operation to complete. If a receive operation has blocked for this much time without receiving additional data, it shall return with a partial count or  <i>errno</i> set to [EAGAIN] or [EWOULDBLOCK] if no data was received. The default for this option is zero, which indicates that a receive operation shall not time out. Note that not all implementations allow this option to be retrieved.</dd>
</dl>
<dl>
<dt>
SO_SNDLOWAT</dt>
<dd>
Reports the minimum number of bytes to process for socket output operations. Non-blocking output operations shall process no data if flow control does not allow the smaller of the send low water mark value or the entire request to be processed. This option shall store an  <b>int</b> value. Note that not all implementations allow this option to be retrieved.</dd>
</dl>
<dl>
<dt>
SO_SNDTIMEO</dt>
<dd>
Reports the timeout value specifying the amount of time that an output function blocks because flow control prevents data from being sent. If a send operation has blocked for this time, it shall return with a partial count or with  <i>errno</i> set to [EAGAIN] or [EWOULDBLOCK] if no data was sent. The default for this option is zero, which indicates that a send operation shall not time out. The option shall store a  <b>timeval</b> structure. Note that not all implementations allow this option to be retrieved.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
For Boolean options, a zero value indicates that the option is disabled and a non-zero value indicates that the option is enabled.</div>
<div class="section">
<h1>RETURN VALUE</h1> Upon successful completion,  <i>getsockopt</i>() shall return 0; otherwise, -1 shall be returned and  <i>errno</i> set to indicate the error.</div>
<div class="section">
<h1>ERRORS</h1> The  <i>getsockopt</i>() function shall fail if:<dl>
<dt>
<b>EBADF</b></dt>
<dd>
The <i>socket</i> argument is not a valid file descriptor.</dd>
</dl>
<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The specified option is invalid at the specified socket level.</dd>
</dl>
<dl>
<dt>
<b>ENOPROTOOPT</b></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The option is not supported by the protocol.</dd>
</dl>
<dl>
<dt>
<b>ENOTSOCK</b></dt>
<dd>
The <i>socket</i> argument does not refer to a socket.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>getsockopt</i>() function may fail if:<dl>
<dt>
<b>EACCES</b></dt>
<dd>
The calling process does not have the appropriate privileges.</dd>
</dl>
<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The socket has been shut down.</dd>
</dl>
<dl>
<dt>
<b>ENOBUFS</b></dt>
<dd>
Insufficient resources are available in the system to complete the function.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1> None.</div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>bind</i>(), <i>close</i>(), <i>endprotoent</i>(), <i>setsockopt</i>(),  <i>socket</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001,  <i>&lt;sys/socket.h&gt;</i>, <i>&lt;netinet/in.h&gt;</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

