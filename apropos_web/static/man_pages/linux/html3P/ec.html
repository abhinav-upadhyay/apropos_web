<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
ECVT(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
ECVT(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
ECVT(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> ecvt, fcvt, gcvt - convert a floating-point number to a string ( <b>LEGACY</b>)</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;stdlib.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
char *ecvt(double<b> </b><i>value</i><b></b><b>, int</b><b> </b><i>ndigit</i><b></b><b>, int *restrict</b><b></b>  <b></b><i>decpt</i><b></b><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; int *restrict<b> </b><i>sign</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
char *fcvt(double<b> </b><i>value</i><b></b><b>, int</b><b> </b><i>ndigit</i><b></b><b>, int *restrict</b><b></b>  <b></b><i>decpt</i><b></b><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; int *restrict<b> </b><i>sign</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
char *gcvt(double<b> </b><i>value</i><b></b><b>, int</b><b> </b><i>ndigit</i><b></b><b>, char</b>  <b>*</b><b></b><i>buf</i><b></b><b>); </b><b></b>  <b></b><b></b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>ecvt</i>(), <i>fcvt</i>(), and <i>gcvt</i>() functions shall convert floating-point numbers to null-terminated strings.<div class="spacer">
</div>
The <i>ecvt</i>() function shall convert <i>value</i> to a null-terminated string of  <i>ndigit</i> digits (where <i>ndigit</i> is reduced to an unspecified limit determined by the precision of a  <b>double</b>) and return a pointer to the string. The high-order digit shall be non-zero, unless the value is 0. The low-order digit shall be rounded in an implementation-defined manner. The position of the radix character relative to the beginning of the string shall be stored in the integer pointed to by  <i>decpt</i> (negative means to the left of the returned digits). If  <i>value</i> is zero, it is unspecified whether the integer pointed to by  <i>decpt</i> would be 0 or 1. The radix character shall not be included in the returned string. If the sign of the result is negative, the integer pointed to by  <i>sign</i> shall be non-zero; otherwise, it shall be 0.<div class="spacer">
</div>
If the converted value is out of range or is not representable, the contents of the returned string are unspecified.<div class="spacer">
</div>
The <i>fcvt</i>() function shall be equivalent to <i>ecvt</i>(), except that  <i>ndigit</i> specifies the number of digits desired after the radix character. The total number of digits in the result string is restricted to an unspecified limit as determined by the precision of a  <b>double</b>.<div class="spacer">
</div>
The <i>gcvt</i>() function shall convert <i>value</i> to a null-terminated string (similar to that of the  <b>%g</b> conversion specification format of  <i>printf</i>()) in the array pointed to by  <i>buf</i> and shall return  <i>buf</i>. It shall produce <i>ndigit</i> significant digits (limited to an unspecified value determined by the precision of a  <b>double</b>) in the <b>%f</b> conversion specification format of  <i>printf</i>() if possible, or the  <b>%e</b> conversion specification format of <i>printf</i>() (scientific notation) otherwise. A minus sign shall be included in the returned string if  <i>value</i> is less than 0. A radix character shall be included in the returned string if  <i>value</i> is not a whole number. Trailing zeros shall be suppressed where  <i>value</i> is not a whole number. The radix character is determined by the current locale. If  <i>setlocale</i>() has not been called successfully, the default locale, POSIX, is used. The default locale specifies a period (  <b>'.'</b> ) as the radix character. The  <i>LC_NUMERIC</i> category determines the value of the radix character within the current locale.<div class="spacer">
</div>
These functions need not be reentrant. A function that is not required to be reentrant is not required to be thread-safe.</div>
<div class="section">
<h1>RETURN VALUE</h1> The  <i>ecvt</i>() and <i>fcvt</i>() functions shall return a pointer to a null-terminated string of digits.<div class="spacer">
</div>
The <i>gcvt</i>() function shall return <i>buf</i>.<div class="spacer">
</div>
The return values from <i>ecvt</i>() and <i>fcvt</i>() may point to static data which may be overwritten by subsequent calls to these functions.</div>
<div class="section">
<h1>ERRORS</h1> No errors are defined.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1> None.</div>
<div class="section">
<h1>APPLICATION USAGE</h1> The  <i>sprintf</i>() function is preferred over this function.</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> These functions may be withdrawn in a future version.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>printf</i>(), <i>setlocale</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001,  <i>&lt;stdlib.h&gt;</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

