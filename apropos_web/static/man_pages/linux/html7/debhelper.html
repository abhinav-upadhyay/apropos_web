<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
debhelper(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
debhelper(7)</td>
<td class="head-vol">
Debhelper</td>
<td class="head-rtitle">
debhelper(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> debhelper - the debhelper tool suite</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>dh_</b><i>*</i> [<b>-v</b>] [<b>-a</b>] [<b>-i</b>] [<b>-s</b>] [<b>--no-act</b>] [<b>-p</b><i>package</i>] [<b>-N</b><i>package</i>] [<b>-P</b><i>tmpdir</i>]</div>
<div class="section">
<h1>DESCRIPTION</h1> Debhelper is used to help you build a Debian package. The philosophy behind debhelper is to provide a collection of small, simple, and easily understood tools that are used in  <i>debian/rules</i> to automate various common aspects of building a package. This means less work for you, the packager. It also, to some degree means that these tools can be changed if Debian policy changes, and packages that use them will require only a rebuild to comply with the new policy.<div class="spacer">
</div>
A typical <i>debian/rules</i> file that uses debhelper will call several debhelper commands in sequence, or use  <i>dh</i>(1) to automate this process. Examples of rules files that use debhelper are in  <i>/usr/share/doc/debhelper/examples/</i><div class="spacer">
</div>
To create a new Debian package using debhelper, you can just copy one of the sample rules files and edit it by hand. Or you can try the  <b>dh-make</b> package, which contains a dh_make command that partially automates the process. For a more gentle introduction, the  <b>maint-guide</b> Debian package contains a tutorial about making your first package using debhelper.</div>
<div class="section">
<h1>DEBHELPER COMMANDS</h1> Here is the list of debhelper commands you can use. See their man pages for additional documentation.<dl>
<dt>
<i>dh_auto_build</i>(1)</dt>
<dd>
automatically builds a package</dd>
</dl>
<dl>
<dt>
<i>dh_auto_clean</i>(1)</dt>
<dd>
automatically cleans up after a build</dd>
</dl>
<dl>
<dt>
<i>dh_auto_configure</i>(1)</dt>
<dd>
automatically configure a package prior to building</dd>
</dl>
<dl>
<dt>
<i>dh_auto_install</i>(1)</dt>
<dd>
automatically runs make install or similar</dd>
</dl>
<dl>
<dt>
<i>dh_auto_test</i>(1)</dt>
<dd>
automatically runs a package's test suites</dd>
</dl>
<dl>
<dt>
<i>dh_bugfiles</i>(1)</dt>
<dd>
install bug reporting customization files into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_builddeb</i>(1)</dt>
<dd>
build Debian binary packages</dd>
</dl>
<dl>
<dt>
<i>dh_clean</i>(1)</dt>
<dd>
clean up package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_compress</i>(1)</dt>
<dd>
compress files and fix symlinks in package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_fixperms</i>(1)</dt>
<dd>
fix permissions of files in package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_gconf</i>(1)</dt>
<dd>
install GConf defaults files and register schemas</dd>
</dl>
<dl>
<dt>
<i>dh_gencontrol</i>(1)</dt>
<dd>
generate and install control file</dd>
</dl>
<dl>
<dt>
<i>dh_icons</i>(1)</dt>
<dd>
Update Freedesktop icon caches</dd>
</dl>
<dl>
<dt>
<i>dh_install</i>(1)</dt>
<dd>
install files into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installcatalogs</i>(1)</dt>
<dd>
install and register SGML Catalogs</dd>
</dl>
<dl>
<dt>
<i>dh_installchangelogs</i>(1)</dt>
<dd>
install changelogs into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installcron</i>(1)</dt>
<dd>
install cron scripts into etc/cron.*</dd>
</dl>
<dl>
<dt>
<i>dh_installdeb</i>(1)</dt>
<dd>
install files into the DEBIAN directory</dd>
</dl>
<dl>
<dt>
<i>dh_installdebconf</i>(1)</dt>
<dd>
install files used by debconf in package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installdirs</i>(1)</dt>
<dd>
create subdirectories in package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installdocs</i>(1)</dt>
<dd>
install documentation into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installemacsen</i>(1)</dt>
<dd>
register an Emacs add on package</dd>
</dl>
<dl>
<dt>
<i>dh_installexamples</i>(1)</dt>
<dd>
install example files into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installgsettings</i>(1)</dt>
<dd>
install GSettings overrides and set dependencies</dd>
</dl>
<dl>
<dt>
<i>dh_installifupdown</i>(1)</dt>
<dd>
install if-up and if-down hooks</dd>
</dl>
<dl>
<dt>
<i>dh_installinfo</i>(1)</dt>
<dd>
install info files</dd>
</dl>
<dl>
<dt>
<i>dh_installinit</i>(1)</dt>
<dd>
install upstart jobs or init scripts into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installlogcheck</i>(1)</dt>
<dd>
install logcheck rulefiles into etc/logcheck/</dd>
</dl>
<dl>
<dt>
<i>dh_installlogrotate</i>(1)</dt>
<dd>
install logrotate config files</dd>
</dl>
<dl>
<dt>
<i>dh_installman</i>(1)</dt>
<dd>
install man pages into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installmenu</i>(1)</dt>
<dd>
install Debian menu files into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installmime</i>(1)</dt>
<dd>
install mime files into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_installmodules</i>(1)</dt>
<dd>
register modules with modutils</dd>
</dl>
<dl>
<dt>
<i>dh_installpam</i>(1)</dt>
<dd>
install pam support files</dd>
</dl>
<dl>
<dt>
<i>dh_installppp</i>(1)</dt>
<dd>
install ppp ip-up and ip-down files</dd>
</dl>
<dl>
<dt>
<i>dh_installudev</i>(1)</dt>
<dd>
install udev rules files</dd>
</dl>
<dl>
<dt>
<i>dh_installwm</i>(1)</dt>
<dd>
register a window manager</dd>
</dl>
<dl>
<dt>
<i>dh_installxfonts</i>(1)</dt>
<dd>
register X fonts</dd>
</dl>
<dl>
<dt>
<i>dh_link</i>(1)</dt>
<dd>
create symlinks in package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_lintian</i>(1)</dt>
<dd>
install lintian override files into package build directories</dd>
</dl>
<dl>
<dt>
<i>dh_listpackages</i>(1)</dt>
<dd>
list binary packages debhelper will act on</dd>
</dl>
<dl>
<dt>
<i>dh_makeshlibs</i>(1)</dt>
<dd>
automatically create shlibs file and call dpkg-gensymbols</dd>
</dl>
<dl>
<dt>
<i>dh_md5sums</i>(1)</dt>
<dd>
generate DEBIAN/md5sums file</dd>
</dl>
<dl>
<dt>
<i>dh_movefiles</i>(1)</dt>
<dd>
move files out of debian/tmp into subpackages</dd>
</dl>
<dl>
<dt>
<i>dh_perl</i>(1)</dt>
<dd>
calculates Perl dependencies and cleans up after MakeMaker</dd>
</dl>
<dl>
<dt>
<i>dh_prep</i>(1)</dt>
<dd>
perform cleanups in preparation for building a binary package</dd>
</dl>
<dl>
<dt>
<i>dh_shlibdeps</i>(1)</dt>
<dd>
calculate shared library dependencies</dd>
</dl>
<dl>
<dt>
<i>dh_strip</i>(1)</dt>
<dd>
strip executables, shared libraries, and some static libraries</dd>
</dl>
<dl>
<dt>
<i>dh_testdir</i>(1)</dt>
<dd>
test directory before building Debian package</dd>
</dl>
<dl>
<dt>
<i>dh_testroot</i>(1)</dt>
<dd>
ensure that a package is built as root</dd>
</dl>
<dl>
<dt>
<i>dh_ucf</i>(1)</dt>
<dd>
register configuration files with ucf</dd>
</dl>
<dl>
<dt>
<i>dh_usrlocal</i>(1)</dt>
<dd>
migrate usr/local directories to maintainer scripts</dd>
</dl>
<div class="subsection">
<h2>Deprecated Commands</h2> A few debhelper commands are deprecated and should not be used.<dl>
<dt>
<i>dh_desktop</i>(1)</dt>
<dd>
deprecated no-op</dd>
</dl>
<dl>
<dt>
<i>dh_installmanpages</i>(1)</dt>
<dd>
old-style man page installer (deprecated)</dd>
</dl>
<dl>
<dt>
<i>dh_python</i>(1)</dt>
<dd>
calculates Python dependencies and adds postinst and prerm Python scripts (deprecated)</dd>
</dl>
<dl>
<dt>
<i>dh_scrollkeeper</i>(1)</dt>
<dd>
deprecated no-op</dd>
</dl>
<dl>
<dt>
<i>dh_suidregister</i>(1)</dt>
<dd>
suid registration program (deprecated)</dd>
</dl>
<dl>
<dt>
<i>dh_undocumented</i>(1)</dt>
<dd>
undocumented.7 symlink program (deprecated no-op)</dd>
</dl>
</div>
<div class="subsection">
<h2>Other Commands</h2> If a program's name starts with  <b>dh_</b>, and the program is not on the above lists, then it is not part of the debhelper package, but it should still work like the other programs described on this page.</div>
</div>
<div class="section">
<h1>DEBHELPER CONFIG FILES</h1> Many debhelper commands make use of files in  <i>debian/</i> to control what they do. Besides the common  <i>debian/changelog</i> and <i>debian/control</i>, which are in all packages, not just those using debhelper, some additional files can be used to configure the behavior of specific debhelper commands. These files are typically named debian/ <i>package</i>.foo (where <i>package</i> of course, is replaced with the package that is being acted on).<div class="spacer">
</div>
For example, <b>dh_installdocs</b> uses files named <i>debian/package.docs</i> to list the documentation files it will install. See the man pages of individual commands for details about the names and formats of the files they use. Generally, these files will list files to act on, one file per line. Some programs in debhelper use pairs of files and destinations or slightly more complicated formats.<div class="spacer">
</div>
Note for the first (or only) binary package listed in  <i>debian/control</i>, debhelper will use <i>debian/foo</i> when there's no  <i>debian/package.foo</i> file.<div class="spacer">
</div>
In some rare cases, you may want to have different versions of these files for different architectures or OSes. If files named debian/ <i>package</i>.foo.<i>ARCH</i> or debian/ <i>package</i>.foo.<i>OS</i> exist, where <i>ARCH</i> and <i>OS</i> are the same as the output of &quot; <b>dpkg-architecture -qDEB_HOST_ARCH</b>&quot; / &quot; <b>dpkg-architecture -qDEB_HOST_ARCH_OS</b>&quot;, then they will be used in preference to other, more general files.<div class="spacer">
</div>
Mostly, these config files are used to specify lists of various types of files. Documentation or example files to install, files to move, and so on. When appropriate, in cases like these, you can use standard shell wildcard characters ( <b>?</b> and <b>*</b> and <b>[</b><i>..</i><b>]</b> character classes) in the files. You can also put comments in these files; lines beginning with  <b>#</b> are ignored.<div class="spacer">
</div>
The syntax of these files is intentionally kept very simple to make then easy to read, understand, and modify. If you prefer power and complexity, you can make the file executable, and write a program that outputs whatever content is appropriate for a given situation. When you do so, the output is not further processed to expand wildcards or strip comments.</div>
<div class="section">
<h1>SHARED DEBHELPER OPTIONS</h1> The following command line options are supported by all debhelper programs.<dl>
<dt>
<b>-v</b>, <b>--verbose</b></dt>
<dd>
Verbose mode: show all commands that modify the package build directory.</dd>
</dl>
<dl>
<dt>
<b>--no-act</b></dt>
<dd>
Do not really do anything. If used with -v, the result is that the command will output what it would have done.</dd>
</dl>
<dl>
<dt>
<b>-a</b>, <b>--arch</b></dt>
<dd>
Act on architecture dependent packages that should be built for the build architecture.</dd>
</dl>
<dl>
<dt>
<b>-i</b>, <b>--indep</b></dt>
<dd>
Act on all architecture independent packages.</dd>
</dl>
<dl>
<dt>
<b>-p</b><i>package</i>, <b>--package=</b><i>package</i></dt>
<dd>
Act on the package named <i>package</i>. This option may be specified multiple times to make debhelper operate on a given set of packages.</dd>
</dl>
<dl>
<dt>
<b>-s</b>, <b>--same-arch</b></dt>
<dd>
This used to be a smarter version of the <b>-a</b> flag, but the <b>-a</b> flag is now equally smart.</dd>
</dl>
<dl>
<dt>
<b>-N</b><i>package</i>, <b>--no-package=</b><i>package</i></dt>
<dd>
Do not act on the specified package even if an <b>-a</b>, <b>-i</b>, or <b>-p</b> option lists the package as one that should be acted on.</dd>
</dl>
<dl>
<dt>
<b>--remaining-packages</b></dt>
<dd>
Do not act on the packages which have already been acted on by this debhelper command earlier (i.e. if the command is present in the package debhelper log). For example, if you need to call the command with special options only for a couple of binary packages, pass this option to the last call of the command to process the rest of packages with default settings.</dd>
</dl>
<dl>
<dt>
<b>--ignore=</b><i>file</i></dt>
<dd>
Ignore the specified file. This can be used if <i>debian/</i> contains a debhelper config file that a debhelper command should not act on. Note that  <i>debian/compat</i>, <i>debian/control</i>, and <i>debian/changelog</i> can't be ignored, but then, there should never be a reason to ignore those files.<div style="height: 1.00em;">
&#160;</div>
For example, if upstream ships a <i>debian/init</i> that you don't want  <b>dh_installinit</b> to install, use <b>--ignore=debian/init</b></dd>
</dl>
<dl>
<dt>
<b>-P</b><i>tmpdir</i>, <b>--tmpdir=</b><i>tmpdir</i></dt>
<dd>
Use <i>tmpdir</i> for package build directory. The default is debian/<i>package</i></dd>
</dl>
<dl>
<dt>
<b>--mainpackage=</b><i>package</i></dt>
<dd>
This little-used option changes the package which debhelper considers the &quot;main package&quot;, that is, the first one listed in  <i>debian/control</i>, and the one for which  <i>debian/foo</i> files can be used instead of the usual  <i>debian/package.foo</i> files.</dd>
</dl>
<dl>
<dt>
<b>-O=</b><i>option</i>|<i>bundle</i></dt>
<dd>
This is used by <i>dh</i>(1) when passing user-specified options to all the commands it runs. If the command supports the specified option or option bundle, it will take effect. If the command does not support the option (or any part of an option bundle), it will be ignored.</dd>
</dl>
</div>
<div class="section">
<h1>COMMON DEBHELPER OPTIONS</h1> The following command line options are supported by some debhelper programs. See the man page of each program for a complete explanation of what each option does.<dl>
<dt>
<b>-n</b></dt>
<dd>
Do not modify <i>postinst</i>, <i>postrm</i>, etc. scripts.</dd>
</dl>
<dl>
<dt>
<b>-X</b><i>item</i>, <b>--exclude=</b><i>item</i></dt>
<dd>
Exclude an item from processing. This option may be used multiple times, to exclude more than one thing.</dd>
</dl>
<dl>
<dt>
<b>-A</b>, <b>--all</b></dt>
<dd>
Makes files or other items that are specified on the command line take effect in ALL packages acted on, not just the first.</dd>
</dl>
</div>
<div class="section">
<h1>BUILD SYSTEM OPTIONS</h1> The following command line options are supported by all of the  <b>dh_auto_</b><i>*</i> debhelper programs. These programs support a variety of build systems, and normally heuristically determine which to use, and how to use them. You can use these command line options to override the default behavior. Typically these are passed to  <i>dh</i>(1), which then passes them to all the  <b>dh_auto_</b><i>*</i> programs.<dl>
<dt>
<b>-S</b><i>buildsystem</i>, <b>--buildsystem=</b><i>buildsystem</i></dt>
<dd>
Force use of the specified <i>buildsystem</i>, instead of trying to auto-select one which might be applicable for the package.</dd>
</dl>
<dl>
<dt>
<b>-D</b><i>directory</i>, <b>--sourcedirectory=</b><i>directory</i></dt>
<dd>
Assume that the original package source tree is at the specified  <i>directory</i> rather than the top level directory of the Debian source package tree.</dd>
</dl>
<dl>
<dt>
<b>-B</b>[<i>directory</i>], <b>--builddirectory=</b>[<i>directory</i>]</dt>
<dd>
Enable out of source building and use the specified <i>directory</i> as the build directory. If  <i>directory</i> parameter is omitted, a default build directory will chosen.<div style="height: 1.00em;">
&#160;</div>
If this option is not specified, building will be done in source by default unless the build system requires or prefers out of source tree building. In such a case, the default build directory will be used even if  <b>--builddirectory</b> is not specified.<div style="height: 1.00em;">
&#160;</div>
If the build system prefers out of source tree building but still allows in source building, the latter can be re-enabled by passing a build directory path that is the same as the source directory path.</dd>
</dl>
<dl>
<dt>
<b>--parallel</b></dt>
<dd>
Enable parallel builds if underlying build system supports them. The number of parallel jobs is controlled by the  <b>DEB_BUILD_OPTIONS</b> environment variable (&quot;Debian Policy, section 4.9.1&quot;) at build time. It might also be subject to a build system specific limit.<div style="height: 1.00em;">
&#160;</div>
If this option is not specified, debhelper currently defaults to not allowing parallel package builds.</dd>
</dl>
<dl>
<dt>
<b>--max-parallel=</b><i>maximum</i></dt>
<dd>
This option implies <b>--parallel</b> and allows further limiting the number of jobs that can be used in a parallel build. If the package build is known to only work with certain levels of concurrency, you can set this to the maximum level that is known to work, or that you wish to support.</dd>
</dl>
<dl>
<dt>
<b>--list</b>, <b>-l</b></dt>
<dd>
List all build systems supported by debhelper on this system. The list includes both default and third party build systems (marked as such). Also shows which build system would be automatically selected, or which one is manually specified with the  <b>--buildsystem</b> option.</dd>
</dl>
</div>
<div class="section">
<h1>COMPATABILITY LEVELS</h1> From time to time, major non-backwards-compatible changes need to be made to debhelper, to keep it clean and well-designed as needs change and its author gains more experience. To prevent such major changes from breaking existing packages, the concept of debhelper compatibility levels was introduced. You tell debhelper which compatibility level it should use, and it modifies its behavior in various ways.<div class="spacer">
</div>
Tell debhelper what compatibility level to use by writing a number to  <i>debian/compat</i>. For example, to turn on v9 mode:<div class="spacer">
</div>
<br/>
  % echo 9 &gt; debian/compat<br/>
<div class="spacer">
</div>
Your package will also need a versioned build dependency on a version of debhelper equal to (or greater than) the compatibility level your package uses. So for compatibility level 9, ensure debian/control has:<div class="spacer">
</div>
<br/>
  Build-Depends: debhelper (&gt;= 9)<br/>
<div class="spacer">
</div>
Unless otherwise indicated, all debhelper documentation assumes that you are using the most recent compatibility level, and in most cases does not indicate if the behavior is different in an earlier compatibility level, so if you are not using the most recent compatibility level, you're advised to read below for notes about what is different in earlier compatibility levels.<div class="spacer">
</div>
These are the available compatibility levels:<dl>
<dt>
v1</dt>
<dd>
This is the original debhelper compatibility level, and so it is the default one. In this mode, debhelper will use  <i>debian/tmp</i> as the package tree directory for the first binary package listed in the control file, while using debian/ <i>package</i> for all other packages listed in the <i>control</i> file.<div style="height: 1.00em;">
&#160;</div>
This mode is deprecated.</dd>
</dl>
<dl>
<dt>
v2</dt>
<dd>
In this mode, debhelper will consistently use debian/<i>package</i> as the package tree directory for every package that is built.<div style="height: 1.00em;">
&#160;</div>
This mode is deprecated.</dd>
</dl>
<dl>
<dt>
v3</dt>
<dd>
This mode works like v2, with the following additions:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
-</dt>
<dd>
Debhelper config files support globbing via <b>*</b> and <b>?</b>, when appropriate. To turn this off and use those characters raw, just prefix with a backslash.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_makeshlibs</b> makes the <i>postinst</i> and <i>postrm</i> scripts call <b>ldconfig</b>.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
Every file in <i>etc/</i> is automatically flagged as a conffile by <b>dh_installdeb</b>.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
This mode is deprecated.</div>
<dl>
<dt>
v4</dt>
<dd>
Changes from v3 are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
-</dt>
<dd>
<b>dh_makeshlibs -V</b> will not include the Debian part of the version number in the generated dependency line in the shlibs file.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
You are encouraged to put the new <b>${misc:Depends}</b> into <i>debian/control</i> to supplement the  <b>${shlibs:Depends}</b> field.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_fixperms</b> will make all files in <i>bin/</i> directories and in <i>etc/init.d</i> executable.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_link</b> will correct existing links to conform with policy.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">
&#160;</div>
This mode is deprecated.</div>
<dl>
<dt>
v5</dt>
<dd>
Changes from v4 are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
-</dt>
<dd>
Comments are ignored in debhelper config files.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_strip --dbg-package</b> now specifies the name of a package to put debugging symbols in, not the packages to take the symbols from.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_installdocs</b> skips installing empty files.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_install</b> errors out if wildcards expand to nothing.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
v6</dt>
<dd>
Changes from v5 are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
-</dt>
<dd>
Commands that generate maintainer script fragments will order the fragments in reverse order for the  <i>prerm</i> and <i>postrm</i> scripts.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_installwm</b> will install a slave manpage link for <i>x-window-manager.1.gz</i>, if it sees the man page in  <i>usr/share/man/man1</i> in the package build directory.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_builddeb</b> did not previously delete everything matching  <b>DH_ALWAYS_EXCLUDE</b>, if it was set to a list of things to exclude, such as  <b>CVS:.svn:.git</b>. Now it does.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_installman</b> allows overwriting existing man pages in the package build directory. In previous compatibility levels it silently refuses to do this.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
v7</dt>
<dd>
Changes from v6 are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
-</dt>
<dd>
<b>dh_install</b>, will fall back to looking for files in <i>debian/tmp</i> if it doesn't find them in the current directory (or wherever you tell it look using  <b>--sourcedir</b>). This allows <b>dh_install</b> to interoperate with <b>dh_auto_install</b>, which installs to  <i>debian/tmp</i>, without needing any special parameters.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_clean</b> will read <i>debian/clean</i> and delete files listed there.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_clean</b> will delete toplevel <i>*-stamp</i> files.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_installchangelogs</b> will guess at what file is the upstream changelog if none is specified.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
v8</dt>
<dd>
Changes from v7 are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
-</dt>
<dd>
Commands will fail rather than warning when they are passed unknown options.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_makeshlibs</b> will run <b>dpkg-gensymbols</b> on all shared libraries that it generates shlibs files for. So  <b>-X</b> can be used to exclude libraries. Also, libraries in unusual locations that  <b>dpkg-gensymbols</b> would not have processed before will be passed to it, a behavior change that can cause some packages to fail to build.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh</b> requires the sequence to run be specified as the first parameter, and any switches come after it. Ie, use &quot; <b>dh $@ --foo</b>&quot;, not &quot;<b>dh --foo $@</b>&quot;.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_auto_</b><i>*</i> prefer to use Perl's <b>Module::Build</b> in preference to <i>Makefile.PL</i>.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
v9</dt>
<dd>
This is the recommended mode of operation.<div style="height: 1.00em;">
&#160;</div>
Changes from v8 are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
-</dt>
<dd>
Multiarch support. In particular, <b>dh_auto_configure</b> passes multiarch directories to autoconf in --libdir and --libexecdir.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
dh is aware of the usual dependencies between targets in debian/rules. So, &quot;dh binary&quot; will run any build, build-arch, build-indep, install, etc targets that exist in the rules file. There's no need to define an explicit binary target with explicit dependencies on the other targets.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_strip</b> compresses debugging symbol files to reduce the installed size of -dbg packages.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_auto_configure</b> does not include the source package name in --libexecdir when using autoconf.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh</b> does not default to enabling --with=python-support</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
All of the <b>dh_auto_</b><i>*</i> debhelper programs and <b>dh</b> set environment variables listed by  <b>dpkg-buildflags</b>, unless they are already set. They support DEB_BUILD_OPTIONS=noopt too.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_auto_configure</b> passes CFLAGS to perl <i>Makefile.PL</i> and  <i>Build.PL</i></dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
<b>dh_strip</b> puts separated debug symbols in a location based on their build-id.</dd>
</dl>
<dl>
<dt>
-</dt>
<dd>
Executable debhelper config files are run and their output used as the configuration.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
<dl>
<dt>
v10</dt>
<dd>
This compatibility level is still open for development; use with caution.<div style="height: 1.00em;">
&#160;</div>
Changes from v9 are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl>
<dt>
-</dt>
<dd>
None yet..</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
</div>
</div>
<div class="section">
<h1>NOTES</h1><div class="subsection">
<h2>Multiple binary package support</h2> If your source package generates more than one binary package, debhelper programs will default to acting on all binary packages when run. If your source package happens to generate one architecture dependent package, and another architecture independent package, this is not the correct behavior, because you need to generate the architecture dependent packages in the binary-arch  <i>debian/rules</i> target, and the architecture independent packages in the binary-indep  <i>debian/rules</i> target.<div class="spacer">
</div>
To facilitate this, as well as give you more control over which packages are acted on by debhelper programs, all debhelper programs accept the  <b>-a</b>, <b>-i</b>, <b>-p</b>, and <b>-s</b> parameters. These parameters are cumulative. If none are given, debhelper programs default to acting on all packages listed in the control file.</div>
<div class="subsection">
<h2>Automatic generation of Debian install scripts</h2> Some debhelper commands will automatically generate parts of Debian maintainer scripts. If you want these automatically generated things included in your existing Debian maintainer scripts, then you need to add  <b>#DEBHELPER#</b> to your scripts, in the place the code should be added.  <b>#DEBHELPER#</b> will be replaced by any auto-generated code when you run  <b>dh_installdeb</b>.<div class="spacer">
</div>
If a script does not exist at all and debhelper needs to add something to it, then debhelper will create the complete script.<div class="spacer">
</div>
All debhelper commands that automatically generate code in this way let it be disabled by the -n parameter (see above).<div class="spacer">
</div>
Note that the inserted code will be shell code, so you cannot directly use it in a Perl script. If you would like to embed it into a Perl script, here is one way to do that (note that I made sure that $1, $2, etc are set with the set command):<div class="spacer">
</div>
<br/>
  my $temp=&quot;set -e\nset -- @ARGV\n&quot; . &lt;&lt; 'EOF';<br/>
  #DEBHELPER#<br/>
  EOF<br/>
  system ($temp) / 256 == 0<br/>
        or die &quot;Problem with debhelper scripts: $!&quot;;<br/>
</div>
<div class="subsection">
<h2>Automatic generation of miscellaneous dependencies.</h2> Some debhelper commands may make the generated package need to depend on some other packages. For example, if you use  <i>dh_installdebconf</i>(1), your package will generally need to depend on debconf. Or if you use  <i>dh_installxfonts</i>(1), your package will generally need to depend on a particular version of xutils. Keeping track of these miscellaneous dependencies can be annoying since they are dependent on how debhelper does things, so debhelper offers a way to automate it.<div class="spacer">
</div>
All commands of this type, besides documenting what dependencies may be needed on their man pages, will automatically generate a substvar called  <b>${misc:Depends}</b>. If you put that token into your <i>debian/control</i> file, it will be expanded to the dependencies debhelper figures you need.<div class="spacer">
</div>
This is entirely independent of the standard <b>${shlibs:Depends}</b> generated by  <i>dh_makeshlibs</i>(1), and the <b>${perl:Depends}</b> generated by <i>dh_perl</i>(1). You can choose not to use any of these, if debhelper's guesses don't match reality.</div>
<div class="subsection">
<h2>Package build directories</h2> By default, all debhelper programs assume that the temporary directory used for assembling the tree of files in a package is debian/ <i>package</i>.<div class="spacer">
</div>
Sometimes, you might want to use some other temporary directory. This is supported by the  <b>-P</b> flag. For example, &quot;<b>dh_installdocs -Pdebian/tmp</b>&quot;, will use  <b>debian/tmp</b> as the temporary directory. Note that if you use <b>-P</b>, the debhelper programs can only be acting on a single package at a time. So if you have a package that builds many binary packages, you will need to also use the  <b>-p</b> flag to specify which binary package the debhelper program will act on.</div>
<div class="subsection">
<h2>udebs</h2> Debhelper includes support for udebs. To create a udeb with debhelper, add &quot; <b>Package-Type: udeb</b>&quot; to the package's stanza in <i>debian/control</i>. Debhelper will try to create udebs that comply with debian-installer policy, by making the generated package files end in  <i>.udeb</i>, not installing any documentation into a udeb, skipping over  <i>preinst</i>, <i>postrm</i>, <i>prerm</i>, and <i>config</i> scripts, etc.</div>
</div>
<div class="section">
<h1>ENVIRONMENT</h1><dl>
<dt>
<b>DH_VERBOSE</b></dt>
<dd>
Set to <b>1</b> to enable verbose mode. Debhelper will output every command it runs that modifies files on the build system.</dd>
</dl>
<dl>
<dt>
<b>DH_COMPAT</b></dt>
<dd>
Temporarily specifies what compatibility level debhelper should run at, overriding any value in  <i>debian/compat</i>.</dd>
</dl>
<dl>
<dt>
<b>DH_NO_ACT</b></dt>
<dd>
Set to <b>1</b> to enable no-act mode.</dd>
</dl>
<dl>
<dt>
<b>DH_OPTIONS</b></dt>
<dd>
Anything in this variable will be prepended to the command line arguments of all debhelper commands.<div style="height: 1.00em;">
&#160;</div>
When using <i>dh</i>(1), it can be passed options that will be passed on to each debhelper command, which is generally better than using DH_OPTIONS.</dd>
</dl>
<dl>
<dt>
<b>DH_ALWAYS_EXCLUDE</b></dt>
<dd>
If set, this adds the value the variable is set to to the <b>-X</b> options of all commands that support the  <b>-X</b> option. Moreover, <b>dh_builddeb</b> will <b>rm -rf</b> anything that matches the value in your package build tree.<div style="height: 1.00em;">
&#160;</div>
This can be useful if you are doing a build from a CVS source tree, in which case setting  <b>DH_ALWAYS_EXCLUDE=CVS</b> will prevent any CVS directories from sneaking into the package you build. Or, if a package has a source tarball that (unwisely) includes CVS directories, you might want to export  <b>DH_ALWAYS_EXCLUDE=CVS</b> in <i>debian/rules</i>, to make it take effect wherever your package is built.<div style="height: 1.00em;">
&#160;</div>
Multiple things to exclude can be separated with colons, as in  <b>DH_ALWAYS_EXCLUDE=CVS:.svn</b></dd>
</dl>
</div>
<div class="section">
<h1>SEE ALSO</h1><dl>
<dt>
<i>/usr/share/doc/debhelper/examples/</i></dt>
<dd>
A set of example <i>debian/rules</i> files that use debhelper.</dd>
</dl>
<dl>
<dt>
&lt;http://kitenet.net/~joey/code/debhelper/&gt;</dt>
<dd>
Debhelper web site.</dd>
</dl>
</div>
<div class="section">
<h1>AUTHOR</h1> Joey Hess &lt;joeyh@debian.org&gt;</div>
<table class="foot">
<tr>
<td class="foot-date">
2012-03-02</td>
<td class="foot-os">
9.20120115ubuntu3</td>
</tr>
</table>
</div>
</body>
</html>

