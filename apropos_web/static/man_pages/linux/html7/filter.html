<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
filter(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
filter(7)</td>
<td class="head-vol">
Apple Inc.</td>
<td class="head-rtitle">
filter(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> filter - cups file conversion filter interface</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>filter</b> job user title num-copies options [ <i>filename</i> ]</div>
<div class="section">
<h1>DESCRIPTION</h1> The CUPS filter interface provides a standard method for adding support for new document types to CUPS. Each filter is capable of converting from one or more input formats to another format that can either be printed directly or piped into another filter to get it to a printable format.<div class="spacer">
</div>
Filters <b>must</b> be capable of reading from a filename on the command-line or from the standard input, copying the standard input to a temporary file as required by the file format. All output  <b>must</b> be sent to the standard output.<div class="spacer">
</div>
The command name (argv[0]) is set to the name of the destination printer but is also available in the PRINTER environment variable.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>OPTIONS</h1> Options passed on the command-line typically do not include the default choices the printer's PPD file. In addition, some options may be specified in multiple ways - &quot;landscape&quot; is a synonym for &quot;orientation-requested=4&quot;, &quot;media&quot; is a synonym for &quot;PageSize&quot;, &quot;PageRegion&quot;, &quot;InputSlot&quot;, and &quot;MediaType&quot;, and &quot;sides&quot; is a synonym for the various &quot;Duplex&quot; options. Non-raster filters  <b>must</b> support both explicit and implicit specification of PPD options - use the ppdMarkDefaults and cupsMarkOptions functions in the CUPS library to use the correct mapping, and ppdFindMarkedChoice to get the user-selected choice.<div class="spacer">
</div>
Raster filters should use option choices set through the raster page header, as those reflect the options in effect for a given page. Options specified on the command-line determine the default values for the entire job, which can be overridden on a per-page basis.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>LOG MESSAGES</h1> Messages sent to stderr are generally logged to printer-state-message attribute and the current  <i>ErrorLog</i>. Each line begins with a standard prefix:<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
ALERT: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute and adds the specified message to the current  <i>ErrorLog</i> using the &quot;alert&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
ATTR: attribute=value [attribute=value]</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the named job attribute(s). Typically this will be used to set the job-remote-id attribute.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
CRIT: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute and adds the specified message to the current  <i>ErrorLog</i> using the &quot;critical&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
DEBUG: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute and adds the specified message to the current  <i>ErrorLog</i> using the &quot;debug&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
DEBUG2: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute and adds the specified message to the current  <i>ErrorLog</i> using the &quot;debug2&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
EMERG: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute and adds the specified message to the current  <i>ErrorLog</i> using the &quot;emergency&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
ERROR: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute and adds the specified message to the current  <i>ErrorLog</i> using the &quot;error&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
INFO: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute. If the current <i>LogLevel</i> is set to &quot;debug2&quot;, also adds the specified message to the current  <i>ErrorLog</i> using the &quot;info&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
NOTICE: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute and adds the specified message to the current  <i>ErrorLog</i> using the &quot;notice&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
PAGE: page-number #-copies</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
PAGE: total #-pages</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Adds an entry to the current <i>PageLog</i>. The first form adds #-copies to the job-media-sheets-completed attribute. The second form sets the job-media-sheets-completed attribute to #-pages.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
PPD: Keyword=Value ... KeywordN=Value</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the named keywords in the printer's PPD file. This is typically used to update default option keywords such as DefaultPageSize and the various installable options in the PPD file.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
STATE: printer-state-reason [printer-state-reason ...]</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
STATE: + printer-state-reason [printer-state-reason ...]</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
STATE: - printer-state-reason [printer-state-reason ...]</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets, adds, or removes printer-state-reason keywords to the current queue. Typically this is used to indicate media, ink, and toner conditions on a printer.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
WARNING: message</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
Sets the printer-state-message attribute and adds the specified message to the current  <i>ErrorLog</i> using the &quot;warning&quot; log level.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>ENVIRONMENT VARIABLES</h1> The following environment variables are defined by the CUPS server when executing the filter:<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
CHARSET</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The default text character set, typically utf-8.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
CLASS</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
When a job is submitted to a printer class, contains the name of the destination printer class. Otherwise this environment variable will not be set.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
CONTENT_TYPE</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The MIME type associated with the file (e.g. application/postscript).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
CUPS_CACHEDIR</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The directory for semi-persistent cache files can be found.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
CUPS_DATADIR</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The directory where data files can be found.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
CUPS_FILETYPE</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The type of file being printed: &quot;job-sheet&quot; for a banner page and &quot;document&quot; for a regular print file.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
CUPS_SERVERROOT</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The root directory of the server.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
DEVICE_URI</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The device-uri associated with the printer.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
FINAL_CONTENT_TYPE</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The MIME type associated with the printer (e.g. application/vnd.cups-postscript).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
LANG</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The default language locale (typically C or en).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
PATH</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The standard execution path for external programs that may be run by the filter.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
PPD</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The full pathname of the PostScript Printer Description (PPD) file for this printer.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
PRINTER</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The name of the printer.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
RIP_CACHE</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The recommended amount of memory to use for Raster Image Processors (RIPs).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
SOFTWARE</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The name and version number of the server (typically CUPS/1.2).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
TZ</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The timezone of the server.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
USER</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The user executing the filter, typically &quot;lp&quot; or &quot;root&quot;; consult the  <i>cupsd.conf(5)</i> file for the current setting.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>COMPATIBILITY</h1> While the filter interface is compatible with System V interface scripts, it will only work with the System V interface script as the only filter.  Typically the interface script will be provided via the  <i>lpadmin(8)</i> command using the <i>-i</i> option.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>backend(7)</i>, <i>cupsd(8)</i>,<div style="height: 0.00em;">
&#160;</div>
http://localhost:631/help</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright 2007-2011 by Apple Inc.</div>
<table class="foot">
<tr>
<td class="foot-date">
CUPS</td>
<td class="foot-os">
13 May 2009</td>
</tr>
</table>
</div>
</body>
</html>

