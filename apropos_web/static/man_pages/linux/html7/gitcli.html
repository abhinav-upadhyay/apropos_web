<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
GITCLI(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GITCLI(7)</td>
<td class="head-vol">
Git Manual</td>
<td class="head-rtitle">
GITCLI(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> gitcli - Git command-line interface and conventions</div>
<div class="section">
<h1>SYNOPSIS</h1> gitcli</div>
<div class="section">
<h1>DESCRIPTION</h1> This manual describes the convention used throughout Git CLI.<div style="height: 1.00em;">
&#160;</div>
Many commands take revisions (most often &quot;commits&quot;, but sometimes &quot;tree-ish&quot;, depending on the context and command) and paths as their arguments. Here are the rules:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Revisions come first and then paths. E.g. in git diff v1.0 v2.0 arch/x86 include/asm-x86, v1.0 and v2.0 are revisions and arch/x86 and include/asm-x86 are paths.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;When an argument can be misunderstood as either a revision or a path, they can be disambiguated by placing -- between them. E.g. git diff -- HEAD is, &quot;I have a file called HEAD in my work tree. Please show changes between the version I staged in the index and what I have in the work tree for that file&quot;, not &quot;show difference between the HEAD commit and the work tree as a whole&quot;. You can say git diff HEAD -- to ask for the latter.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Without disambiguating --, Git makes a reasonable guess, but errors out and asking you to disambiguate when ambiguous. E.g. if you have a file called HEAD in your work tree, git diff HEAD is ambiguous, and you have to say either git diff HEAD -- or git diff -- HEAD to disambiguate.<div style="height: 1.00em;">
&#160;</div>
When writing a script that is expected to handle random user-input, it is a good practice to make it explicit which arguments are which by placing disambiguating -- at appropriate places.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Many commands allow wildcards in paths, but you need to protect them from getting globbed by the shell. These two mean different things:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ git checkout -- *.c<br/>
$ git checkout -- \*.c<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
The former lets your shell expand the fileglob, and you are asking the dot-C files in your working tree to be overwritten with the version in the index. The latter passes the *.c to Git, and you are asking the paths in the index that match the pattern to be checked out to your working tree. After running git add hello.c; rm hello.c, you will  <i>not</i> see hello.c in your working tree with the former, but with the latter you will.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;Just as the filesystem  <i>.</i> (period) refers to the current directory, using a  <i>.</i> as a repository name in Git (a dot-repository) is a relative path and means your current repository.</div>
<div style="height: 1.00em;">
&#160;</div>
Here are the rules regarding the &quot;flags&quot; that you should follow when you are scripting Git:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;it&#8217;s preferred to use the non-dashed form of Git commands, which means that you should prefer git foo to git-foo.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;splitting short options to separate words (prefer git foo -a -b to git foo -ab, the latter may not even work).</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;when a command-line option takes an argument, use the  <i>stuck</i> form. In other words, write git foo -oArg instead of git foo -o Arg for short options, and git foo --long-opt=Arg instead of git foo --long-opt Arg for long options. An option that takes optional option-argument must be written in the  <i>stuck</i> form.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;when you give a revision parameter to a command, make sure the parameter is not ambiguous with a name of a file in the work tree. E.g. do not write git log -1 HEAD but write git log -1 HEAD --; the former will not work if you happen to have a file called HEAD in the work tree.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;many commands allow a long option --option to be abbreviated only to their unique prefix (e.g. if there is no other option whose name begins with opt, you may be able to spell --opt to invoke the --option flag), but you should fully spell them out when writing your scripts; later versions of Git may introduce a new option whose name shares the same prefix, e.g. --optimize, to make a short prefix that used to be unique no longer unique.</div>
</div>
<div class="section">
<h1>ENHANCED OPTION PARSER</h1> From the Git 1.5.4 series and further, many Git commands (not all of them at the time of the writing though) come with an enhanced option parser.<div style="height: 1.00em;">
&#160;</div>
Here is a list of the facilities provided by this option parser.<div class="subsection">
<h2>Magic Options</h2> Commands which have the enhanced option parser activated all understand a couple of magic command-line options:<div class="spacer">
</div>
-h<div style="margin-left: 4.00ex;">
gives a pretty printed usage of the command.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ git describe -h<br/>
usage: git describe [options] &lt;commit-ish&gt;*<br/>
   or: git describe [options] --dirty<div class="spacer">
</div>
<br/>
    --contains            find the tag that comes after the commit<br/>
    --debug               debug search strategy on stderr<br/>
    --all                 use any ref<br/>
    --tags                use any tag, even unannotated<br/>
    --long                always use long format<br/>
    --abbrev[=&lt;n&gt;]        use &lt;n&gt; digits to display SHA-1s<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="spacer">
</div>
--help-all<div style="margin-left: 4.00ex;">
Some Git commands take options that are only used for plumbing or that are deprecated, and such options are hidden from the default usage. This option gives the full list of options.</div>
</div>
<div class="subsection">
<h2>Negating options</h2> Options with long option names can be negated by prefixing --no-. For example, git branch has the option --track which is  <i>on</i> by default. You can use --no-track to override that behaviour. The same goes for --color and --no-color.</div>
<div class="subsection">
<h2>Aggregating short options</h2> Commands that support the enhanced option parser allow you to aggregate short options. This means that you can for example use git rm -rf or git clean -fdx.</div>
<div class="subsection">
<h2>Abbreviating long options</h2> Commands that support the enhanced option parser accepts unique prefix of a long option as if it is fully spelled out, but use this with a caution. For example, git commit --amen behaves as if you typed git commit --amend, but that is true only until a later version of Git introduces another option that shares the same prefix, e.g. git commit --amenity option.</div>
<div class="subsection">
<h2>Separating argument from the option</h2> You can write the mandatory option parameter to an option as a separate word on the command line. That means that all the following uses work:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ git foo --long-opt=Arg<br/>
$ git foo --long-opt Arg<br/>
$ git foo -oArg<br/>
$ git foo -o Arg<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
However, this is <b>NOT</b> allowed for switches with an optional value, where the <i>stuck</i> form must be used:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
$ git describe --abbrev HEAD     # correct<br/>
$ git describe --abbrev=10 HEAD  # correct<br/>
$ git describe --abbrev 10 HEAD  # NOT WHAT YOU MEANT<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
</div>
<div class="section">
<h1>NOTES ON FREQUENTLY CONFUSED OPTIONS</h1> Many commands that can work on files in the working tree and/or in the index can take --cached and/or --index options. Sometimes people incorrectly think that, because the index was originally called cache, these two are synonyms. They are  <b>not</b> &#8212; these two options mean very different things.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;The --cached option is used to ask a command that usually works on files in the working tree to  <b>only</b> work with the index. For example, git grep, when used without a commit to specify from which commit to look for strings in, usually works on files in the working tree, but with the --cached option, it looks for strings in the index.</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
&#8226;The --index option is used to ask a command that usually works on files in the working tree to  <b>also</b> affect the index. For example, git stash apply usually merges changes recorded in a stash to the working tree, but with the --index option, it also merges changes to the index as well.</div>
<div style="height: 1.00em;">
&#160;</div>
git apply command can be used with --cached and --index (but not at the same time). Usually the command only affects the files in the working tree, but with --index, it patches both the files and their index entries, and with --cached, it modifies only the index entries.<div style="height: 1.00em;">
&#160;</div>
See also <b>http://marc.info/?l=git&amp;m=116563135620359</b> and <b>http://marc.info/?l=git&amp;m=119150393620273</b> for further information.</div>
<div class="section">
<h1>GIT</h1> Part of the  <b>git</b>(1) suite</div>
<table class="foot">
<tr>
<td class="foot-date">
04/03/2016</td>
<td class="foot-os">
Git 2.8.1</td>
</tr>
</table>
</div>
</body>
</html>

