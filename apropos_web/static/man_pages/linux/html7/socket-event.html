<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
socket-event(8)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
socket-event(8)</td>
<td class="head-vol">
System Manager's Manual</td>
<td class="head-rtitle">
socket-event(8)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> socket - event signalling that a socket connection has been made</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>socket</b> <b>PROTO=</b><i>PROTO</i> <b>PORT=</b><i>PORT</i> <b>ADDR=</b><i>ADDR</i><div style="height: 1.00em;">
&#160;</div>
<b>socket</b> <b>PROTO=</b><i>PROTO</i> <b>PATH=</b><i>PATH</i></div>
<div class="section">
<h1>DESCRIPTION</h1> The <b>socket</b> event is generated by the <b>upstart-socket-bridge</b>(8) daemon when a socket connection is made whose details match the socket event condition and environment specified in a jobs <b>start on</b> or <b>stop on</b> stanza.<div style="height: 1.00em;">
&#160;</div>
When an incoming connection is detected, the file descriptor representing the socket is passed to the job in question to allow it to <b>accept</b>(2) the connection. Additionally, the environment variable <b>UPSTART_JOB</b> will contain the name of the event (&quot;socket&quot;) and the environment variable <b>UPSTART_FDS</b> will contain the number of the file descriptor corresponding to the listening socket.</div>
<div class="section">
<h1>EXAMPLES</h1><div class="subsection">
<h2>Internet socket</h2> Start web server when first client connects from localhost:<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
start on socket PROTO=inet PORT=80 ADDR=127.0.0.1<br/>
</div>
</div>
<div class="subsection">
<h2>Local socket</h2><div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
start on socket PROTO=unix PATH=/var/run/.s.pgsql.1234<br/>
</div>
</div>
<div class="subsection">
<h2>Abstract socket</h2><div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
start on socket PROTO=unix PATH=@/at/upstart/example<br/>
</div>
</div>
</div>
<div class="section">
<h1>AUTHOR</h1> Written by Scott James Remnant &lt;<b>scott@netsplit.com</b>&gt;<div style="height: 1.00em;">
&#160;</div>
Manual page written by James Hunt &lt;<b>james.hunt@ubuntu.com</b>&gt;</div>
<div class="section">
<h1>BUGS</h1> Report bugs at &lt;<b>https://launchpad.net/upstart/+bugs</b>&gt;</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright &#169; 2011 Canonical Ltd.<div class="spacer">
</div>
This is free software; see the source for copying conditions.  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</div>
<div class="section">
<h1>SEE ALSO</h1> <b>init</b>(5) <b>init</b>(8) <b>socket</b>(2) <b>socket</b>(7) <b>upstart-socket-bridge</b>(8)</div>
<table class="foot">
<tr>
<td class="foot-date">
2011-03-08</td>
<td class="foot-os">
upstart</td>
</tr>
</table>
</div>
</body>
</html>

