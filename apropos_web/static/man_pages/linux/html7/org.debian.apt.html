<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
org.debian.apt(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
org.debian.apt(7)</td>
<td class="head-vol">
D-Bus Interface</td>
<td class="head-rtitle">
org.debian.apt(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> org.debian.apt - the main interface of aptdaemon</div>
<div class="section">
<h1>SYNOPSIS</h1> The daemon is accessed through the D-Bus object at <i>/or/debian/apt</i>. Which provides the following interface.</div>
<div class="section">
<h1>DESCRIPTION</h1><div class="subsection">
<h2>METHODS</h2><dl>
<dt>
<b>AddRepository</b></dt>
<dd>
<b>AddRepository	(in 's' </b><i>type</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	in 's' </b><i>uri</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	in 's' </b><i>dist</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	in 'as' </b><i>comps</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	in 's' </b><i>comment</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	in 's' </b><i>sourcesfile</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Add a new repository to the sources list file. The repository has to define the type (e.g. deb or deb-src), uri (e.g. http://archive.debian.org/debian), the distribution (e.g. stable) and a list of components (e.g. main).<div class="spacer">
</div>
Optionally a comment and an alternative sources.list file can be specified.</div>
<dl>
<dt>
<b>EnableDistroComponent</b></dt>
<dd>
<b>EnableDistroComponent	(in 's' </b><i>comp</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Enable a component for all distro repositories, e.g. main or universe.</div>
<dl>
<dt>
<b>GetTrustedVendorKeys</b></dt>
<dd>
<b>GetTrustedVendorKeys	(out 'as' </b><i>keys</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the GnuPG keys which are used to authenticate packages.</div>
<dl>
<dt>
<b>GetAtiveTransactions</b></dt>
<dd>
<b>GetActiveTransactions	(out 'as' </b><i>tids</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return an array of the currently queued transactions.</div>
<dl>
<dt>
<b>Quit</b></dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
<b>Quit	()</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Request the shutdown of the daemon. The daemon will finish a currently running transaction before.</div>
</div>
<div class="subsection">
<h2>TRANSACTION BASED METHODS</h2> The following methods are handled by transactions. By calling the methods a new transaction will be created for the task. The return value of the method is the D-Bus object path of the corresponding transaction. The transaction can be modified, to use an http proxy or to run in a specific language by setting the corresponding properties on the <b>org.debian.apt.transaction</b>(7) interface. Afterwards the transaction has to be queued for processing by calling its Run method on the <b>org.debian.apt.transaction</b>(7) interface.<dl>
<dt>
<b>UpdateCache</b></dt>
<dd>
<b>UpdateCache	(out 's' </b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will fetch the latest meta data from the repositories an rebuild the cache of available and installed packages.</div>
<dl>
<dt>
<b>UpdateCachePartially</b></dt>
<dd>
<b>UpdateCachePartially	(in 's' </b><i>sources_list</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	</b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will fetch the latest meta data from the repositories specified in the given sources.list snippet only and rebuild the cache of available and installed packages.</div>
<dl>
<dt>
<b>InstallPackages</b></dt>
<dd>
<b>InstallPackages	(in 'as' </b><i>package_names</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	</b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will install the packages of the given names.<div class="spacer">
</div>
Optionally the to be installed version can be specified by appending a &quot;=&quot; and the version to the package name, e.g. &quot;xterm=256-1&quot;.</div>
<dl>
<dt>
<b>InstallFile</b></dt>
<dd>
<b>InstallFile	(in 's' </b><i>path</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	</b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly create transaction which will install a local *.deb package file at the given <i>path</i>.</div>
<dl>
<dt>
<b>UpgradePackages</b></dt>
<dd>
<b>UpgradePackages	(in 'as' </b><i>package_names</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	\out 's' </b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will upgrade the packages of the given names to their latest version.<div class="spacer">
</div>
Optionally the to be installed version can be specified by appending a &quot;=&quot; and the version to the package name, e.g. &quot;xterm=256-1&quot;.</div>
<dl>
<dt>
<b>RemovePackages</b></dt>
<dd>
<b>RemovePackages	(in 'as' </b><i>package_names</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	\out 's' </b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will remove the packages of the given names.<div class="spacer">
</div>
Optionally the version of the to be removed packages can be specified by appending a &quot;=&quot; and the version to the package name, e.g. &quot;xterm=256-1&quot;.</div>
<dl>
<dt>
<b>UpgradeSystem</b></dt>
<dd>
<b>UpgradeSystem	(in 'b' </b><i>safe_mode</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	</b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will upgrade the whole system.<div class="spacer">
</div>
If in safe mode only already installed packages will be updated. Updates which require to remove installed packages or to install additional packages will be skipped.</div>
<dl>
<dt>
<b>CommitPackages</b></dt>
<dd>
<b>CommitPackages	(in 'as' </b><i>install</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	\in 'as' </b><i>reinstall,</i><div style="height: 0.00em;">
&#160;</div>
<b>	\in 'as' </b><i>remove,</i><div style="height: 0.00em;">
&#160;</div>
<b>	\in 'as' </b><i>purge,</i><div style="height: 0.00em;">
&#160;</div>
<b>	\in 'as' </b><i>upgrade</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	\in 'as' </b><i>downgrade</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	\out 's' </b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will perform a complex install/removal task at once. <i>Install</i>, <i>reinstall</i>, <i>remove</i>, <i>purge</i> and <i>upgrade</i> are lists of package names.<div class="spacer">
</div>
Optionally the version of the to be removed packages or the version of the package which should be installed can be specified by appending a &quot;=&quot; and the version to the package name, e.g. &quot;xterm=256-1&quot;.</div>
<dl>
<dt>
<b>AddVendorKeyFromFile</b></dt>
<dd>
<b>AddVendorKeyFromFile	(in 's' </b><i>keyid</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	\in 's' </b><i>keyserver,</i><div style="height: 0.00em;">
&#160;</div>
<div style="height: 0.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will download and install the public GnuPG key of the <i>keyid</i> from the given <i>keyserver</i> to the list of trusted software vendors. The list will be used to authenticate packages.</div>
<dl>
<dt>
<b>AddVendorKeyFromKeyserver</b></dt>
<dd>
<b>AddVendorKeyFromFile	(in 's' </b><i>path</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will install the public GnuPB key at the given <i>path</i> to the list of trusted software vendors. The list will be used to authenticate packages.</div>
<dl>
<dt>
<b>RemoveVendorKey</b></dt>
<dd>
<b>AddVendorKeyFromFile	(in 's' </b><i>fingerprint</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will remove the public GnuPB key with the given <i>fingerprint</i> from the list of trusted software vendors. The list will be used to authenticate packages.</div>
<dl>
<dt>
<b>FixBrokenDepends</b></dt>
<dd>
<b>FixBrokenDepends	(out 's' </b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will try to resolve unsatisfied dependencies by installing required packages or removing conflicting ones.</div>
<dl>
<dt>
<b>FixIncompleteInstall</b></dt>
<dd>
<b>FixIncompleteInstall	(out 's' </b><i>tid</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
Return the id of a newly created transaction which will try to complete previously failed installations by calling &quot;dpkg --configure -a&quot;.</div>
</div>
<div class="subsection">
<h2>SIGNALS</h2><dl>
<dt>
<b>ActiveTransactionsChanged</b></dt>
<dd>
<b>ActiveTransactionsChanged	('s' </b><i>active</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
<b>	\&#180;as' </b><i>queued</i><b>)</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
The signal is used to report changes of the currently running or queued transactions. If there's any active transaction active will be an empty string.</div>
</div>
</div>
<div class="section">
<h1>HOMEPAGE</h1> https://launchpad.net/aptdaemon</div>
<div class="section">
<h1>BUGS</h1> You can report bugs at the Launchpad site of aptdaemon: https://bugs.launchpad.net/aptdaemon/+filebug</div>
<div class="section">
<h1>AUTHOR</h1> Sebastian Heinlein &lt;devel at glatzor dot de&gt;</div>
<div class="section">
<h1>SEE ALSO</h1> <b>org.debian.apt.transaction</b>(7), <b>aptd</b>(2), <b>aptdcon</b>(2)</div>
<table class="foot">
<tr>
<td class="foot-date">
December 2009</td>
<td class="foot-os">
aptdaemon</td>
</tr>
</table>
</div>
</body>
</html>

