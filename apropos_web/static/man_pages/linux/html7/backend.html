<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
backend(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
backend(7)</td>
<td class="head-vol">
Apple Inc.</td>
<td class="head-rtitle">
backend(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> backend - cups backend transmission interfaces<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SYNOPSIS</h1> <b>backend</b><div style="height: 0.00em;">
&#160;</div>
<b>backend</b> job user title num-copies options [ <i>filename</i> ]<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Backends are a special type of  <i>filter(7)</i> which is used to send print data to and discover different devices on the system.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Like filters, backends must be capable of reading from a filename on the command-line or from the standard input, copying the standard input to a temporary file as required by the physical interface.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The command name (argv[0]) is set to the device URI of the destination printer. Starting with CUPS 1.1.22, any authentication information in argv[0] is removed, so backend developers are urged to use the DEVICE_URI environment variable whenever authentication information is required. The CUPS API includes a  <i>cupsBackendDeviceURI</i> function for retrieving the correct device URI.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
Back-channel data from the device should be relayed to the job filters by writing to file descriptor 3. The CUPS API includes the  <i>cupsBackChannelWrite</i> function for this purpose.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DEVICE DISCOVERY</h1> When run with no arguments, the backend should list the devices and schemes it supports or is advertising to stdout. The output consists of zero or more lines consisting of any of the following forms:<div style="height: 1.00em;">
&#160;</div>
<br/>
    device-class scheme &quot;Unknown&quot; &quot;device-info&quot;<br/>
    device-class device-uri &quot;device-make-and-model&quot; &quot;device-info&quot;<br/>
    device-class device-uri &quot;device-make-and-model&quot; &quot;device-info&quot; &quot;device-id&quot;<br/>
    device-class device-uri &quot;device-make-and-model&quot; &quot;device-info&quot; &quot;device-id&quot; &quot;device-location&quot;<br/>
<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The <i>device-class</i> field is one of the following values:<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
direct</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The device-uri refers to a specific direct-access device with no options, such as a parallel, USB, or SCSI device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
file</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The device-uri refers to a file on disk.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
network</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The device-uri refers to a networked device and conforms to the general form for network URIs.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
serial</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The device-uri refers to a serial device with configurable baud rate and other options. If the device-uri contains a baud value, it represents the maximum baud rate supported by the device.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>scheme</i> field provides the URI scheme that is supported by the backend. Backends should use this form only when the backend supports any URI using that scheme. The  <i>device-uri</i> field specifies the full URI to use when communicating with the device.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The <i>device-make-and-model</i> field specifies the make and model of the device, e.g. &quot;Acme Foojet 2000&quot;. If the make and model is not known, you must report &quot;Unknown&quot;.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The <i>device-info</i> field specifies additional information about the device. Typically this includes the make and model along with the port number or network address, e.g. &quot;Acme Foojet 2000 USB #1&quot;.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The optional <i>device-id</i> field specifies the IEEE-1284 device ID string for the device, which is used to select a matching driver.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The optional <i>device-location</i> field specifies the physical location of the device, which is often used to pre-populate the printer-location attribute when adding a printer.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>PERMISSIONS</h1> Backends without world execute permissions are run as the root user. Otherwise, the backend is run using the unprivileged user account, typically &quot;lp&quot;.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>EXIT CODES</h1> The following exit codes are defined for backends; C API constants defined in the &lt;cups/backend.h&gt; header file are defined in parenthesis:<div style="height: 1.00em;">
&#160;</div>
<dl>
<dt>
0 (CUPS_BACKEND_OK)</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The print file was successfully transmitted to the device or remote server.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
1 (CUPS_BACKEND_FAILED)</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The print file was not successfully transmitted to the device or remote server. The scheduler will respond to this by canceling the job, retrying the job, or stopping the queue depending on the state of the error-policy attribute.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
2 (CUPS_BACKEND_AUTH_REQUIRED)</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The print file was not successfully transmitted because valid authentication information is required. The scheduler will respond to this by holding the job and adding the authentication-required job-reasons keyword.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
3 (CUPS_BACKEND_HOLD)</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The print file was not successfully transmitted because it cannot be printed at this time. The scheduler will respond to this by holding the job.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
4 (CUPS_BACKEND_STOP)</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The print file was not successfully transmitted because it cannot be printed at this time. The scheduler will respond to this by stopping the queue.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
5 (CUPS_BACKEND_CANCEL)</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The print file was not successfully transmitted because one or more attributes are not supported. The scheduler will respond to this by canceling the job.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
6 (CUPS_BACKEND_RETRY)</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The print file was not successfully transmitted because of a temporary issue. The scheduler will retry the job at a future time - other jobs may print before this one.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<dl>
<dt>
7 (CUPS_BACKEND_RETRY_CURRENT)</dt>
<dd>
<div style="height: 0.00em;">
&#160;</div>
The print file was not successfully transmitted because of a temporary issue. The scheduler will retry the job immediately without allowing intervening jobs.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
All other exit code values are reserved.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>cupsd(8)</i>, <i>cupsd.conf(5)</i>, <i>filter(7)</i>,<div style="height: 0.00em;">
&#160;</div>
http://localhost:631/help<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>COPYRIGHT</h1> Copyright 2007-2011 by Apple Inc.</div>
<table class="foot">
<tr>
<td class="foot-date">
CUPS</td>
<td class="foot-os">
15 April 2011</td>
</tr>
</table>
</div>
</body>
</html>

