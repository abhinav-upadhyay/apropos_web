<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
GITNAMESPACES(7)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GITNAMESPACES(7)</td>
<td class="head-vol">
Git Manual</td>
<td class="head-rtitle">
GITNAMESPACES(7)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> gitnamespaces - Git namespaces</div>
<div class="section">
<h1>SYNOPSIS</h1><br/>
GIT_NAMESPACE=&lt;namespace&gt; <i>git upload-pack</i><br/>
GIT_NAMESPACE=&lt;namespace&gt; <i>git receive-pack</i><br/>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>DESCRIPTION</h1> Git supports dividing the refs of a single repository into multiple namespaces, each of which has its own branches, tags, and HEAD. Git can expose each namespace as an independent repository to pull from and push to, while sharing the object store, and exposing all the refs to operations such as  <b>git-gc</b>(1).<div style="height: 1.00em;">
&#160;</div>
Storing multiple repositories as namespaces of a single repository avoids storing duplicate copies of the same objects, such as when storing multiple branches of the same source. The alternates mechanism provides similar support for avoiding duplicates, but alternates do not prevent duplication between new objects added to the repositories without ongoing maintenance, while namespaces do.<div style="height: 1.00em;">
&#160;</div>
To specify a namespace, set the GIT_NAMESPACE environment variable to the namespace. For each ref namespace, Git stores the corresponding refs in a directory under refs/namespaces/. For example, GIT_NAMESPACE=foo will store refs under refs/namespaces/foo/. You can also specify namespaces via the --namespace option to <b>git</b>(1).<div style="height: 1.00em;">
&#160;</div>
Note that namespaces which include a / will expand to a hierarchy of namespaces; for example, GIT_NAMESPACE=foo/bar will store refs under refs/namespaces/foo/refs/namespaces/bar/. This makes paths in GIT_NAMESPACE behave hierarchically, so that cloning with GIT_NAMESPACE=foo/bar produces the same result as cloning with GIT_NAMESPACE=foo and cloning from that repo with GIT_NAMESPACE=bar. It also avoids ambiguity with strange namespace paths such as foo/refs/heads/, which could otherwise generate directory/file conflicts within the refs directory.<div style="height: 1.00em;">
&#160;</div>
<b>git-upload-pack</b>(1) and <b>git-receive-pack</b>(1) rewrite the names of refs as specified by GIT_NAMESPACE. git-upload-pack and git-receive-pack will ignore all references outside the specified namespace.<div style="height: 1.00em;">
&#160;</div>
The smart HTTP server, <b>git-http-backend</b>(1), will pass GIT_NAMESPACE through to the backend programs; see <b>git-http-backend</b>(1) for sample configuration to expose repository namespaces as repositories.<div style="height: 1.00em;">
&#160;</div>
For a simple local test, you can use <b>git-remote-ext</b>(1):<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
<br/>
git clone ext::'git --namespace=foo %s /tmp/prefixed.git'<br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>SECURITY</h1> Anyone with access to any namespace within a repository can potentially access objects from any other namespace stored in the same repository. You can&#8217;t directly say &quot;give me object ABCD&quot; if you don&#8217;t have a ref to it, but you can do some other sneaky things like:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
 1.Claiming to push ABCD, at which point the server will optimize out the need for you to actually send it. Now you have a ref to ABCD and can fetch it (claiming not to have it, of course).</div>
<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 4.00ex;">
 2.Requesting other refs, claiming that you have ABCD, at which point the server may generate deltas against ABCD.</div>
<div style="height: 1.00em;">
&#160;</div>
None of this causes a problem if you only host public repositories, or if everyone who may read one namespace may also read everything in every other namespace (for instance, if everyone in an organization has read permission to every repository).</div>
<table class="foot">
<tr>
<td class="foot-date">
04/03/2016</td>
<td class="foot-os">
Git 2.8.1</td>
</tr>
</table>
</div>
</body>
</html>

