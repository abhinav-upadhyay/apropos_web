<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
MQ_NOTIFY(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
MQ_NOTIFY(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
MQ_NOTIFY(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> mq_notify - notify process that a message is available ( <b>REALTIME</b>)</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;mqueue.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
int mq_notify(mqd_t<b> </b><i>mqdes</i><b></b><b>, const struct sigevent *</b><b></b><i>notification</i><b></b><b>);</b>  <b></b><b></b>  <b></b><b></b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> If the argument  <i>notification</i> is not NULL, this function shall register the calling process to be notified of message arrival at an empty message queue associated with the specified message queue descriptor,  <i>mqdes</i>. The notification specified by the  <i>notification</i> argument shall be sent to the process when the message queue transitions from empty to non-empty. At any time, only one process may be registered for notification by a message queue. If the calling process or any other process has already registered for notification of message arrival at the specified message queue, subsequent attempts to register for that message queue shall fail.<div class="spacer">
</div>
If <i>notification</i> is NULL and the process is currently registered for notification by the specified message queue, the existing registration shall be removed.<div class="spacer">
</div>
When the notification is sent to the registered process, its registration shall be removed. The message queue shall then be available for registration.<div class="spacer">
</div>
If a process has registered for notification of message arrival at a message queue and some thread is blocked in  <i>mq_receive</i>() waiting to receive a message when a message arrives at the queue, the arriving message shall satisfy the appropriate  <i>mq_receive</i>(). The resulting behavior is as if the message queue remains empty, and no notification shall be sent.</div>
<div class="section">
<h1>RETURN VALUE</h1> Upon successful completion, the  <i>mq_notify</i>() function shall return a value of zero; otherwise, the function shall return a value of -1 and set  <i>errno</i> to indicate the error.</div>
<div class="section">
<h1>ERRORS</h1> The  <i>mq_notify</i>() function shall fail if:<dl>
<dt>
<b>EBADF</b></dt>
<dd>
The <i>mqdes</i> argument is not a valid message queue descriptor.</dd>
</dl>
<dl>
<dt>
<b>EBUSY</b></dt>
<dd>
A process is already registered for notification by the message queue.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1> None.</div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>mq_open</i>(), <i>mq_send</i>(), <i>mq_timedsend</i>(), <i>msgctl</i>(),  <i>msgget</i>(), <i>msgrcv</i>(), <i>msgsnd</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001,  <i>&lt;mqueue.h&gt;</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

