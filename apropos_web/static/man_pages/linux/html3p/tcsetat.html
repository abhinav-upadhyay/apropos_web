<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/linux/style.css" type="text/css" media="all"/>
<title>
TCSETATTR(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
TCSETATTR(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
TCSETATTR(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> tcsetattr - set the parameters associated with the terminal</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;termios.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
int tcsetattr(int<b> </b><i>fildes</i><b></b><b>, int</b><b> </b><i>optional_actions</i><b></b><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; const struct termios *<b></b><i>termios_p</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>tcsetattr</i>() function shall set the parameters associated with the terminal referred to by the open file descriptor  <i>fildes</i> (an open file descriptor associated with a terminal) from the  <b>termios</b> structure referenced by <i>termios_p</i> as follows:<dl>
<dt>
 *</dt>
<dd>
If <i>optional_actions</i> is TCSANOW, the change shall occur immediately.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If <i>optional_actions</i> is TCSADRAIN, the change shall occur after all output written to  <i>fildes</i> is transmitted. This function should be used when changing parameters that affect output.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If <i>optional_actions</i> is TCSAFLUSH, the change shall occur after all output written to  <i>fildes</i> is transmitted, and all input so far received but not read shall be discarded before the change is made.</dd>
</dl>
<div class="spacer">
</div>
If the output baud rate stored in the <b>termios</b> structure pointed to by  <i>termios_p</i> is the zero baud rate, B0, the modem control lines shall no longer be asserted. Normally, this shall disconnect the line.<div class="spacer">
</div>
If the input baud rate stored in the <b>termios</b> structure pointed to by  <i>termios_p</i> is 0, the input baud rate given to the hardware is the same as the output baud rate stored in the  <b>termios</b> structure.<div class="spacer">
</div>
The <i>tcsetattr</i>() function shall return successfully if it was able to perform any of the requested actions, even if some of the requested actions could not be performed. It shall set all the attributes that the implementation supports as requested and leave all the attributes not supported by the implementation unchanged. If no part of the request can be honored, it shall return -1 and set  <i>errno</i> to [EINVAL]. If the input and output baud rates differ and are a combination that is not supported, neither baud rate shall be changed. A subsequent call to  <i>tcgetattr</i>() shall return the actual state of the terminal device (reflecting both the changes made and not made in the previous  <i>tcsetattr</i>() call). The  <i>tcsetattr</i>() function shall not change the values found in the  <b>termios</b> structure under any circumstances.<div class="spacer">
</div>
The effect of <i>tcsetattr</i>() is undefined if the value of the <b>termios</b> structure pointed to by  <i>termios_p</i> was not derived from the result of a call to  <i>tcgetattr</i>() on <i>fildes</i>; an application should modify only fields and flags defined by this volume of IEEE&#160;Std&#160;1003.1-2001 between the call to  <i>tcgetattr</i>() and  <i>tcsetattr</i>(), leaving all other fields and flags unmodified.<div class="spacer">
</div>
No actions defined by this volume of IEEE&#160;Std&#160;1003.1-2001, other than a call to  <i>tcsetattr</i>() or a close of the last file descriptor in the system associated with this terminal device, shall cause any of the terminal attributes defined by this volume of IEEE&#160;Std&#160;1003.1-2001 to change.<div class="spacer">
</div>
If <i>tcsetattr</i>() is called from a process which is a member of a background process group on a  <i>fildes</i> associated with its controlling terminal:<dl>
<dt>
 *</dt>
<dd>
If the calling process is blocking or ignoring SIGTTOU signals, the operation completes normally and no signal is sent.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
Otherwise, a SIGTTOU signal shall be sent to the process group.</dd>
</dl>
</div>
<div class="section">
<h1>RETURN VALUE</h1> Upon successful completion, 0 shall be returned. Otherwise, -1 shall be returned and  <i>errno</i> set to indicate the error.</div>
<div class="section">
<h1>ERRORS</h1> The  <i>tcsetattr</i>() function shall fail if:<dl>
<dt>
<b>EBADF</b></dt>
<dd>
The <i>fildes</i> argument is not a valid file descriptor.</dd>
</dl>
<dl>
<dt>
<b>EINTR</b></dt>
<dd>
A signal interrupted <i>tcsetattr</i>().</dd>
</dl>
<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The <i>optional_actions</i> argument is not a supported value, or an attempt was made to change an attribute represented in the  <b>termios</b> structure to an unsupported value.</dd>
</dl>
<dl>
<dt>
<b>ENOTTY</b></dt>
<dd>
The file associated with <i>fildes</i> is not a terminal.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>tcsetattr</i>() function may fail if:<dl>
<dt>
<b>EIO</b></dt>
<dd>
The process group of the writing process is orphaned, and the writing process is not ignoring or blocking SIGTTOU.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1> None.</div>
<div class="section">
<h1>APPLICATION USAGE</h1> If trying to change baud rates, applications should call  <i>tcsetattr</i>() then call  <i>tcgetattr</i>() in order to determine what baud rates were actually selected.</div>
<div class="section">
<h1>RATIONALE</h1> The  <i>tcsetattr</i>() function can be interrupted in the following situations:<dl>
<dt>
 *</dt>
<dd>
It is interrupted while waiting for output to drain.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
It is called from a process in a background process group and SIGTTOU is caught.</dd>
</dl>
<div class="spacer">
</div>
See also the RATIONALE section in <i>tcgetattr</i>().</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> Using an input baud rate of 0 to set the input rate equal to the output rate may not necessarily be supported in a future version of this volume of IEEE&#160;Std&#160;1003.1-2001.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>cfgetispeed</i>(), <i>tcgetattr</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Chapter 11, General Terminal Interface,  <i>&lt;termios.h&gt;</i>, <i>&lt;unistd.h&gt;</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

