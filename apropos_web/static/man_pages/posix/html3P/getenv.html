<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
GETENV(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
GETENV(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
GETENV(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> getenv - get value of an environment variable</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;stdlib.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
char *getenv(const char *<b></b><i>name</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>getenv</i>() function shall search the environment of the calling process (see the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Chapter 8, Environment Variables) for the environment variable  <i>name</i> if it exists and return a pointer to the value of the environment variable. If the specified environment variable cannot be found, a null pointer shall be returned. The application shall ensure that it does not modify the string pointed to by the  <i>getenv</i>() function.<div class="spacer">
</div>
The string pointed to may be overwritten by a subsequent call to <i>getenv</i>(),  <i>setenv</i>(), or <i>unsetenv</i>(),  but shall not be overwritten by a call to any other function in this volume of IEEE&#160;Std&#160;1003.1-2001.<div class="spacer">
</div>
If the application modifies  <i>environ</i> or the pointers to which it points, the behavior of  <i>getenv</i>() is undefined.<div class="spacer">
</div>
The <i>getenv</i>() function need not be reentrant. A function that is not required to be reentrant is not required to be thread-safe.</div>
<div class="section">
<h1>RETURN VALUE</h1> Upon successful completion,  <i>getenv</i>() shall return a pointer to a string containing the  <i>value</i> for the specified  <i>name</i>. If the specified <i>name</i> cannot be found in the environment of the calling process, a null pointer shall be returned.<div class="spacer">
</div>
The return value from <i>getenv</i>() may point to static data which may be overwritten by subsequent calls to  <i>getenv</i>(),  <i>setenv</i>(), or <i>unsetenv</i>().<div class="spacer">
</div>
On XSI-conformant systems, the return value from <i>getenv</i>() may point to static data which may also be overwritten by subsequent calls to  <i>putenv</i>().</div>
<div class="section">
<h1>ERRORS</h1> No errors are defined.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1><div class="subsection">
<h2>Getting the Value of an Environment Variable</h2> The following example gets the value of the  <i>HOME</i> environment variable.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>#include &lt;stdlib.h&gt;</b><br/>
<b>...</b><br/>
<b>const char *name = &quot;HOME&quot;;</b><br/>
<b>char *value;</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
value = getenv(name);<br/>
<b></b><br/>
</div>
</div>
</div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> The  <i>clearenv</i>() function was considered but rejected. The <i>putenv</i>() function has now been included for alignment with the Single UNIX Specification.<div class="spacer">
</div>
The <i>getenv</i>() function is inherently not reentrant because it returns a value pointing to static data.<div class="spacer">
</div>
Conforming applications are required not to modify <i>environ</i> directly, but to use only the functions described here to manipulate the process environment as an abstract object. Thus, the implementation of the environment access functions has complete control over the data structure used to represent the environment (subject to the requirement that  <i>environ</i> be maintained as a list of strings with embedded equal signs for applications that wish to scan the environment). This constraint allows the implementation to properly manage the memory it allocates, either by using allocated storage for all variables (copying them on the first invocation of  <i>setenv</i>() or <i>unsetenv</i>()), or keeping track of which strings are currently in allocated space and which are not, via a separate table or some other means. This enables the implementation to free any allocated space used by strings (and perhaps the pointers to them) stored in  <i>environ</i> when <i>unsetenv</i>() is called. A C runtime start-up procedure (that which invokes  <i>main</i>() and perhaps initializes  <i>environ</i>) can also initialize a flag indicating that none of the environment has yet been copied to allocated storage, or that the separate table has not yet been initialized.<div class="spacer">
</div>
In fact, for higher performance of <i>getenv</i>(), the implementation could also maintain a separate copy of the environment in a data structure that could be searched much more quickly (such as an indexed hash table, or a binary tree), and update both it and the linear list at  <i>environ</i> when <i>setenv</i>() or <i>unsetenv</i>() is invoked.<div class="spacer">
</div>
Performance of <i>getenv</i>() can be important for applications which have large numbers of environment variables. Typically, applications like this use the environment as a resource database of user-configurable parameters. The fact that these variables are in the user's shell environment usually means that any other program that uses environment variables (such as  <i>ls</i>, which attempts to use  <i>COLUMNS ),</i> or really almost any utility ( <i>LANG</i>,  <i>LC_ALL</i>,  and so on) is similarly slowed down by the linear search through the variables.<div class="spacer">
</div>
An implementation that maintains separate data structures, or even one that manages the memory it consumes, is not currently required as it was thought it would reduce consensus among implementors who do not want to change their historical implementations.<div class="spacer">
</div>
The POSIX Threads Extension states that multi-threaded applications must not modify  <i>environ</i> directly, and that IEEE&#160;Std&#160;1003.1-2001 is providing functions which such applications can use in the future to manipulate the environment in a thread-safe manner. Thus, moving away from application use of  <i>environ</i> is desirable from that standpoint as well.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>exec</i>(), <i>putenv</i>(), <i>setenv</i>(), <i>unsetenv</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Chapter 8, Environment Variables,  <i>&lt;stdlib.h&gt;</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

