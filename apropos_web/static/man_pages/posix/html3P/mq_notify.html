<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of MQ_NOTIFY</TITLE>
</HEAD><BODY>
<H1>MQ_NOTIFY</H1>
Section: POSIX Programmer's Manual (3P)<BR>Updated: 2003<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>PROLOG</H2>

This manual page is part of the POSIX Programmer's Manual.
The Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux behavior),
or the interface may not be implemented on Linux.
<A NAME="lbAC">&nbsp;</A>
<H2>NAME</H2>

mq_notify - notify process that a message is available (<B>REALTIME</B>)
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

<B>#include &lt;<A HREF="file:///usr/include/mqueue.h">mqueue.h</A>&gt;
<BR>

<P>
int mq_notify(mqd_t</B> <I>mqdes</I><B>, const struct sigevent *</B><I>notification</I><B>);
</B>
<B>
<BR>

</B>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

If the argument <I>notification</I> is not NULL, this function shall
register the calling process to be notified of message
arrival at an empty message queue associated with the specified message
queue descriptor, <I>mqdes</I>. The notification specified
by the <I>notification</I> argument shall be sent to the process when
the message queue transitions from empty to non-empty. At any
time, only one process may be registered for notification by a message
queue. If the calling process or any other process has
already registered for notification of message arrival at the specified
message queue, subsequent attempts to register for that
message queue shall fail.
<P>

If <I>notification</I> is NULL and the process is currently registered
for notification by the specified message queue, the
existing registration shall be removed.
<P>

When the notification is sent to the registered process, its registration
shall be removed. The message queue shall then be
available for registration.
<P>

If a process has registered for notification of message arrival at
a message queue and some thread is blocked in <I>mq_receive</I>() waiting
to receive a message when a message arrives at the queue, the
arriving message shall satisfy the appropriate <I>mq_receive</I>().
The resulting
behavior is as if the message queue remains empty, and no notification
shall be sent.
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

Upon successful completion, the <I>mq_notify</I>() function shall return
a value of zero; otherwise, the function shall return a
value of -1 and set <I>errno</I> to indicate the error.
<A NAME="lbAG">&nbsp;</A>
<H2>ERRORS</H2>

<P>

The <I>mq_notify</I>() function shall fail if:
<DL COMPACT>
<DT><B>EBADF</B>

<DD>
The <I>mqdes</I> argument is not a valid message queue descriptor.
<DT><B>EBUSY</B>

<DD>
A process is already registered for notification by the message queue.
<P>
</DL>
<P>

<I>The following sections are informative.</I>
<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

None.
<A NAME="lbAI">&nbsp;</A>
<H2>APPLICATION USAGE</H2>

<P>

None.
<A NAME="lbAJ">&nbsp;</A>
<H2>RATIONALE</H2>

<P>

None.
<A NAME="lbAK">&nbsp;</A>
<H2>FUTURE DIRECTIONS</H2>

<P>

None.
<A NAME="lbAL">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<I>mq_open</I>(), <I>mq_send</I>(), <I>mq_timedsend</I>(), <I>msgctl</I>(),
<I>msgget</I>(), <I>msgrcv</I>(), <I>msgsnd</I>(), the
Base Definitions volume of IEEE&nbsp;Std&nbsp;1003.1-2001, <I>&lt;<A HREF="file:///usr/include/mqueue.h">mqueue.h</A>&gt;</I>
<A NAME="lbAM">&nbsp;</A>
<H2>COPYRIGHT</H2>

Portions of this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology
-- Portable Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of
Electrical and Electronics Engineers, Inc and The Open Group. In the
event of any discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open Group Standard
is the referee document. The original Standard can be obtained online at
<A HREF="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</A> .
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">PROLOG</A><DD>
<DT><A HREF="#lbAC">NAME</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">RETURN VALUE</A><DD>
<DT><A HREF="#lbAG">ERRORS</A><DD>
<DT><A HREF="#lbAH">EXAMPLES</A><DD>
<DT><A HREF="#lbAI">APPLICATION USAGE</A><DD>
<DT><A HREF="#lbAJ">RATIONALE</A><DD>
<DT><A HREF="#lbAK">FUTURE DIRECTIONS</A><DD>
<DT><A HREF="#lbAL">SEE ALSO</A><DD>
<DT><A HREF="#lbAM">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 12:41:33 GMT, April 18, 2016
</BODY>
</HTML>
