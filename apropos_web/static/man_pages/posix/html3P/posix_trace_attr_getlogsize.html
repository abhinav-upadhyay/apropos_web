<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of POSIX_TRACE_ATTR_GETLOGSIZE</TITLE>
</HEAD><BODY>
<H1>POSIX_TRACE_ATTR_GETLOGSIZE</H1>
Section: POSIX Programmer's Manual (3P)<BR>Updated: 2003<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>PROLOG</H2>

This manual page is part of the POSIX Programmer's Manual.
The Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux behavior),
or the interface may not be implemented on Linux.
<A NAME="lbAC">&nbsp;</A>
<H2>NAME</H2>

posix_trace_attr_getlogsize, posix_trace_attr_getmaxdatasize, posix_trace_attr_getmaxsystemeventsize,
posix_trace_attr_getmaxusereventsize, posix_trace_attr_getstreamsize,
posix_trace_attr_setlogsize, posix_trace_attr_setmaxdatasize,
posix_trace_attr_setstreamsize - retrieve and set trace stream size
attributes (<B>TRACING</B>)
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

<B>#include &lt;<A HREF="file:///usr/include/sys/types.h">sys/types.h</A>&gt;
<BR>

#include &lt;<A HREF="file:///usr/include/trace.h">trace.h</A>&gt;
<BR>

<P>
</B>
<P>

<B>int posix_trace_attr_getlogsize(const trace_attr_t *restrict</B>
<I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t *restrict</B> <I>logsize</I><B>);
<BR>

</B>
<P>

<B>int posix_trace_attr_getmaxdatasize(const trace_attr_t *restrict</B>
<I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t *restrict</B> <I>maxdatasize</I><B>);
<BR>

int posix_trace_attr_getmaxsystemeventsize(
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const trace_attr_t *restrict</B> <I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t *restrict</B> <I>eventsize</I><B>);
<BR>

int posix_trace_attr_getmaxusereventsize(
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const trace_attr_t *restrict</B> <I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t</B> <I>data_len</I><B>, size_t *restrict</B> <I>eventsize</I><B>);
<BR>

int posix_trace_attr_getstreamsize(const trace_attr_t *restrict</B>
<I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t *restrict</B> <I>streamsize</I><B>);
<BR>

</B>
<P>

<B>int posix_trace_attr_setlogsize(trace_attr_t *</B><I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t</B> <I>logsize</I><B>);
<BR>

</B>
<P>

<B>int posix_trace_attr_setmaxdatasize(trace_attr_t *</B><I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t</B> <I>maxdatasize</I><B>);
<BR>

int posix_trace_attr_setstreamsize(trace_attr_t *</B><I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t</B> <I>streamsize</I><B>); </B>
<B>
<BR>

</B>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

The <I>posix_trace_attr_getlogsize</I>() function shall copy the log
size, in bytes, from the <I>log-max-size</I> attribute of the
attributes object pointed to by the <I>attr</I> argument into the variable
pointed to by the <I>logsize</I> argument. This log size
is the maximum total of bytes that shall be allocated for system and
user trace events in the trace log. The default value for the
<I>log-max-size</I> attribute is implementation-defined.
<P>

The <I>posix_trace_attr_setlogsize</I>() function shall set the maximum
allowed size, in bytes, in the <I>log-max-size</I>
attribute of the attributes object pointed to by the <I>attr</I> argument,
using the size value supplied by the <I>logsize</I>
argument.
<P>

The trace log size shall be used if the <I>log-full-policy</I> attribute
is set to POSIX_TRACE_LOOP or POSIX_TRACE_UNTIL_FULL.
If the <I>log-full-policy</I> attribute is set to POSIX_TRACE_APPEND,
the implementation shall ignore the <I>log-max-size</I>
attribute. 
<P>

The <I>posix_trace_attr_getmaxdatasize</I>() function shall copy the
maximum user trace event data size, in bytes, from the
<I>max-data-size</I> attribute of the attributes object pointed to
by the <I>attr</I> argument into the variable pointed to by the
<I>maxdatasize</I> argument. The default value for the <I>max-data-size</I>
attribute is implementation-defined.
<P>

The <I>posix_trace_attr_getmaxsystemeventsize</I>() function shall
calculate the maximum memory size, in bytes, required to
store a single system trace event. This value is calculated for the
trace stream attributes object pointed to by the <I>attr</I>
argument and is returned in the variable pointed to by the <I>eventsize</I>
argument.
<P>

The values returned as the maximum memory sizes of the user and system
trace events shall be such that if the sum of the maximum
memory sizes of a set of the trace events that may be recorded in
a trace stream is less than or equal to the
<I>stream-min-size</I> attribute of that trace stream, the system provides
the necessary resources for recording all those trace
events, without loss.
<P>

The <I>posix_trace_attr_getmaxusereventsize</I>() function shall calculate
the maximum memory size, in bytes, required to store
a single user trace event generated by a call to <I>posix_trace_event</I>()
with
a <I>data_len</I> parameter equal to the <I>data_len</I> value specified
in this call. This value is calculated for the trace
stream attributes object pointed to by the <I>attr</I> argument and
is returned in the variable pointed to by the <I>eventsize</I>
argument.
<P>

The <I>posix_trace_attr_getstreamsize</I>() function shall copy the
stream size, in bytes, from the <I>stream-min-size</I>
attribute of the attributes object pointed to by the <I>attr</I> argument
into the variable pointed to by the <I>streamsize</I>
argument.
<P>

This stream size is the current total memory size reserved for system
and user trace events in the trace stream. The default
value for the <I>stream-min-size</I> attribute is implementation-defined.
The stream size refers to memory used to store trace
event records. Other stream data (for example, trace attribute values)
shall not be included in this size.
<P>

The <I>posix_trace_attr_setmaxdatasize</I>() function shall set the
maximum allowed size, in bytes, in the <I>max-data-size</I>
attribute of the attributes object pointed to by the <I>attr</I> argument,
using the size value supplied by the <I>maxdatasize</I>
argument. This maximum size is the maximum allowed size for the user
data argument which may be passed to <I>posix_trace_event</I>(). The
implementation shall be allowed to truncate data passed
to <I>trace_user_event</I> which is longer than <I>maxdatasize</I>.
<P>

The <I>posix_trace_attr_setstreamsize</I>() function shall set the
minimum allowed size, in bytes, in the <I>stream-min-size</I>
attribute of the attributes object pointed to by the <I>attr</I> argument,
using the size value supplied by the <I>streamsize</I>
argument.
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

Upon successful completion, these functions shall return a value of
zero. Otherwise, they shall return the corresponding error
number.
<P>

The <I>posix_trace_attr_getlogsize</I>() function stores the maximum
trace log allowed size in the object pointed to by
<I>logsize</I>, if successful. 
<P>

The <I>posix_trace_attr_getmaxdatasize</I>() function stores the maximum
trace event record memory size in the object pointed to
by <I>maxdatasize</I>, if successful.
<P>

The <I>posix_trace_attr_getmaxsystemeventsize</I>() function stores
the maximum memory size to store a single system trace event
in the object pointed to by <I>eventsize</I>, if successful.
<P>

The <I>posix_trace_attr_getmaxusereventsize</I>() function stores the
maximum memory size to store a single user trace event in
the object pointed to by <I>eventsize</I>, if successful.
<P>

The <I>posix_trace_attr_getstreamsize</I>() function stores the maximum
trace stream allowed size in the object pointed to by
<I>streamsize</I>, if successful.
<A NAME="lbAG">&nbsp;</A>
<H2>ERRORS</H2>

<P>

These functions may fail if:
<DL COMPACT>
<DT><B>EINVAL</B>

<DD>
The value specified by one of the arguments is invalid.
<P>
</DL>
<P>

<I>The following sections are informative.</I>
<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

None.
<A NAME="lbAI">&nbsp;</A>
<H2>APPLICATION USAGE</H2>

<P>

None.
<A NAME="lbAJ">&nbsp;</A>
<H2>RATIONALE</H2>

<P>

None.
<A NAME="lbAK">&nbsp;</A>
<H2>FUTURE DIRECTIONS</H2>

<P>

None.
<A NAME="lbAL">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<I>posix_trace_attr_init</I>(), <I>posix_trace_create</I>(), <I>posix_trace_event</I>(),
<I>posix_trace_get_attr</I>(), the Base Definitions volume of IEEE&nbsp;Std&nbsp;1003.1-2001,
<I>&lt;<A HREF="file:///usr/include/sys/types.h">sys/types.h</A>&gt;</I>, <I>&lt;<A HREF="file:///usr/include/trace.h">trace.h</A>&gt;</I>
<A NAME="lbAM">&nbsp;</A>
<H2>COPYRIGHT</H2>

Portions of this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology
-- Portable Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of
Electrical and Electronics Engineers, Inc and The Open Group. In the
event of any discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open Group Standard
is the referee document. The original Standard can be obtained online at
<A HREF="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</A> .
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">PROLOG</A><DD>
<DT><A HREF="#lbAC">NAME</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">RETURN VALUE</A><DD>
<DT><A HREF="#lbAG">ERRORS</A><DD>
<DT><A HREF="#lbAH">EXAMPLES</A><DD>
<DT><A HREF="#lbAI">APPLICATION USAGE</A><DD>
<DT><A HREF="#lbAJ">RATIONALE</A><DD>
<DT><A HREF="#lbAK">FUTURE DIRECTIONS</A><DD>
<DT><A HREF="#lbAL">SEE ALSO</A><DD>
<DT><A HREF="#lbAM">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 12:41:35 GMT, April 18, 2016
</BODY>
</HTML>
