<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
POSIX_TRACE_ATTR_GETLOGSIZE(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
POSIX_TRACE_ATTR_GETLOGSIZE(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
POSIX_TRACE_ATTR_GETLOGSIZE(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> posix_trace_attr_getlogsize, posix_trace_attr_getmaxdatasize, posix_trace_attr_getmaxsystemeventsize, posix_trace_attr_getmaxusereventsize, posix_trace_attr_getstreamsize, posix_trace_attr_setlogsize, posix_trace_attr_setmaxdatasize, posix_trace_attr_setstreamsize - retrieve and set trace stream size attributes ( <b>TRACING</b>)</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;sys/types.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
#include &lt;trace.h&gt;<div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
<b></b><div class="spacer">
</div>
<b>int posix_trace_attr_getlogsize(const trace_attr_t *restrict</b>  <i>attr</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; size_t *restrict<b> </b><i>logsize</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
<b></b><div class="spacer">
</div>
<b>int posix_trace_attr_getmaxdatasize(const trace_attr_t *restrict</b>  <i>attr</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; size_t *restrict<b> </b><i>maxdatasize</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
int posix_trace_attr_getmaxsystemeventsize(<div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; const trace_attr_t *restrict<b> </b><i>attr</i><b></b><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; size_t *restrict<b> </b><i>eventsize</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
int posix_trace_attr_getmaxusereventsize(<div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; const trace_attr_t *restrict<b> </b><i>attr</i><b></b><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; size_t<b> </b><i>data_len</i><b></b><b>, size_t *restrict</b><b> </b><i>eventsize</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
int posix_trace_attr_getstreamsize(const trace_attr_t *restrict<b></b>  <b></b><i>attr</i><b></b><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; size_t *restrict<b> </b><i>streamsize</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
<b></b><div class="spacer">
</div>
<b>int posix_trace_attr_setlogsize(trace_attr_t *</b><i>attr</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; size_t<b> </b><i>logsize</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
<b></b><div class="spacer">
</div>
<b>int posix_trace_attr_setmaxdatasize(trace_attr_t *</b><i>attr</i><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; size_t<b> </b><i>maxdatasize</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
int posix_trace_attr_setstreamsize(trace_attr_t *<b></b><i>attr</i><b></b><b>,</b><div style="height: 0.00em;">
&#160;</div>
&#160;&#160;&#160;&#160;&#160;&#160; size_t<b> </b><i>streamsize</i><b></b><b>); </b><b></b>  <b></b><b></b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>posix_trace_attr_getlogsize</i>() function shall copy the log size, in bytes, from the  <i>log-max-size</i> attribute of the attributes object pointed to by the  <i>attr</i> argument into the variable pointed to by the  <i>logsize</i> argument. This log size is the maximum total of bytes that shall be allocated for system and user trace events in the trace log. The default value for the  <i>log-max-size</i> attribute is implementation-defined.<div class="spacer">
</div>
The <i>posix_trace_attr_setlogsize</i>() function shall set the maximum allowed size, in bytes, in the  <i>log-max-size</i> attribute of the attributes object pointed to by the  <i>attr</i> argument, using the size value supplied by the  <i>logsize</i> argument.<div class="spacer">
</div>
The trace log size shall be used if the <i>log-full-policy</i> attribute is set to POSIX_TRACE_LOOP or POSIX_TRACE_UNTIL_FULL. If the  <i>log-full-policy</i> attribute is set to POSIX_TRACE_APPEND, the implementation shall ignore the  <i>log-max-size</i> attribute.<div class="spacer">
</div>
The <i>posix_trace_attr_getmaxdatasize</i>() function shall copy the maximum user trace event data size, in bytes, from the  <i>max-data-size</i> attribute of the attributes object pointed to by the  <i>attr</i> argument into the variable pointed to by the  <i>maxdatasize</i> argument. The default value for the <i>max-data-size</i> attribute is implementation-defined.<div class="spacer">
</div>
The <i>posix_trace_attr_getmaxsystemeventsize</i>() function shall calculate the maximum memory size, in bytes, required to store a single system trace event. This value is calculated for the trace stream attributes object pointed to by the  <i>attr</i> argument and is returned in the variable pointed to by the  <i>eventsize</i> argument.<div class="spacer">
</div>
The values returned as the maximum memory sizes of the user and system trace events shall be such that if the sum of the maximum memory sizes of a set of the trace events that may be recorded in a trace stream is less than or equal to the  <i>stream-min-size</i> attribute of that trace stream, the system provides the necessary resources for recording all those trace events, without loss.<div class="spacer">
</div>
The <i>posix_trace_attr_getmaxusereventsize</i>() function shall calculate the maximum memory size, in bytes, required to store a single user trace event generated by a call to  <i>posix_trace_event</i>() with a  <i>data_len</i> parameter equal to the <i>data_len</i> value specified in this call. This value is calculated for the trace stream attributes object pointed to by the  <i>attr</i> argument and is returned in the variable pointed to by the  <i>eventsize</i> argument.<div class="spacer">
</div>
The <i>posix_trace_attr_getstreamsize</i>() function shall copy the stream size, in bytes, from the  <i>stream-min-size</i> attribute of the attributes object pointed to by the  <i>attr</i> argument into the variable pointed to by the  <i>streamsize</i> argument.<div class="spacer">
</div>
This stream size is the current total memory size reserved for system and user trace events in the trace stream. The default value for the  <i>stream-min-size</i> attribute is implementation-defined. The stream size refers to memory used to store trace event records. Other stream data (for example, trace attribute values) shall not be included in this size.<div class="spacer">
</div>
The <i>posix_trace_attr_setmaxdatasize</i>() function shall set the maximum allowed size, in bytes, in the  <i>max-data-size</i> attribute of the attributes object pointed to by the  <i>attr</i> argument, using the size value supplied by the  <i>maxdatasize</i> argument. This maximum size is the maximum allowed size for the user data argument which may be passed to  <i>posix_trace_event</i>(). The implementation shall be allowed to truncate data passed to  <i>trace_user_event</i> which is longer than <i>maxdatasize</i>.<div class="spacer">
</div>
The <i>posix_trace_attr_setstreamsize</i>() function shall set the minimum allowed size, in bytes, in the  <i>stream-min-size</i> attribute of the attributes object pointed to by the  <i>attr</i> argument, using the size value supplied by the  <i>streamsize</i> argument.</div>
<div class="section">
<h1>RETURN VALUE</h1> Upon successful completion, these functions shall return a value of zero. Otherwise, they shall return the corresponding error number.<div class="spacer">
</div>
The <i>posix_trace_attr_getlogsize</i>() function stores the maximum trace log allowed size in the object pointed to by  <i>logsize</i>, if successful.<div class="spacer">
</div>
The <i>posix_trace_attr_getmaxdatasize</i>() function stores the maximum trace event record memory size in the object pointed to by  <i>maxdatasize</i>, if successful.<div class="spacer">
</div>
The <i>posix_trace_attr_getmaxsystemeventsize</i>() function stores the maximum memory size to store a single system trace event in the object pointed to by  <i>eventsize</i>, if successful.<div class="spacer">
</div>
The <i>posix_trace_attr_getmaxusereventsize</i>() function stores the maximum memory size to store a single user trace event in the object pointed to by  <i>eventsize</i>, if successful.<div class="spacer">
</div>
The <i>posix_trace_attr_getstreamsize</i>() function stores the maximum trace stream allowed size in the object pointed to by  <i>streamsize</i>, if successful.</div>
<div class="section">
<h1>ERRORS</h1> These functions may fail if:<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The value specified by one of the arguments is invalid.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1> None.</div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>posix_trace_attr_init</i>(), <i>posix_trace_create</i>(), <i>posix_trace_event</i>(),  <i>posix_trace_get_attr</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001,  <i>&lt;sys/types.h&gt;</i>, <i>&lt;trace.h&gt;</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

