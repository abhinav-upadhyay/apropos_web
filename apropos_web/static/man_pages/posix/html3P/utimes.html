<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
UTIMES(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
UTIMES(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
UTIMES(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> utimes - set file access and modification times ( <b>LEGACY</b>)</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;sys/time.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
int utimes(const char *<b></b><i>path</i><b></b><b>, const struct timeval</b><b> </b><i>times[2]</i><b></b><b>);</b>  <b></b><b></b>  <b></b><b></b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>utimes</i>() function shall set the access and modification times of the file pointed to by the  <i>path</i> argument to the value of the  <i>times</i> argument. The <i>utimes</i>() function allows time specifications accurate to the microsecond.<div class="spacer">
</div>
For <i>utimes</i>(), the <i>times</i> argument is an array of <b>timeval</b> structures. The first array member represents the date and time of last access, and the second member represents the date and time of last modification. The times in the  <b>timeval</b> structure are measured in seconds and microseconds since the Epoch, although rounding toward the nearest second may occur.<div class="spacer">
</div>
If the <i>times</i> argument is a null pointer, the access and modification times of the file shall be set to the current time. The effective user ID of the process shall match the owner of the file, or has write access to the file or appropriate privileges to use this call in this manner. Upon completion,  <i>utimes</i>() shall mark the time of the last file status change,  <i>st_ctime</i>, for update.</div>
<div class="section">
<h1>RETURN VALUE</h1> Upon successful completion, 0 shall be returned. Otherwise, -1 shall be returned and  <i>errno</i> shall be set to indicate the error, and the file times shall not be affected.</div>
<div class="section">
<h1>ERRORS</h1> The  <i>utimes</i>() function shall fail if:<dl>
<dt>
<b>EACCES</b></dt>
<dd>
Search permission is denied by a component of the path prefix; or the  <i>times</i> argument is a null pointer and the effective user ID of the process does not match the owner of the file and write access is denied.</dd>
</dl>
<dl>
<dt>
<b>ELOOP</b></dt>
<dd>
A loop exists in symbolic links encountered during resolution of the  <i>path</i> argument.</dd>
</dl>
<dl>
<dt>
<b>ENAMETOOLONG</b></dt>
<dd>
The length of the <i>path</i> argument exceeds {PATH_MAX} or a pathname component is longer than {NAME_MAX}.</dd>
</dl>
<dl>
<dt>
<b>ENOENT</b></dt>
<dd>
A component of <i>path</i> does not name an existing file or <i>path</i> is an empty string.</dd>
</dl>
<dl>
<dt>
<b>ENOTDIR</b></dt>
<dd>
A component of the path prefix is not a directory.</dd>
</dl>
<dl>
<dt>
<b>EPERM</b></dt>
<dd>
The <i>times</i> argument is not a null pointer and the calling process' effective user ID has write access to the file but does not match the owner of the file and the calling process does not have the appropriate privileges.</dd>
</dl>
<dl>
<dt>
<b>EROFS</b></dt>
<dd>
The file system containing the file is read-only.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>utimes</i>() function may fail if:<dl>
<dt>
<b>ELOOP</b></dt>
<dd>
More than {SYMLOOP_MAX} symbolic links were encountered during resolution of the  <i>path</i> argument.</dd>
</dl>
<dl>
<dt>
<b>ENAMETOOLONG</b></dt>
<dd>
Pathname resolution of a symbolic link produced an intermediate result whose length exceeds {PATH_MAX}.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1> None.</div>
<div class="section">
<h1>APPLICATION USAGE</h1> For applications portability, the  <i>utime</i>() function should be used to set file access and modification times instead of  <i>utimes</i>().</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> This function may be withdrawn in a future version.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>utime</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001,  <i>&lt;sys/time.h&gt;</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

