<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
DLCLOSE(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
DLCLOSE(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
DLCLOSE(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> dlclose - close a dlopen object</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;dlfcn.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
int dlclose(void *<b></b><i>handle</i><b></b><b>); </b><b></b>  <b></b><b></b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>dlclose</i>() function shall inform the system that the object referenced by a  <i>handle</i> returned from a previous <i>dlopen</i>() invocation is no longer needed by the application.<div class="spacer">
</div>
The use of <i>dlclose</i>() reflects a statement of intent on the part of the process, but does not create any requirement upon the implementation, such as removal of the code or symbols referenced by  <i>handle</i>. Once an object has been closed using  <i>dlclose</i>() an application should assume that its symbols are no longer available to  <i>dlsym</i>(). All objects loaded automatically as a result of invoking  <i>dlopen</i>() on the referenced object shall also be closed if this is the last reference to it.<div class="spacer">
</div>
Although a <i>dlclose</i>() operation is not required to remove structures from an address space, neither is an implementation prohibited from doing so. The only restriction on such a removal is that no object shall be removed to which references have been relocated, until or unless all such references are removed. For instance, an object that had been loaded with a  <i>dlopen</i>() operation specifying the RTLD_GLOBAL flag might provide a target for dynamic relocations performed in the processing of other objects-in such environments, an application may assume that no relocation, once made, shall be undone or remade unless the object requiring the relocation has itself been removed.</div>
<div class="section">
<h1>RETURN VALUE</h1> If the referenced object was successfully closed,  <i>dlclose</i>() shall return 0. If the object could not be closed, or if  <i>handle</i> does not refer to an open object, <i>dlclose</i>() shall return a non-zero value. More detailed diagnostic information shall be available through  <i>dlerror</i>().</div>
<div class="section">
<h1>ERRORS</h1> No errors are defined.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1> The following example illustrates use of  <i>dlopen</i>() and <i>dlclose</i>():<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>...</b><br/>
<b>/* Open a dynamic library and then close it ... */</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
#include &lt;dlfcn.h&gt;<br/>
void *mylib;<br/>
int eret;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
mylib = dlopen(&quot;mylib.so&quot;, RTLD_LOCAL | RTLD_LAZY);<br/>
...<br/>
eret = dlclose(mylib);<br/>
...<br/>
<b></b><br/>
</div>
</div>
<div class="section">
<h1>APPLICATION USAGE</h1> A conforming application should employ a  <i>handle</i> returned from a  <i>dlopen</i>() invocation only within a given scope bracketed by the  <i>dlopen</i>() and  <i>dlclose</i>() operations. Implementations are free to use reference counting or other techniques such that multiple calls to  <i>dlopen</i>() referencing the same object may return the same object for  <i>handle</i>. Implementations are also free to reuse a  <i>handle</i>. For these reasons, the value of a  <i>handle</i> must be treated as an opaque object by the application, used only in calls to  <i>dlsym</i>() and  <i>dlclose</i>().</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>dlerror</i>(), <i>dlopen</i>(), <i>dlsym</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001,  <i>&lt;dlfcn.h&gt;</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

