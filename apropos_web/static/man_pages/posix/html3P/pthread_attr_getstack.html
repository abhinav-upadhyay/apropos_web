<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of PTHREAD_ATTR_GETSTACK</TITLE>
</HEAD><BODY>
<H1>PTHREAD_ATTR_GETSTACK</H1>
Section: POSIX Programmer's Manual (3P)<BR>Updated: 2003<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>PROLOG</H2>

This manual page is part of the POSIX Programmer's Manual.
The Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux behavior),
or the interface may not be implemented on Linux.
<A NAME="lbAC">&nbsp;</A>
<H2>NAME</H2>

pthread_attr_getstack, pthread_attr_setstack - get and set stack attributes
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

<B>#include &lt;<A HREF="file:///usr/include/pthread.h">pthread.h</A>&gt;
<BR>

<P>
int pthread_attr_getstack(const pthread_attr_t *restrict</B> <I>attr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; void **restrict</B> <I>stackaddr</I><B>, size_t *restrict</B>
<I>stacksize</I><B>);
<BR>

int pthread_attr_setstack(pthread_attr_t *</B><I>attr</I><B>, void *</B><I>stackaddr</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t</B> <I>stacksize</I><B>); </B>
<P>

<B>
<BR>

</B>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

The <I>pthread_attr_getstack</I>() and <I>pthread_attr_setstack</I>()
functions, respectively, shall get and set the thread
creation stack attributes <I>stackaddr</I> and <I>stacksize</I> in the
<I>attr</I> object.
<P>

The stack attributes specify the area of storage to be used for the
created thread's stack. The base (lowest addressable byte)
of the storage shall be <I>stackaddr</I>, and the size of the storage
shall be <I>stacksize</I> bytes. The <I>stacksize</I> shall
be at least {PTHREAD_STACK_MIN}. The <I>stackaddr</I> shall be aligned
appropriately to be used as a stack; for example,
<I>pthread_attr_setstack</I>() may fail with [EINVAL] if ( <I>stackaddr</I>
&amp; 0x7) is not 0. All pages within the stack
described by <I>stackaddr</I> and <I>stacksize</I> shall be both readable
and writable by the thread.
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

Upon successful completion, these functions shall return a value of
0; otherwise, an error number shall be returned to indicate
the error.
<P>

The <I>pthread_attr_getstack</I>() function shall store the stack attribute
values in <I>stackaddr</I> and <I>stacksize</I> if
successful.
<A NAME="lbAG">&nbsp;</A>
<H2>ERRORS</H2>

<P>

The <I>pthread_attr_setstack</I>() function shall fail if:
<DL COMPACT>
<DT><B>EINVAL</B>

<DD>
The value of <I>stacksize</I> is less than {PTHREAD_STACK_MIN} or exceeds
an implementation-defined limit.
<P>
</DL>
<P>

The <I>pthread_attr_setstack</I>() function may fail if:
<DL COMPACT>
<DT><B>EINVAL</B>

<DD>
The value of <I>stackaddr</I> does not have proper alignment to be
used as a stack, or if ( <I>stackaddr</I> +
<I>stacksize</I>) lacks proper alignment.
<DT><B>EACCES</B>

<DD>
The stack page(s) described by <I>stackaddr</I> and <I>stacksize</I>
are not both readable and writable by the thread.
<P>
</DL>
<P>

These functions shall not return an error code of [EINTR].
<P>

<I>The following sections are informative.</I>
<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLES</H2>

<P>

None.
<A NAME="lbAI">&nbsp;</A>
<H2>APPLICATION USAGE</H2>

<P>

These functions are appropriate for use by applications in an environment
where the stack for a thread must be placed in some
particular region of memory.
<P>

While it might seem that an application could detect stack overflow
by providing a protected page outside the specified stack
region, this cannot be done portably. Implementations are free to
place the thread's initial stack pointer anywhere within the
specified region to accommodate the machine's stack pointer behavior
and allocation requirements. Furthermore, on some
architectures, such as the IA-64, &quot;overflow&quot; might mean that two separate
stack pointers allocated within the region will overlap
somewhere in the middle of the region.
<A NAME="lbAJ">&nbsp;</A>
<H2>RATIONALE</H2>

<P>

None.
<A NAME="lbAK">&nbsp;</A>
<H2>FUTURE DIRECTIONS</H2>

<P>

None.
<A NAME="lbAL">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<I>pthread_attr_init</I>(), <I>pthread_attr_setdetachstate</I>(),
<I>pthread_attr_setstacksize</I>(), <I>pthread_create</I>(),
the Base Definitions volume of IEEE&nbsp;Std&nbsp;1003.1-2001, <I>&lt;<A HREF="file:///usr/include/limits.h">limits.h</A>&gt;</I>,
<I>&lt;<A HREF="file:///usr/include/pthread.h">pthread.h</A>&gt;</I>
<A NAME="lbAM">&nbsp;</A>
<H2>COPYRIGHT</H2>

Portions of this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology
-- Portable Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of
Electrical and Electronics Engineers, Inc and The Open Group. In the
event of any discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open Group Standard
is the referee document. The original Standard can be obtained online at
<A HREF="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</A> .
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">PROLOG</A><DD>
<DT><A HREF="#lbAC">NAME</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">RETURN VALUE</A><DD>
<DT><A HREF="#lbAG">ERRORS</A><DD>
<DT><A HREF="#lbAH">EXAMPLES</A><DD>
<DT><A HREF="#lbAI">APPLICATION USAGE</A><DD>
<DT><A HREF="#lbAJ">RATIONALE</A><DD>
<DT><A HREF="#lbAK">FUTURE DIRECTIONS</A><DD>
<DT><A HREF="#lbAL">SEE ALSO</A><DD>
<DT><A HREF="#lbAM">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 12:41:34 GMT, April 18, 2016
</BODY>
</HTML>
