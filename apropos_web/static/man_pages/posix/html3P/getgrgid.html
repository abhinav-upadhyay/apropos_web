<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of GETGRGID</TITLE>
</HEAD><BODY>
<H1>GETGRGID</H1>
Section: POSIX Programmer's Manual (3P)<BR>Updated: 2003<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>PROLOG</H2>

This manual page is part of the POSIX Programmer's Manual.
The Linux implementation of this interface may differ (consult
the corresponding Linux manual page for details of Linux behavior),
or the interface may not be implemented on Linux.
<A NAME="lbAC">&nbsp;</A>
<H2>NAME</H2>

getgrgid, getgrgid_r - get group database entry for a group ID
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

<B>#include &lt;<A HREF="file:///usr/include/grp.h">grp.h</A>&gt;
<BR>

<P>
struct group *getgrgid(gid_t</B> <I>gid</I><B>);
<BR>

</B>
<P>

<B>int getgrgid_r(gid_t</B> <I>gid</I><B>, struct group *</B><I>grp</I><B>,
char
*</B><I>buffer</I><B>,
<BR>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; size_t</B> <I>bufsize</I><B>, struct group **</B><I>result</I><B>);
</B>
<B>
<BR>

</B>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

The <I>getgrgid</I>() function shall search the group database for
an entry with a matching <I>gid</I>.
<P>

The <I>getgrgid</I>() function need not be reentrant. A function that
is not required to be reentrant is not required to be
thread-safe.
<P>

The <I>getgrgid_r</I>() function shall update the <B>group</B> structure
pointed to by <I>grp</I> and store a pointer to that
structure at the location pointed to by <I>result</I>. The structure
shall contain an entry from the group database with a matching
<I>gid</I>. Storage referenced by the group structure is allocated
from the memory provided with the <I>buffer</I> parameter, which
is <I>bufsize</I> bytes in size. The maximum size needed for this buffer
can be determined with the {_SC_GETGR_R_SIZE_MAX} <I>sysconf</I>()
parameter. A NULL pointer shall be returned at the location pointed
to by
<I>result</I> on error or if the requested entry is not found. 
<A NAME="lbAF">&nbsp;</A>
<H2>RETURN VALUE</H2>

<P>

Upon successful completion, <I>getgrgid</I>() shall return a pointer
to a <B>struct group</B> with the structure defined in <I>&lt;<A HREF="file:///usr/include/grp.h">grp.h</A>&gt;</I>
with a matching entry if one is found. The <I>getgrgid</I>() function
shall
return a null pointer if either the requested entry was not found,
or an error occurred. On error, <I>errno</I> shall be set to
indicate the error.
<P>

The return value may point to a static area which is overwritten by
a subsequent call to <I>getgrent</I>(), <I>getgrgid</I>(), or <I>getgrnam</I>().
<P>

If successful, the <I>getgrgid_r</I>() function shall return zero;
otherwise, an error number shall be returned to indicate the
error. 
<A NAME="lbAG">&nbsp;</A>
<H2>ERRORS</H2>

<P>

The <I>getgrgid</I>() and <I>getgrgid_r</I>() functions may fail if:
<DL COMPACT>
<DT><B>EIO</B>

<DD>
An I/O error has occurred.
<DT><B>EINTR</B>

<DD>
A signal was caught during <I>getgrgid</I>().
<DT><B>EMFILE</B>

<DD>
{OPEN_MAX} file descriptors are currently open in the calling process.
<DT><B>ENFILE</B>

<DD>
The maximum allowable number of files is currently open in the system.
<P>
</DL>
<P>

The <I>getgrgid_r</I>() function may fail if: 
<DL COMPACT>
<DT><B>ERANGE</B>

<DD>
Insufficient storage was supplied via <I>buffer</I> and <I>bufsize</I>
to contain the data to be referenced by the resulting
<B>group</B> structure. 
<P>
</DL>
<P>

<I>The following sections are informative.</I>
<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLES</H2>

<A NAME="lbAI">&nbsp;</A>
<H3>Finding an Entry in the Group Database</H3>

<P>

The following example uses <I>getgrgid</I>() to search the group database
for a group ID that was previously stored in a
<B>stat</B> structure, then prints out the group name if it is found.
If the group is not found, the program prints the numeric
value of the group for the entry.
<P>
<DL COMPACT><DT><DD>
<PRE>

<B>#include &lt;<A HREF="file:///usr/include/sys/types.h">sys/types.h</A>&gt;
#include &lt;<A HREF="file:///usr/include/grp.h">grp.h</A>&gt;
#include &lt;<A HREF="file:///usr/include/stdio.h">stdio.h</A>&gt;
...
struct stat statbuf;
struct group *grp;
...
if ((grp = getgrgid(statbuf.st_gid)) != NULL)
    printf(&quot; %-8.8s&quot;, grp-&gt;gr_name);
else
    printf(&quot; %-8d&quot;, statbuf.st_gid);
...
</B>
</PRE>

</DL>

<A NAME="lbAJ">&nbsp;</A>
<H2>APPLICATION USAGE</H2>

<P>

Applications wishing to check for error situations should set <I>errno</I>
to 0 before calling <I>getgrgid</I>(). If
<I>errno</I> is set on return, an error occurred.
<P>

The <I>getgrgid_r</I>() function is thread-safe and shall return values
in a user-supplied buffer instead of possibly using a
static data area that may be overwritten by each call.
<A NAME="lbAK">&nbsp;</A>
<H2>RATIONALE</H2>

<P>

None.
<A NAME="lbAL">&nbsp;</A>
<H2>FUTURE DIRECTIONS</H2>

<P>

None.
<A NAME="lbAM">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<I>endgrent</I>(), <I>getgrnam</I>(), the Base Definitions volume
of
IEEE&nbsp;Std&nbsp;1003.1-2001, <I>&lt;<A HREF="file:///usr/include/grp.h">grp.h</A>&gt;</I>, <I>&lt;<A HREF="file:///usr/include/limits.h">limits.h</A>&gt;</I>, <I>&lt;<A HREF="file:///usr/include/sys/types.h">sys/types.h</A>&gt;</I>
<A NAME="lbAN">&nbsp;</A>
<H2>COPYRIGHT</H2>

Portions of this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology
-- Portable Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of
Electrical and Electronics Engineers, Inc and The Open Group. In the
event of any discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open Group Standard
is the referee document. The original Standard can be obtained online at
<A HREF="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</A> .
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">PROLOG</A><DD>
<DT><A HREF="#lbAC">NAME</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">RETURN VALUE</A><DD>
<DT><A HREF="#lbAG">ERRORS</A><DD>
<DT><A HREF="#lbAH">EXAMPLES</A><DD>
<DL>
<DT><A HREF="#lbAI">Finding an Entry in the Group Database</A><DD>
</DL>
<DT><A HREF="#lbAJ">APPLICATION USAGE</A><DD>
<DT><A HREF="#lbAK">RATIONALE</A><DD>
<DT><A HREF="#lbAL">FUTURE DIRECTIONS</A><DD>
<DT><A HREF="#lbAM">SEE ALSO</A><DD>
<DT><A HREF="#lbAN">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 12:41:34 GMT, April 18, 2016
</BODY>
</HTML>
