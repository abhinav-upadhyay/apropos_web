<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
FPATHCONF(3P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
FPATHCONF(3P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
FPATHCONF(3P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> fpathconf, pathconf - get configurable pathname variables</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;unistd.h&gt;</b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
long fpathconf(int<b> </b><i>fildes</i><b></b><b>, int</b><b> </b><i>name</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
long pathconf(const char *<b></b><i>path</i><b></b><b>, int</b><b> </b><i>name</i><b></b><b>);</b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>fpathconf</i>() and <i>pathconf</i>() functions shall determine the current value of a configurable limit or option ( <i>variable</i>) that is associated with a file or directory.<div class="spacer">
</div>
For <i>pathconf</i>(), the <i>path</i> argument points to the pathname of a file or directory.<div class="spacer">
</div>
For <i>fpathconf</i>(), the <i>fildes</i> argument is an open file descriptor.<div class="spacer">
</div>
The <i>name</i> argument represents the variable to be queried relative to that file or directory. Implementations shall support all of the variables listed in the following table and may support others. The variables in the following table come from  <i>&lt;limits.h&gt;</i> or  <i>&lt;unistd.h&gt;</i> and the symbolic constants, defined in  <i>&lt;unistd.h&gt;</i>, are the corresponding values used for  <i>name</i>.<table class="tbl">
<col style="width: 26.00ex;"/>
<col style="width: 25.00ex;"/>
<col style="width: 18.00ex;"/>
<tbody>
<tr>
<td>
<b>Variable</b></td>
<td>
<b>Value of </b><i>name</i><b></b><i></i></td>
<td>
<i></i><b>Requirements</b><i></i></td>
</tr>
<tr>
<td>
<i>{FILESIZEBITS}</i></td>
<td>
<i>_PC_FILESIZEBITS</i></td>
<td>
<i>3,4</i></td>
</tr>
<tr>
<td>
<i>{LINK_MAX}</i></td>
<td>
<i>_PC_LINK_MAX</i></td>
<td>
<i>1</i></td>
</tr>
<tr>
<td>
<i>{MAX_CANON}</i></td>
<td>
<i>_PC_MAX_CANON</i></td>
<td>
<i>2</i></td>
</tr>
<tr>
<td>
<i>{MAX_INPUT}</i></td>
<td>
<i>_PC_MAX_INPUT</i></td>
<td>
<i>2</i></td>
</tr>
<tr>
<td>
<i>{NAME_MAX}</i></td>
<td>
<i>_PC_NAME_MAX</i></td>
<td>
<i>3,4</i></td>
</tr>
<tr>
<td>
<i>{PATH_MAX}</i></td>
<td>
<i>_PC_PATH_MAX</i></td>
<td>
<i>4,5</i></td>
</tr>
<tr>
<td>
<i>{PIPE_BUF}</i></td>
<td>
<i>_PC_PIPE_BUF</i></td>
<td>
<i>6</i></td>
</tr>
<tr>
<td>
<i>{POSIX_ALLOC_SIZE_MIN}</i></td>
<td>
<i>_PC_ALLOC_SIZE_MIN</i></td>
<td>
<i>&#160;</i></td>
</tr>
<tr>
<td>
<i>{POSIX_REC_INCR_XFER_SIZE}</i></td>
<td>
<i>_PC_REC_INCR_XFER_SIZE</i></td>
<td>
<i>&#160;</i></td>
</tr>
<tr>
<td>
<i>{POSIX_REC_MAX_XFER_SIZE}</i></td>
<td>
<i>_PC_REC_MAX_XFER_SIZE</i></td>
<td>
<i>&#160;</i></td>
</tr>
<tr>
<td>
<i>{POSIX_REC_MIN_XFER_SIZE}</i></td>
<td>
<i>_PC_REC_MIN_XFER_SIZE</i></td>
<td>
<i>&#160;</i></td>
</tr>
<tr>
<td>
<i>{POSIX_REC_XFER_ALIGN}</i></td>
<td>
<i>_PC_REC_XFER_ALIGN</i></td>
<td>
<i>&#160;</i></td>
</tr>
<tr>
<td>
<i>{SYMLINK_MAX}</i></td>
<td>
<i>_PC_SYMLINK_MAX</i></td>
<td>
<i>4,9</i></td>
</tr>
<tr>
<td>
<i>_POSIX_CHOWN_RESTRICTED</i></td>
<td>
<i>_PC_CHOWN_RESTRICTED</i></td>
<td>
<i>7</i></td>
</tr>
<tr>
<td>
<i>_POSIX_NO_TRUNC</i></td>
<td>
<i>_PC_NO_TRUNC</i></td>
<td>
<i>3,4</i></td>
</tr>
<tr>
<td>
<i>_POSIX_VDISABLE</i></td>
<td>
<i>_PC_VDISABLE</i></td>
<td>
<i>2</i></td>
</tr>
<tr>
<td>
<i>_POSIX_ASYNC_IO</i></td>
<td>
<i>_PC_ASYNC_IO</i></td>
<td>
<i>8</i></td>
</tr>
<tr>
<td>
<i>_POSIX_PRIO_IO</i></td>
<td>
<i>_PC_PRIO_IO</i></td>
<td>
<i>8</i></td>
</tr>
<tr>
<td>
<i>_POSIX_SYNC_IO</i></td>
<td>
<i>_PC_SYNC_IO</i></td>
<td>
<i>8</i></td>
</tr>
</tbody>
</table>
<div class="subsection">
<h2>Requirements</h2><dl>
<dt>
 1.</dt>
<dd>
If <i>path</i> or <i>fildes</i> refers to a directory, the value returned shall apply to the directory itself.</dd>
</dl>
<dl>
<dt>
 2.</dt>
<dd>
If <i>path</i> or <i>fildes</i> does not refer to a terminal file, it is unspecified whether an implementation supports an association of the variable name with the specified file.</dd>
</dl>
<dl>
<dt>
 3.</dt>
<dd>
If <i>path</i> or <i>fildes</i> refers to a directory, the value returned shall apply to filenames within the directory.</dd>
</dl>
<dl>
<dt>
 4.</dt>
<dd>
If <i>path</i> or <i>fildes</i> does not refer to a directory, it is unspecified whether an implementation supports an association of the variable name with the specified file.</dd>
</dl>
<dl>
<dt>
 5.</dt>
<dd>
If <i>path</i> or <i>fildes</i> refers to a directory, the value returned shall be the maximum length of a relative pathname when the specified directory is the working directory.</dd>
</dl>
<dl>
<dt>
 6.</dt>
<dd>
If <i>path</i> refers to a FIFO, or <i>fildes</i> refers to a pipe or FIFO, the value returned shall apply to the referenced object. If  <i>path</i> or <i>fildes</i> refers to a directory, the value returned shall apply to any FIFO that exists or can be created within the directory. If  <i>path</i> or <i>fildes</i> refers to any other type of file, it is unspecified whether an implementation supports an association of the variable name with the specified file.</dd>
</dl>
<dl>
<dt>
 7.</dt>
<dd>
If <i>path</i> or <i>fildes</i> refers to a directory, the value returned shall apply to any files, other than directories, that exist or can be created within the directory.</dd>
</dl>
<dl>
<dt>
 8.</dt>
<dd>
If <i>path</i> or <i>fildes</i> refers to a directory, it is unspecified whether an implementation supports an association of the variable name with the specified file.</dd>
</dl>
<dl>
<dt>
 9.</dt>
<dd>
If <i>path</i> or <i>fildes</i> refers to a directory, the value returned shall be the maximum length of the string that a symbolic link in that directory can contain.</dd>
</dl>
</div>
</div>
<div class="section">
<h1>RETURN VALUE</h1> If  <i>name</i> is an invalid value, both <i>pathconf</i>() and <i>fpathconf</i>() shall return -1 and set  <i>errno</i> to indicate the error.<div class="spacer">
</div>
If the variable corresponding to <i>name</i> has no limit for the <i>path</i> or file descriptor, both  <i>pathconf</i>() and  <i>fpathconf</i>() shall return -1 without changing <i>errno</i>. If the implementation needs to use  <i>path</i> to determine the value of  <i>name</i> and the implementation does not support the association of  <i>name</i> with the file specified by <i>path</i>, or if the process did not have appropriate privileges to query the file specified by  <i>path</i>, or <i>path</i> does not exist,  <i>pathconf</i>() shall return -1 and set <i>errno</i> to indicate the error.<div class="spacer">
</div>
If the implementation needs to use <i>fildes</i> to determine the value of  <i>name</i> and the implementation does not support the association of  <i>name</i> with the file specified by <i>fildes</i>, or if  <i>fildes</i> is an invalid file descriptor,  <i>fpathconf</i>() shall return -1 and set <i>errno</i> to indicate the error.<div class="spacer">
</div>
Otherwise, <i>pathconf</i>() or <i>fpathconf</i>() shall return the current variable value for the file or directory without changing  <i>errno</i>. The value returned shall not be more restrictive than the corresponding value available to the application when it was compiled with the implementation's  <i>&lt;limits.h&gt;</i> or  <i>&lt;unistd.h&gt;</i>.</div>
<div class="section">
<h1>ERRORS</h1> The  <i>pathconf</i>() function shall fail if:<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The value of <i>name</i> is not valid.</dd>
</dl>
<dl>
<dt>
<b>ELOOP</b></dt>
<dd>
A loop exists in symbolic links encountered during resolution of the  <i>path</i> argument.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>pathconf</i>() function may fail if:<dl>
<dt>
<b>EACCES</b></dt>
<dd>
Search permission is denied for a component of the path prefix.</dd>
</dl>
<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The implementation does not support an association of the variable  <i>name</i> with the specified file.</dd>
</dl>
<dl>
<dt>
<b>ELOOP</b></dt>
<dd>
More than {SYMLOOP_MAX} symbolic links were encountered during resolution of the  <i>path</i> argument.</dd>
</dl>
<dl>
<dt>
<b>ENAMETOOLONG</b></dt>
<dd>
The length of the <i>path</i> argument exceeds {PATH_MAX} or a pathname component is longer than {NAME_MAX}.</dd>
</dl>
<dl>
<dt>
<b>ENAMETOOLONG</b></dt>
<dd>
As a result of encountering a symbolic link in resolution of the <i>path</i> argument, the length of the substituted pathname string exceeded {PATH_MAX}.</dd>
</dl>
<dl>
<dt>
<b>ENOENT</b></dt>
<dd>
A component of <i>path</i> does not name an existing file or <i>path</i> is an empty string.</dd>
</dl>
<dl>
<dt>
<b>ENOTDIR</b></dt>
<dd>
A component of the path prefix is not a directory.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>fpathconf</i>() function shall fail if:<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The value of <i>name</i> is not valid.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>fpathconf</i>() function may fail if:<dl>
<dt>
<b>EBADF</b></dt>
<dd>
The <i>fildes</i> argument is not a valid file descriptor.</dd>
</dl>
<dl>
<dt>
<b>EINVAL</b></dt>
<dd>
The implementation does not support an association of the variable  <i>name</i> with the specified file.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>EXAMPLES</h1> None.</div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> The  <i>pathconf</i>() function was proposed immediately after the <i>sysconf</i>() function when it was realized that some configurable values may differ across file system, directory, or device boundaries.<div class="spacer">
</div>
For example, {NAME_MAX} frequently changes between System V and BSD-based file systems; System V uses a maximum of 14, BSD 255. On an implementation that provides both types of file systems, an application would be forced to limit all pathname components to 14 bytes, as this would be the value specified in  <i>&lt;limits.h&gt;</i> on such a system.<div class="spacer">
</div>
Therefore, various useful values can be queried on any pathname or file descriptor, assuming that the appropriate permissions are in place.<div class="spacer">
</div>
The value returned for the variable {PATH_MAX} indicates the longest relative pathname that could be given if the specified directory is the process' current working directory. A process may not always be able to generate a name that long and use it if a subdirectory in the pathname crosses into a more restrictive file system.<div class="spacer">
</div>
The value returned for the variable _POSIX_CHOWN_RESTRICTED also applies to directories that do not have file systems mounted on them. The value may change when crossing a mount point, so applications that need to know should check for each directory. (An even easier check is to try the  <i>chown</i>() function and look for an error in case it happens.)<div class="spacer">
</div>
Unlike the values returned by <i>sysconf</i>(), the pathname-oriented variables are potentially more volatile and are not guaranteed to remain constant throughout the process' lifetime. For example, in between two calls to  <i>pathconf</i>(), the file system in question may have been unmounted and remounted with different characteristics.<div class="spacer">
</div>
Also note that most of the errors are optional. If one of the variables always has the same value on an implementation, the implementation need not look at  <i>path</i> or <i>fildes</i> to return that value and is, therefore, not required to detect any of the errors except the meaning of [EINVAL] that indicates that the value of  <i>name</i> is not valid for that variable.<div class="spacer">
</div>
If the value of any of the limits is unspecified (logically infinite), they will not be defined in  <i>&lt;limits.h&gt;</i> and the <i>pathconf</i>() and  <i>fpathconf</i>() functions return -1 without changing  <i>errno</i>. This can be distinguished from the case of giving an unrecognized  <i>name</i> argument because  <i>errno</i> is set to [EINVAL] in this case.<div class="spacer">
</div>
Since -1 is a valid return value for the <i>pathconf</i>() and <i>fpathconf</i>() functions, applications should set  <i>errno</i> to zero before calling them and check <i>errno</i> only if the return value is -1.<div class="spacer">
</div>
For the case of {SYMLINK_MAX}, since both <i>pathconf</i>() and <i>open</i>() follow symbolic links, there is no way that  <i>path</i> or <i>fildes</i> could refer to a symbolic link.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>confstr</i>(), <i>sysconf</i>(), the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001,  <i>&lt;limits.h&gt;</i>, <i>&lt;unistd.h&gt;</i>, the Shell and Utilities volume of IEEE&#160;Std&#160;1003.1-2001</div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

