<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of &lt;<A HREF="file:///usr/include/sys/mman.h">sys/mman.h</A>&gt;</TITLE>
</HEAD><BODY>
<H1>&lt;<A HREF="file:///usr/include/sys/mman.h">sys/mman.h</A>&gt;</H1>
Section: POSIX Programmer's Manual (0P)<BR>Updated: 2003<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

sys/mman.h - memory management declarations
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

<B>#include &lt;<A HREF="file:///usr/include/sys/mman.h">sys/mman.h</A>&gt;</B>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

The <I>&lt;<A HREF="file:///usr/include/sys/mman.h">sys/mman.h</A>&gt;</I> header shall be supported if the implementation
supports at least one of the following
options:
<DL COMPACT>
<DT> *<DD>
The Memory Mapped Files option 
</DL>
<P>

<DL COMPACT>
<DT> *<DD>
The Shared Memory Objects option 
</DL>
<P>

<DL COMPACT>
<DT> *<DD>
The Process Memory Locking option 
</DL>
<P>

<DL COMPACT>
<DT> *<DD>
The Memory Protection option 
</DL>
<P>

<DL COMPACT>
<DT> *<DD>
The Typed Memory Objects option 
</DL>
<P>

<DL COMPACT>
<DT> *<DD>
The Synchronized Input and Output option 
</DL>
<P>

<DL COMPACT>
<DT> *<DD>
The Advisory Information option 
</DL>
<P>

<DL COMPACT>
<DT> *<DD>
The Typed Memory Objects option 
</DL>
<P>

<P>

If one or more of the Advisory Information, Memory Mapped Files, or
Shared Memory Objects options are supported, the following
protection options shall be defined: 
<DL COMPACT>
<DT>PROT_READ<DD>
Page can be read. 
<DT>PROT_WRITE<DD>
Page can be written. 
<DT>PROT_EXEC<DD>
Page can be executed. 
<DT>PROT_NONE<DD>
Page cannot be accessed. 
<P>
</DL>
<P>

The following <I>flag</I> options shall be defined:
<DL COMPACT>
<DT>MAP_SHARED<DD>
Share changes. 
<DT>MAP_PRIVATE<DD>
Changes are private. 
<DT>MAP_FIXED<DD>
Interpret <I>addr</I> exactly. 
<P>
</DL>
<P>

The following flags shall be defined for <I>msync</I>():
<DL COMPACT>
<DT>MS_ASYNC<DD>
Perform asynchronous writes. 
<DT>MS_SYNC<DD>
Perform synchronous writes. 
<DT>MS_INVALIDATE<DD>
Invalidate mappings. 
<P>
</DL>
<P>

The following symbolic constants shall be defined for the <I>mlockall</I>()
function:
<DL COMPACT>
<DT>MCL_CURRENT<DD>
Lock currently mapped pages. 
<DT>MCL_FUTURE<DD>
Lock pages that become mapped. 
<P>
</DL>
<P>

The symbolic constant MAP_FAILED shall be defined to indicate a failure
from the <I>mmap</I>() function. 
<P>

If the Advisory Information and either the Memory Mapped Files or
Shared Memory Objects options are supported, values for
<I>advice</I> used by <I>posix_madvise</I>() shall be defined as follows:
<DL COMPACT>
<DT>POSIX_MADV_NORMAL<DD>
<P>
The application has no advice to give on its behavior with respect
to the specified range. It is the default characteristic if no
advice is given for a range of memory.
<DT>POSIX_MADV_SEQUENTIAL<DD>
<P>
The application expects to access the specified range sequentially
from lower addresses to higher addresses.
<DT>POSIX_MADV_RANDOM<DD>
<P>
The application expects to access the specified range in a random
order.
<DT>POSIX_MADV_WILLNEED<DD>
<P>
The application expects to access the specified range in the near
future.
<DT>POSIX_MADV_DONTNEED<DD>
<P>
The application expects that it will not access the specified range
in the near future.
<P>
</DL>
<P>

The following flags shall be defined for <I>posix_typed_mem_open</I>():
<DL COMPACT>
<DT>POSIX_TYPED_MEM_ALLOCATE<DD>
<P>
Allocate on <I>mmap</I>().
<DT>POSIX_TYPED_MEM_ALLOCATE_CONTIG<DD>
<P>
Allocate contiguously on <I>mmap</I>().
<DT>POSIX_TYPED_MEM_MAP_ALLOCATABLE<DD>
<P>
Map on <I>mmap</I>(), without affecting allocatability.
<P>
</DL>
<P>

The <B>mode_t</B>, <B>off_t</B>, and <B>size_t</B> types shall be defined
as described in <I>&lt;<A HREF="file:///usr/include/sys/types.h">sys/types.h</A>&gt;</I> .
<P>

The <I>&lt;<A HREF="file:///usr/include/sys/mman.h">sys/mman.h</A>&gt;</I> header shall define the structure <B>posix_typed_mem_info</B>,
which includes at least the
following member:
<P>
<DL COMPACT><DT><DD>
<PRE>

<B>size_t  posix_tmi_length </B> Maximum length which may be allocated <B>
                         </B> from a typed memory object. <B>
</B>
</PRE>

</DL>

<P>

The following shall be declared as functions and may also be defined
as macros. Function prototypes shall be provided.
<P>
<DL COMPACT><DT><DD>
<PRE>

<B>
int    mlock(const void *, size_t);


int    mlockall(int);


void  *mmap(void *, size_t, int, int, int, off_t);


int    mprotect(void *, size_t, int);


int    msync(void *, size_t, int);


int    munlock(const void *, size_t);


int    munlockall(void);


int    munmap(void *, size_t);


int    posix_madvise(void *, size_t, int);


int    posix_mem_offset(const void *restrict, size_t, off_t *restrict,
           size_t *restrict, int *restrict);
int    posix_typed_mem_get_info(int, struct posix_typed_mem_info *);
int    posix_typed_mem_open(const char *, int, int);


int    shm_open(const char *, int, mode_t);
int    shm_unlink(const char *);

</B>
</PRE>

</DL>

<P>

<I>The following sections are informative.</I>
<A NAME="lbAE">&nbsp;</A>
<H2>APPLICATION USAGE</H2>

<P>

None.
<A NAME="lbAF">&nbsp;</A>
<H2>RATIONALE</H2>

<P>

None.
<A NAME="lbAG">&nbsp;</A>
<H2>FUTURE DIRECTIONS</H2>

<P>

None.
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<I>&lt;<A HREF="file:///usr/include/sys/types.h">sys/types.h</A>&gt;</I>, the System Interfaces volume of
IEEE&nbsp;Std&nbsp;1003.1-2001, <I>mlock</I>(), <I>mlockall</I>(), <I>mmap</I>(),
<I>mprotect</I>(), <I>msync</I>(), <I>munlock</I>(), <I>munlockall</I>(),
<I>munmap</I>(), <I>posix_mem_offset</I>(),
<I>posix_typed_mem_get_info</I>(), <I>posix_typed_mem_open</I>(), <I>shm_open</I>(),
<I>shm_unlink</I>()
<A NAME="lbAI">&nbsp;</A>
<H2>COPYRIGHT</H2>

Portions of this text are reprinted and reproduced in electronic form
from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology
-- Portable Operating System Interface (POSIX), The Open Group Base
Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of
Electrical and Electronics Engineers, Inc and The Open Group. In the
event of any discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open Group Standard
is the referee document. The original Standard can be obtained online at
<A HREF="http://www.opengroup.org/unix/online.html">http://www.opengroup.org/unix/online.html</A> .
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">APPLICATION USAGE</A><DD>
<DT><A HREF="#lbAF">RATIONALE</A><DD>
<DT><A HREF="#lbAG">FUTURE DIRECTIONS</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">COPYRIGHT</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 12:41:33 GMT, April 18, 2016
</BODY>
</HTML>
