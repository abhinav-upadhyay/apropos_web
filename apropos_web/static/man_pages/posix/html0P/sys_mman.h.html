<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
&lt;sys/mman.h&gt;(0P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
&lt;sys/mman.h&gt;(0P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
&lt;sys/mman.h&gt;(0P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> sys/mman.h - memory management declarations</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;sys/mman.h&gt;</b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>&lt;sys/mman.h&gt;</i> header shall be supported if the implementation supports at least one of the following options:<dl>
<dt>
 *</dt>
<dd>
The Memory Mapped Files option</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The Shared Memory Objects option</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The Process Memory Locking option</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The Memory Protection option</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The Typed Memory Objects option</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The Synchronized Input and Output option</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The Advisory Information option</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The Typed Memory Objects option</dd>
</dl>
<div class="spacer">
</div>
If one or more of the Advisory Information, Memory Mapped Files, or Shared Memory Objects options are supported, the following protection options shall be defined:<dl>
<dt>
PROT_READ</dt>
<dd>
Page can be read.</dd>
</dl>
<dl>
<dt>
PROT_WRITE</dt>
<dd>
Page can be written.</dd>
</dl>
<dl>
<dt>
PROT_EXEC</dt>
<dd>
Page can be executed.</dd>
</dl>
<dl>
<dt>
PROT_NONE</dt>
<dd>
Page cannot be accessed.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The following <i>flag</i> options shall be defined:<dl>
<dt>
MAP_SHARED</dt>
<dd>
Share changes.</dd>
</dl>
<dl>
<dt>
MAP_PRIVATE</dt>
<dd>
Changes are private.</dd>
</dl>
<dl>
<dt>
MAP_FIXED</dt>
<dd>
Interpret <i>addr</i> exactly.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The following flags shall be defined for <i>msync</i>():<dl>
<dt>
MS_ASYNC</dt>
<dd>
Perform asynchronous writes.</dd>
</dl>
<dl>
<dt>
MS_SYNC</dt>
<dd>
Perform synchronous writes.</dd>
</dl>
<dl>
<dt>
MS_INVALIDATE</dt>
<dd>
Invalidate mappings.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The following symbolic constants shall be defined for the <i>mlockall</i>() function:<dl>
<dt>
MCL_CURRENT</dt>
<dd>
Lock currently mapped pages.</dd>
</dl>
<dl>
<dt>
MCL_FUTURE</dt>
<dd>
Lock pages that become mapped.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The symbolic constant MAP_FAILED shall be defined to indicate a failure from the  <i>mmap</i>() function.<div class="spacer">
</div>
If the Advisory Information and either the Memory Mapped Files or Shared Memory Objects options are supported, values for  <i>advice</i> used by <i>posix_madvise</i>() shall be defined as follows:<dl>
<dt>
POSIX_MADV_NORMAL</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application has no advice to give on its behavior with respect to the specified range. It is the default characteristic if no advice is given for a range of memory.</dd>
</dl>
<dl>
<dt>
POSIX_MADV_SEQUENTIAL</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects to access the specified range sequentially from lower addresses to higher addresses.</dd>
</dl>
<dl>
<dt>
POSIX_MADV_RANDOM</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects to access the specified range in a random order.</dd>
</dl>
<dl>
<dt>
POSIX_MADV_WILLNEED</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects to access the specified range in the near future.</dd>
</dl>
<dl>
<dt>
POSIX_MADV_DONTNEED</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The application expects that it will not access the specified range in the near future.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The following flags shall be defined for <i>posix_typed_mem_open</i>():<dl>
<dt>
POSIX_TYPED_MEM_ALLOCATE</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Allocate on <i>mmap</i>().</dd>
</dl>
<dl>
<dt>
POSIX_TYPED_MEM_ALLOCATE_CONTIG</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Allocate contiguously on <i>mmap</i>().</dd>
</dl>
<dl>
<dt>
POSIX_TYPED_MEM_MAP_ALLOCATABLE</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Map on <i>mmap</i>(), without affecting allocatability.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <b>mode_t</b>, <b>off_t</b>, and <b>size_t</b> types shall be defined as described in  <i>&lt;sys/types.h&gt;</i> .<div class="spacer">
</div>
The <i>&lt;sys/mman.h&gt;</i> header shall define the structure <b>posix_typed_mem_info</b>, which includes at least the following member:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>size_t  posix_tmi_length </b> Maximum length which may be allocated <b></b><br/>
<b>                         </b> from a typed memory object. <b></b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The following shall be declared as functions and may also be defined as macros. Function prototypes shall be provided.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b></b><br/>
<b>int    mlock(const void *, size_t);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    mlockall(int);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>void  *mmap(void *, size_t, int, int, int, off_t);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    mprotect(void *, size_t, int);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    msync(void *, size_t, int);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    munlock(const void *, size_t);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    munlockall(void);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    munmap(void *, size_t);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    posix_madvise(void *, size_t, int);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    posix_mem_offset(const void *restrict, size_t, off_t *restrict,</b><br/>
<b>           size_t *restrict, int *restrict);</b><br/>
<b>int    posix_typed_mem_get_info(int, struct posix_typed_mem_info *);</b><br/>
<b>int    posix_typed_mem_open(const char *, int, int);</b><div class="spacer">
</div>
<div class="spacer">
</div>
<br/>
<b>int    shm_open(const char *, int, mode_t);</b><br/>
<b>int    shm_unlink(const char *);</b><div class="spacer">
</div>
<br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>&lt;sys/types.h&gt;</i>, the System Interfaces volume of IEEE&#160;Std&#160;1003.1-2001,  <i>mlock</i>(), <i>mlockall</i>(), <i>mmap</i>(),  <i>mprotect</i>(), <i>msync</i>(), <i>munlock</i>(), <i>munlockall</i>(),  <i>munmap</i>(), <i>posix_mem_offset</i>(),  <i>posix_typed_mem_get_info</i>(), <i>posix_typed_mem_open</i>(), <i>shm_open</i>(),  <i>shm_unlink</i>()</div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

