<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
&lt;netdb.h&gt;(0P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
&lt;netdb.h&gt;(0P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
&lt;netdb.h&gt;(0P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>NAME</h1> netdb.h - definitions for network database operations</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>#include &lt;netdb.h&gt;</b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>&lt;netdb.h&gt;</i> header may define the <b>in_port_t</b> type and the  <b>in_addr_t</b> type as described in <i>&lt;netinet/in.h&gt;</i> .<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>hostent</b> structure that includes at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>char   *h_name      </b> Official name of the host. <b></b><br/>
<b>char  **h_aliases   </b> A pointer to an array of pointers to <b></b><br/>
<b>                    </b> alternative host names, terminated by a <b></b><br/>
<b>                    </b> null pointer. <b></b><br/>
<b>int     h_addrtype  </b> Address type. <b></b><br/>
<b>int     h_length    </b> The length, in bytes, of the address. <b></b><br/>
<b>char  **h_addr_list </b> A pointer to an array of pointers to network <b></b><br/>
<b>                    </b> addresses (in network byte order) for the host, <b></b><br/>
<b>                    </b> terminated by a null pointer. <b></b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>netent</b> structure that includes at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>char     *n_name     </b> Official, fully-qualified (including the <b></b><br/>
<b>                     </b> domain) name of the host. <b></b><br/>
<b>char    **n_aliases  </b> A pointer to an array of pointers to <b></b><br/>
<b>                     </b> alternative network names, terminated by a <b></b><br/>
<b>                     </b> null pointer. <b></b><br/>
<b>int       n_addrtype </b> The address type of the network. <b></b><br/>
<b>uint32_t  n_net      </b> The network number, in host byte order. <b></b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The <b>uint32_t</b> type shall be defined as described in <i>&lt;inttypes.h&gt;</i> .<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>protoent</b> structure that includes at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>char   *p_name    </b> Official name of the protocol. <b></b><br/>
<b>char  **p_aliases </b> A pointer to an array of pointers to <b></b><br/>
<b>                  </b> alternative protocol names, terminated by <b></b><br/>
<b>                  </b> a null pointer. <b></b><br/>
<b>int     p_proto   </b> The protocol number. <b></b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the <b>servent</b> structure that includes at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>char   *s_name    </b> Official name of the service. <b></b><br/>
<b>char  **s_aliases </b> A pointer to an array of pointers to <b></b><br/>
<b>                  </b> alternative service names, terminated by <b></b><br/>
<b>                  </b> a null pointer. <b></b><br/>
<b>int     s_port    </b> The port number at which the service <b></b><br/>
<b>                  </b> resides, in network byte order. <b></b><br/>
<b>char   *s_proto   </b> The name of the protocol to use when <b></b><br/>
<b>                  </b> contacting the service. <b></b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the IPPORT_RESERVED macro with the value of the highest reserved Internet port number.<div class="spacer">
</div>
When the <i>&lt;netdb.h&gt;</i> header is included, <i>h_errno</i> shall be available as a modifiable lvalue of type  <b>int</b>. It is unspecified whether  <i>h_errno</i> is a macro or an identifier declared with external linkage.<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the following macros for use as error values for  <i>gethostbyaddr</i>() and <i>gethostbyname</i>():<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
HOST_NOT_FOUND<br/>
NO_DATA<br/>
NO_RECOVERY<br/>
TRY_AGAIN<br/>
</div>
<div class="subsection">
<h2>Address Information Structure</h2> The  <i>&lt;netdb.h&gt;</i> header shall define the <b>addrinfo</b> structure that includes at least the following members:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>int               ai_flags     </b> Input flags. <b></b><br/>
<b>int               ai_family    </b> Address family of socket. <b></b><br/>
<b>int               ai_socktype  </b> Socket type. <b></b><br/>
<b>int               ai_protocol  </b> Protocol of socket. <b></b><br/>
<b>socklen_t         ai_addrlen   </b> Length of socket address. <b></b><br/>
<b>struct sockaddr  *ai_addr      </b> Socket address of socket. <b></b><br/>
<b>char             *ai_canonname </b> Canonical name of service location. <b></b><br/>
<b>struct addrinfo  *ai_next      </b> Pointer to next in list. <b></b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the following macros that evaluate to bitwise-distinct integer constants for use in the  <i>flags</i> field of the <b>addrinfo</b> structure:<dl>
<dt>
AI_PASSIVE</dt>
<dd>
Socket address is intended for <i>bind</i>().</dd>
</dl>
<dl>
<dt>
AI_CANONNAME</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Request for canonical name.</dd>
</dl>
<dl>
<dt>
AI_NUMERICHOST</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Return numeric host address as name.</dd>
</dl>
<dl>
<dt>
AI_NUMERICSERV</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Inhibit service name resolution.</dd>
</dl>
<dl>
<dt>
AI_V4MAPPED</dt>
<dd>
If no IPv6 addresses are found, query for IPv4 addresses and return them to the caller as IPv4-mapped IPv6 addresses.</dd>
</dl>
<dl>
<dt>
AI_ALL</dt>
<dd>
Query for both IPv4 and IPv6 addresses.</dd>
</dl>
<dl>
<dt>
AI_ADDRCONFIG</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Query for IPv4 addresses only when an IPv4 address is configured; query for IPv6 addresses only when an IPv6 address is configured.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <i>&lt;netdb.h&gt;</i> header shall define the following macros that evaluate to bitwise-distinct integer constants for use in the  <i>flags</i> argument to <i>getnameinfo</i>():<dl>
<dt>
NI_NOFQDN</dt>
<dd>
Only the nodename portion of the FQDN is returned for local hosts.</dd>
</dl>
<dl>
<dt>
NI_NUMERICHOST</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The numeric form of the node's address is returned instead of its name.</dd>
</dl>
<dl>
<dt>
NI_NAMEREQD</dt>
<dd>
Return an error if the node's name cannot be located in the database.</dd>
</dl>
<dl>
<dt>
NI_NUMERICSERV</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The numeric form of the service address is returned instead of its name.</dd>
</dl>
<dl>
<dt>
NI_NUMERICSCOPE</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
For IPv6 addresses, the numeric form of the scope identifier is returned instead of its name.</dd>
</dl>
<dl>
<dt>
NI_DGRAM</dt>
<dd>
Indicates that the service is a datagram service (SOCK_DGRAM).<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="subsection">
<h2>Address Information Errors</h2> The  <i>&lt;netdb.h&gt;</i> header shall define the following macros for use as error values for  <i>getaddrinfo</i>() and <i>getnameinfo</i>():<dl>
<dt>
EAI_AGAIN</dt>
<dd>
The name could not be resolved at this time. Future attempts may succeed.</dd>
</dl>
<dl>
<dt>
EAI_BADFLAGS</dt>
<dd>
The flags had an invalid value.</dd>
</dl>
<dl>
<dt>
EAI_FAIL</dt>
<dd>
A non-recoverable error occurred.</dd>
</dl>
<dl>
<dt>
EAI_FAMILY</dt>
<dd>
The address family was not recognized or the address length was invalid for the specified family.</dd>
</dl>
<dl>
<dt>
EAI_MEMORY</dt>
<dd>
There was a memory allocation failure.</dd>
</dl>
<dl>
<dt>
EAI_NONAME</dt>
<dd>
The name does not resolve for the supplied parameters.</dd>
</dl>
<div class="spacer">
</div>
NI_NAMEREQD is set and the host's name cannot be located, or both  <i>nodename</i> and <i>servname</i> were null.<dl>
<dt>
EAI_SERVICE</dt>
<dd>
The service passed was not recognized for the specified socket type.</dd>
</dl>
<dl>
<dt>
EAI_SOCKTYPE</dt>
<dd>
The intended socket type was not recognized.</dd>
</dl>
<dl>
<dt>
EAI_SYSTEM</dt>
<dd>
A system error occurred. The error code can be found in <i>errno</i>.</dd>
</dl>
<dl>
<dt>
EAI_OVERFLOW</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
An argument buffer overflowed.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The following shall be declared as functions and may also be defined as macros. Function prototypes shall be provided.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>void              endhostent(void);</b><br/>
<b>void              endnetent(void);</b><br/>
<b>void              endprotoent(void);</b><br/>
<b>void              endservent(void);</b><br/>
<b>void              freeaddrinfo(struct addrinfo *);</b><br/>
<b>const char       *gai_strerror(int);</b><br/>
<b>int               getaddrinfo(const char *restrict, const char *restrict,</b><br/>
<b>                      const struct addrinfo *restrict,</b><br/>
<b>                      struct addrinfo **restrict);</b><br/>
<b>struct hostent   *gethostbyaddr(const void *, socklen_t, int);</b><br/>
<b>struct hostent   *gethostbyname(const char *);</b><br/>
<b>struct hostent   *gethostent(void);</b><br/>
<b>int               getnameinfo(const struct sockaddr *restrict, socklen_t,</b><br/>
<b>                      char *restrict, socklen_t, char *restrict,</b><br/>
<b>                      socklen_t, int);</b><br/>
<b>struct netent    *getnetbyaddr(uint32_t, int);</b><br/>
<b>struct netent    *getnetbyname(const char *);</b><br/>
<b>struct netent    *getnetent(void);</b><br/>
<b>struct protoent  *getprotobyname(const char *);</b><br/>
<b>struct protoent  *getprotobynumber(int);</b><br/>
<b>struct protoent  *getprotoent(void);</b><br/>
<b>struct servent   *getservbyname(const char *, const char *);</b><br/>
<b>struct servent   *getservbyport(int, const char *);</b><br/>
<b>struct servent   *getservent(void);</b><br/>
<b>void              sethostent(int);</b><br/>
<b>void              setnetent(int);</b><br/>
<b>void              setprotoent(int);</b><br/>
<b>void              setservent(int);</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The type <b>socklen_t</b> shall be defined through <b>typedef</b> as described in  <i>&lt;sys/socket.h&gt;</i>.<div class="spacer">
</div>
Inclusion of the <i>&lt;netdb.h&gt;</i> header may also make visible all symbols from  <i>&lt;netinet/in.h&gt;</i>, <i>&lt;sys/socket.h&gt;</i>, and <i>&lt;inttypes.h&gt;</i>.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
</div>
<div class="section">
<h1>APPLICATION USAGE</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> None.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>&lt;netinet/in.h&gt;</i>, <i>&lt;inttypes.h&gt;</i>, <i>&lt;sys/socket.h&gt;</i>, the System Interfaces volume of IEEE&#160;Std&#160;1003.1-2001,  <i>bind</i>(),  <i>endhostent</i>(), <i>endnetent</i>(), <i>endprotoent</i>(), <i>endservent</i>(),  <i>getaddrinfo</i>(), <i>getnameinfo</i>()</div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

