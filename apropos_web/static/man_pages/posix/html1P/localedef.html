<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
LOCALEDEF(1P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
LOCALEDEF(1P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
LOCALEDEF(1P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> localedef - define locale environment</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>localedef</b> <b>[</b><b>-c</b><b>][</b><b>-f</b> <i>charmap</i><b>][</b><b>-i</b>  <i>sourcefile</i><b>][</b><b>-u</b> <i>code_set_name</i><b>]</b> <i>name</i></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>localedef</i> utility shall convert source definitions for locale categories into a format usable by the functions and utilities whose operational behavior is determined by the setting of the locale environment variables defined in the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Chapter 7, Locale. It is implementation-defined whether users have the capability to create new locales, in addition to those supplied by the implementation. If the symbolic constant POSIX2_LOCALEDEF is defined, the system supports the creation of new locales.  On XSI-conformant systems, the symbolic constant POSIX2_LOCALEDEF shall be defined.<div class="spacer">
</div>
The utility shall read source definitions for one or more locale categories belonging to the same locale from the file named in the  <b>-i</b> option (if specified) or from standard input.<div class="spacer">
</div>
The <i>name</i> operand identifies the target locale. The utility shall support the creation of  <i>public</i>, or generally accessible locales, as well as  <i>private</i>, or restricted-access locales. Implementations may restrict the capability to create or modify public locales to users with the appropriate privileges.<div class="spacer">
</div>
Each category source definition shall be identified by the corresponding environment variable name and terminated by an  <b>END</b> <i>category-name</i> statement. The following categories shall be supported. In addition, the input may contain source for implementation-defined categories.<dl>
<dt>
<i>LC_CTYPE</i></dt>
<dd>
Defines character classification and case conversion.</dd>
</dl>
<dl>
<dt>
<i>LC_COLLATE</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Defines collation rules.</dd>
</dl>
<dl>
<dt>
<i>LC_MONETARY</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Defines the format and symbols used in formatting of monetary information.</dd>
</dl>
<dl>
<dt>
<i>LC_NUMERIC</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Defines the decimal delimiter, grouping, and grouping symbol for non-monetary numeric editing.</dd>
</dl>
<dl>
<dt>
<i>LC_TIME</i></dt>
<dd>
Defines the format and content of date and time information.</dd>
</dl>
<dl>
<dt>
<i>LC_MESSAGES</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Defines the format and values of affirmative and negative responses.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>OPTIONS</h1> The  <i>localedef</i> utility shall conform to the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 12.2, Utility Syntax Guidelines.<div class="spacer">
</div>
The following options shall be supported:<dl>
<dt>
<b>-c</b></dt>
<dd>
Create permanent output even if warning messages have been issued.</dd>
</dl>
<dl>
<dt>
<b>-f&#160;</b> <i>charmap</i></dt>
<dd>
Specify the pathname of a file containing a mapping of character symbols and collating element symbols to actual character encodings. The format of the  <i>charmap</i> is described in the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 6.4, Character Set Description File. The application shall ensure that this option is specified if symbolic names (other than collating symbols defined in a  <b>collating-symbol</b> keyword) are used. If the  <b>-f</b> option is not present, an implementation-defined character mapping shall be used.</dd>
</dl>
<dl>
<dt>
<b>-i&#160;</b> <i>inputfile</i></dt>
<dd>
The pathname of a file containing the source definitions. If this option is not present, source definitions shall be read from standard input. The format of the  <i>inputfile</i> is described in the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 7.3, Locale Definition.</dd>
</dl>
<dl>
<dt>
<b>-u&#160;</b> <i>code_set_name</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Specify the name of a codeset used as the target mapping of character symbols and collating element symbols whose encoding values are defined in terms of the ISO/IEC&#160;10646-1:2000 standard position constant values.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>OPERANDS</h1> The following operand shall be supported:<dl>
<dt>
<i>name</i></dt>
<dd>
Identifies the locale; see the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Chapter 7, Locale for a description of the use of this name. If the name contains one or more slash characters,  <i>name</i> shall be interpreted as a pathname where the created locale definitions shall be stored. If  <i>name</i> does not contain any slash characters, the interpretation of the name is implementation-defined and the locale shall be public. This capability may be restricted to users with appropriate privileges. (As a consequence of specifying one  <i>name</i>, although several categories can be processed in one execution, only categories belonging to the same locale can be processed.)<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>STDIN</h1> Unless the  <b>-i</b> option is specified, the standard input shall be a text file containing one or more locale category source definitions, as described in the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 7.3, Locale Definition. When lines are continued using the escape character mechanism, there is no limit to the length of the accumulated continued line.</div>
<div class="section">
<h1>INPUT FILES</h1> The character set mapping file specified as the  <i>charmap</i> option-argument is described in the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 6.4, Character Set Description File. If a locale category source definition contains a  <b>copy</b> statement, as defined in the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Chapter 7, Locale, and the  <b>copy</b> statement names a valid, existing locale, then  <i>localedef</i> shall behave as if the source definition had contained a valid category source definition for the named locale.</div>
<div class="section">
<h1>ENVIRONMENT VARIABLES</h1> The following environment variables shall affect the execution of  <i>localedef</i>:<dl>
<dt>
<i>LANG</i></dt>
<dd>
Provide a default value for the internationalization variables that are unset or null. (See the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 8.2, Internationalization Variables for the precedence of internationalization variables used to determine the values of locale categories.)</dd>
</dl>
<dl>
<dt>
<i>LC_ALL</i></dt>
<dd>
If set to a non-empty string value, override the values of all the other internationalization variables.</dd>
</dl>
<dl>
<dt>
<i>LC_COLLATE</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
(This variable has no affect on <i>localedef</i>; the POSIX locale is used for this category.)</dd>
</dl>
<dl>
<dt>
<i>LC_CTYPE</i></dt>
<dd>
Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as opposed to multi-byte characters in arguments and input files). This variable has no affect on the processing of  <i>localedef</i> input data; the POSIX locale is used for this purpose, regardless of the value of this variable.</dd>
</dl>
<dl>
<dt>
<i>LC_MESSAGES</i></dt>
<dd>
Determine the locale that should be used to affect the format and contents of diagnostic messages written to standard error.</dd>
</dl>
<dl>
<dt>
<i>NLSPATH</i></dt>
<dd>
Determine the location of message catalogs for the processing of <i>LC_MESSAGES</i>  <i>.</i><div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>ASYNCHRONOUS EVENTS</h1> Default.</div>
<div class="section">
<h1>STDOUT</h1> The utility shall report all categories successfully processed, in an unspecified format.</div>
<div class="section">
<h1>STDERR</h1> The standard error shall be used only for diagnostic messages.</div>
<div class="section">
<h1>OUTPUT FILES</h1> The format of the created output is unspecified. If the  <i>name</i> operand does not contain a slash, the existence of an output file for the locale is unspecified.</div>
<div class="section">
<h1>EXTENDED DESCRIPTION</h1> When the  <b>-u</b> option is used, the <i>code_set_name</i> option-argument shall be interpreted as an implementation-defined name of a codeset to which the ISO/IEC&#160;10646-1:2000 standard position constant values shall be converted via an implementation-defined method. Both the ISO/IEC&#160;10646-1:2000 standard position constant values and other formats (decimal, hexadecimal, or octal) shall be valid as encoding values within the  <i>charmap</i> file. The codeset represented by the implementation-defined name can be any codeset that is supported by the implementation.<div class="spacer">
</div>
When conflicts occur between the <i>charmap</i> specification of &lt;<i>code_set_name</i>&gt;, &lt; <i>mb_cur_max</i>&gt;, or &lt; <i>mb_cur_min</i>&gt; and the implementation-defined interpretation of these respective items for the codeset represented by the  <b>-u</b> option-argument <i>code_set_name</i>, the result is unspecified.<div class="spacer">
</div>
When conflicts occur between the <i>charmap</i> encoding values specified for symbolic names of characters of the portable character set and the implementation-defined assignment of character encoding values, the result is unspecified.<div class="spacer">
</div>
If a non-printable character in the <i>charmap</i> has a width specified that is not  <b>-1</b>, <i>localedef</i> shall generate a warning.</div>
<div class="section">
<h1>EXIT STATUS</h1> The following exit values shall be returned:<dl>
<dt>
&#160;0</dt>
<dd>
No errors occurred and the locales were successfully created.</dd>
</dl>
<dl>
<dt>
&#160;1</dt>
<dd>
Warnings occurred and the locales were successfully created.</dd>
</dl>
<dl>
<dt>
&#160;2</dt>
<dd>
The locale specification exceeded implementation limits or the coded character set or sets used were not supported by the implementation, and no locale was created.</dd>
</dl>
<dl>
<dt>
&#160;3</dt>
<dd>
The capability to create new locales is not supported by the implementation.</dd>
</dl>
<dl>
<dt>
&gt;3</dt>
<dd>
Warnings or errors occurred and no output was created.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>CONSEQUENCES OF ERRORS</h1> If an error is detected, no permanent output shall be created.<div class="spacer">
</div>
If warnings occur, permanent output shall be created if the <b>-c</b> option was specified. The following conditions shall cause warning messages to be issued:<dl>
<dt>
 *</dt>
<dd>
If a symbolic name not found in the <i>charmap</i> file is used for the descriptions of the  <i>LC_CTYPE</i> or <i>LC_COLLATE</i> categories (for other categories, this shall be an error condition).</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If the number of operands to the <b>order</b> keyword exceeds the {COLL_WEIGHTS_MAX} limit.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If optional keywords not supported by the implementation are present in the source.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If a non-printable character has a width specified other than -1.</dd>
</dl>
<div class="spacer">
</div>
Other implementation-defined conditions may also cause warnings.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>APPLICATION USAGE</h1> The  <i>charmap</i> definition is optional, and is contained outside the locale definition. This allows both completely self-defined source files, and generic sources (applicable to more than one codeset). To aid portability, all  <i>charmap</i> definitions must use the same symbolic names for the portable character set. As explained in the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 6.4, Character Set Description File, it is implementation-defined whether or not users or applications can provide additional character set description files. Therefore, the  <b>-f</b> option might be operable only when an implementation-defined  <i>charmap</i> is named.</div>
<div class="section">
<h1>EXAMPLES</h1> None.</div>
<div class="section">
<h1>RATIONALE</h1> The output produced by the  <i>localedef</i> utility is implementation-defined. The  <i>name</i> operand is used to identify the specific locale. (As a consequence, although several categories can be processed in one execution, only categories belonging to the same locale can be processed.)</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>locale</i>, the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 7.3, Locale Definition</div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

