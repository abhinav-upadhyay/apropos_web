<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
BC(1P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
BC(1P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
BC(1P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> bc - arbitrary-precision arithmetic language</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>bc</b> <b>[</b><b>-l</b><b>] [</b><i>file</i> <b>...</b><b>]</b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>bc</i> utility shall implement an arbitrary precision calculator. It shall take input from any files given, then read from the standard input. If the standard input and standard output to  <i>bc</i> are attached to a terminal, the invocation of  <i>bc</i> shall be considered to be <i>interactive</i>, causing behavioral constraints described in the following sections.</div>
<div class="section">
<h1>OPTIONS</h1> The  <i>bc</i> utility shall conform to the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 12.2, Utility Syntax Guidelines.<div class="spacer">
</div>
The following option shall be supported:<dl>
<dt>
<b>-l</b></dt>
<dd>
(The letter ell.) Define the math functions and initialize <i>scale</i> to 20, instead of the default zero; see the EXTENDED DESCRIPTION section.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>OPERANDS</h1> The following operand shall be supported:<dl>
<dt>
<i>file</i></dt>
<dd>
A pathname of a text file containing <i>bc</i> program statements. After all  <i>file</i>s have been read, <i>bc</i> shall read the standard input.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>STDIN</h1> See the INPUT FILES section.</div>
<div class="section">
<h1>INPUT FILES</h1> Input files shall be text files containing a sequence of comments, statements, and function definitions that shall be executed as they are read.</div>
<div class="section">
<h1>ENVIRONMENT VARIABLES</h1> The following environment variables shall affect the execution of  <i>bc</i>:<dl>
<dt>
<i>LANG</i></dt>
<dd>
Provide a default value for the internationalization variables that are unset or null. (See the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 8.2, Internationalization Variables for the precedence of internationalization variables used to determine the values of locale categories.)</dd>
</dl>
<dl>
<dt>
<i>LC_ALL</i></dt>
<dd>
If set to a non-empty string value, override the values of all the other internationalization variables.</dd>
</dl>
<dl>
<dt>
<i>LC_CTYPE</i></dt>
<dd>
Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as opposed to multi-byte characters in arguments and input files).</dd>
</dl>
<dl>
<dt>
<i>LC_MESSAGES</i></dt>
<dd>
Determine the locale that should be used to affect the format and contents of diagnostic messages written to standard error.</dd>
</dl>
<dl>
<dt>
<i>NLSPATH</i></dt>
<dd>
Determine the location of message catalogs for the processing of <i>LC_MESSAGES</i>  <i>.</i><div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>ASYNCHRONOUS EVENTS</h1> Default.</div>
<div class="section">
<h1>STDOUT</h1> The output of the  <i>bc</i> utility shall be controlled by the program read, and consist of zero or more lines containing the value of all executed expressions without assignments. The radix and precision of the output shall be controlled by the values of the  <b>obase</b> and <b>scale</b> variables; see the EXTENDED DESCRIPTION section.</div>
<div class="section">
<h1>STDERR</h1> The standard error shall be used only for diagnostic messages.</div>
<div class="section">
<h1>OUTPUT FILES</h1> None.</div>
<div class="section">
<h1>EXTENDED DESCRIPTION</h1><div class="subsection">
<h2>Grammar</h2> The grammar in this section and the lexical conventions in the following section shall together describe the syntax for  <i>bc</i> programs. The general conventions for this style of grammar are described in  <i>Grammar Conventions</i> . A valid program can be represented as the non-terminal symbol  <b>program</b> in the grammar. This formal syntax shall take precedence over the text syntax description.<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>%token    EOF NEWLINE STRING LETTER NUMBER</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%token    MUL_OP<br/>
/*        '*', '/', '%'                           */<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%token    ASSIGN_OP<br/>
/*        '=', '+=', '-=', '*=', '/=', '%=', '^=' */<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%token    REL_OP<br/>
/*        '==', '&lt;=', '&gt;=', '!=', '&lt;', '&gt;'        */<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%token    INCR_DECR<br/>
/*        '++', '--'                              */<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%token    Define    Break    Quit    Length<br/>
/*        'define', 'break', 'quit', 'length'     */<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%token    Return    For    If    While    Sqrt<br/>
/*        'return', 'for', 'if', 'while', 'sqrt'  */<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%token    Scale    Ibase    Obase    Auto<br/>
/*        'scale', 'ibase', 'obase', 'auto'       */<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%start    program<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
%%<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
program              : EOF<br/>
                     | input_item program<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
input_item           : semicolon_list NEWLINE<br/>
                     | function<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
semicolon_list       : /* empty */<br/>
                     | statement<br/>
                     | semicolon_list ';' statement<br/>
                     | semicolon_list ';'<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
statement_list       : /* empty */<br/>
                     | statement<br/>
                     | statement_list NEWLINE<br/>
                     | statement_list NEWLINE statement<br/>
                     | statement_list ';'<br/>
                     | statement_list ';' statement<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
statement            : expression<br/>
                     | STRING<br/>
                     | Break<br/>
                     | Quit<br/>
                     | Return<br/>
                     | Return '(' return_expression ')'<br/>
                     | For '(' expression ';'<br/>
                           relational_expression ';'<br/>
                           expression ')' statement<br/>
                     | If '(' relational_expression ')' statement<br/>
                     | While '(' relational_expression ')' statement<br/>
                     | '{' statement_list '}'<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
function             : Define LETTER '(' opt_parameter_list ')'<br/>
                           '{' NEWLINE opt_auto_define_list<br/>
                           statement_list '}'<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
opt_parameter_list   : /* empty */<br/>
                     | parameter_list<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
parameter_list       : LETTER<br/>
                     | define_list ',' LETTER<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
opt_auto_define_list : /* empty */<br/>
                     | Auto define_list NEWLINE<br/>
                     | Auto define_list ';'<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
define_list          : LETTER<br/>
                     | LETTER '[' ']'<br/>
                     | define_list ',' LETTER<br/>
                     | define_list ',' LETTER '[' ']'<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
opt_argument_list    : /* empty */<br/>
                     | argument_list<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
argument_list        : expression<br/>
                     | LETTER '[' ']' ',' argument_list<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
relational_expression : expression<br/>
                     | expression REL_OP expression<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
return_expression    : /* empty */<br/>
                     | expression<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
expression           : named_expression<br/>
                     | NUMBER<br/>
                     | '(' expression ')'<br/>
                     | LETTER '(' opt_argument_list ')'<br/>
                     | '-' expression<br/>
                     | expression '+' expression<br/>
                     | expression '-' expression<br/>
                     | expression MUL_OP expression<br/>
                     | expression '^' expression<br/>
                     | INCR_DECR named_expression<br/>
                     | named_expression INCR_DECR<br/>
                     | named_expression ASSIGN_OP expression<br/>
                     | Length '(' expression ')'<br/>
                     | Sqrt '(' expression ')'<br/>
                     | Scale '(' expression ')'<br/>
                     ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
named_expression     : LETTER<br/>
                     | LETTER '[' expression ']'<br/>
                     | Scale<br/>
                     | Ibase<br/>
                     | Obase<br/>
                     ;<br/>
<b></b><br/>
</div>
</div>
<div class="subsection">
<h2>Lexical Conventions in bc</h2> The lexical conventions for  <i>bc</i> programs, with respect to the preceding grammar, shall be as follows:<dl>
<dt>
 1.</dt>
<dd>
Except as noted, <i>bc</i> shall recognize the longest possible token or delimiter beginning at a given point.</dd>
</dl>
<dl>
<dt>
 2.</dt>
<dd>
A comment shall consist of any characters beginning with the two adjacent characters  <b>&quot;/*&quot;</b> and terminated by the next occurrence of the two adjacent characters  <b>&quot;*/&quot;</b> . Comments shall have no effect except to delimit lexical tokens.</dd>
</dl>
<dl>
<dt>
 3.</dt>
<dd>
The &lt;newline&gt; shall be recognized as the token <b>NEWLINE</b>.</dd>
</dl>
<dl>
<dt>
 4.</dt>
<dd>
The token <b>STRING</b> shall represent a string constant; it shall consist of any characters beginning with the double-quote character (  <b>' )'</b> and terminated by another occurrence of the double-quote character. The value of the string is the sequence of all characters between, but not including, the two double-quote characters. All characters shall be taken literally from the input, and there is no way to specify a string containing a double-quote character. The length of the value of each string shall be limited to {BC_STRING_MAX} bytes.</dd>
</dl>
<dl>
<dt>
 5.</dt>
<dd>
A &lt;blank&gt; shall have no effect except as an ordinary character if it appears within a  <b>STRING</b> token, or to delimit a lexical token other than  <b>STRING</b>.</dd>
</dl>
<dl>
<dt>
 6.</dt>
<dd>
The combination of a backslash character immediately followed by a &lt;newline&gt; shall have no effect other than to delimit lexical tokens with the following exceptions:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
 *</dt>
<dd>
It shall be interpreted as the character sequence <b>&quot;\&lt;newline&gt;&quot;</b> in  <b>STRING</b> tokens.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
It shall be ignored as part of a multi-line <b>NUMBER</b> token.</dd>
</dl>
</div>
<dl>
<dt>
 7.</dt>
<dd>
The token <b>NUMBER</b> shall represent a numeric constant. It shall be recognized by the following grammar:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>NUMBER  : integer</b><br/>
<b>        | '.' integer</b><br/>
<b>        | integer '.'</b><br/>
<b>        | integer '.' integer</b><br/>
<b>        ;</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
integer : digit<br/>
        | integer digit<br/>
        ;<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
digit   : 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7<br/>
        | 8 | 9 | A | B | C | D | E | F<br/>
        ;<br/>
<b></b><br/>
</div>
<dl>
<dt>
 8.</dt>
<dd>
The value of a <b>NUMBER</b> token shall be interpreted as a numeral in the base specified by the value of the internal register  <b>ibase</b> (described below). Each of the <b>digit</b> characters shall have the value from 0 to 15 in the order listed here, and the period character shall represent the radix point. The behavior is undefined if digits greater than or equal to the value of  <b>ibase</b> appear in the token. However, note the exception for single-digit values being assigned to  <b>ibase</b> and  <b>obase</b> themselves, in Operations in bc .</dd>
</dl>
<dl>
<dt>
 9.</dt>
<dd>
The following keywords shall be recognized as tokens:<table class="tbl">
<col style="width: 29.00ex;"/>
<col style="width: 24.00ex;"/>
<col style="width: 29.00ex;"/>
<col style="width: 29.00ex;"/>
<col style="width: 15.00ex;"/>
<tbody>
<tr>
<td>
<b>  auto  break  define  </b></td>
<td>
<b>  ibase  if  for  </b></td>
<td>
<b>  length  obase  quit  </b></td>
<td>
<b>  return  scale  sqrt  </b></td>
<td>
<b>  while  </b></td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl>
<dt>
10.</dt>
<dd>
Any of the following characters occurring anywhere except within a keyword shall be recognized as the token  <b>LETTER</b>:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>a b c d e f g h i j k l m n o p q r s t u v w x y z</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
11.</dt>
<dd>
The following single-character and two-character sequences shall be recognized as the token  <b>ASSIGN_OP</b>:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>=   +=   -=   *=   /=   %=   ^=</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
12.</dt>
<dd>
If an <b>'='</b> character, as the beginning of a token, is followed by a  <b>'-'</b> character with no intervening delimiter, the behavior is undefined.</dd>
</dl>
<dl>
<dt>
13.</dt>
<dd>
The following single-characters shall be recognized as the token <b>MUL_OP</b>:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>*   /   %</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
14.</dt>
<dd>
The following single-character and two-character sequences shall be recognized as the token  <b>REL_OP</b>:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>==   &lt;=   &gt;=   !=   &lt;   &gt;</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
15.</dt>
<dd>
The following two-character sequences shall be recognized as the token  <b>INCR_DECR</b>:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>++   --</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
16.</dt>
<dd>
The following single characters shall be recognized as tokens whose names are the character:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>&lt;newline&gt;  (  )  ,  +  -  ;  [  ]  ^  {  }</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
17.</dt>
<dd>
The token <b>EOF</b> is returned when the end of input is reached.</dd>
</dl>
</div>
<div class="subsection">
<h2>Operations in bc</h2> There are three kinds of identifiers: ordinary identifiers, array identifiers, and function identifiers. All three types consist of single lowercase letters. Array identifiers shall be followed by square brackets (  <b>&quot;[]&quot;</b> ). An array subscript is required except in an argument or auto list. Arrays are singly dimensioned and can contain up to {BC_DIM_MAX} elements. Indexing shall begin at zero so an array is indexed from 0 to {BC_DIM_MAX}-1. Subscripts shall be truncated to integers. The application shall ensure that function identifiers are followed by parentheses, possibly enclosing arguments. The three types of identifiers do not conflict.<div class="spacer">
</div>
The following table summarizes the rules for precedence and associativity of all operators. Operators on the same line shall have the same precedence; rows are in order of decreasing precedence.<div style="height: 1.00em;">
&#160;</div>
<b>Table: Operators in </b><i>bc</i><b></b><i></i><table class="tbl">
<col style="width: 25.00ex;"/>
<col style="width: 19.00ex;"/>
<tbody>
<tr>
<td>
<i></i><b>Operator</b><i></i></td>
<td>
<i></i><b>Associativity</b><i></i></td>
</tr>
<tr>
<td>
<i>++, --</i></td>
<td>
<i>N/A</i></td>
</tr>
<tr>
<td>
<i>unary -</i></td>
<td>
<i>N/A</i></td>
</tr>
<tr>
<td>
<i>^</i></td>
<td>
<i>Right to left</i></td>
</tr>
<tr>
<td>
<i>*, /, %</i></td>
<td>
<i>Left to right</i></td>
</tr>
<tr>
<td>
<i>+, binary -</i></td>
<td>
<i>Left to right</i></td>
</tr>
<tr>
<td>
<i>=, +=, -=, *=, /=, %=, ^=</i></td>
<td>
<i>Right to left</i></td>
</tr>
<tr>
<td>
<i>==, &lt;=, &gt;=, !=, &lt;, &gt;</i></td>
<td>
<i>None</i></td>
</tr>
</tbody>
</table>
<div class="spacer">
</div>
Each expression or named expression has a <i>scale</i>, which is the number of decimal digits that shall be maintained as the fractional portion of the expression.<div class="spacer">
</div>
<i>Named expressions</i> are places where values are stored. Named expressions shall be valid on the left side of an assignment. The value of a named expression shall be the value stored in the place named. Simple identifiers and array elements are named expressions; they have an initial value of zero and an initial scale of zero.<div class="spacer">
</div>
The internal registers <b>scale</b>, <b>ibase</b>, and <b>obase</b> are all named expressions. The scale of an expression consisting of the name of one of these registers shall be zero; values assigned to any of these registers are truncated to integers. The  <b>scale</b> register shall contain a global value used in computing the scale of expressions (as described below). The value of the register  <b>scale</b> is limited to 0 &lt;= <b>scale</b> &lt;= {BC_SCALE_MAX} and shall have a default value of zero. The  <b>ibase</b> and <b>obase</b> registers are the input and output number radix, respectively. The value of  <b>ibase</b> shall be limited to:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>2 &lt;= ibase &lt;= 16</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The value of <b>obase</b> shall be limited to:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>2 &lt;= obase &lt;= {BC_BASE_MAX}</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
When either <b>ibase</b> or <b>obase</b> is assigned a single <b>digit</b> value from the list in Lexical Conventions in bc, the value shall be assumed in hexadecimal. (For example,  <b>ibase</b>=A sets to base ten, regardless of the current  <b>ibase</b> value.) Otherwise, the behavior is undefined when digits greater than or equal to the value of  <b>ibase</b> appear in the input. Both <b>ibase</b> and  <b>obase</b> shall have initial values of 10.<div class="spacer">
</div>
Internal computations shall be conducted as if in decimal, regardless of the input and output bases, to the specified number of decimal digits. When an exact result is not achieved (for example,  <b>scale</b>=0;&#160;3.2/1)<b>,</b> the result shall be truncated.<div class="spacer">
</div>
For all values of <b>obase</b> specified by this volume of IEEE&#160;Std&#160;1003.1-2001,  <i>bc</i> shall output numeric values by performing each of the following steps in order:<dl>
<dt>
 1.</dt>
<dd>
If the value is less than zero, a hyphen ( <b>'-'</b> ) character shall be output.</dd>
</dl>
<dl>
<dt>
 2.</dt>
<dd>
One of the following is output, depending on the numerical value:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
 *</dt>
<dd>
If the absolute value of the numerical value is greater than or equal to one, the integer portion of the value shall be output as a series of digits appropriate to  <b>obase</b> (as described below), most significant digit first. The most significant non-zero digit shall be output next, followed by each successively less significant digit.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If the absolute value of the numerical value is less than one but greater than zero and the scale of the numerical value is greater than zero, it is unspecified whether the character 0 is output.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If the numerical value is zero, the character 0 shall be output.</dd>
</dl>
</div>
<dl>
<dt>
 3.</dt>
<dd>
If the scale of the value is greater than zero and the numeric value is not zero, a period character shall be output, followed by a series of digits appropriate to  <b>obase</b> (as described below) representing the most significant portion of the fractional part of the value. If  <i>s</i> represents the scale of the value being output, the number of digits output shall be  <i>s</i> if  <b>obase</b> is 10, less than or equal to <i>s</i> if <b>obase</b> is greater than 10, or greater than or equal to  <i>s</i> if  <b>obase</b> is less than 10. For <b>obase</b> values other than 10, this should be the number of digits needed to represent a precision of 10** <i>s</i>.</dd>
</dl>
<div class="spacer">
</div>
For <b>obase</b> values from 2 to 16, valid digits are the first <b>obase</b> of the single characters:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
which represent the values zero to 15, inclusive, respectively.<div class="spacer">
</div>
For bases greater than 16, each digit shall be written as a separate multi-digit decimal number. Each digit except the most significant fractional digit shall be preceded by a single &lt;space&gt;. For bases from 17 to 100,  <i>bc</i> shall write two-digit decimal numbers; for bases from 101 to 1000, three-digit decimal strings, and so on. For example, the decimal number 1024 in base 25 would be written as:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b> 01 15 24</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
and in base 125, as:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b> 008 024</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
Very large numbers shall be split across lines with 70 characters per line in the POSIX locale; other locales may split at different character boundaries. Lines that are continued shall end with a backslash (  <b>'\'</b> ).<div class="spacer">
</div>
A function call shall consist of a function name followed by parentheses containing a comma-separated list of expressions, which are the function arguments. A whole array passed as an argument shall be specified by the array name followed by empty square brackets. All function arguments shall be passed by value. As a result, changes made to the formal parameters shall have no effect on the actual arguments. If the function terminates by executing a  <b>return</b> statement, the value of the function shall be the value of the expression in the parentheses of the  <b>return</b> statement or shall be zero if no expression is provided or if there is no  <b>return</b> statement.<div class="spacer">
</div>
The result of <b>sqrt</b>( <i>expression</i>) shall be the square root of the expression. The result shall be truncated in the least significant decimal place. The scale of the result shall be the scale of the expression or the value of  <b>scale</b>, whichever is larger.<div class="spacer">
</div>
The result of <b>length</b>( <i>expression</i>) shall be the total number of significant decimal digits in the expression. The scale of the result shall be zero.<div class="spacer">
</div>
The result of <b>scale</b>( <i>expression</i>) shall be the scale of the expression. The scale of the result shall be zero.<div class="spacer">
</div>
A numeric constant shall be an expression. The scale shall be the number of digits that follow the radix point in the input representing the constant, or zero if no radix point appears.<div class="spacer">
</div>
The sequence (&#160;<i>expression</i>&#160;) shall be an expression with the same value and scale as  <i>expression</i>. The parentheses can be used to alter the normal precedence.<div class="spacer">
</div>
The semantics of the unary and binary operators are as follows:<dl>
<dt>
-<i>expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The result shall be the negative of the <i>expression</i>. The scale of the result shall be the scale of  <i>expression</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The unary increment and decrement operators shall not modify the scale of the named expression upon which they operate. The scale of the result shall be the scale of that named expression.<dl>
<dt>
++<i>named-expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The named expression shall be incremented by one. The result shall be the value of the named expression after incrementing.</dd>
</dl>
<dl>
<dt>
--<i>named-expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The named expression shall be decremented by one. The result shall be the value of the named expression after decrementing.</dd>
</dl>
<dl>
<dt>
<i>named-expression</i>++</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The named expression shall be incremented by one. The result shall be the value of the named expression before incrementing.</dd>
</dl>
<dl>
<dt>
<i>named-expression</i>--</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The named expression shall be decremented by one. The result shall be the value of the named expression before decrementing.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The exponentiation operator, circumflex ( <b>'^'</b> ), shall bind right to left.<dl>
<dt>
<i>expression</i>^<i>expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The result shall be the first <i>expression</i> raised to the power of the second  <i>expression</i>. If the second expression is not an integer, the behavior is undefined. If  <i>a</i> is the scale of the left expression and  <i>b</i> is the absolute value of the right expression, the scale of the result shall be:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>if b &gt;= 0 min(a * b, max(scale, a)) if b &lt; 0 scale</b><br/>
<b></b><br/>
</div>
<div style="height: 1.00em;">
&#160;</div>
The multiplicative operators ( <b>'*'</b>, <b>'/'</b>, <b>'%'</b> ) shall bind left to right.<dl>
<dt>
<i>expression</i>*<i>expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The result shall be the product of the two expressions. If <i>a</i> and  <i>b</i> are the scales of the two expressions, then the scale of the result shall be:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>min(a+b,max(scale,a,b))</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
<i>expression</i>/<i>expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The result shall be the quotient of the two expressions. The scale of the result shall be the value of  <b>scale</b>.</dd>
</dl>
<dl>
<dt>
<i>expression</i>%<i>expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
For expressions <i>a</i> and <i>b</i>, <i>a</i>% <i>b</i> shall be evaluated equivalent to the steps:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
 1.</dt>
<dd>
Compute <i>a</i>/ <i>b</i> to current scale.</dd>
</dl>
<dl>
<dt>
 2.</dt>
<dd>
Use the result to compute:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>a - (a / b) * b</b><br/>
<b></b><br/>
</div>
</dd>
</dl>
<div class="spacer">
</div>
to scale:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>max(scale + scale(b), scale(a))</b><br/>
<b></b><br/>
</div>
</div>
<div class="spacer">
</div>
The scale of the result shall be:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>max(scale + scale(b), scale(a))</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
When <b>scale</b> is zero, the <b>'%'</b> operator is the mathematical remainder operator.<div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
The additive operators ( <b>'+'</b>, <b>'-'</b> ) shall bind left to right.<dl>
<dt>
<i>expression</i>+<i>expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The result shall be the sum of the two expressions. The scale of the result shall be the maximum of the scales of the expressions.</dd>
</dl>
<dl>
<dt>
<i>expression</i>-<i>expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The result shall be the difference of the two expressions. The scale of the result shall be the maximum of the scales of the expressions.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The assignment operators ( <b>'='</b>, <b>&quot;+=&quot;</b>, <b>&quot;-=&quot;</b>, <b>&quot;*=&quot;</b>,  <b>&quot;/=&quot;</b>, <b>&quot;%=&quot;</b>,  <b>&quot;^=&quot;</b> ) shall bind right to left.<dl>
<dt>
<i>named-expression</i>=<i>expression</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
This expression shall result in assigning the value of the expression on the right to the named expression on the left. The scale of both the named expression and the result shall be the scale of  <i>expression</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The compound assignment forms:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<i>named-expression</i> <b>&lt;</b><i>operator</i><b>&gt;=</b> <i>expression</i><br/>
</div>
<div class="spacer">
</div>
shall be equivalent to:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<i>named-expression</i><b>=</b><i>named-expression</i> <b>&lt;</b><i>operator</i><b>&gt;</b> <i>expression</i><br/>
</div>
<div class="spacer">
</div>
except that the <i>named-expression</i> shall be evaluated only once.<div class="spacer">
</div>
Unlike all other operators, the relational operators ( <b>'&lt;'</b>,  <b>'&gt;'</b>, <b>&quot;&lt;=&quot;</b>, <b>&quot;&gt;=&quot;</b>,  <b>&quot;==&quot;</b>, <b>&quot;!=&quot;</b> ) shall be only valid as the object of an  <b>if</b>, <b>while</b>, or inside a <b>for</b> statement.<dl>
<dt>
<i>expression1</i>&lt;<i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The relation shall be true if the value of <i>expression1</i> is strictly less than the value of  <i>expression2</i>.</dd>
</dl>
<dl>
<dt>
<i>expression1</i>&gt;<i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The relation shall be true if the value of <i>expression1</i> is strictly greater than the value of  <i>expression2</i>.</dd>
</dl>
<dl>
<dt>
<i>expression1</i>&lt;=<i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The relation shall be true if the value of <i>expression1</i> is less than or equal to the value of  <i>expression2</i>.</dd>
</dl>
<dl>
<dt>
<i>expression1</i>&gt;=<i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The relation shall be true if the value of <i>expression1</i> is greater than or equal to the value of  <i>expression2</i>.</dd>
</dl>
<dl>
<dt>
<i>expression1</i>==<i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The relation shall be true if the values of <i>expression1</i> and  <i>expression2</i> are equal.</dd>
</dl>
<dl>
<dt>
<i>expression1</i>!=<i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
The relation shall be true if the values of <i>expression1</i> and  <i>expression2</i> are unequal.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
There are only two storage classes in <i>bc</i>: global and automatic (local). Only identifiers that are local to a function need be declared with the  <b>auto</b> command. The arguments to a function shall be local to the function. All other identifiers are assumed to be global and available to all functions. All identifiers, global and local, have initial values of zero. Identifiers declared as auto shall be allocated on entry to the function and released on returning from the function. They therefore do not retain values between function calls. Auto arrays shall be specified by the array name followed by empty square brackets. On entry to a function, the old values of the names that appear as parameters and as automatic variables shall be pushed onto a stack. Until the function returns, reference to these names shall refer only to the new values.<div class="spacer">
</div>
References to any of these names from other functions that are called from this function also refer to the new value until one of those functions uses the same name for a local variable.<div class="spacer">
</div>
When a statement is an expression, unless the main operator is an assignment, execution of the statement shall write the value of the expression followed by a &lt;newline&gt;.<div class="spacer">
</div>
When a statement is a string, execution of the statement shall write the value of the string.<div class="spacer">
</div>
Statements separated by semicolons or &lt;newline&gt;s shall be executed sequentially. In an interactive invocation of  <i>bc</i>, each time a &lt;newline&gt; is read that satisfies the grammatical production:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>input_item : semicolon_list NEWLINE</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
the sequential list of statements making up the <b>semicolon_list</b> shall be executed immediately and any output produced by that execution shall be written without any delay due to buffering.<div class="spacer">
</div>
In an <b>if</b> statement ( <b>if</b>( <i>relation</i>) <i>statement</i>), the  <i>statement</i> shall be executed if the relation is true.<div class="spacer">
</div>
The <b>while</b> statement ( <b>while</b>( <i>relation</i>) <i>statement</i>) implements a loop in which the  <i>relation</i> is tested; each time the  <i>relation</i> is true, the <i>statement</i> shall be executed and the  <i>relation</i> retested. When the  <i>relation</i> is false, execution shall resume after <i>statement</i>.<div class="spacer">
</div>
A <b>for</b> statement( <b>for</b>( <i>expression</i>; <i>relation</i>;  <i>expression</i>) <i>statement</i>) shall be the same as:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<i>first-expression</i><b>while (</b><i>relation</i><b>) {</b><br/>
<b>   </b> <i>statement</i> <b>  </b> <i>last-expression</i><b>}</b><br/>
<b></b><br/>
</div>
The application shall ensure that all three expressions are present.<div class="spacer">
</div>
The <b>break</b> statement shall cause termination of a <b>for</b> or  <b>while</b> statement.<div class="spacer">
</div>
The <b>auto</b> statement ( <b>auto</b> <i>identifier</i> <b>[</b>, <i>identifier</i>  <b>]</b> ...) shall cause the values of the identifiers to be pushed down. The identifiers can be ordinary identifiers or array identifiers. Array identifiers shall be specified by following the array name by empty square brackets. The application shall ensure that the  <b>auto</b> statement is the first statement in a function definition.<div class="spacer">
</div>
A <b>define</b> statement:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>define</b> <i>LETTER</i> <b>(</b> <i>opt_parameter_list</i> <b>) {</b><br/>
<b>   </b> <i>opt_auto_define_list</i> <b>  </b> <i>statement_list</i><b>}</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
defines a function named <b>LETTER</b>. If a function named <b>LETTER</b> was previously defined, the  <b>define</b> statement shall replace the previous definition. The expression:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>LETTER (</b> <i>opt_argument_list</i> <b>)</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
shall invoke the function named <b>LETTER</b>. The behavior is undefined if the number of arguments in the invocation does not match the number of parameters in the definition. Functions shall be defined before they are invoked. A function shall be considered to be defined within its own body, so recursive calls are valid. The values of numeric constants within a function shall be interpreted in the base specified by the value of the  <b>ibase</b> register when the function is invoked.<div class="spacer">
</div>
The <b>return</b> statements ( <b>return</b> and <b>return</b>( <i>expression</i>)) shall cause termination of a function, popping of its auto variables, and specification of the result of the function. The first form shall be equivalent to  <b>return</b>(0). The value and scale of the result returned by the function shall be the value and scale of the expression returned.<div class="spacer">
</div>
The <b>quit</b> statement ( <b>quit</b>) shall stop execution of a <i>bc</i> program at the point where the statement occurs in the input, even if it occurs in a function definition, or in an  <b>if</b>,  <b>for</b>, or <b>while</b> statement.<div class="spacer">
</div>
The following functions shall be defined when the <b>-l</b> option is specified:<dl>
<dt>
<b>s</b>(&#160;<i>expression</i>&#160;)</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Sine of argument in radians.</dd>
</dl>
<dl>
<dt>
<b>c</b>(&#160;<i>expression</i>&#160;)</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Cosine of argument in radians.</dd>
</dl>
<dl>
<dt>
<b>a</b>(&#160;<i>expression</i>&#160;)</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Arctangent of argument.</dd>
</dl>
<dl>
<dt>
<b>l</b>(&#160;<i>expression</i>&#160;)</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Natural logarithm of argument.</dd>
</dl>
<dl>
<dt>
<b>e</b>(&#160;<i>expression</i>&#160;)</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Exponential function of argument.</dd>
</dl>
<dl>
<dt>
<b>j</b>(&#160;<i>expression</i>,&#160;<i>expression</i>&#160;)</dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
Bessel function of integer order.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The scale of the result returned by these functions shall be the value of the  <b>scale</b> register at the time the function is invoked. The value of the  <b>scale</b> register after these functions have completed their execution shall be the same value it had upon invocation. The behavior is undefined if any of these functions is invoked with an argument outside the domain of the mathematical function.</div>
</div>
<div class="section">
<h1>EXIT STATUS</h1> The following exit values shall be returned:<dl>
<dt>
0</dt>
<dd>
All input files were processed successfully.</dd>
</dl>
<dl>
<dt>
<i>unspecified</i></dt>
<dd>
An error occurred.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>CONSEQUENCES OF ERRORS</h1> If any  <i>file</i> operand is specified and the named file cannot be accessed,  <i>bc</i> shall write a diagnostic message to standard error and terminate without any further action.<div class="spacer">
</div>
In an interactive invocation of <i>bc</i>, the utility should print an error message and recover following any error in the input. In a non-interactive invocation of  <i>bc</i>, invalid input causes undefined behavior.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>APPLICATION USAGE</h1> Automatic variables in  <i>bc</i> do not work in exactly the same way as in either C or PL/1.<div class="spacer">
</div>
For historical reasons, the exit status from <i>bc</i> cannot be relied upon to indicate that an error has occurred. Returning zero after an error is possible. Therefore,  <i>bc</i> should be used primarily by interactive users (who can react to error messages) or by application programs that can somehow validate the answers returned as not including error messages.<div class="spacer">
</div>
The <i>bc</i> utility always uses the period ( <b>'.'</b> ) character to represent a radix point, regardless of any decimal-point character specified as part of the current locale. In languages like C or  <i>awk</i>, the period character is used in program source, so it can be portable and unambiguous, while the locale-specific character is used in input and output. Because there is no distinction between source and input in  <i>bc</i>, this arrangement would not be possible. Using the locale-specific character in  <i>bc</i>'s input would introduce ambiguities into the language; consider the following example in a locale with a comma as the decimal-point character:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>define f(a,b) {</b><br/>
<b>    ...</b><br/>
<b>}</b><br/>
<b>...</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
f(1,2,3)<br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
Because of such ambiguities, the period character is used in input. Having input follow different conventions from output would be confusing in either pipeline usage or interactive usage, so the period is also used in output.</div>
<div class="section">
<h1>EXAMPLES</h1> In the shell, the following assigns an approximation of the first ten digits of  <b>'pi'</b> to the variable <i>x</i>:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>x=$(printf &quot;%s\n&quot; 'scale = 10; 104348/33215' | bc)</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The following <i>bc</i> program prints the same approximation of <b>'pi'</b>, with a label, to standard output:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>scale = 10</b><br/>
<b>&quot;pi equals &quot;</b><br/>
<b>104348 / 33215</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The following defines a function to compute an approximate value of the exponential function (note that such a function is predefined if the  <b>-l</b> option is specified):<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>scale = 20</b><br/>
<b>define e(x){</b><br/>
<b>    auto a, b, c, i, s</b><br/>
<b>    a = 1</b><br/>
<b>    b = 1</b><br/>
<b>    s = 1</b><br/>
<b>    for (i = 1; 1 == 1; i++){</b><br/>
<b>        a = a*x</b><br/>
<b>        b = b*i</b><br/>
<b>        c = a/b</b><br/>
<b>        if (c == 0) {</b><br/>
<b>             return(s)</b><br/>
<b>        }</b><br/>
<b>        s = s+c</b><br/>
<b>    }</b><br/>
<b>}</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The following prints approximate values of the exponential function of the first ten integers:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>for (i = 1; i &lt;= 10; ++i) {</b><br/>
<b>    e(i)</b><br/>
<b>}</b><br/>
<b></b><br/>
</div>
</div>
<div class="section">
<h1>RATIONALE</h1> The  <i>bc</i> utility is implemented historically as a front-end processor for  <i>dc</i>; <i>dc</i> was not selected to be part of this volume of IEEE&#160;Std&#160;1003.1-2001 because  <i>bc</i> was thought to have a more intuitive programmatic interface. Current implementations that implement  <i>bc</i> using <i>dc</i> are expected to be compliant.<div class="spacer">
</div>
The exit status for error conditions has been left unspecified for several reasons:<dl>
<dt>
 *</dt>
<dd>
The <i>bc</i> utility is used in both interactive and non-interactive situations. Different exit codes may be appropriate for the two uses.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
It is unclear when a non-zero exit should be given; divide-by-zero, undefined functions, and syntax errors are all possibilities.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
It is not clear what utility the exit status has.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
In the 4.3 BSD, System V, and Ninth Edition implementations, <i>bc</i> works in conjunction with  <i>dc</i>. The <i>dc</i> utility is the parent,  <i>bc</i> is the child. This was done to cleanly terminate  <i>bc</i> if <i>dc</i> aborted.</dd>
</dl>
<div class="spacer">
</div>
The decision to have <i>bc</i> exit upon encountering an inaccessible input file is based on the belief that  <i>bc</i>  <i>file1</i> <i>file2</i> is used most often when at least <i>file1</i> contains data/function declarations/initializations. Having  <i>bc</i> continue with prerequisite files missing is probably not useful. There is no implication in the CONSEQUENCES OF ERRORS section that  <i>bc</i> must check all its files for accessibility before opening any of them.<div class="spacer">
</div>
There was considerable debate on the appropriateness of the language accepted by  <i>bc</i>. Several reviewers preferred to see either a pure subset of the C language or some changes to make the language more compatible with C. While the  <i>bc</i> language has some obvious similarities to C, it has never claimed to be compatible with any version of C. An interpreter for a subset of C might be a very worthwhile utility, and it could potentially make  <i>bc</i> obsolete. However, no such utility is known in historical practice, and it was not within the scope of this volume of IEEE&#160;Std&#160;1003.1-2001 to define such a language and utility. If and when they are defined, it may be appropriate to include them in a future version of IEEE&#160;Std&#160;1003.1. This left the following alternatives:<dl>
<dt>
 1.</dt>
<dd>
Exclude any calculator language from this volume of IEEE&#160;Std&#160;1003.1-2001.</dd>
</dl>
<div class="spacer">
</div>
The consensus of the standard developers was that a simple programmatic calculator language is very useful for both applications and interactive users. The only arguments for excluding any calculator were that it would become obsolete if and when a C-compatible one emerged, or that the absence would encourage the development of such a C-compatible one. These arguments did not sufficiently address the needs of current application writers.<dl>
<dt>
 2.</dt>
<dd>
Standardize the historical <i>dc</i>, possibly with minor modifications.</dd>
</dl>
<div class="spacer">
</div>
The consensus of the standard developers was that <i>dc</i> is a fundamentally less usable language and that that would be far too severe a penalty for avoiding the issue of being similar to but incompatible with C.<dl>
<dt>
 3.</dt>
<dd>
Standardize the historical <i>bc</i>, possibly with minor modifications.</dd>
</dl>
<div class="spacer">
</div>
This was the approach taken. Most of the proponents of changing the language would not have been satisfied until most or all of the incompatibilities with C were resolved. Since most of the changes considered most desirable would break historical applications and require significant modification to historical implementations, almost no modifications were made. The one significant modification that was made was the replacement of the historical  <i>bc</i> assignment operators  <b>&quot;=+&quot;</b>, and so on, with the more modern  <b>&quot;+=&quot;</b>, and so on. The older versions are considered to be fundamentally flawed because of the lexical ambiguity in uses like  <i>a</i>=-1.<div class="spacer">
</div>
In order to permit implementations to deal with backwards-compatibility as they see fit, the behavior of this one ambiguous construct was made undefined. (At least three implementations have been known to support this change already, so the degree of change involved should not be great.)<div class="spacer">
</div>
The <b>'%'</b> operator is the mathematical remainder operator when  <b>scale</b> is zero. The behavior of this operator for other values of  <b>scale</b> is from historical implementations of  <i>bc</i>, and has been maintained for the sake of historical applications despite its non-intuitive nature.<div class="spacer">
</div>
Historical implementations permit setting <b>ibase</b> and <b>obase</b> to a broader range of values. This includes values less than 2, which were not seen as sufficiently useful to standardize. These implementations do not interpret input properly for values of  <b>ibase</b> that are greater than 16. This is because numeric constants are recognized syntactically, rather than lexically, as described in this volume of IEEE&#160;Std&#160;1003.1-2001. They are built from lexical tokens of single hexadecimal digits and periods. Since &lt;blank&gt;s between tokens are not visible at the syntactic level, it is not possible to recognize the multi-digit &quot;digits&quot; used in the higher bases properly. The ability to recognize input in these bases was not considered useful enough to require modifying these implementations. Note that the recognition of numeric constants at the syntactic level is not a problem with conformance to this volume of IEEE&#160;Std&#160;1003.1-2001, as it does not impact the behavior of conforming applications (and correct  <i>bc</i> programs). Historical implementations also accept input with all of the digits  <b>'0'</b> -  <b>'9'</b> and <b>'A'</b> - <b>'F'</b> regardless of the value of <b>ibase</b>; since digits with value greater than or equal to  <b>ibase</b> are not really appropriate, the behavior when they appear is undefined, except for the common case of:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>ibase=8;</b><br/>
<b>    /* Process in octal base. */</b><br/>
<b>...</b><br/>
<b>ibase=A</b><br/>
<b>    /* Restore decimal base. */</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
In some historical implementations, if the expression to be written is an uninitialized array element, a leading &lt;space&gt; and/or up to four leading 0 characters may be output before the character zero. This behavior is considered a bug; it is unlikely that any currently conforming application relies on:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>echo 'b[3]' | bc</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
returning 00000 rather than 0.<div class="spacer">
</div>
Exact calculation of the number of fractional digits to output for a given value in a base other than 10 can be computationally expensive. Historical implementations use a faster approximation, and this is permitted. Note that the requirements apply only to values of  <b>obase</b> that this volume of IEEE&#160;Std&#160;1003.1-2001 requires implementations to support (in particular, not to 1, 0, or negative bases, if an implementation supports them as an extension).<div class="spacer">
</div>
Historical implementations of <i>bc</i> did not allow array parameters to be passed as the last parameter to a function. New implementations are encouraged to remove this restriction even though it is not required by the grammar.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>Grammar Conventions</i>, <i>awk</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

