<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/static/man_pages/posix/style.css" type="text/css" media="all"/>
<title>
TEST(1P)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
TEST(1P)</td>
<td class="head-vol">
POSIX Programmer's Manual</td>
<td class="head-rtitle">
TEST(1P)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1>PROLOG</h1> This manual page is part of the POSIX Programmer's Manual. The Linux implementation of this interface may differ (consult the corresponding Linux manual page for details of Linux behavior), or the interface may not be implemented on Linux.</div>
<div class="section">
<h1>NAME</h1> test - evaluate expression</div>
<div class="section">
<h1>SYNOPSIS</h1>  <b>test</b> <b>[</b><i>expression</i><b>]</b><b></b><div style="height: 0.00em;">
&#160;</div>
<div style="height: 1.00em;">
&#160;</div>
[<b> </b><b>[</b><b></b><i>expression</i><b></b><b>]</b><b> </b><b>]</b><div style="height: 0.00em;">
&#160;</div>
<b></b></div>
<div class="section">
<h1>DESCRIPTION</h1> The  <i>test</i> utility shall evaluate the <i>expression</i> and indicate the result of the evaluation by its exit status. An exit status of zero indicates that the expression evaluated as true and an exit status of 1 indicates that the expression evaluated as false.<div class="spacer">
</div>
In the second form of the utility, which uses <b>&quot;[]&quot;</b> rather than  <i>test</i>, the application shall ensure that the square brackets are separate arguments.</div>
<div class="section">
<h1>OPTIONS</h1> The  <i>test</i> utility shall not recognize the <b>&quot;--&quot;</b> argument in the manner specified by guideline 10 in the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 12.2, Utility Syntax Guidelines.<div class="spacer">
</div>
No options shall be supported.</div>
<div class="section">
<h1>OPERANDS</h1> The application shall ensure that all operators and elements of primaries are presented as separate arguments to the  <i>test</i> utility.<div class="spacer">
</div>
The following primaries can be used to construct <i>expression</i>:<dl>
<dt>
<b>-b&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is a block special file.</dd>
</dl>
<dl>
<dt>
<b>-c&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is a character special file.</dd>
</dl>
<dl>
<dt>
<b>-d&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is a directory.</dd>
</dl>
<dl>
<dt>
<b>-e&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists.</dd>
</dl>
<dl>
<dt>
<b>-f&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is a regular file.</dd>
</dl>
<dl>
<dt>
<b>-g&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and its set-group-ID flag is set.</dd>
</dl>
<dl>
<dt>
<b>-h&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is a symbolic link.</dd>
</dl>
<dl>
<dt>
<b>-L&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is a symbolic link.</dd>
</dl>
<dl>
<dt>
<b>-n&#160;</b> <i>string</i></dt>
<dd>
True if the length of <i>string</i> is non-zero.</dd>
</dl>
<dl>
<dt>
<b>-p&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> is a FIFO.</dd>
</dl>
<dl>
<dt>
<b>-r&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is readable. True shall indicate that permission to read from  <i>file</i> will be granted, as defined in  <i>File Read, Write, and Creation</i> .</dd>
</dl>
<dl>
<dt>
<b>-S&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is a socket.</dd>
</dl>
<dl>
<dt>
<b>-s&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and has a size greater than zero.</dd>
</dl>
<dl>
<dt>
<b>-t&#160;</b> <i>file_descriptor</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
True if the file whose file descriptor number is <i>file_descriptor</i> is open and is associated with a terminal.</dd>
</dl>
<dl>
<dt>
<b>-u&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and its set-user-ID flag is set.</dd>
</dl>
<dl>
<dt>
<b>-w&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is writable. True shall indicate that permission to write from  <i>file</i> will be granted, as defined in  <i>File Read, Write, and Creation</i> .</dd>
</dl>
<dl>
<dt>
<b>-x&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is executable. True shall indicate that permission to execute  <i>file</i> will be granted, as defined in  <i>File Read, Write, and Creation</i> . If <i>file</i> is a directory, true shall indicate that permission to search  <i>file</i> will be granted.</dd>
</dl>
<dl>
<dt>
<b>-z&#160;</b> <i>string</i></dt>
<dd>
True if the length of string <i>string</i> is zero.</dd>
</dl>
<dl>
<dt>
<i>string</i></dt>
<dd>
True if the string <i>string</i> is not the null string.</dd>
</dl>
<dl>
<dt>
<i>s1</i><b>&#160;=&#160;</b> <i>s2</i></dt>
<dd>
True if the strings <i>s1</i> and <i>s2</i> are identical.</dd>
</dl>
<dl>
<dt>
<i>s1</i><b>&#160;!=&#160;</b> <i>s2</i></dt>
<dd>
True if the strings <i>s1</i> and <i>s2</i> are not identical.</dd>
</dl>
<dl>
<dt>
<i>n1</i><b>&#160;-eq&#160;</b> <i>n2</i></dt>
<dd>
True if the integers <i>n1</i> and <i>n2</i> are algebraically equal.</dd>
</dl>
<dl>
<dt>
<i>n1</i><b>&#160;-ne&#160;</b> <i>n2</i></dt>
<dd>
True if the integers <i>n1</i> and <i>n2</i> are not algebraically equal.</dd>
</dl>
<dl>
<dt>
<i>n1</i><b>&#160;-gt&#160;</b> <i>n2</i></dt>
<dd>
True if the integer <i>n1</i> is algebraically greater than the integer  <i>n2</i>.</dd>
</dl>
<dl>
<dt>
<i>n1</i><b>&#160;-ge&#160;</b> <i>n2</i></dt>
<dd>
True if the integer <i>n1</i> is algebraically greater than or equal to the integer  <i>n2</i>.</dd>
</dl>
<dl>
<dt>
<i>n1</i><b>&#160;-lt&#160;</b> <i>n2</i></dt>
<dd>
True if the integer <i>n1</i> is algebraically less than the integer  <i>n2</i>.</dd>
</dl>
<dl>
<dt>
<i>n1</i><b>&#160;-le&#160;</b> <i>n2</i></dt>
<dd>
True if the integer <i>n1</i> is algebraically less than or equal to the integer  <i>n2</i>.</dd>
</dl>
<dl>
<dt>
<i>expression1</i><b>&#160;-a&#160;</b> <i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
True if both <i>expression1</i> and <i>expression2</i> are true. The  <b>-a</b> binary primary is left associative. It has a higher precedence than  <b>-o</b>.</dd>
</dl>
<dl>
<dt>
<i>expression1</i><b>&#160;-o&#160;</b> <i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
True if either <i>expression1</i> or <i>expression2</i> is true. The  <b>-o</b> binary primary is left associative.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
With the exception of the <b>-h</b> <i>file</i> and <b>-L</b> <i>file</i> primaries, if a  <i>file</i> argument is a symbolic link,  <i>test</i> shall evaluate the expression by resolving the symbolic link and using the file referenced by the link.<div class="spacer">
</div>
These primaries can be combined with the following operators:<dl>
<dt>
<b>!&#160;</b> <i>expression</i></dt>
<dd>
True if <i>expression</i> is false.</dd>
</dl>
<dl>
<dt>
<b>(&#160;</b> <i>expression&#160;</i> <b>)</b></dt>
<dd>
True if <i>expression</i> is true. The parentheses can be used to alter the normal precedence and associativity.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The primaries with two elements of the form:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>-</b><i>primary_operator primary_operand</i><br/>
</div>
<div class="spacer">
</div>
are known as <i>unary primaries</i>. The primaries with three elements in either of the two forms:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<i>primary_operand</i> <b>-</b><i>primary_operator primary_operand</i><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
primary_operand primary_operator primary_operand<i></i><br/>
</div>
<div class="spacer">
</div>
are known as <i>binary primaries</i>. Additional implementation-defined operators and  <i>primary_operator</i>s may be provided by implementations. They shall be of the form -  <i>operator</i> where the first character of  <i>operator</i> is not a digit.<div class="spacer">
</div>
The algorithm for determining the precedence of the operators and the return value that shall be generated is based on the number of arguments presented to  <i>test</i>. (However, when using the  <b>&quot;[...]&quot;</b> form, the right-bracket final argument shall not be counted in this algorithm.)<div class="spacer">
</div>
In the following list, $1, $2, $3, and $4 represent the arguments presented to  <i>test</i>:<dl>
<dt>
0&#160;arguments:</dt>
<dd>
Exit false (1).</dd>
</dl>
<dl>
<dt>
1&#160;argument:</dt>
<dd>
Exit true (0) if $1 is not null; otherwise, exit false.</dd>
</dl>
<dl>
<dt>
2&#160;arguments:</dt>
<dd>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
 *</dt>
<dd>
If $1 is <b>'!'</b>, exit true if $2 is null, false if $2 is not null.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If $1 is a unary primary, exit true if the unary test is true, false if the unary test is false.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
Otherwise, produce unspecified results.</dd>
</dl>
</div>
<dl>
<dt>
3&#160;arguments:</dt>
<dd>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
 *</dt>
<dd>
If $2 is a binary primary, perform the binary test of $1 and $3.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If $1 is <b>'!'</b>, negate the two-argument test of $2 and $3.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If $1 is <b>'('</b> and $3 is <b>')'</b>, perform the unary test of $2.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
Otherwise, produce unspecified results.</dd>
</dl>
</div>
<dl>
<dt>
4&#160;arguments:</dt>
<dd>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl>
<dt>
 *</dt>
<dd>
If $1 is <b>'!'</b>, negate the three-argument test of $2, $3, and $4.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
If $1 is <b>'('</b> and $4 is <b>')'</b>, perform the two-argument test of $2 and $3.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
Otherwise, the results are unspecified.</dd>
</dl>
</div>
<dl>
<dt>
&gt;4&#160;arguments:</dt>
<dd>
The results are unspecified.</dd>
</dl>
<div class="spacer">
</div>
On XSI-conformant systems, combinations of primaries and operators shall be evaluated using the precedence and associativity rules described previously. In addition, the string comparison binary primaries  <b>'='</b> and <b>&quot;!=&quot;</b> shall have a higher precedence than any unary primary.<div style="height: 1.00em;">
&#160;</div>
</div>
<div class="section">
<h1>STDIN</h1> Not used.</div>
<div class="section">
<h1>INPUT FILES</h1> None.</div>
<div class="section">
<h1>ENVIRONMENT VARIABLES</h1> The following environment variables shall affect the execution of  <i>test</i>:<dl>
<dt>
<i>LANG</i></dt>
<dd>
Provide a default value for the internationalization variables that are unset or null. (See the Base Definitions volume of IEEE&#160;Std&#160;1003.1-2001, Section 8.2, Internationalization Variables for the precedence of internationalization variables used to determine the values of locale categories.)</dd>
</dl>
<dl>
<dt>
<i>LC_ALL</i></dt>
<dd>
If set to a non-empty string value, override the values of all the other internationalization variables.</dd>
</dl>
<dl>
<dt>
<i>LC_CTYPE</i></dt>
<dd>
Determine the locale for the interpretation of sequences of bytes of text data as characters (for example, single-byte as opposed to multi-byte characters in arguments).</dd>
</dl>
<dl>
<dt>
<i>LC_MESSAGES</i></dt>
<dd>
Determine the locale that should be used to affect the format and contents of diagnostic messages written to standard error.</dd>
</dl>
<dl>
<dt>
<i>NLSPATH</i></dt>
<dd>
Determine the location of message catalogs for the processing of <i>LC_MESSAGES</i>  <i>.</i><div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>ASYNCHRONOUS EVENTS</h1> Default.</div>
<div class="section">
<h1>STDOUT</h1> Not used.</div>
<div class="section">
<h1>STDERR</h1> The standard error shall be used only for diagnostic messages.</div>
<div class="section">
<h1>OUTPUT FILES</h1> None.</div>
<div class="section">
<h1>EXTENDED DESCRIPTION</h1> None.</div>
<div class="section">
<h1>EXIT STATUS</h1> The following exit values shall be returned:<dl>
<dt>
&#160;0</dt>
<dd>
<i>expression</i> evaluated to true.</dd>
</dl>
<dl>
<dt>
&#160;1</dt>
<dd>
<i>expression</i> evaluated to false or <i>expression</i> was missing.</dd>
</dl>
<dl>
<dt>
&gt;1</dt>
<dd>
An error occurred.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
</div>
<div class="section">
<h1>CONSEQUENCES OF ERRORS</h1> Default.<div class="spacer">
</div>
<i>The following sections are informative.</i></div>
<div class="section">
<h1>APPLICATION USAGE</h1> Scripts should be careful when dealing with user-supplied input that could be confused with primaries and operators. Unless the application writer knows all the cases that produce input to the script, invocations like:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test &quot;$1&quot; -a &quot;$2&quot;</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
should be written as:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test &quot;$1&quot; &amp;&amp; test &quot;$2&quot;</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
to avoid problems if a user supplied values such as $1 set to <b>'!'</b> and $2 set to the null string. That is, in cases where maximal portability is of concern, replace:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test expr1 -a expr2</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
with:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test expr1 &amp;&amp; test expr2</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
and replace:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test expr1 -o expr2</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
with:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test expr1 || test expr2</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
but note that, in <i>test</i>, <b>-a</b> has higher precedence than  <b>-o</b> while <b>&quot;&amp;&amp;&quot;</b> and <b>&quot;||&quot;</b> have equal precedence in the shell.<div class="spacer">
</div>
Parentheses or braces can be used in the shell command language to effect grouping.<div class="spacer">
</div>
Parentheses must be escaped when using <i>sh</i>; for example:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test \( expr1 -a expr2 \) -o expr3</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
This command is not always portable outside XSI-conformant systems. The following form can be used instead:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>( test expr1 &amp;&amp; test expr2 ) || test expr3</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
The two commands:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test &quot;$1&quot;</b><br/>
<b>test ! &quot;$1&quot;</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
could not be used reliably on some historical systems. Unexpected results would occur if such a  <i>string</i> expression were used and $1 expanded to  <b>'!'</b>, <b>'('</b>, or a known unary primary. Better constructs are:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test -n &quot;$1&quot;</b><br/>
<b>test -z &quot;$1&quot;</b><br/>
<b></b><br/>
</div>
respectively.<div class="spacer">
</div>
Historical systems have also been unreliable given the common construct:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test &quot;$response&quot; = &quot;expected string&quot;</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
One of the following is a more reliable form:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test &quot;X$response&quot; = &quot;Xexpected string&quot;</b><br/>
<b>test &quot;expected string&quot; = &quot;$response&quot;</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
Note that the second form assumes that <i>expected string</i> could not be confused with any unary primary. If  <i>expected</i>  <i>string</i> starts with <b>'-'</b>, <b>'('</b>, <b>'!'</b>, or even  <b>'='</b>, the first form should be used instead. Using the preceding rules without the XSI marked extensions, any of the three comparison forms is reliable, given any input. (However, note that the strings are quoted in all cases.)<div class="spacer">
</div>
Because the string comparison binary primaries, <b>'='</b> and <b>&quot;!=&quot;</b>, have a higher precedence than any unary primary in the greater than 4 argument case, unexpected results can occur if arguments are not properly prepared. For example, in:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test -d $1 -o -d $2</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
If $1 evaluates to a possible directory name of <b>'='</b>, the first three arguments are considered a string comparison, which shall cause a syntax error when the second  <b>-d</b> is encountered. One of the following forms prevents this; the second is preferred:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test \( -d &quot;$1&quot; \) -o \( -d &quot;$2&quot; \)</b><br/>
<b>test -d &quot;$1&quot; || test -d &quot;$2&quot;</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
Also in the greater than 4 argument case:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test &quot;$1&quot; = &quot;bat&quot; -a &quot;$2&quot; = &quot;ball&quot;</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
syntax errors occur if $1 evaluates to <b>'('</b> or <b>'!'</b> . One of the following forms prevents this; the third is preferred:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test &quot;X$1&quot; = &quot;Xbat&quot; -a &quot;X$2&quot; = &quot;Xball&quot;</b><br/>
<b>test &quot;$1&quot; = &quot;bat&quot; &amp;&amp; test &quot;$2&quot; = &quot;ball&quot;</b><br/>
<b>test &quot;X$1&quot; = &quot;Xbat&quot; &amp;&amp; test &quot;X$2&quot; = &quot;Xball&quot;</b><br/>
<b></b><br/>
</div>
</div>
<div class="section">
<h1>EXAMPLES</h1><dl>
<dt>
 1.</dt>
<dd>
Exit if there are not two or three arguments (two variations):<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>if [ $# -ne 2 -a $# -ne 3 ]; then exit 1; fi</b><br/>
<b>if [ $# -lt 2 -o $# -gt 3 ]; then exit 1; fi</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
 2.</dt>
<dd>
Perform a <i>mkdir</i> if a directory does not exist:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test ! -d tempdir &amp;&amp; mkdir tempdir</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
 3.</dt>
<dd>
Wait for a file to become non-readable:<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>while test -r thefile</b><br/>
<b>do</b><br/>
<b>    sleep 30</b><br/>
<b>done</b><br/>
<b>echo '&quot;thefile&quot; is no longer readable'</b><br/>
<b></b><br/>
</div>
<dl>
<dt>
 4.</dt>
<dd>
Perform a command if the argument is one of three strings (two variations):<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>if [ &quot;$1&quot; = &quot;pear&quot; ] || [ &quot;$1&quot; = &quot;grape&quot; ] || [ &quot;$1&quot; = &quot;apple&quot; ]</b><br/>
<b>then</b><br/>
<b>   </b> <i>command</i><b></b><br/>
<b>fi</b><div style="height: 1.00em;">
&#160;</div>
<div class="spacer">
</div>
<br/>
case &quot;$1&quot; in<br/>
    pear|grape|apple)<b> </b><i>command</i><b> </b><b>;;</b><br/>
<b>esac</b><br/>
<b></b><b></b><br/>
</div>
</div>
<div class="section">
<h1>RATIONALE</h1> The KornShell-derived conditional command (double bracket  <b>[[]]</b>) was removed from the shell command language description in an early proposal. Objections were raised that the real problem is misuse of the  <i>test</i> command ( <b>[</b>), and putting it into the shell is the wrong way to fix the problem. Instead, proper documentation and a new shell reserved word (  <b>!</b>) are sufficient.<div class="spacer">
</div>
Tests that require multiple <i>test</i> operations can be done at the shell level using individual invocations of the  <i>test</i> command and shell logicals, rather than using the error-prone  <b>-o</b> flag of <i>test</i>.<div class="spacer">
</div>
XSI-conformant systems support more than four arguments.<div class="spacer">
</div>
XSI-conformant systems support the combining of primaries with the following constructs:<dl>
<dt>
<i>expression1</i> <b>-a</b> <i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
True if both <i>expression1</i> and <i>expression2</i> are true.</dd>
</dl>
<dl>
<dt>
<i>expression1</i> <b>-o</b> <i>expression2</i></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
True if at least one of <i>expression1</i> and <i>expression2</i> are true.</dd>
</dl>
<dl>
<dt>
<b>(</b> <i>expression</i> <b>)</b></dt>
<dd>
<div style="height: 1.00em;">
&#160;</div>
True if <i>expression</i> is true.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
In evaluating these more complex combined expressions, the following precedence rules are used:<dl>
<dt>
 *</dt>
<dd>
The unary primaries have higher precedence than the algebraic binary primaries.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The unary primaries have lower precedence than the string binary primaries.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The unary and binary primaries have higher precedence than the unary  <i>string</i> primary.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The <b>!</b> operator has higher precedence than the <b>-a</b> operator, and the  <b>-a</b> operator has higher precedence than the  <b>-o</b> operator.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The <b>-a</b> and <b>-o</b> operators are left associative.</dd>
</dl>
<dl>
<dt>
 *</dt>
<dd>
The parentheses can be used to alter the normal precedence and associativity.</dd>
</dl>
<div class="spacer">
</div>
The BSD and System V versions of <b>-f</b> are not the same. The BSD definition was:<dl>
<dt>
<b>-f&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and is not a directory.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The SVID version (true if the file exists and is a regular file) was chosen for this volume of IEEE&#160;Std&#160;1003.1-2001 because its use is consistent with the  <b>-b</b>, <b>-c</b>, <b>-d</b>, and  <b>-p</b> operands ( <i>file</i> exists and is a specific file type).<div class="spacer">
</div>
The <b>-e</b> primary, possessing similar functionality to that provided by the C shell, was added because it provides the only way for a shell script to find out if a file exists without trying to open the file. Since implementations are allowed to add additional file types, a portable script cannot use:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test -b foo -o -c foo -o -d foo -o -f foo -o -p foo</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
to find out if <b>foo</b> is an existing file. On historical BSD systems, the existence of a file could be determined by:<div style="height: 1.00em;">
&#160;</div>
<div style="margin-left: 5.00ex;">
<div class="spacer">
</div>
<br/>
<b>test -f foo -o -d foo</b><br/>
<b></b><br/>
</div>
<div class="spacer">
</div>
but there was no easy way to determine that an existing file was a regular file. An early proposal used the KornShell  <b>-a</b> primary (with the same meaning), but this was changed to  <b>-e</b> because there were concerns about the high probability of humans confusing the  <b>-a</b> primary with the <b>-a</b> binary operator.<div class="spacer">
</div>
The following options were not included in this volume of IEEE&#160;Std&#160;1003.1-2001, although they are provided by some implementations. These operands should not be used by new implementations for other purposes:<dl>
<dt>
<b>-k&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> exists and its sticky bit is set.</dd>
</dl>
<dl>
<dt>
<b>-C&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> is a contiguous file.</dd>
</dl>
<dl>
<dt>
<b>-V&#160;</b> <i>file</i></dt>
<dd>
True if <i>file</i> is a version file.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The following option was not included because it was undocumented in most implementations, has been removed from some implementations (including System V), and the functionality is provided by the shell (see  <i>Parameter Expansion</i> .<dl>
<dt>
<b>-l&#160;</b> <i>string</i></dt>
<dd>
The length of the string <i>string</i>.<div style="height: 1.00em;">
&#160;</div>
</dd>
</dl>
<div class="spacer">
</div>
The <b>-b</b>, <b>-c</b>, <b>-g</b>, <b>-p</b>, <b>-u</b>, and <b>-x</b> operands are derived from the SVID; historical BSD does not provide them. The  <b>-k</b> operand is derived from System V; historical BSD does not provide it.<div class="spacer">
</div>
On historical BSD systems, <i>test</i> <b>-w</b> <i>directory</i> always returned false because  <i>test</i> tried to open the directory for writing, which always fails.<div class="spacer">
</div>
Some additional primaries newly invented or from the KornShell appeared in an early proposal as part of the conditional command (  <b>[[]]</b>): <i>s1</i> <b>&gt;</b> <i>s2</i>, <i>s1</i> <b>&lt;</b> <i>s2</i>,  <i>str</i> <b>=</b> <i>pattern</i>, <i>str</i>  <b>!=</b> <i>pattern</i>, <i>f1</i> <b>-nt</b> <i>f2</i>, <i>f1</i> <b>-ot</b>  <i>f2</i>, and <i>f1</i> <b>-ef</b> <i>f2</i>. They were not carried forward into the  <i>test</i> utility when the conditional command was removed from the shell because they have not been included in the  <i>test</i> utility built into historical implementations of the  <i>sh</i> utility.<div class="spacer">
</div>
The <b>-t</b> <i>file_descriptor</i> primary is shown with a mandatory argument because the grammar is ambiguous if it can be omitted. Historical implementations have allowed it to be omitted, providing a default of 1.</div>
<div class="section">
<h1>FUTURE DIRECTIONS</h1> None.</div>
<div class="section">
<h1>SEE ALSO</h1>  <i>File Read, Write, and Creation</i>, <i>find</i></div>
<div class="section">
<h1>COPYRIGHT</h1> Portions of this text are reprinted and reproduced in electronic form from IEEE Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between this version and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html .</div>
<table class="foot">
<tr>
<td class="foot-date">
2003</td>
<td class="foot-os">
IEEE/The Open Group</td>
</tr>
</table>
</div>
</body>
</html>

